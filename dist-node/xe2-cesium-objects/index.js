/*! For license information please see index.js.LICENSE.txt */
(()=>{var e={25913:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(51208)),i=r(n(93737)),a=r(n(31013)),s=n(84102),l=n(10611);t.default=function(e,t,n){void 0===n&&(n={});for(var r=l.getGeom(e).coordinates,u=0,c=0;c<r.length&&!(t>=u&&c===r.length-1);c++){if(u>=t){var p=t-u;if(p){var f=o.default(r[c],r[c-1])-180;return i.default(r[c],p,f,n)}return s.point(r[c])}u+=a.default(r[c],r[c+1],n)}return s.point(r[r.length-1])}},8517:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(51208)),i=n(84102),a=r(n(16912));t.default=function(e,t,n,r){if(void 0===r&&(r={}),!i.isObject(r))throw new Error("options is invalid");if(!e)throw new Error("startPoint is required");if(!t)throw new Error("midPoint is required");if(!n)throw new Error("endPoint is required");var s=e,l=t,u=n,c=i.bearingToAzimuth(!0!==r.mercator?o.default(s,l):a.default(s,l)),p=i.bearingToAzimuth(!0!==r.mercator?o.default(u,l):a.default(u,l)),f=Math.abs(c-p);return!0===r.explementary?360-f:f}},41070:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31540),o=6378137;function i(e){var t=0;if(e&&e.length>0){t+=Math.abs(a(e[0]));for(var n=1;n<e.length;n++)t-=Math.abs(a(e[n]))}return t}function a(e){var t,n,r,i,a,l,u=0,c=e.length;if(c>2){for(l=0;l<c;l++)l===c-2?(r=c-2,i=c-1,a=0):l===c-1?(r=c-1,i=0,a=1):(r=l,i=l+1,a=l+2),t=e[r],n=e[i],u+=(s(e[a][0])-s(t[0]))*Math.sin(s(n[1]));u=u*o*o/2}return u}function s(e){return e*Math.PI/180}t.default=function(e){return r.geomReduce(e,(function(e,t){return e+function(e){var t,n=0;switch(e.type){case"Polygon":return i(e.coordinates);case"MultiPolygon":for(t=0;t<e.coordinates.length;t++)n+=i(e.coordinates[t]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(t)}),0)}},30173:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(84102),o=n(10611),i=n(41383);function a(e,t){for(var n=[],r=0,o=e;r<o.length;r++){var a=o[r],s=i.polygonclip(a,t);s.length>0&&(s[0][0]===s[s.length-1][0]&&s[0][1]===s[s.length-1][1]||s.push(s[0]),s.length>=4&&n.push(s))}return n}t.default=function(e,t){var n=o.getGeom(e),s=n.type,l="Feature"===e.type?e.properties:{},u=n.coordinates;switch(s){case"LineString":case"MultiLineString":var c=[];return"LineString"===s&&(u=[u]),u.forEach((function(e){i.lineclip(e,t,c)})),1===c.length?r.lineString(c[0],l):r.multiLineString(c,l);case"Polygon":return r.polygon(a(u,t),l);case"MultiPolygon":return r.multiPolygon(u.map((function(e){return a(e,t)})),l);default:throw new Error("geometry "+s+" not supported")}}},41383:(e,t)=>{"use strict";function n(e,t,n,r){return 8&n?[e[0]+(t[0]-e[0])*(r[3]-e[1])/(t[1]-e[1]),r[3]]:4&n?[e[0]+(t[0]-e[0])*(r[1]-e[1])/(t[1]-e[1]),r[1]]:2&n?[r[2],e[1]+(t[1]-e[1])*(r[2]-e[0])/(t[0]-e[0])]:1&n?[r[0],e[1]+(t[1]-e[1])*(r[0]-e[0])/(t[0]-e[0])]:null}function r(e,t){var n=0;return e[0]<t[0]?n|=1:e[0]>t[2]&&(n|=2),e[1]<t[1]?n|=4:e[1]>t[3]&&(n|=8),n}Object.defineProperty(t,"__esModule",{value:!0}),t.lineclip=function(e,t,o){var i,a,s,l,u,c=e.length,p=r(e[0],t),f=[];for(o||(o=[]),i=1;i<c;i++){for(l=e[i-1],a=s=r(u=e[i],t);;){if(!(p|a)){f.push(l),a!==s?(f.push(u),i<c-1&&(o.push(f),f=[])):i===c-1&&f.push(u);break}if(p&a)break;p?p=r(l=n(l,u,p,t),t):a=r(u=n(l,u,a,t),t)}p=s}return f.length&&o.push(f),o},t.polygonclip=function(e,t){var o,i,a,s,l,u,c;for(i=1;i<=8;i*=2){for(o=[],s=!(r(a=e[e.length-1],t)&i),l=0;l<e.length;l++)(c=!(r(u=e[l],t)&i))!==s&&o.push(n(a,u,i,t)),c&&o.push(u),a=u,s=c;if(!(e=o).length)break}return o}},13652:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(84102);t.default=function(e,t){void 0===t&&(t={});var n=Number(e[0]),o=Number(e[1]),i=Number(e[2]),a=Number(e[3]);if(6===e.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var s=[n,o],l=[n,a],u=[i,a],c=[i,o];return r.polygon([[s,c,u,l,s]],t.properties,{bbox:e,id:t.id})}},9705:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31540);function o(e){var t=[1/0,1/0,-1/0,-1/0];return r.coordEach(e,(function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])})),t}o.default=o,t.default=o},51208:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(84102),o=n(10611);t.default=function e(t,n,i){if(void 0===i&&(i={}),!0===i.final)return function(t,n){var r=e(n,t);return(r+180)%360}(t,n);var a=o.getCoord(t),s=o.getCoord(n),l=r.degreesToRadians(a[0]),u=r.degreesToRadians(s[0]),c=r.degreesToRadians(a[1]),p=r.degreesToRadians(s[1]),f=Math.sin(u-l)*Math.cos(p),d=Math.cos(c)*Math.sin(p)-Math.sin(c)*Math.cos(p)*Math.cos(u-l);return r.radiansToDegrees(Math.atan2(f,d))}},97478:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(84102),i=n(10611),a=r(n(50915));t.default=function(e,t){void 0===t&&(t={});for(var n=t.resolution||1e4,r=t.sharpness||.85,s=[],l=i.getGeom(e).coordinates.map((function(e){return{x:e[0],y:e[1]}})),u=new a.default({duration:n,points:l,sharpness:r}),c=function(e){var t=u.pos(e);Math.floor(e/100)%2==0&&s.push([t.x,t.y])},p=0;p<u.duration;p+=10)c(p);return c(u.duration),o.lineString(s,t.properties)}},50915:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.points=e.points||[],this.duration=e.duration||1e4,this.sharpness=e.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=e.stepLength||60,this.length=this.points.length,this.delay=0;for(var t=0;t<this.length;t++)this.points[t].z=this.points[t].z||0;for(t=0;t<this.length-1;t++){var n=this.points[t],r=this.points[t+1];this.centers.push({x:(n.x+r.x)/2,y:(n.y+r.y)/2,z:(n.z+r.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),t=0;t<this.centers.length-1;t++){var o=this.points[t+1].x-(this.centers[t].x+this.centers[t+1].x)/2,i=this.points[t+1].y-(this.centers[t].y+this.centers[t+1].y)/2,a=this.points[t+1].z-(this.centers[t].y+this.centers[t+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[t+1].x+this.sharpness*(this.centers[t].x+o),y:(1-this.sharpness)*this.points[t+1].y+this.sharpness*(this.centers[t].y+i),z:(1-this.sharpness)*this.points[t+1].z+this.sharpness*(this.centers[t].z+a)},{x:(1-this.sharpness)*this.points[t+1].x+this.sharpness*(this.centers[t+1].x+o),y:(1-this.sharpness)*this.points[t+1].y+this.sharpness*(this.centers[t+1].y+i),z:(1-this.sharpness)*this.points[t+1].z+this.sharpness*(this.centers[t+1].z+a)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}return e.prototype.cacheSteps=function(e){var t=[],n=this.pos(0);t.push(0);for(var r=0;r<this.duration;r+=10){var o=this.pos(r);Math.sqrt((o.x-n.x)*(o.x-n.x)+(o.y-n.y)*(o.y-n.y)+(o.z-n.z)*(o.z-n.z))>e&&(t.push(r),n=o)}return t},e.prototype.vector=function(e){var t=this.pos(e+10),n=this.pos(e-10);return{angle:180*Math.atan2(t.y-n.y,t.x-n.x)/3.14,speed:Math.sqrt((n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y)+(n.z-t.z)*(n.z-t.z))}},e.prototype.pos=function(e){var t=e-this.delay;t<0&&(t=0),t>this.duration&&(t=this.duration-1);var n=t/this.duration;if(n>=1)return this.points[this.length-1];var r=Math.floor((this.points.length-1)*n);return function(e,t,n,r,o){var i=function(e){var t=e*e;return[t*e,3*t*(1-e),3*e*(1-e)*(1-e),(1-e)*(1-e)*(1-e)]}(e);return{x:o.x*i[0]+r.x*i[1]+n.x*i[2]+t.x*i[3],y:o.y*i[0]+r.y*i[1]+n.y*i[2]+t.y*i[3],z:o.z*i[0]+r.z*i[1]+n.z*i[2]+t.z*i[3]}}((this.length-1)*n-r,this.points[r],this.controls[r][1],this.controls[r+1][0],this.points[r+1])},e}();t.default=n},3809:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10611);t.default=function(e){for(var t,n,o=r.getCoords(e),i=0,a=1;a<o.length;)t=n||o[0],i+=((n=o[a])[0]-t[0])*(n[1]+t[1]),a++;return i>0}},72584:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(9705)),i=r(n(88147)),a=r(n(72793)),s=n(10611);function l(e,t){var n,r=!1;for(n=0;n<e.coordinates.length;n++)if(g(e.coordinates[n],t.coordinates)){r=!0;break}return r}function u(e,t){for(var n=0,r=t.coordinates;n<r.length;n++){for(var o=r[n],i=!1,a=0,s=e.coordinates;a<s.length;a++)if(g(o,s[a])){i=!0;break}if(!i)return!1}return!0}function c(e,t){for(var n=!1,r=0,o=t.coordinates;r<o.length;r++){var i=o[r];if(a.default(i,e,{ignoreEndVertices:!0})&&(n=!0),!a.default(i,e))return!1}return!!n}function p(e,t){for(var n=0,r=t.coordinates;n<r.length;n++){var o=r[n];if(!i.default(o,e,{ignoreBoundary:!0}))return!1}return!0}function f(e,t){for(var n=!1,r=0,o=t.coordinates;r<o.length;r++){var i=o[r];if(a.default({type:"Point",coordinates:i},e,{ignoreEndVertices:!0})&&(n=!0),!a.default({type:"Point",coordinates:i},e,{ignoreEndVertices:!1}))return!1}return n}function d(e,t){var n=!1,r=0;if(!y(o.default(e),o.default(t)))return!1;for(;r<t.coordinates.length-1;r++){var a=m(t.coordinates[r],t.coordinates[r+1]);if(i.default({type:"Point",coordinates:a},e,{ignoreBoundary:!0})){n=!0;break}}return n}function h(e,t){if("Feature"===e.type&&null===e.geometry)return!1;if("Feature"===t.type&&null===t.geometry)return!1;if(!y(o.default(e),o.default(t)))return!1;for(var n=0,r=s.getGeom(t).coordinates;n<r.length;n++)for(var a=0,l=r[n];a<l.length;a++){var u=l[a];if(!i.default(u,e))return!1}return!0}function y(e,t){return!(e[0]>t[0]||e[2]<t[2]||e[1]>t[1]||e[3]<t[3])}function g(e,t){return e[0]===t[0]&&e[1]===t[1]}function m(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]}t.default=function(e,t){var n=s.getGeom(e),r=s.getGeom(t),o=n.type,y=r.type,m=n.coordinates,v=r.coordinates;switch(o){case"Point":if("Point"===y)return g(m,v);throw new Error("feature2 "+y+" geometry not supported");case"MultiPoint":switch(y){case"Point":return l(n,r);case"MultiPoint":return u(n,r);default:throw new Error("feature2 "+y+" geometry not supported")}case"LineString":switch(y){case"Point":return a.default(r,n,{ignoreEndVertices:!0});case"LineString":return f(n,r);case"MultiPoint":return c(n,r);default:throw new Error("feature2 "+y+" geometry not supported")}case"Polygon":switch(y){case"Point":return i.default(r,n,{ignoreBoundary:!0});case"LineString":return d(n,r);case"Polygon":return h(n,r);case"MultiPoint":return p(n,r);default:throw new Error("feature2 "+y+" geometry not supported")}default:throw new Error("feature1 "+o+" geometry not supported")}},t.isPointInMultiPoint=l,t.isMultiPointInMultiPoint=u,t.isMultiPointOnLine=c,t.isMultiPointInPoly=p,t.isLineOnLine=f,t.isLineInPoly=d,t.isPolyInPoly=h,t.doBBoxOverlap=y,t.compareCoords=g,t.getMidpoint=m},17656:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(73663)),i=n(97383),a=r(n(88147)),s=n(10611),l=n(84102);function u(e,t){for(var n=!1,r=!1,o=e.coordinates.length,i=0;i<o&&!n&&!r;){for(var a=0;a<t.coordinates.length-1;a++){var s=!0;0!==a&&a!==t.coordinates.length-2||(s=!1),f(t.coordinates[a],t.coordinates[a+1],e.coordinates[i],s)?n=!0:r=!0}i++}return n&&r}function c(e,t){var n=i.polygonToLine(t);return o.default(e,n).features.length>0}function p(e,t){for(var n=!1,r=!1,o=e.coordinates.length,i=0;i<o&&(!n||!r);i++)a.default(l.point(e.coordinates[i]),t)?n=!0:r=!0;return r&&n}function f(e,t,n,r){var o=n[0]-e[0],i=n[1]-e[1],a=t[0]-e[0],s=t[1]-e[1];return 0==o*s-i*a&&(r?Math.abs(a)>=Math.abs(s)?a>0?e[0]<=n[0]&&n[0]<=t[0]:t[0]<=n[0]&&n[0]<=e[0]:s>0?e[1]<=n[1]&&n[1]<=t[1]:t[1]<=n[1]&&n[1]<=e[1]:Math.abs(a)>=Math.abs(s)?a>0?e[0]<n[0]&&n[0]<t[0]:t[0]<n[0]&&n[0]<e[0]:s>0?e[1]<n[1]&&n[1]<t[1]:t[1]<n[1]&&n[1]<e[1])}t.default=function(e,t){var n=s.getGeom(e),r=s.getGeom(t),i=n.type,a=r.type;switch(i){case"MultiPoint":switch(a){case"LineString":return u(n,r);case"Polygon":return p(n,r);default:throw new Error("feature2 "+a+" geometry not supported")}case"LineString":switch(a){case"MultiPoint":return u(r,n);case"LineString":return function(e,t){if(o.default(e,t).features.length>0)for(var n=0;n<e.coordinates.length-1;n++)for(var r=0;r<t.coordinates.length-1;r++){var i=!0;if(0!==r&&r!==t.coordinates.length-2||(i=!1),f(e.coordinates[n],e.coordinates[n+1],t.coordinates[r],i))return!0}return!1}(n,r);case"Polygon":return c(n,r);default:throw new Error("feature2 "+a+" geometry not supported")}case"Polygon":switch(a){case"MultiPoint":return p(r,n);case"LineString":return c(r,n);default:throw new Error("feature2 "+a+" geometry not supported")}default:throw new Error("feature1 "+i+" geometry not supported")}}},55883:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(88147)),i=r(n(73663)),a=n(31540),s=r(n(97383));function l(e,t){for(var n=0;n<e.coordinates.length-1;n++)if(c(e.coordinates[n],e.coordinates[n+1],t.coordinates))return!0;return!1}function u(e,t){for(var n=0,r=t.coordinates;n<r.length;n++){var a=r[n];if(o.default(a,e))return!0}return i.default(t,s.default(e)).features.length>0}function c(e,t,n){var r=n[0]-e[0],o=n[1]-e[1],i=t[0]-e[0],a=t[1]-e[1];return 0==r*a-o*i&&(Math.abs(i)>=Math.abs(a)?i>0?e[0]<=n[0]&&n[0]<=t[0]:t[0]<=n[0]&&n[0]<=e[0]:a>0?e[1]<=n[1]&&n[1]<=t[1]:t[1]<=n[1]&&n[1]<=e[1])}t.default=function(e,t){var n=!0;return a.flattenEach(e,(function(e){a.flattenEach(t,(function(t){if(!1===n)return!1;n=function(e,t){switch(e.type){case"Point":switch(t.type){case"Point":return a=e.coordinates,c=t.coordinates,!(a[0]===c[0]&&a[1]===c[1]);case"LineString":return!l(t,e);case"Polygon":return!o.default(e,t)}break;case"LineString":switch(t.type){case"Point":return!l(e,t);case"LineString":return n=e,r=t,!(i.default(n,r).features.length>0);case"Polygon":return!u(t,e)}break;case"Polygon":switch(t.type){case"Point":return!o.default(t,e);case"LineString":return!u(e,t);case"Polygon":return!function(e,t){for(var n=0,r=e.coordinates[0];n<r.length;n++){var a=r[n];if(o.default(a,t))return!0}for(var l=0,u=t.coordinates[0];l<u.length;l++){var c=u[l];if(o.default(c,e))return!0}return i.default(s.default(e),s.default(t)).features.length>0}(t,e)}}var n,r,a,c;return!1}(e.geometry,t.geometry)}))})),n}},39482:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(29657)),i=r(n(71435)),a=n(10611);t.default=function(e,t){return a.getGeom(e).type===a.getGeom(t).type&&new o.default({precision:6}).compare(i.default(e),i.default(t))}},84255:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(55883)),i=n(31540);t.default=function(e,t){var n=!1;return i.flattenEach(e,(function(e){i.flattenEach(t,(function(t){if(!0===n)return!0;n=!o.default(e.geometry,t.geometry)}))})),n}},57612:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(31540),i=n(10611),a=r(n(90273)),s=r(n(73663)),l=r(n(29657));t.default=function(e,t){var n=i.getGeom(e),r=i.getGeom(t),u=n.type,c=r.type;if("MultiPoint"===u&&"MultiPoint"!==c||("LineString"===u||"MultiLineString"===u)&&"LineString"!==c&&"MultiLineString"!==c||("Polygon"===u||"MultiPolygon"===u)&&"Polygon"!==c&&"MultiPolygon"!==c)throw new Error("features must be of the same type");if("Point"===u)throw new Error("Point geometry not supported");if(new l.default({precision:6}).compare(e,t))return!1;var p=0;switch(u){case"MultiPoint":for(var f=0;f<n.coordinates.length;f++)for(var d=0;d<r.coordinates.length;d++){var h=n.coordinates[f],y=r.coordinates[d];if(h[0]===y[0]&&h[1]===y[1])return!0}return!1;case"LineString":case"MultiLineString":o.segmentEach(e,(function(e){o.segmentEach(t,(function(t){a.default(e,t).features.length&&p++}))}));break;case"Polygon":case"MultiPolygon":o.segmentEach(e,(function(e){o.segmentEach(t,(function(t){s.default(e,t).features.length&&p++}))}))}return p>0}},24840:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(71435)),i=r(n(54590)),a=r(n(16912)),s=n(84102);function l(e,t){return s.bearingToAzimuth(a.default(e[0],e[1]))===s.bearingToAzimuth(a.default(t[0],t[1]))}function u(e,t){if(e.geometry&&e.geometry.type)return e.geometry.type;if(e.type)return e.type;throw new Error("Invalid GeoJSON object for "+t)}t.default=function(e,t){if(!e)throw new Error("line1 is required");if(!t)throw new Error("line2 is required");if("LineString"!==u(e,"line1"))throw new Error("line1 must be a LineString");if("LineString"!==u(t,"line2"))throw new Error("line2 must be a LineString");for(var n=i.default(o.default(e)).features,r=i.default(o.default(t)).features,a=0;a<n.length;a++){var s=n[a].geometry.coordinates;if(!r[a])break;if(!l(s,r[a].geometry.coordinates))return!1}return!0}},88147:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10611);function o(e,t,n){var r=!1;t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]&&(t=t.slice(0,t.length-1));for(var o=0,i=t.length-1;o<t.length;i=o++){var a=t[o][0],s=t[o][1],l=t[i][0],u=t[i][1];if(e[1]*(a-l)+s*(l-e[0])+u*(e[0]-a)==0&&(a-e[0])*(l-e[0])<=0&&(s-e[1])*(u-e[1])<=0)return!n;s>e[1]!=u>e[1]&&e[0]<(l-a)*(e[1]-s)/(u-s)+a&&(r=!r)}return r}t.default=function(e,t,n){if(void 0===n&&(n={}),!e)throw new Error("point is required");if(!t)throw new Error("polygon is required");var i=r.getCoord(e),a=r.getGeom(t),s=a.type,l=t.bbox,u=a.coordinates;if(l&&!1===function(e,t){return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}(i,l))return!1;"Polygon"===s&&(u=[u]);for(var c=!1,p=0;p<u.length&&!c;p++)if(o(i,u[p][0],n.ignoreBoundary)){for(var f=!1,d=1;d<u[p].length&&!f;)o(i,u[p][d],!n.ignoreBoundary)&&(f=!0),d++;f||(c=!0)}return c}},72793:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10611);function o(e,t,n,r,o){var i=n[0],a=n[1],s=e[0],l=e[1],u=t[0],c=t[1],p=u-s,f=c-l,d=(n[0]-s)*f-(n[1]-l)*p;if(null!==o){if(Math.abs(d)>o)return!1}else if(0!==d)return!1;return r?"start"===r?Math.abs(p)>=Math.abs(f)?p>0?s<i&&i<=u:u<=i&&i<s:f>0?l<a&&a<=c:c<=a&&a<l:"end"===r?Math.abs(p)>=Math.abs(f)?p>0?s<=i&&i<u:u<i&&i<=s:f>0?l<=a&&a<c:c<a&&a<=l:"both"===r&&(Math.abs(p)>=Math.abs(f)?p>0?s<i&&i<u:u<i&&i<s:f>0?l<a&&a<c:c<a&&a<l):Math.abs(p)>=Math.abs(f)?p>0?s<=i&&i<=u:u<=i&&i<=s:f>0?l<=a&&a<=c:c<=a&&a<=l}t.default=function(e,t,n){void 0===n&&(n={});for(var i=r.getCoord(e),a=r.getCoords(t),s=0;s<a.length-1;s++){var l=!1;if(n.ignoreEndVertices&&(0===s&&(l="start"),s===a.length-2&&(l="end"),0===s&&s+1===a.length-1&&(l="both")),o(a[s],a[s+1],i,l,void 0===n.epsilon?null:n.epsilon))return!0}return!1}},45184:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(9705)),i=r(n(72793)),a=r(n(88147)),s=n(10611);function l(e,t){return!(e[0]>t[0]||e[2]<t[2]||e[1]>t[1]||e[3]<t[3])}function u(e,t){return e[0]===t[0]&&e[1]===t[1]}t.default=function(e,t){var n=s.getGeom(e),r=s.getGeom(t),c=n.type,p=r.type;switch(c){case"Point":switch(p){case"MultiPoint":return function(e,t){var n,r=!1;for(n=0;n<t.coordinates.length;n++)if(u(t.coordinates[n],e.coordinates)){r=!0;break}return r}(n,r);case"LineString":return i.default(n,r,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return a.default(n,r,{ignoreBoundary:!0});default:throw new Error("feature2 "+p+" geometry not supported")}case"MultiPoint":switch(p){case"MultiPoint":return function(e,t){for(var n=0;n<e.coordinates.length;n++){for(var r=!1,o=0;o<t.coordinates.length;o++)u(e.coordinates[n],t.coordinates[o])&&(r=!0);if(!r)return!1}return!0}(n,r);case"LineString":return function(e,t){for(var n=!1,r=0;r<e.coordinates.length;r++){if(!i.default(e.coordinates[r],t))return!1;n||(n=i.default(e.coordinates[r],t,{ignoreEndVertices:!0}))}return n}(n,r);case"Polygon":case"MultiPolygon":return function(e,t){for(var n=!0,r=!1,o=0;o<e.coordinates.length;o++){if(!(r=a.default(e.coordinates[1],t))){n=!1;break}r=a.default(e.coordinates[1],t,{ignoreBoundary:!0})}return n&&r}(n,r);default:throw new Error("feature2 "+p+" geometry not supported")}case"LineString":switch(p){case"LineString":return function(e,t){for(var n=0;n<e.coordinates.length;n++)if(!i.default(e.coordinates[n],t))return!1;return!0}(n,r);case"Polygon":case"MultiPolygon":return function(e,t){var n,r;if(!l(o.default(t),o.default(e)))return!1;for(var i=!1,s=0;s<e.coordinates.length-1;s++){if(!a.default(e.coordinates[s],t))return!1;if(i||(i=a.default(e.coordinates[s],t,{ignoreBoundary:!0})),!i){var u=(n=e.coordinates[s],r=e.coordinates[s+1],[(n[0]+r[0])/2,(n[1]+r[1])/2]);i=a.default(u,t,{ignoreBoundary:!0})}}return i}(n,r);default:throw new Error("feature2 "+p+" geometry not supported")}case"Polygon":switch(p){case"Polygon":case"MultiPolygon":return function(e,t){var n=o.default(e);if(!l(o.default(t),n))return!1;for(var r=0;r<e.coordinates[0].length;r++)if(!a.default(e.coordinates[0][r],t))return!1;return!0}(n,r);default:throw new Error("feature2 "+p+" geometry not supported")}default:throw new Error("feature1 "+c+" geometry not supported")}}},35419:(e,t,n)=>{"use strict";var r=n(78230),o=n(25214),i=n(31540),a=n(41688),s=n(84102);function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=l(r);function c(e,t,n){var r=(n=n||{}).units||"kilometers",o=n.steps||8;if(!e)throw new Error("geojson is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof o)throw new Error("steps must be an number");if(void 0===t)throw new Error("radius is required");if(o<=0)throw new Error("steps must be greater than 0");var a=[];switch(e.type){case"GeometryCollection":return i.geomEach(e,(function(e){var n=p(e,t,r,o);n&&a.push(n)})),s.featureCollection(a);case"FeatureCollection":return i.featureEach(e,(function(e){var n=p(e,t,r,o);n&&i.featureEach(n,(function(e){e&&a.push(e)}))})),s.featureCollection(a)}return p(e,t,r,o)}function p(e,t,n,r){var l=e.properties||{},c="Feature"===e.type?e.geometry:e;if("GeometryCollection"===c.type){var y=[];return i.geomEach(e,(function(e){var o=p(e,t,n,r);o&&y.push(o)})),s.featureCollection(y)}var g=function(e){var t=u.default(e).geometry.coordinates,n=[-t[0],-t[1]];return a.geoAzimuthalEquidistant().rotate(n).scale(s.earthRadius)}(c),m={type:c.type,coordinates:d(c.coordinates,g)},v=(new o.GeoJSONReader).read(m),b=s.radiansToLength(s.lengthToRadians(t,n),"meters"),_=o.BufferOp.bufferOp(v,b,r);if(!f((_=(new o.GeoJSONWriter).write(_)).coordinates)){var w={type:_.type,coordinates:h(_.coordinates,g)};return s.feature(w,l)}}function f(e){return Array.isArray(e[0])?f(e[0]):isNaN(e[0])}function d(e,t){return"object"!=typeof e[0]?t(e):e.map((function(e){return d(e,t)}))}function h(e,t){return"object"!=typeof e[0]?t.invert(e):e.map((function(e){return h(e,t)}))}e.exports=c,e.exports.default=c},76320:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31540),o=n(84102);t.default=function(e,t){void 0===t&&(t={});var n=0,i=0,a=0;return r.geomEach(e,(function(e,s,l){var u=t.weight?null==l?void 0:l[t.weight]:void 0;if(u=null==u?1:u,!o.isNumber(u))throw new Error("weight value must be a number for feature index "+s);(u=Number(u))>0&&r.coordEach(e,(function(e){n+=e[0]*u,i+=e[1]*u,a+=u}))})),o.point([n/a,i/a],t.properties,t)}},12935:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(76320)),i=r(n(31013)),a=r(n(66338)),s=n(84102),l=n(31540);function u(e,t,n,r,o){var a=r.tolerance||.001,c=0,p=0,f=0,d=0;if(l.featureEach(n,(function(t){var n,r=null===(n=t.properties)||void 0===n?void 0:n.weight,o=null==r?1:r;if(o=Number(o),!s.isNumber(o))throw new Error("weight value must be a number");if(o>0){d+=1;var a=o*i.default(t,e);0===a&&(a=1);var l=o/a;c+=t.geometry.coordinates[0]*l,p+=t.geometry.coordinates[1]*l,f+=l}})),d<1)throw new Error("no features to measure");var h=c/f,y=p/f;return 1===d||0===o||Math.abs(h-t[0])<a&&Math.abs(y-t[1])<a?s.point([h,y],{medianCandidates:r.medianCandidates}):(r.medianCandidates.push([h,y]),u([h,y],e,n,r,o-1))}t.default=function(e,t){if(void 0===t&&(t={}),t=t||{},!s.isObject(t))throw new Error("options is invalid");var n=t.counter||10;if(!s.isNumber(n))throw new Error("counter must be a number");var r=t.weight,i=o.default(e,{weight:t.weight}),c=s.featureCollection([]);l.featureEach(e,(function(e){var t;c.features.push(a.default(e,{properties:{weight:null===(t=e.properties)||void 0===t?void 0:t[r]}}))}));var p={tolerance:t.tolerance,medianCandidates:[]};return u(i.geometry.coordinates,[0,0],c,p,n)}},25084:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(77382)),i=r(n(66338)),a=n(84102),s=n(10611),l=n(31540);t.default=function e(t,n){switch(void 0===n&&(n={}),s.getType(t)){case"Point":return a.point(s.getCoord(t),n.properties);case"Polygon":var r=[];l.coordEach(t,(function(e){r.push(e)}));var u,c,p,f,d,h,y,g,m=i.default(t,{properties:n.properties}),v=m.geometry.coordinates,b=0,_=0,w=0,P=r.map((function(e){return[e[0]-v[0],e[1]-v[1]]}));for(u=0;u<r.length-1;u++)f=(c=P[u])[0],h=c[1],d=(p=P[u+1])[0],w+=g=f*(y=p[1])-d*h,b+=(f+d)*g,_+=(h+y)*g;if(0===w)return m;var C=1/(.5*w*6);return a.point([v[0]+C*b,v[1]+C*_],n.properties);default:var O=o.default(t);return O?e(O,{properties:n.properties}):i.default(t,{properties:n.properties})}}},78230:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(9705)),i=n(84102);t.default=function(e,t){void 0===t&&(t={});var n=o.default(e),r=(n[0]+n[2])/2,a=(n[1]+n[3])/2;return i.point([r,a],t.properties,t)}},66338:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31540),o=n(84102);t.default=function(e,t){void 0===t&&(t={});var n=0,i=0,a=0;return r.coordEach(e,(function(e){n+=e[0],i+=e[1],a++}),!0),o.point([n/a,i/a],t.properties)}},90265:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(93737)),i=n(84102);t.default=function(e,t,n){void 0===n&&(n={});for(var r=n.steps||64,a=n.properties?n.properties:!Array.isArray(e)&&"Feature"===e.type&&e.properties?e.properties:{},s=[],l=0;l<r;l++)s.push(o.default(e,t,-360*l/r,n).geometry.coordinates);return s.push(s[0]),i.polygon([s],a)}},71435:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(84102),o=n(10611);function i(e){var t=o.getCoords(e);if(2===t.length&&!a(t[0],t[1]))return t;var n=[],r=t.length-1,i=n.length;n.push(t[0]);for(var l=1;l<r;l++){var u=n[n.length-1];t[l][0]===u[0]&&t[l][1]===u[1]||(n.push(t[l]),(i=n.length)>2&&s(n[i-3],n[i-1],n[i-2])&&n.splice(n.length-2,1))}if(n.push(t[t.length-1]),i=n.length,a(t[0],t[t.length-1])&&i<4)throw new Error("invalid polygon");return s(n[i-3],n[i-1],n[i-2])&&n.splice(n.length-2,1),n}function a(e,t){return e[0]===t[0]&&e[1]===t[1]}function s(e,t,n){var r=n[0],o=n[1],i=e[0],a=e[1],s=t[0],l=t[1],u=s-i,c=l-a;return 0==(r-i)*c-(o-a)*u&&(Math.abs(u)>=Math.abs(c)?u>0?i<=r&&r<=s:s<=r&&r<=i:c>0?a<=o&&o<=l:l<=o&&o<=a)}t.default=function(e,t){void 0===t&&(t={});var n="object"==typeof t?t.mutate:t;if(!e)throw new Error("geojson is required");var a=o.getType(e),s=[];switch(a){case"LineString":s=i(e);break;case"MultiLineString":case"Polygon":o.getCoords(e).forEach((function(e){s.push(i(e))}));break;case"MultiPolygon":o.getCoords(e).forEach((function(e){var t=[];e.forEach((function(e){t.push(i(e))})),s.push(t)}));break;case"Point":return e;case"MultiPoint":var l={};o.getCoords(e).forEach((function(e){var t=e.join("-");Object.prototype.hasOwnProperty.call(l,t)||(s.push(e),l[t]=!0)}));break;default:throw new Error(a+" geometry not supported")}return e.coordinates?!0===n?(e.coordinates=s,e):{type:a,coordinates:s}:!0===n?(e.geometry.coordinates=s,e):r.feature({type:a,coordinates:s},e.properties,{bbox:e.bbox,id:e.id})}},76565:(e,t)=>{"use strict";function n(e){var t={type:"Feature"};return Object.keys(e).forEach((function(n){switch(n){case"type":case"properties":case"geometry":return;default:t[n]=e[n]}})),t.properties=r(e.properties),t.geometry=o(e.geometry),t}function r(e){var t={};return e?(Object.keys(e).forEach((function(n){var o=e[n];"object"==typeof o?null===o?t[n]=null:Array.isArray(o)?t[n]=o.map((function(e){return e})):t[n]=r(o):t[n]=o})),t):t}function o(e){var t={type:e.type};return e.bbox&&(t.bbox=e.bbox),"GeometryCollection"===e.type?(t.geometries=e.geometries.map((function(e){return o(e)})),t):(t.coordinates=i(e.coordinates),t)}function i(e){var t=e;return"object"!=typeof t[0]?t.slice():t.map((function(e){return i(e)}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return n(e);case"FeatureCollection":return function(e){var t={type:"FeatureCollection"};return Object.keys(e).forEach((function(n){switch(n){case"type":case"features":return;default:t[n]=e[n]}})),t.features=e.features.map((function(e){return n(e)})),t}(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return o(e);default:throw new Error("unknown GeoJSON type")}}},61495:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(76565)),i=r(n(31013)),a=n(31540),s=n(84102),l=r(n(52606));t.default=function(e,t,n){void 0===n&&(n={}),!0!==n.mutate&&(e=o.default(e)),n.minPoints=n.minPoints||3;var r=new l.default.DBSCAN,u=r.run(a.coordAll(e),s.convertLength(t,n.units),n.minPoints,i.default),c=-1;return u.forEach((function(t){c++,t.forEach((function(t){var n=e.features[t];n.properties||(n.properties={}),n.properties.cluster=c,n.properties.dbscan="core"}))})),r.noise.forEach((function(t){var n=e.features[t];n.properties||(n.properties={}),n.properties.cluster?n.properties.dbscan="edge":n.properties.dbscan="noise"})),e}},56398:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(76565)),i=n(31540),a=r(n(21160));t.default=function(e,t){void 0===t&&(t={});var n=e.features.length;t.numberOfClusters=t.numberOfClusters||Math.round(Math.sqrt(n/2)),t.numberOfClusters>n&&(t.numberOfClusters=n),!0!==t.mutate&&(e=o.default(e));var r=i.coordAll(e),s=r.slice(0,t.numberOfClusters),l=a.default(r,t.numberOfClusters,s),u={};return l.centroids.forEach((function(e,t){u[t]=e})),i.featureEach(e,(function(e,t){var n=l.idxs[t];e.properties.cluster=n,e.properties.centroid=u[n]})),e}},53140:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31540),o=n(84102);function i(e,t,n){if(!e)throw new Error("geojson is required");if("FeatureCollection"!==e.type)throw new Error("geojson must be a FeatureCollection");if(null==t)throw new Error("property is required");for(var r=a(e,t),i=Object.keys(r),s=0;s<i.length;s++){for(var l=i[s],u=r[l],c=[],p=0;p<u.length;p++)c.push(e.features[u[p]]);n(o.featureCollection(c),l,s)}}function a(e,t){var n={};return r.featureEach(e,(function(e,r){var o=e.properties||{};if(Object.prototype.hasOwnProperty.call(o,String(t))){var i=o[t];Object.prototype.hasOwnProperty.call(n,i)?n[i].push(r):n[i]=[r]}})),n}function s(e,t){if(void 0===e)return!1;var n=typeof t;if("number"===n||"string"===n)return Object.prototype.hasOwnProperty.call(e,t);if(Array.isArray(t)){for(var r=0;r<t.length;r++)if(!s(e,t[r]))return!1;return!0}return l(e,t)}function l(e,t){for(var n=Object.keys(t),r=0;r<n.length;r++){var o=n[r];if(e[o]!==t[o])return!1}return!0}t.getCluster=function(e,t){if(!e)throw new Error("geojson is required");if("FeatureCollection"!==e.type)throw new Error("geojson must be a FeatureCollection");if(null==t)throw new Error("filter is required");var n=[];return r.featureEach(e,(function(e){s(e.properties,t)&&n.push(e)})),o.featureCollection(n)},t.clusterEach=i,t.clusterReduce=function(e,t,n,r){var o=r;return i(e,t,(function(e,t,i){o=0===i&&void 0===r?e:n(o,e,t,i)})),o},t.createBins=a,t.applyFilter=s,t.propertiesContainsFilter=l,t.filterProperties=function(e,t){if(!t)return{};if(!t.length)return{};for(var n={},r=0;r<t.length;r++){var o=t[r];Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n}},70305:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(9705)),i=r(n(88147)),a=r(n(67));t.default=function(e,t,n,r){var s=a.default(6),l=t.features.map((function(e){var t;return{minX:e.geometry.coordinates[0],minY:e.geometry.coordinates[1],maxX:e.geometry.coordinates[0],maxY:e.geometry.coordinates[1],property:null===(t=e.properties)||void 0===t?void 0:t[n]}}));return s.load(l),e.features.forEach((function(e){e.properties||(e.properties={});var t=o.default(e),n=s.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}),a=[];n.forEach((function(t){i.default([t.minX,t.minY],e)&&a.push(t.property)})),e.properties[r]=a})),e}},27269:function(e){e.exports=function(){"use strict";function e(n,r,o,i,a){for(;i>o;){if(i-o>600){var s=i-o+1,l=r-o+1,u=Math.log(s),c=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);e(n,r,Math.max(o,Math.floor(r-l*c/s+p)),Math.min(i,Math.floor(r+(s-l)*c/s+p)),a)}var f=n[r],d=o,h=i;for(t(n,o,r),a(n[i],f)>0&&t(n,o,i);d<h;){for(t(n,d,h),d++,h--;a(n[d],f)<0;)d++;for(;a(n[h],f)>0;)h--}0===a(n[o],f)?t(n,o,h):t(n,++h,i),h<=r&&(o=h+1),r<=h&&(i=h-1)}}function t(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function n(e,t){return e<t?-1:e>t?1:0}return function(t,r,o,i,a){e(t,r,o||0,i||t.length-1,a||n)}}()},67:(e,t,n)=>{"use strict";e.exports=o,e.exports.default=o;var r=n(27269);function o(e,t){if(!(this instanceof o))return new o(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&this._initFormat(t),this.clear()}function i(e,t,n){if(!n)return t.indexOf(e);for(var r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function a(e,t){s(e,0,e.children.length,t,e)}function s(e,t,n,r,o){o||(o=y(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var i,a=t;a<n;a++)i=e.children[a],l(o,e.leaf?r(i):i);return o}function l(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function u(e,t){return e.minX-t.minX}function c(e,t){return e.minY-t.minY}function p(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function f(e){return e.maxX-e.minX+(e.maxY-e.minY)}function d(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function h(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function y(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(e,t,n,o,i){for(var a,s=[t,n];s.length;)(n=s.pop())-(t=s.pop())<=o||(a=t+Math.ceil((n-t)/o/2)*o,r(e,a,t,n,i),s.push(t,a,a,n))}o.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,n=[],r=this.toBBox;if(!h(e,t))return n;for(var o,i,a,s,l=[];t;){for(o=0,i=t.children.length;o<i;o++)a=t.children[o],h(e,s=t.leaf?r(a):a)&&(t.leaf?n.push(a):d(e,s)?this._all(a,n):l.push(a));t=l.pop()}return n},collides:function(e){var t=this.data,n=this.toBBox;if(!h(e,t))return!1;for(var r,o,i,a,s=[];t;){for(r=0,o=t.children.length;r<o;r++)if(i=t.children[r],h(e,a=t.leaf?n(i):i)){if(t.leaf||d(e,a))return!0;s.push(i)}t=s.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,n=e.length;t<n;t++)this.insert(e[t]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var o=this.data;this.data=r,r=o}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=y([]),this},remove:function(e,t){if(!e)return this;for(var n,r,o,a,s=this.data,l=this.toBBox(e),u=[],c=[];s||u.length;){if(s||(s=u.pop(),r=u[u.length-1],n=c.pop(),a=!0),s.leaf&&-1!==(o=i(e,s.children,t)))return s.children.splice(o,1),u.push(s),this._condense(u),this;a||s.leaf||!d(s,l)?r?(n++,s=r.children[n],a=!1):s=null:(u.push(s),c.push(n),n=0,r=s,s=s.children[0])}return this},toBBox:function(e){return e},compareMinX:u,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},_build:function(e,t,n,r){var o,i=n-t+1,s=this._maxEntries;if(i<=s)return a(o=y(e.slice(t,n+1)),this.toBBox),o;r||(r=Math.ceil(Math.log(i)/Math.log(s)),s=Math.ceil(i/Math.pow(s,r-1))),(o=y([])).leaf=!1,o.height=r;var l,u,c,p,f=Math.ceil(i/s),d=f*Math.ceil(Math.sqrt(s));for(g(e,t,n,d,this.compareMinX),l=t;l<=n;l+=d)for(g(e,l,c=Math.min(l+d-1,n),f,this.compareMinY),u=l;u<=c;u+=f)p=Math.min(u+f-1,c),o.children.push(this._build(e,u,p,r-1));return a(o,this.toBBox),o},_chooseSubtree:function(e,t,n,r){for(var o,i,a,s,l,u,c,f,d,h;r.push(t),!t.leaf&&r.length-1!==n;){for(c=f=1/0,o=0,i=t.children.length;o<i;o++)l=p(a=t.children[o]),d=e,h=a,(u=(Math.max(h.maxX,d.maxX)-Math.min(h.minX,d.minX))*(Math.max(h.maxY,d.maxY)-Math.min(h.minY,d.minY))-l)<f?(f=u,c=l<c?l:c,s=a):u===f&&l<c&&(c=l,s=a);t=s||t.children[0]}return t},_insert:function(e,t,n){var r=this.toBBox,o=n?e:r(e),i=[],a=this._chooseSubtree(o,this.data,t,i);for(a.children.push(e),l(a,o);t>=0&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(o,i,t)},_split:function(e,t){var n=e[t],r=n.children.length,o=this._minEntries;this._chooseSplitAxis(n,o,r);var i=this._chooseSplitIndex(n,o,r),s=y(n.children.splice(i,n.children.length-i));s.height=n.height,s.leaf=n.leaf,a(n,this.toBBox),a(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(n,s)},_splitRoot:function(e,t){this.data=y([e,t]),this.data.height=e.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,n){var r,o,i,a,l,u,c,f,d,h,y,g,m,v;for(u=c=1/0,r=t;r<=n-t;r++)d=o=s(e,0,r,this.toBBox),h=i=s(e,r,n,this.toBBox),void 0,void 0,void 0,void 0,y=Math.max(d.minX,h.minX),g=Math.max(d.minY,h.minY),m=Math.min(d.maxX,h.maxX),v=Math.min(d.maxY,h.maxY),a=Math.max(0,m-y)*Math.max(0,v-g),l=p(o)+p(i),a<u?(u=a,f=r,c=l<c?l:c):a===u&&l<c&&(c=l,f=r);return f},_chooseSplitAxis:function(e,t,n){var r=e.leaf?this.compareMinX:u,o=e.leaf?this.compareMinY:c;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,o)&&e.children.sort(r)},_allDistMargin:function(e,t,n,r){e.children.sort(r);var o,i,a=this.toBBox,u=s(e,0,t,a),c=s(e,n-t,n,a),p=f(u)+f(c);for(o=t;o<n-t;o++)i=e.children[o],l(u,e.leaf?a(i):i),p+=f(u);for(o=n-t-1;o>=t;o--)i=e.children[o],l(c,e.leaf?a(i):i),p+=f(c);return p},_adjustParentBBoxes:function(e,t,n){for(var r=n;r>=0;r--)l(t[r],e)},_condense:function(e){for(var t,n=e.length-1;n>=0;n--)0===e[n].children.length?n>0?(t=e[n-1].children).splice(t.indexOf(e[n]),1):this.clear():a(e[n],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}}},28141:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(84102),o=n(31540);t.default=function(e){var t={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}};return o.featureEach(e,(function(e){var n,r,o,i;switch(null===(i=e.geometry)||void 0===i?void 0:i.type){case"Point":t.MultiPoint.coordinates.push(e.geometry.coordinates),t.MultiPoint.properties.push(e.properties);break;case"MultiPoint":(n=t.MultiPoint.coordinates).push.apply(n,e.geometry.coordinates),t.MultiPoint.properties.push(e.properties);break;case"LineString":t.MultiLineString.coordinates.push(e.geometry.coordinates),t.MultiLineString.properties.push(e.properties);break;case"MultiLineString":(r=t.MultiLineString.coordinates).push.apply(r,e.geometry.coordinates),t.MultiLineString.properties.push(e.properties);break;case"Polygon":t.MultiPolygon.coordinates.push(e.geometry.coordinates),t.MultiPolygon.properties.push(e.properties);break;case"MultiPolygon":(o=t.MultiPolygon.coordinates).push.apply(o,e.geometry.coordinates),t.MultiPolygon.properties.push(e.properties)}})),r.featureCollection(Object.keys(t).filter((function(e){return t[e].coordinates.length})).sort().map((function(e){var n={type:e,coordinates:t[e].coordinates},o={collectedProperties:t[e].properties};return r.feature(n,o)})))}},68538:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(31013)),i=n(84102),a=n(31540),s=r(n(18829)),l=r(n(85878));t.default=function(e,t){void 0===t&&(t={});var n=t.maxEdge||1/0,r=function(e){var t=[],n={};return a.featureEach(e,(function(e){if(e.geometry){var r=e.geometry.coordinates.join("-");Object.prototype.hasOwnProperty.call(n,r)||(t.push(e),n[r]=!0)}})),i.featureCollection(t)}(e),u=s.default(r);if(u.features=u.features.filter((function(e){var r=e.geometry.coordinates[0][0],i=e.geometry.coordinates[0][1],a=e.geometry.coordinates[0][2],s=o.default(r,i,t),l=o.default(i,a,t),u=o.default(r,a,t);return s<=n&&l<=n&&u<=n})),u.features.length<1)return null;var c=l.default(u);return 1===c.coordinates.length&&(c.coordinates=c.coordinates[0],c.type="Polygon"),i.feature(c)}},85878:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(76565)),i=n(84102),a=n(10611),s=n(31540),l=r(n(44692)),u=r(n(12387));t.default=function(e,t){if(void 0===t&&(t={}),t=t||{},!i.isObject(t))throw new Error("options is invalid");var n=t.mutate;if("FeatureCollection"!==a.getType(e))throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(e=o.default(e));var r=function(e){var t={};s.flattenEach(e,(function(e){t[e.geometry.type]=!0}));var n=Object.keys(t);return 1===n.length?n[0]:null}(e);if(!r)throw new Error("geojson must be homogenous");var c=e;switch(r){case"LineString":return l.default(c,t);case"Polygon":return u.default(c,t);default:throw new Error(r+" is not supported")}}},44692:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(76565)),i=n(84102),a=n(10611),s=n(31540);function l(e){return e[0].toString()+","+e[1].toString()}t.default=function(e,t){if(void 0===t&&(t={}),t=t||{},!i.isObject(t))throw new Error("options is invalid");var n=t.mutate;if("FeatureCollection"!==a.getType(e))throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(e=o.default(e));var r=[],u=s.lineReduce(e,(function(e,t){return function(e,t){var n,r=e.geometry.coordinates,o=t.geometry.coordinates,a=l(r[0]),s=l(r[r.length-1]),u=l(o[0]),c=l(o[o.length-1]);if(a===c)n=o.concat(r.slice(1));else if(u===s)n=r.concat(o.slice(1));else if(a===u)n=r.slice(1).reverse().concat(o);else{if(s!==c)return null;n=r.concat(o.reverse().slice(1))}return i.lineString(n)}(e,t)||(r.push(e),t)}));return u&&r.push(u),r.length?1===r.length?r[0]:i.multiLineString(r.map((function(e){return e.coordinates}))):null}},12387:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(76565)),i=n(84102),a=n(10611),s=n(31540),l=n(18146),u=n(24255);t.default=function(e,t){if(void 0===t&&(t={}),"FeatureCollection"!==a.getType(e))throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");!1!==t.mutate&&void 0!==t.mutate||(e=o.default(e));var n=[];s.flattenEach(e,(function(e){n.push(e.geometry)}));var r=u.topology({geoms:i.geometryCollection(n).geometry});return l.merge(r,r.objects.geoms.geometries)}},77382:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(84102),i=n(31540),a=r(n(72273));t.default=function(e,t){void 0===t&&(t={}),t.concavity=t.concavity||1/0;var n=[];if(i.coordEach(e,(function(e){n.push([e[0],e[1]])})),!n.length)return null;var r=a.default(n,t.concavity);return r.length>3?o.polygon([r]):null}},93737:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(84102),o=n(10611);t.default=function(e,t,n,i){void 0===i&&(i={});var a=o.getCoord(e),s=r.degreesToRadians(a[0]),l=r.degreesToRadians(a[1]),u=r.degreesToRadians(n),c=r.lengthToRadians(t,i.units),p=Math.asin(Math.sin(l)*Math.cos(c)+Math.cos(l)*Math.sin(c)*Math.cos(u)),f=s+Math.atan2(Math.sin(u)*Math.sin(c)*Math.cos(l),Math.cos(c)-Math.sin(l)*Math.sin(p)),d=r.radiansToDegrees(f),h=r.radiansToDegrees(p);return r.point([d,h],i.properties)}},68727:(e,t,n)=>{"use strict";var r=n(24629),o=n(84102),i=n(10611);function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=a(r);function l(e,t){var n=i.getGeom(e),r=i.getGeom(t),a=e.properties||{},l=s.default.difference(n.coordinates,r.coordinates);return 0===l.length?null:1===l.length?o.polygon(l[0],a):o.multiPolygon(l,a)}e.exports=l,e.exports.default=l},52407:(e,t,n)=>{"use strict";var r=n(84102),o=n(10611),i=n(31540),a=n(24288),s=n(24629);function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=l(a),c=l(s);function p(e,t){if(t=t||{},!r.isObject(t))throw new Error("options is invalid");var n=t.propertyName;o.collectionOf(e,"Polygon","dissolve");var a=[];if(!t.propertyName)return u.default(r.multiPolygon(c.default.union.apply(null,e.features.map((function(e){return e.geometry.coordinates})))));var s={};i.featureEach(e,(function(e){Object.prototype.hasOwnProperty.call(s,e.properties[n])||(s[e.properties[n]]=[]),s[e.properties[n]].push(e)}));for(var l=Object.keys(s),p=0;p<l.length;p++){var f=r.multiPolygon(c.default.union.apply(null,s[l[p]].map((function(e){return e.geometry.coordinates}))));f.properties[n]=l[p],a.push(f)}return u.default(r.featureCollection(a))}e.exports=p,e.exports.default=p},35366:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(66338)),i=n(10611),a=n(31540);function s(e,t,n){void 0===n&&(n=2);var r=i.getCoord(e),o=i.getCoord(t),a=r[0]-o[0],s=r[1]-o[1];return 1===n?Math.abs(a)+Math.abs(s):Math.pow(Math.pow(a,n)+Math.pow(s,n),1/n)}t.pNormDistance=s,t.default=function(e,t){var n=(t=t||{}).threshold||1e4,r=t.p||2,i=t.binary||!1,l=t.alpha||-1,u=t.standardization||!1,c=[];a.featureEach(e,(function(e){c.push(o.default(e))}));for(var p=[],f=0;f<c.length;f++)p[f]=[];for(f=0;f<c.length;f++)for(var d=f;d<c.length;d++){f===d&&(p[f][d]=0);var h=s(c[f],c[d],r);p[f][d]=h,p[d][f]=h}for(f=0;f<c.length;f++)for(d=0;d<c.length;d++)0!==(h=p[f][d])&&(p[f][d]=i?h<=n?1:0:h<=n?Math.pow(h,l):0);if(u)for(f=0;f<c.length;f++){var y=p[f].reduce((function(e,t){return e+t}),0);for(d=0;d<c.length;d++)p[f][d]=p[f][d]/y}return p}},31013:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10611),o=n(84102);t.default=function(e,t,n){void 0===n&&(n={});var i=r.getCoord(e),a=r.getCoord(t),s=o.degreesToRadians(a[1]-i[1]),l=o.degreesToRadians(a[0]-i[0]),u=o.degreesToRadians(i[1]),c=o.degreesToRadians(a[1]),p=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(l/2),2)*Math.cos(u)*Math.cos(c);return o.radiansToLength(2*Math.atan2(Math.sqrt(p),Math.sqrt(1-p)),n.units)}},61211:(e,t,n)=>{"use strict";var r=n(84102),o=n(62054),i=n(90067),a=n(10611);function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=s(o),u=s(i);function c(e,t,n,o){var i=(o=o||{}).steps||64,s=o.units||"kilometers",c=o.angle||0,f=o.pivot||e,d=o.properties||e.properties||{};if(!e)throw new Error("center is required");if(!t)throw new Error("xSemiAxis is required");if(!n)throw new Error("ySemiAxis is required");if(!r.isObject(o))throw new Error("options must be an object");if(!r.isNumber(i))throw new Error("steps must be a number");if(!r.isNumber(c))throw new Error("angle must be a number");var h=a.getCoord(e);if("degrees"===s)var y=r.degreesToRadians(c);else t=l.default(e,t,90,{units:s}),n=l.default(e,n,0,{units:s}),t=a.getCoord(t)[0]-h[0],n=a.getCoord(n)[1]-h[1];for(var g=[],m=0;m<i;m+=1){var v=-360*m/i,b=t*n/Math.sqrt(Math.pow(n,2)+Math.pow(t,2)*Math.pow(p(v),2)),_=t*n/Math.sqrt(Math.pow(t,2)+Math.pow(n,2)/Math.pow(p(v),2));if(v<-90&&v>=-270&&(b=-b),v<-180&&v>=-360&&(_=-_),"degrees"===s){var w=b*Math.cos(y)+_*Math.sin(y),P=_*Math.cos(y)-b*Math.sin(y);b=w,_=P}g.push([b+h[0],_+h[1]])}return g.push(g[0]),"degrees"===s?r.polygon([g],d):u.default(r.polygon([g],d),c,{pivot:f})}function p(e){var t=e*Math.PI/180;return Math.tan(t)}e.exports=c,e.exports.default=c},19062:(e,t,n)=>{"use strict";var r=n(9705),o=n(13652);function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=i(r),s=i(o);function l(e){return s.default(a.default(e))}e.exports=l,e.exports.default=l},63922:(e,t,n)=>{"use strict";var r=n(31540),o=n(84102);function i(e){var t=[];return"FeatureCollection"===e.type?r.featureEach(e,(function(e){r.coordEach(e,(function(n){t.push(o.point(n,e.properties))}))})):r.coordEach(e,(function(n){t.push(o.point(n,e.properties))})),o.featureCollection(t)}e.exports=i,e.exports.default=i},24288:(e,t,n)=>{"use strict";var r=n(31540),o=n(84102);function i(e){if(!e)throw new Error("geojson is required");var t=[];return r.flattenEach(e,(function(e){t.push(e)})),o.featureCollection(t)}e.exports=i,e.exports.default=i},37970:(e,t,n)=>{"use strict";var r=n(31540),o=n(84102);function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=i(n(76565));function s(e,t){if(t=t||{},!o.isObject(t))throw new Error("options is invalid");var n=t.mutate;if(!e)throw new Error("geojson is required");return!1!==n&&void 0!==n||(e=a.default(e)),r.coordEach(e,(function(e){var t=e[0],n=e[1];e[0]=n,e[1]=t})),e}e.exports=s,e.exports.default=s},25422:(e,t,n)=>{"use strict";var r=n(10611),o=Math.PI/180,i=180/Math.PI,a=function(e,t){this.lon=e,this.lat=t,this.x=o*e,this.y=o*t};a.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},a.prototype.antipode=function(){var e=-1*this.lat,t=this.lon<0?180+this.lon:-1*(180-this.lon);return new a(t,e)};var s=function(){this.coords=[],this.length=0};s.prototype.move_to=function(e){this.length++,this.coords.push(e)};var l=function(e){this.properties=e||{},this.geometries=[]};l.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var e=[],t=0;t<this.geometries.length;t++)e.push(this.geometries[t].coords);return{geometry:{type:"MultiLineString",coordinates:e},type:"Feature",properties:this.properties}},l.prototype.wkt=function(){for(var e="",t="LINESTRING(",n=function(e){t+=e[0]+" "+e[1]+","},r=0;r<this.geometries.length;r++){if(0===this.geometries[r].coords.length)return"LINESTRING(empty)";this.geometries[r].coords.forEach(n),e+=t.substring(0,t.length-1)+")"}return e};var u=function(e,t,n){if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new a(e.x,e.y),this.end=new a(t.x,t.y),this.properties=n||{};var r=this.start.x-this.end.x,o=this.start.y-this.end.y,i=Math.pow(Math.sin(o/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(r/2),2);if(this.g=2*Math.asin(Math.sqrt(i)),this.g===Math.PI)throw new Error("it appears "+e.view()+" and "+t.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+e+" and "+t)};function c(e,t,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var o=n.properties,i=n.npoints,a=n.offset;return e=r.getCoord(e),t=r.getCoord(t),o=o||{},i=i||100,a=a||10,new u({x:e[0],y:e[1]},{x:t[0],y:t[1]},o).Arc(i,{offset:a}).json()}u.prototype.interpolate=function(e){var t=Math.sin((1-e)*this.g)/Math.sin(this.g),n=Math.sin(e*this.g)/Math.sin(this.g),r=t*Math.cos(this.start.y)*Math.cos(this.start.x)+n*Math.cos(this.end.y)*Math.cos(this.end.x),o=t*Math.cos(this.start.y)*Math.sin(this.start.x)+n*Math.cos(this.end.y)*Math.sin(this.end.x),a=t*Math.sin(this.start.y)+n*Math.sin(this.end.y),s=i*Math.atan2(a,Math.sqrt(Math.pow(r,2)+Math.pow(o,2)));return[i*Math.atan2(o,r),s]},u.prototype.Arc=function(e,t){var n=[];if(!e||e<=2)n.push([this.start.lon,this.start.lat]),n.push([this.end.lon,this.end.lat]);else for(var r=1/(e-1),o=0;o<e;++o){var i=r*o,a=this.interpolate(i);n.push(a)}for(var u=!1,c=0,p=t&&t.offset?t.offset:10,f=180-p,d=-180+p,h=360-p,y=1;y<n.length;++y){var g=n[y-1][0],m=n[y][0],v=Math.abs(m-g);v>h&&(m>f&&g<d||g>f&&m<d)?u=!0:v>c&&(c=v)}var b=[];if(u&&c<p){var _=[];b.push(_);for(var w=0;w<n.length;++w){var P=parseFloat(n[w][0]);if(w>0&&Math.abs(P-n[w-1][0])>h){var C=parseFloat(n[w-1][0]),O=parseFloat(n[w-1][1]),x=parseFloat(n[w][0]),S=parseFloat(n[w][1]);if(C>-180&&C<d&&180===x&&w+1<n.length&&n[w-1][0]>-180&&n[w-1][0]<d){_.push([-180,n[w][1]]),w++,_.push([n[w][0],n[w][1]]);continue}if(C>f&&C<180&&-180===x&&w+1<n.length&&n[w-1][0]>f&&n[w-1][0]<180){_.push([180,n[w][1]]),w++,_.push([n[w][0],n[w][1]]);continue}if(C<d&&x>f){var E=C;C=x,x=E;var j=O;O=S,S=j}if(C>f&&x<d&&(x+=360),C<=180&&x>=180&&C<x){var T=(180-C)/(x-C),M=T*S+(1-T)*O;_.push([n[w-1][0]>f?180:-180,M]),(_=[]).push([n[w-1][0]>f?-180:180,M]),b.push(_)}else _=[],b.push(_);_.push([P,n[w][1]])}else _.push([n[w][0],n[w][1]])}}else{var A=[];b.push(A);for(var I=0;I<n.length;++I)A.push([n[I][0],n[I][1]])}for(var N=new l(this.properties),D=0;D<b.length;++D){var z=new s;N.geometries.push(z);for(var R=b[D],k=0;k<R.length;++k)z.move_to(R[k])}return N},e.exports=c,e.exports.default=c},84102:(e,t)=>{"use strict";function n(e,t,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function r(e,t,r){if(void 0===r&&(r={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!d(e[0])||!d(e[1]))throw new Error("coordinates must contain numbers");return n({type:"Point",coordinates:e},t,r)}function o(e,t,r){void 0===r&&(r={});for(var o=0,i=e;o<i.length;o++){var a=i[o];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++)if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}return n({type:"Polygon",coordinates:e},t,r)}function i(e,t,r){if(void 0===r&&(r={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return n({type:"LineString",coordinates:e},t,r)}function a(e,t){void 0===t&&(t={});var n={type:"FeatureCollection"};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}function s(e,t,r){return void 0===r&&(r={}),n({type:"MultiLineString",coordinates:e},t,r)}function l(e,t,r){return void 0===r&&(r={}),n({type:"MultiPoint",coordinates:e},t,r)}function u(e,t,r){return void 0===r&&(r={}),n({type:"MultiPolygon",coordinates:e},t,r)}function c(e,n){void 0===n&&(n="kilometers");var r=t.factors[n];if(!r)throw new Error(n+" units is invalid");return e*r}function p(e,n){void 0===n&&(n="kilometers");var r=t.factors[n];if(!r)throw new Error(n+" units is invalid");return e/r}function f(e){return e%(2*Math.PI)*180/Math.PI}function d(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.earthRadius=6371008.8,t.factors={centimeters:100*t.earthRadius,centimetres:100*t.earthRadius,degrees:t.earthRadius/111325,feet:3.28084*t.earthRadius,inches:39.37*t.earthRadius,kilometers:t.earthRadius/1e3,kilometres:t.earthRadius/1e3,meters:t.earthRadius,metres:t.earthRadius,miles:t.earthRadius/1609.344,millimeters:1e3*t.earthRadius,millimetres:1e3*t.earthRadius,nauticalmiles:t.earthRadius/1852,radians:1,yards:1.0936*t.earthRadius},t.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/t.earthRadius,yards:1.0936133},t.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},t.feature=n,t.geometry=function(e,t,n){switch(void 0===n&&(n={}),e){case"Point":return r(t).geometry;case"LineString":return i(t).geometry;case"Polygon":return o(t).geometry;case"MultiPoint":return l(t).geometry;case"MultiLineString":return s(t).geometry;case"MultiPolygon":return u(t).geometry;default:throw new Error(e+" is invalid")}},t.point=r,t.points=function(e,t,n){return void 0===n&&(n={}),a(e.map((function(e){return r(e,t)})),n)},t.polygon=o,t.polygons=function(e,t,n){return void 0===n&&(n={}),a(e.map((function(e){return o(e,t)})),n)},t.lineString=i,t.lineStrings=function(e,t,n){return void 0===n&&(n={}),a(e.map((function(e){return i(e,t)})),n)},t.featureCollection=a,t.multiLineString=s,t.multiPoint=l,t.multiPolygon=u,t.geometryCollection=function(e,t,r){return void 0===r&&(r={}),n({type:"GeometryCollection",geometries:e},t,r)},t.round=function(e,t){if(void 0===t&&(t=0),t&&!(t>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,t||0);return Math.round(e*n)/n},t.radiansToLength=c,t.lengthToRadians=p,t.lengthToDegrees=function(e,t){return f(p(e,t))},t.bearingToAzimuth=function(e){var t=e%360;return t<0&&(t+=360),t},t.radiansToDegrees=f,t.degreesToRadians=function(e){return e%360*Math.PI/180},t.convertLength=function(e,t,n){if(void 0===t&&(t="kilometers"),void 0===n&&(n="kilometers"),!(e>=0))throw new Error("length must be a positive number");return c(p(e,t),n)},t.convertArea=function(e,n,r){if(void 0===n&&(n="meters"),void 0===r&&(r="kilometers"),!(e>=0))throw new Error("area must be a positive number");var o=t.areaFactors[n];if(!o)throw new Error("invalid original units");var i=t.areaFactors[r];if(!i)throw new Error("invalid final units");return e/o*i},t.isNumber=d,t.isObject=function(e){return!!e&&e.constructor===Object},t.validateBBox=function(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((function(e){if(!d(e))throw new Error("bbox must only contain numbers")}))},t.validateId=function(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}},45621:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(31013)),i=r(n(74170)),a=n(84102);function s(e,t,n,r,o,i){for(var s=[],l=0;l<6;l++){var u=e[0]+t*o[l],c=e[1]+n*i[l];s.push([u,c])}return s.push(s[0].slice()),a.polygon([s],r)}function l(e,t,n,r,o,i){for(var s=[],l=0;l<6;l++){var u=[];u.push(e),u.push([e[0]+t*o[l],e[1]+n*i[l]]),u.push([e[0]+t*o[(l+1)%6],e[1]+n*i[(l+1)%6]]),u.push(e),s.push(a.polygon([u],r))}return s}t.default=function(e,t,n){void 0===n&&(n={});var r=JSON.stringify(n.properties||{}),u=e[0],c=e[1],p=e[2],f=e[3],d=(c+f)/2,h=(u+p)/2,y=2*t/o.default([u,d],[p,d],n)*(p-u),g=2*t/o.default([h,c],[h,f],n)*(f-c),m=y/2,v=2*m,b=Math.sqrt(3)/2*g,_=p-u,w=f-c,P=3/4*v,C=b,O=(_-v)/(v-m/2),x=Math.floor(O),S=(x*P-m/2-_)/2-m/2+P/2,E=Math.floor((w-b)/b),j=(w-E*b)/2,T=E*b-w>b/2;T&&(j-=b/4);for(var M=[],A=[],I=0;I<6;I++){var N=2*Math.PI/6*I;M.push(Math.cos(N)),A.push(Math.sin(N))}for(var D=[],z=0;z<=x;z++)for(var R=0;R<=E;R++){var k=z%2==1;if(!(0===R&&k||0===R&&T)){var L=z*P+u-S,F=R*C+c+j;if(k&&(F-=b/2),!0===n.triangles)l([L,F],y/2,g/2,JSON.parse(r),M,A).forEach((function(e){n.mask?i.default(n.mask,e)&&D.push(e):D.push(e)}));else{var B=s([L,F],y/2,g/2,JSON.parse(r),M,A);n.mask?i.default(n.mask,B)&&D.push(B):D.push(B)}}}return a.featureCollection(D)}},25566:(e,t,n)=>{"use strict";var r=n(9705),o=n(45621),i=n(36813),a=n(31013),s=n(66338),l=n(45434),u=n(4686),c=n(76565),p=n(84102),f=n(31540),d=n(10611);function h(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var y=h(r),g=h(o),m=h(i),v=h(a),b=h(s),_=h(l),w=h(u),P=h(c);function C(e,t,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.gridType,o=n.property,i=n.weight;if(!e)throw new Error("points is required");if(d.collectionOf(e,"Point","input must contain Points"),!t)throw new Error("cellSize is required");if(void 0!==i&&"number"!=typeof i)throw new Error("weight must be a number");o=o||"elevation",r=r||"square",i=i||1;var a,s=y.default(e);switch(r){case"point":case"points":a=m.default(s,t,n);break;case"square":case"squares":a=_.default(s,t,n);break;case"hex":case"hexes":a=g.default(s,t,n);break;case"triangle":case"triangles":a=w.default(s,t,n);break;default:throw new Error("invalid gridType")}var l=[];return f.featureEach(a,(function(t){var a=0,s=0;f.featureEach(e,(function(e){var l,u="point"===r?t:b.default(t),c=v.default(u,e,n);if(void 0!==o&&(l=e.properties[o]),void 0===l&&(l=e.geometry.coordinates[2]),void 0===l)throw new Error("zValue is missing");0===c&&(a=l);var p=1/Math.pow(c,i);s+=p,a+=p*l}));var u=P.default(t);u.properties[o]=a/s,l.push(u)})),p.featureCollection(l)}e.exports=C,e.exports.default=C},74170:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(84102),i=n(10611),a=r(n(24629));t.default=function(e,t,n){void 0===n&&(n={});var r=i.getGeom(e),s=i.getGeom(t),l=a.default.intersection(r.coordinates,s.coordinates);return 0===l.length?null:1===l.length?o.polygon(l[0],n.properties):o.multiPolygon(l,n.properties)}},10611:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(84102);t.getCoord=function(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")},t.getCoords=function(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")},t.containsNumber=function e(t){if(t.length>1&&r.isNumber(t[0])&&r.isNumber(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return e(t[0]);throw new Error("coordinates must only contain numbers")},t.geojsonType=function(e,t,n){if(!t||!n)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+e.type)},t.featureOf=function(e,t,n){if(!e)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+e.geometry.type)},t.collectionOf=function(e,t,n){if(!e)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var r=0,o=e.features;r<o.length;r++){var i=o[r];if(!i||"Feature"!==i.type||!i.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!i.geometry||i.geometry.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+i.geometry.type)}},t.getGeom=function(e){return"Feature"===e.type?e.geometry:e},t.getType=function(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}},77406:(e,t,n)=>{"use strict";var r=n(9705),o=n(41070),i=n(88147),a=n(63922),s=n(10611),l=n(84102),u=n(27418),c=n(31540);function p(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var f=p(r),d=p(o),h=p(i),y=p(a),g=p(u);var m={successCallback:null,verbose:!1,polygons:!1},v={};function b(e,t,n,r){r=r||{};for(var o=Object.keys(m),i=0;i<o.length;i++){var a=o[i],s=r[a];s=null!=s?s:m[a],v[a]=s}v.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+t+":"+(t+n)+"]");var l,u=function(e,t,n){for(var r=e.length-1,o=e[0].length-1,i={rows:r,cols:o,cells:[]},a=t+Math.abs(n),s=0;s<r;++s){i.cells[s]=[];for(var l=0;l<o;++l){var u=0,c=e[s+1][l],p=e[s+1][l+1],f=e[s][l+1],d=e[s][l];if(!(isNaN(c)||isNaN(p)||isNaN(f)||isNaN(d))){u|=c<t?0:c>a?128:64,u|=p<t?0:p>a?32:16,u|=f<t?0:f>a?8:4;var h=+(u|=d<t?0:d>a?2:1),y=0;if(17===u||18===u||33===u||34===u||38===u||68===u||72===u||98===u||102===u||132===u||136===u||137===u||152===u||153===u){var g=(c+p+f+d)/4;y=g>a?2:g<t?0:1,34===u?1===y?u=35:0===y&&(u=136):136===u?1===y?(u=35,y=4):0===y&&(u=34):17===u?1===y?(u=155,y=4):0===y&&(u=153):68===u?1===y?(u=103,y=4):0===y&&(u=102):153===u?1===y&&(u=155):102===u?1===y&&(u=103):152===u?y<2&&(u=156,y=1):137===u?y<2&&(u=139,y=1):98===u?y<2&&(u=99,y=1):38===u?y<2&&(u=39,y=1):18===u?y>0?(u=156,y=4):u=152:33===u?y>0?(u=139,y=4):u=137:72===u?y>0?(u=99,y=4):u=98:132===u&&(y>0?(u=39,y=4):u=38)}if(0!=u&&170!=u){var m,v,b,_,w,P,C,O;m=v=b=_=w=P=C=O=.5;var x=[];1===u?(b=1-ue(t,f,d),O=1-ue(t,c,d),x.push(re[u])):169===u?(b=ue(a,d,f),O=ue(a,d,c),x.push(re[u])):4===u?(P=1-ue(t,p,f),_=ue(t,d,f),x.push(te[u])):166===u?(P=ue(a,f,p),_=1-ue(a,f,d),x.push(te[u])):16===u?(w=ue(t,f,p),v=ue(t,c,p),x.push(ee[u])):154===u?(w=1-ue(a,p,f),v=1-ue(a,p,c),x.push(ee[u])):64===u?(C=ue(t,d,c),m=1-ue(t,p,c),x.push(ie[u])):106===u?(C=1-ue(a,c,d),m=ue(a,c,p),x.push(ie[u])):168===u?(_=ue(a,d,f),b=ue(t,d,f),O=ue(t,d,c),C=ue(a,d,c),x.push(ne[u]),x.push(re[u])):2===u?(_=1-ue(t,f,d),b=1-ue(a,f,d),O=1-ue(a,c,d),C=1-ue(t,c,d),x.push(ne[u]),x.push(re[u])):162===u?(w=ue(a,f,p),P=ue(t,f,p),_=1-ue(t,f,d),b=1-ue(a,f,d),x.push(ne[u]),x.push(re[u])):8===u?(w=1-ue(t,p,f),P=1-ue(a,p,f),_=ue(a,d,f),b=ue(t,d,f),x.push(ee[u]),x.push(te[u])):138===u?(w=1-ue(t,p,f),P=1-ue(a,p,f),m=1-ue(a,p,c),v=1-ue(t,p,c),x.push(ee[u]),x.push(te[u])):32===u?(w=ue(a,f,p),P=ue(t,f,p),m=ue(t,c,p),v=ue(a,c,p),x.push(ee[u]),x.push(te[u])):42===u?(O=1-ue(a,c,d),C=1-ue(t,c,d),m=ue(t,c,p),v=ue(a,c,p),x.push(oe[u]),x.push(ie[u])):128===u&&(O=ue(t,d,c),C=ue(a,d,c),m=1-ue(a,p,c),v=1-ue(t,p,c),x.push(oe[u]),x.push(ie[u])),5===u?(P=1-ue(t,p,f),O=1-ue(t,c,d),x.push(te[u])):165===u?(P=ue(a,f,p),O=ue(a,d,c),x.push(te[u])):20===u?(_=ue(t,d,f),v=ue(t,c,p),x.push(ne[u])):150===u?(_=1-ue(a,f,d),v=1-ue(a,p,c),x.push(ne[u])):80===u?(w=ue(t,f,p),C=ue(t,d,c),x.push(ee[u])):90===u?(w=1-ue(a,p,f),C=1-ue(a,c,d),x.push(ee[u])):65===u?(b=1-ue(t,f,d),m=1-ue(t,p,c),x.push(re[u])):105===u?(b=ue(a,d,f),m=ue(a,c,p),x.push(re[u])):160===u?(w=ue(a,f,p),P=ue(t,f,p),O=ue(t,d,c),C=ue(a,d,c),x.push(ee[u]),x.push(te[u])):10===u?(w=1-ue(t,p,f),P=1-ue(a,p,f),O=1-ue(a,c,d),C=1-ue(t,c,d),x.push(ee[u]),x.push(te[u])):130===u?(_=1-ue(t,f,d),b=1-ue(a,f,d),m=1-ue(a,p,c),v=1-ue(t,p,c),x.push(ne[u]),x.push(re[u])):40===u?(_=ue(a,d,f),b=ue(t,d,f),m=ue(t,c,p),v=ue(a,c,p),x.push(ne[u]),x.push(re[u])):101===u?(P=ue(a,f,p),m=ue(a,c,p),x.push(te[u])):69===u?(P=1-ue(t,p,f),m=1-ue(t,p,c),x.push(te[u])):149===u?(O=ue(a,d,c),v=1-ue(a,p,c),x.push(oe[u])):21===u?(O=1-ue(t,c,d),v=ue(t,c,p),x.push(oe[u])):86===u?(_=1-ue(a,f,d),C=1-ue(a,c,d),x.push(ne[u])):84===u?(_=ue(t,d,f),C=ue(t,d,c),x.push(ne[u])):89===u?(w=1-ue(a,p,f),b=ue(a,d,f),x.push(re[u])):81===u?(w=ue(t,f,p),b=1-ue(t,f,d),x.push(re[u])):96===u?(w=ue(a,f,p),P=ue(t,f,p),C=ue(t,d,c),m=ue(a,c,p),x.push(ee[u]),x.push(te[u])):74===u?(w=1-ue(t,p,f),P=1-ue(a,p,f),C=1-ue(a,c,d),m=1-ue(t,p,c),x.push(ee[u]),x.push(te[u])):24===u?(w=1-ue(a,p,f),_=ue(a,d,f),b=ue(t,d,f),v=ue(t,c,p),x.push(ee[u]),x.push(re[u])):146===u?(w=ue(t,f,p),_=1-ue(t,f,d),b=1-ue(a,f,d),v=1-ue(a,p,c),x.push(ee[u]),x.push(re[u])):6===u?(P=1-ue(t,p,f),_=1-ue(a,f,d),O=1-ue(a,c,d),C=1-ue(t,c,d),x.push(te[u]),x.push(ne[u])):164===u?(P=ue(a,f,p),_=ue(t,d,f),O=ue(t,d,c),C=ue(a,d,c),x.push(te[u]),x.push(ne[u])):129===u?(b=1-ue(t,f,d),O=ue(a,d,c),m=1-ue(a,p,c),v=1-ue(t,p,c),x.push(re[u]),x.push(oe[u])):41===u?(b=ue(a,d,f),O=1-ue(t,c,d),m=ue(t,c,p),v=ue(a,c,p),x.push(re[u]),x.push(oe[u])):66===u?(_=1-ue(t,f,d),b=1-ue(a,f,d),C=1-ue(a,c,d),m=1-ue(t,p,c),x.push(ne[u]),x.push(re[u])):104===u?(_=ue(a,d,f),b=ue(t,d,f),C=ue(t,d,c),m=ue(a,c,p),x.push(re[u]),x.push(ae[u])):144===u?(w=ue(t,f,p),O=ue(t,d,c),C=ue(a,d,c),v=1-ue(a,p,c),x.push(ee[u]),x.push(ie[u])):26===u?(w=1-ue(a,p,f),O=1-ue(a,c,d),C=1-ue(t,c,d),v=ue(t,c,p),x.push(ee[u]),x.push(ie[u])):36===u?(P=ue(a,f,p),_=ue(t,d,f),m=ue(t,c,p),v=ue(a,c,p),x.push(te[u]),x.push(ne[u])):134===u?(P=1-ue(t,p,f),_=1-ue(a,f,d),m=1-ue(a,p,c),v=1-ue(t,p,c),x.push(te[u]),x.push(ne[u])):9===u?(w=1-ue(t,p,f),P=1-ue(a,p,f),b=ue(a,d,f),O=1-ue(t,c,d),x.push(ee[u]),x.push(te[u])):161===u?(w=ue(a,f,p),P=ue(t,f,p),b=1-ue(t,f,d),O=ue(a,d,c),x.push(ee[u]),x.push(te[u])):37===u?(P=ue(a,f,p),O=1-ue(t,c,d),m=ue(t,c,p),v=ue(a,c,p),x.push(te[u]),x.push(oe[u])):133===u?(P=1-ue(t,p,f),O=ue(a,d,c),m=1-ue(a,p,c),v=1-ue(t,p,c),x.push(te[u]),x.push(oe[u])):148===u?(_=ue(t,d,f),O=ue(t,d,c),C=ue(a,d,c),v=1-ue(a,p,c),x.push(ne[u]),x.push(ie[u])):22===u?(_=1-ue(a,f,d),O=1-ue(a,c,d),C=1-ue(t,c,d),v=ue(t,c,p),x.push(ne[u]),x.push(ie[u])):82===u?(w=ue(t,f,p),_=1-ue(t,f,d),b=1-ue(a,f,d),C=1-ue(a,c,d),x.push(ee[u]),x.push(re[u])):88===u?(w=1-ue(a,p,f),_=ue(a,d,f),b=ue(t,d,f),C=ue(t,d,c),x.push(ee[u]),x.push(re[u])):73===u?(w=1-ue(t,p,f),P=1-ue(a,p,f),b=ue(a,d,f),m=1-ue(t,p,c),x.push(ee[u]),x.push(te[u])):97===u?(w=ue(a,f,p),P=ue(t,f,p),b=1-ue(t,f,d),m=ue(a,c,p),x.push(ee[u]),x.push(te[u])):145===u?(w=ue(t,f,p),b=1-ue(t,f,d),O=ue(a,d,c),v=1-ue(a,p,c),x.push(ee[u]),x.push(oe[u])):25===u?(w=1-ue(a,p,f),b=ue(a,d,f),O=1-ue(t,c,d),v=ue(t,c,p),x.push(ee[u]),x.push(oe[u])):70===u?(P=1-ue(t,p,f),_=1-ue(a,f,d),C=1-ue(a,c,d),m=1-ue(t,p,c),x.push(te[u]),x.push(ne[u])):100===u?(P=ue(a,f,p),_=ue(t,d,f),C=ue(t,d,c),m=ue(a,c,p),x.push(te[u]),x.push(ne[u])):34===u?(0===y?(w=1-ue(t,p,f),P=1-ue(a,p,f),_=ue(a,d,f),b=ue(t,d,f),O=ue(t,d,c),C=ue(a,d,c),m=1-ue(a,p,c),v=1-ue(t,p,c)):(w=ue(a,f,p),P=ue(t,f,p),_=1-ue(t,f,d),b=1-ue(a,f,d),O=1-ue(a,c,d),C=1-ue(t,c,d),m=ue(t,c,p),v=ue(a,c,p)),x.push(ee[u]),x.push(te[u]),x.push(oe[u]),x.push(ie[u])):35===u?(4===y?(w=1-ue(t,p,f),P=1-ue(a,p,f),_=ue(a,d,f),b=ue(t,d,f),O=ue(t,d,c),C=ue(a,d,c),m=1-ue(a,p,c),v=1-ue(t,p,c)):(w=ue(a,f,p),P=ue(t,f,p),_=1-ue(t,f,d),b=1-ue(a,f,d),O=1-ue(a,c,d),C=1-ue(t,c,d),m=ue(t,c,p),v=ue(a,c,p)),x.push(ee[u]),x.push(te[u]),x.push(re[u]),x.push(ie[u])):136===u?(0===y?(w=ue(a,f,p),P=ue(t,f,p),_=1-ue(t,f,d),b=1-ue(a,f,d),O=1-ue(a,c,d),C=1-ue(t,c,d),m=ue(t,c,p),v=ue(a,c,p)):(w=1-ue(t,p,f),P=1-ue(a,p,f),_=ue(a,d,f),b=ue(t,d,f),O=ue(t,d,c),C=ue(a,d,c),m=1-ue(a,p,c),v=1-ue(t,p,c)),x.push(ee[u]),x.push(te[u]),x.push(oe[u]),x.push(ie[u])):153===u?(0===y?(w=ue(t,f,p),b=1-ue(t,f,d),O=1-ue(t,c,d),v=ue(t,c,p)):(w=1-ue(a,p,f),b=ue(a,d,f),O=ue(a,d,c),v=1-ue(a,p,c)),x.push(ee[u]),x.push(re[u])):102===u?(0===y?(P=1-ue(t,p,f),_=ue(t,d,f),C=ue(t,d,c),m=1-ue(t,p,c)):(P=ue(a,f,p),_=1-ue(a,f,d),C=1-ue(a,c,d),m=ue(a,c,p)),x.push(te[u]),x.push(ie[u])):155===u?(4===y?(w=ue(t,f,p),b=1-ue(t,f,d),O=1-ue(t,c,d),v=ue(t,c,p)):(w=1-ue(a,p,f),b=ue(a,d,f),O=ue(a,d,c),v=1-ue(a,p,c)),x.push(ee[u]),x.push(oe[u])):103===u?(4===y?(P=1-ue(t,p,f),_=ue(t,d,f),C=ue(t,d,c),m=1-ue(t,p,c)):(P=ue(a,f,p),_=1-ue(a,f,d),C=1-ue(a,c,d),m=ue(a,c,p)),x.push(te[u]),x.push(ne[u])):152===u?(0===y?(w=ue(t,f,p),_=1-ue(t,f,d),b=1-ue(a,f,d),O=1-ue(a,c,d),C=1-ue(t,c,d),v=ue(t,c,p)):(w=1-ue(a,p,f),_=ue(a,d,f),b=ue(t,d,f),O=ue(t,d,c),C=ue(a,d,c),v=1-ue(a,p,c)),x.push(ee[u]),x.push(ne[u]),x.push(re[u])):156===u?(4===y?(w=ue(t,f,p),_=1-ue(t,f,d),b=1-ue(a,f,d),O=1-ue(a,c,d),C=1-ue(t,c,d),v=ue(t,c,p)):(w=1-ue(a,p,f),_=ue(a,d,f),b=ue(t,d,f),O=ue(t,d,c),C=ue(a,d,c),v=1-ue(a,p,c)),x.push(ee[u]),x.push(re[u]),x.push(ie[u])):137===u?(0===y?(w=ue(a,f,p),P=ue(t,f,p),b=1-ue(t,f,d),O=1-ue(t,c,d),m=ue(t,c,p),v=ue(a,c,p)):(w=1-ue(t,p,f),P=1-ue(a,p,f),b=ue(a,d,f),O=ue(a,d,c),m=1-ue(a,p,c),v=1-ue(t,p,c)),x.push(ee[u]),x.push(te[u]),x.push(re[u])):139===u?(4===y?(w=ue(a,f,p),P=ue(t,f,p),b=1-ue(t,f,d),O=1-ue(t,c,d),m=ue(t,c,p),v=ue(a,c,p)):(w=1-ue(t,p,f),P=1-ue(a,p,f),b=ue(a,d,f),O=ue(a,d,c),m=1-ue(a,p,c),v=1-ue(t,p,c)),x.push(ee[u]),x.push(te[u]),x.push(oe[u])):98===u?(0===y?(w=1-ue(t,p,f),P=1-ue(a,p,f),_=ue(a,d,f),b=ue(t,d,f),C=ue(t,d,c),m=1-ue(t,p,c)):(w=ue(a,f,p),P=ue(t,f,p),_=1-ue(t,f,d),b=1-ue(a,f,d),C=1-ue(a,c,d),m=ue(a,c,p)),x.push(ee[u]),x.push(te[u]),x.push(ie[u])):99===u?(4===y?(w=1-ue(t,p,f),P=1-ue(a,p,f),_=ue(a,d,f),b=ue(t,d,f),C=ue(t,d,c),m=1-ue(t,p,c)):(w=ue(a,f,p),P=ue(t,f,p),_=1-ue(t,f,d),b=1-ue(a,f,d),C=1-ue(a,c,d),m=ue(a,c,p)),x.push(ee[u]),x.push(te[u]),x.push(re[u])):38===u?(0===y?(P=1-ue(t,p,f),_=ue(t,d,f),O=ue(t,d,c),C=ue(a,d,c),m=1-ue(a,p,c),v=1-ue(t,p,c)):(P=ue(a,f,p),_=1-ue(a,f,d),O=1-ue(a,c,d),C=1-ue(t,c,d),m=ue(t,c,p),v=ue(a,c,p)),x.push(te[u]),x.push(oe[u]),x.push(ie[u])):39===u?(4===y?(P=1-ue(t,p,f),_=ue(t,d,f),O=ue(t,d,c),C=ue(a,d,c),m=1-ue(a,p,c),v=1-ue(t,p,c)):(P=ue(a,f,p),_=1-ue(a,f,d),O=1-ue(a,c,d),C=1-ue(t,c,d),m=ue(t,c,p),v=ue(a,c,p)),x.push(te[u]),x.push(ne[u]),x.push(ie[u])):85===u&&(w=1,P=0,_=1,b=0,O=0,C=1,m=0,v=1),(m<0||m>1||v<0||v>1||w<0||w>1||_<0||_>1||O<0||O>1||C<0||C>1)&&console.log("MarchingSquaresJS-isoBands: "+u+" "+h+" "+c+","+p+","+f+","+d+" "+y+" "+m+" "+v+" "+w+" "+P+" "+_+" "+b+" "+O+" "+C),i.cells[s][l]={cval:u,cval_real:h,flipped:y,topleft:m,topright:v,righttop:w,rightbottom:P,bottomright:_,bottomleft:b,leftbottom:O,lefttop:C,edges:x}}}}}return i}(e,t,n);return v.polygons?(v.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),l=function(e){var t=[],n=0;return e.cells.forEach((function(e,r){e.forEach((function(e,o){if(void 0!==e){var i=le[e.cval](e);"object"==typeof i&&ce(i)?"object"==typeof i[0]&&ce(i[0])?"object"==typeof i[0][0]&&ce(i[0][0])?i.forEach((function(e){e.forEach((function(e){e[0]+=o,e[1]+=r})),t[n++]=e})):(i.forEach((function(e){e[0]+=o,e[1]+=r})),t[n++]=i):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}}))})),t}(u)):(v.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),l=function(e){for(var t=[],n=e.rows,r=e.cols,o=[],i=0;i<n;i++)for(var a=0;a<r;a++)if(void 0!==e.cells[i][a]&&e.cells[i][a].edges.length>0){var s=fe(e.cells[i][a]),l=null,u=a,c=i;null!==s&&o.push([s.p[0]+u,s.p[1]+c]);do{if(null===(l=de(e.cells[c][u],s.x,s.y,s.o)))break;if(o.push([l.p[0]+u,l.p[1]+c]),u+=l.x,s=l,(c+=l.y)<0||c>=n||u<0||u>=r||void 0===e.cells[c][u]){var p=pe(e,u-=l.x,c-=l.y,l.x,l.y,l.o);if(null===p)break;p.path.forEach((function(e){o.push(e)})),u=p.i,c=p.j,s=p}}while(void 0!==e.cells[c][u]&&e.cells[c][u].edges.length>0);t.push(o),o=[],e.cells[i][a].edges.length>0&&a--}return t}(u)),"function"==typeof v.successCallback&&v.successCallback(l),l}var _=64,w=16,P=[],C=[],O=[],x=[],S=[],E=[],j=[],T=[],M=[],A=[],I=[],N=[],D=[],z=[],R=[],k=[],L=[],F=[],B=[],V=[],G=[],U=[],W=[],J=[];j[85]=A[85]=-1,T[85]=I[85]=0,M[85]=N[85]=1,B[85]=U[85]=1,V[85]=W[85]=0,G[85]=J[85]=1,P[85]=x[85]=0,C[85]=S[85]=-1,O[85]=R[85]=0,k[85]=D[85]=0,L[85]=z[85]=1,E[85]=F[85]=1,U[1]=U[169]=0,W[1]=W[169]=-1,J[1]=J[169]=0,D[1]=D[169]=-1,z[1]=z[169]=0,R[1]=R[169]=0,A[4]=A[166]=0,I[4]=I[166]=-1,N[4]=N[166]=1,k[4]=k[166]=1,L[4]=L[166]=0,F[4]=F[166]=0,j[16]=j[154]=0,T[16]=T[154]=1,M[16]=M[154]=1,x[16]=x[154]=1,S[16]=S[154]=0,E[16]=E[154]=1,B[64]=B[106]=0,V[64]=V[106]=1,G[64]=G[106]=0,P[64]=P[106]=-1,C[64]=C[106]=0,O[64]=O[106]=1,B[2]=B[168]=0,V[2]=V[168]=-1,G[2]=G[168]=1,U[2]=U[168]=0,W[2]=W[168]=-1,J[2]=J[168]=0,D[2]=D[168]=-1,z[2]=z[168]=0,R[2]=R[168]=0,k[2]=k[168]=-1,L[2]=L[168]=0,F[2]=F[168]=1,j[8]=j[162]=0,T[8]=T[162]=-1,M[8]=M[162]=0,A[8]=A[162]=0,I[8]=I[162]=-1,N[8]=N[162]=1,D[8]=D[162]=1,z[8]=z[162]=0,R[8]=R[162]=1,k[8]=k[162]=1,L[8]=L[162]=0,F[8]=F[162]=0,j[32]=j[138]=0,T[32]=T[138]=1,M[32]=M[138]=1,A[32]=A[138]=0,I[32]=I[138]=1,N[32]=N[138]=0,P[32]=P[138]=1,C[32]=C[138]=0,O[32]=O[138]=0,x[32]=x[138]=1,S[32]=S[138]=0,E[32]=E[138]=1,U[128]=U[42]=0,W[128]=W[42]=1,J[128]=J[42]=1,B[128]=B[42]=0,V[128]=V[42]=1,G[128]=G[42]=0,P[128]=P[42]=-1,C[128]=C[42]=0,O[128]=O[42]=1,x[128]=x[42]=-1,S[128]=S[42]=0,E[128]=E[42]=0,A[5]=A[165]=-1,I[5]=I[165]=0,N[5]=N[165]=0,U[5]=U[165]=1,W[5]=W[165]=0,J[5]=J[165]=0,k[20]=k[150]=0,L[20]=L[150]=1,F[20]=F[150]=1,x[20]=x[150]=0,S[20]=S[150]=-1,E[20]=E[150]=1,j[80]=j[90]=-1,T[80]=T[90]=0,M[80]=M[90]=1,B[80]=B[90]=1,V[80]=V[90]=0,G[80]=G[90]=1,D[65]=D[105]=0,z[65]=z[105]=1,R[65]=R[105]=0,P[65]=P[105]=0,C[65]=C[105]=-1,O[65]=O[105]=0,j[160]=j[10]=-1,T[160]=T[10]=0,M[160]=M[10]=1,A[160]=A[10]=-1,I[160]=I[10]=0,N[160]=N[10]=0,U[160]=U[10]=1,W[160]=W[10]=0,J[160]=J[10]=0,B[160]=B[10]=1,V[160]=V[10]=0,G[160]=G[10]=1,k[130]=k[40]=0,L[130]=L[40]=1,F[130]=F[40]=1,D[130]=D[40]=0,z[130]=z[40]=1,R[130]=R[40]=0,P[130]=P[40]=0,C[130]=C[40]=-1,O[130]=O[40]=0,x[130]=x[40]=0,S[130]=S[40]=-1,E[130]=E[40]=1,A[37]=A[133]=0,I[37]=I[133]=1,N[37]=N[133]=1,U[37]=U[133]=0,W[37]=W[133]=1,J[37]=J[133]=0,P[37]=P[133]=-1,C[37]=C[133]=0,O[37]=O[133]=0,x[37]=x[133]=1,S[37]=S[133]=0,E[37]=E[133]=0,k[148]=k[22]=-1,L[148]=L[22]=0,F[148]=F[22]=0,U[148]=U[22]=0,W[148]=W[22]=-1,J[148]=J[22]=1,B[148]=B[22]=0,V[148]=V[22]=1,G[148]=G[22]=1,x[148]=x[22]=-1,S[148]=S[22]=0,E[148]=E[22]=1,j[82]=j[88]=0,T[82]=T[88]=-1,M[82]=M[88]=1,k[82]=k[88]=1,L[82]=L[88]=0,F[82]=F[88]=1,D[82]=D[88]=-1,z[82]=z[88]=0,R[82]=R[88]=1,B[82]=B[88]=0,V[82]=V[88]=-1,G[82]=G[88]=0,j[73]=j[97]=0,T[73]=T[97]=1,M[73]=M[97]=0,A[73]=A[97]=0,I[73]=I[97]=-1,N[73]=N[97]=0,D[73]=D[97]=1,z[73]=z[97]=0,R[73]=R[97]=0,P[73]=P[97]=1,C[73]=C[97]=0,O[73]=O[97]=1,j[145]=j[25]=0,T[145]=T[25]=-1,M[145]=M[25]=0,D[145]=D[25]=1,z[145]=z[25]=0,R[145]=R[25]=1,U[145]=U[25]=0,W[145]=W[25]=1,J[145]=J[25]=1,x[145]=x[25]=-1,S[145]=S[25]=0,E[145]=E[25]=0,A[70]=A[100]=0,I[70]=I[100]=1,N[70]=N[100]=0,k[70]=k[100]=-1,L[70]=L[100]=0,F[70]=F[100]=1,B[70]=B[100]=0,V[70]=V[100]=-1,G[70]=G[100]=1,P[70]=P[100]=1,C[70]=C[100]=0,O[70]=O[100]=0,A[101]=A[69]=0,I[101]=I[69]=1,N[101]=N[69]=0,P[101]=P[69]=1,C[101]=C[69]=0,O[101]=O[69]=0,U[149]=U[21]=0,W[149]=W[21]=1,J[149]=J[21]=1,x[149]=x[21]=-1,S[149]=S[21]=0,E[149]=E[21]=0,k[86]=k[84]=-1,L[86]=L[84]=0,F[86]=F[84]=1,B[86]=B[84]=0,V[86]=V[84]=-1,G[86]=G[84]=1,j[89]=j[81]=0,T[89]=T[81]=-1,M[89]=M[81]=0,D[89]=D[81]=1,z[89]=z[81]=0,R[89]=R[81]=1,j[96]=j[74]=0,T[96]=T[74]=1,M[96]=M[74]=0,A[96]=A[74]=-1,I[96]=I[74]=0,N[96]=N[74]=1,B[96]=B[74]=1,V[96]=V[74]=0,G[96]=G[74]=0,P[96]=P[74]=1,C[96]=C[74]=0,O[96]=O[74]=1,j[24]=j[146]=0,T[24]=T[146]=-1,M[24]=M[146]=1,k[24]=k[146]=1,L[24]=L[146]=0,F[24]=F[146]=1,D[24]=D[146]=0,z[24]=z[146]=1,R[24]=R[146]=1,x[24]=x[146]=0,S[24]=S[146]=-1,E[24]=E[146]=0,A[6]=A[164]=-1,I[6]=I[164]=0,N[6]=N[164]=1,k[6]=k[164]=-1,L[6]=L[164]=0,F[6]=F[164]=0,U[6]=U[164]=0,W[6]=W[164]=-1,J[6]=J[164]=1,B[6]=B[164]=1,V[6]=V[164]=0,G[6]=G[164]=0,D[129]=D[41]=0,z[129]=z[41]=1,R[129]=R[41]=1,U[129]=U[41]=0,W[129]=W[41]=1,J[129]=J[41]=0,P[129]=P[41]=-1,C[129]=C[41]=0,O[129]=O[41]=0,x[129]=x[41]=0,S[129]=S[41]=-1,E[129]=E[41]=0,k[66]=k[104]=0,L[66]=L[104]=1,F[66]=F[104]=0,D[66]=D[104]=-1,z[66]=z[104]=0,R[66]=R[104]=1,B[66]=B[104]=0,V[66]=V[104]=-1,G[66]=G[104]=0,P[66]=P[104]=0,C[66]=C[104]=-1,O[66]=O[104]=1,j[144]=j[26]=-1,T[144]=T[26]=0,M[144]=M[26]=0,U[144]=U[26]=1,W[144]=W[26]=0,J[144]=J[26]=1,B[144]=B[26]=0,V[144]=V[26]=1,G[144]=G[26]=1,x[144]=x[26]=-1,S[144]=S[26]=0,E[144]=E[26]=1,A[36]=A[134]=0,I[36]=I[134]=1,N[36]=N[134]=1,k[36]=k[134]=0,L[36]=L[134]=1,F[36]=F[134]=0,P[36]=P[134]=0,C[36]=C[134]=-1,O[36]=O[134]=1,x[36]=x[134]=1,S[36]=S[134]=0,E[36]=E[134]=0,j[9]=j[161]=-1,T[9]=T[161]=0,M[9]=M[161]=0,A[9]=A[161]=0,I[9]=I[161]=-1,N[9]=N[161]=0,D[9]=D[161]=1,z[9]=z[161]=0,R[9]=R[161]=0,U[9]=U[161]=1,W[9]=W[161]=0,J[9]=J[161]=1,j[136]=0,T[136]=1,M[136]=1,A[136]=0,I[136]=1,N[136]=0,k[136]=-1,L[136]=0,F[136]=1,D[136]=-1,z[136]=0,R[136]=0,U[136]=0,W[136]=-1,J[136]=0,B[136]=0,V[136]=-1,G[136]=1,P[136]=1,C[136]=0,O[136]=0,x[136]=1,S[136]=0,E[136]=1,j[34]=0,T[34]=-1,M[34]=0,A[34]=0,I[34]=-1,N[34]=1,k[34]=1,L[34]=0,F[34]=0,D[34]=1,z[34]=0,R[34]=1,U[34]=0,W[34]=1,J[34]=1,B[34]=0,V[34]=1,G[34]=0,P[34]=-1,C[34]=0,O[34]=1,x[34]=-1,S[34]=0,E[34]=0,j[35]=0,T[35]=1,M[35]=1,A[35]=0,I[35]=-1,N[35]=1,k[35]=1,L[35]=0,F[35]=0,D[35]=-1,z[35]=0,R[35]=0,U[35]=0,W[35]=-1,J[35]=0,B[35]=0,V[35]=1,G[35]=0,P[35]=-1,C[35]=0,O[35]=1,x[35]=1,S[35]=0,E[35]=1,j[153]=0,T[153]=1,M[153]=1,D[153]=-1,z[153]=0,R[153]=0,U[153]=0,W[153]=-1,J[153]=0,x[153]=1,S[153]=0,E[153]=1,A[102]=0,I[102]=-1,N[102]=1,k[102]=1,L[102]=0,F[102]=0,B[102]=0,V[102]=1,G[102]=0,P[102]=-1,C[102]=0,O[102]=1,j[155]=0,T[155]=-1,M[155]=0,D[155]=1,z[155]=0,R[155]=1,U[155]=0,W[155]=1,J[155]=1,x[155]=-1,S[155]=0,E[155]=0,A[103]=0,I[103]=1,N[103]=0,k[103]=-1,L[103]=0,F[103]=1,B[103]=0,V[103]=-1,G[103]=1,P[103]=1,C[103]=0,O[103]=0,j[152]=0,T[152]=1,M[152]=1,k[152]=-1,L[152]=0,F[152]=1,D[152]=-1,z[152]=0,R[152]=0,U[152]=0,W[152]=-1,J[152]=0,B[152]=0,V[152]=-1,G[152]=1,x[152]=1,S[152]=0,E[152]=1,j[156]=0,T[156]=-1,M[156]=1,k[156]=1,L[156]=0,F[156]=1,D[156]=-1,z[156]=0,R[156]=0,U[156]=0,W[156]=-1,J[156]=0,B[156]=0,V[156]=1,G[156]=1,x[156]=-1,S[156]=0,E[156]=1,j[137]=0,T[137]=1,M[137]=1,A[137]=0,I[137]=1,N[137]=0,D[137]=-1,z[137]=0,R[137]=0,U[137]=0,W[137]=-1,J[137]=0,P[137]=1,C[137]=0,O[137]=0,x[137]=1,S[137]=0,E[137]=1,j[139]=0,T[139]=1,M[139]=1,A[139]=0,I[139]=-1,N[139]=0,D[139]=1,z[139]=0,R[139]=0,U[139]=0,W[139]=1,J[139]=0,P[139]=-1,C[139]=0,O[139]=0,x[139]=1,S[139]=0,E[139]=1,j[98]=0,T[98]=-1,M[98]=0,A[98]=0,I[98]=-1,N[98]=1,k[98]=1,L[98]=0,F[98]=0,D[98]=1,z[98]=0,R[98]=1,B[98]=0,V[98]=1,G[98]=0,P[98]=-1,C[98]=0,O[98]=1,j[99]=0,T[99]=1,M[99]=0,A[99]=0,I[99]=-1,N[99]=1,k[99]=1,L[99]=0,F[99]=0,D[99]=-1,z[99]=0,R[99]=1,B[99]=0,V[99]=-1,G[99]=0,P[99]=1,C[99]=0,O[99]=1,A[38]=0,I[38]=-1,N[38]=1,k[38]=1,L[38]=0,F[38]=0,U[38]=0,W[38]=1,J[38]=1,B[38]=0,V[38]=1,G[38]=0,P[38]=-1,C[38]=0,O[38]=1,x[38]=-1,S[38]=0,E[38]=0,A[39]=0,I[39]=1,N[39]=1,k[39]=-1,L[39]=0,F[39]=0,U[39]=0,W[39]=-1,J[39]=1,B[39]=0,V[39]=1,G[39]=0,P[39]=-1,C[39]=0,O[39]=1,x[39]=1,S[39]=0,E[39]=0;var H=function(e){return[[e.bottomleft,0],[0,0],[0,e.leftbottom]]},q=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0]]},Y=function(e){return[[e.topright,1],[1,1],[1,e.righttop]]},X=function(e){return[[0,e.lefttop],[0,1],[e.topleft,1]]},Z=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop]]},K=function(e){return[[e.bottomright,0],[e.bottomleft,0],[1,e.righttop],[1,e.rightbottom]]},Q=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.topleft,1],[e.topright,1]]},$=function(e){return[[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},ee=[],te=[],ne=[],re=[],oe=[],ie=[],ae=[],se=[];re[1]=oe[1]=18,re[169]=oe[169]=18,ne[4]=te[4]=12,ne[166]=te[166]=12,ee[16]=se[16]=4,ee[154]=se[154]=4,ie[64]=ae[64]=22,ie[106]=ae[106]=22,ne[2]=ie[2]=17,re[2]=oe[2]=18,ne[168]=ie[168]=17,re[168]=oe[168]=18,ee[8]=re[8]=9,te[8]=ne[8]=12,ee[162]=re[162]=9,te[162]=ne[162]=12,ee[32]=se[32]=4,te[32]=ae[32]=1,ee[138]=se[138]=4,te[138]=ae[138]=1,oe[128]=se[128]=21,ie[128]=ae[128]=22,oe[42]=se[42]=21,ie[42]=ae[42]=22,te[5]=oe[5]=14,te[165]=oe[165]=14,ne[20]=se[20]=6,ne[150]=se[150]=6,ee[80]=ie[80]=11,ee[90]=ie[90]=11,re[65]=ae[65]=3,re[105]=ae[105]=3,ee[160]=ie[160]=11,te[160]=oe[160]=14,ee[10]=ie[10]=11,te[10]=oe[10]=14,ne[130]=se[130]=6,re[130]=ae[130]=3,ne[40]=se[40]=6,re[40]=ae[40]=3,te[101]=ae[101]=1,te[69]=ae[69]=1,oe[149]=se[149]=21,oe[21]=se[21]=21,ne[86]=ie[86]=17,ne[84]=ie[84]=17,ee[89]=re[89]=9,ee[81]=re[81]=9,ee[96]=ae[96]=0,te[96]=ie[96]=15,ee[74]=ae[74]=0,te[74]=ie[74]=15,ee[24]=ne[24]=8,re[24]=se[24]=7,ee[146]=ne[146]=8,re[146]=se[146]=7,te[6]=ie[6]=15,ne[6]=oe[6]=16,te[164]=ie[164]=15,ne[164]=oe[164]=16,re[129]=se[129]=7,oe[129]=ae[129]=20,re[41]=se[41]=7,oe[41]=ae[41]=20,ne[66]=ae[66]=2,re[66]=ie[66]=19,ne[104]=ae[104]=2,re[104]=ie[104]=19,ee[144]=oe[144]=10,ie[144]=se[144]=23,ee[26]=oe[26]=10,ie[26]=se[26]=23,te[36]=se[36]=5,ne[36]=ae[36]=2,te[134]=se[134]=5,ne[134]=ae[134]=2,ee[9]=oe[9]=10,te[9]=re[9]=13,ee[161]=oe[161]=10,te[161]=re[161]=13,te[37]=se[37]=5,oe[37]=ae[37]=20,te[133]=se[133]=5,oe[133]=ae[133]=20,ne[148]=oe[148]=16,ie[148]=se[148]=23,ne[22]=oe[22]=16,ie[22]=se[22]=23,ee[82]=ne[82]=8,re[82]=ie[82]=19,ee[88]=ne[88]=8,re[88]=ie[88]=19,ee[73]=ae[73]=0,te[73]=re[73]=13,ee[97]=ae[97]=0,te[97]=re[97]=13,ee[145]=re[145]=9,oe[145]=se[145]=21,ee[25]=re[25]=9,oe[25]=se[25]=21,te[70]=ae[70]=1,ne[70]=ie[70]=17,te[100]=ae[100]=1,ne[100]=ie[100]=17,ee[34]=re[34]=9,te[34]=ne[34]=12,oe[34]=se[34]=21,ie[34]=ae[34]=22,ee[136]=se[136]=4,te[136]=ae[136]=1,ne[136]=ie[136]=17,re[136]=oe[136]=18,ee[35]=se[35]=4,te[35]=ne[35]=12,re[35]=oe[35]=18,ie[35]=ae[35]=22,ee[153]=se[153]=4,re[153]=oe[153]=18,te[102]=ne[102]=12,ie[102]=ae[102]=22,ee[155]=re[155]=9,oe[155]=se[155]=23,te[103]=ae[103]=1,ne[103]=ie[103]=17,ee[152]=se[152]=4,ne[152]=ie[152]=17,re[152]=oe[152]=18,ee[156]=ne[156]=8,re[156]=oe[156]=18,ie[156]=se[156]=23,ee[137]=se[137]=4,te[137]=ae[137]=1,re[137]=oe[137]=18,ee[139]=se[139]=4,te[139]=re[139]=13,oe[139]=ae[139]=20,ee[98]=re[98]=9,te[98]=ne[98]=12,ie[98]=ae[98]=22,ee[99]=ae[99]=0,te[99]=ne[99]=12,re[99]=ie[99]=19,te[38]=ne[38]=12,oe[38]=se[38]=21,ie[38]=ae[38]=22,te[39]=se[39]=5,ne[39]=oe[39]=16,ie[39]=ae[39]=22;var le=[];function ue(e,t,n){return(e-t)/(n-t)}function ce(e){return e.constructor.toString().indexOf("Array")>-1}function pe(e,t,n,r,o,i){for(var a=e.cells[n][t],s=a.cval_real,l=t+r,u=n+o,c=[],p=!1;!p;){if(void 0===e.cells[u]||void 0===e.cells[u][l])if(u-=o,l-=r,s=(a=e.cells[u][l]).cval_real,-1===o)if(0===i)if(1&s)c.push([l,u]),r=-1,o=0,i=0;else{if(!(4&s)){c.push([l+a.bottomright,u]),r=0,o=1,i=1,p=!0;break}c.push([l+1,u]),r=1,o=0,i=0}else{if(!(1&s)){if(4&s){c.push([l+a.bottomright,u]),r=0,o=1,i=1,p=!0;break}c.push([l+a.bottomleft,u]),r=0,o=1,i=0,p=!0;break}c.push([l,u]),r=-1,o=0,i=0}else if(1===o)if(0===i){if(!(s&w)){if(s&_){c.push([l+a.topleft,u+1]),r=0,o=-1,i=0,p=!0;break}c.push([l+a.topright,u+1]),r=0,o=-1,i=1,p=!0;break}c.push([l+1,u+1]),r=1,o=0,i=1}else c.push([l+1,u+1]),r=1,o=0,i=1;else if(-1===r)if(0===i){if(!(s&_)){if(1&s){c.push([l,u+a.leftbottom]),r=1,o=0,i=0,p=!0;break}c.push([l,u+a.lefttop]),r=1,o=0,i=1,p=!0;break}c.push([l,u+1]),r=0,o=1,i=0}else{if(!(s&_)){console.log("MarchingSquaresJS-isoBands: wtf");break}c.push([l,u+1]),r=0,o=1,i=0}else{if(1!==r){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(0===i){if(!(4&s)){c.push([l+1,u+a.rightbottom]),r=-1,o=0,i=0,p=!0;break}c.push([l+1,u]),r=0,o=-1,i=1}else{if(!(4&s)){if(s&w){c.push([l+1,u+a.righttop]),r=-1,o=0,i=1;break}c.push([l+1,u+a.rightbottom]),r=-1,o=0,i=0,p=!0;break}c.push([l+1,u]),r=0,o=-1,i=1}}else if(s=(a=e.cells[u][l]).cval_real,-1===r)if(0===i)if(void 0!==e.cells[u-1]&&void 0!==e.cells[u-1][l])r=0,o=-1,i=1;else{if(!(1&s)){c.push([l+a.bottomright,u]),r=0,o=1,i=1,p=!0;break}c.push([l,u])}else{if(!(s&_)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+l+","+u);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(1===r){if(0===i){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==e.cells[u+1]&&void 0!==e.cells[u+1][l])r=0,o=1,i=0;else{if(!(s&w)){c.push([l+a.topleft,u+1]),r=0,o=-1,i=0,p=!0;break}c.push([l+1,u+1]),r=1,o=0,i=1}}else if(-1===o){if(1!==i){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==e.cells[u][l+1])r=1,o=0,i=1;else{if(!(4&s)){c.push([l+1,u+a.righttop]),r=-1,o=0,i=1,p=!0;break}c.push([l+1,u]),r=0,o=-1,i=1}}else{if(1!==o){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(0!==i){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==e.cells[u][l-1])r=-1,o=0,i=0;else{if(!(s&_)){c.push([l,u+a.leftbottom]),r=1,o=0,i=0,p=!0;break}c.push([l,u+1]),r=0,o=1,i=0}}if(u+=o,(l+=r)===t&&u===n)break}return{path:c,i:l,j:u,x:r,y:o,o:i}}function fe(e){if(e.edges.length>0){var t=e.edges[e.edges.length-1],n=e.cval_real;switch(t){case 0:return n&w?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.topleft,1],x:0,y:-1,o:0};case 1:return 4&n?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 2:return 4&n?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[e.topleft,1],x:0,y:-1,o:0};case 3:return 1&n?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 4:return n&w?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};case 5:return 4&n?{p:[e.topright,1],x:0,y:-1,o:1}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 6:return 4&n?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};case 7:return 1&n?{p:[e.topright,1],x:0,y:-1,o:1}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 8:return 4&n?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[1,e.righttop],x:-1,y:0,o:1};case 9:return 1&n?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 10:return 1&n?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[1,e.righttop],x:-1,y:0,o:1};case 11:return n&_?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[0,e.lefttop],x:1,y:0,o:1};case 12:return 4&n?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 13:return 1&n?{p:[1,e.rightbottom],x:-1,y:0,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 14:return 1&n?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 15:return n&_?{p:[1,e.rightbottom],x:-1,y:0,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 16:return 4&n?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[0,e.leftbottom],x:1,y:0,o:0};case 17:return n&_?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[0,e.lefttop],x:1,y:0,o:1};case 18:return 1&n?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 19:return n&_?{p:[e.bottomleft,0],x:0,y:1,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 20:return n&_?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[0,e.leftbottom],x:1,y:0,o:0};case 21:return n&w?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[e.topright,1],x:0,y:-1,o:1};case 22:return n&_?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 23:return n&w?{p:[0,e.lefttop],x:1,y:0,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(e)}}return null}function de(e,t,n,r){var o,i,a,s,l,u=e.cval;switch(t){case-1:0===r?(o=te[u],a=A[u],s=I[u],l=N[u]):(o=ee[u],a=j[u],s=T[u],l=M[u]);break;case 1:0===r?(o=oe[u],a=U[u],s=W[u],l=J[u]):(o=ie[u],a=B[u],s=V[u],l=G[u]);break;default:switch(n){case-1:0===r?(o=ae[u],a=P[u],s=C[u],l=O[u]):(o=se[u],a=x[u],s=S[u],l=E[u]);break;case 1:0===r?(o=re[u],a=D[u],s=z[u],l=R[u]):(o=ne[u],a=k[u],s=L[u],l=F[u])}}if(i=e.edges.indexOf(o),void 0===e.edges[i])return null;switch(function(e,t){delete e.edges[t];for(var n=t+1;n<e.edges.length;n++)e.edges[n-1]=e.edges[n];e.edges.pop()}(e,i),u=e.cval_real,o){case 0:u&w?(t=e.topleft,n=1):(t=1,n=e.righttop);break;case 1:4&u?(t=1,n=e.rightbottom):(t=e.topleft,n=1);break;case 2:4&u?(t=e.topleft,n=1):(t=e.bottomright,n=0);break;case 3:1&u?(t=e.bottomleft,n=0):(t=e.topleft,n=1);break;case 4:u&w?(t=e.topright,n=1):(t=1,n=e.righttop);break;case 5:4&u?(t=1,n=e.rightbottom):(t=e.topright,n=1);break;case 6:4&u?(t=e.topright,n=1):(t=e.bottomright,n=0);break;case 7:1&u?(t=e.bottomleft,n=0):(t=e.topright,n=1);break;case 8:4&u?(t=1,n=e.righttop):(t=e.bottomright,n=0);break;case 9:1&u?(t=e.bottomleft,n=0):(t=1,n=e.righttop);break;case 10:1&u?(t=1,n=e.righttop):(t=0,n=e.leftbottom);break;case 11:u&_?(t=0,n=e.lefttop):(t=1,n=e.righttop);break;case 12:4&u?(t=1,n=e.rightbottom):(t=e.bottomright,n=0);break;case 13:1&u?(t=e.bottomleft,n=0):(t=1,n=e.rightbottom);break;case 14:1&u?(t=1,n=e.rightbottom):(t=0,n=e.leftbottom);break;case 15:u&_?(t=0,n=e.lefttop):(t=1,n=e.rightbottom);break;case 16:4&u?(t=0,n=e.leftbottom):(t=e.bottomright,n=0);break;case 17:u&_?(t=0,n=e.lefttop):(t=e.bottomright,n=0);break;case 18:1&u?(t=e.bottomleft,n=0):(t=0,n=e.leftbottom);break;case 19:u&_?(t=0,n=e.lefttop):(t=e.bottomleft,n=0);break;case 20:u&_?(t=0,n=e.leftbottom):(t=e.topleft,n=1);break;case 21:u&w?(t=e.topright,n=1):(t=0,n=e.leftbottom);break;case 22:u&_?(t=0,n=e.lefttop):(t=e.topleft,n=1);break;case 23:u&w?(t=e.topright,n=1):(t=0,n=e.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(e),null}return void 0!==t&&void 0!==n&&void 0!==a&&void 0!==s&&void 0!==l||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(e),console.log(t+" "+n+" "+a+" "+s+" "+l)),{p:[t,n],x:a,y:s,o:l}}function he(e,t,n){if(n=n||{},!l.isObject(n))throw new Error("options is invalid");var r=n.zProperty||"elevation",o=n.commonProperties||{},i=n.breaksProperties||[];if(s.collectionOf(e,"Point","Input must contain Points"),!t)throw new Error("breaks is required");if(!Array.isArray(t))throw new Error("breaks is not an Array");if(!l.isObject(o))throw new Error("commonProperties is not an Object");if(!Array.isArray(i))throw new Error("breaksProperties is not an Array");var a=function(e,t){if(t=t||{},!l.isObject(t))throw new Error("options is invalid");var n=t.zProperty||"elevation",r=t.flip,o=t.flags;s.collectionOf(e,"Point","input must contain Points");for(var i=function(e,t){var n={};return c.featureEach(e,(function(e){var t=s.getCoords(e)[1];n[t]||(n[t]=[]),n[t].push(e)})),Object.keys(n).map((function(e){return n[e].sort((function(e,t){return s.getCoords(e)[0]-s.getCoords(t)[0]}))})).sort((function(e,n){return t?s.getCoords(e[0])[1]-s.getCoords(n[0])[1]:s.getCoords(n[0])[1]-s.getCoords(e[0])[1]}))}(e,r),a=[],u=0;u<i.length;u++){for(var p=i[u],f=[],d=0;d<p.length;d++){var h=p[d];h.properties[n]?f.push(h.properties[n]):f.push(0),!0===o&&(h.properties.matrixPosition=[u,d])}a.push(f)}return a}(e,{zProperty:r,flip:!0}),u=function(e,t,n){for(var r=[],o=1;o<t.length;o++){var i=+t[o-1],a=+t[o],s=ge(ye(b(e,i,a-i))),l={};l.groupedRings=s,l[n]=i+"-"+a,r.push(l)}return r}(a,t,r);u=function(e,t,n){var r=f.default(n),o=r[2]-r[0],i=r[3]-r[1],a=r[0],s=r[1],l=t[0].length-1,u=t.length-1,c=o/l,p=i/u,d=function(e){e[0]=e[0]*c+a,e[1]=e[1]*p+s};return e.forEach((function(e){e.groupedRings.forEach((function(e){e.forEach((function(e){e.forEach(d)}))}))})),e}(u,a,e);var p=u.map((function(e,t){if(i[t]&&!l.isObject(i[t]))throw new Error("Each mappedProperty is required to be an Object");var n=g.default({},o,i[t]);return n[r]=e[r],l.multiPolygon(e.groupedRings,n)}));return l.featureCollection(p)}function ye(e){var t=[],n=[];e.forEach((function(e){var r=d.default(l.polygon([e]));n.push(r),t.push({ring:e,area:r})})),n.sort((function(e,t){return t-e}));var r=[];return n.forEach((function(e){for(var n=0;n<t.length;n++)if(t[n].area===e){r.push(t[n].ring),t.splice(n,1);break}})),r}function ge(e){for(var t=e.map((function(e){return{lrCoordinates:e,grouped:!1}})),n=[];!ve(t);)for(var r=0;r<t.length;r++)if(!t[r].grouped){var o=[];o.push(t[r].lrCoordinates),t[r].grouped=!0;for(var i=l.polygon([t[r].lrCoordinates]),a=r+1;a<t.length;a++)t[a].grouped||me(l.polygon([t[a].lrCoordinates]),i)&&(o.push(t[a].lrCoordinates),t[a].grouped=!0);n.push(o)}return n}function me(e,t){for(var n=y.default(e),r=0;r<n.features.length;r++)if(!h.default(n.features[r],t))return!1;return!0}function ve(e){for(var t=0;t<e.length;t++)if(!1===e[t].grouped)return!1;return!0}le[1]=le[169]=H,le[4]=le[166]=q,le[16]=le[154]=Y,le[64]=le[106]=X,le[168]=le[2]=Z,le[162]=le[8]=K,le[138]=le[32]=Q,le[42]=le[128]=$,le[5]=le[165]=function(e){return[[0,0],[0,e.leftbottom],[1,e.rightbottom],[1,0]]},le[20]=le[150]=function(e){return[[1,0],[e.bottomright,0],[e.topright,1],[1,1]]},le[80]=le[90]=function(e){return[[1,1],[1,e.righttop],[0,e.lefttop],[0,1]]},le[65]=le[105]=function(e){return[[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},le[160]=le[10]=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.leftbottom],[0,e.lefttop]]},le[130]=le[40]=function(e){return[[e.topleft,1],[e.topright,1],[e.bottomright,0],[e.bottomleft,0]]},le[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},le[101]=le[69]=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,1],[e.topleft,1]]},le[149]=le[21]=function(e){return[[e.topright,1],[1,1],[1,0],[0,0],[0,e.leftbottom]]},le[86]=le[84]=function(e){return[[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[1,1]]},le[89]=le[81]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,1]]},le[96]=le[74]=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.lefttop],[0,1],[e.topleft,1]]},le[24]=le[146]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[e.topright,1]]},le[6]=le[164]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop]]},le[129]=le[41]=function(e){return[[e.topright,1],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1]]},le[66]=le[104]=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},le[144]=le[26]=function(e){return[[1,1],[1,e.righttop],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},le[36]=le[134]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[e.topleft,1],[e.topright,1]]},le[9]=le[161]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom]]},le[37]=le[133]=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},le[148]=le[22]=function(e){return[[1,1],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},le[82]=le[88]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1]]},le[73]=le[97]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},le[145]=le[25]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},le[70]=le[100]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},le[34]=function(e){return[$(e),K(e)]},le[35]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},le[136]=function(e){return[Q(e),Z(e)]},le[153]=function(e){return[Y(e),H(e)]},le[102]=function(e){return[q(e),X(e)]},le[155]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},le[103]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},le[152]=function(e){return[Y(e),Z(e)]},le[156]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},le[137]=function(e){return[Q(e),H(e)]},le[139]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},le[98]=function(e){return[K(e),X(e)]},le[99]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},le[38]=function(e){return[q(e),$(e)]},le[39]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},e.exports=he,e.exports.default=he},7928:(e,t,n)=>{"use strict";var r=n(9705),o=n(31540),i=n(10611),a=n(84102),s=n(27418);function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=l(r),c=l(s),p={successCallback:null,verbose:!1},f={};function d(e,t,n){n=n||{};for(var r=Object.keys(p),o=0;o<r.length;o++){var i=r[o],a=n[i];a=null!=a?a:p[i],f[i]=a}f.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+t);var s,l,u,c=(s=function(e,t){for(var n=e.length-1,r=e[0].length-1,o={rows:n,cols:r,cells:[]},i=0;i<n;++i){o.cells[i]=[];for(var a=0;a<r;++a){var s=0,l=e[i+1][a],u=e[i+1][a+1],c=e[i][a+1],p=e[i][a];if(!(isNaN(l)||isNaN(u)||isNaN(c)||isNaN(p))){s|=l>=t?8:0,s|=u>=t?4:0,s|=c>=t?2:0;var f,d,y,g,m=!1;if(5==(s|=p>=t?1:0)||10===s){var v=(l+u+c+p)/4;5===s&&v<t?(s=10,m=!0):10===s&&v<t&&(s=5,m=!0)}0!==s&&15!==s&&(f=d=y=g=.5,1===s?(y=1-h(t,l,p),d=1-h(t,c,p)):2===s?(d=h(t,p,c),g=1-h(t,u,c)):3===s?(y=1-h(t,l,p),g=1-h(t,u,c)):4===s?(f=h(t,l,u),g=h(t,c,u)):5===s?(f=h(t,l,u),g=h(t,c,u),d=1-h(t,c,p),y=1-h(t,l,p)):6===s?(d=h(t,p,c),f=h(t,l,u)):7===s?(y=1-h(t,l,p),f=h(t,l,u)):8===s?(y=h(t,p,l),f=1-h(t,u,l)):9===s?(d=1-h(t,c,p),f=1-h(t,u,l)):10===s?(f=1-h(t,u,l),g=1-h(t,u,c),d=h(t,p,c),y=h(t,p,l)):11===s?(f=1-h(t,u,l),g=1-h(t,u,c)):12===s?(y=h(t,p,l),g=h(t,c,u)):13===s?(d=1-h(t,c,p),g=h(t,c,u)):14===s?(y=h(t,p,l),d=h(t,p,c)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+s),o.cells[i][a]={cval:s,flipped:m,top:f,right:g,bottom:d,left:y})}}}return o}(e,t),l=[],u=0,1e-7,s.cells.forEach((function(e,t){e.forEach((function(e,n){if(void 0!==e&&5!==(f=e).cval&&10!==f.cval&&!y(e)){var r=function(e,t,n){var r,o,i=e.length,a=[],s=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],l=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],u=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],c=e[t][n],p=c.cval,f=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"][p],d=m(c,f);a.push([n+d[0],t+d[1]]),d=m(c,f=u[p]),a.push([n+d[0],t+d[1]]),g(c);for(var h=n+s[p],y=t+l[p],v=p;h>=0&&y>=0&&y<i&&(h!=n||y!=t)&&void 0!==(c=e[y][h]);){if(0===(p=c.cval)||15===p)return{path:a,info:"mergeable"};f=u[p],r=s[p],o=l[p],5!==p&&10!==p||(5===p?c.flipped?-1===l[v]?(f="left",r=-1,o=0):(f="right",r=1,o=0):-1===s[v]&&(f="bottom",r=0,o=-1):10===p&&(c.flipped?-1===s[v]?(f="top",r=0,o=1):(f="bottom",r=0,o=-1):1===l[v]&&(f="left",r=-1,o=0))),d=m(c,f),a.push([h+d[0],y+d[1]]),g(c),h+=r,y+=o,v=p}return{path:a,info:"closed"}}(s.cells,t,n),o=!1;if("mergeable"===r.info)for(var i=r.path[r.path.length-1][0],a=r.path[r.path.length-1][1],c=u-1;c>=0;c--)if(Math.abs(l[c][0][0]-i)<=1e-7&&Math.abs(l[c][0][1]-a)<=1e-7){for(var p=r.path.length-2;p>=0;--p)l[c].unshift(r.path[p]);o=!0;break}o||(l[u++]=r.path)}var f}))})),l);return"function"==typeof f.successCallback&&f.successCallback(c),c}function h(e,t,n){return(e-t)/(n-t)}function y(e){return 0===e.cval||15===e.cval}function g(e){y(e)||5===e.cval||10===e.cval||(e.cval=15)}function m(e,t){return"top"===t?[e.top,1]:"bottom"===t?[e.bottom,0]:"right"===t?[1,e.right]:"left"===t?[0,e.left]:void 0}function v(e,t,n){if(n=n||{},!a.isObject(n))throw new Error("options is invalid");var r=n.zProperty||"elevation",s=n.commonProperties||{},l=n.breaksProperties||[];if(i.collectionOf(e,"Point","Input must contain Points"),!t)throw new Error("breaks is required");if(!Array.isArray(t))throw new Error("breaks must be an Array");if(!a.isObject(s))throw new Error("commonProperties must be an Object");if(!Array.isArray(l))throw new Error("breaksProperties must be an Array");var p=function(e,t){if(t=t||{},!a.isObject(t))throw new Error("options is invalid");var n=t.zProperty||"elevation",r=t.flip,s=t.flags;i.collectionOf(e,"Point","input must contain Points");for(var l=function(e,t){var n={};return o.featureEach(e,(function(e){var t=i.getCoords(e)[1];n[t]||(n[t]=[]),n[t].push(e)})),Object.keys(n).map((function(e){return n[e].sort((function(e,t){return i.getCoords(e)[0]-i.getCoords(t)[0]}))})).sort((function(e,n){return t?i.getCoords(e[0])[1]-i.getCoords(n[0])[1]:i.getCoords(n[0])[1]-i.getCoords(e[0])[1]}))}(e,r),u=[],c=0;c<l.length;c++){for(var p=l[c],f=[],d=0;d<p.length;d++){var h=p[d];h.properties[n]?f.push(h.properties[n]):f.push(0),!0===s&&(h.properties.matrixPosition=[c,d])}u.push(f)}return u}(e,{zProperty:r,flip:!0}),f=function(e,t,n,r,o){for(var i=[],s=1;s<t.length;s++){var l=+t[s],u=c.default({},r,o[s]);u[n]=l;var p=a.multiLineString(d(e,l),u);i.push(p)}return i}(p,t,r,s,l),h=function(e,t,n){var r=u.default(n),i=r[2]-r[0],a=r[3]-r[1],s=r[0],l=r[1],c=t[0].length-1,p=t.length-1,f=i/c,d=a/p,h=function(e){e[0]=e[0]*f+s,e[1]=e[1]*d+l};return e.forEach((function(e){o.coordEach(e,h)})),e}(f,p,e);return a.featureCollection(h)}e.exports=v,e.exports.default=v},81641:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(84102);t.default=function(e){var t,n,o={type:"FeatureCollection",features:[]};if("LineString"===(n="Feature"===e.type?e.geometry:e).type)t=[n.coordinates];else if("MultiLineString"===n.type)t=n.coordinates;else if("MultiPolygon"===n.type)t=[].concat.apply([],n.coordinates);else{if("Polygon"!==n.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");t=n.coordinates}return t.forEach((function(e){t.forEach((function(t){for(var n=0;n<e.length-1;n++)for(var i=n;i<t.length-1;i++){if(e===t){if(1===Math.abs(n-i))continue;if(0===n&&i===e.length-2&&e[n][0]===e[e.length-1][0]&&e[n][1]===e[e.length-1][1])continue}var a=(s=e[n][0],l=e[n][1],u=e[n+1][0],c=e[n+1][1],p=t[i][0],f=t[i][1],d=t[i+1][0],h=t[i+1][1],y=void 0,g=void 0,m=void 0,v=void 0,b=void 0,b={x:null,y:null,onLine1:!1,onLine2:!1},0==(y=(h-f)*(u-s)-(d-p)*(c-l))?null!==b.x&&null!==b.y&&b:(v=(u-s)*(g=l-f)-(c-l)*(m=s-p),g=((d-p)*g-(h-f)*m)/y,m=v/y,b.x=s+g*(u-s),b.y=l+g*(c-l),g>=0&&g<=1&&(b.onLine1=!0),m>=0&&m<=1&&(b.onLine2=!0),!(!b.onLine1||!b.onLine2)&&[b.x,b.y]));a&&o.features.push(r.point([a[0],a[1]]))}var s,l,u,c,p,f,d,h,y,g,m,v,b}))})),o}},10091:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(31013)),i=n(31540);t.default=function(e,t){return void 0===t&&(t={}),i.segmentReduce(e,(function(e,n){var r=n.geometry.coordinates;return e+o.default(r[0],r[1],t)}),0)}},67272:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(90265)),i=r(n(93737)),a=n(84102);function s(e){var t=e%360;return t<0&&(t+=360),t}t.default=function(e,t,n,r,l){void 0===l&&(l={});var u=l.steps||64,c=s(n),p=s(r),f=Array.isArray(e)||"Feature"!==e.type?{}:e.properties;if(c===p)return a.lineString(o.default(e,t,l).geometry.coordinates[0],f);for(var d=c,h=c<p?p:p+360,y=d,g=[],m=0;y<h;)g.push(i.default(e,t,y,l).geometry.coordinates),y=d+360*++m/u;return y>h&&g.push(i.default(e,t,h,l).geometry.coordinates),a.lineString(g,f)}},39632:(e,t,n)=>{"use strict";var r=n(10091),o=n(51378),i=n(31540),a=n(84102);function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=s(r),u=s(o);function c(e,t,n){if(n=n||{},!a.isObject(n))throw new Error("options is invalid");var r=n.units,o=n.reverse;if(!e)throw new Error("geojson is required");if(t<=0)throw new Error("segmentLength must be greater than 0");var s=[];return i.flattenEach(e,(function(e){o&&(e.geometry.coordinates=e.geometry.coordinates.reverse()),function(e,t,n,r){var o=l.default(e,{units:n});if(o<=t)return r(e);var i=o/t;Number.isInteger(i)||(i=Math.floor(i)+1);for(var a=0;a<i;a++)r(u.default(e,t*a,t*(a+1),{units:n}))}(e,t,r,(function(e){s.push(e)}))})),a.featureCollection(s)}e.exports=c,e.exports.default=c},73663:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(84102),i=n(10611),a=r(n(54590)),s=n(31540),l=r(n(51787));function u(e,t){var n=i.getCoords(e),r=i.getCoords(t);if(2!==n.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==r.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var a=n[0][0],s=n[0][1],l=n[1][0],u=n[1][1],c=r[0][0],p=r[0][1],f=r[1][0],d=r[1][1],h=(d-p)*(l-a)-(f-c)*(u-s);if(0===h)return null;var y=((f-c)*(s-p)-(d-p)*(a-c))/h,g=((l-a)*(s-p)-(u-s)*(a-c))/h;if(y>=0&&y<=1&&g>=0&&g<=1){var m=a+y*(l-a),v=s+y*(u-s);return o.point([m,v])}return null}t.default=function(e,t){var n={},r=[];if("LineString"===e.type&&(e=o.feature(e)),"LineString"===t.type&&(t=o.feature(t)),"Feature"===e.type&&"Feature"===t.type&&null!==e.geometry&&null!==t.geometry&&"LineString"===e.geometry.type&&"LineString"===t.geometry.type&&2===e.geometry.coordinates.length&&2===t.geometry.coordinates.length){var c=u(e,t);return c&&r.push(c),o.featureCollection(r)}var p=l.default();return p.load(a.default(t)),s.featureEach(a.default(e),(function(e){s.featureEach(p.search(e),(function(t){var o=u(e,t);if(o){var a=i.getCoords(o).join(",");n[a]||(n[a]=!0,r.push(o))}}))})),o.featureCollection(r)}},15668:(e,t,n)=>{"use strict";var r=n(31540),o=n(10611),i=n(84102);function a(e){var t=e[0],n=e[1];return[n[0]-t[0],n[1]-t[1]]}function s(e,t){return e[0]*t[1]-t[0]*e[1]}function l(e,t,n){if(n=n||{},!i.isObject(n))throw new Error("options is invalid");var a=n.units;if(!e)throw new Error("geojson is required");if(null==t||isNaN(t))throw new Error("distance is required");var s=o.getType(e),l=e.properties;switch(s){case"LineString":return u(e,t,a);case"MultiLineString":var c=[];return r.flattenEach(e,(function(e){c.push(u(e,t,a).geometry.coordinates)})),i.multiLineString(c,l);default:throw new Error("geometry "+s+" is not supported")}}function u(e,t,n){var r=[],l=i.lengthToDegrees(t,n),u=o.getCoords(e),c=[];return u.forEach((function(e,t){if(t!==u.length-1){var n=(d=e,h=u[t+1],y=l,g=Math.sqrt((d[0]-h[0])*(d[0]-h[0])+(d[1]-h[1])*(d[1]-h[1])),m=d[0]+y*(h[1]-d[1])/g,v=h[0]+y*(h[1]-d[1])/g,[[m,d[1]+y*(d[0]-h[0])/g],[v,h[1]+y*(d[0]-h[0])/g]]);if(r.push(n),t>0){var o=r[t-1],i=!function(e,t){return 0===s(a(e),a(t))}(p=n,f=o)&&function(e,t){var n,r,o=e[0],i=a(e),l=t[0],u=a(t),c=s(i,u),p=function(e,t){return[e[0]+t[0],e[1]+t[1]]}(o,function(e,t){return[e*t[0],e*t[1]]}(s((r=o,[(n=l)[0]-r[0],n[1]-r[1]]),u)/c,i));return p}(p,f);!1!==i&&(o[1]=i,n[0]=i),c.push(o[0]),t===u.length-2&&(c.push(n[0]),c.push(n[1]))}2===u.length&&(c.push(n[0]),c.push(n[1]))}var p,f,d,h,y,g,m,v})),i.lineString(c,e.properties)}e.exports=l,e.exports.default=l},90273:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(51787)),i=r(n(54590)),a=r(n(13807)),s=r(n(72793)),l=n(10611),u=n(31540),c=n(84102),p=r(n(10251));function f(e,t){var n=l.getCoords(t),r=l.getCoords(e),o=r[0],i=r[r.length-1],a=e.geometry.coordinates;return p.default(n[0],o)?a.unshift(n[1]):p.default(n[0],i)?a.push(n[1]):p.default(n[1],o)?a.unshift(n[0]):p.default(n[1],i)&&a.push(n[0]),e}t.default=function(e,t,n){if(void 0===n&&(n={}),n=n||{},!c.isObject(n))throw new Error("options is invalid");var r,d=n.tolerance||0,h=[],y=o.default(),g=i.default(e);return y.load(g),u.segmentEach(t,(function(e){var t=!1;e&&(u.featureEach(y.search(e),(function(n){if(!1===t){var o=l.getCoords(e).sort(),i=l.getCoords(n).sort();p.default(o,i)||(0===d?s.default(o[0],n)&&s.default(o[1],n):a.default(n,o[0]).properties.dist<=d&&a.default(n,o[1]).properties.dist<=d)?(t=!0,r=r?f(r,e):e):(0===d?s.default(i[0],e)&&s.default(i[1],e):a.default(e,i[0]).properties.dist<=d&&a.default(e,i[1]).properties.dist<=d)&&(r=r?f(r,n):n)}})),!1===t&&r&&(h.push(r),r=void 0))})),r&&h.push(r),c.featureCollection(h)}},54590:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(84102),o=n(10611),i=n(31540);t.default=function(e){if(!e)throw new Error("geojson is required");var t=[];return i.flattenEach(e,(function(e){!function(e,t){var n=[],i=e.geometry;if(null!==i){switch(i.type){case"Polygon":n=o.getCoords(i);break;case"LineString":n=[o.getCoords(i)]}n.forEach((function(n){var o=function(e,t){var n=[];return e.reduce((function(e,o){var i,a,s,l,u,c,p=r.lineString([e,o],t);return p.bbox=(a=o,s=(i=e)[0],l=i[1],[s<(u=a[0])?s:u,l<(c=a[1])?l:c,s>u?s:u,l>c?l:c]),n.push(p),o})),n}(n,e.properties);o.forEach((function(e){e.id=t.length,t.push(e)}))}))}}(e,t)})),r.featureCollection(t)}},51378:(e,t,n)=>{"use strict";var r=n(51208),o=n(31013),i=n(93737),a=n(84102);function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=s(r),u=s(o),c=s(i);function p(e,t,n,r){if(r=r||{},!a.isObject(r))throw new Error("options is invalid");var o,i=[];if("Feature"===e.type)o=e.geometry.coordinates;else{if("LineString"!==e.type)throw new Error("input must be a LineString Feature or Geometry");o=e.coordinates}for(var s,p,f,d=o.length,h=0,y=0;y<o.length&&!(t>=h&&y===o.length-1);y++){if(h>t&&0===i.length){if(!(s=t-h))return i.push(o[y]),a.lineString(i);p=l.default(o[y],o[y-1])-180,f=c.default(o[y],s,p,r),i.push(f.geometry.coordinates)}if(h>=n)return(s=n-h)?(p=l.default(o[y],o[y-1])-180,f=c.default(o[y],s,p,r),i.push(f.geometry.coordinates),a.lineString(i)):(i.push(o[y]),a.lineString(i));if(h>=t&&i.push(o[y]),y===o.length-1)return a.lineString(i);h+=u.default(o[y],o[y+1],r)}if(h<t&&o.length===d)throw new Error("Start position is beyond line");var g=o[o.length-1];return a.lineString([g,g])}e.exports=p,e.exports.default=p},74792:(e,t,n)=>{"use strict";var r=n(10611),o=n(84102);function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=i(n(13807));function s(e,t,n){var i=r.getCoords(n);if("LineString"!==r.getType(n))throw new Error("line must be a LineString");for(var s,l=a.default(n,e),u=a.default(n,t),c=[(s=l.properties.index<=u.properties.index?[l,u]:[u,l])[0].geometry.coordinates],p=s[0].properties.index+1;p<s[1].properties.index+1;p++)c.push(i[p]);return c.push(s[1].geometry.coordinates),o.lineString(c,n.properties)}e.exports=s,e.exports.default=s},7477:(e,t,n)=>{"use strict";var r=n(51787),o=n(55077),i=n(9705),a=n(15608),s=n(54590),l=n(73663),u=n(13807),c=n(10611),p=n(31540),f=n(84102);function d(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var h=d(r),y=d(o),g=d(i),m=d(a),v=d(s),b=d(l),_=d(u);function w(e,t){if(!e)throw new Error("line is required");if(!t)throw new Error("splitter is required");var n=c.getType(e),r=c.getType(t);if("LineString"!==n)throw new Error("line must be LineString");if("FeatureCollection"===r)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===r)throw new Error("splitter cannot be a GeometryCollection");var o=m.default(t,{precision:7});switch(r){case"Point":return C(e,o);case"MultiPoint":return P(e,o);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return P(e,b.default(e,o))}}function P(e,t){var n=[],r=h.default();return p.flattenEach(t,(function(t){if(n.forEach((function(e,t){e.id=t})),n.length){var o=r.search(t);if(o.features.length){var i=O(t,o);n=n.filter((function(e){return e.id!==i.id})),r.remove(i),p.featureEach(C(i,t),(function(e){n.push(e),r.insert(e)}))}}else(n=C(e,t).features).forEach((function(e){e.bbox||(e.bbox=y.default(g.default(e)))})),r.load(f.featureCollection(n))})),f.featureCollection(n)}function C(e,t){var n=[],r=c.getCoords(e)[0],o=c.getCoords(e)[e.geometry.coordinates.length-1];if(x(r,c.getCoord(t))||x(o,c.getCoord(t)))return f.featureCollection([e]);var i=h.default(),a=v.default(e);i.load(a);var s=i.search(t);if(!s.features.length)return f.featureCollection([e]);var l=O(t,s),u=[r],d=p.featureReduce(a,(function(e,r,o){var i=c.getCoords(r)[1],a=c.getCoord(t);return o===l.id?(e.push(a),n.push(f.lineString(e)),x(a,i)?[a]:[a,i]):(e.push(i),e)}),u);return d.length>1&&n.push(f.lineString(d)),f.featureCollection(n)}function O(e,t){if(!t.features.length)throw new Error("lines must contain features");if(1===t.features.length)return t.features[0];var n,r=1/0;return p.featureEach(t,(function(t){var o=_.default(t,e).properties.dist;o<r&&(n=t,r=o)})),n}function x(e,t){return e[0]===t[0]&&e[1]===t[1]}e.exports=w,e.exports.default=w},41933:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(9705)),i=n(10611),a=n(84102),s=r(n(76565));function l(e,t,n,r){t=t||("Feature"===e.type?e.properties:{});var s=i.getGeom(e),l=s.coordinates,c=s.type;if(!l.length)throw new Error("line must contain coordinates");switch(c){case"LineString":return n&&(l=u(l)),a.polygon([l],t);case"MultiLineString":var p=[],f=0;return l.forEach((function(e){if(n&&(e=u(e)),r){var t=(s=(i=o.default(a.lineString(e)))[0],l=i[1],c=i[2],d=i[3],Math.abs(s-c)*Math.abs(l-d));t>f?(p.unshift(e),f=t):p.push(e)}else p.push(e);var i,s,l,c,d})),a.polygon(p,t);default:throw new Error("geometry type "+c+" is not supported")}}function u(e){var t=e[0],n=t[0],r=t[1],o=e[e.length-1],i=o[0],a=o[1];return n===i&&r===a||e.push(t),e}t.default=function(e,t){var n,r,o;void 0===t&&(t={});var u=t.properties,c=null===(n=t.autoComplete)||void 0===n||n,p=null===(r=t.orderCoords)||void 0===r||r;if(null!==(o=t.mutate)&&void 0!==o&&o||(e=s.default(e)),"FeatureCollection"===e.type){var f=[];return e.features.forEach((function(e){f.push(i.getCoords(l(e,{},c,p)))})),a.multiPolygon(f,u)}return l(e,u,c,p)}},60482:(e,t,n)=>{"use strict";var r=n(84102);function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=o(n(24629));function a(e,t){var n,o=function(e){var t=e&&e.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]];return r.polygon(t)}(t);return("FeatureCollection"===e.type?s(2===(n=e).features.length?i.default.union(n.features[0].geometry.coordinates,n.features[1].geometry.coordinates):i.default.union.apply(i.default,n.features.map((function(e){return e.geometry.coordinates})))):s(i.default.union(e.geometry.coordinates))).geometry.coordinates.forEach((function(e){o.geometry.coordinates.push(e[0])})),o}function s(e){return r.multiPolygon(e)}e.exports=a,e.exports.default=a},31540:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(84102);function o(e,t,n){if(null!==e)for(var r,i,a,s,l,u,c,p,f=0,d=0,h=e.type,y="FeatureCollection"===h,g="Feature"===h,m=y?e.features.length:1,v=0;v<m;v++){l=(p=!!(c=y?e.features[v].geometry:g?e.geometry:e)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var b=0;b<l;b++){var _=0,w=0;if(null!==(s=p?c.geometries[b]:c)){u=s.coordinates;var P=s.type;switch(f=!n||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(u,d,v,_,w))return!1;d++,_++;break;case"LineString":case"MultiPoint":for(r=0;r<u.length;r++){if(!1===t(u[r],d,v,_,w))return!1;d++,"MultiPoint"===P&&_++}"LineString"===P&&_++;break;case"Polygon":case"MultiLineString":for(r=0;r<u.length;r++){for(i=0;i<u[r].length-f;i++){if(!1===t(u[r][i],d,v,_,w))return!1;d++}"MultiLineString"===P&&_++,"Polygon"===P&&w++}"Polygon"===P&&_++;break;case"MultiPolygon":for(r=0;r<u.length;r++){for(w=0,i=0;i<u[r].length;i++){for(a=0;a<u[r][i].length-f;a++){if(!1===t(u[r][i][a],d,v,_,w))return!1;d++}w++}_++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(!1===o(s.geometries[r],t,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(e,t){var n;switch(e.type){case"FeatureCollection":for(n=0;n<e.features.length&&!1!==t(e.features[n].properties,n);n++);break;case"Feature":t(e.properties,0)}}function a(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var n=0;n<e.features.length&&!1!==t(e.features[n],n);n++);}function s(e,t){var n,r,o,i,a,s,l,u,c,p,f=0,d="FeatureCollection"===e.type,h="Feature"===e.type,y=d?e.features.length:1;for(n=0;n<y;n++){for(s=d?e.features[n].geometry:h?e.geometry:e,u=d?e.features[n].properties:h?e.properties:{},c=d?e.features[n].bbox:h?e.bbox:void 0,p=d?e.features[n].id:h?e.id:void 0,a=(l=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=l?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,f,u,c,p))return!1;break;case"GeometryCollection":for(r=0;r<i.geometries.length;r++)if(!1===t(i.geometries[r],f,u,c,p))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,f,u,c,p))return!1;f++}}function l(e,t){s(e,(function(e,n,o,i,a){var s,l=null===e?null:e.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return!1!==t(r.feature(e,o,{bbox:i,id:a}),n,0)&&void 0}switch(l){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var u=0;u<e.coordinates.length;u++){var c={type:s,coordinates:e.coordinates[u]};if(!1===t(r.feature(c,o),n,u))return!1}}))}function u(e,t){l(e,(function(e,n,i){var a=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var l,u=0,c=0,p=0;return!1!==o(e,(function(o,s,f,d,h){if(void 0===l||n>u||d>c||h>p)return l=o,u=n,c=d,p=h,void(a=0);var y=r.lineString([l,o],e.properties);if(!1===t(y,n,i,h,a))return!1;a++,l=o}))&&void 0}}}))}function c(e,t){if(!e)throw new Error("geojson is required");l(e,(function(e,n,o){if(null!==e.geometry){var i=e.geometry.type,a=e.geometry.coordinates;switch(i){case"LineString":if(!1===t(e,n,o,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(r.lineString(a[s],e.properties),n,o,s))return!1}}}))}t.coordAll=function(e){var t=[];return o(e,(function(e){t.push(e)})),t},t.coordEach=o,t.coordReduce=function(e,t,n,r){var i=n;return o(e,(function(e,r,o,a,s){i=0===r&&void 0===n?e:t(i,e,r,o,a,s)}),r),i},t.featureEach=a,t.featureReduce=function(e,t,n){var r=n;return a(e,(function(e,o){r=0===o&&void 0===n?e:t(r,e,o)})),r},t.findPoint=function(e,t){if(t=t||{},!r.isObject(t))throw new Error("options is invalid");var n,o=t.featureIndex||0,i=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,l=t.properties;switch(e.type){case"FeatureCollection":o<0&&(o=e.features.length+o),l=l||e.features[o].properties,n=e.features[o].geometry;break;case"Feature":l=l||e.properties,n=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=e;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var u=n.coordinates;switch(n.type){case"Point":return r.point(u,l,t);case"MultiPoint":return i<0&&(i=u.length+i),r.point(u[i],l,t);case"LineString":return s<0&&(s=u.length+s),r.point(u[s],l,t);case"Polygon":return a<0&&(a=u.length+a),s<0&&(s=u[a].length+s),r.point(u[a][s],l,t);case"MultiLineString":return i<0&&(i=u.length+i),s<0&&(s=u[i].length+s),r.point(u[i][s],l,t);case"MultiPolygon":return i<0&&(i=u.length+i),a<0&&(a=u[i].length+a),s<0&&(s=u[i][a].length-s),r.point(u[i][a][s],l,t)}throw new Error("geojson is invalid")},t.findSegment=function(e,t){if(t=t||{},!r.isObject(t))throw new Error("options is invalid");var n,o=t.featureIndex||0,i=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,l=t.properties;switch(e.type){case"FeatureCollection":o<0&&(o=e.features.length+o),l=l||e.features[o].properties,n=e.features[o].geometry;break;case"Feature":l=l||e.properties,n=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=e;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var u=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=u.length+s-1),r.lineString([u[s],u[s+1]],l,t);case"Polygon":return a<0&&(a=u.length+a),s<0&&(s=u[a].length+s-1),r.lineString([u[a][s],u[a][s+1]],l,t);case"MultiLineString":return i<0&&(i=u.length+i),s<0&&(s=u[i].length+s-1),r.lineString([u[i][s],u[i][s+1]],l,t);case"MultiPolygon":return i<0&&(i=u.length+i),a<0&&(a=u[i].length+a),s<0&&(s=u[i][a].length-s-1),r.lineString([u[i][a][s],u[i][a][s+1]],l,t)}throw new Error("geojson is invalid")},t.flattenEach=l,t.flattenReduce=function(e,t,n){var r=n;return l(e,(function(e,o,i){r=0===o&&0===i&&void 0===n?e:t(r,e,o,i)})),r},t.geomEach=s,t.geomReduce=function(e,t,n){var r=n;return s(e,(function(e,o,i,a,s){r=0===o&&void 0===n?e:t(r,e,o,i,a,s)})),r},t.lineEach=c,t.lineReduce=function(e,t,n){var r=n;return c(e,(function(e,o,i,a){r=0===o&&void 0===n?e:t(r,e,o,i,a)})),r},t.propEach=i,t.propReduce=function(e,t,n){var r=n;return i(e,(function(e,o){r=0===o&&void 0===n?e:t(r,e,o)})),r},t.segmentEach=u,t.segmentReduce=function(e,t,n){var r=n,o=!1;return u(e,(function(e,i,a,s,l){r=!1===o&&void 0===n?e:t(r,e,i,a,s,l),o=!0})),r}},99034:(e,t,n)=>{"use strict";var r=n(51208),o=n(93737),i=n(31013);function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=a(r),l=a(o),u=a(i);function c(e,t){var n=u.default(e,t),r=s.default(e,t);return l.default(e,n/2,r)}e.exports=c,e.exports.default=c},10920:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(35366)),i=n(31540);function a(e){for(var t=0,n=0,r=e;n<r.length;n++)t+=r[n];return t/e.length}t.default=function(e,t){var n=t.inputField,r=t.threshold||1e5,s=t.p||2,l=t.binary||!1,u=t.alpha||-1,c=t.standardization||!0,p=o.default(e,{alpha:u,binary:l,p:s,standardization:c,threshold:r}),f=[];i.featureEach(e,(function(e){var t=e.properties||{};f.push(t[n])}));for(var d=a(f),h=function(e){for(var t=a(e),n=0,r=0,o=e;r<o.length;r++){var i=o[r];n+=Math.pow(i-t,2)}return n/e.length}(f),y=0,g=0,m=0,v=0,b=p.length,_=0;_<b;_++){for(var w=0,P=0;P<b;P++)y+=p[_][P]*(f[_]-d)*(f[P]-d),g+=p[_][P],m+=Math.pow(p[_][P]+p[P][_],2),w+=p[_][P]+p[P][_];v+=Math.pow(w,2)}var C=y/g/h,O=-1/(b-1),x=(b*b*(m*=.5)-b*v+g*g*3)/((b-1)*(b+1)*(g*g))-O*O,S=Math.sqrt(x);return{expectedMoranIndex:O,moranIndex:C,stdNorm:S,zNorm:(C-O)/S}}},13807:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(51208)),i=r(n(31013)),a=r(n(93737)),s=r(n(73663)),l=n(31540),u=n(84102),c=n(10611);t.default=function(e,t,n){void 0===n&&(n={});var r=u.point([1/0,1/0],{dist:1/0}),p=0;return l.flattenEach(e,(function(e){for(var l=c.getCoords(e),f=0;f<l.length-1;f++){var d=u.point(l[f]);d.properties.dist=i.default(t,d,n);var h=u.point(l[f+1]);h.properties.dist=i.default(t,h,n);var y=i.default(d,h,n),g=Math.max(d.properties.dist,h.properties.dist),m=o.default(d,h),v=a.default(t,g,m+90,n),b=a.default(t,g,m-90,n),_=s.default(u.lineString([v.geometry.coordinates,b.geometry.coordinates]),u.lineString([d.geometry.coordinates,h.geometry.coordinates])),w=null;_.features.length>0&&((w=_.features[0]).properties.dist=i.default(t,w,n),w.properties.location=p+i.default(d,w,n)),d.properties.dist<r.properties.dist&&((r=d).properties.index=f,r.properties.location=p),h.properties.dist<r.properties.dist&&((r=h).properties.index=f+1,r.properties.location=p+y),w&&w.properties.dist<r.properties.dist&&((r=w).properties.index=f),p+=y}})),r}},82059:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(10611),i=n(31540),a=r(n(63892)),s=r(n(27418));t.default=function(e,t,n){void 0===n&&(n={});var r=n.units,l=n.properties||{},u=function(e){var t=[];switch(e.geometry?e.geometry.type:e.type){case"GeometryCollection":return i.geomEach(e,(function(e){"Point"===e.type&&t.push({type:"Feature",properties:{},geometry:e})})),{type:"FeatureCollection",features:t};case"FeatureCollection":return e.features=e.features.filter((function(e){return"Point"===e.geometry.type})),e;default:throw new Error("points must be a Point Collection")}}(e);if(!u.features.length)throw new Error("points must contain features");if(!t)throw new Error("line is required");if("LineString"!==o.getType(t))throw new Error("line must be a LineString");var c=1/0,p=null;return i.featureEach(u,(function(e){var n=a.default(e,t,{units:r});n<c&&(c=n,p=e)})),p&&(p.properties=s.default({dist:c},p.properties,l)),p}},66379:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(76565)),i=r(n(31013)),a=n(31540);t.default=function(e,t){if(!e)throw new Error("targetPoint is required");if(!t)throw new Error("points is required");var n,r=1/0,s=0;return a.featureEach(t,(function(t,n){var o=i.default(e,t);o<r&&(s=n,r=o)})),(n=o.default(t.features[s])).properties.featureIndex=s,n.properties.distanceToPoint=r,n}},63377:(e,t,n)=>{"use strict";var r=n(10611);function o(e,t){var n=r.getCoord(e),o=r.getGeom(t).coordinates[0];if(o.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var i=t.properties||{},a=i.a,s=i.b,l=i.c,u=n[0],c=n[1],p=o[0][0],f=o[0][1],d=void 0!==a?a:o[0][2],h=o[1][0],y=o[1][1],g=void 0!==s?s:o[1][2],m=o[2][0],v=o[2][1],b=void 0!==l?l:o[2][2];return(b*(u-p)*(c-y)+d*(u-h)*(c-v)+g*(u-m)*(c-f)-g*(u-p)*(c-v)-b*(u-h)*(c-f)-d*(u-m)*(c-y))/((u-p)*(c-y)+(u-h)*(c-v)+(u-m)*(c-f)-(u-p)*(c-v)-(u-h)*(c-f)-(u-m)*(c-y))}e.exports=o,e.exports.default=o},36813:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(45184)),i=r(n(31013)),a=n(84102);t.default=function(e,t,n){void 0===n&&(n={}),n.mask&&!n.units&&(n.units="kilometers");for(var r=[],s=e[0],l=e[1],u=e[2],c=e[3],p=t/i.default([s,l],[u,l],n)*(u-s),f=t/i.default([s,l],[s,c],n)*(c-l),d=u-s,h=c-l,y=Math.floor(d/p),g=(h-Math.floor(h/f)*f)/2,m=s+(d-y*p)/2;m<=u;){for(var v=l+g;v<=c;){var b=a.point([m,v],n.properties);n.mask?o.default(b,n.mask)&&r.push(b):r.push(b),v+=f}m+=p}return a.featureCollection(r)}},55771:(e,t,n)=>{"use strict";var r=n(63922),o=n(78230),i=n(66379),a=n(88147),s=n(84102);function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=l(r),c=l(o),p=l(i),f=l(a);function d(e){for(var t=function(e){return"FeatureCollection"!==e.type?"Feature"!==e.type?s.featureCollection([s.feature(e)]):s.featureCollection([e]):e}(e),n=c.default(t),r=!1,o=0;!r&&o<t.features.length;){var i,a=t.features[o].geometry,l=!1;if("Point"===a.type)n.geometry.coordinates[0]===a.coordinates[0]&&n.geometry.coordinates[1]===a.coordinates[1]&&(r=!0);else if("MultiPoint"===a.type){var d=!1;for(i=0;!d&&i<a.coordinates.length;)n.geometry.coordinates[0]===a.coordinates[i][0]&&n.geometry.coordinates[1]===a.coordinates[i][1]&&(r=!0,d=!0),i++}else if("LineString"===a.type)for(i=0;!l&&i<a.coordinates.length-1;)h(n.geometry.coordinates[0],n.geometry.coordinates[1],a.coordinates[i][0],a.coordinates[i][1],a.coordinates[i+1][0],a.coordinates[i+1][1])&&(l=!0,r=!0),i++;else if("MultiLineString"===a.type)for(var y=0;y<a.coordinates.length;){l=!1,i=0;for(var g=a.coordinates[y];!l&&i<g.length-1;)h(n.geometry.coordinates[0],n.geometry.coordinates[1],g[i][0],g[i][1],g[i+1][0],g[i+1][1])&&(l=!0,r=!0),i++;y++}else"Polygon"!==a.type&&"MultiPolygon"!==a.type||f.default(n,a)&&(r=!0);o++}if(r)return n;var m=s.featureCollection([]);for(o=0;o<t.features.length;o++)m.features=m.features.concat(u.default(t.features[o]).features);return s.point(p.default(n,m).geometry.coordinates)}function h(e,t,n,r,o,i){return Math.sqrt((o-n)*(o-n)+(i-r)*(i-r))===Math.sqrt((e-n)*(e-n)+(t-r)*(t-r))+Math.sqrt((o-e)*(o-e)+(i-t)*(i-t))}e.exports=d,e.exports.default=d},63892:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(31013)),i=n(84102),a=n(10611),s=n(31540),l=r(n(6213));function u(e,t){return e[0]*t[0]+e[1]*t[1]}function c(e,t,n){return"planar"===n.method?l.default(e,t,n):o.default(e,t,n)}t.default=function(e,t,n){if(void 0===n&&(n={}),n.method||(n.method="geodesic"),n.units||(n.units="kilometers"),!e)throw new Error("pt is required");if(Array.isArray(e)?e=i.point(e):"Point"===e.type?e=i.feature(e):a.featureOf(e,"Point","point"),!t)throw new Error("line is required");Array.isArray(t)?t=i.lineString(t):"LineString"===t.type?t=i.feature(t):a.featureOf(t,"LineString","line");var r=1/0,o=e.geometry.coordinates;return s.segmentEach(t,(function(e){var t=e.geometry.coordinates[0],i=e.geometry.coordinates[1],a=function(e,t,n,r){var o=[n[0]-t[0],n[1]-t[1]],i=u([e[0]-t[0],e[1]-t[1]],o);if(i<=0)return c(e,t,{method:r.method,units:"degrees"});var a=u(o,o);if(a<=i)return c(e,n,{method:r.method,units:"degrees"});var s=i/a;return c(e,[t[0]+s*o[0],t[1]+s*o[1]],{method:r.method,units:"degrees"})}(o,t,i,n);a<r&&(r=a)})),i.convertLength(r,"degrees",n.units)}},187:(e,t,n)=>{"use strict";var r=n(88147),o=n(84102),i=n(31540);function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=a(r);function l(e,t){var n=[];return i.featureEach(e,(function(e){var r=!1;if("Point"===e.geometry.type)i.geomEach(t,(function(t){s.default(e,t)&&(r=!0)})),r&&n.push(e);else{if("MultiPoint"!==e.geometry.type)throw new Error("Input geometry must be a Point or MultiPoint");var a=[];i.geomEach(t,(function(t){i.coordEach(e,(function(e){s.default(e,t)&&(r=!0,a.push(e))}))})),r&&n.push(o.multiPoint(a))}})),o.featureCollection(n)}e.exports=l,e.exports.default=l},84978:(e,t,n)=>{"use strict";var r=n(31540),o=n(84102);function i(e,t){var n=[],i=t.iterations||1;if(!e)throw new Error("inputPolys is required");return r.geomEach(e,(function(e,t,r){var l,u,c;switch(e.type){case"Polygon":l=[[]];for(var p=0;p<i;p++)c=[[]],u=e,p>0&&(u=o.polygon(l).geometry),a(u,c),l=c.slice(0);n.push(o.polygon(l,r));break;case"MultiPolygon":l=[[[]]];for(var f=0;f<i;f++)c=[[[]]],u=e,f>0&&(u=o.multiPolygon(l).geometry),s(u,c),l=c.slice(0);n.push(o.multiPolygon(l,r));break;default:throw new Error("geometry is invalid, must be Polygon or MultiPolygon")}})),o.featureCollection(n)}function a(e,t){var n=0,o=0;r.coordEach(e,(function(r,i,a,s,l){l>n&&(n=l,o=i,t.push([]));var u=i-o,c=e.coordinates[l][u+1],p=r[0],f=r[1],d=c[0],h=c[1];t[l].push([.75*p+.25*d,.75*f+.25*h]),t[l].push([.25*p+.75*d,.25*f+.75*h])}),!0),t.forEach((function(e){e.push(e[0])}))}function s(e,t){var n=0,o=0,i=0;r.coordEach(e,(function(r,a,s,l,u){l>i&&(i=l,o=a,t.push([[]])),u>n&&(n=u,o=a,t[l].push([]));var c=a-o,p=e.coordinates[l][u][c+1],f=r[0],d=r[1],h=p[0],y=p[1];t[l][u].push([.75*f+.25*h,.75*d+.25*y]),t[l][u].push([.25*f+.75*h,.25*d+.75*y])}),!0),t.forEach((function(e){e.forEach((function(e){e.push(e[0])}))}))}e.exports=i,e.exports.default=i},5215:(e,t,n)=>{"use strict";var r=n(10611),o=n(84102),i=n(9705),a=n(63922),s=n(66379);function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=l(i),c=l(a),p=l(s);function f(e,t){var n,i,a,s,l=r.getCoords(e),f=r.getCoords(t),y=u.default(t),g=0,m=null;switch(l[0]>y[0]&&l[0]<y[2]&&l[1]>y[1]&&l[1]<y[3]&&(g=(m=p.default(e,c.default(t))).properties.featureIndex),r.getType(t)){case"Polygon":n=f[0][g],i=f[0][0],null!==m&&m.geometry.coordinates[1]<l[1]&&(i=f[0][g]),s=h(f[0][0],f[0][f[0].length-1],l);var v=d(f[0],l,s,a,n,i);n=v[0],i=v[1];break;case"MultiPolygon":for(var b=0,_=0,w=0,P=0;P<f[0].length;P++){b=P;for(var C=!1,O=0;O<f[0][P].length;O++){if(_=O,w===g){C=!0;break}w++}if(C)break}n=f[0][b][_],i=f[0][b][_],s=h(f[0][0][0],f[0][0][f[0][0].length-1],l),f.forEach((function(e){var t=d(e[0],l,s,a,n,i);n=t[0],i=t[1]}))}return o.featureCollection([o.point(n),o.point(i)])}function d(e,t,n,r,o,i){for(var a=0;a<e.length;a++){var s=e[a],l=e[a+1];a===e.length-1&&(l=e[0]),r=h(s,l,t),n<=0&&r>0?h(t,s,o)<0||(o=s):n>0&&r<=0&&(h(t,s,i)>0||(i=s)),n=r}return[o,i]}function h(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1])}e.exports=f,e.exports.default=f},97383:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(84102),o=n(10611);function i(e,t){return void 0===t&&(t={}),s(o.getGeom(e).coordinates,t.properties?t.properties:"Feature"===e.type?e.properties:{})}function a(e,t){void 0===t&&(t={});var n=o.getGeom(e).coordinates,i=t.properties?t.properties:"Feature"===e.type?e.properties:{},a=[];return n.forEach((function(e){a.push(s(e,i))})),r.featureCollection(a)}function s(e,t){return e.length>1?r.multiLineString(e,t):r.lineString(e[0],t)}t.default=function(e,t){void 0===t&&(t={});var n=o.getGeom(e);switch(t.properties||"Feature"!==e.type||(t.properties=e.properties),n.type){case"Polygon":return i(n,t);case"MultiPolygon":return a(n,t);default:throw new Error("invalid poly")}},t.polygonToLine=i,t.multiPolygonToLine=a,t.coordsToLine=s},24312:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(84102),i=r(n(77254)),a=r(n(36467));t.default=function(e){var t=i.default.fromGeoJson(e);t.deleteDangles(),t.deleteCutEdges();var n=[],r=[];return t.getEdgeRings().filter((function(e){return e.isValid()})).forEach((function(e){e.isHole()?n.push(e):r.push(e)})),n.forEach((function(e){a.default.findEdgeRingContaining(e,r)&&r.push(e)})),o.featureCollection(r.map((function(e){return e.toPolygon()})))}},95344:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(84102),o=n(34772),i=function(){function e(e,t){this.from=e,this.to=t,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return e.prototype.getSymetric=function(){return this.symetric||(this.symetric=new e(this.to,this.from),this.symetric.symetric=this),this.symetric},e.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},e.prototype.isEqual=function(e){return this.from.id===e.from.id&&this.to.id===e.to.id},e.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},e.prototype.toLineString=function(){return r.lineString([this.from.coordinates,this.to.coordinates])},e.prototype.compareTo=function(e){return o.orientationIndex(e.from.coordinates,e.to.coordinates,this.to.coordinates)},e}();t.default=i},36467:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(34772),i=n(84102),a=r(n(19062)),s=r(n(88147)),l=function(){function e(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return e.prototype.push=function(e){this.edges.push(e),this.polygon=this.envelope=void 0},e.prototype.get=function(e){return this.edges[e]},Object.defineProperty(e.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e){this.edges.forEach(e)},e.prototype.map=function(e){return this.edges.map(e)},e.prototype.some=function(e){return this.edges.some(e)},e.prototype.isValid=function(){return!0},e.prototype.isHole=function(){var e=this,t=this.edges.reduce((function(t,n,r){return n.from.coordinates[1]>e.edges[t].from.coordinates[1]&&(t=r),t}),0),n=(0===t?this.length:t)-1,r=(t+1)%this.length,i=o.orientationIndex(this.edges[n].from.coordinates,this.edges[t].from.coordinates,this.edges[r].from.coordinates);return 0===i?this.edges[n].from.coordinates[0]>this.edges[r].from.coordinates[0]:i>0},e.prototype.toMultiPoint=function(){return i.multiPoint(this.edges.map((function(e){return e.from.coordinates})))},e.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var e=this.edges.map((function(e){return e.from.coordinates}));return e.push(this.edges[0].from.coordinates),this.polygon=i.polygon([e])},e.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=a.default(this.toPolygon())},e.findEdgeRingContaining=function(e,t){var n,r,a=e.getEnvelope();return t.forEach((function(t){var s=t.getEnvelope();if(r&&(n=r.getEnvelope()),!o.envelopeIsEqual(s,a)&&o.envelopeContains(s,a)){for(var l=e.map((function(e){return e.from.coordinates})),u=void 0,c=function(e){t.some((function(t){return o.coordinatesEqual(e,t.from.coordinates)}))||(u=e)},p=0,f=l;p<f.length;p++)c(f[p]);u&&t.inside(i.point(u))&&(r&&!o.envelopeContains(n,s)||(r=t))}})),r},e.prototype.inside=function(e){return s.default(e,this.toPolygon())},e}();t.default=l},77254:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(23424)),i=r(n(95344)),a=r(n(36467)),s=n(31540),l=n(10611),u=function(){function e(){this.edges=[],this.nodes={}}return e.fromGeoJson=function(t){!function(e){if(!e)throw new Error("No geojson passed");if("FeatureCollection"!==e.type&&"GeometryCollection"!==e.type&&"MultiLineString"!==e.type&&"LineString"!==e.type&&"Feature"!==e.type)throw new Error("Invalid input type '"+e.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(t);var n=new e;return s.flattenEach(t,(function(e){l.featureOf(e,"LineString","Graph::fromGeoJson"),s.coordReduce(e,(function(e,t){if(e){var r=n.getNode(e),o=n.getNode(t);n.addEdge(r,o)}return t}))})),n},e.prototype.getNode=function(e){var t=o.default.buildId(e),n=this.nodes[t];return n||(n=this.nodes[t]=new o.default(e)),n},e.prototype.addEdge=function(e,t){var n=new i.default(e,t),r=n.getSymetric();this.edges.push(n),this.edges.push(r)},e.prototype.deleteDangles=function(){var e=this;Object.keys(this.nodes).map((function(t){return e.nodes[t]})).forEach((function(t){return e._removeIfDangle(t)}))},e.prototype._removeIfDangle=function(e){var t=this;if(e.innerEdges.length<=1){var n=e.getOuterEdges().map((function(e){return e.to}));this.removeNode(e),n.forEach((function(e){return t._removeIfDangle(e)}))}},e.prototype.deleteCutEdges=function(){var e=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach((function(t){t.label===t.symetric.label&&(e.removeEdge(t.symetric),e.removeEdge(t))}))},e.prototype._computeNextCWEdges=function(e){var t=this;void 0===e?Object.keys(this.nodes).forEach((function(e){return t._computeNextCWEdges(t.nodes[e])})):e.getOuterEdges().forEach((function(t,n){e.getOuterEdge((0===n?e.getOuterEdges().length:n)-1).symetric.next=t}))},e.prototype._computeNextCCWEdges=function(e,t){for(var n,r,o=e.getOuterEdges(),i=o.length-1;i>=0;--i){var a=o[i],s=a.symetric,l=void 0,u=void 0;a.label===t&&(l=a),s.label===t&&(u=s),l&&u&&(u&&(r=u),l&&(r&&(r.next=l,r=void 0),n||(n=l)))}r&&(r.next=n)},e.prototype._findLabeledEdgeRings=function(){var e=[],t=0;return this.edges.forEach((function(n){if(!(n.label>=0)){e.push(n);var r=n;do{r.label=t,r=r.next}while(!n.isEqual(r));t++}})),e},e.prototype.getEdgeRings=function(){var e=this;this._computeNextCWEdges(),this.edges.forEach((function(e){e.label=void 0})),this._findLabeledEdgeRings().forEach((function(t){e._findIntersectionNodes(t).forEach((function(n){e._computeNextCCWEdges(n,t.label)}))}));var t=[];return this.edges.forEach((function(n){n.ring||t.push(e._findEdgeRing(n))})),t},e.prototype._findIntersectionNodes=function(e){var t=[],n=e,r=function(){var r=0;n.from.getOuterEdges().forEach((function(t){t.label===e.label&&++r})),r>1&&t.push(n.from),n=n.next};do{r()}while(!e.isEqual(n));return t},e.prototype._findEdgeRing=function(e){var t=e,n=new a.default;do{n.push(t),t.ring=n,t=t.next}while(!e.isEqual(t));return n},e.prototype.removeNode=function(e){var t=this;e.getOuterEdges().forEach((function(e){return t.removeEdge(e)})),e.innerEdges.forEach((function(e){return t.removeEdge(e)})),delete this.nodes[e.id]},e.prototype.removeEdge=function(e){this.edges=this.edges.filter((function(t){return!t.isEqual(e)})),e.deleteEdge()},e}();t.default=u},23424:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34772),o=function(){function e(t){this.id=e.buildId(t),this.coordinates=t,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return e.buildId=function(e){return e.join(",")},e.prototype.removeInnerEdge=function(e){this.innerEdges=this.innerEdges.filter((function(t){return t.from.id!==e.from.id}))},e.prototype.removeOuterEdge=function(e){this.outerEdges=this.outerEdges.filter((function(t){return t.to.id!==e.to.id}))},e.prototype.addOuterEdge=function(e){this.outerEdges.push(e),this.outerEdgesSorted=!1},e.prototype.sortOuterEdges=function(){var e=this;this.outerEdgesSorted||(this.outerEdges.sort((function(t,n){var o=t.to,i=n.to;if(o.coordinates[0]-e.coordinates[0]>=0&&i.coordinates[0]-e.coordinates[0]<0)return 1;if(o.coordinates[0]-e.coordinates[0]<0&&i.coordinates[0]-e.coordinates[0]>=0)return-1;if(o.coordinates[0]-e.coordinates[0]==0&&i.coordinates[0]-e.coordinates[0]==0)return o.coordinates[1]-e.coordinates[1]>=0||i.coordinates[1]-e.coordinates[1]>=0?o.coordinates[1]-i.coordinates[1]:i.coordinates[1]-o.coordinates[1];var a=r.orientationIndex(e.coordinates,o.coordinates,i.coordinates);return a<0?1:a>0?-1:Math.pow(o.coordinates[0]-e.coordinates[0],2)+Math.pow(o.coordinates[1]-e.coordinates[1],2)-(Math.pow(i.coordinates[0]-e.coordinates[0],2)+Math.pow(i.coordinates[1]-e.coordinates[1],2))})),this.outerEdgesSorted=!0)},e.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},e.prototype.getOuterEdge=function(e){return this.sortOuterEdges(),this.outerEdges[e]},e.prototype.addInnerEdge=function(e){this.innerEdges.push(e)},e}();t.default=o},34772:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(88147)),i=n(84102);t.orientationIndex=function(e,t,n){var r,o=t[0]-e[0],i=t[1]-e[1],a=n[0]-t[0];return((r=o*(n[1]-t[1])-a*i)>0)-(r<0)||+r},t.envelopeIsEqual=function(e,t){var n=e.geometry.coordinates[0].map((function(e){return e[0]})),r=e.geometry.coordinates[0].map((function(e){return e[1]})),o=t.geometry.coordinates[0].map((function(e){return e[0]})),i=t.geometry.coordinates[0].map((function(e){return e[1]}));return Math.max.apply(null,n)===Math.max.apply(null,o)&&Math.max.apply(null,r)===Math.max.apply(null,i)&&Math.min.apply(null,n)===Math.min.apply(null,o)&&Math.min.apply(null,r)===Math.min.apply(null,i)},t.envelopeContains=function(e,t){return t.geometry.coordinates[0].every((function(t){return o.default(i.point(t),e)}))},t.coordinatesEqual=function(e,t){return e[0]===t[0]&&e[1]===t[1]}},20981:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(31540),i=n(84102),a=r(n(76565));function s(e,t,n){void 0===n&&(n={});var r=(n=n||{}).mutate;if(!e)throw new Error("geojson is required");return Array.isArray(e)&&i.isNumber(e[0])?e="mercator"===t?l(e):u(e):(!0!==r&&(e=a.default(e)),o.coordEach(e,(function(e){var n="mercator"===t?l(e):u(e);e[0]=n[0],e[1]=n[1]}))),e}function l(e){var t,n=Math.PI/180,r=6378137,o=20037508.342789244,i=[r*(Math.abs(e[0])<=180?e[0]:e[0]-360*((t=e[0])<0?-1:t>0?1:0))*n,r*Math.log(Math.tan(.25*Math.PI+.5*e[1]*n))];return i[0]>o&&(i[0]=o),i[0]<-o&&(i[0]=-o),i[1]>o&&(i[1]=o),i[1]<-o&&(i[1]=-o),i}function u(e){var t=180/Math.PI,n=6378137;return[e[0]*t/n,(.5*Math.PI-2*Math.atan(Math.exp(-e[1]/n)))*t]}t.toMercator=function(e,t){return void 0===t&&(t={}),s(e,"mercator",t)},t.toWgs84=function(e,t){return void 0===t&&(t={}),s(e,"wgs84",t)}},16295:function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(84102);function i(e){return Array.isArray(e)?s(e):e&&e.bbox?s(e.bbox):[360*a(),180*a()]}function a(){return Math.random()-.5}function s(e){return[Math.random()*(e[2]-e[0])+e[0],Math.random()*(e[3]-e[1])+e[1]]}t.randomPosition=i,t.randomPoint=function(e,t){void 0===t&&(t={}),null==e&&(e=1);for(var n=[],r=0;r<e;r++)n.push(o.point(i(t.bbox)));return o.featureCollection(n)},t.randomPolygon=function(e,t){void 0===t&&(t={}),null==e&&(e=1),o.isNumber(t.num_vertices)&&void 0!==t.num_vertices||(t.num_vertices=10),o.isNumber(t.max_radial_length)&&void 0!==t.max_radial_length||(t.max_radial_length=10);for(var n=[],a=function(e){var a,s=[],l=r(Array(t.num_vertices+1)).map(Math.random);l.forEach((function(e,t,n){n[t]=t>0?e+n[t-1]:e})),l.forEach((function(e){e=2*e*Math.PI/l[l.length-1];var n=Math.random();s.push([n*(t.max_radial_length||10)*Math.sin(e),n*(t.max_radial_length||10)*Math.cos(e)])})),s[s.length-1]=s[0],s=s.map((a=i(t.bbox),function(e){return[e[0]+a[0],e[1]+a[1]]})),n.push(o.polygon([s]))},s=0;s<e;s++)a();return o.featureCollection(n)},t.randomLineString=function(e,t){if(void 0===t&&(t={}),t=t||{},!o.isObject(t))throw new Error("options is invalid");var n=t.bbox,r=t.num_vertices,a=t.max_length,s=t.max_rotation;null==e&&(e=1),(!o.isNumber(r)||void 0===r||r<2)&&(r=10),o.isNumber(a)&&void 0!==a||(a=1e-4),o.isNumber(s)&&void 0!==s||(s=Math.PI/8);for(var l=[],u=0;u<e;u++){for(var c=[i(n)],p=0;p<r-1;p++){var f=(0===p?2*Math.random()*Math.PI:Math.tan((c[p][1]-c[p-1][1])/(c[p][0]-c[p-1][0])))+(Math.random()-.5)*s*2,d=Math.random()*a;c.push([c[p][0]+d*Math.cos(f),c[p][1]+d*Math.sin(f)])}l.push(o.lineString(c))}return o.featureCollection(l)}},54131:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(84255)),i=r(n(31013)),a=n(84102);t.default=function(e,t,n,r){void 0===r&&(r={});for(var s=[],l=e[0],u=e[1],c=e[2],p=e[3],f=t/i.default([l,u],[c,u],r)*(c-l),d=n/i.default([l,u],[l,p],r)*(p-u),h=c-l,y=p-u,g=Math.floor(h/f),m=Math.floor(y/d),v=(y-m*d)/2,b=l+(h-g*f)/2,_=0;_<g;_++){for(var w=u+v,P=0;P<m;P++){var C=a.polygon([[[b,w],[b,w+d],[b+f,w+d],[b+f,w],[b,w]]],r.properties);r.mask?o.default(r.mask,C)&&s.push(C):s.push(C),w+=d}b+=f}return a.featureCollection(s)}},51138:(e,t,n)=>{"use strict";var r=n(76565),o=n(3809),i=n(31540),a=n(10611),s=n(84102);function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=l(r),c=l(o);function p(e,t){if(t=t||{},!s.isObject(t))throw new Error("options is invalid");var n=t.reverse||!1,r=t.mutate||!1;if(!e)throw new Error("<geojson> is required");if("boolean"!=typeof n)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof r)throw new Error("<mutate> must be a boolean");!1===r&&(e=u.default(e));var o=[];switch(e.type){case"GeometryCollection":return i.geomEach(e,(function(e){f(e,n)})),e;case"FeatureCollection":return i.featureEach(e,(function(e){i.featureEach(f(e,n),(function(e){o.push(e)}))})),s.featureCollection(o)}return f(e,n)}function f(e,t){switch("Feature"===e.type?e.geometry.type:e.type){case"GeometryCollection":return i.geomEach(e,(function(e){f(e,t)})),e;case"LineString":return d(a.getCoords(e),t),e;case"Polygon":return h(a.getCoords(e),t),e;case"MultiLineString":return a.getCoords(e).forEach((function(e){d(e,t)})),e;case"MultiPolygon":return a.getCoords(e).forEach((function(e){h(e,t)})),e;case"Point":case"MultiPoint":return e}}function d(e,t){c.default(e)===t&&e.reverse()}function h(e,t){c.default(e[0])!==t&&e[0].reverse();for(var n=1;n<e.length;n++)c.default(e[n])===t&&e[n].reverse()}e.exports=p,e.exports.default=p},16912:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(84102),o=n(10611);function i(e,t){var n=r.degreesToRadians(e[1]),o=r.degreesToRadians(t[1]),i=r.degreesToRadians(t[0]-e[0]);i>Math.PI&&(i-=2*Math.PI),i<-Math.PI&&(i+=2*Math.PI);var a=Math.log(Math.tan(o/2+Math.PI/4)/Math.tan(n/2+Math.PI/4)),s=Math.atan2(i,a);return(r.radiansToDegrees(s)+360)%360}t.default=function(e,t,n){var r;return void 0===n&&(n={}),(r=n.final?i(o.getCoord(t),o.getCoord(e)):i(o.getCoord(e),o.getCoord(t)))>180?-(360-r):r}},62054:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(84102),o=n(10611);t.default=function(e,t,n,i){void 0===i&&(i={});var a=t<0,s=r.convertLength(Math.abs(t),i.units,"meters");a&&(s=-Math.abs(s));var l=o.getCoord(e),u=function(e,t,n,o){var i=t/(o=void 0===o?r.earthRadius:Number(o)),a=e[0]*Math.PI/180,s=r.degreesToRadians(e[1]),l=r.degreesToRadians(n),u=i*Math.cos(l),c=s+u;Math.abs(c)>Math.PI/2&&(c=c>0?Math.PI-c:-Math.PI-c);var p=Math.log(Math.tan(c/2+Math.PI/4)/Math.tan(s/2+Math.PI/4)),f=Math.abs(p)>1e-11?u/p:Math.cos(s);return[(180*(a+i*Math.sin(l)/f)/Math.PI+540)%360-180,180*c/Math.PI]}(l,s,n);return u[0]+=u[0]-l[0]>180?-360:l[0]-u[0]>180?360:0,r.point(u,i.properties)}},6213:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(84102),o=n(10611);t.default=function(e,t,n){void 0===n&&(n={});var i=o.getCoord(e),a=o.getCoord(t);a[0]+=a[0]-i[0]>180?-360:i[0]-a[0]>180?360:0;var s=function(e,t,n){var o=n=void 0===n?r.earthRadius:Number(n),i=e[1]*Math.PI/180,a=t[1]*Math.PI/180,s=a-i,l=Math.abs(t[0]-e[0])*Math.PI/180;l>Math.PI&&(l-=2*Math.PI);var u=Math.log(Math.tan(a/2+Math.PI/4)/Math.tan(i/2+Math.PI/4)),c=Math.abs(u)>1e-11?s/u:Math.cos(i);return Math.sqrt(s*s+c*c*l*l)*o}(i,a);return r.convertLength(s,"meters",n.units)}},3503:(e,t,n)=>{"use strict";var r=n(84102);function o(e,t){if(!e)throw new Error("featurecollection is required");if(null==t)throw new Error("num is required");if("number"!=typeof t)throw new Error("num must be a number");return r.featureCollection(function(e,t){for(var n,r,o=e.slice(0),i=e.length,a=i-t;i-- >a;)n=o[r=Math.floor((i+1)*Math.random())],o[r]=o[i],o[i]=n;return o.slice(a)}(e.features,t))}e.exports=o,e.exports.default=o},81674:(e,t,n)=>{"use strict";var r=n(90265),o=n(67272),i=n(31540),a=n(84102),s=n(10611);function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=l(r),c=l(o);function p(e,t,n,r,o){if(o=o||{},!a.isObject(o))throw new Error("options is invalid");var l=o.properties;if(!e)throw new Error("center is required");if(null==n)throw new Error("bearing1 is required");if(null==r)throw new Error("bearing2 is required");if(!t)throw new Error("radius is required");if("object"!=typeof o)throw new Error("options must be an object");if(f(n)===f(r))return u.default(e,t,o);var p=s.getCoords(e),d=c.default(e,t,n,r,o),h=[[p]];return i.coordEach(d,(function(e){h[0].push(e)})),h[0].push(p),a.polygon(h,l)}function f(e){var t=e%360;return t<0&&(t+=360),t}e.exports=p,e.exports.default=p},93550:(e,t,n)=>{"use strict";var r=n(9705),o=n(88147),i=n(31013),a=n(67517),s=n(71435),l=n(13652),u=n(10611),c=n(84102);function p(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var f=p(r),d=p(o),h=p(i),y=p(a),g=p(s),m=p(l);function v(e){for(var t=e,n=[];t.parent;)n.unshift(t),t=t.parent;return n}var b={search:function(e,t,n,r){e.cleanDirty();var o=(r=r||{}).heuristic||b.heuristics.manhattan,i=r.closest||!1,a=new P((function(e){return e.f})),s=t;for(t.h=o(t,n),a.push(t);a.size()>0;){var l=a.pop();if(l===n)return v(l);l.closed=!0;for(var u=e.neighbors(l),c=0,p=u.length;c<p;++c){var f=u[c];if(!f.closed&&!f.isWall()){var d=l.g+f.getCost(l),h=f.visited;(!h||d<f.g)&&(f.visited=!0,f.parent=l,f.h=f.h||o(f,n),f.g=d,f.f=f.g+f.h,e.markDirty(f),i&&(f.h<s.h||f.h===s.h&&f.g<s.g)&&(s=f),h?a.rescoreElement(f):a.push(f))}}}return i?v(s):[]},heuristics:{manhattan:function(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},diagonal:function(e,t){var n=Math.sqrt(2),r=Math.abs(t.x-e.x),o=Math.abs(t.y-e.y);return 1*(r+o)+(n-2)*Math.min(r,o)}},cleanNode:function(e){e.f=0,e.g=0,e.h=0,e.visited=!1,e.closed=!1,e.parent=null}};function _(e,t){t=t||{},this.nodes=[],this.diagonal=!!t.diagonal,this.grid=[];for(var n=0;n<e.length;n++){this.grid[n]=[];for(var r=0,o=e[n];r<o.length;r++){var i=new w(n,r,o[r]);this.grid[n][r]=i,this.nodes.push(i)}}this.init()}function w(e,t,n){this.x=e,this.y=t,this.weight=n}function P(e){this.content=[],this.scoreFunction=e}function C(e,t,n){if(n=n||{},!c.isObject(n))throw new Error("options is invalid");var r=n.resolution,o=n.minDistance,i=n.obstacles||c.featureCollection([]);if(!e)throw new Error("start is required");if(!t)throw new Error("end is required");if(r&&!c.isNumber(r)||r<=0)throw new Error("options.resolution must be a number, greater than 0");if(o)throw new Error("options.minDistance is not yet implemented");var a=u.getCoord(e),s=u.getCoord(t);switch(e=c.point(a),t=c.point(s),u.getType(i)){case"FeatureCollection":if(0===i.features.length)return c.lineString([a,s]);break;case"Polygon":i=c.featureCollection([c.feature(u.getGeom(i))]);break;default:throw new Error("invalid obstacles")}var l=i;l.features.push(e),l.features.push(t);var p=f.default(y.default(m.default(f.default(l)),1.15));r||(r=h.default([p[0],p[1]],[p[2],p[1]],n)/100),l.features.pop(),l.features.pop();for(var d=p[0],v=p[1],w=p[2],P=p[3],C=r/h.default([d,v],[w,v],n)*(w-d),x=r/h.default([d,v],[d,P],n)*(P-v),S=w-d,E=P-v,j=Math.floor(S/C),T=Math.floor(E/x),M=(S-j*C)/2,A=[],I=[],N=[],D=[],z=1/0,R=1/0,k=P-(E-T*x)/2,L=0;k>=v;){for(var F=[],B=[],V=d+M,G=0;V<=w;){var U=c.point([V,k]),W=O(U,i);F.push(W?0:1),B.push(V+"|"+k);var J=h.default(U,e);!W&&J<z&&(z=J,N={x:G,y:L});var H=h.default(U,t);!W&&H<R&&(R=H,D={x:G,y:L}),V+=C,G++}I.push(F),A.push(B),k-=x,L++}var q=new _(I,{diagonal:!0}),Y=q.grid[N.y][N.x],X=q.grid[D.y][D.x],Z=b.search(q,Y,X),K=[a];return Z.forEach((function(e){var t=A[e.x][e.y].split("|");K.push([+t[0],+t[1]])})),K.push(s),g.default(c.lineString(K))}function O(e,t){for(var n=0;n<t.features.length;n++)if(d.default(e,t.features[n]))return!0;return!1}_.prototype.init=function(){this.dirtyNodes=[];for(var e=0;e<this.nodes.length;e++)b.cleanNode(this.nodes[e])},_.prototype.cleanDirty=function(){for(var e=0;e<this.dirtyNodes.length;e++)b.cleanNode(this.dirtyNodes[e]);this.dirtyNodes=[]},_.prototype.markDirty=function(e){this.dirtyNodes.push(e)},_.prototype.neighbors=function(e){var t=[],n=e.x,r=e.y,o=this.grid;return o[n-1]&&o[n-1][r]&&t.push(o[n-1][r]),o[n+1]&&o[n+1][r]&&t.push(o[n+1][r]),o[n]&&o[n][r-1]&&t.push(o[n][r-1]),o[n]&&o[n][r+1]&&t.push(o[n][r+1]),this.diagonal&&(o[n-1]&&o[n-1][r-1]&&t.push(o[n-1][r-1]),o[n+1]&&o[n+1][r-1]&&t.push(o[n+1][r-1]),o[n-1]&&o[n-1][r+1]&&t.push(o[n-1][r+1]),o[n+1]&&o[n+1][r+1]&&t.push(o[n+1][r+1])),t},_.prototype.toString=function(){for(var e,t,n,r,o=[],i=this.grid,a=0,s=i.length;a<s;a++){for(e=[],n=0,r=(t=i[a]).length;n<r;n++)e.push(t[n].weight);o.push(e.join(" "))}return o.join("\n")},w.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},w.prototype.getCost=function(e){return e&&e.x!==this.x&&e.y!==this.y?1.41421*this.weight:this.weight},w.prototype.isWall=function(){return 0===this.weight},P.prototype={push:function(e){this.content.push(e),this.sinkDown(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.bubbleUp(0)),e},remove:function(e){var t=this.content.indexOf(e),n=this.content.pop();t!==this.content.length-1&&(this.content[t]=n,this.scoreFunction(n)<this.scoreFunction(e)?this.sinkDown(t):this.bubbleUp(t))},size:function(){return this.content.length},rescoreElement:function(e){this.sinkDown(this.content.indexOf(e))},sinkDown:function(e){for(var t=this.content[e];e>0;){var n=(e+1>>1)-1,r=this.content[n];if(!(this.scoreFunction(t)<this.scoreFunction(r)))break;this.content[n]=t,this.content[e]=r,e=n}},bubbleUp:function(e){for(var t=this.content.length,n=this.content[e],r=this.scoreFunction(n);;){var o,i=e+1<<1,a=i-1,s=null;if(a<t){var l=this.content[a];(o=this.scoreFunction(l))<r&&(s=a)}if(i<t){var u=this.content[i];this.scoreFunction(u)<(null===s?r:o)&&(s=i)}if(null===s)break;this.content[e]=this.content[s],this.content[s]=n,e=s}}},e.exports=C,e.exports.default=C},57191:(e,t,n)=>{"use strict";var r=n(71435),o=n(76565),i=n(31540),a=n(84102);function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=s(r),u=s(o);function c(e,t,n){var r=t.x,o=t.y,i=n.x-r,a=n.y-o;if(0!==i||0!==a){var s=((e.x-r)*i+(e.y-o)*a)/(i*i+a*a);s>1?(r=n.x,o=n.y):s>0&&(r+=i*s,o+=a*s)}return(i=e.x-r)*i+(a=e.y-o)*a}function p(e,t,n,r,o){for(var i,a=r,s=t+1;s<n;s++){var l=c(e[s],e[t],e[n]);l>a&&(i=s,a=l)}a>r&&(i-t>1&&p(e,t,i,r,o),o.push(e[i]),n-i>1&&p(e,i,n,r,o))}function f(e,t){var n=e.length-1,r=[e[0]];return p(e,0,n,t,r),r.push(e[n]),r}function d(e,t,n){if(e.length<=2)return e;var r=void 0!==t?t*t:1;return e=n?e:function(e,t){for(var n,r,o,i,a,s=e[0],l=[s],u=1,c=e.length;u<c;u++)o=s,void 0,void 0,(i=(r=n=e[u]).x-o.x)*i+(a=r.y-o.y)*a>t&&(l.push(n),s=n);return s!==n&&l.push(n),l}(e,r),f(e,r)}function h(e,t){if(t=t||{},!a.isObject(t))throw new Error("options is invalid");var n=void 0!==t.tolerance?t.tolerance:1,r=t.highQuality||!1,o=t.mutate||!1;if(!e)throw new Error("geojson is required");if(n&&n<0)throw new Error("invalid tolerance");return!0!==o&&(e=u.default(e)),i.geomEach(e,(function(e){!function(e,t,n){var r=e.type;if("Point"===r||"MultiPoint"===r)return e;l.default(e,!0);var o=e.coordinates;switch(r){case"LineString":e.coordinates=y(o,t,n);break;case"MultiLineString":e.coordinates=o.map((function(e){return y(e,t,n)}));break;case"Polygon":e.coordinates=g(o,t,n);break;case"MultiPolygon":e.coordinates=o.map((function(e){return g(e,t,n)}))}}(e,n,r)})),e}function y(e,t,n){return d(e.map((function(e){return{x:e[0],y:e[1],z:e[2]}})),t,n).map((function(e){return e.z?[e.x,e.y,e.z]:[e.x,e.y]}))}function g(e,t,n){return e.map((function(e){var r=e.map((function(e){return{x:e[0],y:e[1]}}));if(r.length<4)throw new Error("invalid polygon");for(var o=d(r,t,n).map((function(e){return[e.x,e.y]}));!m(o);)o=d(r,t-=.01*t,n).map((function(e){return[e.x,e.y]}));return o[o.length-1][0]===o[0][0]&&o[o.length-1][1]===o[0][1]||o.push(o[0]),o}))}function m(e){return!(e.length<3||3===e.length&&e[2][0]===e[0][0]&&e[2][1]===e[0][1])}e.exports=h,e.exports.default=h},45434:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(54131));t.default=function(e,t,n){return void 0===n&&(n={}),o.default(e,t,t,n)}},55077:(e,t,n)=>{"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=r(n(31013));function i(e){var t=e[0],n=e[1],r=e[2],i=e[3];if(o.default(e.slice(0,2),[r,n])>=o.default(e.slice(0,2),[t,i])){var a=(n+i)/2;return[t,a-(r-t)/2,r,a+(r-t)/2]}var s=(t+r)/2;return[s-(i-n)/2,n,s+(i-n)/2,i]}e.exports=i,e.exports.default=i},73955:(e,t,n)=>{"use strict";var r=n(31540),o=n(10611),i=n(84102),a=n(76320),s=n(187),l=n(61211);function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=u(a),p=u(s),f=u(l);function d(e,t){if(t=t||{},!i.isObject(t))throw new Error("options is invalid");var n=t.steps||64,a=t.weight,s=t.properties||{};if(!i.isNumber(n))throw new Error("steps must be a number");if(!i.isObject(s))throw new Error("properties must be a number");var l=r.coordAll(e).length,u=c.default(e,{weight:a}),d=0,y=0,g=0;r.featureEach(e,(function(e){var t=e.properties[a]||1,n=h(o.getCoords(e),o.getCoords(u));d+=Math.pow(n.x,2)*t,y+=Math.pow(n.y,2)*t,g+=n.x*n.y*t}));var m=d-y,v=Math.sqrt(Math.pow(m,2)+4*Math.pow(g,2)),b=2*g,_=Math.atan((m+v)/b),w=180*_/Math.PI,P=0,C=0,O=0;r.featureEach(e,(function(e){var t=e.properties[a]||1,n=h(o.getCoords(e),o.getCoords(u));P+=Math.pow(n.x*Math.cos(_)-n.y*Math.sin(_),2)*t,C+=Math.pow(n.x*Math.sin(_)+n.y*Math.cos(_),2)*t,O+=t}));var x=Math.sqrt(2*P/O),S=Math.sqrt(2*C/O),E=f.default(u,x,S,{units:"degrees",angle:w,steps:n,properties:s}),j=p.default(e,i.featureCollection([E])),T={meanCenterCoordinates:o.getCoords(u),semiMajorAxis:x,semiMinorAxis:S,numberOfFeatures:l,angle:w,percentageWithinEllipse:100*r.coordAll(j).length/l};return E.properties.standardDeviationalEllipse=T,E}function h(e,t){return{x:e[0]-t[0],y:e[1]-t[1]}}e.exports=d,e.exports.default=d},32015:(e,t,n)=>{"use strict";var r=n(88147),o=n(76565),i=n(31540);function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=a(r),l=a(o);function u(e,t,n,r){return e=l.default(e),t=l.default(t),i.featureEach(e,(function(e){e.properties||(e.properties={}),i.featureEach(t,(function(t){void 0===e.properties[r]&&s.default(e,t)&&(e.properties[r]=t.properties[n])}))})),e}e.exports=u,e.exports.default=u},95845:(e,t,n)=>{"use strict";var r=n(9187),o=n(84102);function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=i(r);function s(e){if(!e.geometry||"Polygon"!==e.geometry.type&&"MultiPolygon"!==e.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var t={type:"FeatureCollection",features:[]};return"Polygon"===e.geometry.type?t.features=l(e.geometry.coordinates):e.geometry.coordinates.forEach((function(e){t.features=t.features.concat(l(e))})),t}function l(e){var t=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,o=0;o<e.length;o++){for(var i=0;i<e[o].length;i++)for(var a=0;a<t;a++)n.vertices.push(e[o][i][a]);o>0&&(r+=e[o-1].length,n.holes.push(r))}return n}(e),n=a.default(t.vertices,t.holes,2),r=[],i=[];n.forEach((function(e,r){var o=n[r];i.push([t.vertices[2*o],t.vertices[2*o+1]])}));for(var s=0;s<i.length;s+=3){var l=i.slice(s,s+3);l.push(i[s]),r.push(o.polygon([l]))}return r}e.exports=s,e.exports.default=s},18829:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(84102);t.default=function(e,t){var n=!1;return r.featureCollection(function(e){if(e.length<3)return[];e.sort(i);for(var t,n,r,s,l,u,c=e.length-1,p=e[c].x,f=e[0].x,d=e[c].y,h=d;c--;)e[c].y<d&&(d=e[c].y),e[c].y>h&&(h=e[c].y);var y,g=f-p,m=h-d,v=g>m?g:m,b=.5*(f+p),_=.5*(h+d),w=[new o({__sentinel:!0,x:b-20*v,y:_-v},{__sentinel:!0,x:b,y:_+20*v},{__sentinel:!0,x:b+20*v,y:_-v})],P=[],C=[];for(c=e.length;c--;){for(C.length=0,y=w.length;y--;)(g=e[c].x-w[y].x)>0&&g*g>w[y].r?(P.push(w[y]),w.splice(y,1)):g*g+(m=e[c].y-w[y].y)*m>w[y].r||(C.push(w[y].a,w[y].b,w[y].b,w[y].c,w[y].c,w[y].a),w.splice(y,1));for(a(C),y=C.length;y;)n=C[--y],t=C[--y],r=e[c],s=n.x-t.x,l=n.y-t.y,u=2*(s*(r.y-n.y)-l*(r.x-n.x)),Math.abs(u)>1e-12&&w.push(new o(t,n,r))}for(Array.prototype.push.apply(P,w),c=P.length;c--;)(P[c].a.__sentinel||P[c].b.__sentinel||P[c].c.__sentinel)&&P.splice(c,1);return P}(e.features.map((function(e){var r={x:e.geometry.coordinates[0],y:e.geometry.coordinates[1]};return t?r.z=e.properties[t]:3===e.geometry.coordinates.length&&(n=!0,r.z=e.geometry.coordinates[2]),r}))).map((function(e){var t=[e.a.x,e.a.y],o=[e.b.x,e.b.y],i=[e.c.x,e.c.y],a={};return n?(t.push(e.a.z),o.push(e.b.z),i.push(e.c.z)):a={a:e.a.z,b:e.b.z,c:e.c.z},r.polygon([[t,o,i,t]],a)})))};var o=function(e,t,n){this.a=e,this.b=t,this.c=n;var r,o,i=t.x-e.x,a=t.y-e.y,s=n.x-e.x,l=n.y-e.y,u=i*(e.x+t.x)+a*(e.y+t.y),c=s*(e.x+n.x)+l*(e.y+n.y),p=2*(i*(n.y-t.y)-a*(n.x-t.x));this.x=(l*u-a*c)/p,this.y=(i*c-s*u)/p,r=this.x-e.x,o=this.y-e.y,this.r=r*r+o*o};function i(e,t){return t.x-e.x}function a(e){var t,n,r,o,i,a=e.length;e:for(;a;)for(n=e[--a],t=e[--a],r=a;r;)if(i=e[--r],t===(o=e[--r])&&n===i||t===i&&n===o){e.splice(a,2),e.splice(r,2),a-=2;continue e}}},90067:(e,t,n)=>{"use strict";var r=n(66338),o=n(16912),i=n(6213),a=n(62054),s=n(76565),l=n(31540),u=n(10611),c=n(84102);function p(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var f=p(r),d=p(o),h=p(i),y=p(a),g=p(s);function m(e,t,n){if(n=n||{},!c.isObject(n))throw new Error("options is invalid");var r=n.pivot,o=n.mutate;if(!e)throw new Error("geojson is required");if(null==t||isNaN(t))throw new Error("angle is required");return 0===t||(r||(r=f.default(e)),!1!==o&&void 0!==o||(e=g.default(e)),l.coordEach(e,(function(e){var n=d.default(r,e)+t,o=h.default(r,e),i=u.getCoords(y.default(r,o,n));e[0]=i[0],e[1]=i[1]}))),e}e.exports=m,e.exports.default=m},67517:(e,t,n)=>{"use strict";var r=n(76565),o=n(78230),i=n(66338),a=n(9705),s=n(16912),l=n(6213),u=n(62054),c=n(31540),p=n(84102),f=n(10611);function d(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var h=d(r),y=d(o),g=d(i),m=d(a),v=d(s),b=d(l),_=d(u);function w(e,t,n){if(n=n||{},!p.isObject(n))throw new Error("options is invalid");var r=n.origin,o=n.mutate;if(!e)throw new Error("geojson required");if("number"!=typeof t||0===t)throw new Error("invalid factor");var i=Array.isArray(r)||"object"==typeof r;return!0!==o&&(e=h.default(e)),"FeatureCollection"!==e.type||i?P(e,t,r):(c.featureEach(e,(function(n,o){e.features[o]=P(n,t,r)})),e)}function P(e,t,n){var r="Point"===f.getType(e);return n=function(e,t){if(null==t&&(t="centroid"),Array.isArray(t)||"object"==typeof t)return f.getCoord(t);var n=e.bbox?e.bbox:m.default(e),r=n[0],o=n[1],i=n[2],a=n[3];switch(t){case"sw":case"southwest":case"westsouth":case"bottomleft":return p.point([r,o]);case"se":case"southeast":case"eastsouth":case"bottomright":return p.point([i,o]);case"nw":case"northwest":case"westnorth":case"topleft":return p.point([r,a]);case"ne":case"northeast":case"eastnorth":case"topright":return p.point([i,a]);case"center":return y.default(e);case void 0:case null:case"centroid":return g.default(e);default:throw new Error("invalid origin")}}(e,n),1===t||r||c.coordEach(e,(function(e){var r=b.default(n,e),o=v.default(n,e),i=r*t,a=f.getCoords(_.default(n,i,o));e[0]=a[0],e[1]=a[1],3===e.length&&(e[2]*=t)})),e}e.exports=w,e.exports.default=w},92418:(e,t,n)=>{"use strict";var r=n(31540),o=n(84102),i=n(10611),a=n(76565),s=n(62054);function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=l(a),c=l(s);function p(e,t,n,a){if(a=a||{},!o.isObject(a))throw new Error("options is invalid");var s=a.units,l=a.zTranslation,p=a.mutate;if(!e)throw new Error("geojson is required");if(null==t||isNaN(t))throw new Error("distance is required");if(l&&"number"!=typeof l&&isNaN(l))throw new Error("zTranslation is not a number");if(l=void 0!==l?l:0,0===t&&0===l)return e;if(null==n||isNaN(n))throw new Error("direction is required");return t<0&&(t=-t,n+=180),!1!==p&&void 0!==p||(e=u.default(e)),r.coordEach(e,(function(e){var r=i.getCoords(c.default(e,t,n,{units:s}));e[0]=r[0],e[1]=r[1],l&&3===e.length&&(e[2]+=l)})),e}e.exports=p,e.exports.default=p},4686:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(31013)),i=r(n(74170)),a=n(84102);t.default=function(e,t,n){void 0===n&&(n={});for(var r=[],s=t/o.default([e[0],e[1]],[e[2],e[1]],n)*(e[2]-e[0]),l=t/o.default([e[0],e[1]],[e[0],e[3]],n)*(e[3]-e[1]),u=0,c=e[0];c<=e[2];){for(var p=0,f=e[1];f<=e[3];){var d=null,h=null;u%2==0&&p%2==0?(d=a.polygon([[[c,f],[c,f+l],[c+s,f],[c,f]]],n.properties),h=a.polygon([[[c,f+l],[c+s,f+l],[c+s,f],[c,f+l]]],n.properties)):u%2==0&&p%2==1?(d=a.polygon([[[c,f],[c+s,f+l],[c+s,f],[c,f]]],n.properties),h=a.polygon([[[c,f],[c,f+l],[c+s,f+l],[c,f]]],n.properties)):p%2==0&&u%2==1?(d=a.polygon([[[c,f],[c,f+l],[c+s,f+l],[c,f]]],n.properties),h=a.polygon([[[c,f],[c+s,f+l],[c+s,f],[c,f]]],n.properties)):p%2==1&&u%2==1&&(d=a.polygon([[[c,f],[c,f+l],[c+s,f],[c,f]]],n.properties),h=a.polygon([[[c,f+l],[c+s,f+l],[c+s,f],[c,f+l]]],n.properties)),n.mask?(i.default(n.mask,d)&&r.push(d),i.default(n.mask,h)&&r.push(h)):(r.push(d),r.push(h)),f+=l,p++}u++,c+=s}return a.featureCollection(r)}},15608:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31540);t.default=function(e,t){void 0===t&&(t={});var n=t.precision,o=t.coordinates,i=t.mutate;if(n=null==n||isNaN(n)?6:n,o=null==o||isNaN(o)?3:o,!e)throw new Error("<geojson> is required");if("number"!=typeof n)throw new Error("<precision> must be a number");if("number"!=typeof o)throw new Error("<coordinates> must be a number");!1!==i&&void 0!==i||(e=JSON.parse(JSON.stringify(e)));var a=Math.pow(10,n);return r.coordEach(e,(function(e){!function(e,t,n){e.length>n&&e.splice(n,e.length);for(var r=0;r<e.length;r++)e[r]=Math.round(e[r]*t)/t}(e,a,o)})),e}},38347:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7928),o=n(77382),i=n(187),a=n(68538),s=n(70305),l=n(37970),u=n(57191),c=n(97478),p=n(32015),f=n(3503),d=n(19062),h=n(55077),y=n(90265),g=n(99034),m=n(78230),v=n(25084),b=n(66338),_=n(28141),w=n(31013),P=n(63922),C=n(9705),O=n(95845),x=n(13652),S=n(88147),E=n(66379),j=n(13807),T=n(82059),M=n(63377),A=n(18829),I=n(51208),N=n(93737),D=n(81641),z=n(55771),R=n(41070),k=n(25913),L=n(10091),F=n(74792),B=n(51378),V=n(36813),G=n(15608),U=n(24288),W=n(73663),J=n(39632),H=n(94404),q=n(25422),Y=n(54590),X=n(7477),Z=n(67272),K=n(97383),Q=n(41933),$=n(30173),ee=n(90273),te=n(81674),ne=n(16912),re=n(6213),oe=n(62054),ie=n(5215),ae=n(51138),se=n(77406),le=n(90067),ue=n(67517),ce=n(92418),pe=n(15668),fe=n(24312),de=n(55883),he=n(72584),ye=n(17656),ge=n(3809),me=n(57612),ve=n(72793),be=n(39482),_e=n(45184),we=n(84255),Pe=n(76565),Ce=n(71435),Oe=n(61495),xe=n(56398),Se=n(63892),Ee=n(24840),je=n(93550),Te=n(62276),Me=n(61211),Ae=n(76320),Ie=n(12935),Ne=n(73955),De=n(8517),ze=n(84978),Re=n(10920),ke=n(35366),Le=n(20981),Fe=n(16295),Be=n(53140),Ve=n(84102),Ge=n(10611),Ue=n(31540),We=n(68727),Je=n(35419),He=n(71959),qe=n(74170),Ye=n(52407),Xe=n(45621),Ze=n(60482),Ke=n(45434),Qe=n(4686),$e=n(25566);function et(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function tt(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var nt=et(r),rt=et(o),ot=et(i),it=et(a),at=et(s),st=et(l),lt=et(u),ut=et(c),ct=et(p),pt=et(f),ft=et(d),dt=et(h),ht=et(y),yt=et(g),gt=et(m),mt=et(v),vt=et(b),bt=et(_),_t=et(w),wt=et(P),Pt=et(C),Ct=et(O),Ot=et(x),xt=et(S),St=et(E),Et=et(j),jt=et(T),Tt=et(M),Mt=et(A),At=et(I),It=et(N),Nt=et(D),Dt=et(z),zt=et(R),Rt=et(k),kt=et(L),Lt=et(F),Ft=et(B),Bt=et(V),Vt=et(G),Gt=et(U),Ut=et(W),Wt=et(J),Jt=et(H),Ht=et(q),qt=et(Y),Yt=et(X),Xt=et(Z),Zt=et(K),Kt=et(Q),Qt=et($),$t=et(ee),en=et(te),tn=et(ne),nn=et(re),rn=et(oe),on=et(ie),an=et(ae),sn=et(se),ln=et(le),un=et(ue),cn=et(ce),pn=et(pe),fn=et(fe),dn=et(de),hn=et(he),yn=et(ye),gn=et(ge),mn=et(me),vn=et(ve),bn=et(be),_n=et(_e),wn=et(we),Pn=et(Pe),Cn=et(Ce),On=et(Oe),xn=et(xe),Sn=et(Se),En=et(Ee),jn=et(je),Tn=et(Te),Mn=et(Me),An=et(Ae),In=et(Ie),Nn=et(Ne),Dn=et(De),zn=et(ze),Rn=et(Re),kn=et(ke),Ln=tt(Le),Fn=tt(Fe),Bn=tt(Be),Vn=tt(Ve),Gn=tt(Ge),Un=tt(Ue),Wn=et(We),Jn=et(Je),Hn=et(He),qn=et(qe),Yn=et(Ye),Xn=et(Xe),Zn=et(Ze),Kn=et(Ke),Qn=et(Qe),$n=et($e);Object.keys(Le).forEach((function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return Le[e]}})})),Object.keys(Fe).forEach((function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return Fe[e]}})})),Object.keys(Be).forEach((function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return Be[e]}})})),Object.keys(Ve).forEach((function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return Ve[e]}})})),Object.keys(Ge).forEach((function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return Ge[e]}})})),Object.keys(Ue).forEach((function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return Ue[e]}})})),Object.defineProperty(t,"isolines",{enumerable:!0,get:function(){return nt.default}}),Object.defineProperty(t,"convex",{enumerable:!0,get:function(){return rt.default}}),Object.defineProperty(t,"pointsWithinPolygon",{enumerable:!0,get:function(){return ot.default}}),Object.defineProperty(t,"within",{enumerable:!0,get:function(){return ot.default}}),Object.defineProperty(t,"concave",{enumerable:!0,get:function(){return it.default}}),Object.defineProperty(t,"collect",{enumerable:!0,get:function(){return at.default}}),Object.defineProperty(t,"flip",{enumerable:!0,get:function(){return st.default}}),Object.defineProperty(t,"simplify",{enumerable:!0,get:function(){return lt.default}}),Object.defineProperty(t,"bezier",{enumerable:!0,get:function(){return ut.default}}),Object.defineProperty(t,"bezierSpline",{enumerable:!0,get:function(){return ut.default}}),Object.defineProperty(t,"tag",{enumerable:!0,get:function(){return ct.default}}),Object.defineProperty(t,"sample",{enumerable:!0,get:function(){return pt.default}}),Object.defineProperty(t,"envelope",{enumerable:!0,get:function(){return ft.default}}),Object.defineProperty(t,"square",{enumerable:!0,get:function(){return dt.default}}),Object.defineProperty(t,"circle",{enumerable:!0,get:function(){return ht.default}}),Object.defineProperty(t,"midpoint",{enumerable:!0,get:function(){return yt.default}}),Object.defineProperty(t,"center",{enumerable:!0,get:function(){return gt.default}}),Object.defineProperty(t,"centerOfMass",{enumerable:!0,get:function(){return mt.default}}),Object.defineProperty(t,"centroid",{enumerable:!0,get:function(){return vt.default}}),Object.defineProperty(t,"combine",{enumerable:!0,get:function(){return bt.default}}),Object.defineProperty(t,"distance",{enumerable:!0,get:function(){return _t.default}}),Object.defineProperty(t,"explode",{enumerable:!0,get:function(){return wt.default}}),Object.defineProperty(t,"bbox",{enumerable:!0,get:function(){return Pt.default}}),Object.defineProperty(t,"tesselate",{enumerable:!0,get:function(){return Ct.default}}),Object.defineProperty(t,"bboxPolygon",{enumerable:!0,get:function(){return Ot.default}}),Object.defineProperty(t,"booleanPointInPolygon",{enumerable:!0,get:function(){return xt.default}}),Object.defineProperty(t,"inside",{enumerable:!0,get:function(){return xt.default}}),Object.defineProperty(t,"nearest",{enumerable:!0,get:function(){return St.default}}),Object.defineProperty(t,"nearestPoint",{enumerable:!0,get:function(){return St.default}}),Object.defineProperty(t,"nearestPointOnLine",{enumerable:!0,get:function(){return Et.default}}),Object.defineProperty(t,"pointOnLine",{enumerable:!0,get:function(){return Et.default}}),Object.defineProperty(t,"nearestPointToLine",{enumerable:!0,get:function(){return jt.default}}),Object.defineProperty(t,"planepoint",{enumerable:!0,get:function(){return Tt.default}}),Object.defineProperty(t,"tin",{enumerable:!0,get:function(){return Mt.default}}),Object.defineProperty(t,"bearing",{enumerable:!0,get:function(){return At.default}}),Object.defineProperty(t,"destination",{enumerable:!0,get:function(){return It.default}}),Object.defineProperty(t,"kinks",{enumerable:!0,get:function(){return Nt.default}}),Object.defineProperty(t,"pointOnFeature",{enumerable:!0,get:function(){return Dt.default}}),Object.defineProperty(t,"pointOnSurface",{enumerable:!0,get:function(){return Dt.default}}),Object.defineProperty(t,"area",{enumerable:!0,get:function(){return zt.default}}),Object.defineProperty(t,"along",{enumerable:!0,get:function(){return Rt.default}}),Object.defineProperty(t,"length",{enumerable:!0,get:function(){return kt.default}}),Object.defineProperty(t,"lineDistance",{enumerable:!0,get:function(){return kt.default}}),Object.defineProperty(t,"lineSlice",{enumerable:!0,get:function(){return Lt.default}}),Object.defineProperty(t,"lineSliceAlong",{enumerable:!0,get:function(){return Ft.default}}),Object.defineProperty(t,"pointGrid",{enumerable:!0,get:function(){return Bt.default}}),Object.defineProperty(t,"truncate",{enumerable:!0,get:function(){return Vt.default}}),Object.defineProperty(t,"flatten",{enumerable:!0,get:function(){return Gt.default}}),Object.defineProperty(t,"lineIntersect",{enumerable:!0,get:function(){return Ut.default}}),Object.defineProperty(t,"lineChunk",{enumerable:!0,get:function(){return Wt.default}}),Object.defineProperty(t,"unkinkPolygon",{enumerable:!0,get:function(){return Jt.default}}),Object.defineProperty(t,"greatCircle",{enumerable:!0,get:function(){return Ht.default}}),Object.defineProperty(t,"lineSegment",{enumerable:!0,get:function(){return qt.default}}),Object.defineProperty(t,"lineSplit",{enumerable:!0,get:function(){return Yt.default}}),Object.defineProperty(t,"lineArc",{enumerable:!0,get:function(){return Xt.default}}),Object.defineProperty(t,"polygonToLine",{enumerable:!0,get:function(){return Zt.default}}),Object.defineProperty(t,"polygonToLineString",{enumerable:!0,get:function(){return Zt.default}}),Object.defineProperty(t,"lineStringToPolygon",{enumerable:!0,get:function(){return Kt.default}}),Object.defineProperty(t,"lineToPolygon",{enumerable:!0,get:function(){return Kt.default}}),Object.defineProperty(t,"bboxClip",{enumerable:!0,get:function(){return Qt.default}}),Object.defineProperty(t,"lineOverlap",{enumerable:!0,get:function(){return $t.default}}),Object.defineProperty(t,"sector",{enumerable:!0,get:function(){return en.default}}),Object.defineProperty(t,"rhumbBearing",{enumerable:!0,get:function(){return tn.default}}),Object.defineProperty(t,"rhumbDistance",{enumerable:!0,get:function(){return nn.default}}),Object.defineProperty(t,"rhumbDestination",{enumerable:!0,get:function(){return rn.default}}),Object.defineProperty(t,"polygonTangents",{enumerable:!0,get:function(){return on.default}}),Object.defineProperty(t,"rewind",{enumerable:!0,get:function(){return an.default}}),Object.defineProperty(t,"isobands",{enumerable:!0,get:function(){return sn.default}}),Object.defineProperty(t,"transformRotate",{enumerable:!0,get:function(){return ln.default}}),Object.defineProperty(t,"transformScale",{enumerable:!0,get:function(){return un.default}}),Object.defineProperty(t,"transformTranslate",{enumerable:!0,get:function(){return cn.default}}),Object.defineProperty(t,"lineOffset",{enumerable:!0,get:function(){return pn.default}}),Object.defineProperty(t,"polygonize",{enumerable:!0,get:function(){return fn.default}}),Object.defineProperty(t,"booleanDisjoint",{enumerable:!0,get:function(){return dn.default}}),Object.defineProperty(t,"booleanContains",{enumerable:!0,get:function(){return hn.default}}),Object.defineProperty(t,"booleanCrosses",{enumerable:!0,get:function(){return yn.default}}),Object.defineProperty(t,"booleanClockwise",{enumerable:!0,get:function(){return gn.default}}),Object.defineProperty(t,"booleanOverlap",{enumerable:!0,get:function(){return mn.default}}),Object.defineProperty(t,"booleanPointOnLine",{enumerable:!0,get:function(){return vn.default}}),Object.defineProperty(t,"booleanEqual",{enumerable:!0,get:function(){return bn.default}}),Object.defineProperty(t,"booleanWithin",{enumerable:!0,get:function(){return _n.default}}),Object.defineProperty(t,"booleanIntersects",{enumerable:!0,get:function(){return wn.default}}),Object.defineProperty(t,"clone",{enumerable:!0,get:function(){return Pn.default}}),Object.defineProperty(t,"cleanCoords",{enumerable:!0,get:function(){return Cn.default}}),Object.defineProperty(t,"clustersDbscan",{enumerable:!0,get:function(){return On.default}}),Object.defineProperty(t,"clustersKmeans",{enumerable:!0,get:function(){return xn.default}}),Object.defineProperty(t,"pointToLineDistance",{enumerable:!0,get:function(){return Sn.default}}),Object.defineProperty(t,"booleanParallel",{enumerable:!0,get:function(){return En.default}}),Object.defineProperty(t,"shortestPath",{enumerable:!0,get:function(){return jn.default}}),Object.defineProperty(t,"voronoi",{enumerable:!0,get:function(){return Tn.default}}),Object.defineProperty(t,"ellipse",{enumerable:!0,get:function(){return Mn.default}}),Object.defineProperty(t,"centerMean",{enumerable:!0,get:function(){return An.default}}),Object.defineProperty(t,"centerMedian",{enumerable:!0,get:function(){return In.default}}),Object.defineProperty(t,"standardDeviationalEllipse",{enumerable:!0,get:function(){return Nn.default}}),Object.defineProperty(t,"angle",{enumerable:!0,get:function(){return Dn.default}}),Object.defineProperty(t,"polygonSmooth",{enumerable:!0,get:function(){return zn.default}}),Object.defineProperty(t,"moranIndex",{enumerable:!0,get:function(){return Rn.default}}),Object.defineProperty(t,"distanceWeight",{enumerable:!0,get:function(){return kn.default}}),t.projection=Ln,t.random=Fn,t.clusters=Bn,Object.defineProperty(t,"bearingToAngle",{enumerable:!0,get:function(){return Ve.bearingToAzimuth}}),Object.defineProperty(t,"convertDistance",{enumerable:!0,get:function(){return Ve.convertLength}}),Object.defineProperty(t,"degrees2radians",{enumerable:!0,get:function(){return Ve.degreesToRadians}}),Object.defineProperty(t,"distanceToDegrees",{enumerable:!0,get:function(){return Ve.lengthToDegrees}}),Object.defineProperty(t,"distanceToRadians",{enumerable:!0,get:function(){return Ve.lengthToRadians}}),t.helpers=Vn,Object.defineProperty(t,"radians2degrees",{enumerable:!0,get:function(){return Ve.radiansToDegrees}}),Object.defineProperty(t,"radiansToDistance",{enumerable:!0,get:function(){return Ve.radiansToLength}}),t.invariant=Gn,t.meta=Un,Object.defineProperty(t,"difference",{enumerable:!0,get:function(){return Wn.default}}),Object.defineProperty(t,"buffer",{enumerable:!0,get:function(){return Jn.default}}),Object.defineProperty(t,"union",{enumerable:!0,get:function(){return Hn.default}}),Object.defineProperty(t,"intersect",{enumerable:!0,get:function(){return qn.default}}),Object.defineProperty(t,"dissolve",{enumerable:!0,get:function(){return Yn.default}}),Object.defineProperty(t,"hexGrid",{enumerable:!0,get:function(){return Xn.default}}),Object.defineProperty(t,"mask",{enumerable:!0,get:function(){return Zn.default}}),Object.defineProperty(t,"squareGrid",{enumerable:!0,get:function(){return Kn.default}}),Object.defineProperty(t,"triangleGrid",{enumerable:!0,get:function(){return Qn.default}}),Object.defineProperty(t,"interpolate",{enumerable:!0,get:function(){return $n.default}})},71959:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(24629)),i=n(10611),a=n(84102);t.default=function(e,t,n){void 0===n&&(n={});var r=i.getGeom(e),s=i.getGeom(t),l=o.default.union(r.coordinates,s.coordinates);return 0===l.length?null:1===l.length?a.polygon(l[0],n.properties):a.multiPolygon(l,n.properties)}},94404:(e,t,n)=>{"use strict";var r=n(31540),o=n(84102),i=n(64860),a=n(41070),s=n(88147);function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=l(i),c=l(a),p=l(s);function f(e,t){if(!e||!t)return!1;if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]instanceof Array&&t[n]instanceof Array){if(!f(e[n],t[n]))return!1}else if(e[n]!==t[n])return!1;return!0}function d(e){if("Feature"!=e.type)throw new Error("The input must a geojson object of type Feature");if(void 0===e.geometry||null==e.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=e.geometry.type)throw new Error("The input must be a geojson Polygon");for(var t=e.geometry.coordinates.length,n=[],r=0;r<t;r++){var i=e.geometry.coordinates[r];v(i[0],i[i.length-1])||i.push(i[0]),n.push.apply(n,i.slice(0,i.length-1))}if(!function(e){for(var t={},n=1,r=0,o=e.length;r<o;++r){if(Object.prototype.hasOwnProperty.call(t,e[r])){n=0;break}t[e[r]]=1}return n}(n))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var a=n.length,s=function(e,t,n){if("Polygon"!==e.geometry.type)throw new Error("The input feature must be a Polygon");void 0===n&&(n=1);var r=e.geometry.coordinates,o=[],i={};if(n){for(var a=[],s=0;s<r.length;s++)for(var l=0;l<r[s].length-1;l++)a.push(m(s,l));var c=u.default();c.load(a)}for(var p=0;p<r.length;p++)for(var d=0;d<r[p].length-1;d++)if(n)c.search(m(p,d)).forEach((function(e){var t=e.ring,n=e.edge;g(p,d,t,n)}));else for(var h=0;h<r.length;h++)for(var y=0;y<r[h].length-1;y++)g(p,d,h,y);return t||(o={type:"Feature",geometry:{type:"MultiPoint",coordinates:o}}),o;function g(e,n,a,s){var l,u,c=r[e][n],p=r[e][n+1],d=r[a][s],h=r[a][s+1],y=function(e,t,n,r){if(f(e,n)||f(e,r)||f(t,n)||f(r,n))return null;var o=e[0],i=e[1],a=t[0],s=t[1],l=n[0],u=n[1],c=r[0],p=r[1],d=(o-a)*(u-p)-(i-s)*(l-c);return 0===d?null:[((o*s-i*a)*(l-c)-(o-a)*(l*p-u*c))/d,((o*s-i*a)*(u-p)-(i-s)*(l*p-u*c))/d]}(c,p,d,h);if(null!==y&&(l=p[0]!==c[0]?(y[0]-c[0])/(p[0]-c[0]):(y[1]-c[1])/(p[1]-c[1]),u=h[0]!==d[0]?(y[0]-d[0])/(h[0]-d[0]):(y[1]-d[1])/(h[1]-d[1]),!(l>=1||l<=0||u>=1||u<=0))){var g=y,m=!i[g];m&&(i[g]=!0),t?o.push(t(y,e,n,c,p,l,a,s,d,h,u,m)):o.push(y)}}function m(e,t){var n,o,i,a,s=r[e][t],l=r[e][t+1];return s[0]<l[0]?(n=s[0],o=l[0]):(n=l[0],o=s[0]),s[1]<l[1]?(i=s[1],a=l[1]):(i=l[1],a=s[1]),{minX:n,minY:i,maxX:o,maxY:a,ring:e,edge:t}}}(e,(function(e,t,n,r,o,i,a,s,l,u,c,p){return[e,t,n,r,o,i,a,s,l,u,c,p]})),l=s.length;if(0==l){var d=[];for(r=0;r<t;r++)d.push(o.polygon([e.geometry.coordinates[r]],{parent:-1,winding:m(e.geometry.coordinates[r])}));var _=o.featureCollection(d);return q(),Y(),_}var w=[],P=[];for(r=0;r<t;r++){w.push([]);for(var C=0;C<e.geometry.coordinates[r].length-1;C++)w[r].push([new h(e.geometry.coordinates[r][b(C+1,e.geometry.coordinates[r].length-1)],1,[r,C],[r,b(C+1,e.geometry.coordinates[r].length-1)],void 0)]),P.push(new y(e.geometry.coordinates[r][C],[r,b(C-1,e.geometry.coordinates[r].length-1)],[r,C],void 0,void 0,!1,!0))}for(r=0;r<l;r++)w[s[r][1]][s[r][2]].push(new h(s[r][0],s[r][5],[s[r][1],s[r][2]],[s[r][6],s[r][7]],void 0)),s[r][11]&&P.push(new y(s[r][0],[s[r][1],s[r][2]],[s[r][6],s[r][7]],void 0,void 0,!0,!0));var O=P.length;for(r=0;r<w.length;r++)for(C=0;C<w[r].length;C++)w[r][C].sort((function(e,t){return e.param<t.param?-1:1}));var x=[];for(r=0;r<O;r++)x.push({minX:P[r].coord[0],minY:P[r].coord[1],maxX:P[r].coord[0],maxY:P[r].coord[1],index:r});var S=u.default();for(S.load(x),r=0;r<w.length;r++)for(C=0;C<w[r].length;C++)for(var E=0;E<w[r][C].length;E++){T=E==w[r][C].length-1?w[r][b(C+1,e.geometry.coordinates[r].length-1)][0].coord:w[r][C][E+1].coord;var j=S.search({minX:T[0],minY:T[1],maxX:T[0],maxY:T[1]})[0];w[r][C][E].nxtIsectAlongEdgeIn=j.index}for(r=0;r<w.length;r++)for(C=0;C<w[r].length;C++)for(E=0;E<w[r][C].length;E++){var T=w[r][C][E].coord,M=(j=S.search({minX:T[0],minY:T[1],maxX:T[0],maxY:T[1]})[0]).index;M<a?P[M].nxtIsectAlongRingAndEdge2=w[r][C][E].nxtIsectAlongEdgeIn:v(P[M].ringAndEdge1,w[r][C][E].ringAndEdgeIn)?P[M].nxtIsectAlongRingAndEdge1=w[r][C][E].nxtIsectAlongEdgeIn:P[M].nxtIsectAlongRingAndEdge2=w[r][C][E].nxtIsectAlongEdgeIn}var A=[];for(r=0,C=0;C<t;C++){var I=r;for(E=0;E<e.geometry.coordinates[C].length-1;E++)P[r].coord[0]<P[I].coord[0]&&(I=r),r++;var N=P[I].nxtIsectAlongRingAndEdge2;for(E=0;E<P.length;E++)if(P[E].nxtIsectAlongRingAndEdge1==I||P[E].nxtIsectAlongRingAndEdge2==I){var D=E;break}var z=g([P[D].coord,P[I].coord,P[N].coord],!0)?1:-1;A.push({isect:I,parent:-1,winding:z})}for(A.sort((function(e,t){return P[e.isect].coord>P[t.isect].coord?-1:1})),d=[];A.length>0;){var R=A.pop(),k=R.isect,L=R.parent,F=R.winding,B=d.length,V=[P[k].coord],G=k;if(P[k].ringAndEdge1Walkable)var U=P[k].ringAndEdge1,W=P[k].nxtIsectAlongRingAndEdge1;else U=P[k].ringAndEdge2,W=P[k].nxtIsectAlongRingAndEdge2;for(;!v(P[k].coord,P[W].coord);){V.push(P[W].coord);var J=void 0;for(r=0;r<A.length;r++)if(A[r].isect==W){J=r;break}if(null!=J&&A.splice(J,1),v(U,P[W].ringAndEdge1)){if(U=P[W].ringAndEdge2,P[W].ringAndEdge2Walkable=!1,P[W].ringAndEdge1Walkable){var H={isect:W};g([P[G].coord,P[W].coord,P[P[W].nxtIsectAlongRingAndEdge2].coord],1==F)?(H.parent=L,H.winding=-F):(H.parent=B,H.winding=F),A.push(H)}G=W,W=P[W].nxtIsectAlongRingAndEdge2}else U=P[W].ringAndEdge1,P[W].ringAndEdge1Walkable=!1,P[W].ringAndEdge2Walkable&&(H={isect:W},g([P[G].coord,P[W].coord,P[P[W].nxtIsectAlongRingAndEdge1].coord],1==F)?(H.parent=L,H.winding=-F):(H.parent=B,H.winding=F),A.push(H)),G=W,W=P[W].nxtIsectAlongRingAndEdge1}V.push(P[W].coord),d.push(o.polygon([V],{index:B,parent:L,winding:F,netWinding:void 0}))}function q(){for(var e=[],t=0;t<_.features.length;t++)-1==_.features[t].properties.parent&&e.push(t);if(e.length>1)for(t=0;t<e.length;t++){for(var n=-1,r=0;r<_.features.length;r++)e[t]!=r&&p.default(_.features[e[t]].geometry.coordinates[0][0],_.features[r],{ignoreBoundary:!0})&&c.default(_.features[r])<1/0&&(n=r);_.features[e[t]].properties.parent=n}}function Y(){for(var e=0;e<_.features.length;e++)if(-1==_.features[e].properties.parent){var t=_.features[e].properties.winding;_.features[e].properties.netWinding=t,X(e,t)}}function X(e,t){for(var n=0;n<_.features.length;n++)if(_.features[n].properties.parent==e){var r=t+_.features[n].properties.winding;_.features[n].properties.netWinding=r,X(n,r)}}return _=o.featureCollection(d),q(),Y(),_}var h=function(e,t,n,r,o){this.coord=e,this.param=t,this.ringAndEdgeIn=n,this.ringAndEdgeOut=r,this.nxtIsectAlongEdgeIn=o},y=function(e,t,n,r,o,i,a){this.coord=e,this.ringAndEdge1=t,this.ringAndEdge2=n,this.nxtIsectAlongRingAndEdge1=r,this.nxtIsectAlongRingAndEdge2=o,this.ringAndEdge1Walkable=i,this.ringAndEdge2Walkable=a};function g(e,t){if(void 0===t&&(t=!0),3!=e.length)throw new Error("This function requires an array of three points [x,y]");return(e[1][0]-e[0][0])*(e[2][1]-e[0][1])-(e[1][1]-e[0][1])*(e[2][0]-e[0][0])>=0==t}function m(e){for(var t=0,n=0;n<e.length-1;n++)e[n][0]<e[t][0]&&(t=n);if(g([e[b(t-1,e.length-1)],e[t],e[b(t+1,e.length-1)]],!0))var r=1;else r=-1;return r}function v(e,t){if(!e||!t)return!1;if(e.length!=t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]instanceof Array&&t[n]instanceof Array){if(!v(e[n],t[n]))return!1}else if(e[n]!=t[n])return!1;return!0}function b(e,t){return(e%t+t)%t}function _(e){var t=[];return r.flattenEach(e,(function(e){"Polygon"===e.geometry.type&&r.featureEach(d(e),(function(n){t.push(o.polygon(n.geometry.coordinates,e.properties))}))})),o.featureCollection(t)}e.exports=_,e.exports.default=_},19538:function(e){e.exports=function(){"use strict";function e(n,r,o,i,a){for(;i>o;){if(i-o>600){var s=i-o+1,l=r-o+1,u=Math.log(s),c=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);e(n,r,Math.max(o,Math.floor(r-l*c/s+p)),Math.min(i,Math.floor(r+(s-l)*c/s+p)),a)}var f=n[r],d=o,h=i;for(t(n,o,r),a(n[i],f)>0&&t(n,o,i);d<h;){for(t(n,d,h),d++,h--;a(n[d],f)<0;)d++;for(;a(n[h],f)>0;)h--}0===a(n[o],f)?t(n,o,h):t(n,++h,i),h<=r&&(o=h+1),r<=h&&(i=h-1)}}function t(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function n(e,t){return e<t?-1:e>t?1:0}return function(t,r,o,i,a){e(t,r,o||0,i||t.length-1,a||n)}}()},64860:(e,t,n)=>{"use strict";e.exports=o,e.exports.default=o;var r=n(19538);function o(e,t){if(!(this instanceof o))return new o(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&this._initFormat(t),this.clear()}function i(e,t,n){if(!n)return t.indexOf(e);for(var r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function a(e,t){s(e,0,e.children.length,t,e)}function s(e,t,n,r,o){o||(o=y(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var i,a=t;a<n;a++)i=e.children[a],l(o,e.leaf?r(i):i);return o}function l(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function u(e,t){return e.minX-t.minX}function c(e,t){return e.minY-t.minY}function p(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function f(e){return e.maxX-e.minX+(e.maxY-e.minY)}function d(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function h(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function y(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(e,t,n,o,i){for(var a,s=[t,n];s.length;)(n=s.pop())-(t=s.pop())<=o||(a=t+Math.ceil((n-t)/o/2)*o,r(e,a,t,n,i),s.push(t,a,a,n))}o.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,n=[],r=this.toBBox;if(!h(e,t))return n;for(var o,i,a,s,l=[];t;){for(o=0,i=t.children.length;o<i;o++)a=t.children[o],h(e,s=t.leaf?r(a):a)&&(t.leaf?n.push(a):d(e,s)?this._all(a,n):l.push(a));t=l.pop()}return n},collides:function(e){var t=this.data,n=this.toBBox;if(!h(e,t))return!1;for(var r,o,i,a,s=[];t;){for(r=0,o=t.children.length;r<o;r++)if(i=t.children[r],h(e,a=t.leaf?n(i):i)){if(t.leaf||d(e,a))return!0;s.push(i)}t=s.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,n=e.length;t<n;t++)this.insert(e[t]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var o=this.data;this.data=r,r=o}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=y([]),this},remove:function(e,t){if(!e)return this;for(var n,r,o,a,s=this.data,l=this.toBBox(e),u=[],c=[];s||u.length;){if(s||(s=u.pop(),r=u[u.length-1],n=c.pop(),a=!0),s.leaf&&-1!==(o=i(e,s.children,t)))return s.children.splice(o,1),u.push(s),this._condense(u),this;a||s.leaf||!d(s,l)?r?(n++,s=r.children[n],a=!1):s=null:(u.push(s),c.push(n),n=0,r=s,s=s.children[0])}return this},toBBox:function(e){return e},compareMinX:u,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},_build:function(e,t,n,r){var o,i=n-t+1,s=this._maxEntries;if(i<=s)return a(o=y(e.slice(t,n+1)),this.toBBox),o;r||(r=Math.ceil(Math.log(i)/Math.log(s)),s=Math.ceil(i/Math.pow(s,r-1))),(o=y([])).leaf=!1,o.height=r;var l,u,c,p,f=Math.ceil(i/s),d=f*Math.ceil(Math.sqrt(s));for(g(e,t,n,d,this.compareMinX),l=t;l<=n;l+=d)for(g(e,l,c=Math.min(l+d-1,n),f,this.compareMinY),u=l;u<=c;u+=f)p=Math.min(u+f-1,c),o.children.push(this._build(e,u,p,r-1));return a(o,this.toBBox),o},_chooseSubtree:function(e,t,n,r){for(var o,i,a,s,l,u,c,f,d,h;r.push(t),!t.leaf&&r.length-1!==n;){for(c=f=1/0,o=0,i=t.children.length;o<i;o++)l=p(a=t.children[o]),d=e,h=a,(u=(Math.max(h.maxX,d.maxX)-Math.min(h.minX,d.minX))*(Math.max(h.maxY,d.maxY)-Math.min(h.minY,d.minY))-l)<f?(f=u,c=l<c?l:c,s=a):u===f&&l<c&&(c=l,s=a);t=s||t.children[0]}return t},_insert:function(e,t,n){var r=this.toBBox,o=n?e:r(e),i=[],a=this._chooseSubtree(o,this.data,t,i);for(a.children.push(e),l(a,o);t>=0&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(o,i,t)},_split:function(e,t){var n=e[t],r=n.children.length,o=this._minEntries;this._chooseSplitAxis(n,o,r);var i=this._chooseSplitIndex(n,o,r),s=y(n.children.splice(i,n.children.length-i));s.height=n.height,s.leaf=n.leaf,a(n,this.toBBox),a(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(n,s)},_splitRoot:function(e,t){this.data=y([e,t]),this.data.height=e.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,n){var r,o,i,a,l,u,c,f,d,h,y,g,m,v;for(u=c=1/0,r=t;r<=n-t;r++)d=o=s(e,0,r,this.toBBox),h=i=s(e,r,n,this.toBBox),void 0,void 0,void 0,void 0,y=Math.max(d.minX,h.minX),g=Math.max(d.minY,h.minY),m=Math.min(d.maxX,h.maxX),v=Math.min(d.maxY,h.maxY),a=Math.max(0,m-y)*Math.max(0,v-g),l=p(o)+p(i),a<u?(u=a,f=r,c=l<c?l:c):a===u&&l<c&&(c=l,f=r);return f},_chooseSplitAxis:function(e,t,n){var r=e.leaf?this.compareMinX:u,o=e.leaf?this.compareMinY:c;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,o)&&e.children.sort(r)},_allDistMargin:function(e,t,n,r){e.children.sort(r);var o,i,a=this.toBBox,u=s(e,0,t,a),c=s(e,n-t,n,a),p=f(u)+f(c);for(o=t;o<n-t;o++)i=e.children[o],l(u,e.leaf?a(i):i),p+=f(u);for(o=n-t-1;o>=t;o--)i=e.children[o],l(c,e.leaf?a(i):i),p+=f(c);return p},_adjustParentBBoxes:function(e,t,n){for(var r=n;r>=0;r--)l(t[r],e)},_condense:function(e){for(var t,n=e.length-1;n>=0;n--)0===e[n].children.length?n>0?(t=e[n-1].children).splice(t.indexOf(e[n]),1):this.clear():a(e[n],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}}},62276:(e,t,n)=>{"use strict";var r=n(84102),o=n(10611),i=n(71704);function a(e){return(e=e.slice()).push(e[0]),r.polygon([e])}function s(e,t){if(t=t||{},!r.isObject(t))throw new Error("options is invalid");var n=t.bbox||[-180,-85,180,85];if(!e)throw new Error("points is required");if(!Array.isArray(n))throw new Error("bbox is invalid");return o.collectionOf(e,"Point","points"),r.featureCollection(i.voronoi().x((function(e){return e.geometry.coordinates[0]})).y((function(e){return e.geometry.coordinates[1]})).extent([[n[0],n[1]],[n[2],n[3]]]).polygons(e.features).map(a))}e.exports=s,e.exports.default=s},21924:(e,t,n)=>{"use strict";var r=n(40210),o=n(55559),i=o(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&i(e,".prototype.")>-1?o(n):n}},55559:(e,t,n)=>{"use strict";var r=n(58612),o=n(40210),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),s=o("%Reflect.apply%",!0)||r.call(a,i),l=o("%Object.getOwnPropertyDescriptor%",!0),u=o("%Object.defineProperty%",!0),c=o("%Math.max%");if(u)try{u({},"a",{value:1})}catch(e){u=null}e.exports=function(e){var t=s(r,a,arguments);if(l&&u){var n=l(t,"length");n.configurable&&u(t,"length",{value:1+c(0,e.length-(arguments.length-1))})}return t};var p=function(){return s(r,i,arguments)};u?u(e.exports,"apply",{value:p}):e.exports.apply=p},72273:(e,t,n)=>{"use strict";var r=n(59197),o=n(43842),i=n(26960),a=n(88639).orient2d;function s(e,t,n){t=Math.max(0,void 0===t?2:t),n=n||0;var o=function(e){for(var t=e[0],n=e[0],r=e[0],o=e[0],a=0;a<e.length;a++){var s=e[a];s[0]<t[0]&&(t=s),s[0]>r[0]&&(r=s),s[1]<n[1]&&(n=s),s[1]>o[1]&&(o=s)}var l=[t,n,r,o],u=l.slice();for(a=0;a<e.length;a++)i(e[a],l)||u.push(e[a]);return function(e){e.sort(b);for(var t=[],n=0;n<e.length;n++){for(;t.length>=2&&d(t[t.length-2],t[t.length-1],e[n])<=0;)t.pop();t.push(e[n])}for(var r=[],o=e.length-1;o>=0;o--){for(;r.length>=2&&d(r[r.length-2],r[r.length-1],e[o])<=0;)r.pop();r.push(e[o])}return r.pop(),t.pop(),t.concat(r)}(u)}(e),a=new r(16);a.toBBox=function(e){return{minX:e[0],minY:e[1],maxX:e[0],maxY:e[1]}},a.compareMinX=function(e,t){return e[0]-t[0]},a.compareMinY=function(e,t){return e[1]-t[1]},a.load(e);for(var s,u=[],c=0;c<o.length;c++){var p=o[c];a.remove(p),s=y(p,s),u.push(s)}var f=new r(16);for(c=0;c<u.length;c++)f.insert(h(u[c]));for(var m=t*t,v=n*n;u.length;){var _=u.shift(),w=_.p,P=_.next.p,C=g(w,P);if(!(C<v)){var O=C/m;(p=l(a,_.prev.p,w,P,_.next.next.p,O,f))&&Math.min(g(p,w),g(p,P))<=O&&(u.push(_),u.push(y(p,_)),a.remove(p),f.remove(_),f.insert(h(_)),f.insert(h(_.next)))}}_=s;var x=[];do{x.push(_.p),_=_.next}while(_!==s);return x.push(_.p),x}function l(e,t,n,r,i,a,s){for(var l=new o([],u),p=e.data;p;){for(var d=0;d<p.children.length;d++){var h=p.children[d],y=p.leaf?m(h,n,r):c(n,r,h);y>a||l.push({node:h,dist:y})}for(;l.length&&!l.peek().node.children;){var g=l.pop(),v=g.node,b=m(v,t,n),_=m(v,r,i);if(g.dist<b&&g.dist<_&&f(n,v,s)&&f(r,v,s))return v}(p=l.pop())&&(p=p.node)}return null}function u(e,t){return e.dist-t.dist}function c(e,t,n){if(p(e,n)||p(t,n))return 0;var r=v(e[0],e[1],t[0],t[1],n.minX,n.minY,n.maxX,n.minY);if(0===r)return 0;var o=v(e[0],e[1],t[0],t[1],n.minX,n.minY,n.minX,n.maxY);if(0===o)return 0;var i=v(e[0],e[1],t[0],t[1],n.maxX,n.minY,n.maxX,n.maxY);if(0===i)return 0;var a=v(e[0],e[1],t[0],t[1],n.minX,n.maxY,n.maxX,n.maxY);return 0===a?0:Math.min(r,o,i,a)}function p(e,t){return e[0]>=t.minX&&e[0]<=t.maxX&&e[1]>=t.minY&&e[1]<=t.maxY}function f(e,t,n){for(var r,o,i,a,s=Math.min(e[0],t[0]),l=Math.min(e[1],t[1]),u=Math.max(e[0],t[0]),c=Math.max(e[1],t[1]),p=n.search({minX:s,minY:l,maxX:u,maxY:c}),f=0;f<p.length;f++)if(r=p[f].p,o=p[f].next.p,i=e,r!==(a=t)&&o!==i&&d(r,o,i)>0!=d(r,o,a)>0&&d(i,a,r)>0!=d(i,a,o)>0)return!1;return!0}function d(e,t,n){return a(e[0],e[1],t[0],t[1],n[0],n[1])}function h(e){var t=e.p,n=e.next.p;return e.minX=Math.min(t[0],n[0]),e.minY=Math.min(t[1],n[1]),e.maxX=Math.max(t[0],n[0]),e.maxY=Math.max(t[1],n[1]),e}function y(e,t){var n={p:e,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return t?(n.next=t.next,n.prev=t,t.next.prev=n,t.next=n):(n.prev=n,n.next=n),n}function g(e,t){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function m(e,t,n){var r=t[0],o=t[1],i=n[0]-r,a=n[1]-o;if(0!==i||0!==a){var s=((e[0]-r)*i+(e[1]-o)*a)/(i*i+a*a);s>1?(r=n[0],o=n[1]):s>0&&(r+=i*s,o+=a*s)}return(i=e[0]-r)*i+(a=e[1]-o)*a}function v(e,t,n,r,o,i,a,s){var l,u,c,p,f=n-e,d=r-t,h=a-o,y=s-i,g=e-o,m=t-i,v=f*f+d*d,b=f*h+d*y,_=h*h+y*y,w=f*g+d*m,P=h*g+y*m,C=v*_-b*b,O=C,x=C;0===C?(u=0,O=1,p=P,x=_):(p=v*P-b*w,(u=b*P-_*w)<0?(u=0,p=P,x=_):u>O&&(u=O,p=P+b,x=_)),p<0?(p=0,-w<0?u=0:-w>v?u=O:(u=-w,O=v)):p>x&&(p=x,-w+b<0?u=0:-w+b>v?u=O:(u=-w+b,O=v));var S=(1-(c=0===p?0:p/x))*o+c*a-((1-(l=0===u?0:u/O))*e+l*n),E=(1-c)*i+c*s-((1-l)*t+l*r);return S*S+E*E}function b(e,t){return e[0]===t[0]?e[1]-t[1]:e[0]-t[0]}o.default&&(o=o.default),e.exports=s,e.exports.default=s},41688:(e,t,n)=>{"use strict";function r(){return new o}function o(){this.reset()}n.r(t),n.d(t,{geoAlbers:()=>wr,geoAlbersUsa:()=>Pr,geoArea:()=>Y,geoAzimuthalEqualArea:()=>Sr,geoAzimuthalEqualAreaRaw:()=>xr,geoAzimuthalEquidistant:()=>jr,geoAzimuthalEquidistantRaw:()=>Er,geoBounds:()=>Be,geoCentroid:()=>et,geoCircle:()=>pt,geoClipExtent:()=>Ot,geoConicConformal:()=>Dr,geoConicConformalRaw:()=>Nr,geoConicEqualArea:()=>_r,geoConicEqualAreaRaw:()=>br,geoConicEquidistant:()=>Lr,geoConicEquidistantRaw:()=>kr,geoContains:()=>qt,geoDistance:()=>Lt,geoEquirectangular:()=>Rr,geoEquirectangularRaw:()=>zr,geoGnomonic:()=>Br,geoGnomonicRaw:()=>Fr,geoGraticule:()=>Zt,geoGraticule10:()=>Kt,geoIdentity:()=>Gr,geoInterpolate:()=>Qt,geoLength:()=>zt,geoMercator:()=>Mr,geoMercatorRaw:()=>Tr,geoNaturalEarth1:()=>Wr,geoNaturalEarth1Raw:()=>Ur,geoOrthographic:()=>Hr,geoOrthographicRaw:()=>Jr,geoPath:()=>nr,geoProjection:()=>gr,geoProjectionMutator:()=>mr,geoRotation:()=>lt,geoStereographic:()=>Yr,geoStereographicRaw:()=>qr,geoStream:()=>z,geoTransform:()=>lr,geoTransverseMercator:()=>Zr,geoTransverseMercatorRaw:()=>Xr}),o.prototype={constructor:o,reset:function(){this.s=this.t=0},add:function(e){a(i,e,this.t),a(this,i.s,this.s),this.s?this.t+=i.t:this.s=i.t},valueOf:function(){return this.s}};var i=new o;function a(e,t,n){var r=e.s=t+n,o=r-t,i=r-o;e.t=t-i+(n-o)}var s=1e-6,l=Math.PI,u=l/2,c=l/4,p=2*l,f=180/l,d=l/180,h=Math.abs,y=Math.atan,g=Math.atan2,m=Math.cos,v=Math.ceil,b=Math.exp,_=(Math.floor,Math.log),w=Math.pow,P=Math.sin,C=Math.sign||function(e){return e>0?1:e<0?-1:0},O=Math.sqrt,x=Math.tan;function S(e){return e>1?0:e<-1?l:Math.acos(e)}function E(e){return e>1?u:e<-1?-u:Math.asin(e)}function j(e){return(e=P(e/2))*e}function T(){}function M(e,t){e&&I.hasOwnProperty(e.type)&&I[e.type](e,t)}var A={Feature:function(e,t){M(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,o=n.length;++r<o;)M(n[r].geometry,t)}},I={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){N(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)N(n[r],t,0)},Polygon:function(e,t){D(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)D(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,o=n.length;++r<o;)M(n[r],t)}};function N(e,t,n){var r,o=-1,i=e.length-n;for(t.lineStart();++o<i;)r=e[o],t.point(r[0],r[1],r[2]);t.lineEnd()}function D(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)N(e[n],t,1);t.polygonEnd()}function z(e,t){e&&A.hasOwnProperty(e.type)?A[e.type](e,t):M(e,t)}var R,k,L,F,B,V=r(),G=r(),U={point:T,lineStart:T,lineEnd:T,polygonStart:function(){V.reset(),U.lineStart=W,U.lineEnd=J},polygonEnd:function(){var e=+V;G.add(e<0?p+e:e),this.lineStart=this.lineEnd=this.point=T},sphere:function(){G.add(p)}};function W(){U.point=H}function J(){q(R,k)}function H(e,t){U.point=q,R=e,k=t,L=e*=d,F=m(t=(t*=d)/2+c),B=P(t)}function q(e,t){var n=(e*=d)-L,r=n>=0?1:-1,o=r*n,i=m(t=(t*=d)/2+c),a=P(t),s=B*a,l=F*i+s*m(o),u=s*r*P(o);V.add(g(u,l)),L=e,F=i,B=a}function Y(e){return G.reset(),z(e,U),2*G}function X(e){return[g(e[1],e[0]),E(e[2])]}function Z(e){var t=e[0],n=e[1],r=m(n);return[r*m(t),r*P(t),P(n)]}function K(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Q(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function $(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function ee(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function te(e){var t=O(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var ne,re,oe,ie,ae,se,le,ue,ce,pe,fe,de,he,ye,ge,me,ve,be,_e,we,Pe,Ce,Oe,xe,Se,Ee,je=r(),Te={point:Me,lineStart:Ie,lineEnd:Ne,polygonStart:function(){Te.point=De,Te.lineStart=ze,Te.lineEnd=Re,je.reset(),U.polygonStart()},polygonEnd:function(){U.polygonEnd(),Te.point=Me,Te.lineStart=Ie,Te.lineEnd=Ne,V<0?(ne=-(oe=180),re=-(ie=90)):je>s?ie=90:je<-s&&(re=-90),pe[0]=ne,pe[1]=oe}};function Me(e,t){ce.push(pe=[ne=e,oe=e]),t<re&&(re=t),t>ie&&(ie=t)}function Ae(e,t){var n=Z([e*d,t*d]);if(ue){var r=Q(ue,n),o=Q([r[1],-r[0],0],r);te(o),o=X(o);var i,a=e-ae,s=a>0?1:-1,l=o[0]*f*s,u=h(a)>180;u^(s*ae<l&&l<s*e)?(i=o[1]*f)>ie&&(ie=i):u^(s*ae<(l=(l+360)%360-180)&&l<s*e)?(i=-o[1]*f)<re&&(re=i):(t<re&&(re=t),t>ie&&(ie=t)),u?e<ae?ke(ne,e)>ke(ne,oe)&&(oe=e):ke(e,oe)>ke(ne,oe)&&(ne=e):oe>=ne?(e<ne&&(ne=e),e>oe&&(oe=e)):e>ae?ke(ne,e)>ke(ne,oe)&&(oe=e):ke(e,oe)>ke(ne,oe)&&(ne=e)}else ce.push(pe=[ne=e,oe=e]);t<re&&(re=t),t>ie&&(ie=t),ue=n,ae=e}function Ie(){Te.point=Ae}function Ne(){pe[0]=ne,pe[1]=oe,Te.point=Me,ue=null}function De(e,t){if(ue){var n=e-ae;je.add(h(n)>180?n+(n>0?360:-360):n)}else se=e,le=t;U.point(e,t),Ae(e,t)}function ze(){U.lineStart()}function Re(){De(se,le),U.lineEnd(),h(je)>s&&(ne=-(oe=180)),pe[0]=ne,pe[1]=oe,ue=null}function ke(e,t){return(t-=e)<0?t+360:t}function Le(e,t){return e[0]-t[0]}function Fe(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function Be(e){var t,n,r,o,i,a,s;if(ie=oe=-(ne=re=1/0),ce=[],z(e,Te),n=ce.length){for(ce.sort(Le),t=1,i=[r=ce[0]];t<n;++t)Fe(r,(o=ce[t])[0])||Fe(r,o[1])?(ke(r[0],o[1])>ke(r[0],r[1])&&(r[1]=o[1]),ke(o[0],r[1])>ke(r[0],r[1])&&(r[0]=o[0])):i.push(r=o);for(a=-1/0,t=0,r=i[n=i.length-1];t<=n;r=o,++t)o=i[t],(s=ke(r[1],o[0]))>a&&(a=s,ne=o[0],oe=r[1])}return ce=pe=null,ne===1/0||re===1/0?[[NaN,NaN],[NaN,NaN]]:[[ne,re],[oe,ie]]}var Ve,Ge,Ue={sphere:T,point:We,lineStart:He,lineEnd:Xe,polygonStart:function(){Ue.lineStart=Ze,Ue.lineEnd=Ke},polygonEnd:function(){Ue.lineStart=He,Ue.lineEnd=Xe}};function We(e,t){e*=d;var n=m(t*=d);Je(n*m(e),n*P(e),P(t))}function Je(e,t,n){++fe,he+=(e-he)/fe,ye+=(t-ye)/fe,ge+=(n-ge)/fe}function He(){Ue.point=qe}function qe(e,t){e*=d;var n=m(t*=d);xe=n*m(e),Se=n*P(e),Ee=P(t),Ue.point=Ye,Je(xe,Se,Ee)}function Ye(e,t){e*=d;var n=m(t*=d),r=n*m(e),o=n*P(e),i=P(t),a=g(O((a=Se*i-Ee*o)*a+(a=Ee*r-xe*i)*a+(a=xe*o-Se*r)*a),xe*r+Se*o+Ee*i);de+=a,me+=a*(xe+(xe=r)),ve+=a*(Se+(Se=o)),be+=a*(Ee+(Ee=i)),Je(xe,Se,Ee)}function Xe(){Ue.point=We}function Ze(){Ue.point=Qe}function Ke(){$e(Ce,Oe),Ue.point=We}function Qe(e,t){Ce=e,Oe=t,e*=d,t*=d,Ue.point=$e;var n=m(t);xe=n*m(e),Se=n*P(e),Ee=P(t),Je(xe,Se,Ee)}function $e(e,t){e*=d;var n=m(t*=d),r=n*m(e),o=n*P(e),i=P(t),a=Se*i-Ee*o,s=Ee*r-xe*i,l=xe*o-Se*r,u=O(a*a+s*s+l*l),c=E(u),p=u&&-c/u;_e+=p*a,we+=p*s,Pe+=p*l,de+=c,me+=c*(xe+(xe=r)),ve+=c*(Se+(Se=o)),be+=c*(Ee+(Ee=i)),Je(xe,Se,Ee)}function et(e){fe=de=he=ye=ge=me=ve=be=_e=we=Pe=0,z(e,Ue);var t=_e,n=we,r=Pe,o=t*t+n*n+r*r;return o<1e-12&&(t=me,n=ve,r=be,de<s&&(t=he,n=ye,r=ge),(o=t*t+n*n+r*r)<1e-12)?[NaN,NaN]:[g(n,t)*f,E(r/O(o))*f]}function tt(e){return function(){return e}}function nt(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function rt(e,t){return[e>l?e-p:e<-l?e+p:e,t]}function ot(e,t,n){return(e%=p)?t||n?nt(at(e),st(t,n)):at(e):t||n?st(t,n):rt}function it(e){return function(t,n){return[(t+=e)>l?t-p:t<-l?t+p:t,n]}}function at(e){var t=it(e);return t.invert=it(-e),t}function st(e,t){var n=m(e),r=P(e),o=m(t),i=P(t);function a(e,t){var a=m(t),s=m(e)*a,l=P(e)*a,u=P(t),c=u*n+s*r;return[g(l*o-c*i,s*n-u*r),E(c*o+l*i)]}return a.invert=function(e,t){var a=m(t),s=m(e)*a,l=P(e)*a,u=P(t),c=u*o-l*i;return[g(l*o+u*i,s*n+c*r),E(c*n-s*r)]},a}function lt(e){function t(t){return(t=e(t[0]*d,t[1]*d))[0]*=f,t[1]*=f,t}return e=ot(e[0]*d,e[1]*d,e.length>2?e[2]*d:0),t.invert=function(t){return(t=e.invert(t[0]*d,t[1]*d))[0]*=f,t[1]*=f,t},t}function ut(e,t,n,r,o,i){if(n){var a=m(t),s=P(t),l=r*n;null==o?(o=t+r*p,i=t-l/2):(o=ct(a,o),i=ct(a,i),(r>0?o<i:o>i)&&(o+=r*p));for(var u,c=o;r>0?c>i:c<i;c-=l)u=X([a,-s*m(c),-s*P(c)]),e.point(u[0],u[1])}}function ct(e,t){(t=Z(t))[0]-=e,te(t);var n=S(-t[1]);return((-t[2]<0?-n:n)+p-s)%p}function pt(){var e,t,n=tt([0,0]),r=tt(90),o=tt(6),i={point:function(n,r){e.push(n=t(n,r)),n[0]*=f,n[1]*=f}};function a(){var a=n.apply(this,arguments),s=r.apply(this,arguments)*d,l=o.apply(this,arguments)*d;return e=[],t=ot(-a[0]*d,-a[1]*d,0).invert,ut(i,s,l,1),a={type:"Polygon",coordinates:[e]},e=t=null,a}return a.center=function(e){return arguments.length?(n="function"==typeof e?e:tt([+e[0],+e[1]]),a):n},a.radius=function(e){return arguments.length?(r="function"==typeof e?e:tt(+e),a):r},a.precision=function(e){return arguments.length?(o="function"==typeof e?e:tt(+e),a):o},a}function ft(){var e,t=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:T,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function dt(e,t){return h(e[0]-t[0])<s&&h(e[1]-t[1])<s}function ht(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function yt(e,t,n,r,o){var i,a,s=[],l=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],a=e[t];if(dt(r,a)){for(o.lineStart(),i=0;i<t;++i)o.point((r=e[i])[0],r[1]);o.lineEnd()}else s.push(n=new ht(r,e,null,!0)),l.push(n.o=new ht(r,null,n,!1)),s.push(n=new ht(a,e,null,!1)),l.push(n.o=new ht(a,null,n,!0))}})),s.length){for(l.sort(t),gt(s),gt(l),i=0,a=l.length;i<a;++i)l[i].e=n=!n;for(var u,c,p=s[0];;){for(var f=p,d=!0;f.v;)if((f=f.n)===p)return;u=f.z,o.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(i=0,a=u.length;i<a;++i)o.point((c=u[i])[0],c[1]);else r(f.x,f.n.x,1,o);f=f.n}else{if(d)for(u=f.p.z,i=u.length-1;i>=0;--i)o.point((c=u[i])[0],c[1]);else r(f.x,f.p.x,-1,o);f=f.p}u=(f=f.o).z,d=!d}while(!f.v);o.lineEnd()}}}function gt(e){if(t=e.length){for(var t,n,r=0,o=e[0];++r<t;)o.n=n=e[r],n.p=o,o=n;o.n=n=e[0],n.p=o}}function mt(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}rt.invert=rt,1===(Ve=mt).length&&(Ge=Ve,Ve=function(e,t){return mt(Ge(e),t)});var vt=Array.prototype;function bt(e){for(var t,n,r,o=e.length,i=-1,a=0;++i<o;)a+=e[i].length;for(n=new Array(a);--o>=0;)for(t=(r=e[o]).length;--t>=0;)n[--a]=r[t];return n}function _t(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(o);++r<o;)i[r]=e+r*n;return i}vt.slice,vt.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var wt=1e9,Pt=-wt;function Ct(e,t,n,r){function o(o,i){return e<=o&&o<=n&&t<=i&&i<=r}function i(o,i,s,l){var c=0,p=0;if(null==o||(c=a(o,s))!==(p=a(i,s))||u(o,i)<0^s>0)do{l.point(0===c||3===c?e:n,c>1?r:t)}while((c=(c+s+4)%4)!==p);else l.point(i[0],i[1])}function a(r,o){return h(r[0]-e)<s?o>0?0:3:h(r[0]-n)<s?o>0?2:1:h(r[1]-t)<s?o>0?1:0:o>0?3:2}function l(e,t){return u(e.x,t.x)}function u(e,t){var n=a(e,1),r=a(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(a){var s,u,c,p,f,d,h,y,g,m,v,b=a,_=ft(),w={point:P,lineStart:function(){w.point=C,u&&u.push(c=[]),m=!0,g=!1,h=y=NaN},lineEnd:function(){s&&(C(p,f),d&&g&&_.rejoin(),s.push(_.result())),w.point=P,g&&b.lineEnd()},polygonStart:function(){b=_,s=[],u=[],v=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,o=u.length;n<o;++n)for(var i,a,s=u[n],l=1,c=s.length,p=s[0],f=p[0],d=p[1];l<c;++l)i=f,a=d,f=(p=s[l])[0],d=p[1],a<=r?d>r&&(f-i)*(r-a)>(d-a)*(e-i)&&++t:d<=r&&(f-i)*(r-a)<(d-a)*(e-i)&&--t;return t}(),n=v&&t,o=(s=bt(s)).length;(n||o)&&(a.polygonStart(),n&&(a.lineStart(),i(null,null,1,a),a.lineEnd()),o&&yt(s,l,t,i,a),a.polygonEnd()),b=a,s=u=c=null}};function P(e,t){o(e,t)&&b.point(e,t)}function C(i,a){var s=o(i,a);if(u&&c.push([i,a]),m)p=i,f=a,d=s,m=!1,s&&(b.lineStart(),b.point(i,a));else if(s&&g)b.point(i,a);else{var l=[h=Math.max(Pt,Math.min(wt,h)),y=Math.max(Pt,Math.min(wt,y))],_=[i=Math.max(Pt,Math.min(wt,i)),a=Math.max(Pt,Math.min(wt,a))];!function(e,t,n,r,o,i){var a,s=e[0],l=e[1],u=0,c=1,p=t[0]-s,f=t[1]-l;if(a=n-s,p||!(a>0)){if(a/=p,p<0){if(a<u)return;a<c&&(c=a)}else if(p>0){if(a>c)return;a>u&&(u=a)}if(a=o-s,p||!(a<0)){if(a/=p,p<0){if(a>c)return;a>u&&(u=a)}else if(p>0){if(a<u)return;a<c&&(c=a)}if(a=r-l,f||!(a>0)){if(a/=f,f<0){if(a<u)return;a<c&&(c=a)}else if(f>0){if(a>c)return;a>u&&(u=a)}if(a=i-l,f||!(a<0)){if(a/=f,f<0){if(a>c)return;a>u&&(u=a)}else if(f>0){if(a<u)return;a<c&&(c=a)}return u>0&&(e[0]=s+u*p,e[1]=l+u*f),c<1&&(t[0]=s+c*p,t[1]=l+c*f),!0}}}}}(l,_,e,t,n,r)?s&&(b.lineStart(),b.point(i,a),v=!1):(g||(b.lineStart(),b.point(l[0],l[1])),b.point(_[0],_[1]),s||b.lineEnd(),v=!1)}h=i,y=a,g=s}return w}}function Ot(){var e,t,n,r=0,o=0,i=960,a=500;return n={stream:function(n){return e&&t===n?e:e=Ct(r,o,i,a)(t=n)},extent:function(s){return arguments.length?(r=+s[0][0],o=+s[0][1],i=+s[1][0],a=+s[1][1],e=t=null,n):[[r,o],[i,a]]}}}var xt=r();function St(e,t){var n=t[0],r=t[1],o=[P(n),-m(n),0],i=0,a=0;xt.reset();for(var u=0,f=e.length;u<f;++u)if(h=(d=e[u]).length)for(var d,h,y=d[h-1],v=y[0],b=y[1]/2+c,_=P(b),w=m(b),C=0;C<h;++C,v=x,_=j,w=T,y=O){var O=d[C],x=O[0],S=O[1]/2+c,j=P(S),T=m(S),M=x-v,A=M>=0?1:-1,I=A*M,N=I>l,D=_*j;if(xt.add(g(D*A*P(I),w*T+D*m(I))),i+=N?M+A*p:M,N^v>=n^x>=n){var z=Q(Z(y),Z(O));te(z);var R=Q(o,z);te(R);var k=(N^M>=0?-1:1)*E(R[2]);(r>k||r===k&&(z[0]||z[1]))&&(a+=N^M>=0?1:-1)}}return(i<-s||i<s&&xt<-s)^1&a}var Et,jt,Tt,Mt=r(),At={sphere:T,point:T,lineStart:function(){At.point=Nt,At.lineEnd=It},lineEnd:T,polygonStart:T,polygonEnd:T};function It(){At.point=At.lineEnd=T}function Nt(e,t){Et=e*=d,jt=P(t*=d),Tt=m(t),At.point=Dt}function Dt(e,t){e*=d;var n=P(t*=d),r=m(t),o=h(e-Et),i=m(o),a=r*P(o),s=Tt*n-jt*r*i,l=jt*n+Tt*r*i;Mt.add(g(O(a*a+s*s),l)),Et=e,jt=n,Tt=r}function zt(e){return Mt.reset(),z(e,At),+Mt}var Rt=[null,null],kt={type:"LineString",coordinates:Rt};function Lt(e,t){return Rt[0]=e,Rt[1]=t,zt(kt)}var Ft={Feature:function(e,t){return Vt(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,o=n.length;++r<o;)if(Vt(n[r].geometry,t))return!0;return!1}},Bt={Sphere:function(){return!0},Point:function(e,t){return Gt(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)if(Gt(n[r],t))return!0;return!1},LineString:function(e,t){return Ut(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)if(Ut(n[r],t))return!0;return!1},Polygon:function(e,t){return Wt(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)if(Wt(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,o=n.length;++r<o;)if(Vt(n[r],t))return!0;return!1}};function Vt(e,t){return!(!e||!Bt.hasOwnProperty(e.type))&&Bt[e.type](e,t)}function Gt(e,t){return 0===Lt(e,t)}function Ut(e,t){var n=Lt(e[0],e[1]);return Lt(e[0],t)+Lt(t,e[1])<=n+s}function Wt(e,t){return!!St(e.map(Jt),Ht(t))}function Jt(e){return(e=e.map(Ht)).pop(),e}function Ht(e){return[e[0]*d,e[1]*d]}function qt(e,t){return(e&&Ft.hasOwnProperty(e.type)?Ft[e.type]:Vt)(e,t)}function Yt(e,t,n){var r=_t(e,t-s,n).concat(t);return function(e){return r.map((function(t){return[e,t]}))}}function Xt(e,t,n){var r=_t(e,t-s,n).concat(t);return function(e){return r.map((function(t){return[t,e]}))}}function Zt(){var e,t,n,r,o,i,a,l,u,c,p,f,d=10,y=d,g=90,m=360,b=2.5;function _(){return{type:"MultiLineString",coordinates:w()}}function w(){return _t(v(r/g)*g,n,g).map(p).concat(_t(v(l/m)*m,a,m).map(f)).concat(_t(v(t/d)*d,e,d).filter((function(e){return h(e%g)>s})).map(u)).concat(_t(v(i/y)*y,o,y).filter((function(e){return h(e%m)>s})).map(c))}return _.lines=function(){return w().map((function(e){return{type:"LineString",coordinates:e}}))},_.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(f(a).slice(1),p(n).reverse().slice(1),f(l).reverse().slice(1))]}},_.extent=function(e){return arguments.length?_.extentMajor(e).extentMinor(e):_.extentMinor()},_.extentMajor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],l=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),l>a&&(e=l,l=a,a=e),_.precision(b)):[[r,l],[n,a]]},_.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],i=+n[0][1],o=+n[1][1],t>e&&(n=t,t=e,e=n),i>o&&(n=i,i=o,o=n),_.precision(b)):[[t,i],[e,o]]},_.step=function(e){return arguments.length?_.stepMajor(e).stepMinor(e):_.stepMinor()},_.stepMajor=function(e){return arguments.length?(g=+e[0],m=+e[1],_):[g,m]},_.stepMinor=function(e){return arguments.length?(d=+e[0],y=+e[1],_):[d,y]},_.precision=function(s){return arguments.length?(b=+s,u=Yt(i,o,90),c=Xt(t,e,b),p=Yt(l,a,90),f=Xt(r,n,b),_):b},_.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Kt(){return Zt()()}function Qt(e,t){var n=e[0]*d,r=e[1]*d,o=t[0]*d,i=t[1]*d,a=m(r),s=P(r),l=m(i),u=P(i),c=a*m(n),p=a*P(n),h=l*m(o),y=l*P(o),v=2*E(O(j(i-r)+a*l*j(o-n))),b=P(v),_=v?function(e){var t=P(e*=v)/b,n=P(v-e)/b,r=n*c+t*h,o=n*p+t*y,i=n*s+t*u;return[g(o,r)*f,g(i,O(r*r+o*o))*f]}:function(){return[n*f,r*f]};return _.distance=v,_}function $t(e){return e}var en,tn,nn,rn,on=r(),an=r(),sn={point:T,lineStart:T,lineEnd:T,polygonStart:function(){sn.lineStart=ln,sn.lineEnd=pn},polygonEnd:function(){sn.lineStart=sn.lineEnd=sn.point=T,on.add(h(an)),an.reset()},result:function(){var e=on/2;return on.reset(),e}};function ln(){sn.point=un}function un(e,t){sn.point=cn,en=nn=e,tn=rn=t}function cn(e,t){an.add(rn*e-nn*t),nn=e,rn=t}function pn(){cn(en,tn)}const fn=sn;var dn=1/0,hn=dn,yn=-dn,gn=yn,mn={point:function(e,t){e<dn&&(dn=e),e>yn&&(yn=e),t<hn&&(hn=t),t>gn&&(gn=t)},lineStart:T,lineEnd:T,polygonStart:T,polygonEnd:T,result:function(){var e=[[dn,hn],[yn,gn]];return yn=gn=-(hn=dn=1/0),e}};const vn=mn;var bn,_n,wn,Pn,Cn=0,On=0,xn=0,Sn=0,En=0,jn=0,Tn=0,Mn=0,An=0,In={point:Nn,lineStart:Dn,lineEnd:kn,polygonStart:function(){In.lineStart=Ln,In.lineEnd=Fn},polygonEnd:function(){In.point=Nn,In.lineStart=Dn,In.lineEnd=kn},result:function(){var e=An?[Tn/An,Mn/An]:jn?[Sn/jn,En/jn]:xn?[Cn/xn,On/xn]:[NaN,NaN];return Cn=On=xn=Sn=En=jn=Tn=Mn=An=0,e}};function Nn(e,t){Cn+=e,On+=t,++xn}function Dn(){In.point=zn}function zn(e,t){In.point=Rn,Nn(wn=e,Pn=t)}function Rn(e,t){var n=e-wn,r=t-Pn,o=O(n*n+r*r);Sn+=o*(wn+e)/2,En+=o*(Pn+t)/2,jn+=o,Nn(wn=e,Pn=t)}function kn(){In.point=Nn}function Ln(){In.point=Bn}function Fn(){Vn(bn,_n)}function Bn(e,t){In.point=Vn,Nn(bn=wn=e,_n=Pn=t)}function Vn(e,t){var n=e-wn,r=t-Pn,o=O(n*n+r*r);Sn+=o*(wn+e)/2,En+=o*(Pn+t)/2,jn+=o,Tn+=(o=Pn*e-wn*t)*(wn+e),Mn+=o*(Pn+t),An+=3*o,Nn(wn=e,Pn=t)}const Gn=In;function Un(e){this._context=e}Un.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,p)}},result:T};var Wn,Jn,Hn,qn,Yn,Xn=r(),Zn={point:T,lineStart:function(){Zn.point=Kn},lineEnd:function(){Wn&&Qn(Jn,Hn),Zn.point=T},polygonStart:function(){Wn=!0},polygonEnd:function(){Wn=null},result:function(){var e=+Xn;return Xn.reset(),e}};function Kn(e,t){Zn.point=Qn,Jn=qn=e,Hn=Yn=t}function Qn(e,t){qn-=e,Yn-=t,Xn.add(O(qn*qn+Yn*Yn)),qn=e,Yn=t}const $n=Zn;function er(){this._string=[]}function tr(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function nr(e,t){var n,r,o=4.5;function i(e){return e&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),z(e,n(r))),r.result()}return i.area=function(e){return z(e,n(fn)),fn.result()},i.measure=function(e){return z(e,n($n)),$n.result()},i.bounds=function(e){return z(e,n(vn)),vn.result()},i.centroid=function(e){return z(e,n(Gn)),Gn.result()},i.projection=function(t){return arguments.length?(n=null==t?(e=null,$t):(e=t).stream,i):e},i.context=function(e){return arguments.length?(r=null==e?(t=null,new er):new Un(t=e),"function"!=typeof o&&r.pointRadius(o),i):t},i.pointRadius=function(e){return arguments.length?(o="function"==typeof e?e:(r.pointRadius(+e),+e),i):o},i.projection(e).context(t)}function rr(e,t,n,r){return function(o,i){var a,s,l,u=t(i),c=o.invert(r[0],r[1]),p=ft(),f=t(p),d=!1,h={point:y,lineStart:m,lineEnd:v,polygonStart:function(){h.point=b,h.lineStart=_,h.lineEnd=w,s=[],a=[]},polygonEnd:function(){h.point=y,h.lineStart=m,h.lineEnd=v,s=bt(s);var e=St(a,c);s.length?(d||(i.polygonStart(),d=!0),yt(s,ir,e,n,i)):e&&(d||(i.polygonStart(),d=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),d&&(i.polygonEnd(),d=!1),s=a=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function y(t,n){var r=o(t,n);e(t=r[0],n=r[1])&&i.point(t,n)}function g(e,t){var n=o(e,t);u.point(n[0],n[1])}function m(){h.point=g,u.lineStart()}function v(){h.point=y,u.lineEnd()}function b(e,t){l.push([e,t]);var n=o(e,t);f.point(n[0],n[1])}function _(){f.lineStart(),l=[]}function w(){b(l[0][0],l[0][1]),f.lineEnd();var e,t,n,r,o=f.clean(),u=p.result(),c=u.length;if(l.pop(),a.push(l),l=null,c)if(1&o){if((t=(n=u[0]).length-1)>0){for(d||(i.polygonStart(),d=!0),i.lineStart(),e=0;e<t;++e)i.point((r=n[e])[0],r[1]);i.lineEnd()}}else c>1&&2&o&&u.push(u.pop().concat(u.shift())),s.push(u.filter(or))}return h}}function or(e){return e.length>1}function ir(e,t){return((e=e.x)[0]<0?e[1]-u-s:u-e[1])-((t=t.x)[0]<0?t[1]-u-s:u-t[1])}er.prototype={_radius:4.5,_circle:tr(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=tr(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};const ar=rr((function(){return!0}),(function(e){var t,n=NaN,r=NaN,o=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(i,a){var c=i>0?l:-l,p=h(i-n);h(p-l)<s?(e.point(n,r=(r+a)/2>0?u:-u),e.point(o,r),e.lineEnd(),e.lineStart(),e.point(c,r),e.point(i,r),t=0):o!==c&&p>=l&&(h(n-o)<s&&(n-=o*s),h(i-c)<s&&(i-=c*s),r=function(e,t,n,r){var o,i,a=P(e-n);return h(a)>s?y((P(t)*(i=m(r))*P(n)-P(r)*(o=m(t))*P(e))/(o*i*a)):(t+r)/2}(n,r,i,a),e.point(o,r),e.lineEnd(),e.lineStart(),e.point(c,r),t=0),e.point(n=i,r=a),o=c},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var o;if(null==e)o=n*u,r.point(-l,o),r.point(0,o),r.point(l,o),r.point(l,0),r.point(l,-o),r.point(0,-o),r.point(-l,-o),r.point(-l,0),r.point(-l,o);else if(h(e[0]-t[0])>s){var i=e[0]<t[0]?l:-l;o=n*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(t[0],t[1])}),[-l,-u]);function sr(e,t){var n=m(e),r=n>0,o=h(n)>s;function i(e,t){return m(e)*m(t)>n}function a(e,t,r){var o=[1,0,0],i=Q(Z(e),Z(t)),a=K(i,i),u=i[0],c=a-u*u;if(!c)return!r&&e;var p=n*a/c,f=-n*u/c,d=Q(o,i),y=ee(o,p);$(y,ee(i,f));var g=d,m=K(y,g),v=K(g,g),b=m*m-v*(K(y,y)-1);if(!(b<0)){var _=O(b),w=ee(g,(-m-_)/v);if($(w,y),w=X(w),!r)return w;var P,C=e[0],x=t[0],S=e[1],E=t[1];x<C&&(P=C,C=x,x=P);var j=x-C,T=h(j-l)<s;if(!T&&E<S&&(P=S,S=E,E=P),T||j<s?T?S+E>0^w[1]<(h(w[0]-C)<s?S:E):S<=w[1]&&w[1]<=E:j>l^(C<=w[0]&&w[0]<=x)){var M=ee(g,(-m+_)/v);return $(M,y),[w,X(M)]}}}function u(t,n){var o=r?e:l-e,i=0;return t<-o?i|=1:t>o&&(i|=2),n<-o?i|=4:n>o&&(i|=8),i}return rr(i,(function(e){var t,n,c,p,f;return{lineStart:function(){p=c=!1,f=1},point:function(d,h){var y,g=[d,h],m=i(d,h),v=r?m?0:u(d,h):m?u(d+(d<0?l:-l),h):0;if(!t&&(p=c=m)&&e.lineStart(),m!==c&&(!(y=a(t,g))||dt(t,y)||dt(g,y))&&(g[0]+=s,g[1]+=s,m=i(g[0],g[1])),m!==c)f=0,m?(e.lineStart(),y=a(g,t),e.point(y[0],y[1])):(y=a(t,g),e.point(y[0],y[1]),e.lineEnd()),t=y;else if(o&&t&&r^m){var b;v&n||!(b=a(g,t,!0))||(f=0,r?(e.lineStart(),e.point(b[0][0],b[0][1]),e.point(b[1][0],b[1][1]),e.lineEnd()):(e.point(b[1][0],b[1][1]),e.lineEnd(),e.lineStart(),e.point(b[0][0],b[0][1])))}!m||t&&dt(t,g)||e.point(g[0],g[1]),t=g,c=m,n=v},lineEnd:function(){c&&e.lineEnd(),t=null},clean:function(){return f|(p&&c)<<1}}}),(function(n,r,o,i){ut(i,e,t,o,n,r)}),r?[0,-e]:[-l,e-l])}function lr(e){return{stream:ur(e)}}function ur(e){return function(t){var n=new cr;for(var r in e)n[r]=e[r];return n.stream=t,n}}function cr(){}function pr(e,t,n){var r=t[1][0]-t[0][0],o=t[1][1]-t[0][1],i=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),null!=i&&e.clipExtent(null),z(n,e.stream(vn));var a=vn.result(),s=Math.min(r/(a[1][0]-a[0][0]),o/(a[1][1]-a[0][1])),l=+t[0][0]+(r-s*(a[1][0]+a[0][0]))/2,u=+t[0][1]+(o-s*(a[1][1]+a[0][1]))/2;return null!=i&&e.clipExtent(i),e.scale(150*s).translate([l,u])}function fr(e,t,n){return pr(e,[[0,0],t],n)}cr.prototype={constructor:cr,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var dr=m(30*d);function hr(e,t){return+t?function(e,t){function n(r,o,i,a,l,u,c,p,f,d,y,m,v,b){var _=c-r,w=p-o,P=_*_+w*w;if(P>4*t&&v--){var C=a+d,x=l+y,S=u+m,j=O(C*C+x*x+S*S),T=E(S/=j),M=h(h(S)-1)<s||h(i-f)<s?(i+f)/2:g(x,C),A=e(M,T),I=A[0],N=A[1],D=I-r,z=N-o,R=w*D-_*z;(R*R/P>t||h((_*D+w*z)/P-.5)>.3||a*d+l*y+u*m<dr)&&(n(r,o,i,a,l,u,I,N,M,C/=j,x/=j,S,v,b),b.point(I,N),n(I,N,M,C,x,S,c,p,f,d,y,m,v,b))}}return function(t){var r,o,i,a,s,l,u,c,p,f,d,h,y={point:g,lineStart:m,lineEnd:b,polygonStart:function(){t.polygonStart(),y.lineStart=_},polygonEnd:function(){t.polygonEnd(),y.lineStart=m}};function g(n,r){n=e(n,r),t.point(n[0],n[1])}function m(){c=NaN,y.point=v,t.lineStart()}function v(r,o){var i=Z([r,o]),a=e(r,o);n(c,p,u,f,d,h,c=a[0],p=a[1],u=r,f=i[0],d=i[1],h=i[2],16,t),t.point(c,p)}function b(){y.point=g,t.lineEnd()}function _(){m(),y.point=w,y.lineEnd=P}function w(e,t){v(r=e,t),o=c,i=p,a=f,s=d,l=h,y.point=v}function P(){n(c,p,u,f,d,h,o,i,r,a,s,l,16,t),y.lineEnd=b,b()}return y}}(e,t):function(e){return ur({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)}var yr=ur({point:function(e,t){this.stream.point(e*d,t*d)}});function gr(e){return mr((function(){return e}))()}function mr(e){var t,n,r,o,i,a,s,l,u,c,p=150,h=480,y=250,g=0,m=0,v=0,b=0,_=0,w=null,P=ar,C=null,x=$t,S=.5,E=hr(M,S);function j(e){return[(e=i(e[0]*d,e[1]*d))[0]*p+n,r-e[1]*p]}function T(e){return(e=i.invert((e[0]-n)/p,(r-e[1])/p))&&[e[0]*f,e[1]*f]}function M(e,o){return[(e=t(e,o))[0]*p+n,r-e[1]*p]}function A(){i=nt(o=ot(v,b,_),t);var e=t(g,m);return n=h-e[0]*p,r=y+e[1]*p,I()}function I(){return u=c=null,j}return j.stream=function(e){return u&&c===e?u:u=yr(P(o,E(x(c=e))))},j.clipAngle=function(e){return arguments.length?(P=+e?sr(w=e*d,6*d):(w=null,ar),I()):w*f},j.clipExtent=function(e){return arguments.length?(x=null==e?(C=a=s=l=null,$t):Ct(C=+e[0][0],a=+e[0][1],s=+e[1][0],l=+e[1][1]),I()):null==C?null:[[C,a],[s,l]]},j.scale=function(e){return arguments.length?(p=+e,A()):p},j.translate=function(e){return arguments.length?(h=+e[0],y=+e[1],A()):[h,y]},j.center=function(e){return arguments.length?(g=e[0]%360*d,m=e[1]%360*d,A()):[g*f,m*f]},j.rotate=function(e){return arguments.length?(v=e[0]%360*d,b=e[1]%360*d,_=e.length>2?e[2]%360*d:0,A()):[v*f,b*f,_*f]},j.precision=function(e){return arguments.length?(E=hr(M,S=e*e),I()):O(S)},j.fitExtent=function(e,t){return pr(j,e,t)},j.fitSize=function(e,t){return fr(j,e,t)},function(){return t=e.apply(this,arguments),j.invert=t.invert&&T,A()}}function vr(e){var t=0,n=l/3,r=mr(e),o=r(t,n);return o.parallels=function(e){return arguments.length?r(t=e[0]*d,n=e[1]*d):[t*f,n*f]},o}function br(e,t){var n=P(e),r=(n+P(t))/2;if(h(r)<s)return function(e){var t=m(e);function n(e,n){return[e*t,P(n)/t]}return n.invert=function(e,n){return[e/t,E(n*t)]},n}(e);var o=1+n*(2*r-n),i=O(o)/r;function a(e,t){var n=O(o-2*r*P(t))/r;return[n*P(e*=r),i-n*m(e)]}return a.invert=function(e,t){var n=i-t;return[g(e,h(n))/r*C(n),E((o-(e*e+n*n)*r*r)/(2*r))]},a}function _r(){return vr(br).scale(155.424).center([0,33.6442])}function wr(){return _r().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Pr(){var e,t,n,r,o,i,a=wr(),l=_r().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=_r().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(e,t){i=[e,t]}};function p(e){var t=e[0],a=e[1];return i=null,n.point(t,a),i||(r.point(t,a),i)||(o.point(t,a),i)}function f(){return e=t=null,p}return p.invert=function(e){var t=a.scale(),n=a.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?l:o>=.166&&o<.234&&r>=-.214&&r<-.115?u:a).invert(e)},p.stream=function(n){return e&&t===n?e:(r=[a.stream(t=n),l.stream(n),u.stream(n)],o=r.length,e={point:function(e,t){for(var n=-1;++n<o;)r[n].point(e,t)},sphere:function(){for(var e=-1;++e<o;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<o;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<o;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<o;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<o;)r[e].polygonEnd()}});var r,o},p.precision=function(e){return arguments.length?(a.precision(e),l.precision(e),u.precision(e),f()):a.precision()},p.scale=function(e){return arguments.length?(a.scale(e),l.scale(.35*e),u.scale(e),p.translate(a.translate())):a.scale()},p.translate=function(e){if(!arguments.length)return a.translate();var t=a.scale(),i=+e[0],p=+e[1];return n=a.translate(e).clipExtent([[i-.455*t,p-.238*t],[i+.455*t,p+.238*t]]).stream(c),r=l.translate([i-.307*t,p+.201*t]).clipExtent([[i-.425*t+s,p+.12*t+s],[i-.214*t-s,p+.234*t-s]]).stream(c),o=u.translate([i-.205*t,p+.212*t]).clipExtent([[i-.214*t+s,p+.166*t+s],[i-.115*t-s,p+.234*t-s]]).stream(c),f()},p.fitExtent=function(e,t){return pr(p,e,t)},p.fitSize=function(e,t){return fr(p,e,t)},p.scale(1070)}function Cr(e){return function(t,n){var r=m(t),o=m(n),i=e(r*o);return[i*o*P(t),i*P(n)]}}function Or(e){return function(t,n){var r=O(t*t+n*n),o=e(r),i=P(o),a=m(o);return[g(t*i,r*a),E(r&&n*i/r)]}}var xr=Cr((function(e){return O(2/(1+e))}));function Sr(){return gr(xr).scale(124.75).clipAngle(179.999)}xr.invert=Or((function(e){return 2*E(e/2)}));var Er=Cr((function(e){return(e=S(e))&&e/P(e)}));function jr(){return gr(Er).scale(79.4188).clipAngle(179.999)}function Tr(e,t){return[e,_(x((u+t)/2))]}function Mr(){return Ar(Tr).scale(961/p)}function Ar(e){var t,n,r,o=gr(e),i=o.center,a=o.scale,s=o.translate,u=o.clipExtent,c=null;function p(){var i=l*a(),s=o(lt(o.rotate()).invert([0,0]));return u(null==c?[[s[0]-i,s[1]-i],[s[0]+i,s[1]+i]]:e===Tr?[[Math.max(s[0]-i,c),t],[Math.min(s[0]+i,n),r]]:[[c,Math.max(s[1]-i,t)],[n,Math.min(s[1]+i,r)]])}return o.scale=function(e){return arguments.length?(a(e),p()):a()},o.translate=function(e){return arguments.length?(s(e),p()):s()},o.center=function(e){return arguments.length?(i(e),p()):i()},o.clipExtent=function(e){return arguments.length?(null==e?c=t=n=r=null:(c=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),p()):null==c?null:[[c,t],[n,r]]},p()}function Ir(e){return x((u+e)/2)}function Nr(e,t){var n=m(e),r=e===t?P(e):_(n/m(t))/_(Ir(t)/Ir(e)),o=n*w(Ir(e),r)/r;if(!r)return Tr;function i(e,t){o>0?t<-u+s&&(t=-u+s):t>u-s&&(t=u-s);var n=o/w(Ir(t),r);return[n*P(r*e),o-n*m(r*e)]}return i.invert=function(e,t){var n=o-t,i=C(r)*O(e*e+n*n);return[g(e,h(n))/r*C(n),2*y(w(o/i,1/r))-u]},i}function Dr(){return vr(Nr).scale(109.5).parallels([30,30])}function zr(e,t){return[e,t]}function Rr(){return gr(zr).scale(152.63)}function kr(e,t){var n=m(e),r=e===t?P(e):(n-m(t))/(t-e),o=n/r+e;if(h(r)<s)return zr;function i(e,t){var n=o-t,i=r*e;return[n*P(i),o-n*m(i)]}return i.invert=function(e,t){var n=o-t;return[g(e,h(n))/r*C(n),o-C(r)*O(e*e+n*n)]},i}function Lr(){return vr(kr).scale(131.154).center([0,13.9389])}function Fr(e,t){var n=m(t),r=m(e)*n;return[n*P(e)/r,P(t)/r]}function Br(){return gr(Fr).scale(144.049).clipAngle(60)}function Vr(e,t,n,r){return 1===e&&1===t&&0===n&&0===r?$t:ur({point:function(o,i){this.stream.point(o*e+n,i*t+r)}})}function Gr(){var e,t,n,r,o,i,a=1,s=0,l=0,u=1,c=1,p=$t,f=null,d=$t;function h(){return r=o=null,i}return i={stream:function(e){return r&&o===e?r:r=p(d(o=e))},clipExtent:function(r){return arguments.length?(d=null==r?(f=e=t=n=null,$t):Ct(f=+r[0][0],e=+r[0][1],t=+r[1][0],n=+r[1][1]),h()):null==f?null:[[f,e],[t,n]]},scale:function(e){return arguments.length?(p=Vr((a=+e)*u,a*c,s,l),h()):a},translate:function(e){return arguments.length?(p=Vr(a*u,a*c,s=+e[0],l=+e[1]),h()):[s,l]},reflectX:function(e){return arguments.length?(p=Vr(a*(u=e?-1:1),a*c,s,l),h()):u<0},reflectY:function(e){return arguments.length?(p=Vr(a*u,a*(c=e?-1:1),s,l),h()):c<0},fitExtent:function(e,t){return pr(i,e,t)},fitSize:function(e,t){return fr(i,e,t)}}}function Ur(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function Wr(){return gr(Ur).scale(175.295)}function Jr(e,t){return[m(t)*P(e),P(t)]}function Hr(){return gr(Jr).scale(249.5).clipAngle(90.000001)}function qr(e,t){var n=m(t),r=1+m(e)*n;return[n*P(e)/r,P(t)/r]}function Yr(){return gr(qr).scale(250).clipAngle(142)}function Xr(e,t){return[_(x((u+t)/2)),-e]}function Zr(){var e=Ar(Xr),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)}Er.invert=Or((function(e){return e})),Tr.invert=function(e,t){return[e,2*y(b(t))-u]},zr.invert=zr,Fr.invert=Or(y),Ur.invert=function(e,t){var n,r=t,o=25;do{var i=r*r,a=i*i;r-=n=(r*(1.007226+i*(.015085+a*(.028874*i-.044475-.005916*a)))-t)/(1.007226+i*(.045255+a*(.259866*i-.311325-.005916*11*a)))}while(h(n)>s&&--o>0);return[e/(.8707+(i=r*r)*(i*(i*i*i*(.003971-.001529*i)-.013791)-.131979)),r]},Jr.invert=Or(E),qr.invert=Or((function(e){return 2*y(e)})),Xr.invert=function(e,t){return[-t,2*y(b(e))-u]}},71704:(e,t,n)=>{"use strict";function r(e){return function(){return e}}function o(e){return e[0]}function i(e){return e[1]}function a(){this._=null}function s(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function l(e,t){var n=t,r=t.R,o=n.U;o?o.L===n?o.L=r:o.R=r:e._=r,r.U=o,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function u(e,t){var n=t,r=t.L,o=n.U;o?o.L===n?o.L=r:o.R=r:e._=r,r.U=o,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function c(e){for(;e.L;)e=e.L;return e}n.r(t),n.d(t,{voronoi:()=>V}),a.prototype={constructor:a,insert:function(e,t){var n,r,o;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=c(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(r=n.U).L?(o=r.R)&&o.C?(n.C=o.C=!1,r.C=!0,e=r):(e===n.R&&(l(this,n),n=(e=n).U),n.C=!1,r.C=!0,u(this,r)):(o=r.L)&&o.C?(n.C=o.C=!1,r.C=!0,e=r):(e===n.L&&(u(this,n),n=(e=n).U),n.C=!1,r.C=!0,l(this,r)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,o=e.U,i=e.L,a=e.R;if(n=i?a?c(a):i:a,o?o.L===e?o.L=n:o.R=n:this._=n,i&&a?(r=n.C,n.C=e.C,n.L=i,i.U=n,n!==a?(o=n.U,n.U=e.U,e=n.R,o.L=e,n.R=a,a.U=n):(n.U=o,o=n,e=n.R)):(r=e.C,e=n),e&&(e.U=o),!r)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===o.L){if((t=o.R).C&&(t.C=!1,o.C=!0,l(this,o),t=o.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,u(this,t),t=o.R),t.C=o.C,o.C=t.R.C=!1,l(this,o),e=this._;break}}else if((t=o.L).C&&(t.C=!1,o.C=!0,u(this,o),t=o.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,l(this,t),t=o.L),t.C=o.C,o.C=t.L.C=!1,u(this,o),e=this._;break}t.C=!0,e=o,o=o.U}while(!e.C);e&&(e.C=!1)}}};const p=a;function f(e,t,n,r){var o=[null,null],i=R.push(o)-1;return o.left=e,o.right=t,n&&h(o,e,t,n),r&&h(o,t,e,r),D[e.index].halfedges.push(i),D[t.index].halfedges.push(i),o}function d(e,t,n){var r=[t,n];return r.left=e,r}function h(e,t,n,r){e[0]||e[1]?e.left===n?e[1]=r:e[0]=r:(e[0]=r,e.left=t,e.right=n)}function y(e,t,n,r,o){var i,a=e[0],s=e[1],l=a[0],u=a[1],c=0,p=1,f=s[0]-l,d=s[1]-u;if(i=t-l,f||!(i>0)){if(i/=f,f<0){if(i<c)return;i<p&&(p=i)}else if(f>0){if(i>p)return;i>c&&(c=i)}if(i=r-l,f||!(i<0)){if(i/=f,f<0){if(i>p)return;i>c&&(c=i)}else if(f>0){if(i<c)return;i<p&&(p=i)}if(i=n-u,d||!(i>0)){if(i/=d,d<0){if(i<c)return;i<p&&(p=i)}else if(d>0){if(i>p)return;i>c&&(c=i)}if(i=o-u,d||!(i<0)){if(i/=d,d<0){if(i>p)return;i>c&&(c=i)}else if(d>0){if(i<c)return;i<p&&(p=i)}return!(c>0||p<1)||(c>0&&(e[0]=[l+c*f,u+c*d]),p<1&&(e[1]=[l+p*f,u+p*d]),!0)}}}}}function g(e,t,n,r,o){var i=e[1];if(i)return!0;var a,s,l=e[0],u=e.left,c=e.right,p=u[0],f=u[1],d=c[0],h=c[1],y=(p+d)/2,g=(f+h)/2;if(h===f){if(y<t||y>=r)return;if(p>d){if(l){if(l[1]>=o)return}else l=[y,n];i=[y,o]}else{if(l){if(l[1]<n)return}else l=[y,o];i=[y,n]}}else if(s=g-(a=(p-d)/(h-f))*y,a<-1||a>1)if(p>d){if(l){if(l[1]>=o)return}else l=[(n-s)/a,n];i=[(o-s)/a,o]}else{if(l){if(l[1]<n)return}else l=[(o-s)/a,o];i=[(n-s)/a,n]}else if(f<h){if(l){if(l[0]>=r)return}else l=[t,a*t+s];i=[r,a*r+s]}else{if(l){if(l[0]<t)return}else l=[r,a*r+s];i=[t,a*t+s]}return e[0]=l,e[1]=i,!0}function m(e,t){var n=e.site,r=t.left,o=t.right;return n===o&&(o=r,r=n),o?Math.atan2(o[1]-r[1],o[0]-r[0]):(n===r?(r=t[1],o=t[0]):(r=t[0],o=t[1]),Math.atan2(r[0]-o[0],o[1]-r[1]))}function v(e,t){return t[+(t.left!==e.site)]}function b(e,t){return t[+(t.left===e.site)]}var _,w=[];function P(){s(this),this.x=this.y=this.arc=this.site=this.cy=null}function C(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,o=e.site,i=n.site;if(r!==i){var a=o[0],s=o[1],l=r[0]-a,u=r[1]-s,c=i[0]-a,p=i[1]-s,f=2*(l*p-u*c);if(!(f>=-L)){var d=l*l+u*u,h=c*c+p*p,y=(p*d-u*h)/f,g=(l*h-c*d)/f,m=w.pop()||new P;m.arc=e,m.site=o,m.x=y+a,m.y=(m.cy=g+s)+Math.sqrt(y*y+g*g),e.circle=m;for(var v=null,b=z._;b;)if(m.y<b.y||m.y===b.y&&m.x<=b.x){if(!b.L){v=b.P;break}b=b.L}else{if(!b.R){v=b;break}b=b.R}z.insert(v,m),v||(_=m)}}}}function O(e){var t=e.circle;t&&(t.P||(_=t.N),z.remove(t),w.push(t),s(t),e.circle=null)}var x=[];function S(){s(this),this.edge=this.site=this.circle=null}function E(e){var t=x.pop()||new S;return t.site=e,t}function j(e){O(e),N.remove(e),x.push(e),s(e)}function T(e){var t=e.circle,n=t.x,r=t.cy,o=[n,r],i=e.P,a=e.N,s=[e];j(e);for(var l=i;l.circle&&Math.abs(n-l.circle.x)<k&&Math.abs(r-l.circle.cy)<k;)i=l.P,s.unshift(l),j(l),l=i;s.unshift(l),O(l);for(var u=a;u.circle&&Math.abs(n-u.circle.x)<k&&Math.abs(r-u.circle.cy)<k;)a=u.N,s.push(u),j(u),u=a;s.push(u),O(u);var c,p=s.length;for(c=1;c<p;++c)u=s[c],l=s[c-1],h(u.edge,l.site,u.site,o);l=s[0],(u=s[p-1]).edge=f(l.site,u.site,null,o),C(l),C(u)}function M(e){for(var t,n,r,o,i=e[0],a=e[1],s=N._;s;)if((r=A(s,a)-i)>k)s=s.L;else{if(!((o=i-I(s,a))>k)){r>-k?(t=s.P,n=s):o>-k?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}!function(e){D[e.index]={site:e,halfedges:[]}}(e);var l=E(e);if(N.insert(t,l),t||n){if(t===n)return O(t),n=E(t.site),N.insert(l,n),l.edge=n.edge=f(t.site,l.site),C(t),void C(n);if(n){O(t),O(n);var u=t.site,c=u[0],p=u[1],d=e[0]-c,y=e[1]-p,g=n.site,m=g[0]-c,v=g[1]-p,b=2*(d*v-y*m),_=d*d+y*y,w=m*m+v*v,P=[(v*_-y*w)/b+c,(d*w-m*_)/b+p];h(n.edge,u,g,P),l.edge=f(u,e,null,P),n.edge=f(e,g,null,P),C(t),C(n)}else l.edge=f(t.site,l.site)}}function A(e,t){var n=e.site,r=n[0],o=n[1],i=o-t;if(!i)return r;var a=e.P;if(!a)return-1/0;var s=(n=a.site)[0],l=n[1],u=l-t;if(!u)return s;var c=s-r,p=1/i-1/u,f=c/u;return p?(-f+Math.sqrt(f*f-2*p*(c*c/(-2*u)-l+u/2+o-i/2)))/p+r:(r+s)/2}function I(e,t){var n=e.N;if(n)return A(n,t);var r=e.site;return r[1]===t?r[0]:1/0}var N,D,z,R,k=1e-6,L=1e-12;function F(e,t){return t[1]-e[1]||t[0]-e[0]}function B(e,t){var n,r,o,i=e.sort(F).pop();for(R=[],D=new Array(e.length),N=new p,z=new p;;)if(o=_,i&&(!o||i[1]<o.y||i[1]===o.y&&i[0]<o.x))i[0]===n&&i[1]===r||(M(i),n=i[0],r=i[1]),i=e.pop();else{if(!o)break;T(o.arc)}if(function(){for(var e,t,n,r,o=0,i=D.length;o<i;++o)if((e=D[o])&&(r=(t=e.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=m(e,R[t[n]]);for(a.sort((function(e,t){return s[t]-s[e]})),n=0;n<r;++n)s[n]=t[a[n]];for(n=0;n<r;++n)t[n]=s[n]}}(),t){var a=+t[0][0],s=+t[0][1],l=+t[1][0],u=+t[1][1];!function(e,t,n,r){for(var o,i=R.length;i--;)g(o=R[i],e,t,n,r)&&y(o,e,t,n,r)&&(Math.abs(o[0][0]-o[1][0])>k||Math.abs(o[0][1]-o[1][1])>k)||delete R[i]}(a,s,l,u),function(e,t,n,r){var o,i,a,s,l,u,c,p,f,h,y,g,m=D.length,_=!0;for(o=0;o<m;++o)if(i=D[o]){for(a=i.site,s=(l=i.halfedges).length;s--;)R[l[s]]||l.splice(s,1);for(s=0,u=l.length;s<u;)y=(h=b(i,R[l[s]]))[0],g=h[1],p=(c=v(i,R[l[++s%u]]))[0],f=c[1],(Math.abs(y-p)>k||Math.abs(g-f)>k)&&(l.splice(s,0,R.push(d(a,h,Math.abs(y-e)<k&&r-g>k?[e,Math.abs(p-e)<k?f:r]:Math.abs(g-r)<k&&n-y>k?[Math.abs(f-r)<k?p:n,r]:Math.abs(y-n)<k&&g-t>k?[n,Math.abs(p-n)<k?f:t]:Math.abs(g-t)<k&&y-e>k?[Math.abs(f-t)<k?p:e,t]:null))-1),++u);u&&(_=!1)}if(_){var w,P,C,O=1/0;for(o=0,_=null;o<m;++o)(i=D[o])&&(C=(w=(a=i.site)[0]-e)*w+(P=a[1]-t)*P)<O&&(O=C,_=i);if(_){var x=[e,t],S=[e,r],E=[n,r],j=[n,t];_.halfedges.push(R.push(d(a=_.site,x,S))-1,R.push(d(a,S,E))-1,R.push(d(a,E,j))-1,R.push(d(a,j,x))-1)}}for(o=0;o<m;++o)(i=D[o])&&(i.halfedges.length||delete D[o])}(a,s,l,u)}this.edges=R,this.cells=D,N=z=R=D=null}function V(){var e=o,t=i,n=null;function a(r){return new B(r.map((function(n,o){var i=[Math.round(e(n,o,r)/k)*k,Math.round(t(n,o,r)/k)*k];return i.index=o,i.data=n,i})),n)}return a.polygons=function(e){return a(e).polygons()},a.links=function(e){return a(e).links()},a.triangles=function(e){return a(e).triangles()},a.x=function(t){return arguments.length?(e="function"==typeof t?t:r(+t),a):e},a.y=function(e){return arguments.length?(t="function"==typeof e?e:r(+e),a):t},a.extent=function(e){return arguments.length?(n=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],a):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},a.size=function(e){return arguments.length?(n=null==e?null:[[0,0],[+e[0],+e[1]]],a):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},a}B.prototype={constructor:B,polygons:function(){var e=this.edges;return this.cells.map((function(t){var n=t.halfedges.map((function(n){return v(t,e[n])}));return n.data=t.site.data,n}))},triangles:function(){var e=[],t=this.edges;return this.cells.forEach((function(n,r){if(i=(o=n.halfedges).length)for(var o,i,a,s,l,u,c=n.site,p=-1,f=t[o[i-1]],d=f.left===c?f.right:f.left;++p<i;)a=d,d=(f=t[o[p]]).left===c?f.right:f.left,a&&d&&r<a.index&&r<d.index&&(l=a,u=d,((s=c)[0]-u[0])*(l[1]-s[1])-(s[0]-l[0])*(u[1]-s[1])<0)&&e.push([c.data,a.data,d.data])})),e},links:function(){return this.edges.filter((function(e){return e.right})).map((function(e){return{source:e.left.data,target:e.right.data}}))},find:function(e,t,n){for(var r,o,i=this,a=i._found||0,s=i.cells.length;!(o=i.cells[a]);)if(++a>=s)return null;var l=e-o.site[0],u=t-o.site[1],c=l*l+u*u;do{o=i.cells[r=a],a=null,o.halfedges.forEach((function(n){var r=i.edges[n],s=r.left;if(s!==o.site&&s||(s=r.right)){var l=e-s[0],u=t-s[1],p=l*l+u*u;p<c&&(c=p,a=s.index)}}))}while(null!==a);return i._found=r,null==n||c<=n*n?o.site:null}}},10251:(e,t,n)=>{var r=n(82215),o=n(82584),i=n(20609),a=n(98420),s=n(2847),l=n(18923),u=Date.prototype.getTime;function c(e){return null==e}function p(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0])}e.exports=function e(t,n,f){var d=f||{};return!!(d.strict?i(t,n):t===n)||(!t||!n||"object"!=typeof t&&"object"!=typeof n?d.strict?i(t,n):t==n:function(t,n,i){var f,d;if(typeof t!=typeof n)return!1;if(c(t)||c(n))return!1;if(t.prototype!==n.prototype)return!1;if(o(t)!==o(n))return!1;var h=a(t),y=a(n);if(h!==y)return!1;if(h||y)return t.source===n.source&&s(t)===s(n);if(l(t)&&l(n))return u.call(t)===u.call(n);var g=p(t),m=p(n);if(g!==m)return!1;if(g||m){if(t.length!==n.length)return!1;for(f=0;f<t.length;f++)if(t[f]!==n[f])return!1;return!0}if(typeof t!=typeof n)return!1;try{var v=r(t),b=r(n)}catch(e){return!1}if(v.length!==b.length)return!1;for(v.sort(),b.sort(),f=v.length-1;f>=0;f--)if(v[f]!=b[f])return!1;for(f=v.length-1;f>=0;f--)if(!e(t[d=v[f]],n[d],i))return!1;return!0}(t,n,d))}},4289:(e,t,n)=>{"use strict";var r=n(82215),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,l=n(31044)(),u=s&&l,c=function(e,t,n,r){var o;(!(t in e)||"function"==typeof(o=r)&&"[object Function]"===i.call(o)&&r())&&(u?s(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},p=function(e,t){var n=arguments.length>2?arguments[2]:{},i=r(t);o&&(i=a.call(i,Object.getOwnPropertySymbols(t)));for(var s=0;s<i.length;s+=1)c(e,i[s],t[i[s]],n[i[s]])};p.supportsDescriptors=!!u,e.exports=p},68317:e=>{function t(e,t,n,r){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(e,t,n,r)}t.prototype.run=function(e,t,n,r){this._init(e,t,n,r);for(var o=0;o<this._datasetLength;o++)if(1!==this._visited[o]){this._visited[o]=1;var i=this._regionQuery(o);if(i.length<this.minPts)this.noise.push(o);else{var a=this.clusters.length;this.clusters.push([]),this._addToCluster(o,a),this._expandCluster(a,i)}}return this.clusters},t.prototype._init=function(e,t,n,r){if(e){if(!(e instanceof Array))throw Error("Dataset must be of type array, "+typeof e+" given");this.dataset=e,this.clusters=[],this.noise=[],this._datasetLength=e.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}t&&(this.epsilon=t),n&&(this.minPts=n),r&&(this.distance=r)},t.prototype._expandCluster=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(1!==this._visited[r]){this._visited[r]=1;var o=this._regionQuery(r);o.length>=this.minPts&&(t=this._mergeArrays(t,o))}1!==this._assigned[r]&&this._addToCluster(r,e)}},t.prototype._addToCluster=function(e,t){this.clusters[t].push(e),this._assigned[e]=1},t.prototype._regionQuery=function(e){for(var t=[],n=0;n<this._datasetLength;n++)this.distance(this.dataset[e],this.dataset[n])<this.epsilon&&t.push(n);return t},t.prototype._mergeArrays=function(e,t){for(var n=t.length,r=0;r<n;r++){var o=t[r];e.indexOf(o)<0&&e.push(o)}return e},t.prototype._euclideanDistance=function(e,t){for(var n=0,r=Math.min(e.length,t.length);r--;)n+=(e[r]-t[r])*(e[r]-t[r]);return Math.sqrt(n)},e.exports&&(e.exports=t)},63781:e=>{function t(e,t,n){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(e,t,n)}t.prototype.init=function(e,t,n){this.assignments=[],this.centroids=[],void 0!==e&&(this.dataset=e),void 0!==t&&(this.k=t),void 0!==n&&(this.distance=n)},t.prototype.run=function(e,t){this.init(e,t);for(var n=this.dataset.length,r=0;r<this.k;r++)this.centroids[r]=this.randomCentroid();for(var o=!0;o;){o=this.assign();for(var i=0;i<this.k;i++){for(var a=new Array(c),s=0,l=0;l<c;l++)a[l]=0;for(var u=0;u<n;u++){var c=this.dataset[u].length;if(i===this.assignments[u]){for(l=0;l<c;l++)a[l]+=this.dataset[u][l];s++}}if(s>0){for(l=0;l<c;l++)a[l]/=s;this.centroids[i]=a}else this.centroids[i]=this.randomCentroid(),o=!0}}return this.getClusters()},t.prototype.randomCentroid=function(){var e,t,n=this.dataset.length-1;do{t=Math.round(Math.random()*n),e=this.dataset[t]}while(this.centroids.indexOf(e)>=0);return e},t.prototype.assign=function(){for(var e,t=!1,n=this.dataset.length,r=0;r<n;r++)(e=this.argmin(this.dataset[r],this.centroids,this.distance))!=this.assignments[r]&&(this.assignments[r]=e,t=!0);return t},t.prototype.getClusters=function(){for(var e,t=new Array(this.k),n=0;n<this.assignments.length;n++)void 0===t[e=this.assignments[n]]&&(t[e]=[]),t[e].push(n);return t},t.prototype.argmin=function(e,t,n){for(var r,o=Number.MAX_VALUE,i=0,a=t.length,s=0;s<a;s++)(r=n(e,t[s]))<o&&(o=r,i=s);return i},t.prototype.distance=function(e,t){for(var n=0,r=Math.min(e.length,t.length);r--;){var o=e[r]-t[r];n+=o*o}return Math.sqrt(n)},e.exports&&(e.exports=t)},73763:(e,t,n)=>{if(e.exports)var r=n(57985);function o(e,t,n,r){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(e,t,n,r)}o.prototype.run=function(e,t,n,o){this._init(e,t,n,o);for(var i=0,a=this.dataset.length;i<a;i++)if(1!==this._processed[i]){this._processed[i]=1,this.clusters.push([i]);var s=this.clusters.length-1;this._orderedList.push(i);var l=new r(null,null,"asc"),u=this._regionQuery(i);void 0!==this._distanceToCore(i)&&(this._updateQueue(i,u,l),this._expandCluster(s,l))}return this.clusters},o.prototype.getReachabilityPlot=function(){for(var e=[],t=0,n=this._orderedList.length;t<n;t++){var r=this._orderedList[t],o=this._reachability[r];e.push([r,o])}return e},o.prototype._init=function(e,t,n,r){if(e){if(!(e instanceof Array))throw Error("Dataset must be of type array, "+typeof e+" given");this.dataset=e,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}t&&(this.epsilon=t),n&&(this.minPts=n),r&&(this.distance=r)},o.prototype._updateQueue=function(e,t,n){var r=this;this._coreDistance=this._distanceToCore(e),t.forEach((function(t){if(void 0===r._processed[t]){var o=r.distance(r.dataset[e],r.dataset[t]),i=Math.max(r._coreDistance,o);void 0===r._reachability[t]?(r._reachability[t]=i,n.insert(t,i)):i<r._reachability[t]&&(r._reachability[t]=i,n.remove(t),n.insert(t,i))}}))},o.prototype._expandCluster=function(e,t){for(var n=t.getElements(),r=0,o=n.length;r<o;r++){var i=n[r];if(void 0===this._processed[i]){var a=this._regionQuery(i);this._processed[i]=1,this.clusters[e].push(i),this._orderedList.push(i),void 0!==this._distanceToCore(i)&&(this._updateQueue(i,a,t),this._expandCluster(e,t))}}},o.prototype._distanceToCore=function(e){for(var t=this.epsilon,n=0;n<t;n++)if(this._regionQuery(e,n).length>=this.minPts)return n},o.prototype._regionQuery=function(e,t){t=t||this.epsilon;for(var n=[],r=0,o=this.dataset.length;r<o;r++)this.distance(this.dataset[e],this.dataset[r])<t&&n.push(r);return n},o.prototype._euclideanDistance=function(e,t){for(var n=0,r=Math.min(e.length,t.length);r--;)n+=(e[r]-t[r])*(e[r]-t[r]);return Math.sqrt(n)},e.exports&&(e.exports=o)},57985:e=>{function t(e,t,n){this._queue=[],this._priorities=[],this._sorting="desc",this._init(e,t,n)}t.prototype.insert=function(e,t){for(var n=this._queue.length,r=n;r--;){var o=this._priorities[r];"desc"===this._sorting?t>o&&(n=r):t<o&&(n=r)}this._insertAt(e,t,n)},t.prototype.remove=function(e){for(var t=this._queue.length;t--;)if(e===this._queue[t]){this._queue.splice(t,1),this._priorities.splice(t,1);break}},t.prototype.forEach=function(e){this._queue.forEach(e)},t.prototype.getElements=function(){return this._queue},t.prototype.getElementPriority=function(e){return this._priorities[e]},t.prototype.getPriorities=function(){return this._priorities},t.prototype.getElementsWithPriorities=function(){for(var e=[],t=0,n=this._queue.length;t<n;t++)e.push([this._queue[t],this._priorities[t]]);return e},t.prototype._init=function(e,t,n){if(e&&t){if(this._queue=[],this._priorities=[],e.length!==t.length)throw new Error("Arrays must have the same length");for(var r=0;r<e.length;r++)this.insert(e[r],t[r])}n&&(this._sorting=n)},t.prototype._insertAt=function(e,t,n){this._queue.length===n?(this._queue.push(e),this._priorities.push(t)):(this._queue.splice(n,0,e),this._priorities.splice(n,0,t))},e.exports&&(e.exports=t)},52606:(e,t,n)=>{e.exports&&(e.exports={DBSCAN:n(68317),KMEANS:n(63781),OPTICS:n(73763),PriorityQueue:n(57985)})},9187:e=>{"use strict";function t(e,t,r){r=r||2;var i,a,s,l,p,f,h,y=t&&t.length,g=y?t[0]*r:e.length,m=n(e,0,g,r,!0),v=[];if(!m||m.next===m.prev)return v;if(y&&(m=function(e,t,r,o){var i,a,s,l=[];for(i=0,a=t.length;i<a;i++)(s=n(e,t[i]*o,i<a-1?t[i+1]*o:e.length,o,!1))===s.next&&(s.steiner=!0),l.push(d(s));for(l.sort(u),i=0;i<l.length;i++)r=c(l[i],r);return r}(e,t,m,r)),e.length>80*r){i=s=e[0],a=l=e[1];for(var b=r;b<g;b+=r)(p=e[b])<i&&(i=p),(f=e[b+1])<a&&(a=f),p>s&&(s=p),f>l&&(l=f);h=0!==(h=Math.max(s-i,l-a))?32767/h:0}return o(m,v,r,i,a,h,0),v}function n(e,t,n,r,o){var i,a;if(o===S(e,t,n,r)>0)for(i=t;i<n;i+=r)a=C(i,e[i],e[i+1],a);else for(i=n-r;i>=t;i-=r)a=C(i,e[i],e[i+1],a);return a&&m(a,a.next)&&(O(a),a=a.next),a}function r(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!m(r,r.next)&&0!==g(r.prev,r,r.next))r=r.next;else{if(O(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function o(e,t,n,u,c,p,d){if(e){!d&&p&&function(e,t,n,r){var o=e;do{0===o.z&&(o.z=f(o.x,o.y,t,n,r)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==e);o.prevZ.nextZ=null,o.prevZ=null,function(e){var t,n,r,o,i,a,s,l,u=1;do{for(n=e,e=null,i=null,a=0;n;){for(a++,r=n,s=0,t=0;t<u&&(s++,r=r.nextZ);t++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(o=n,n=n.nextZ,s--):(o=r,r=r.nextZ,l--),i?i.nextZ=o:e=o,o.prevZ=i,i=o;n=r}i.nextZ=null,u*=2}while(a>1)}(o)}(e,u,c,p);for(var h,y,g=e;e.prev!==e.next;)if(h=e.prev,y=e.next,p?a(e,u,c,p):i(e))t.push(h.i/n|0),t.push(e.i/n|0),t.push(y.i/n|0),O(e),e=y.next,g=y.next;else if((e=y)===g){d?1===d?o(e=s(r(e),t,n),t,n,u,c,p,2):2===d&&l(e,t,n,u,c,p):o(r(e),t,n,u,c,p,1);break}}}function i(e){var t=e.prev,n=e,r=e.next;if(g(t,n,r)>=0)return!1;for(var o=t.x,i=n.x,a=r.x,s=t.y,l=n.y,u=r.y,c=o<i?o<a?o:a:i<a?i:a,p=s<l?s<u?s:u:l<u?l:u,f=o>i?o>a?o:a:i>a?i:a,d=s>l?s>u?s:u:l>u?l:u,y=r.next;y!==t;){if(y.x>=c&&y.x<=f&&y.y>=p&&y.y<=d&&h(o,s,i,l,a,u,y.x,y.y)&&g(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function a(e,t,n,r){var o=e.prev,i=e,a=e.next;if(g(o,i,a)>=0)return!1;for(var s=o.x,l=i.x,u=a.x,c=o.y,p=i.y,d=a.y,y=s<l?s<u?s:u:l<u?l:u,m=c<p?c<d?c:d:p<d?p:d,v=s>l?s>u?s:u:l>u?l:u,b=c>p?c>d?c:d:p>d?p:d,_=f(y,m,t,n,r),w=f(v,b,t,n,r),P=e.prevZ,C=e.nextZ;P&&P.z>=_&&C&&C.z<=w;){if(P.x>=y&&P.x<=v&&P.y>=m&&P.y<=b&&P!==o&&P!==a&&h(s,c,l,p,u,d,P.x,P.y)&&g(P.prev,P,P.next)>=0)return!1;if(P=P.prevZ,C.x>=y&&C.x<=v&&C.y>=m&&C.y<=b&&C!==o&&C!==a&&h(s,c,l,p,u,d,C.x,C.y)&&g(C.prev,C,C.next)>=0)return!1;C=C.nextZ}for(;P&&P.z>=_;){if(P.x>=y&&P.x<=v&&P.y>=m&&P.y<=b&&P!==o&&P!==a&&h(s,c,l,p,u,d,P.x,P.y)&&g(P.prev,P,P.next)>=0)return!1;P=P.prevZ}for(;C&&C.z<=w;){if(C.x>=y&&C.x<=v&&C.y>=m&&C.y<=b&&C!==o&&C!==a&&h(s,c,l,p,u,d,C.x,C.y)&&g(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function s(e,t,n){var o=e;do{var i=o.prev,a=o.next.next;!m(i,a)&&v(i,o,o.next,a)&&w(i,a)&&w(a,i)&&(t.push(i.i/n|0),t.push(o.i/n|0),t.push(a.i/n|0),O(o),O(o.next),o=e=a),o=o.next}while(o!==e);return r(o)}function l(e,t,n,i,a,s){var l=e;do{for(var u=l.next.next;u!==l.prev;){if(l.i!==u.i&&y(l,u)){var c=P(l,u);return l=r(l,l.next),c=r(c,c.next),o(l,t,n,i,a,s,0),void o(c,t,n,i,a,s,0)}u=u.next}l=l.next}while(l!==e)}function u(e,t){return e.x-t.x}function c(e,t){var n=function(e,t){var n,r=t,o=e.x,i=e.y,a=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var s=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=o&&s>a&&(a=s,n=r.x<r.next.x?r:r.next,s===o))return n}r=r.next}while(r!==t);if(!n)return null;var l,u=n,c=n.x,f=n.y,d=1/0;r=n;do{o>=r.x&&r.x>=c&&o!==r.x&&h(i<f?o:a,i,c,f,i<f?a:o,i,r.x,r.y)&&(l=Math.abs(i-r.y)/(o-r.x),w(r,e)&&(l<d||l===d&&(r.x>n.x||r.x===n.x&&p(n,r)))&&(n=r,d=l)),r=r.next}while(r!==u);return n}(e,t);if(!n)return t;var o=P(n,e);return r(o,o.next),r(n,n.next)}function p(e,t){return g(e.prev,e,t.prev)<0&&g(t.next,e,e.next)<0}function f(e,t,n,r,o){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*o|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*o|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function d(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function h(e,t,n,r,o,i,a,s){return(o-a)*(t-s)>=(e-a)*(i-s)&&(e-a)*(r-s)>=(n-a)*(t-s)&&(n-a)*(i-s)>=(o-a)*(r-s)}function y(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&v(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(w(e,t)&&w(t,e)&&function(e,t){var n=e,r=!1,o=(e.x+t.x)/2,i=(e.y+t.y)/2;do{n.y>i!=n.next.y>i&&n.next.y!==n.y&&o<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(g(e.prev,e,t.prev)||g(e,t.prev,t))||m(e,t)&&g(e.prev,e,e.next)>0&&g(t.prev,t,t.next)>0)}function g(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function m(e,t){return e.x===t.x&&e.y===t.y}function v(e,t,n,r){var o=_(g(e,t,n)),i=_(g(e,t,r)),a=_(g(n,r,e)),s=_(g(n,r,t));return o!==i&&a!==s||!(0!==o||!b(e,n,t))||!(0!==i||!b(e,r,t))||!(0!==a||!b(n,e,r))||!(0!==s||!b(n,t,r))}function b(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function _(e){return e>0?1:e<0?-1:0}function w(e,t){return g(e.prev,e,e.next)<0?g(e,t,e.next)>=0&&g(e,e.prev,t)>=0:g(e,t,e.prev)<0||g(e,e.next,t)<0}function P(e,t){var n=new x(e.i,e.x,e.y),r=new x(t.i,t.x,t.y),o=e.next,i=t.prev;return e.next=t,t.prev=e,n.next=o,o.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r}function C(e,t,n,r){var o=new x(e,t,n);return r?(o.next=r.next,o.prev=r,r.next.prev=o,r.next=o):(o.prev=o,o.next=o),o}function O(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function x(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function S(e,t,n,r){for(var o=0,i=t,a=n-r;i<n;i+=r)o+=(e[a]-e[i])*(e[i+1]+e[a+1]),a=i;return o}e.exports=t,e.exports.default=t,t.deviation=function(e,t,n,r){var o=t&&t.length,i=o?t[0]*n:e.length,a=Math.abs(S(e,0,i,n));if(o)for(var s=0,l=t.length;s<l;s++){var u=t[s]*n,c=s<l-1?t[s+1]*n:e.length;a-=Math.abs(S(e,u,c,n))}var p=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,d=r[s+1]*n,h=r[s+2]*n;p+=Math.abs((e[f]-e[h])*(e[d+1]-e[f+1])-(e[f]-e[d])*(e[h+1]-e[f+1]))}return 0===a&&0===p?0:Math.abs((p-a)/a)},t.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,o=0;o<e.length;o++){for(var i=0;i<e[o].length;i++)for(var a=0;a<t;a++)n.vertices.push(e[o][i][a]);o>0&&(r+=e[o-1].length,n.holes.push(r))}return n}},17648:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,r=Object.prototype.toString,o="[object Function]";e.exports=function(e){var i=this;if("function"!=typeof i||r.call(i)!==o)throw new TypeError(t+i);for(var a,s=n.call(arguments,1),l=function(){if(this instanceof a){var t=i.apply(this,s.concat(n.call(arguments)));return Object(t)===t?t:this}return i.apply(e,s.concat(n.call(arguments)))},u=Math.max(0,i.length-s.length),c=[],p=0;p<u;p++)c.push("$"+p);if(a=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(l),i.prototype){var f=function(){};f.prototype=i.prototype,a.prototype=new f,f.prototype=null}return a}},58612:(e,t,n)=>{"use strict";var r=n(17648);e.exports=Function.prototype.bind||r},25972:e=>{"use strict";var t=function(){return"string"==typeof function(){}.name},n=Object.getOwnPropertyDescriptor;if(n)try{n([],"length")}catch(e){n=null}t.functionsHaveConfigurableNames=function(){if(!t()||!n)return!1;var e=n((function(){}),"name");return!!e&&!!e.configurable};var r=Function.prototype.bind;t.boundFunctionsHaveNames=function(){return t()&&"function"==typeof r&&""!==function(){}.bind().name},e.exports=t},29657:(e,t,n)=>{var r=n(10251),o=function(e){this.precision=e&&e.precision?e.precision:17,this.direction=!(!e||!e.direction)&&e.direction,this.pseudoNode=!(!e||!e.pseudoNode)&&e.pseudoNode,this.objectComparator=e&&e.objectComparator?e.objectComparator:s};function i(e){return e.coordinates.map((function(t){return{type:e.type.replace("Multi",""),coordinates:t}}))}function a(e,t){return e.hasOwnProperty("coordinates")?e.coordinates.length===t.coordinates.length:e.length===t.length}function s(e,t){return r(e,t,{strict:!0})}o.prototype.compare=function(e,t){if(e.type!==t.type||!a(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates,0,!1);case"Polygon":return this.comparePolygon(e,t);case"Feature":return this.compareFeature(e,t);default:if(0===e.type.indexOf("Multi")){var n=this,r=i(e),o=i(t);return r.every((function(e){return this.some((function(t){return n.compare(e,t)}))}),o)}}return!1},o.prototype.compareCoord=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n].toFixed(this.precision)!==t[n].toFixed(this.precision))return!1;return!0},o.prototype.compareLine=function(e,t,n,r){if(!a(e,t))return!1;var o=this.pseudoNode?e:this.removePseudo(e),i=this.pseudoNode?t:this.removePseudo(t);if(!r||this.compareCoord(o[0],i[0])||(i=this.fixStartIndex(i,o))){var s=this.compareCoord(o[n],i[n]);return this.direction||s?this.comparePath(o,i):!!this.compareCoord(o[n],i[i.length-(1+n)])&&this.comparePath(o.slice().reverse(),i)}},o.prototype.fixStartIndex=function(e,t){for(var n,r=-1,o=0;o<e.length;o++)if(this.compareCoord(e[o],t[0])){r=o;break}return r>=0&&(n=[].concat(e.slice(r,e.length),e.slice(1,r+1))),n},o.prototype.comparePath=function(e,t){var n=this;return e.every((function(e,t){return n.compareCoord(e,this[t])}),t)},o.prototype.comparePolygon=function(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){var n=e.coordinates.slice(1,e.coordinates.length),r=t.coordinates.slice(1,t.coordinates.length),o=this;return n.every((function(e){return this.some((function(t){return o.compareLine(e,t,1,!0)}))}),r)}return!1},o.prototype.compareFeature=function(e,t){return!(e.id!==t.id||!this.objectComparator(e.properties,t.properties)||!this.compareBBox(e,t))&&this.compare(e.geometry,t.geometry)},o.prototype.compareBBox=function(e,t){return!!(!e.bbox&&!t.bbox||e.bbox&&t.bbox&&this.compareCoord(e.bbox,t.bbox))},o.prototype.removePseudo=function(e){return e},e.exports=o},51787:(e,t,n)=>{var r=n(59197),o=n(84102),i=n(31540),a=n(9705).default,s=i.featureEach,l=(i.coordEach,o.polygon,o.featureCollection);function u(e){var t=new r(e);return t.insert=function(e){if("Feature"!==e.type)throw new Error("invalid feature");return e.bbox=e.bbox?e.bbox:a(e),r.prototype.insert.call(this,e)},t.load=function(e){var t=[];return Array.isArray(e)?e.forEach((function(e){if("Feature"!==e.type)throw new Error("invalid features");e.bbox=e.bbox?e.bbox:a(e),t.push(e)})):s(e,(function(e){if("Feature"!==e.type)throw new Error("invalid features");e.bbox=e.bbox?e.bbox:a(e),t.push(e)})),r.prototype.load.call(this,t)},t.remove=function(e,t){if("Feature"!==e.type)throw new Error("invalid feature");return e.bbox=e.bbox?e.bbox:a(e),r.prototype.remove.call(this,e,t)},t.clear=function(){return r.prototype.clear.call(this)},t.search=function(e){var t=r.prototype.search.call(this,this.toBBox(e));return l(t)},t.collides=function(e){return r.prototype.collides.call(this,this.toBBox(e))},t.all=function(){var e=r.prototype.all.call(this);return l(e)},t.toJSON=function(){return r.prototype.toJSON.call(this)},t.fromJSON=function(e){return r.prototype.fromJSON.call(this,e)},t.toBBox=function(e){var t;if(e.bbox)t=e.bbox;else if(Array.isArray(e)&&4===e.length)t=e;else if(Array.isArray(e)&&6===e.length)t=[e[0],e[1],e[3],e[4]];else if("Feature"===e.type)t=a(e);else{if("FeatureCollection"!==e.type)throw new Error("invalid geojson");t=a(e)}return{minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}},t}e.exports=u,e.exports.default=u},40210:(e,t,n)=>{"use strict";var r,o=SyntaxError,i=Function,a=TypeError,s=function(e){try{return i('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var u=function(){throw new a},c=l?function(){try{return u}catch(e){try{return l(arguments,"callee").get}catch(e){return u}}}():u,p=n(41405)(),f=Object.getPrototypeOf||function(e){return e.__proto__},d={},h="undefined"==typeof Uint8Array?r:f(Uint8Array),y={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":p?f([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":d,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p?f(f([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&p?f((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&p?f((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p?f(""[Symbol.iterator]()):r,"%Symbol%":p?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":c,"%TypedArray%":h,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet},g=function e(t){var n;if("%AsyncFunction%"===t)n=s("async function () {}");else if("%GeneratorFunction%"===t)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=s("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&(n=f(o.prototype))}return y[t]=n,n},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=n(58612),b=n(17642),_=v.call(Function.call,Array.prototype.concat),w=v.call(Function.apply,Array.prototype.splice),P=v.call(Function.call,String.prototype.replace),C=v.call(Function.call,String.prototype.slice),O=v.call(Function.call,RegExp.prototype.exec),x=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,S=/\\(\\)?/g,E=function(e){var t=C(e,0,1),n=C(e,-1);if("%"===t&&"%"!==n)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new o("invalid intrinsic syntax, expected opening `%`");var r=[];return P(e,x,(function(e,t,n,o){r[r.length]=n?P(o,S,"$1"):t||e})),r},j=function(e,t){var n,r=e;if(b(m,r)&&(r="%"+(n=m[r])[0]+"%"),b(y,r)){var i=y[r];if(i===d&&(i=g(r)),void 0===i&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new o("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');if(null===O(/^%?[^%]*%?$/g,e))throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=E(e),r=n.length>0?n[0]:"",i=j("%"+r+"%",t),s=i.name,u=i.value,c=!1,p=i.alias;p&&(r=p[0],w(n,_([0,1],p)));for(var f=1,d=!0;f<n.length;f+=1){var h=n[f],g=C(h,0,1),m=C(h,-1);if(('"'===g||"'"===g||"`"===g||'"'===m||"'"===m||"`"===m)&&g!==m)throw new o("property names with quotes must have matching quotes");if("constructor"!==h&&d||(c=!0),b(y,s="%"+(r+="."+h)+"%"))u=y[s];else if(null!=u){if(!(h in u)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&f+1>=n.length){var v=l(u,h);u=(d=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:u[h]}else d=b(u,h),u=u[h];d&&!c&&(y[s]=u)}}return u}},31044:(e,t,n)=>{"use strict";var r=n(40210)("%Object.defineProperty%",!0),o=function(){if(r)try{return r({},"a",{value:1}),!0}catch(e){return!1}return!1};o.hasArrayLengthDefineBug=function(){if(!o())return null;try{return 1!==r([],"length",{value:1}).length}catch(e){return!0}},e.exports=o},41405:(e,t,n)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=n(55419);e.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&o()}},55419:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},96410:(e,t,n)=>{"use strict";var r=n(55419);e.exports=function(){return r()&&!!Symbol.toStringTag}},17642:(e,t,n)=>{"use strict";var r=n(58612);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},82584:(e,t,n)=>{"use strict";var r=n(96410)(),o=n(21924)("Object.prototype.toString"),i=function(e){return!(r&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===o(e)},a=function(e){return!!i(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==o(e)&&"[object Function]"===o(e.callee)},s=function(){return i(arguments)}();i.isLegacyArguments=a,e.exports=s?i:a},18923:(e,t,n)=>{"use strict";var r=Date.prototype.getDay,o=Object.prototype.toString,i=n(96410)();e.exports=function(e){return"object"==typeof e&&null!==e&&(i?function(e){try{return r.call(e),!0}catch(e){return!1}}(e):"[object Date]"===o.call(e))}},98420:(e,t,n)=>{"use strict";var r,o,i,a,s=n(21924),l=n(96410)();if(l){r=s("Object.prototype.hasOwnProperty"),o=s("RegExp.prototype.exec"),i={};var u=function(){throw i};a={toString:u,valueOf:u},"symbol"==typeof Symbol.toPrimitive&&(a[Symbol.toPrimitive]=u)}var c=s("Object.prototype.toString"),p=Object.getOwnPropertyDescriptor;e.exports=l?function(e){if(!e||"object"!=typeof e)return!1;var t=p(e,"lastIndex");if(!t||!r(t,"value"))return!1;try{o(e,a)}catch(e){return e===i}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===c(e)}},27418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var a,s,l=o(e),u=1;u<arguments.length;u++){for(var c in a=Object(arguments[u]))n.call(a,c)&&(l[c]=a[c]);if(t){s=t(a);for(var p=0;p<s.length;p++)r.call(a,s[p])&&(l[s[p]]=a[s[p]])}}return l}},24244:e=>{"use strict";var t=function(e){return e!=e};e.exports=function(e,n){return 0===e&&0===n?1/e==1/n:e===n||!(!t(e)||!t(n))}},20609:(e,t,n)=>{"use strict";var r=n(4289),o=n(55559),i=n(24244),a=n(75624),s=n(52281),l=o(a(),Object);r(l,{getPolyfill:a,implementation:i,shim:s}),e.exports=l},75624:(e,t,n)=>{"use strict";var r=n(24244);e.exports=function(){return"function"==typeof Object.is?Object.is:r}},52281:(e,t,n)=>{"use strict";var r=n(75624),o=n(4289);e.exports=function(){var e=r();return o(Object,{is:e},{is:function(){return Object.is!==e}}),e}},18987:(e,t,n)=>{"use strict";var r;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=n(21414),s=Object.prototype.propertyIsEnumerable,l=!s.call({toString:null},"toString"),u=s.call((function(){}),"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(e){var t=e.constructor;return t&&t.prototype===e},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!f["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{p(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();r=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===i.call(e),r=a(e),s=t&&"[object String]"===i.call(e),f=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var h=u&&n;if(s&&e.length>0&&!o.call(e,0))for(var y=0;y<e.length;++y)f.push(String(y));if(r&&e.length>0)for(var g=0;g<e.length;++g)f.push(String(g));else for(var m in e)h&&"prototype"===m||!o.call(e,m)||f.push(String(m));if(l)for(var v=function(e){if("undefined"==typeof window||!d)return p(e);try{return p(e)}catch(e){return!1}}(e),b=0;b<c.length;++b)v&&"constructor"===c[b]||!o.call(e,c[b])||f.push(c[b]);return f}}e.exports=r},82215:(e,t,n)=>{"use strict";var r=Array.prototype.slice,o=n(21414),i=Object.keys,a=i?function(e){return i(e)}:n(18987),s=Object.keys;a.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return o(e)?s(r.call(e)):s(e)})}else Object.keys=a;return Object.keys||a},e.exports=a},21414:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var n=t.call(e),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),r}},11895:e=>{e.exports=function(e,t,n,r){var o=e[0],i=e[1],a=!1;void 0===n&&(n=0),void 0===r&&(r=t.length);for(var s=(r-n)/2,l=0,u=s-1;l<s;u=l++){var c=t[n+2*l+0],p=t[n+2*l+1],f=t[n+2*u+0],d=t[n+2*u+1];p>i!=d>i&&o<(f-c)*(i-p)/(d-p)+c&&(a=!a)}return a}},26960:(e,t,n)=>{var r=n(11895),o=n(88139);e.exports=function(e,t,n,i){return t.length>0&&Array.isArray(t[0])?o(e,t,n,i):r(e,t,n,i)},e.exports.nested=o,e.exports.flat=r},88139:e=>{e.exports=function(e,t,n,r){var o=e[0],i=e[1],a=!1;void 0===n&&(n=0),void 0===r&&(r=t.length);for(var s=r-n,l=0,u=s-1;l<s;u=l++){var c=t[l+n][0],p=t[l+n][1],f=t[u+n][0],d=t[u+n][1];p>i!=d>i&&o<(f-c)*(i-p)/(d-p)+c&&(a=!a)}return a}},24629:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>J});var r=function(e,t){this.next=null,this.key=e,this.data=t,this.left=null,this.right=null};function o(e,t){return e>t?1:e<t?-1:0}function i(e,t,n){for(var o=new r(null,null),i=o,a=o;;){var s=n(e,t.key);if(s<0){if(null===t.left)break;if(n(e,t.left.key)<0){var l=t.left;if(t.left=l.right,l.right=t,null===(t=l).left)break}a.left=t,a=t,t=t.left}else{if(!(s>0))break;if(null===t.right)break;if(n(e,t.right.key)>0&&(l=t.right,t.right=l.left,l.left=t,null===(t=l).right))break;i.right=t,i=t,t=t.right}}return i.right=t.left,a.left=t.right,t.left=o.right,t.right=o.left,t}function a(e,t,n,o){var a=new r(e,t);if(null===n)return a.left=a.right=null,a;var s=o(e,(n=i(e,n,o)).key);return s<0?(a.left=n.left,a.right=n,n.left=null):s>=0&&(a.right=n.right,a.left=n,n.right=null),a}function s(e,t,n){var r=null,o=null;if(t){var a=n((t=i(e,t,n)).key,e);0===a?(r=t.left,o=t.right):a<0?(o=t.right,t.right=null,r=t):(r=t.left,t.left=null,o=t)}return{left:r,right:o}}function l(e,t,n,r,o){if(e){r(t+(n?"└── ":"├── ")+o(e)+"\n");var i=t+(n?"    ":"│   ");e.left&&l(e.left,i,!1,r,o),e.right&&l(e.right,i,!0,r,o)}}var u=function(){function e(e){void 0===e&&(e=o),this._root=null,this._size=0,this._comparator=e}return e.prototype.insert=function(e,t){return this._size++,this._root=a(e,t,this._root,this._comparator)},e.prototype.add=function(e,t){var n=new r(e,t);null===this._root&&(n.left=n.right=null,this._size++,this._root=n);var o=this._comparator,a=i(e,this._root,o),s=o(e,a.key);return 0===s?this._root=a:(s<0?(n.left=a.left,n.right=a,a.left=null):s>0&&(n.right=a.right,n.left=a,a.right=null),this._size++,this._root=n),this._root},e.prototype.remove=function(e){this._root=this._remove(e,this._root,this._comparator)},e.prototype._remove=function(e,t,n){var r;return null===t?null:0===n(e,(t=i(e,t,n)).key)?(null===t.left?r=t.right:(r=i(e,t.left,n)).right=t.right,this._size--,r):t},e.prototype.pop=function(){var e=this._root;if(e){for(;e.left;)e=e.left;return this._root=i(e.key,this._root,this._comparator),this._root=this._remove(e.key,this._root,this._comparator),{key:e.key,data:e.data}}return null},e.prototype.findStatic=function(e){for(var t=this._root,n=this._comparator;t;){var r=n(e,t.key);if(0===r)return t;t=r<0?t.left:t.right}return null},e.prototype.find=function(e){return this._root&&(this._root=i(e,this._root,this._comparator),0!==this._comparator(e,this._root.key))?null:this._root},e.prototype.contains=function(e){for(var t=this._root,n=this._comparator;t;){var r=n(e,t.key);if(0===r)return!0;t=r<0?t.left:t.right}return!1},e.prototype.forEach=function(e,t){for(var n=this._root,r=[],o=!1;!o;)null!==n?(r.push(n),n=n.left):0!==r.length?(n=r.pop(),e.call(t,n),n=n.right):o=!0;return this},e.prototype.range=function(e,t,n,r){for(var o=[],i=this._comparator,a=this._root;0!==o.length||a;)if(a)o.push(a),a=a.left;else{if(i((a=o.pop()).key,t)>0)break;if(i(a.key,e)>=0&&n.call(r,a))return this;a=a.right}return this},e.prototype.keys=function(){var e=[];return this.forEach((function(t){var n=t.key;return e.push(n)})),e},e.prototype.values=function(){var e=[];return this.forEach((function(t){var n=t.data;return e.push(n)})),e},e.prototype.min=function(){return this._root?this.minNode(this._root).key:null},e.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},e.prototype.minNode=function(e){if(void 0===e&&(e=this._root),e)for(;e.left;)e=e.left;return e},e.prototype.maxNode=function(e){if(void 0===e&&(e=this._root),e)for(;e.right;)e=e.right;return e},e.prototype.at=function(e){for(var t=this._root,n=!1,r=0,o=[];!n;)if(t)o.push(t),t=t.left;else if(o.length>0){if(t=o.pop(),r===e)return t;r++,t=t.right}else n=!0;return null},e.prototype.next=function(e){var t=this._root,n=null;if(e.right){for(n=e.right;n.left;)n=n.left;return n}for(var r=this._comparator;t;){var o=r(e.key,t.key);if(0===o)break;o<0?(n=t,t=t.left):t=t.right}return n},e.prototype.prev=function(e){var t=this._root,n=null;if(null!==e.left){for(n=e.left;n.right;)n=n.right;return n}for(var r=this._comparator;t;){var o=r(e.key,t.key);if(0===o)break;o<0?t=t.left:(n=t,t=t.right)}return n},e.prototype.clear=function(){return this._root=null,this._size=0,this},e.prototype.toList=function(){return function(e){for(var t=e,n=[],o=!1,i=new r(null,null),a=i;!o;)t?(n.push(t),t=t.left):n.length>0?t=(t=a=a.next=n.pop()).right:o=!0;return a.next=null,i.next}(this._root)},e.prototype.load=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=!1);var o=e.length,i=this._comparator;if(n&&f(e,t,0,o-1,i),null===this._root)this._root=c(e,t,0,o),this._size=o;else{var a=function(e,t,n){for(var o=new r(null,null),i=o,a=e,s=t;null!==a&&null!==s;)n(a.key,s.key)<0?(i.next=a,a=a.next):(i.next=s,s=s.next),i=i.next;return null!==a?i.next=a:null!==s&&(i.next=s),o.next}(this.toList(),function(e,t){for(var n=new r(null,null),o=n,i=0;i<e.length;i++)o=o.next=new r(e[i],t[i]);return o.next=null,n.next}(e,t),i);o=this._size+o,this._root=p({head:a},0,o)}return this},e.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),e.prototype.toString=function(e){void 0===e&&(e=function(e){return String(e.key)});var t=[];return l(this._root,"",!0,(function(e){return t.push(e)}),e),t.join("")},e.prototype.update=function(e,t,n){var r=this._comparator,o=s(e,this._root,r),l=o.left,u=o.right;r(e,t)<0?u=a(t,n,u,r):l=a(t,n,l,r),this._root=function(e,t,n){return null===t?e:(null===e||((t=i(e.key,t,n)).left=e),t)}(l,u,r)},e.prototype.split=function(e){return s(e,this._root,this._comparator)},e.prototype[Symbol.iterator]=function(){var e;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(t){switch(t.label){case 0:e=this.minNode(),t.label=1;case 1:return e?[4,e]:[3,3];case 2:return t.sent(),e=this.next(e),[3,1];case 3:return[2]}}))},e}();function c(e,t,n,o){var i=o-n;if(i>0){var a=n+Math.floor(i/2),s=e[a],l=t[a],u=new r(s,l);return u.left=c(e,t,n,a),u.right=c(e,t,a+1,o),u}return null}function p(e,t,n){var r=n-t;if(r>0){var o=t+Math.floor(r/2),i=p(e,t,o),a=e.head;return a.left=i,e.head=e.head.next,a.right=p(e,o+1,n),a}return null}function f(e,t,n,r,o){if(!(n>=r)){for(var i=e[n+r>>1],a=n-1,s=r+1;;){do{a++}while(o(e[a],i)<0);do{s--}while(o(e[s],i)>0);if(a>=s)break;var l=e[a];e[a]=e[s],e[s]=l,l=t[a],t[a]=t[s],t[s]=l}f(e,t,n,s,o),f(e,t,s+1,r,o)}}const d=u;function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),e}var m=function(e,t){return e.ll.x<=t.x&&t.x<=e.ur.x&&e.ll.y<=t.y&&t.y<=e.ur.y},v=function(e,t){if(t.ur.x<e.ll.x||e.ur.x<t.ll.x||t.ur.y<e.ll.y||e.ur.y<t.ll.y)return null;var n=e.ll.x<t.ll.x?t.ll.x:e.ll.x,r=e.ur.x<t.ur.x?e.ur.x:t.ur.x;return{ll:{x:n,y:e.ll.y<t.ll.y?t.ll.y:e.ll.y},ur:{x:r,y:e.ur.y<t.ur.y?e.ur.y:t.ur.y}}},b=Number.EPSILON;void 0===b&&(b=Math.pow(2,-52));var _=b*b,w=function(e,t){if(-b<e&&e<b&&-b<t&&t<b)return 0;var n=e-t;return n*n<_*e*t?0:e<t?-1:1},P=function(){function e(){h(this,e),this.reset()}return g(e,[{key:"reset",value:function(){this.xRounder=new C,this.yRounder=new C}},{key:"round",value:function(e,t){return{x:this.xRounder.round(e),y:this.yRounder.round(t)}}}]),e}(),C=function(){function e(){h(this,e),this.tree=new d,this.round(0)}return g(e,[{key:"round",value:function(e){var t=this.tree.add(e),n=this.tree.prev(t);if(null!==n&&0===w(t.key,n.key))return this.tree.remove(e),n.key;var r=this.tree.next(t);return null!==r&&0===w(t.key,r.key)?(this.tree.remove(e),r.key):e}}]),e}(),O=new P,x=function(e,t){return e.x*t.y-e.y*t.x},S=function(e,t){return e.x*t.x+e.y*t.y},E=function(e,t,n){var r={x:t.x-e.x,y:t.y-e.y},o={x:n.x-e.x,y:n.y-e.y},i=x(r,o);return w(i,0)},j=function(e){return Math.sqrt(S(e,e))},T=function(e,t,n){var r={x:t.x-e.x,y:t.y-e.y},o={x:n.x-e.x,y:n.y-e.y};return S(o,r)/j(o)/j(r)},M=function(e,t,n){return 0===t.y?null:{x:e.x+t.x/t.y*(n-e.y),y:n}},A=function(e,t,n){return 0===t.x?null:{x:n,y:e.y+t.y/t.x*(n-e.x)}},I=function(){function e(t,n){h(this,e),void 0===t.events?t.events=[this]:t.events.push(this),this.point=t,this.isLeft=n}return g(e,null,[{key:"compare",value:function(t,n){var r=e.comparePoints(t.point,n.point);return 0!==r?r:(t.point!==n.point&&t.link(n),t.isLeft!==n.isLeft?t.isLeft?1:-1:D.compare(t.segment,n.segment))}},{key:"comparePoints",value:function(e,t){return e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0}}]),g(e,[{key:"link",value:function(e){if(e.point===this.point)throw new Error("Tried to link already linked events");for(var t=e.point.events,n=0,r=t.length;n<r;n++){var o=t[n];this.point.events.push(o),o.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var e=this.point.events.length,t=0;t<e;t++){var n=this.point.events[t];if(void 0===n.segment.consumedBy)for(var r=t+1;r<e;r++){var o=this.point.events[r];void 0===o.consumedBy&&n.otherSE.point.events===o.otherSE.point.events&&n.segment.consume(o.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var e=[],t=0,n=this.point.events.length;t<n;t++){var r=this.point.events[t];r!==this&&!r.segment.ringOut&&r.segment.isInResult()&&e.push(r)}return e}},{key:"getLeftmostComparator",value:function(e){var t=this,n=new Map,r=function(r){var o,i,a,s,l,u=r.otherSE;n.set(r,{sine:(o=t.point,i=e.point,a=u.point,s={x:i.x-o.x,y:i.y-o.y},l={x:a.x-o.x,y:a.y-o.y},x(l,s)/j(l)/j(s)),cosine:T(t.point,e.point,u.point)})};return function(e,t){n.has(e)||r(e),n.has(t)||r(t);var o=n.get(e),i=o.sine,a=o.cosine,s=n.get(t),l=s.sine,u=s.cosine;return i>=0&&l>=0?a<u?1:a>u?-1:0:i<0&&l<0?a<u?-1:a>u?1:0:l<i?-1:l>i?1:0}}}]),e}(),N=0,D=function(){function e(t,n,r,o){h(this,e),this.id=++N,this.leftSE=t,t.segment=this,t.otherSE=n,this.rightSE=n,n.segment=this,n.otherSE=t,this.rings=r,this.windings=o}return g(e,null,[{key:"compare",value:function(e,t){var n=e.leftSE.point.x,r=t.leftSE.point.x,o=e.rightSE.point.x,i=t.rightSE.point.x;if(i<n)return 1;if(o<r)return-1;var a=e.leftSE.point.y,s=t.leftSE.point.y,l=e.rightSE.point.y,u=t.rightSE.point.y;if(n<r){if(s<a&&s<l)return 1;if(s>a&&s>l)return-1;var c=e.comparePoint(t.leftSE.point);if(c<0)return 1;if(c>0)return-1;var p=t.comparePoint(e.rightSE.point);return 0!==p?p:-1}if(n>r){if(a<s&&a<u)return-1;if(a>s&&a>u)return 1;var f=t.comparePoint(e.leftSE.point);if(0!==f)return f;var d=e.comparePoint(t.rightSE.point);return d<0?1:d>0?-1:1}if(a<s)return-1;if(a>s)return 1;if(o<i){var h=t.comparePoint(e.rightSE.point);if(0!==h)return h}if(o>i){var y=e.comparePoint(t.rightSE.point);if(y<0)return 1;if(y>0)return-1}if(o!==i){var g=l-a,m=o-n,v=u-s,b=i-r;if(g>m&&v<b)return 1;if(g<m&&v>b)return-1}return o>i?1:o<i||l<u?-1:l>u?1:e.id<t.id?-1:e.id>t.id?1:0}}]),g(e,[{key:"replaceRightSE",value:function(e){this.rightSE=e,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var e=this.leftSE.point.y,t=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:e<t?e:t},ur:{x:this.rightSE.point.x,y:e>t?e:t}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(e){return e.x===this.leftSE.point.x&&e.y===this.leftSE.point.y||e.x===this.rightSE.point.x&&e.y===this.rightSE.point.y}},{key:"comparePoint",value:function(e){if(this.isAnEndpoint(e))return 0;var t=this.leftSE.point,n=this.rightSE.point,r=this.vector();if(t.x===n.x)return e.x===t.x?0:e.x<t.x?1:-1;var o=(e.y-t.y)/r.y,i=t.x+o*r.x;if(e.x===i)return 0;var a=(e.x-t.x)/r.x,s=t.y+a*r.y;return e.y===s?0:e.y<s?-1:1}},{key:"getIntersection",value:function(e){var t=this.bbox(),n=e.bbox(),r=v(t,n);if(null===r)return null;var o=this.leftSE.point,i=this.rightSE.point,a=e.leftSE.point,s=e.rightSE.point,l=m(t,a)&&0===this.comparePoint(a),u=m(n,o)&&0===e.comparePoint(o),c=m(t,s)&&0===this.comparePoint(s),p=m(n,i)&&0===e.comparePoint(i);if(u&&l)return p&&!c?i:!p&&c?s:null;if(u)return c&&o.x===s.x&&o.y===s.y?null:o;if(l)return p&&i.x===a.x&&i.y===a.y?null:a;if(p&&c)return null;if(p)return i;if(c)return s;var f=function(e,t,n,r){if(0===t.x)return A(n,r,e.x);if(0===r.x)return A(e,t,n.x);if(0===t.y)return M(n,r,e.y);if(0===r.y)return M(e,t,n.y);var o=x(t,r);if(0==o)return null;var i={x:n.x-e.x,y:n.y-e.y},a=x(i,t)/o,s=x(i,r)/o;return{x:(e.x+s*t.x+(n.x+a*r.x))/2,y:(e.y+s*t.y+(n.y+a*r.y))/2}}(o,this.vector(),a,e.vector());return null===f?null:m(r,f)?O.round(f.x,f.y):null}},{key:"split",value:function(t){var n=[],r=void 0!==t.events,o=new I(t,!0),i=new I(t,!1),a=this.rightSE;this.replaceRightSE(i),n.push(i),n.push(o);var s=new e(o,a,this.rings.slice(),this.windings.slice());return I.comparePoints(s.leftSE.point,s.rightSE.point)>0&&s.swapEvents(),I.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),r&&(o.checkForConsuming(),i.checkForConsuming()),n}},{key:"swapEvents",value:function(){var e=this.rightSE;this.rightSE=this.leftSE,this.leftSE=e,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var t=0,n=this.windings.length;t<n;t++)this.windings[t]*=-1}},{key:"consume",value:function(t){for(var n=this,r=t;n.consumedBy;)n=n.consumedBy;for(;r.consumedBy;)r=r.consumedBy;var o=e.compare(n,r);if(0!==o){if(o>0){var i=n;n=r,r=i}if(n.prev===r){var a=n;n=r,r=a}for(var s=0,l=r.rings.length;s<l;s++){var u=r.rings[s],c=r.windings[s],p=n.rings.indexOf(u);-1===p?(n.rings.push(u),n.windings.push(c)):n.windings[p]+=c}r.rings=null,r.windings=null,r.consumedBy=n,r.leftSE.consumedBy=n.leftSE,r.rightSE.consumedBy=n.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){var e=this.prev.consumedBy||this.prev;this._beforeState=e.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var e=this.beforeState();this._afterState={rings:e.rings.slice(0),windings:e.windings.slice(0),multiPolys:[]};for(var t=this._afterState.rings,n=this._afterState.windings,r=this._afterState.multiPolys,o=0,i=this.rings.length;o<i;o++){var a=this.rings[o],s=this.windings[o],l=t.indexOf(a);-1===l?(t.push(a),n.push(s)):n[l]+=s}for(var u=[],c=[],p=0,f=t.length;p<f;p++)if(0!==n[p]){var d=t[p],h=d.poly;if(-1===c.indexOf(h))if(d.isExterior)u.push(h);else{-1===c.indexOf(h)&&c.push(h);var y=u.indexOf(d.poly);-1!==y&&u.splice(y,1)}}for(var g=0,m=u.length;g<m;g++){var v=u[g].multiPoly;-1===r.indexOf(v)&&r.push(v)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var e=this.beforeState().multiPolys,t=this.afterState().multiPolys;switch(W.type){case"union":var n=0===e.length,r=0===t.length;this._isInResult=n!==r;break;case"intersection":var o,i;e.length<t.length?(o=e.length,i=t.length):(o=t.length,i=e.length),this._isInResult=i===W.numMultiPolys&&o<i;break;case"xor":var a=Math.abs(e.length-t.length);this._isInResult=a%2==1;break;case"difference":var s=function(e){return 1===e.length&&e[0].isSubject};this._isInResult=s(e)!==s(t);break;default:throw new Error("Unrecognized operation type found ".concat(W.type))}return this._isInResult}}],[{key:"fromRing",value:function(t,n,r){var o,i,a,s=I.comparePoints(t,n);if(s<0)o=t,i=n,a=1;else{if(!(s>0))throw new Error("Tried to create degenerate segment at [".concat(t.x,", ").concat(t.y,"]"));o=n,i=t,a=-1}return new e(new I(o,!0),new I(i,!1),[r],[a])}}]),e}(),z=function(){function e(t,n,r){if(h(this,e),!Array.isArray(t)||0===t.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=n,this.isExterior=r,this.segments=[],"number"!=typeof t[0][0]||"number"!=typeof t[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var o=O.round(t[0][0],t[0][1]);this.bbox={ll:{x:o.x,y:o.y},ur:{x:o.x,y:o.y}};for(var i=o,a=1,s=t.length;a<s;a++){if("number"!=typeof t[a][0]||"number"!=typeof t[a][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var l=O.round(t[a][0],t[a][1]);l.x===i.x&&l.y===i.y||(this.segments.push(D.fromRing(i,l,this)),l.x<this.bbox.ll.x&&(this.bbox.ll.x=l.x),l.y<this.bbox.ll.y&&(this.bbox.ll.y=l.y),l.x>this.bbox.ur.x&&(this.bbox.ur.x=l.x),l.y>this.bbox.ur.y&&(this.bbox.ur.y=l.y),i=l)}o.x===i.x&&o.y===i.y||this.segments.push(D.fromRing(i,o,this))}return g(e,[{key:"getSweepEvents",value:function(){for(var e=[],t=0,n=this.segments.length;t<n;t++){var r=this.segments[t];e.push(r.leftSE),e.push(r.rightSE)}return e}}]),e}(),R=function(){function e(t,n){if(h(this,e),!Array.isArray(t))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new z(t[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var r=1,o=t.length;r<o;r++){var i=new z(t[r],this,!1);i.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=i.bbox.ll.x),i.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=i.bbox.ll.y),i.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=i.bbox.ur.x),i.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=i.bbox.ur.y),this.interiorRings.push(i)}this.multiPoly=n}return g(e,[{key:"getSweepEvents",value:function(){for(var e=this.exteriorRing.getSweepEvents(),t=0,n=this.interiorRings.length;t<n;t++)for(var r=this.interiorRings[t].getSweepEvents(),o=0,i=r.length;o<i;o++)e.push(r[o]);return e}}]),e}(),k=function(){function e(t,n){if(h(this,e),!Array.isArray(t))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof t[0][0][0]&&(t=[t])}catch(e){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var r=0,o=t.length;r<o;r++){var i=new R(t[r],this);i.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=i.bbox.ll.x),i.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=i.bbox.ll.y),i.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=i.bbox.ur.x),i.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=i.bbox.ur.y),this.polys.push(i)}this.isSubject=n}return g(e,[{key:"getSweepEvents",value:function(){for(var e=[],t=0,n=this.polys.length;t<n;t++)for(var r=this.polys[t].getSweepEvents(),o=0,i=r.length;o<i;o++)e.push(r[o]);return e}}]),e}(),L=function(){function e(t){h(this,e),this.events=t;for(var n=0,r=t.length;n<r;n++)t[n].segment.ringOut=this;this.poly=null}return g(e,null,[{key:"factory",value:function(t){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];if(i.isInResult()&&!i.ringOut){for(var a=null,s=i.leftSE,l=i.rightSE,u=[s],c=s.point,p=[];a=s,s=l,u.push(s),s.point!==c;)for(;;){var f=s.getAvailableLinkedEvents();if(0===f.length){var d=u[0].point,h=u[u.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(d.x,",")+" ".concat(d.y,"]. Last matching segment found ends at")+" [".concat(h.x,", ").concat(h.y,"]."))}if(1===f.length){l=f[0].otherSE;break}for(var y=null,g=0,m=p.length;g<m;g++)if(p[g].point===s.point){y=g;break}if(null===y){p.push({index:u.length,point:s.point});var v=s.getLeftmostComparator(a);l=f.sort(v)[0].otherSE;break}var b=p.splice(y)[0],_=u.splice(b.index);_.unshift(_[0].otherSE),n.push(new e(_.reverse()))}n.push(new e(u))}}return n}}]),g(e,[{key:"getGeom",value:function(){for(var e=this.events[0].point,t=[e],n=1,r=this.events.length-1;n<r;n++){var o=this.events[n].point,i=this.events[n+1].point;0!==E(o,e,i)&&(t.push(o),e=o)}if(1===t.length)return null;var a=t[0],s=t[1];0===E(a,e,s)&&t.shift(),t.push(t[0]);for(var l=this.isExteriorRing()?1:-1,u=this.isExteriorRing()?0:t.length-1,c=this.isExteriorRing()?t.length:-1,p=[],f=u;f!=c;f+=l)p.push([t[f].x,t[f].y]);return p}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var e=this.enclosingRing();this._isExteriorRing=!e||!e.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var e=this.events[0],t=1,n=this.events.length;t<n;t++){var r=this.events[t];I.compare(e,r)>0&&(e=r)}for(var o=e.segment.prevInResult(),i=o?o.prevInResult():null;;){if(!o)return null;if(!i)return o.ringOut;if(i.ringOut!==o.ringOut)return i.ringOut.enclosingRing()!==o.ringOut?o.ringOut:o.ringOut.enclosingRing();o=i.prevInResult(),i=o?o.prevInResult():null}}}]),e}(),F=function(){function e(t){h(this,e),this.exteriorRing=t,t.poly=this,this.interiorRings=[]}return g(e,[{key:"addInterior",value:function(e){this.interiorRings.push(e),e.poly=this}},{key:"getGeom",value:function(){var e=[this.exteriorRing.getGeom()];if(null===e[0])return null;for(var t=0,n=this.interiorRings.length;t<n;t++){var r=this.interiorRings[t].getGeom();null!==r&&e.push(r)}return e}}]),e}(),B=function(){function e(t){h(this,e),this.rings=t,this.polys=this._composePolys(t)}return g(e,[{key:"getGeom",value:function(){for(var e=[],t=0,n=this.polys.length;t<n;t++){var r=this.polys[t].getGeom();null!==r&&e.push(r)}return e}},{key:"_composePolys",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n];if(!o.poly)if(o.isExteriorRing())t.push(new F(o));else{var i=o.enclosingRing();i.poly||t.push(new F(i)),i.poly.addInterior(o)}}return t}}]),e}(),V=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D.compare;h(this,e),this.queue=t,this.tree=new d(n),this.segments=[]}return g(e,[{key:"process",value:function(e){var t=e.segment,n=[];if(e.consumedBy)return e.isLeft?this.queue.remove(e.otherSE):this.tree.remove(t),n;var r=e.isLeft?this.tree.insert(t):this.tree.find(t);if(!r)throw new Error("Unable to find segment #".concat(t.id," ")+"[".concat(t.leftSE.point.x,", ").concat(t.leftSE.point.y,"] -> ")+"[".concat(t.rightSE.point.x,", ").concat(t.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var o=r,i=r,a=void 0,s=void 0;void 0===a;)null===(o=this.tree.prev(o))?a=null:void 0===o.key.consumedBy&&(a=o.key);for(;void 0===s;)null===(i=this.tree.next(i))?s=null:void 0===i.key.consumedBy&&(s=i.key);if(e.isLeft){var l=null;if(a){var u=a.getIntersection(t);if(null!==u&&(t.isAnEndpoint(u)||(l=u),!a.isAnEndpoint(u)))for(var c=this._splitSafely(a,u),p=0,f=c.length;p<f;p++)n.push(c[p])}var d=null;if(s){var h=s.getIntersection(t);if(null!==h&&(t.isAnEndpoint(h)||(d=h),!s.isAnEndpoint(h)))for(var y=this._splitSafely(s,h),g=0,m=y.length;g<m;g++)n.push(y[g])}if(null!==l||null!==d){var v=null;v=null===l?d:null===d||I.comparePoints(l,d)<=0?l:d,this.queue.remove(t.rightSE),n.push(t.rightSE);for(var b=t.split(v),_=0,w=b.length;_<w;_++)n.push(b[_])}n.length>0?(this.tree.remove(t),n.push(e)):(this.segments.push(t),t.prev=a)}else{if(a&&s){var P=a.getIntersection(s);if(null!==P){if(!a.isAnEndpoint(P))for(var C=this._splitSafely(a,P),O=0,x=C.length;O<x;O++)n.push(C[O]);if(!s.isAnEndpoint(P))for(var S=this._splitSafely(s,P),E=0,j=S.length;E<j;E++)n.push(S[E])}}this.tree.remove(t)}return n}},{key:"_splitSafely",value:function(e,t){this.tree.remove(e);var n=e.rightSE;this.queue.remove(n);var r=e.split(t);return r.push(n),void 0===e.consumedBy&&this.tree.insert(e),r}}]),e}(),G="undefined"!=typeof process&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,U="undefined"!=typeof process&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,W=new(function(){function e(){h(this,e)}return g(e,[{key:"run",value:function(e,t,n){W.type=e,O.reset();for(var r=[new k(t,!0)],o=0,i=n.length;o<i;o++)r.push(new k(n[o],!1));if(W.numMultiPolys=r.length,"difference"===W.type)for(var a=r[0],s=1;s<r.length;)null!==v(r[s].bbox,a.bbox)?s++:r.splice(s,1);if("intersection"===W.type)for(var l=0,u=r.length;l<u;l++)for(var c=r[l],p=l+1,f=r.length;p<f;p++)if(null===v(c.bbox,r[p].bbox))return[];for(var h=new d(I.compare),y=0,g=r.length;y<g;y++)for(var m=r[y].getSweepEvents(),b=0,_=m.length;b<_;b++)if(h.insert(m[b]),h.size>G)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var w=new V(h),P=h.size,C=h.pop();C;){var x=C.key;if(h.size===P){var S=x.segment;throw new Error("Unable to pop() ".concat(x.isLeft?"left":"right"," SweepEvent ")+"[".concat(x.point.x,", ").concat(x.point.y,"] from segment #").concat(S.id," ")+"[".concat(S.leftSE.point.x,", ").concat(S.leftSE.point.y,"] -> ")+"[".concat(S.rightSE.point.x,", ").concat(S.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(h.size>G)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(w.segments.length>U)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var E=w.process(x),j=0,T=E.length;j<T;j++){var M=E[j];void 0===M.consumedBy&&h.insert(M)}P=h.size,C=h.pop()}O.reset();var A=L.factory(w.segments);return new B(A).getGeom()}}]),e}());const J={union:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return W.run("union",e,n)},intersection:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return W.run("intersection",e,n)},xor:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return W.run("xor",e,n)},difference:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return W.run("difference",e,n)}}},59197:(e,t,n)=>{"use strict";function r(e,t,n,r,i){o(e,t,n||0,r||e.length-1,i||a)}function o(e,t,n,r,a){for(;r>n;){if(r-n>600){var s=r-n+1,l=t-n+1,u=Math.log(s),c=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);o(e,t,Math.max(n,Math.floor(t-l*c/s+p)),Math.min(r,Math.floor(t+(s-l)*c/s+p)),a)}var f=e[t],d=n,h=r;for(i(e,n,t),a(e[r],f)>0&&i(e,n,r);d<h;){for(i(e,d,h),d++,h--;a(e[d],f)<0;)d++;for(;a(e[h],f)>0;)h--}0===a(e[n],f)?i(e,n,h):i(e,++h,r),h<=t&&(n=h+1),t<=h&&(r=h-1)}}function i(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function a(e,t){return e<t?-1:e>t?1:0}n.r(t),n.d(t,{default:()=>s});class s{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const n=[];if(!v(e,t))return n;const r=this.toBBox,o=[];for(;t;){for(let i=0;i<t.children.length;i++){const a=t.children[i],s=t.leaf?r(a):a;v(e,s)&&(t.leaf?n.push(a):m(e,s)?this._all(a,n):o.push(a))}t=o.pop()}return n}collides(e){let t=this.data;if(!v(e,t))return!1;const n=[];for(;t;){for(let r=0;r<t.children.length;r++){const o=t.children[r],i=t.leaf?this.toBBox(o):o;if(v(e,i)){if(t.leaf||m(e,i))return!0;n.push(o)}}t=n.pop()}return!1}load(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(let t=0;t<e.length;t++)this.insert(e[t]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const e=this.data;this.data=t,t=e}this._insert(t,this.data.height-t.height-1,!0)}else this.data=t;return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=b([]),this}remove(e,t){if(!e)return this;let n=this.data;const r=this.toBBox(e),o=[],i=[];let a,s,u;for(;n||o.length;){if(n||(n=o.pop(),s=o[o.length-1],a=i.pop(),u=!0),n.leaf){const r=l(e,n.children,t);if(-1!==r)return n.children.splice(r,1),o.push(n),this._condense(o),this}u||n.leaf||!m(n,r)?s?(a++,n=s.children[a],u=!1):n=null:(o.push(n),i.push(a),a=0,s=n,n=n.children[0])}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const n=[];for(;e;)e.leaf?t.push(...e.children):n.push(...e.children),e=n.pop();return t}_build(e,t,n,r){const o=n-t+1;let i,a=this._maxEntries;if(o<=a)return i=b(e.slice(t,n+1)),u(i,this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,r-1))),i=b([]),i.leaf=!1,i.height=r;const s=Math.ceil(o/a),l=s*Math.ceil(Math.sqrt(a));_(e,t,n,l,this.compareMinX);for(let o=t;o<=n;o+=l){const t=Math.min(o+l-1,n);_(e,o,t,s,this.compareMinY);for(let n=o;n<=t;n+=s){const o=Math.min(n+s-1,t);i.children.push(this._build(e,n,o,r-1))}}return u(i,this.toBBox),i}_chooseSubtree(e,t,n,r){for(;r.push(t),!t.leaf&&r.length-1!==n;){let n,r=1/0,a=1/0;for(let s=0;s<t.children.length;s++){const l=t.children[s],u=h(l),c=(o=e,i=l,(Math.max(i.maxX,o.maxX)-Math.min(i.minX,o.minX))*(Math.max(i.maxY,o.maxY)-Math.min(i.minY,o.minY))-u);c<a?(a=c,r=u<r?u:r,n=l):c===a&&u<r&&(r=u,n=l)}t=n||t.children[0]}var o,i;return t}_insert(e,t,n){const r=n?e:this.toBBox(e),o=[],i=this._chooseSubtree(r,this.data,t,o);for(i.children.push(e),p(i,r);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(r,o,t)}_split(e,t){const n=e[t],r=n.children.length,o=this._minEntries;this._chooseSplitAxis(n,o,r);const i=this._chooseSplitIndex(n,o,r),a=b(n.children.splice(i,n.children.length-i));a.height=n.height,a.leaf=n.leaf,u(n,this.toBBox),u(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(n,a)}_splitRoot(e,t){this.data=b([e,t]),this.data.height=e.height+1,this.data.leaf=!1,u(this.data,this.toBBox)}_chooseSplitIndex(e,t,n){let r,o=1/0,i=1/0;for(let a=t;a<=n-t;a++){const t=c(e,0,a,this.toBBox),s=c(e,a,n,this.toBBox),l=g(t,s),u=h(t)+h(s);l<o?(o=l,r=a,i=u<i?u:i):l===o&&u<i&&(i=u,r=a)}return r||n-t}_chooseSplitAxis(e,t,n){const r=e.leaf?this.compareMinX:f,o=e.leaf?this.compareMinY:d;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,o)&&e.children.sort(r)}_allDistMargin(e,t,n,r){e.children.sort(r);const o=this.toBBox,i=c(e,0,t,o),a=c(e,n-t,n,o);let s=y(i)+y(a);for(let r=t;r<n-t;r++){const t=e.children[r];p(i,e.leaf?o(t):t),s+=y(i)}for(let r=n-t-1;r>=t;r--){const t=e.children[r];p(a,e.leaf?o(t):t),s+=y(a)}return s}_adjustParentBBoxes(e,t,n){for(let r=n;r>=0;r--)p(t[r],e)}_condense(e){for(let t,n=e.length-1;n>=0;n--)0===e[n].children.length?n>0?(t=e[n-1].children,t.splice(t.indexOf(e[n]),1)):this.clear():u(e[n],this.toBBox)}}function l(e,t,n){if(!n)return t.indexOf(e);for(let r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function u(e,t){c(e,0,e.children.length,t,e)}function c(e,t,n,r,o){o||(o=b(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(let i=t;i<n;i++){const t=e.children[i];p(o,e.leaf?r(t):t)}return o}function p(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function f(e,t){return e.minX-t.minX}function d(e,t){return e.minY-t.minY}function h(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function y(e){return e.maxX-e.minX+(e.maxY-e.minY)}function g(e,t){const n=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),o=Math.min(e.maxX,t.maxX),i=Math.min(e.maxY,t.maxY);return Math.max(0,o-n)*Math.max(0,i-r)}function m(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function v(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function b(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function _(e,t,n,o,i){const a=[t,n];for(;a.length;){if((n=a.pop())-(t=a.pop())<=o)continue;const s=t+Math.ceil((n-t)/o/2)*o;r(e,s,t,n,i),a.push(t,s,s,n)}}},53697:(e,t,n)=>{"use strict";var r=n(25972).functionsHaveConfigurableNames(),o=Object,i=TypeError;e.exports=function(){if(null!=this&&this!==o(this))throw new i("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e},r&&Object.defineProperty&&Object.defineProperty(e.exports,"name",{value:"get flags"})},2847:(e,t,n)=>{"use strict";var r=n(4289),o=n(55559),i=n(53697),a=n(71721),s=n(32753),l=o(a());r(l,{getPolyfill:a,implementation:i,shim:s}),e.exports=l},71721:(e,t,n)=>{"use strict";var r=n(53697),o=n(4289).supportsDescriptors,i=Object.getOwnPropertyDescriptor;e.exports=function(){if(o&&"gim"===/a/gim.flags){var e=i(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var t="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(n,"sticky",{get:function(){t+="y"}}),"dy"===t)return e.get}}return r}},32753:(e,t,n)=>{"use strict";var r=n(4289).supportsDescriptors,o=n(71721),i=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,l=Object.getPrototypeOf,u=/a/;e.exports=function(){if(!r||!l)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=o(),t=l(u),n=i(t,"flags");return n&&n.get===e||a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},88639:function(e,t){!function(e){"use strict";const t=134217729;function n(e,t,n,r,o){let i,a,s,l,u=t[0],c=r[0],p=0,f=0;c>u==c>-u?(i=u,u=t[++p]):(i=c,c=r[++f]);let d=0;if(p<e&&f<n)for(c>u==c>-u?(s=i-((a=u+i)-u),u=t[++p]):(s=i-((a=c+i)-c),c=r[++f]),i=a,0!==s&&(o[d++]=s);p<e&&f<n;)c>u==c>-u?(s=i-((a=i+u)-(l=a-i))+(u-l),u=t[++p]):(s=i-((a=i+c)-(l=a-i))+(c-l),c=r[++f]),i=a,0!==s&&(o[d++]=s);for(;p<e;)s=i-((a=i+u)-(l=a-i))+(u-l),u=t[++p],i=a,0!==s&&(o[d++]=s);for(;f<n;)s=i-((a=i+c)-(l=a-i))+(c-l),c=r[++f],i=a,0!==s&&(o[d++]=s);return 0===i&&0!==d||(o[d++]=i),d}function r(e){return new Float64Array(e)}const o=r(4),i=r(8),a=r(12),s=r(16),l=r(4);e.orient2d=function(e,r,u,c,p,f){const d=(r-f)*(u-p),h=(e-p)*(c-f),y=d-h;if(0===d||0===h||d>0!=h>0)return y;const g=Math.abs(d+h);return Math.abs(y)>=33306690738754716e-32*g?y:-function(e,r,u,c,p,f,d){let h,y,g,m,v,b,_,w,P,C,O,x,S,E,j,T,M,A;const I=e-p,N=u-p,D=r-f,z=c-f;v=(j=(w=I-(_=(b=t*I)-(b-I)))*(C=z-(P=(b=t*z)-(b-z)))-((E=I*z)-_*P-w*P-_*C))-(O=j-(M=(w=D-(_=(b=t*D)-(b-D)))*(C=N-(P=(b=t*N)-(b-N)))-((T=D*N)-_*P-w*P-_*C))),o[0]=j-(O+v)+(v-M),v=(S=E-((x=E+O)-(v=x-E))+(O-v))-(O=S-T),o[1]=S-(O+v)+(v-T),v=(A=x+O)-x,o[2]=x-(A-v)+(O-v),o[3]=A;let R=function(e,t){let n=t[0];for(let e=1;e<4;e++)n+=t[e];return n}(0,o),k=22204460492503146e-32*d;if(R>=k||-R>=k)return R;if(h=e-(I+(v=e-I))+(v-p),g=u-(N+(v=u-N))+(v-p),y=r-(D+(v=r-D))+(v-f),m=c-(z+(v=c-z))+(v-f),0===h&&0===y&&0===g&&0===m)return R;if(k=11093356479670487e-47*d+33306690738754706e-32*Math.abs(R),(R+=I*m+z*h-(D*g+N*y))>=k||-R>=k)return R;v=(j=(w=h-(_=(b=t*h)-(b-h)))*(C=z-(P=(b=t*z)-(b-z)))-((E=h*z)-_*P-w*P-_*C))-(O=j-(M=(w=y-(_=(b=t*y)-(b-y)))*(C=N-(P=(b=t*N)-(b-N)))-((T=y*N)-_*P-w*P-_*C))),l[0]=j-(O+v)+(v-M),v=(S=E-((x=E+O)-(v=x-E))+(O-v))-(O=S-T),l[1]=S-(O+v)+(v-T),v=(A=x+O)-x,l[2]=x-(A-v)+(O-v),l[3]=A;const L=n(4,o,4,l,i);v=(j=(w=I-(_=(b=t*I)-(b-I)))*(C=m-(P=(b=t*m)-(b-m)))-((E=I*m)-_*P-w*P-_*C))-(O=j-(M=(w=D-(_=(b=t*D)-(b-D)))*(C=g-(P=(b=t*g)-(b-g)))-((T=D*g)-_*P-w*P-_*C))),l[0]=j-(O+v)+(v-M),v=(S=E-((x=E+O)-(v=x-E))+(O-v))-(O=S-T),l[1]=S-(O+v)+(v-T),v=(A=x+O)-x,l[2]=x-(A-v)+(O-v),l[3]=A;const F=n(L,i,4,l,a);v=(j=(w=h-(_=(b=t*h)-(b-h)))*(C=m-(P=(b=t*m)-(b-m)))-((E=h*m)-_*P-w*P-_*C))-(O=j-(M=(w=y-(_=(b=t*y)-(b-y)))*(C=g-(P=(b=t*g)-(b-g)))-((T=y*g)-_*P-w*P-_*C))),l[0]=j-(O+v)+(v-M),v=(S=E-((x=E+O)-(v=x-E))+(O-v))-(O=S-T),l[1]=S-(O+v)+(v-T),v=(A=x+O)-x,l[2]=x-(A-v)+(O-v),l[3]=A;const B=n(F,a,4,l,s);return s[B-1]}(e,r,u,c,p,f,g)},e.orient2dfast=function(e,t,n,r,o,i){return(t-i)*(n-o)-(e-o)*(r-i)},Object.defineProperty(e,"__esModule",{value:!0})}(t)},85697:e=>{"use strict";e.exports={eudist:function(e,t,n){for(var r=e.length,o=0,i=0;i<r;i++){var a=(e[i]||0)-(t[i]||0);o+=a*a}return n?Math.sqrt(o):o},mandist:function(e,t,n){for(var r=e.length,o=0,i=0;i<r;i++)o+=Math.abs((e[i]||0)-(t[i]||0));return n?Math.sqrt(o):o},dist:function(e,t,n){var r=Math.abs(e-t);return n?r:r*r}}},97035:(e,t,n)=>{"use strict";var r=n(85697),o=r.eudist,i=r.dist;e.exports={kmrand:function(e,t){for(var n={},r=[],o=t<<2,i=e.length,a=e[0].length>0;r.length<t&&o-- >0;){var s=e[Math.floor(Math.random()*i)],l=a?s.join("_"):""+s;n[l]||(n[l]=!0,r.push(s))}if(r.length<t)throw new Error("Error initializating clusters");return r},kmpp:function(e,t){var n=e[0].length?o:i,r=[],a=e.length,s=e[0].length>0,l=e[Math.floor(Math.random()*a)];for(s&&l.join("_"),r.push(l);r.length<t;){for(var u=[],c=r.length,p=0,f=[],d=0;d<a;d++){for(var h=1/0,y=0;y<c;y++){var g=n(e[d],r[y]);g<=h&&(h=g)}u[d]=h}for(var m=0;m<a;m++)p+=u[m];for(var v=0;v<a;v++)f[v]={i:v,v:e[v],pr:u[v]/p,cs:0};f.sort((function(e,t){return e.pr-t.pr})),f[0].cs=f[0].pr;for(var b=1;b<a;b++)f[b].cs=f[b-1].cs+f[b].pr;for(var _=Math.random(),w=0;w<a-1&&f[w++].cs<_;);r.push(f[w-1].v)}return r}}},21160:(e,t,n)=>{"use strict";var r=n(85697),o=n(97035),i=r.eudist,a=(r.mandist,r.dist,o.kmrand),s=o.kmpp;function l(e,t,n){n=n||[];for(var r=0;r<e;r++)n[r]=t;return n}e.exports=function(e,t,n,r){var o=[],u=[],c=[],p=[],f=!1,d=r||1e4,h=e.length,y=e[0].length,g=y>0,m=[];if(n)o="kmrand"==n?a(e,t):"kmpp"==n?s(e,t):n;else for(var v={};o.length<t;){var b=Math.floor(Math.random()*h);v[b]||(v[b]=!0,o.push(e[b]))}do{l(t,0,m);for(var _=0;_<h;_++){for(var w=1/0,P=0,C=0;C<t;C++)(p=g?i(e[_],o[C]):Math.abs(e[_]-o[C]))<=w&&(w=p,P=C);c[_]=P,m[P]++}for(var O=[],x=(u=[],0);x<t;x++)O[x]=g?l(y,0,O[x]):0,u[x]=o[x];if(g){for(var S=0;S<t;S++)o[S]=[];for(var E=0;E<h;E++)for(var j=O[c[E]],T=e[E],M=0;M<y;M++)j[M]+=T[M];f=!0;for(var A=0;A<t;A++){for(var I=o[A],N=O[A],D=u[A],z=m[A],R=0;R<y;R++)I[R]=N[R]/z||0;if(f)for(var k=0;k<y;k++)if(D[k]!=I[k]){f=!1;break}}}else{for(var L=0;L<h;L++)O[c[L]]+=e[L];for(var F=0;F<t;F++)o[F]=O[F]/m[F]||0;f=!0;for(var B=0;B<t;B++)if(u[B]!=o[B]){f=!1;break}}f=f||--d<=0}while(!f);return{it:1e4-d,k:t,idxs:c,centroids:o}}},43842:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});class r{constructor(e=[],t=o){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let e=(this.length>>1)-1;e>=0;e--)this._down(e)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:n}=this,r=t[e];for(;e>0;){const o=e-1>>1,i=t[o];if(n(r,i)>=0)break;t[e]=i,e=o}t[e]=r}_down(e){const{data:t,compare:n}=this,r=this.length>>1,o=t[e];for(;e<r;){let r=1+(e<<1),i=t[r];const a=r+1;if(a<this.length&&n(t[a],i)<0&&(r=a,i=t[a]),n(i,o)>=0)break;t[e]=i,e=r}t[e]=o}}function o(e,t){return e<t?-1:e>t?1:0}},18146:(e,t,n)=>{"use strict";function r(e){return e}function o(e){if(null==e)return r;var t,n,o=e.scale[0],i=e.scale[1],a=e.translate[0],s=e.translate[1];return function(e,r){r||(t=n=0);var l=2,u=e.length,c=new Array(u);for(c[0]=(t+=e[0])*o+a,c[1]=(n+=e[1])*i+s;l<u;)c[l]=e[l],++l;return c}}function i(e){var t,n=o(e.transform),r=1/0,i=r,a=-r,s=-r;function l(e){(e=n(e))[0]<r&&(r=e[0]),e[0]>a&&(a=e[0]),e[1]<i&&(i=e[1]),e[1]>s&&(s=e[1])}function u(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(u);break;case"Point":l(e.coordinates);break;case"MultiPoint":e.coordinates.forEach(l)}}for(t in e.arcs.forEach((function(e){for(var t,o=-1,l=e.length;++o<l;)(t=n(e[o],o))[0]<r&&(r=t[0]),t[0]>a&&(a=t[0]),t[1]<i&&(i=t[1]),t[1]>s&&(s=t[1])})),e.objects)u(e.objects[t]);return[r,i,a,s]}function a(e,t){return"string"==typeof t&&(t=e.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map((function(t){return s(e,t)}))}:s(e,t)}function s(e,t){var n=t.id,r=t.bbox,o=null==t.properties?{}:t.properties,i=l(e,t);return null==n&&null==r?{type:"Feature",properties:o,geometry:i}:null==r?{type:"Feature",id:n,properties:o,geometry:i}:{type:"Feature",id:n,bbox:r,properties:o,geometry:i}}function l(e,t){var n=o(e.transform),r=e.arcs;function i(e,t){t.length&&t.pop();for(var o=r[e<0?~e:e],i=0,a=o.length;i<a;++i)t.push(n(o[i],i));e<0&&function(e,t){for(var n,r=e.length,o=r-t;o<--r;)n=e[o],e[o++]=e[r],e[r]=n}(t,a)}function a(e){return n(e)}function s(e){for(var t=[],n=0,r=e.length;n<r;++n)i(e[n],t);return t.length<2&&t.push(t[0]),t}function l(e){for(var t=s(e);t.length<4;)t.push(t[0]);return t}function u(e){return e.map(l)}return function e(t){var n,r=t.type;switch(r){case"GeometryCollection":return{type:r,geometries:t.geometries.map(e)};case"Point":n=a(t.coordinates);break;case"MultiPoint":n=t.coordinates.map(a);break;case"LineString":n=s(t.arcs);break;case"MultiLineString":n=t.arcs.map(s);break;case"Polygon":n=u(t.arcs);break;case"MultiPolygon":n=t.arcs.map(u);break;default:return null}return{type:r,coordinates:n}}(t)}function u(e,t){var n={},r={},o={},i=[],a=-1;function s(e,t){for(var r in e){var o=e[r];delete t[o.start],delete o.start,delete o.end,o.forEach((function(e){n[e<0?~e:e]=1})),i.push(o)}}return t.forEach((function(n,r){var o,i=e.arcs[n<0?~n:n];i.length<3&&!i[1][0]&&!i[1][1]&&(o=t[++a],t[a]=n,t[r]=o)})),t.forEach((function(t){var n,i,a=function(t){var n,r=e.arcs[t<0?~t:t],o=r[0];return e.transform?(n=[0,0],r.forEach((function(e){n[0]+=e[0],n[1]+=e[1]}))):n=r[r.length-1],t<0?[n,o]:[o,n]}(t),s=a[0],l=a[1];if(n=o[s])if(delete o[n.end],n.push(t),n.end=l,i=r[l]){delete r[i.start];var u=i===n?n:n.concat(i);r[u.start=n.start]=o[u.end=i.end]=u}else r[n.start]=o[n.end]=n;else if(n=r[l])if(delete r[n.start],n.unshift(t),n.start=s,i=o[s]){delete o[i.end];var c=i===n?n:i.concat(n);r[c.start=i.start]=o[c.end=n.end]=c}else r[n.start]=o[n.end]=n;else r[(n=[t]).start=s]=o[n.end=l]=n})),s(o,r),s(r,o),t.forEach((function(e){n[e<0?~e:e]||i.push([e])})),i}function c(e){return l(e,p.apply(this,arguments))}function p(e,t,n){var r,o,i;if(arguments.length>1)r=f(0,t,n);else for(o=0,r=new Array(i=e.arcs.length);o<i;++o)r[o]=o;return{type:"MultiLineString",arcs:u(e,r)}}function f(e,t,n){var r,o=[],i=[];function a(e){var t=e<0?~e:e;(i[t]||(i[t]=[])).push({i:e,g:r})}function s(e){e.forEach(a)}function l(e){e.forEach(s)}return function e(t){switch(r=t,t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"LineString":s(t.arcs);break;case"MultiLineString":case"Polygon":l(t.arcs);break;case"MultiPolygon":!function(e){e.forEach(l)}(t.arcs)}}(t),i.forEach(null==n?function(e){o.push(e[0].i)}:function(e){n(e[0].g,e[e.length-1].g)&&o.push(e[0].i)}),o}function d(e){return l(e,h.apply(this,arguments))}function h(e,t){var n={},r=[],o=[];function i(e){e.forEach((function(t){t.forEach((function(t){(n[t=t<0?~t:t]||(n[t]=[])).push(e)}))})),r.push(e)}function a(t){return function(e){for(var t,n=-1,r=e.length,o=e[r-1],i=0;++n<r;)t=o,o=e[n],i+=t[0]*o[1]-t[1]*o[0];return Math.abs(i)}(l(e,{type:"Polygon",arcs:[t]}).coordinates[0])}return t.forEach((function e(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"Polygon":i(t.arcs);break;case"MultiPolygon":t.arcs.forEach(i)}})),r.forEach((function(e){if(!e._){var t=[],r=[e];for(e._=1,o.push(t);e=r.pop();)t.push(e),e.forEach((function(e){e.forEach((function(e){n[e<0?~e:e].forEach((function(e){e._||(e._=1,r.push(e))}))}))}))}})),r.forEach((function(e){delete e._})),{type:"MultiPolygon",arcs:o.map((function(t){var r,o=[];if(t.forEach((function(e){e.forEach((function(e){e.forEach((function(e){n[e<0?~e:e].length<2&&o.push(e)}))}))})),(r=(o=u(e,o)).length)>1)for(var i,s,l=1,c=a(o[0]);l<r;++l)(i=a(o[l]))>c&&(s=o[0],o[0]=o[l],o[l]=s,c=i);return o})).filter((function(e){return e.length>0}))}}function y(e,t){for(var n=0,r=e.length;n<r;){var o=n+r>>>1;e[o]<t?n=o+1:r=o}return n}function g(e){var t={},n=e.map((function(){return[]}));function r(e,n){e.forEach((function(e){e<0&&(e=~e);var r=t[e];r?r.push(n):t[e]=[n]}))}function o(e,t){e.forEach((function(e){r(e,t)}))}var i={LineString:r,MultiLineString:o,Polygon:o,MultiPolygon:function(e,t){e.forEach((function(e){o(e,t)}))}};for(var a in e.forEach((function e(t,n){"GeometryCollection"===t.type?t.geometries.forEach((function(t){e(t,n)})):t.type in i&&i[t.type](t.arcs,n)})),t)for(var s=t[a],l=s.length,u=0;u<l;++u)for(var c=u+1;c<l;++c){var p,f=s[u],d=s[c];(p=n[f])[a=y(p,d)]!==d&&p.splice(a,0,d),(p=n[d])[a=y(p,f)]!==f&&p.splice(a,0,f)}return n}function m(e){if(null==e)return r;var t,n,o=e.scale[0],i=e.scale[1],a=e.translate[0],s=e.translate[1];return function(e,r){r||(t=n=0);var l=2,u=e.length,c=new Array(u),p=Math.round((e[0]-a)/o),f=Math.round((e[1]-s)/i);for(c[0]=p-t,t=p,c[1]=f-n,n=f;l<u;)c[l]=e[l],++l;return c}}function v(e,t){if(e.transform)throw new Error("already quantized");if(t&&t.scale)l=e.bbox;else{if(!((n=Math.floor(t))>=2))throw new Error("n must be ≥2");var n,r=(l=e.bbox||i(e))[0],o=l[1],a=l[2],s=l[3];t={scale:[a-r?(a-r)/(n-1):1,s-o?(s-o)/(n-1):1],translate:[r,o]}}var l,u,c=m(t),p=e.objects,f={};function d(e){return c(e)}function h(e){var t;switch(e.type){case"GeometryCollection":t={type:"GeometryCollection",geometries:e.geometries.map(h)};break;case"Point":t={type:"Point",coordinates:d(e.coordinates)};break;case"MultiPoint":t={type:"MultiPoint",coordinates:e.coordinates.map(d)};break;default:return e}return null!=e.id&&(t.id=e.id),null!=e.bbox&&(t.bbox=e.bbox),null!=e.properties&&(t.properties=e.properties),t}for(u in p)f[u]=h(p[u]);return{type:"Topology",bbox:l,transform:t,objects:f,arcs:e.arcs.map((function(e){var t,n=0,r=1,o=e.length,i=new Array(o);for(i[0]=c(e[0],0);++n<o;)((t=c(e[n],n))[0]||t[1])&&(i[r++]=t);return 1===r&&(i[r++]=[0,0]),i.length=r,i}))}}n.r(t),n.d(t,{bbox:()=>i,feature:()=>a,merge:()=>d,mergeArcs:()=>h,mesh:()=>c,meshArcs:()=>p,neighbors:()=>g,quantize:()=>v,transform:()=>o,untransform:()=>m})},24255:(e,t,n)=>{"use strict";n.r(t),n.d(t,{topology:()=>h});var r=Object.prototype.hasOwnProperty;function o(e,t,n,r,o,i){3===arguments.length&&(r=i=Array,o=null);for(var a=new r(e=1<<Math.max(4,Math.ceil(Math.log(e)/Math.LN2))),s=new i(e),l=e-1,u=0;u<e;++u)a[u]=o;function c(r,i){for(var u=t(r)&l,c=a[u],p=0;c!=o;){if(n(c,r))return s[u]=i;if(++p>=e)throw new Error("full hashmap");c=a[u=u+1&l]}return a[u]=r,s[u]=i,i}function p(r,i){for(var u=t(r)&l,c=a[u],p=0;c!=o;){if(n(c,r))return s[u];if(++p>=e)throw new Error("full hashmap");c=a[u=u+1&l]}return a[u]=r,s[u]=i,i}function f(r,i){for(var u=t(r)&l,c=a[u],p=0;c!=o;){if(n(c,r))return s[u];if(++p>=e)break;c=a[u=u+1&l]}return i}function d(){for(var e=[],t=0,n=a.length;t<n;++t){var r=a[t];r!=o&&e.push(r)}return e}return{set:c,maybeSet:p,get:f,keys:d}}function i(e,t){return e[0]===t[0]&&e[1]===t[1]}var a=new ArrayBuffer(16),s=new Float64Array(a),l=new Uint32Array(a);function u(e){s[0]=e[0],s[1]=e[1];var t=l[0]^l[1];return 2147483647&(t<<5^t>>7^l[2]^l[3])}function c(e,t,n){for(var r,o=t+(n---t>>1);t<o;++t,--n)r=e[t],e[t]=e[n],e[n]=r}function p(e){var t={type:"GeometryCollection",geometries:e.features.map(f)};return null!=e.bbox&&(t.bbox=e.bbox),t}function f(e){var t,n=d(e.geometry);for(t in null!=e.id&&(n.id=e.id),null!=e.bbox&&(n.bbox=e.bbox),e.properties){n.properties=e.properties;break}return n}function d(e){if(null==e)return{type:null};var t="GeometryCollection"===e.type?{type:"GeometryCollection",geometries:e.geometries.map(d)}:"Point"===e.type||"MultiPoint"===e.type?{type:e.type,coordinates:e.coordinates}:{type:e.type,arcs:e.coordinates};return null!=e.bbox&&(t.bbox=e.bbox),t}function h(e,t){var n=function(e){var t=1/0,n=1/0,o=-1/0,i=-1/0;function a(e){null!=e&&r.call(s,e.type)&&s[e.type](e)}var s={GeometryCollection:function(e){e.geometries.forEach(a)},Point:function(e){l(e.coordinates)},MultiPoint:function(e){e.coordinates.forEach(l)},LineString:function(e){u(e.arcs)},MultiLineString:function(e){e.arcs.forEach(u)},Polygon:function(e){e.arcs.forEach(u)},MultiPolygon:function(e){e.arcs.forEach(c)}};function l(e){var r=e[0],a=e[1];r<t&&(t=r),r>o&&(o=r),a<n&&(n=a),a>i&&(i=a)}function u(e){e.forEach(l)}function c(e){e.forEach(u)}for(var p in e)a(e[p]);return o>=t&&i>=n?[t,n,o,i]:void 0}(e=function(e){var t,n,r={};for(t in e)r[t]=null==(n=e[t])?{type:null}:("FeatureCollection"===n.type?p:"Feature"===n.type?f:d)(n);return r}(e)),a=t>0&&n&&function(e,t,n){var o=t[0],i=t[1],a=t[2],s=t[3],l=a-o?(n-1)/(a-o):1,u=s-i?(n-1)/(s-i):1;function c(e){return[Math.round((e[0]-o)*l),Math.round((e[1]-i)*u)]}function p(e,t){for(var n,r,a,s,c,p=-1,f=0,d=e.length,h=new Array(d);++p<d;)n=e[p],s=Math.round((n[0]-o)*l),c=Math.round((n[1]-i)*u),s===r&&c===a||(h[f++]=[r=s,a=c]);for(h.length=f;f<t;)f=h.push([h[0][0],h[0][1]]);return h}function f(e){return p(e,2)}function d(e){return p(e,4)}function h(e){return e.map(d)}function y(e){null!=e&&r.call(g,e.type)&&g[e.type](e)}var g={GeometryCollection:function(e){e.geometries.forEach(y)},Point:function(e){e.coordinates=c(e.coordinates)},MultiPoint:function(e){e.coordinates=e.coordinates.map(c)},LineString:function(e){e.arcs=f(e.arcs)},MultiLineString:function(e){e.arcs=e.arcs.map(f)},Polygon:function(e){e.arcs=h(e.arcs)},MultiPolygon:function(e){e.arcs=e.arcs.map(h)}};for(var m in e)y(e[m]);return{scale:[1/l,1/u],translate:[o,i]}}(e,n,t),s=function(e){var t,n,r,a,s=e.coordinates,l=e.lines,c=e.rings,p=l.length+c.length;for(delete e.lines,delete e.rings,r=0,a=l.length;r<a;++r)for(t=l[r];t=t.next;)++p;for(r=0,a=c.length;r<a;++r)for(n=c[r];n=n.next;)++p;var f=o(2*p*1.4,u,i),d=e.arcs=[];for(r=0,a=l.length;r<a;++r){t=l[r];do{h(t)}while(t=t.next)}for(r=0,a=c.length;r<a;++r)if((n=c[r]).next)do{h(n)}while(n=n.next);else y(n);function h(e){var t,n,r,o,i,a,l,u;if(r=f.get(t=s[e[0]]))for(l=0,u=r.length;l<u;++l)if(g(o=r[l],e))return e[0]=o[0],void(e[1]=o[1]);if(i=f.get(n=s[e[1]]))for(l=0,u=i.length;l<u;++l)if(m(a=i[l],e))return e[1]=a[0],void(e[0]=a[1]);r?r.push(e):f.set(t,[e]),i?i.push(e):f.set(n,[e]),d.push(e)}function y(e){var t,n,r,o,i;if(n=f.get(s[e[0]]))for(o=0,i=n.length;o<i;++o){if(v(r=n[o],e))return e[0]=r[0],void(e[1]=r[1]);if(b(r,e))return e[0]=r[1],void(e[1]=r[0])}if(n=f.get(t=s[e[0]+_(e)]))for(o=0,i=n.length;o<i;++o){if(v(r=n[o],e))return e[0]=r[0],void(e[1]=r[1]);if(b(r,e))return e[0]=r[1],void(e[1]=r[0])}n?n.push(e):f.set(t,[e]),d.push(e)}function g(e,t){var n=e[0],r=t[0],o=e[1];if(n-o!=r-t[1])return!1;for(;n<=o;++n,++r)if(!i(s[n],s[r]))return!1;return!0}function m(e,t){var n=e[0],r=t[0],o=e[1],a=t[1];if(n-o!=r-a)return!1;for(;n<=o;++n,--a)if(!i(s[n],s[a]))return!1;return!0}function v(e,t){var n=e[0],r=t[0],o=e[1]-n;if(o!==t[1]-r)return!1;for(var a=_(e),l=_(t),u=0;u<o;++u)if(!i(s[n+(u+a)%o],s[r+(u+l)%o]))return!1;return!0}function b(e,t){var n=e[0],r=t[0],o=e[1],a=t[1],l=o-n;if(l!==a-r)return!1;for(var u=_(e),c=l-_(t),p=0;p<l;++p)if(!i(s[n+(p+u)%l],s[a-(p+c)%l]))return!1;return!0}function _(e){for(var t=e[0],n=e[1],r=t,o=r,i=s[r];++r<n;){var a=s[r];(a[0]<i[0]||a[0]===i[0]&&a[1]<i[1])&&(o=r,i=a)}return o-t}return e}(function(e){var t,n,r,a,s,l,p,f=function(e){var t,n,r,a,s=e.coordinates,l=e.lines,c=e.rings,p=function(){for(var e=o(1.4*s.length,O,x,Int32Array,-1,Int32Array),t=new Int32Array(s.length),n=0,r=s.length;n<r;++n)t[n]=e.maybeSet(n,n);return t}(),f=new Int32Array(s.length),d=new Int32Array(s.length),h=new Int32Array(s.length),y=new Int8Array(s.length),g=0;for(t=0,n=s.length;t<n;++t)f[t]=d[t]=h[t]=-1;for(t=0,n=l.length;t<n;++t){var m=l[t],v=m[0],b=m[1];for(r=p[v],a=p[++v],++g,y[r]=1;++v<=b;)C(t,r,r=a,a=p[v]);++g,y[a]=1}for(t=0,n=s.length;t<n;++t)f[t]=-1;for(t=0,n=c.length;t<n;++t){var _=c[t],w=_[0]+1,P=_[1];for(C(t,p[P-1],r=p[w-1],a=p[w]);++w<=P;)C(t,r,r=a,a=p[w])}function C(e,t,n,r){if(f[n]!==e){f[n]=e;var o=d[n];if(o>=0){var i=h[n];o===t&&i===r||o===r&&i===t||(++g,y[n]=1)}else d[n]=t,h[n]=r}}function O(e){return u(s[e])}function x(e,t){return i(s[e],s[t])}f=d=h=null;var S,E=function(e,t,n,r,o){3===arguments.length&&(r=Array,o=null);for(var i=new r(e=1<<Math.max(4,Math.ceil(Math.log(e)/Math.LN2))),a=e-1,s=0;s<e;++s)i[s]=o;function l(r){for(var s=t(r)&a,l=i[s],u=0;l!=o;){if(n(l,r))return!0;if(++u>=e)throw new Error("full hashset");l=i[s=s+1&a]}return i[s]=r,!0}function u(r){for(var s=t(r)&a,l=i[s],u=0;l!=o;){if(n(l,r))return!0;if(++u>=e)break;l=i[s=s+1&a]}return!1}function c(){for(var e=[],t=0,n=i.length;t<n;++t){var r=i[t];r!=o&&e.push(r)}return e}return{add:l,has:u,values:c}}(1.4*g,u,i);for(t=0,n=s.length;t<n;++t)y[S=p[t]]&&E.add(s[S]);return E}(e),d=e.coordinates,h=e.lines,y=e.rings;for(n=0,r=h.length;n<r;++n)for(var g=h[n],m=g[0],v=g[1];++m<v;)f.has(d[m])&&(t={0:m,1:g[1]},g[1]=m,g=g.next=t);for(n=0,r=y.length;n<r;++n)for(var b=y[n],_=b[0],w=_,P=b[1],C=f.has(d[_]);++w<P;)f.has(d[w])&&(C?(t={0:w,1:b[1]},b[1]=w,b=b.next=t):(p=P-w,c(a=d,s=_,l=P),c(a,s,s+p),c(a,s+p,l),d[P]=d[_],C=!0,w=_));return e}(function(e){var t=-1,n=[],o=[],i=[];function a(e){e&&r.call(s,e.type)&&s[e.type](e)}var s={GeometryCollection:function(e){e.geometries.forEach(a)},LineString:function(e){e.arcs=l(e.arcs)},MultiLineString:function(e){e.arcs=e.arcs.map(l)},Polygon:function(e){e.arcs=e.arcs.map(u)},MultiPolygon:function(e){e.arcs=e.arcs.map(c)}};function l(e){for(var r=0,o=e.length;r<o;++r)i[++t]=e[r];var a={0:t-o+1,1:t};return n.push(a),a}function u(e){for(var n=0,r=e.length;n<r;++n)i[++t]=e[n];var a={0:t-r+1,1:t};return o.push(a),a}function c(e){return e.map(u)}for(var p in e)a(e[p]);return{type:"Topology",coordinates:i,lines:n,rings:o,objects:e}}(e))),l=s.coordinates,h=o(1.4*s.arcs.length,y,g);function m(e){e&&r.call(v,e.type)&&v[e.type](e)}e=s.objects,s.bbox=n,s.arcs=s.arcs.map((function(e,t){return h.set(e,t),l.slice(e[0],e[1]+1)})),delete s.coordinates,l=null;var v={GeometryCollection:function(e){e.geometries.forEach(m)},LineString:function(e){e.arcs=b(e.arcs)},MultiLineString:function(e){e.arcs=e.arcs.map(b)},Polygon:function(e){e.arcs=e.arcs.map(b)},MultiPolygon:function(e){e.arcs=e.arcs.map(_)}};function b(e){var t=[];do{var n=h.get(e);t.push(e[0]<e[1]?n:~n)}while(e=e.next);return t}function _(e){return e.map(b)}for(var w in e)m(e[w]);return a&&(s.transform=a,s.arcs=function(e){for(var t=-1,n=e.length;++t<n;){for(var r,o,i=e[t],a=0,s=1,l=i.length,u=i[0],c=u[0],p=u[1];++a<l;)r=(u=i[a])[0],o=u[1],r===c&&o===p||(i[s++]=[r-c,o-p],c=r,p=o);1===s&&(i[s++]=[0,0]),i.length=s}return e}(s.arcs)),s}function y(e){var t,n=e[0],r=e[1];return r<n&&(t=n,n=r,r=t),n+31*r}function g(e,t){var n,r=e[0],o=e[1],i=t[0],a=t[1];return o<r&&(n=r,r=o,o=n),a<i&&(n=i,i=a,a=n),r===i&&o===a}},99256:(e,t,n)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.copyright=void 0;var o=null!==(r="".concat("xbsj-xe2","/").concat(n.j))&&void 0!==r?r:"-",i=((Date.now()-1702091535e3)/36e5).toFixed(1),a="%c🌏 ".concat(o,"%c ").concat("0.1.0",".").concat("43e254ce2f0180fc62dca04488232442ee13fbed".slice(0,8),".").concat("2023-12-09T03:12:15.000Z"," (距今").concat(i,"个小时)\n%c").concat("xbsj-xe2\n","当前网站正在使用").concat(o,"，此软件版权归").concat("北京西部世界科技有限公司","所有\n");t.copyright=Object.seal({get owner(){return"北京西部世界科技有限公司"},get ownerlink(){return"https://work.weixin.qq.com/kfid/kfc0a426187a0ce9a9a"},get gituri(){return"https://codeup.aliyun.com/xbsj/2022/xe2-packages-202210/commit/${commitId}".replace("${commitId}","43e254ce2f0180fc62dca04488232442ee13fbed")},get info(){return a},get date(){return"2023-12-09T03:12:15.000Z"},get author(){return"vtxf, ysp"},get version(){return"0.1.0"},get name(){return"xbsj-xe2"},get commitId(){return"43e254ce2f0180fc62dca04488232442ee13fbed"},print:function(e){void 0===e&&(e=!1),!e&&window._xe2_no_copy_print||console.info(this.info,"\n            font-size: 18px;\n            font-weight: 1000;\n            line-height: 1;\n            color: rgb(0, 120, 215);\n            padding-top: 20px;\n            padding-bottom: 10px;\n            ","\n            font-size: 10px;\n            font-weight: 1000;\n            color: rgb(0, 120, 215);\n            ","\n            font-size: 10px;\n            line-height: 1.5;\n            color: rgb(0, 120, 215);\n            padding-bottom: 2px;\n            padding-left: 35px;\n            ")}}),window.g_xe2CopyRights=window.g_xe2CopyRights||{},window.g_xe2CopyRights[o]=t.copyright},71007:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.createCzm3DTiles=void 0;var l=i(n(2003)),u=n(69767),c=n(323),p=n(69375),f=n(69375),d=n(91206);t.createCzm3DTiles=function(e,t,n){var r,o,i,h,y,g,m;return a(this,void 0,void 0,(function(){var a,v,b,_;return s(this,(function(s){switch(s.label){case 0:if(a=t,!t.startsWith("Ion("))return[3,5];if(!(v=/Ion\((\d+)/.exec(t)))return[3,5];b=v[1]&&+v[1],s.label=1;case 1:return s.trys.push([1,4,,5]),b?[4,l.IonResource.fromAssetId(b)]:[3,3];case 2:a=s.sent(),s.label=3;case 3:return[3,5];case 4:return _=s.sent(),console.error("Ion资源未能获取到 error: ".concat(_),_),[2];case 5:return[4,l.Cesium3DTileset.fromUrl(a,{show:e.show,shadows:e.shadows&&p.czmPropMaps.shadowPropsMap[e.shadows],maximumScreenSpaceError:e.maximumScreenSpaceError,maximumMemoryUsage:e.maximumMemoryUsage,cullWithChildrenBounds:e.cullWithChildrenBounds,cullRequestsWhileMoving:e.cullRequestsWhileMoving,cullRequestsWhileMovingMultiplier:e.cullRequestsWhileMovingMultiplier,preloadWhenHidden:e.preloadWhenHidden,preloadFlightDestinations:e.preloadFlightDestinations,preferLeaves:e.preferLeaves,dynamicScreenSpaceError:e.dynamicScreenSpaceError,dynamicScreenSpaceErrorDensity:e.dynamicScreenSpaceErrorDensity,dynamicScreenSpaceErrorFactor:e.dynamicScreenSpaceErrorFactor,dynamicScreenSpaceErrorHeightFalloff:e.dynamicScreenSpaceErrorHeightFalloff,progressiveResolutionHeightFraction:e.progressiveResolutionHeightFraction,foveatedScreenSpaceError:e.foveatedScreenSpaceError,foveatedConeSize:e.foveatedConeSize,foveatedMinimumScreenSpaceErrorRelaxation:e.foveatedMinimumScreenSpaceErrorRelaxation,foveatedInterpolationCallback:e.foveatedInterpolationCallbackStr&&Function('"use strict";return ('+e.foveatedInterpolationCallbackStr+")")(),foveatedTimeDelay:e.foveatedTimeDelay,skipLevelOfDetail:e.skipLevelOfDetail,baseScreenSpaceError:e.baseScreenSpaceError,skipScreenSpaceErrorFactor:e.skipScreenSpaceErrorFactor,skipLevels:e.skipLevels,immediatelyLoadDesiredLevelOfDetail:e.immediatelyLoadDesiredLevelOfDetail,loadSiblings:e.loadSiblings,classificationType:p.czmPropMaps.classificationTypeMap[null!==(r=e.classificationType)&&void 0!==r?r:c.Czm3DTiles.defaults.classificationType],lightColor:e.lightColor&&(0,u.toCartesian3)(e.lightColor),backFaceCulling:null!==(o=e.backFaceCulling)&&void 0!==o?o:c.Czm3DTiles.defaults.backFaceCulling,showOutline:null!==(i=e.showOutline)&&void 0!==i?i:c.Czm3DTiles.defaults.showOutline,debugHeatmapTilePropertyName:e.debugHeatmapTilePropertyName,debugFreezeFrame:e.debugFreezeFrame,debugColorizeTiles:e.debugColorizeTiles,debugWireframe:e.debugWireframe,debugShowBoundingVolume:e.debugShowBoundingVolume,debugShowContentBoundingVolume:e.debugShowContentBoundingVolume,debugShowViewerRequestVolume:e.debugShowViewerRequestVolume,debugShowGeometricError:e.debugShowGeometricError,debugShowRenderingStatistics:e.debugShowRenderingStatistics,debugShowMemoryUsage:e.debugShowMemoryUsage,debugShowUrl:e.debugShowUrl,customShader:n,ellipsoid:(0,u.toEllipsoid)(null!==(h=e.ellipsoid)&&void 0!==h?h:c.Czm3DTiles.defaults.ellipsoid),modelMatrix:e.modelMatrix&&l.Matrix4.fromArray(e.modelMatrix),clippingPlanes:e.clippingPlanes&&(0,f.createClippingPlaneCollection)(e.clippingPlanes),imageBasedLighting:e.imageBasedLighting&&(0,d.getImageBasedLighting)(e.imageBasedLighting),splitDirection:l.SplitDirection[null!==(y=e.splitDirection)&&void 0!==y?y:c.Czm3DTiles.defaults.splitDirection],modelUpAxis:e.modelUpAxis&&l.Axis[e.modelUpAxis],modelForwardAxis:e.modelForwardAxis&&l.Axis[e.modelForwardAxis],featureIdLabel:null!==(g=e.featureIdLabel)&&void 0!==g?g:c.Czm3DTiles.defaults.featureIdLabel,instanceFeatureIdLabel:null!==(m=e.instanceFeatureIdLabel)&&void 0!==m?m:c.Czm3DTiles.defaults.instanceFeatureIdLabel,outlineColor:e.outlineColor&&(0,u.toColor)(e.outlineColor),pointCloudShading:e.pointCloudShading,enableShowOutline:e.enableShowOutline,vectorClassificationOnly:e.vectorClassificationOnly,vectorKeepDecodedPositions:e.vectorKeepDecodedPositions,showCreditsOnScreen:e.showCreditsOnScreen,projectTo2D:e.projectTo2D,enableDebugWireframe:e.enableDebugWireframe})];case 6:return[2,s.sent()]}}))}))}},91206:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getImageBasedLighting=void 0;var a=i(n(2003)),s=n(10070);t.getImageBasedLighting=function(e){var t=e.imageBasedLightingFactor,n=e.luminanceAtZenith,r=e.sphericalHarmonicCoefficients,o=e.specularEnvironmentMaps,i={imageBasedLightingFactor:t&&new a.Cartesian2(t[0],t[1]),luminanceAtZenith:n,sphericalHarmonicCoefficients:r&&r.map((function(e){return new a.Cartesian3(e[0],e[1],e[2])})),specularEnvironmentMaps:o&&s.SceneObject.context.getStrFromEnv(o)};return new a.ImageBasedLighting(i)}},435:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRecreateEvents=void 0,t.getRecreateEvents=function(e){return[e.classificationTypeChanged,e.ellipsoidChanged,e.modelUpAxisChanged,e.modelForwardAxisChanged,e.cullWithChildrenBoundsChanged,e.enableShowOutlineChanged,e.projectTo2DChanged,e.debugHeatmapTilePropertyNameChanged,e.enableDebugWireframeChanged,e.vectorClassificationOnlyChanged,e.vectorKeepDecodedPositionsChanged]}},92621:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSimpleUpdateEvents=void 0,t.getSimpleUpdateEvents=function(e){return[e.showChanged,e.shadowsChanged,e.maximumScreenSpaceErrorChanged,e.maximumMemoryUsageChanged,e.cullRequestsWhileMovingChanged,e.cullRequestsWhileMovingMultiplierChanged,e.preloadWhenHiddenChanged,e.preloadFlightDestinationsChanged,e.preferLeavesChanged,e.dynamicScreenSpaceErrorChanged,e.dynamicScreenSpaceErrorDensityChanged,e.dynamicScreenSpaceErrorFactorChanged,e.dynamicScreenSpaceErrorHeightFalloffChanged,e.progressiveResolutionHeightFractionChanged,e.foveatedScreenSpaceErrorChanged,e.foveatedConeSizeChanged,e.foveatedMinimumScreenSpaceErrorRelaxationChanged,e.foveatedTimeDelayChanged,e.skipLevelOfDetailChanged,e.baseScreenSpaceErrorChanged,e.skipScreenSpaceErrorFactorChanged,e.skipLevelsChanged,e.immediatelyLoadDesiredLevelOfDetailChanged,e.loadSiblingsChanged,e.lightColorChanged,e.backFaceCullingChanged,e.showOutlineChanged,e.outlineColorChanged,e.featureIdLabelChanged,e.instanceFeatureIdLabelChanged,e.showCreditsOnScreenChanged,e.splitDirectionChanged,e.debugFreezeFrameChanged,e.debugColorizeTilesChanged,e.debugWireframeChanged,e.debugShowBoundingVolumeChanged,e.debugShowContentBoundingVolumeChanged,e.debugShowViewerRequestVolumeChanged,e.debugShowGeometricErrorChanged,e.debugShowRenderingStatisticsChanged,e.debugShowMemoryUsageChanged,e.debugShowUrlChanged,e.enableShowOutlineChanged]}},77111:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getStyleFromJson=void 0;var a=i(n(2003));t.getStyleFromJson=function(e){if(e)try{return new a.Cesium3DTileStyle(e)}catch(e){return void console.error("Cesium3DTiles style error: ".concat(e),e)}}},76101:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},c=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},p=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzm3DTiles=void 0;var f=n(69767),d=n(43938),h=n(19239),y=n(10070),g=s(n(2003)),m=n(75125),v=n(323),b=n(25558),_=n(71007),w=n(435),P=n(92621),C=n(77111),O=n(94459),x=n(79913),S=function(e){function t(t,n){var r=e.call(this)||this;r._tileset=t,r._czmCzm3DTiles=n;var o=r,i=o.tileset,a=o.czmCzm3DTiles.sceneObject,s=function(){var e;i.clippingPlanes?(0,b.setClippingPlaneCollection)(i.clippingPlanes,a.clippingPlanes):i.clippingPlanes=(0,b.createClippingPlaneCollection)(null!==(e=a.clippingPlanes)&&void 0!==e?e:{enabled:!1})};return s(),r.dispose(a.clippingPlanesChanged.disposableOn(s)),r}return o(t,e),Object.defineProperty(t.prototype,"tileset",{get:function(){return this._tileset},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmCzm3DTiles",{get:function(){return this._czmCzm3DTiles},enumerable:!1,configurable:!0}),t}(h.Destroyable),E=function(e){function t(t,n,r){var o=e.call(this)||this;o._tileset=t,o._czmCzm3DTiles=n,o._updateMatrixEvent=r;var i=o,a=i.tileset,s=i.czmCzm3DTiles,l=s.sceneObject,u=g.Matrix4.multiply(a.modelMatrix,a._root.transform,new g.Matrix4),c=g.Matrix4.inverseTransformation(u,new g.Matrix4),p=function(){var e;a.clippingPlanes?(0,b.setClippingPlaneCollection)(a.clippingPlanes,l.clippingPlanes,c):a.clippingPlanes=(0,b.createClippingPlaneCollection)(null!==(e=l.clippingPlanes)&&void 0!==e?e:{enabled:!1},c)};p();var f=o.disposeVar((0,y.createNextAnimateFrameEvent)(l.clippingPlanesChanged,s.originRootTransformInvChanged,o._updateMatrixEvent));return o.dispose(f.disposableOn(p)),o}return o(t,e),Object.defineProperty(t.prototype,"tileset",{get:function(){return this._tileset},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmCzm3DTiles",{get:function(){return this._czmCzm3DTiles},enumerable:!1,configurable:!0}),t}(h.Destroyable);function j(e,t){var n=t.sceneObject;if(n.modelMatrix)g.Matrix4.clone(g.Matrix4.fromArray(n.modelMatrix),e.modelMatrix);else if(n.position){var r=e._root.transform,o=(0,f.computeCzmModelMatrix)({initialRotation:"xForwardzUp",reverseInitialRotation:!0,rotation:n.rotation,position:n.position});if(o){var i=g.Matrix4.inverseTransformation(r,new g.Matrix4);g.Matrix4.multiply(o,i,e.modelMatrix)}else console.warn("modelMatrix is undefined!")}else g.Matrix4.clone(g.Matrix4.IDENTITY,e.modelMatrix)}var T=function(e){function t(t,n,r,o){var i=e.call(this)||this;i._tileset=t,i._czmCzm3DTiles=n,i._czmNativeViewer=r,i._czmViewer=o,i._updateMatrixEvent=i.disposeVar((0,y.createNextAnimateFrameEvent)(i.sceneObject.positionChanged,i.sceneObject.rotationChanged,i.sceneObject.modelMatrixChanged)),i._updateMatrix=(j(i.tileset,i.czmCzm3DTiles),void i.dispose(i._updateMatrixEvent.disposableOn((function(){return j(i.tileset,i.czmCzm3DTiles)})))),i._clippingPlanesCollectionResetting=i.disposeVar(new y.ObjResettingWithEvent(i.sceneObject.absoluteClippingPlanesChanged,(function(){return i.sceneObject.absoluteClippingPlanes?new E(i.tileset,i.czmCzm3DTiles,i._updateMatrixEvent):new S(i.tileset,i.czmCzm3DTiles)})));var a=i,s=a.sceneObject,l=a.tileset,u=a.czmCzm3DTiles;if(!i._tileset.ready)throw new Error("!this._tileset.ready");var f=i.disposeVar(y.createNextAnimateFrameEvent.apply(void 0,p([],c((0,P.getSimpleUpdateEvents)(s)),!1)));return(0,d.registerEventUpdate)(i,f,(function(){(0,O.updateSimpleProps)(l,s)})),(0,d.registerEventUpdate)(i,s.foveatedInterpolationCallbackChanged,(function(){l.foveatedInterpolationCallback=s.foveatedInterpolationCallback})),(0,d.registerEventUpdate)(i,u.styleChanged,(function(){l.style=u.style})),(0,d.registerEventUpdate)(i,s.pointCloudShadingChanged,(function(){!function(e,t){console.warn("Czm3DTiles暂不支持pointCloudShading属性"),e.pointCloudShading=new g.PointCloudShading(t.pointCloudShading)}(l,s)})),(0,d.registerEventUpdate)(i,s.imageBasedLightingChanged,(function(){console.warn("Czm3DTiles暂不支持imageBasedLighting属性")})),(0,d.registerEventUpdate)(i,u.customShaderInstanceChanged,(function(){var e;l.customShader=null===(e=u.customShaderInstance)||void 0===e?void 0:e.customShader})),(0,d.registerEventUpdate)(i,s.xbsjFlattenedChanged,(function(){l.xbsjFlattened=s.xbsjFlattened})),(0,d.registerEventUpdate)(i,s.xbsjFlattenedBoundChanged,(function(){l.xbsjFlattenedBound=g.Cartesian4.fromArray(s.xbsjFlattenedBound)})),(0,d.registerEventUpdate)(i,s.xbsjElevationMatrixChanged,(function(){l.xbsjElevationMatrix=g.Matrix4.fromArray(s.xbsjElevationMatrix)})),(0,d.registerEventUpdate)(i,s.sharedXbsjFlattenedTextureWithId.sceneObjectChanged,(function(){s.sharedXbsjFlattenedTextureWithId.sceneObject,l.xbsjGetFlattenedTextureFunc=function(){var e=s.getSharedXbsjFlattenedTexture();if(e&&e instanceof v.CzmTexture){var t=i._czmViewer.getCzmObject(e);if(t&&t instanceof x.CzmCzmTexture&&t.texture)return t.texture}}})),i.dispose(s.flyToEvent.disposableOn((function(e){u.czmViewer.actived&&i.tileset&&i._czmNativeViewer.camera.flyToBoundingSphere(i.tileset.boundingSphere,{duration:(null!=e?e:1e3)/1e3})}))),i}return o(t,e),Object.defineProperty(t.prototype,"tileset",{get:function(){return this._tileset},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmCzm3DTiles",{get:function(){return this._czmCzm3DTiles},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneObject",{get:function(){return this.czmCzm3DTiles.sceneObject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clippingPlanesCollectionResetting",{get:function(){return this._clippingPlanesCollectionResetting},enumerable:!1,configurable:!0}),t}(h.Destroyable),M=function(e){function t(t,n,r,o){var i,a=this;if((a=e.call(this)||this)._url=t,a._czmCzm3DTiles=n,a._czmNativeViewer=r,a._czmViewer=o,a._tileset=a.disposeVar((0,h.react)(void 0)),a._readyResetting=a.disposeVar(new y.ObjResettingWithEvent(a.tilesetChanged,(function(){if(a.tileset)return new T(a.tileset,a.czmCzm3DTiles,a._czmNativeViewer,a._czmViewer)}))),!a.url)throw new Error("!url");var s=null===(i=a.czmCzm3DTiles.customShaderInstance)||void 0===i?void 0:i.customShader,c=a.disposeVar((0,y.createProcessingFromAsyncFunc)((function(e){return l(a,void 0,void 0,(function(){var t,n=this;return u(this,(function(r){switch(r.label){case 0:return[4,e.promise((0,_.createCzm3DTiles)(this.sceneObject,this.url,s))];case 1:return(t=r.sent())?(t.style=this.czmCzm3DTiles.style,t.foveatedInterpolationCallback=this.sceneObject.foveatedInterpolationCallback,this._czmNativeViewer.scene.primitives.add(t),this.dispose((function(){return n._czmNativeViewer.scene.primitives.remove(t)})),[4,e.promise(t.readyPromise)]):[2];case 2:return r.sent(),this._tileset.value=t,this.sceneObject.notifyCzmTilesetReady(t,this.czmCzm3DTiles),[2]}}))}))})));return c.start(),a}return o(t,e),Object.defineProperty(t.prototype,"url",{get:function(){return this._url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmCzm3DTiles",{get:function(){return this._czmCzm3DTiles},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneObject",{get:function(){return this.czmCzm3DTiles.sceneObject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmViewer",{get:function(){return this.czmCzm3DTiles.czmViewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tileset",{get:function(){return this._tileset.value},set:function(e){this._tileset.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tilesetChanged",{get:function(){return this._tileset.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"readyResetting",{get:function(){return this._readyResetting},enumerable:!1,configurable:!0}),t}(h.Destroyable),A=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._customShaderInstance=r.disposeVar((0,h.react)(void 0)),r._style=r.disposeVar((0,h.react)(void 0)),r._originRootTransform=r.disposeVar((0,h.react)(void 0)),r._originRootTransformInv=r.disposeVar((0,h.react)(void 0)),r._urlReact=r.disposeVar(y.SceneObject.context.createEvnStrReact([r.sceneObject,"url"])),r._recreateEvent=r.disposeVar(y.createNextAnimateFrameEvent.apply(void 0,p([r._urlReact.changed],c((0,w.getRecreateEvents)(r.sceneObject)),!1))),r._nativeTilesetResetting=r.disposeVar(new y.ObjResettingWithEvent(r._recreateEvent,(function(){var e=r._urlReact.value;if(e)return new M(e,r,r.czmViewer.viewer,r.czmViewer)}))),n.viewer?(0,m.getViewerExtensions)(n.viewer)?(r.disposeVar(y.SceneObject.context.createEvnStrReact([t,"url"])),(0,d.registerEventUpdate)(r,t.styleJsonChanged,(function(){return r.style=(0,C.getStyleFromJson)(t.styleJson)})),(0,d.registerEventUpdate)(r,t.customShaderInstanceClassChanged,(function(){var e=t.customShaderInstanceClass;r.customShaderInstance=e&&new e(t,n)})),r.dispose(t.updateCustomShaderEvent.disposableOn((function(e){r.customShaderInstance&&e(r.customShaderInstance,t,n)}))),r.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var o=e.czmPickResult;o&&null!==(n=t.allowPicking)&&void 0!==n&&n&&r.tileset&&o.primitive===r.tileset&&t.pickedEvent.emit(new d.SceneObjectPickedInfo(t,e))}}))),r):r:(console.warn("viewer is undefined!"),r)}var n;return o(t,e),Object.defineProperty(t.prototype,"customShaderInstance",{get:function(){return this._customShaderInstance.value},set:function(e){this._customShaderInstance.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"customShaderInstanceChanged",{get:function(){return this._customShaderInstance.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style.value},set:function(e){this._style.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleChanged",{get:function(){return this._style.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originRootTransform",{get:function(){return this._originRootTransform.value},set:function(e){this._originRootTransform.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originRootTransformChanged",{get:function(){return this._originRootTransform.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originRootTransformInv",{get:function(){return this._originRootTransformInv.value},set:function(e){this._originRootTransformInv.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originRootTransformInvChanged",{get:function(){return this._originRootTransformInv.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nativeTilesetResetting",{get:function(){return this._nativeTilesetResetting},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tileset",{get:function(){var e;return null===(e=this.nativeTilesetResetting.obj)||void 0===e?void 0:e.tileset},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tilesetChanged",{get:function(){return this.nativeTilesetResetting.objChanged},enumerable:!1,configurable:!0}),n=t,t.type=n.register(v.Czm3DTiles.type,n),t}(m.CzmObject);t.CzmCzm3DTiles=A},94459:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.updateSimpleProps=void 0;var a=i(n(2003)),s=n(69767),l=n(323),u=n(69375);t.updateSimpleProps=function(e,t){var n,r,o,i,c,p,f,d,h,y,g,m,v,b,_,w,P,C,O,x,S,E,j,T,M,A,I,N,D,z,R,k,L,F,B,V,G,U,W,J,H,q;e.show=null===(n=t.show)||void 0===n||n,e.shadows=null!==(r=t.shadows&&u.czmPropMaps.shadowPropsMap[t.shadows])&&void 0!==r?r:u.czmPropMaps.shadowPropsMap.ENABLED,e.maximumScreenSpaceError=null!==(o=t.maximumScreenSpaceError)&&void 0!==o?o:16,e.maximumMemoryUsage=null!==(i=t.maximumMemoryUsage)&&void 0!==i?i:512,e.cullRequestsWhileMoving=null===(c=t.cullRequestsWhileMoving)||void 0===c||c,e.cullRequestsWhileMovingMultiplier=null!==(p=t.cullRequestsWhileMovingMultiplier)&&void 0!==p?p:60,e.preloadWhenHidden=null!==(f=t.preloadWhenHidden)&&void 0!==f&&f,e.preloadFlightDestinations=null===(d=t.preloadFlightDestinations)||void 0===d||d,e.preferLeaves=null!==(h=t.preferLeaves)&&void 0!==h&&h,e.dynamicScreenSpaceError=null!==(y=t.dynamicScreenSpaceError)&&void 0!==y&&y,e.dynamicScreenSpaceErrorDensity=null!==(g=t.dynamicScreenSpaceErrorDensity)&&void 0!==g?g:.00278,e.dynamicScreenSpaceErrorFactor=null!==(m=t.dynamicScreenSpaceErrorFactor)&&void 0!==m?m:4,e.dynamicScreenSpaceErrorHeightFalloff=null!==(v=t.dynamicScreenSpaceErrorHeightFalloff)&&void 0!==v?v:.25,e.progressiveResolutionHeightFraction=null!==(b=t.progressiveResolutionHeightFraction)&&void 0!==b?b:.3,e.foveatedScreenSpaceError=null===(_=t.foveatedScreenSpaceError)||void 0===_||_,e.foveatedConeSize=null!==(w=t.foveatedConeSize)&&void 0!==w?w:.1,e.foveatedMinimumScreenSpaceErrorRelaxation=null!==(P=t.foveatedMinimumScreenSpaceErrorRelaxation)&&void 0!==P?P:0,e.foveatedTimeDelay=null!==(C=t.foveatedTimeDelay)&&void 0!==C?C:.2,e.skipLevelOfDetail=null!==(O=t.skipLevelOfDetail)&&void 0!==O&&O,e.baseScreenSpaceError=null!==(x=t.baseScreenSpaceError)&&void 0!==x?x:1024,e.skipScreenSpaceErrorFactor=null!==(S=t.skipScreenSpaceErrorFactor)&&void 0!==S?S:16,e.skipLevels=null!==(E=t.skipLevels)&&void 0!==E?E:1,e.immediatelyLoadDesiredLevelOfDetail=null!==(j=t.immediatelyLoadDesiredLevelOfDetail)&&void 0!==j&&j,e.loadSiblings=null!==(T=t.loadSiblings)&&void 0!==T&&T,e.lightColor=null!==(M=t.lightColor&&(0,s.toCartesian)(t.lightColor))&&void 0!==M?M:(0,s.toCartesian)([1,1,1]),e.backFaceCulling=null===(A=t.backFaceCulling)||void 0===A||A,e.showOutline=null===(I=t.showOutline)||void 0===I||I,e.outlineColor=(0,s.toColor)(null!==(N=t.outlineColor)&&void 0!==N?N:[1,1,1,1]),e.featureIdLabel=null!==(D=t.featureIdLabel)&&void 0!==D?D:l.Czm3DTiles.defaults.featureIdLabel,e.instanceFeatureIdLabel=null!==(z=t.instanceFeatureIdLabel)&&void 0!==z?z:l.Czm3DTiles.defaults.instanceFeatureIdLabel,e.showCreditsOnScreen=null!==(R=t.showCreditsOnScreen)&&void 0!==R&&R,e.splitDirection=a.SplitDirection[null!==(k=t.splitDirection)&&void 0!==k?k:l.Czm3DTiles.defaults.splitDirection],e.debugFreezeFrame=null!==(L=t.debugFreezeFrame)&&void 0!==L&&L,e.debugColorizeTiles=null!==(F=t.debugColorizeTiles)&&void 0!==F&&F,e.debugWireframe=null!==(B=t.debugWireframe)&&void 0!==B&&B,e.debugShowBoundingVolume=null!==(V=t.debugShowBoundingVolume)&&void 0!==V&&V,e.debugShowContentBoundingVolume=null!==(G=t.debugShowContentBoundingVolume)&&void 0!==G&&G,e.debugShowViewerRequestVolume=null!==(U=t.debugShowViewerRequestVolume)&&void 0!==U&&U,e.debugShowGeometricError=null!==(W=t.debugShowGeometricError)&&void 0!==W&&W,e.debugShowRenderingStatistics=null!==(J=t.debugShowRenderingStatistics)&&void 0!==J&&J,e.debugShowMemoryUsage=null!==(H=t.debugShowMemoryUsage)&&void 0!==H&&H,e.debugShowUrl=null!==(q=t.debugShowUrl)&&void 0!==q&&q}},8965:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmBackLayerCloudCollection=void 0;var u=s(n(2003)),c=n(69767),p=n(75125),f=n(323),d=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)throw new Error("viewer is undefined!");var i=new u.CloudCollection;r._cloudCollection=i,o.scene.primitives.add(i),r.dispose((function(){return o.scene.primitives.remove(i)})),(a=function(){i.show=t.show})(),r.dispose(t.showChanged.disposableOn(a));var a,s=function(e){var t,n,r,o,i;return{slice:null!==(t=e.slice)&&void 0!==t?t:f.CzmBackLayerCloudCollection.defaults.slice,brightness:null!==(n=e.brightness)&&void 0!==n?n:f.CzmBackLayerCloudCollection.defaults.brightness,scale:(0,c.toCartesian2)(null!==(r=e.scale)&&void 0!==r?r:f.CzmBackLayerCloudCollection.defaults.scale),maximumSize:(0,c.toCartesian3)(null!==(o=e.maximumSize)&&void 0!==o?o:f.CzmBackLayerCloudCollection.defaults.maximumSize),color:(0,c.toColor)(null!==(i=e.color)&&void 0!==i?i:f.CzmBackLayerCloudCollection.defaults.color),position:(0,c.positionToCartesian)(e.position)}};return(a=function(){var e,n;i.removeAll();try{for(var r=l(t.option),o=r.next();!o.done;o=r.next()){var a=o.value;i.add(s(a))}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}})(),r.dispose(t.optionChanged.disposableOn(a)),r.dispose(t.flyToEvent.disposableOn((function(e){console.warn("当前没有位置信息，无法飞入！")}))),r}var n;return o(t,e),Object.defineProperty(t.prototype,"cloudCollection",{get:function(){return this._cloudCollection},enumerable:!1,configurable:!0}),n=t,t.type=n.register(f.CzmBackLayerCloudCollection.type,n),t}(p.CzmObject);t.CzmCzmBackLayerCloudCollection=d},13132:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmBackLayerCloud=void 0;var l=n(10070),u=s(n(2003)),c=n(69767),p=n(75125),f=n(323),d=n(60783),h=function(e){function t(t,n){var r,o,i=e.call(this,t,n)||this,a=n.viewer;if(!a)return console.warn("viewer is undefined!"),i;var s=function(){a.scene.primitives.remove(o),a.scene.primitives.remove(r),r=void 0,o=void 0};i.dispose(s),s(),r=new u.CloudCollection,o=r.add({}),a.scene.primitives.add(r);var p=i.disposeVar((0,l.createNextAnimateFrameEvent)(t.showChanged,t.positionChanged,t.scaleChanged,t.sliceChanged,t.brightnessChanged,t.maximumSizeChanged,t.colorChanged)),h=function(){var e,n,r,i,a,s;o&&(o.show=null===(e=t.show)||void 0===e||e,t.position&&(o.position=(0,c.positionToCartesian)(t.position)),o.scale=(0,c.toCartesian2)(null!==(n=t.scale)&&void 0!==n?n:f.CzmBackLayerCloud.defaults.scale),o.slice=null!==(r=t.slice)&&void 0!==r?r:f.CzmBackLayerCloud.defaults.slice,o.brightness=null!==(i=t.brightness)&&void 0!==i?i:f.CzmBackLayerCloud.defaults.brightness,o.maximumSize=(0,c.toCartesian3)(null!==(a=t.maximumSize)&&void 0!==a?a:f.CzmBackLayerCloud.defaults.maximumSize),o.color=(0,c.toColor)(null!==(s=t.color)&&void 0!==s?s:f.CzmBackLayerCloud.defaults.color))};return h(),i.dispose(p.disposableOn(h)),i.dispose(t.flyToEvent.disposableOn((function(e){t.position?(0,d.flyTo)(a.scene.camera,t.position,100,void 0,e):console.warn("当前没有位置信息，无法飞入！")}))),i}var n;return o(t,e),n=t,t.type=n.register(f.CzmBackLayerCloud.type,n),t}(p.CzmObject);t.CzmCzmBackLayerCloud=h},29014:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmBillboardPrimitiveCollection=void 0;var l=s(n(2003)),u=n(69767),c=n(10070),p=n(75125),f=n(323),d=n(69375),h=function(e){function t(t,n){var r,o=e.call(this,t,n)||this,i=n.viewer;if(!i)return console.warn("viewer is undefined!"),o;if(!(0,p.getViewerExtensions)(n.viewer))return o;var a=function(){r&&(r.removeAll(),i.scene.primitives.remove(r),r=void 0)};o.dispose(a);var s=function(){var e,n,o,s;a(),s=new l.BillboardCollection({show:null===(e=t.show)||void 0===e||e,debugShowBoundingVolume:null!==(n=t.debugShowBoundingVolume)&&void 0!==n&&n,blendOption:null!==(o=t.blendOption&&d.czmPropMaps.blendOptionType[t.blendOption])&&void 0!==o?o:l.BlendOption.OPAQUE_AND_TRANSLUCENT}),r=t.billboardPrimitiveOptions?(t.billboardPrimitiveOptions.forEach((function(e){s.add({show:e.show,position:e.position&&(0,u.positionToCartesian)(e.position),color:e.color&&(0,u.toColor)(e.color),pixelOffset:e.pixelOffset&&(0,u.toCartesian2)(e.pixelOffset),eyeOffset:e.eyeOffset&&(0,u.toCartesian3)(e.eyeOffset),heightReference:e.heightReference&&d.czmPropMaps.heightReferencePropsMap[e.heightReference],horizontalOrigin:e.horizontalOrigin&&d.czmPropMaps.horizontalOriginType[e.horizontalOrigin],verticalOrigin:e.verticalOrigin&&d.czmPropMaps.verticalOriginOriginType[e.verticalOrigin],scale:e.scale,image:e.image&&c.SceneObject.context.getStrFromEnv(e.image),rotation:e.rotation,alignedAxis:e.alignedAxis&&(0,u.toCartesian3)(e.alignedAxis),width:e.width,height:e.height,scaleByDistance:e.scaleByDistance&&(0,u.toNearFarScalar)(e.scaleByDistance),translucencyByDistance:e.translucencyByDistance&&(0,u.toNearFarScalar)(e.translucencyByDistance),pixelOffsetScaleByDistance:e.pixelOffsetScaleByDistance&&(0,u.toNearFarScalar)(e.pixelOffsetScaleByDistance),sizeInMeters:e.sizeInMeters,distanceDisplayCondition:e.distanceDisplayCondition&&(0,u.toCartesian2)(e.distanceDisplayCondition)})})),s):s,i.scene.primitives.add(r)};s();var h=o.disposeVar((0,c.createNextAnimateFrameEvent)(t.showChanged,t.debugShowBoundingVolumeChanged,t.blendOptionChanged));o.dispose(h.disposableOn((function(){var e,n,o;r&&(r.show=null!==(e=t.show)&&void 0!==e?e:f.CzmBillboardPrimitiveCollection.defaults.show,r.debugShowBoundingVolume=null!==(n=t.debugShowBoundingVolume)&&void 0!==n?n:f.CzmBillboardPrimitiveCollection.defaults.debugShowBoundingVolume,r.blendOption=null!==(o=t.blendOption&&d.czmPropMaps.blendOptionType[t.blendOption])&&void 0!==o?o:l.BlendOption.OPAQUE_AND_TRANSLUCENT)})));var y=o.disposeVar((0,c.createNextAnimateFrameEvent)(t.billboardPrimitiveOptionsChanged));o.dispose(y.disposableOn((function(){s()})));var g=new l.BoundingSphere;return o.dispose(t.flyToEvent.disposableOn((function(e){if(n.actived&&t.billboardPrimitiveOptions)if(1===t.billboardPrimitiveOptions.length){var r=t.billboardPrimitiveOptions[0].position;if(!r)return;var o=i.scene.camera.positionCartographic.height;(0,u.flyTo)(i.scene.camera,r,o,void 0,e)}else{var a=t.billboardPrimitiveOptions,s=[];a.forEach((function(e){e.position&&s.push(e.position)}));var c=(0,u.positionsToUniqueCartesians)(s);if(l.BoundingSphere.fromPoints(c,g),g.radius>0){var p=(0,u.positionFromCartesian)(g.center);p&&(0,u.flyTo)(i.camera,p,4*g.radius,void 0,e)}}}))),o}var n;return o(t,e),n=t,t.type=n.register(f.CzmBillboardPrimitiveCollection.type,n),t}(p.CzmObject);t.CzmCzmBillboardPrimitiveCollection=h},80888:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmBillboard=void 0;var l=n(43938),u=n(10070),c=s(n(2003)),p=n(69767),f=n(75125),d=n(323),h=n(69375),y=n(60783),g=function(e){function t(t,n){var r,o,i=e.call(this,t,n)||this,a=n.viewer;if(!a)return console.warn("viewer is undefined!"),i;var s=function(){a.scene.primitives.remove(o),a.scene.primitives.remove(r),r=void 0,o=void 0};i.dispose(s),s(),r=new c.BillboardCollection({scene:a.scene}),o=r.add({}),a.scene.primitives.add(r);var g=i.disposeVar((0,u.createNextAnimateFrameEvent)(t.imageChanged,t.positionChanged,t.allowPickingChanged,t.showChanged,t.colorChanged,t.pixelOffsetChanged,t.eyeOffsetChanged,t.heightReferenceChanged,t.horizontalOriginChanged,t.verticalOriginChanged,t.scaleChanged,t.rotationChanged,t.alignedAxisChanged,t.sizeInMetersChanged,t.widthChanged,t.heightChanged,t.scaleByDistanceChanged,t.translucencyByDistanceChanged,t.pixelOffsetScaleByDistanceChanged,t.distanceDisplayConditionChanged)),m=function(){var e,n,r,i,a,s,l,f,y,g,m;o&&(o.show=null===(e=t.show)||void 0===e||e,o.image=u.SceneObject.context.getStrFromEnv(null!==(n=t.image)&&void 0!==n?n:d.CzmBillboard.defaults.image),t.position&&(o.position=(0,p.positionToCartesian)(t.position)),o.color=t.color&&(0,p.toColor)(t.color)||c.Color.WHITE,o.pixelOffset=null!==(r=t.pixelOffset&&(0,p.toCartesian2)(t.pixelOffset))&&void 0!==r?r:c.Cartesian2.ZERO,o.eyeOffset=null!==(i=t.eyeOffset&&(0,p.toCartesian3)(t.eyeOffset))&&void 0!==i?i:c.Cartesian3.ZERO,o.heightReference=null!==(a=t.heightReference&&h.czmPropMaps.heightReferencePropsMap[t.heightReference])&&void 0!==a?a:c.HeightReference.NONE,o.horizontalOrigin=null!==(s=t.horizontalOrigin&&h.czmPropMaps.horizontalOriginType[t.horizontalOrigin])&&void 0!==s?s:c.HorizontalOrigin.CENTER,o.verticalOrigin=null!==(l=t.verticalOrigin&&h.czmPropMaps.verticalOriginOriginType[t.verticalOrigin])&&void 0!==l?l:c.VerticalOrigin.BASELINE,o.scale=null!==(f=t.scale)&&void 0!==f?f:d.CzmBillboard.defaults.scale,o.rotation=null!==(y=t.rotation)&&void 0!==y?y:d.CzmBillboard.defaults.rotation,o.alignedAxis=null!==(g=t.alignedAxis&&(0,p.toCartesian3)(t.alignedAxis))&&void 0!==g?g:c.Cartesian3.ZERO,o.sizeInMeters=null!==(m=t.sizeInMeters)&&void 0!==m?m:d.CzmBillboard.defaults.sizeInMeters,t.width&&(o.width=t.width),t.height&&(o.height=t.height),t.scaleByDistance&&(o.scaleByDistance=(0,p.toNearFarScalar)(t.scaleByDistance)),t.translucencyByDistance&&(o.translucencyByDistance=(0,p.toNearFarScalar)(t.translucencyByDistance)),t.pixelOffsetScaleByDistance&&(o.pixelOffsetScaleByDistance=(0,p.toNearFarScalar)(t.pixelOffsetScaleByDistance)),t.distanceDisplayCondition&&(o.distanceDisplayCondition=(0,p.toDistanceDisplayCondition)(t.distanceDisplayCondition)))};return m(),i.dispose(g.disposableOn(m)),i.dispose(t.flyToEvent.disposableOn((function(){if(t.position){var e=a.scene.camera.positionCartographic.height;(0,y.flyTo)(a.scene.camera,t.position,e,void 0,1e3)}else console.warn("当前没有位置信息，无法飞入！")}))),(0,f.getViewerExtensions)(n.viewer)?(i.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var r=e.czmPickResult;r&&(null!==(n=t.allowPicking)&&void 0!==n?n:d.CzmBillboard.defaults.allowPicking)&&o&&r.primitive===o&&t.pickedEvent.emit(new l.SceneObjectPickedInfo(t,e))}}))),i):i}var n;return o(t,e),n=t,t.type=n.register(d.CzmBillboard.type,n),t}(f.CzmObject);t.CzmCzmBillboard=g},85025:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmBoxEntity=void 0;var l=n(43938),u=s(n(2003)),c=n(69767),p=n(75125),f=n(323),d=n(69375),h=function(e){function t(t,n){var r,o=this;o=e.call(this,t,n)||this;var i=n.viewer;if(!i)return console.warn("viewer is undefined!"),o;var a=i.entities.add({position:void 0,orientation:void 0,box:{}});o.dispose((function(){return i.entities.remove(a)}));var s=new u.Cartesian3;(g=function(){var e=t.position&&(0,c.positionToCartesian)(t.position,s);a.position=e})(),o.dispose(t.positionChanged.disposableOn(g));var h=new u.Quaternion,y=null!==(r=t.rotation)&&void 0!==r?r:[0,0,0];(g=function(){var e=t.position&&(0,c.positionAndRotationToQuaternion)(t.position,y,h);a.orientation=e})(),o.dispose(t.rotationChanged.disposableOn(g)),o.dispose(t.positionChanged.disposableOn(g)),(g=function(){a.show=t.show})(),o.dispose(t.showChanged.disposableOn(g)),(g=function(){a.box.dimensions=t.dimensions&&u.Cartesian3.fromArray(t.dimensions)})(),o.dispose(t.dimensionsChanged.disposableOn(g));var g=function(){var e;null===(e=a.box)||void 0===e||(e.heightReference=t.heightReference&&d.czmPropMaps.heightReferencePropsMap[t.heightReference])};g(),o.dispose(t.heightReferenceChanged.disposableOn(g)),(g=function(){a.box.fill=t.fill})(),o.dispose(t.fillChanged.disposableOn(g));var m=new u.Color;(g=function(){a.box.material=t.material&&(0,c.toColor)(t.material,m)})(),o.dispose(t.materialChanged.disposableOn(g)),(g=function(){a.box.outline=t.outline})(),o.dispose(t.outlineChanged.disposableOn(g));var v=new u.Color;(g=function(){a.box.outlineColor=t.outlineColor&&(0,c.toColor)(t.outlineColor,v)})(),o.dispose(t.outlineColorChanged.disposableOn(g)),(g=function(){a.box.outlineWidth=t.outlineWidth})(),o.dispose(t.outlineWidthChanged.disposableOn(g)),(g=function(){a.box.shadows=t.shadows&&d.czmPropMaps.shadowPropsMap[t.shadows]})(),o.dispose(t.shadowsChanged.disposableOn(g));var b=new u.DistanceDisplayCondition;return(g=function(){a.box.distanceDisplayCondition=t.distanceDisplayCondition&&(0,c.toDistanceDisplayCondition)(t.distanceDisplayCondition,b)})(),o.dispose(t.shadowsChanged.disposableOn(g)),(0,p.getViewerExtensions)(n.viewer)?(o.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var r=e.czmPickResult;r&&(null!==(n=t.allowPicking)&&void 0!==n?n:f.CzmBoxEntity.defaults.allowPicking)&&a&&r.id===a&&t.pickedEvent.emit(new l.SceneObjectPickedInfo(t,e))}}))),o.dispose(t.flyToEvent.disposableOn((function(){n.actived&&(console.log("flyToEvent",a,i),i.flyTo(a))}))),o):o}var n;return o(t,e),n=t,t.type=n.register(f.CzmBoxEntity.type,n),t}(p.CzmObject);t.CzmCzmBoxEntity=h},70107:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},u=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmCameraVideo=void 0;var c=s(n(2003)),p=n(75125),f=n(323),d=n(19239),h=n(69767),y=n(10070),g=n(79913),m=new c.Matrix3;!function(e){function t(t){var n,r,o=e.call(this)||this;return o._videoUrl=t,o._videoElement=(n=o._videoUrl,(r=document.createElement("video")).src=n,r.style.position="absolute",r.style.zIndex="-100",r.style.visibility="hidden",r.crossOrigin="",r.autoplay=!0,r.loop=!0,r.muted=!0,document.body.appendChild(r),r),o._videoElementD=o.dispose((function(){return function(e){document.body.removeChild(e)}(o._videoElement)})),o}o(t,e),Object.defineProperty(t.prototype,"videoElement",{get:function(){return this._videoElement},enumerable:!1,configurable:!0})}(d.Destroyable);var v=function(e){function t(t){var n,r=e.call(this)||this,o=t.sceneObject,i=t.czmViewer,a=i.viewer;if(!a)throw new Error("XbsjCameraVideoResetting error: !viewer");var s=o.position;if(!s)throw new Error("XbsjCameraVideoResetting error: !position");var p=l(o.rotation,3),d=p[0],y=p[1],v=p[2],b=c.Math.toRadians,_=function(e,t){var n=e.position,r=e.heading,o=e.pitch,i=e.roll,a=c.Transforms.eastNorthUpToFixedFrame(n,void 0,void 0),s=c.Matrix3.fromRotationX(c.Math.PI_OVER_TWO,m);return c.Matrix4.multiplyByMatrix3(a,s,a),s=c.Matrix3.fromRotationY(-r,m),c.Matrix4.multiplyByMatrix3(a,s,a),s=c.Matrix3.fromRotationX(o,m),c.Matrix4.multiplyByMatrix3(a,s,a),s=c.Matrix3.fromRotationZ(-i,m),c.Matrix4.multiplyByMatrix3(a,s,a),a}({position:(n=c.Cartesian3).fromDegrees.apply(n,u([],l(s),!1)),heading:b(d),pitch:b(y),roll:b(v)}),w=o.fov,P=o.aspectRatio,C=o.near,O=o.far,x=new c.PerspectiveFrustum({fov:b(w),aspectRatio:P,near:C,far:O}),S=new h.XbsjCameraVideo({inverseViewMatrix:_,frustum:x,showHelperPrimitive:!0});r._xbsjCameraVideo=S,r.dispose((function(){return S.destroy()})),a.scene.primitives.add(S),r.dispose((function(){return a.scene.primitives.remove(S)})),r.xbsjCameraVideo.videoTextureFunc=function(){var e=o.getCurrentCzmTexture();if(e&&e instanceof f.CzmTexture){var t=i.getCzmObject(e);if(t&&t instanceof g.CzmCzmTexture&&t.texture)return t.texture}};var E=function(){S.showHelperPrimitive=t.sceneObject.showHelperPrimitive};return E(),r.dispose(t.sceneObject.showHelperPrimitiveChanged.disposableOn(E)),r}return o(t,e),Object.defineProperty(t.prototype,"xbsjCameraVideo",{get:function(){return this._xbsjCameraVideo},enumerable:!1,configurable:!0}),t}(d.Destroyable),b=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._xbsjCameraVideoResettingEvent=r.disposeVar((0,d.createNextAnimateFrameEvent)(r.sceneObject.showChanged,r.sceneObject.positionChanged,r.sceneObject.rotationChanged,r.sceneObject.fovChanged,r.sceneObject.aspectRatioChanged,r.sceneObject.nearChanged,r.sceneObject.farChanged)),r._xbsjCameraVideoResetting=r.disposeVar(new y.ObjResettingWithEvent(r._xbsjCameraVideoResettingEvent,(function(){if(r.sceneObject.show&&r.sceneObject.position)return new v(r)}))),n.viewer?(r.dispose(t.resetWithCameraInfoEvent.disposableOn((function(){if(n.actived){var e=n.getCameraInfo();e&&(t.position=e.position,t.rotation=e.rotation)}}))),r.dispose(t.flyToEvent.disposableOn((function(e){n.actived&&(t.position?n.flyTo(t.position,0,t.rotation,e):console.warn("CzmCameraVideo无法飞入，因为没有位置：!sceneObject.position"))}))),r):(console.warn("viewer is undefined!"),r)}var n;return o(t,e),Object.defineProperty(t.prototype,"xbsjCameraVideoResetting",{get:function(){return this._xbsjCameraVideoResetting},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xbsjCameraVideoChanged",{get:function(){return this._xbsjCameraVideoResetting.objChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xbsjCameraVideo",{get:function(){var e;return null===(e=this._xbsjCameraVideoResetting.obj)||void 0===e?void 0:e.xbsjCameraVideo},enumerable:!1,configurable:!0}),n=t,t.type=n.register(f.CzmCameraVideo.type,n),t}(p.CzmObject);t.CzmCzmCameraVideo=b},4658:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmCircleGroundPrimitive=void 0;var l=n(43938),u=n(10070),c=s(n(2003)),p=n(69767),f=n(75125),d=n(323),h=n(69375),y=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;r.dispose((function(){r._primitive&&o.scene.primitives.remove(r._primitive),r._primitive=void 0}));var i=r.disposeVar((0,h.createMaterialRef)([t,"material"],d.CzmCircleGroundPrimitive.defaults.material)),a=function(){if(r._primitive&&o.scene.primitives.remove(r._primitive),r._primitive=void 0,t.position&&t.radius&&i.value){var e=(0,p.positionToCartesian)(t.position);r._primitive=function(e,n){var o;if(e&&t.radius){var i=new c.MaterialAppearance({material:n}),a=[],s=new c.GeometryInstance({geometry:new c.CircleGeometry({center:e,radius:t.radius,stRotation:t.stRotation&&c.Math.toRadians(t.stRotation),granularity:function(){var e,n=null!==(e=t.granularity)&&void 0!==e?e:d.CzmCircleGroundPrimitive.defaults.granularity;return 0===t.granularity&&console.error("granularity不能设置为0"),n|=0,n=Math.max(1,n),c.Math.toRadians(n)}(),vertexFormat:c.MaterialAppearance.MaterialSupport.ALL.vertexFormat,ellipsoid:t.ellipsoid&&(0,p.toEllipsoid)(t.ellipsoid)}),id:r});return a.push(s),new c.GroundPrimitive({geometryInstances:a,appearance:i,asynchronous:!1,allowPicking:null!==(o=t.allowPicking)&&void 0!==o?o:d.CzmCircleGroundPrimitive.defaults.allowPicking,compressVertices:!1})}}(e,i.value),r._primitive&&o.scene.primitives.add(r._primitive)}},s=function(){var e,n=null!==(e=t.show)&&void 0!==e?e:d.CzmCircleGroundPrimitive.defaults.show;r._primitive&&(r._primitive.show=n)};a(),s();var y=r.disposeVar((0,u.createNextAnimateFrameEvent)(t.allowPickingChanged,t.positionChanged,t.radiusChanged,t.stRotationChanged,t.granularityChanged,t.ellipsoidChanged,t.materialChanged,i.changed));r.dispose(y.disposableOn((function(){a(),s()})));var g=r.disposeVar((0,u.createNextAnimateFrameEvent)(t.showChanged));return r.dispose(g.disposableOn((function(){s()}))),r.dispose(t.flyToEvent.disposableOn((function(){if(t.position)if(t.radius)(0,p.flyTo)(o.scene.camera,t.position,4*t.radius,void 0,1e3);else{var e=o.scene.camera.positionCartographic.height;(0,p.flyTo)(o.scene.camera,t.position,e,void 0,1e3)}else console.warn("GeoPoint当前没有位置信息，无法飞入！")}))),(0,f.getViewerExtensions)(n.viewer)?(r.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var o=e.czmPickResult;console.log("pickedResult",o,r._primitive),o&&(null!==(n=t.allowPicking)&&void 0!==n?n:d.CzmCircleGroundPrimitive.defaults.allowPicking)&&r._primitive&&o.primitive===r._primitive&&t.pickedEvent.emit(new l.SceneObjectPickedInfo(t,e))}}))),r):r}var n;return o(t,e),n=t,t.type=n.register(d.CzmCircleGroundPrimitive.type,n),t}(f.CzmObject);t.CzmCzmCircleGroundPrimitive=y},61928:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmCircleOutlinePrimitive=void 0;var l=s(n(2003)),u=n(10070),c=n(75125),p=n(323),f=n(69767),d=n(43938),h=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;r.dispose((function(){r._primitive&&o.scene.primitives.remove(r._primitive),r._primitive=void 0}));var i=new l.Color,a=function(){if(r._primitive&&o.scene.primitives.remove(r._primitive),r._primitive=void 0,t.position){var e=(0,f.positionToCartesian)(t.position);e&&(r._primitive=function(e){var n;if(e&&t.radius){var o=new l.PerInstanceColorAppearance({flat:!0,translucent:null===(n=t.translucent)||void 0===n||n}),a=[],s=l.ColorGeometryInstanceAttribute.fromColor(l.Color.WHITE),u=new l.GeometryInstance({geometry:new l.CircleOutlineGeometry({center:e,radius:t.radius,height:t.height,extrudedHeight:t.extrudedHeight,ellipsoid:t.ellipsoid&&(0,f.toEllipsoid)(t.ellipsoid),granularity:function(){var e,n=null!==(e=t.granularity)&&void 0!==e?e:p.CzmCircleOutlinePrimitive.defaults.granularity;return 0===t.granularity&&console.error("granularity不能设置为0"),n|=0,n=Math.max(1,n),l.Math.toRadians(n)}(),numberOfVerticalLines:t.numberOfVerticalLines}),attributes:{color:t.outlineColor?l.ColorGeometryInstanceAttribute.fromColor((0,f.toColor)(t.outlineColor,i)):s},id:r});return a.push(u),new l.Primitive({geometryInstances:a,appearance:o,asynchronous:!1,allowPicking:!1,compressVertices:!1})}}(e),r._primitive&&o.scene.primitives.add(r._primitive))}},s=function(){var e,n=null===(e=t.show)||void 0===e||e;r._primitive&&(r._primitive.show=n)};a(),s();var c=r.disposeVar((0,u.createNextAnimateFrameEvent)(t.positionChanged,t.radiusChanged,t.extrudedHeightChanged,t.heightChanged,t.outlineColorChanged,t.translucentChanged,t.ellipsoidChanged,t.granularityChanged,t.numberOfVerticalLinesChanged));r.dispose(c.disposableOn((function(){a(),s()})));var h=r.disposeVar((0,u.createNextAnimateFrameEvent)(t.showChanged));return r.dispose(h.disposableOn((function(){s()}))),r.dispose(t.flyToEvent.disposableOn((function(){if(t.position){var e=o.scene.camera.positionCartographic.height;(0,f.flyTo)(o.scene.camera,t.position,e,void 0,1e3)}else console.warn("GeoPoint当前没有位置信息，无法飞入！")}))),r.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var o=e.czmPickResult;console.log("pickedResult",o,r._primitive),o&&(null!==(n=t.allowPicking)&&void 0!==n?n:p.CzmCircleOutlinePrimitive.defaults.allowPicking)&&r._primitive&&o.primitive===r._primitive&&t.pickedEvent.emit(new d.SceneObjectPickedInfo(t,e))}}))),r}var n;return o(t,e),n=t,t.type=n.register(p.CzmCircleOutlinePrimitive.type,n),t}(c.CzmObject);t.CzmCzmCircleOutlinePrimitive=h},41671:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmCirclePrimitive=void 0;var l=s(n(2003)),u=n(69767),c=n(10070),p=n(75125),f=n(323),d=n(69375),h=n(43938),y=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;r.dispose((function(){r._primitive&&o.scene.primitives.remove(r._primitive),r._primitive=void 0}));var i=r.disposeVar((0,d.createMaterialRef)([t,"material"])),a=function(){if(r._primitive&&o.scene.primitives.remove(r._primitive),r._primitive=void 0,t.position){var e=(0,u.positionToCartesian)(t.position);e&&i.value&&(r._primitive=function(e,n){var o;if(e&&t.radius){var i=new l.MaterialAppearance({material:n}),a=[],s=new l.GeometryInstance({geometry:new l.CircleGeometry({center:e,height:t.height,extrudedHeight:t.extrudedHeight,radius:t.radius,stRotation:t.stRotation&&l.Math.toRadians(t.stRotation),vertexFormat:l.MaterialAppearance.MaterialSupport.ALL.vertexFormat,ellipsoid:t.ellipsoid&&(0,u.toEllipsoid)(t.ellipsoid),granularity:function(){var e,n=null!==(e=t.granularity)&&void 0!==e?e:f.CzmCirclePrimitive.defaults.granularity;return 0===t.granularity&&console.error("granularity不能设置为0"),n|=0,n=Math.max(1,n),l.Math.toRadians(n)}()}),id:r});return a.push(s),new l.Primitive({geometryInstances:a,appearance:i,asynchronous:!1,allowPicking:null!==(o=t.allowPicking)&&void 0!==o?o:f.CzmCirclePrimitive.defaults.allowPicking,compressVertices:!1})}}(e,i.value),r._primitive&&o.scene.primitives.add(r._primitive))}},s=function(){var e,n=null===(e=t.show)||void 0===e||e;r._primitive&&(r._primitive.show=n)};a(),s();var p=r.disposeVar((0,c.createNextAnimateFrameEvent)(t.allowPickingChanged,t.positionChanged,t.radiusChanged,t.materialChanged,t.extrudedHeightChanged,t.heightChanged,t.ellipsoidChanged,t.granularityChanged,t.stRotationChanged,i.changed));r.dispose(p.disposableOn((function(){a(),s()})));var y=r.disposeVar((0,c.createNextAnimateFrameEvent)(t.showChanged));return r.dispose(y.disposableOn((function(){s()}))),r.dispose(t.flyToEvent.disposableOn((function(){if(t.position)if(t.radius)(0,u.flyTo)(o.scene.camera,t.position,4*t.radius,void 0,1e3);else{var e=o.scene.camera.positionCartographic.height;(0,u.flyTo)(o.scene.camera,t.position,e,void 0,1e3)}else console.warn("GeoPoint当前没有位置信息，无法飞入！")}))),r.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var o=e.czmPickResult;console.log("pickedResult",o,r._primitive),o&&(null!==(n=t.allowPicking)&&void 0!==n?n:f.CzmCirclePrimitive.defaults.allowPicking)&&r._primitive&&o.primitive===r._primitive&&t.pickedEvent.emit(new h.SceneObjectPickedInfo(t,e))}}))),r}var n;return o(t,e),n=t,t.type=n.register(f.CzmCirclePrimitive.type,n),t}(p.CzmObject);t.CzmCzmCirclePrimitive=y},94417:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmClassicNavigator=void 0;var i=n(19239),a=n(75125),s=n(323),l=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;var s=(0,a.getViewerExtensions)(o);if(!s)return r;s.needClassicNavigator();var l=!1,u=function(){var e=s.classicNavigator;e&&(l||(l=!0,r.dispose((0,i.bind)([e,"showCompass"],[t,"showCompass"])),r.dispose((0,i.bind)([e,"compassStyle"],[t,"compassStyle"])),r.dispose((0,i.bind)([e,"showDistanceLegend"],[t,"showDistanceLegend"])),r.dispose((0,i.bind)([e,"distanceLegendStyle"],[t,"distanceLegendStyle"]))))};return u(),r.dispose(s.classicNavigatorChanged.disposableOn(u)),r.dispose((function(){var e=s.classicNavigator;e&&(e.showCompass=!1,e.showDistanceLegend=!1)})),r}var n;return o(t,e),n=t,t.type=n.register(s.CzmClassicNavigator.type,n),t}(a.CzmObject);t.CzmCzmClassicNavigator=l},27337:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},u=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmClassificationPolygonPrimitive=void 0;var c=n(43938),p=n(10070),f=s(n(2003)),d=n(69767),h=n(75125),y=n(323),g=n(69375),m=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;if(!(0,h.getViewerExtensions)(n.viewer))return r;r.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var o=e.czmPickResult;o&&null!==(n=t.allowPicking)&&void 0!==n&&n&&r._primitive&&o.primitive===r._primitive&&t.pickedEvent.emit(new c.SceneObjectPickedInfo(t,e))}})));var i=function(){r._primitive&&(o.scene.primitives.remove(r._primitive),r._primitive=void 0)};r.dispose(i);var a=new f.BoundingSphere,s=function(){if(i(),t.polygonHierarchy){var e=(0,d.positionsToUniqueCartesians)(t.polygonHierarchy.positions);e.length<3?a.radius=-1:(f.BoundingSphere.fromPoints(e,a),r._primitive=function(){var e,n,o;if(t.polygonHierarchy){var i=[],a=new f.GeometryInstance({geometry:new f.PolygonGeometry({vertexFormat:f.MaterialAppearance.MaterialSupport.ALL.vertexFormat,polygonHierarchy:(0,g.createPolygonHierarchy)(t.polygonHierarchy),stRotation:t.stRotation&&f.Math.toRadians(t.stRotation),arcType:t.arcType&&f.ArcType[t.arcType],height:t.height,extrudedHeight:t.extrudedHeight,perPositionHeight:t.perPositionHeight,closeTop:t.closeTop,closeBottom:t.closeBottom,ellipsoid:t.ellipsoid&&(0,d.toEllipsoid)(t.ellipsoid),granularity:void 0!==t.granularity?f.Math.toRadians(t.granularity):void 0}),attributes:{color:f.ColorGeometryInstanceAttribute.fromColor(new((e=f.Color).bind.apply(e,u([void 0],l(null!==(n=t.color)&&void 0!==n?n:y.CzmClassificationPolygonPrimitive.defaults.color),!1)))),show:new f.ShowGeometryInstanceAttribute(!0)},id:r});return i.push(a),new f.ClassificationPrimitive({geometryInstances:i,asynchronous:!1,allowPicking:t.allowPicking,compressVertices:!1,classificationType:(0,y.getCzmClassificationType)(null!==(o=t.classificationType)&&void 0!==o?o:y.CzmClassificationPolygonPrimitive.defaults.classificationType)})}}(),r._primitive&&o.scene.primitives.add(r._primitive))}},m=function(){var e,n=null===(e=t.show)||void 0===e||e;r._primitive&&(r._primitive.show=n)};s(),m();var v=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.polygonHierarchyChanged,t.colorChanged,t.stRotationChanged,t.arcTypeChanged,t.heightChanged,t.extrudedHeightChanged,t.perPositionHeightChanged,t.closeTopChanged,t.closeBottomChanged,t.ellipsoidChanged,t.granularityChanged,t.allowPickingChanged,t.classificationTypeChanged));r.dispose(v.disposableOn((function(){s(),m()})));var b=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.showChanged));return r.dispose(b.disposableOn((function(){m()}))),r.dispose(t.flyToEvent.disposableOn((function(e){if(n.actived&&a.radius>0){var t=(0,d.positionFromCartesian)(a.center);t&&(0,d.flyTo)(o.camera,t,4*a.radius,void 0,e)}}))),r}var n;return o(t,e),n=t,t.type=n.register(y.CzmClassificationPolygonPrimitive.type,n),t}(h.CzmObject);t.CzmCzmClassificationPolygonPrimitive=m},83205:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmClock=void 0;var l=n(323),u=s(n(2003)),c=n(75125),p=n(69767),f=n(19239),d=n(10070),h=n(43938);function y(e){return u.JulianDate.toDate(e).getTime()}function g(e){if(e===u.ClockRange.CLAMPED)return"CLAMPED";if(e===u.ClockRange.LOOP_STOP)return"LOOP_STOP";if(e===u.ClockRange.UNBOUNDED)return"UNBOUNDED";throw new Error("getClockRange error: ".concat(e))}function m(e){if(e===u.ClockStep.SYSTEM_CLOCK)return"SYSTEM_CLOCK";if(e===u.ClockStep.SYSTEM_CLOCK_MULTIPLIER)return"SYSTEM_CLOCK_MULTIPLIER";if(e===u.ClockStep.TICK_DEPENDENT)return"TICK_DEPENDENT";throw new Error("clockStep未知类型: ".concat(e))}var v=function(e){function t(t,n){var r=e.call(this)||this,o=n.viewer;if(!o)throw new Error("!viewer");var i,a=b.czmJulianDateToTimeStamp,s=b.getClockRange,c=b.getClockStep;return(i=function(){var e;return o.clockViewModel.startTime=u.JulianDate.fromDate(new Date(null!==(e=t.startTime)&&void 0!==e?e:(0,h.getDefaultValue)(l.CzmClock.defaults.startTime)))})(),r.dispose((0,p.czmSubscribeAndEvaluate)(o.clockViewModel,"startTime",(function(e){return t.startTime=a(e)}))),r.dispose(t.startTimeChanged.disposableOn(i)),(i=function(){var e;return o.clockViewModel.stopTime=u.JulianDate.fromDate(new Date(null!==(e=t.stopTime)&&void 0!==e?e:(0,h.getDefaultValue)(l.CzmClock.defaults.stopTime)))})(),r.dispose((0,p.czmSubscribeAndEvaluate)(o.clockViewModel,"stopTime",(function(e){return t.stopTime=a(e)}))),r.dispose(t.stopTimeChanged.disposableOn(i)),(i=function(){var e;return o.clockViewModel.currentTime=u.JulianDate.fromDate(new Date(null!==(e=t.currentTime)&&void 0!==e?e:(0,h.getDefaultValue)(l.CzmClock.defaults.currentTime)))})(),r.dispose((0,p.czmSubscribeAndEvaluate)(o.clockViewModel,"currentTime",(function(e){return t.currentTime=a(e)}))),r.dispose(t.currentTimeChanged.disposableOn(i)),(i=function(){var e;return o.clockViewModel.multiplier=null!==(e=t.multiplier)&&void 0!==e?e:l.CzmClock.defaults.multiplier})(),r.dispose((0,p.czmSubscribeAndEvaluate)(o.clockViewModel,"multiplier",(function(e){var n;(null!==(n=t.multiplier)&&void 0!==n?n:l.CzmClock.defaults.multiplier!==e)&&(t.multiplier=e)}))),r.dispose(t.currentTimeChanged.disposableOn(i)),(i=function(){var e;return o.clockViewModel.clockStep=u.ClockStep[null!==(e=t.clockStep)&&void 0!==e?e:l.CzmClock.defaults.clockStep]})(),r.dispose((0,p.czmSubscribeAndEvaluate)(o.clockViewModel,"clockStep",(function(e){var n,r=c(e);(null!==(n=t.clockStep)&&void 0!==n?n:l.CzmClock.defaults.clockStep!==r)&&(t.clockStep=r)}))),r.dispose(t.clockStepChanged.disposableOn(i)),(i=function(){var e;return o.clockViewModel.clockRange=u.ClockRange[null!==(e=t.clockRange)&&void 0!==e?e:l.CzmClock.defaults.clockRange]})(),r.dispose((0,p.czmSubscribeAndEvaluate)(o.clockViewModel,"clockRange",(function(e){var n,r=s(e);(null!==(n=t.clockRange)&&void 0!==n?n:l.CzmClock.defaults.clockRange!==r)&&(t.clockRange=r)}))),r.dispose(t.clockRangeChanged.disposableOn(i)),(i=function(){var e;return o.clockViewModel.shouldAnimate=null!==(e=t.shouldAnimate)&&void 0!==e?e:l.CzmClock.defaults.shouldAnimate})(),r.dispose((0,p.czmSubscribeAndEvaluate)(o.clockViewModel,"shouldAnimate",(function(e){var n;(null!==(n=t.shouldAnimate)&&void 0!==n?n:l.CzmClock.defaults.shouldAnimate!==e)&&(t.shouldAnimate=e)}))),r.dispose(t.shouldAnimateChanged.disposableOn(i)),r}return o(t,e),t}(f.Destroyable),b=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.disposeVar(new d.ObjResettingWithEvent(t.enabledChanged,(function(){var e;return(null!==(e=t.enabled)&&void 0!==e?e:l.CzmClock.defaults.enabled)?new v(t,n):void 0}))),r}var n;return o(t,e),n=t,t.type=n.register(l.CzmClock.type,n),t.czmJulianDateToTimeStamp=y,t.getClockRange=g,t.getClockStep=m,t}(c.CzmObject);t.CzmCzmClock=b},74314:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmCoplanarPolygonPrimitive=void 0;var l=s(n(2003)),u=n(43938),c=n(69767),p=n(10070),f=n(75125),d=n(323),h=n(69375),y=n(60783),g=function(e){function t(t,n){var r,o=e.call(this,t,n)||this,i=n.viewer;if(!i)return console.warn("viewer is undefined!"),o;if(!(0,f.getViewerExtensions)(n.viewer))return o;o.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var o=e.czmPickResult;o&&null!==(n=t.allowPicking)&&void 0!==n&&n&&r&&o.primitive===r&&t.pickedEvent.emit(new u.SceneObjectPickedInfo(t,e))}})));var a=o.disposeVar((0,h.createMaterialRef)([t,"material"],d.CzmCoplanarPolygonPrimitive.defaluts.material)),s=new l.BoundingSphere,g=function(){r&&(i.scene.primitives.remove(r),r=void 0)};o.dispose(g);var m=function(){if(g(),t.polygonHierarchy){var e,n,u,p,f,y=(0,c.positionsToUniqueCartesians)(t.polygonHierarchy.positions);y.length<3||!a.value?s.radius=-1:(l.BoundingSphere.fromPoints(y,s),e=a.value,u=new l.MaterialAppearance({material:e,materialSupport:"Checkerboard"===e.type?l.MaterialAppearance.MaterialSupport.TEXTURED:void 0}),p=[],f=new l.CoplanarPolygonGeometry({vertexFormat:l.MaterialAppearance.MaterialSupport.ALL.vertexFormat,polygonHierarchy:(0,h.createPolygonHierarchy)(null!==(n=t.polygonHierarchy)&&void 0!==n?n:d.CzmCoplanarPolygonPrimitive.defaluts.polygonHierarchy),stRotation:t.stRotation}),p.push(new l.GeometryInstance({geometry:f,id:o})),(r=new l.Primitive({geometryInstances:p,appearance:u,asynchronous:!1,allowPicking:t.allowPicking,compressVertices:!1}))&&i.scene.primitives.add(r))}},v=function(){var e;r&&(r.show=null===(e=t.show)||void 0===e||e)};m(),v();var b=o.disposeVar((0,p.createNextAnimateFrameEvent)(t.polygonHierarchyChanged,t.stRotationChanged,t.allowPickingChanged,a.changed));o.dispose(b.disposableOn((function(){m(),v()})));var _=o.disposeVar((0,p.createNextAnimateFrameEvent)(t.showChanged));return o.dispose(_.disposableOn((function(){v()}))),o.dispose(t.flyToEvent.disposableOn((function(e){if(n.actived&&s.radius>0){var t=(0,c.positionFromCartesian)(s.center);t&&(0,y.flyTo)(i.camera,t,4*s.radius,void 0,e)}}))),o}var n;return o(t,e),n=t,t.type=n.register(d.CzmCoplanarPolygonPrimitive.type,n),t}(f.CzmObject);t.CzmCzmCoplanarPolygonPrimitive=g},18602:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmCursorInfo=void 0;var i=n(323),a=n(19239),s=n(75125),l=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;var i=(0,s.getViewerExtensions)(o);return i?(r.dispose((0,a.bind)([i.cursorPositionInfo,"enabled"],[t,"enabled"])),r.dispose((0,a.track)([t,"cursorPosition"],[i.cursorPositionInfo,"cursorPosition"])),r):r}var n;return o(t,e),n=t,t.type=n.register(i.CzmCursorInfo.type,n),t}(n(75125).CzmObject);t.CzmCzmCursorInfo=l},38253:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},c=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},p=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmCustomGroundRectangle=void 0;var f=n(43938),d=n(19239),h=n(10070),y=s(n(2003)),g=n(75125),m=n(323),v=n(79913),b=function(e){function t(t,n){var r,o,i,a,s=this;s=e.call(this)||this;var l=n.viewer;if(!l)return console.warn("viewer is undefined!"),s;var u=t.rectangle;if(!u)throw new Error("!rectangle");var d=l.scene.groundPrimitives.add(new y.GroundPrimitive({geometryInstances:new y.GeometryInstance({geometry:new y.RectangleGeometry({rectangle:(r=y.Rectangle).fromDegrees.apply(r,p([],c(u),!1)),rotation:y.Math.toRadians(t.rotation),stRotation:y.Math.toRadians(t.stRotation),vertexFormat:y.EllipsoidSurfaceAppearance.VERTEX_FORMAT})}),appearance:new y.EllipsoidSurfaceAppearance({aboveGround:!1}),classificationType:(0,m.getCzmClassificationType)(null!==(i=t.classificationType)&&void 0!==i?i:m.CzmCustomGroundRectangle.defaults.classificationType)}));d.appearance.material=new y.Material({fabric:{type:"Image",uniforms:{image:"",repeat:{x:1,y:1},color:new((o=y.Color).bind.apply(o,p([void 0],c(null!==(a=t.color)&&void 0!==a?a:m.CzmCustomGroundRectangle.defaults.color),!1)))}}}),s.dispose((function(){return l.scene.groundPrimitives.remove(d)}));var h=d.appearance.material._uniforms.image_0;d.appearance.material._uniforms.image_0=function(){do{var e=t.getCurrentCzmTexture();if(!e)break;if(!(e instanceof m.CzmTexture))break;var r=n.getCzmObject(e);if(!r)break;if(!(r instanceof v.CzmCzmTexture))break;if(!r.texture)break;return r.texture}while(0);return h()};var g=function(){var e;d.show=null!==(e=t.show)&&void 0!==e?e:m.CzmCustomGroundRectangle.defaults.show};return g(),s.dispose(t.showChanged.disposableOn(g)),s.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var r=e.czmPickResult;r&&null!==(n=t.allowPicking)&&void 0!==n&&n&&r.primitive===d&&t.pickedEvent.emit(new f.SceneObjectPickedInfo(t,e))}}))),s}return o(t,e),t}(d.Destroyable),_=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)throw console.error("viewer is undefined!"),new Error("viewer is undefined!");if(!(0,g.getViewerExtensions)(o))throw console.error("!viewerExtensions"),new Error("!viewerExtensions");var i,a=r.disposeVar((0,d.createNextAnimateFrameEvent)(t.rectangleChanged,t.rotationChanged,t.stRotationChanged,t.colorChanged,t.allowPickingChanged,t.classificationTypeChanged)),s=function(){i&&(i.destroy(),i=void 0)};r.dispose(s);var c=r.disposeVar((0,h.createProcessingFromAsyncFunc)((function(e){return l(r,void 0,void 0,(function(){var r;return u(this,(function(o){switch(o.label){case 0:return s(),t.rectangle?(r=t.rectangle)[0]>=r[2]||r[1]>=r[3]?(console.warn("r[0] >= r[2] || r[1] >= r[3]"),[2]):r.some((function(e){return!Number.isFinite(e)}))?(console.warn("r.some(e => !Number.isFinite(e))"),[2]):[4,e.promise((0,h.sleep)(300))]:[2];case 1:return o.sent(),i=new b(t,n),[2]}}))}))})));return r.dispose(a.disposableOn((function(){return c.restart()}))),a.emit(),r.dispose(t.flyToEvent.disposableOn((function(e){if(n.actived){var r=t.rectangle;if(r){var o=.5*(r[0]+r[2]),i=.5*(r[1]+r[3]),a=n.getTerrainHeight([o,i]),s=(0,f.geoDistance)([r[0],r[1],0],[r[2],r[3],0]);n.flyTo([o,i,null!=a?a:0],s,void 0,e)}}}))),r}var n;return o(t,e),n=t,t.type=n.register(m.CzmCustomGroundRectangle.type,n),t}(g.CzmObject);t.CzmCzmCustomGroundRectangle=_},29051:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},c=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},p=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},f=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmCustomPrimitive=void 0;var d=n(43938),h=n(19239),y=n(10070),g=s(n(2003)),m=n(69767),v=n(55114),b=n(75125),_=n(323),w=n(69375),P=n(60783),C=n(79913);function O(e){var t=g.Resource.fetchImage({url:e});return t instanceof Promise?t:t?new Promise((function(e,n){t.then(e).otherwise(n)})):Promise.reject("Cesium.Resource.fetchImage error, 可能是参数有问题！")}!function(e){function t(t,n,r){var o=e.call(this)||this;return o._context=t,o._imageUri=n,o._setTextureFunc=r,o._processing=o.disposeVar(function(e,t,n){var r=this;return(0,y.createProcessingFromAsyncFunc)((function(o){return l(r,void 0,void 0,(function(){var r,i,a;return u(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,o.promise((0,y.sleep)(1e3))];case 1:return s.sent(),[4,o.promise((0,y.createCancelablePromise)(O(t)))];case 2:return r=s.sent(),i=function(e,t){return void 0!==t.internalFormat?new g.Texture({context:e,pixelFormat:t.internalFormat,width:t.naturalWidth,height:t.naturalHeight,source:{arrayBufferView:t.bufferView}}):new g.Texture({context:e,source:t})}(e,r),n(i),[3,4];case 3:throw a=s.sent(),n(void 0),a;case 4:return[2]}}))}))}))}(o._context,o._imageUri,o._setTextureFunc)),o._processing.start(),o}o(t,e),Object.defineProperty(t.prototype,"processing",{get:function(){return this._processing},enumerable:!1,configurable:!0})}(h.Destroyable);var x=function(e){function t(t,n){var r=e.call(this,t,n)||this;r._czmViewVisibleDistanceRangeControl=r.disposeVar(new P.CzmViewDistanceRangeControl(r.czmViewer,[r.sceneObject,"viewDistanceRange"],[r.sceneObject,"position"])),r._viewDistanceDebugBinding=(r.dispose((0,h.track)([r._czmViewVisibleDistanceRangeControl,"debug"],[r.sceneObject,"viewDistanceDebug"])),0);var o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;if(!(0,b.getViewerExtensions)(o))return r;var i=o.scene.context,a=o.scene.primitives.add(new w.CzmCustomPrimitive(o.scene));r._nativePrimitive=a,r.dispose((function(){return o.scene.primitives.remove(a)})),r.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var r=e.czmPickResult;r&&null!==(n=t.allowPicking)&&void 0!==n&&n&&r.primitive===a&&t.pickedEvent.emit(new d.SceneObjectPickedInfo(t,e))}})));var s=(0,h.react)(void 0),l=function(){var e,n;do{if(!t.position||!t.pixelSize)break;var r=(e=g.Cartesian3).fromDegrees.apply(e,p([],c(t.position),!1));if(!r)break;if(void 0===(n=(0,m.getSceneScaleForScreenPixelSize)(o.scene,r,t.pixelSize)))break;void 0!==t.maximumScale&&n>t.maximumScale&&(n=t.maximumScale),void 0!==t.minimumScale&&n<t.minimumScale&&(n=t.minimumScale)}while(0);s.value=n};l(),r.dispose(o.scene.preUpdate.addEventListener(l)),r.disposeVar(new w.CurrentSceneScalePoi(n,[t,"showSceneScale"],[t,"position"],s));var u=function(){var e;a.show=(null===(e=t.show)||void 0===e||e)&&r.visibleAlpha>0};u(),r.dispose(t.showChanged.disposableOn(u)),r.dispose(r.visibleAlphaChanged.disposableOn(u));var O=r.disposeVar((0,h.react)(void 0)),x=function(){var e=(0,m.computeCzmModelMatrix)({localScale:t.localScale,initialRotation:"yForwardzUp",localRotation:t.localRotation,localPosition:t.localPosition,localModelMatrix:t.localModelMatrix,sceneScaleFromPixelSize:s.value,scale:t.scale,rotation:t.rotation,position:t.position,modelMatrix:t.modelMatrix});e?(O.value=e,a.modelMatrix=e):console.warn("computeCzmModelMatrix error!")},S=!0;r.dispose(t.showChanged.disposableOn((function(){return S=!0}))),r.dispose(t.localPositionChanged.disposableOn((function(){return S=!0}))),r.dispose(t.localRotationChanged.disposableOn((function(){return S=!0}))),r.dispose(t.localScaleChanged.disposableOn((function(){return S=!0}))),r.dispose(t.localModelMatrixChanged.disposableOn((function(){return S=!0}))),r.dispose(t.positionChanged.disposableOn((function(){return S=!0}))),r.dispose(t.rotationChanged.disposableOn((function(){return S=!0}))),r.dispose(t.scaleChanged.disposableOn((function(){return S=!0}))),r.dispose(t.modelMatrixChanged.disposableOn((function(){return S=!0}))),r.dispose(s.changed.disposableOn((function(){return S=!0}))),x(),r.dispose(o.scene.preUpdate.addEventListener((function(){S&&(S&&(S=!1),x())})));var E=function(){var e,n,r=t.boundingVolume,o=void 0===r?_.CzmCustomPrimitive.defaultBoundingVolume:r;if(o)if("LocalBoundingSphere"!==o.type)if("LocalAxisedBoundingBox"!==o.type);else{h=null!==(n=O.value)&&void 0!==n?n:g.Matrix4.IDENTITY;var i=o.data,s=i.min,l=i.max,u=new g.Cartesian3(.5*(s[0]+l[0]),.5*(s[1]+l[1]),.5*(s[2]+l[2])),c=(y=g.Matrix4.multiplyByPoint(h,u,u),new g.Cartesian3(.5*(l[0]-s[0]),.5*(l[1]-s[1]),.5*(l[2]-s[2])));c.x=0===c.x?1:c.x,c.y=0===c.y?1:c.y,c.z=0===c.z?1:c.z;var p=new g.Matrix3(c.x,0,0,0,c.y,0,0,0,c.z),f=g.Matrix4.getMatrix3(h,new g.Matrix3),d=g.Matrix3.multiply(f,p,f);a.boundingVolume=new g.OrientedBoundingBox(y,d)}else{var h=null!==(e=O.value)&&void 0!==e?e:g.Matrix4.IDENTITY,y=g.Matrix4.multiplyByPoint(h,g.Cartesian3.fromArray(o.data.center),new g.Cartesian3);a.boundingVolume=new g.BoundingSphere(y,o.data.radius)}else a.boundingVolume=void 0},j=function(){var e,n,r,o;(o=void 0===(r=t.boundingVolume)?_.CzmCustomPrimitive.defaultBoundingVolume:r)?"BoundingRectangle"!==o.type?"BoundingSphere"!==o.type||(a.boundingVolume=new g.BoundingSphere((n=g.Cartesian3).fromDegrees.apply(n,p([],c(o.data.center),!1)),o.data.radius)):a.boundingVolume=g.BoundingRectangle.fromRectangle((e=g.Rectangle).fromDegrees.apply(e,p([],c(o.data),!1))):a.boundingVolume=void 0,E()};j(),r.dispose(t.boundingVolumeChanged.disposableOn(j)),r.dispose(O.changed.disposableOn(E)),r.dispose((0,h.track)([a,"allowPicking"],[t,"allowPicking"])),r.dispose((0,h.track)([a,"attributes"],[t,"attributes"])),r.dispose((0,h.track)([a,"indexTypedArray"],[t,"indexTypedArray"]));var T=function(){var e;a.attributes=null!==(e=t.attributes)&&void 0!==e?e:_.CzmCustomPrimitive.defaultAttribute};T(),r.dispose(t.attributesChanged.disposableOn(T));var M=function(){var e;a.renderState=null!==(e=t.renderState)&&void 0!==e?e:_.CzmCustomPrimitive.defaultRenderState};M(),r.dispose(t.renderStateChanged.disposableOn(M));var A=function(){var e;a.vertexShaderSource=null!==(e=t.vertexShaderSource)&&void 0!==e?e:_.CzmCustomPrimitive.defaultVertexShaderSource};A(),r.dispose(t.vertexShaderSourceChanged.disposableOn(A));var I=function(){var e;a.fragmentShaderSource=null!==(e=t.fragmentShaderSource)&&void 0!==e?e:_.CzmCustomPrimitive.defaultFragmentShaderSource};I(),r.dispose(t.fragmentShaderSourceChanged.disposableOn(I));var N=function(){var e;return a.cull=null===(e=t.cull)||void 0===e||e};N(),r.dispose(t.cullChanged.disposableOn(N));var D=function(){var e;return a.pass=g.Pass[null!==(e=t.pass)&&void 0!==e?e:"TRANSLUCENT"]};D(),r.dispose(t.passChanged.disposableOn(D));var z=function(){var e;return a.primitiveType=g.PrimitiveType[null!==(e=t.primitiveType)&&void 0!==e?e:"TRIANGLES"]};z(),r.dispose(t.primitiveTypeChanged.disposableOn(z));var R=function(){var e;return a.occlude=null===(e=t.occlude)||void 0===e||e},k=function(){return a.count=t.count},L=function(){var e;return a.offset=null!==(e=t.offset)&&void 0!==e?e:0},F=function(){var e;return a.instanceCount=null!==(e=t.instanceCount)&&void 0!==e?e:0},B=function(){var e;return a.castShadows=null!==(e=t.castShadows)&&void 0!==e&&e},V=function(){var e;return a.receiveShadows=null!==(e=t.receiveShadows)&&void 0!==e&&e};R(),k(),L(),F(),B(),V(),r.dispose(t.occludeChanged.disposableOn(R)),r.dispose(t.countChanged.disposableOn(k)),r.dispose(t.offsetChanged.disposableOn(L)),r.dispose(t.instanceCountChanged.disposableOn(F)),r.dispose(t.castShadowsChanged.disposableOn(B)),r.dispose(t.receiveShadowsChanged.disposableOn(V));var G=function(){var e;return a.executeInClosestFrustum=null!==(e=t.executeInClosestFrustum)&&void 0!==e&&e},U=function(){var e;return a.debugShowBoundingVolume=null!==(e=t.debugShowBoundingVolume)&&void 0!==e&&e},W=function(){var e;return a.debugOverlappingFrustums=null!==(e=t.debugOverlappingFrustums)&&void 0!==e?e:0},J=function(){var e;return a.pickOnly=null!==(e=t.pickOnly)&&void 0!==e&&e},H=function(){var e;return a.depthForTranslucentClassification=null!==(e=t.depthForTranslucentClassification)&&void 0!==e&&e};G(),U(),W(),J(),H(),r.dispose(t.executeInClosestFrustumChanged.disposableOn(G)),r.dispose(t.debugShowBoundingVolumeChanged.disposableOn(U)),r.dispose(t.debugOverlappingFrustumsChanged.disposableOn(W)),r.dispose(t.pickOnlyChanged.disposableOn(J)),r.dispose(t.depthForTranslucentClassificationChanged.disposableOn(H));var q=new Map;r.dispose((function(){var e,t;try{for(var n=f(q.values()),r=n.next();!r.done;r=n.next()){var o=r.value;o&&o.destroy()}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}q.clear()}));var Y,X=new Map;r.dispose((function(){var e,t;try{for(var n=f(X.values()),r=n.next();!r.done;r=n.next())r.value.destroy()}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}X.clear()}));var Z,K=function(){var e,t;if(Y){try{for(var n=f(Object.values(Y)),r=n.next();!r.done;r=n.next())r.value.destroy()}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}Y=void 0}};r.dispose(K);var Q=function(){var e,t;if(Z){try{for(var r=f(Object.values(Z)),o=r.next();!o.done;o=r.next()){var i=o.value;n.delete(i),i.destroy()}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}Z=void 0}};r.dispose(Q);var $=function(){var e,o,s,l,u,c,p,d={},h=null!==(p=t.uniformMap)&&void 0!==p?p:_.CzmCustomPrimitive.defaultUniformMap;K(),Y={},Q(),Z={};var m=[],v=function(e){var t=h[e];if(null==t)return console.error("updateUniformMap [".concat(e,"] error: !uniformValue")),"continue";if(Array.isArray(t)){var r=t.length,o=(2===r?g.Cartesian2:3===r?g.Cartesian3:g.Cartesian4).fromArray(t);d[e]=function(){return o}}else if("number"==typeof t)d[e]=function(){return t};else if("type"in t&&"image"===t.type){var a=new _.CzmTexture;a.enabled=!0,a.uri=t.uri,a.uriType="img",n.add(a),Z[e]=a,d[e]=function(){do{var e=n.getCzmObject(a);if(!e)break;if(!(e instanceof C.CzmCzmTexture))break;if(!e.texture)break;return e.texture}while(0);return i.defaultTexture}}else if("type"in t&&"texture"===t.type){var s=new y.SceneObjectWithId;t.id||console.warn("uniform变量设置错误：".concat(e," 的配置中id未设置或者无效！id为").concat(t.id)),s.id=t.id,d[e]=function(){do{var e=s.sceneObject;if(!e)break;if(!(e instanceof _.CzmTexture))break;var t=n.getCzmObject(e);if(!t)break;if(!(t instanceof C.CzmCzmTexture))break;if(!t.texture)break;return t.texture}while(0);return i.defaultTexture},Y[e]=s}};try{for(var b=f(Object.keys(h)),w=b.next();!w.done;w=b.next())v(w.value)}catch(t){e={error:t}}finally{try{w&&!w.done&&(o=b.return)&&o.call(b)}finally{if(e)throw e.error}}d.u_xe2VisibleAlpha=function(){return r.visibleAlpha},a.uniformMap=d;try{for(var P=f(q.keys()),O=P.next();!O.done;O=P.next()){var x=O.value;m.includes(x)||(null==(j=q.get(x))||j.destroy(),q.delete(x))}}catch(e){s={error:e}}finally{try{O&&!O.done&&(l=P.return)&&l.call(P)}finally{if(s)throw s.error}}try{for(var S=f(X.keys()),E=S.next();!E.done;E=S.next()){var j;x=E.value,m.includes(x)||(null==(j=X.get(x))||j.destroy(),X.delete(x))}}catch(e){u={error:e}}finally{try{E&&!E.done&&(c=S.return)&&c.call(S)}finally{if(u)throw u.error}}};return $(),r.dispose(t.uniformMapChanged.disposableOn($)),r.dispose(t.flyToEvent.disposableOn((function(e){if(a.boundingVolume){var t=function(e){var t,n;if(e instanceof g.BoundingSphere)n=(0,m.positionFromCartesian)(e.center),t=5*e.radius;else if(e instanceof g.BoundingRectangle){var r=e.x,o=e.y,i=e.width,a=e.height,s=g.Rectangle.fromRadians(r,o,r+i,o+a),l=g.BoundingSphere.fromRectangle2D(s);n=(0,m.positionFromCartesian)(l.center),t=5*l.radius}else if(e instanceof g.OrientedBoundingBox){n=(0,m.positionFromCartesian)(e.center);var u=e.halfAxes,c=v.Vector.magnitude([u[0],u[1],u[2]]),p=v.Vector.magnitude([u[3],u[4],u[5]]),f=v.Vector.magnitude([u[6],u[7],u[8]]);t=5*Math.max(c,p,f)}if(n&&void 0!==t)return[n,t]}(a.boundingVolume);if(t){var n=c(t,2),r=n[0],i=n[1];(0,m.flyTo)(o.scene.camera,r,i,void 0,e)}else console.warn("无法计算viewDistance！")}else console.warn("CzmCustomPrimitive没有设置boundingVolume属性，无法飞入(flyTo)！")}))),r}var n;return o(t,e),Object.defineProperty(t.prototype,"nativePrimitive",{get:function(){return this._nativePrimitive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmViewerVisibleDistanceRangeControl",{get:function(){return this._czmViewVisibleDistanceRangeControl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleAlpha",{get:function(){return this._czmViewVisibleDistanceRangeControl.visibleAlpha},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleAlphaChanged",{get:function(){return this._czmViewVisibleDistanceRangeControl.visibleAlphaChanged},enumerable:!1,configurable:!0}),n=t,t.type=n.register(_.CzmCustomPrimitive.type,n),t}(b.CzmObject);t.CzmCzmCustomPrimitive=x},51342:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmCylinderEntity=void 0;var l=s(n(2003)),u=n(69767),c=n(75125),p=n(323),f=n(69375),d=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;var i=o.entities.add({position:void 0,orientation:void 0,cylinder:{}});r.dispose((function(){return o.entities.remove(i)}));var a=new l.Cartesian3;(h=function(){i.position=t.position&&(0,u.positionToCartesian)(t.position,a)})(),r.dispose(t.positionChanged.disposableOn(h));var s=new l.Quaternion;(h=function(){i.orientation=t.position&&t.rotation&&(0,u.positionAndRotationToQuaternion)(t.position,t.rotation,s)})(),r.dispose(t.rotationChanged.disposableOn(h)),(h=function(){i.show=t.show})(),r.dispose(t.showChanged.disposableOn(h)),(h=function(){var e;null===(e=i.cylinder)||void 0===e||(e.heightReference=t.heightReference&&f.czmPropMaps.heightReferencePropsMap[t.heightReference])})(),r.dispose(t.heightReferenceChanged.disposableOn(h)),(h=function(){i.cylinder.fill=t.fill})(),r.dispose(t.fillChanged.disposableOn(h));var c=new l.Color;(h=function(){i.cylinder.material=t.material&&(0,u.toColor)(t.material,c)})(),r.dispose(t.materialChanged.disposableOn(h)),(h=function(){i.cylinder.outline=t.outline})(),r.dispose(t.outlineChanged.disposableOn(h));var d=new l.Color;(h=function(){i.cylinder.outlineColor=t.outlineColor&&(0,u.toColor)(t.outlineColor,d)})(),r.dispose(t.outlineColorChanged.disposableOn(h)),(h=function(){i.cylinder.outlineWidth=t.outlineWidth})(),r.dispose(t.outlineWidthChanged.disposableOn(h)),(h=function(){i.cylinder.numberOfVerticalLines=t.numberOfVerticalLines})(),r.dispose(t.numberOfVerticalLinesChanged.disposableOn(h)),(h=function(){var e,n=null!==(e=t.slices)&&void 0!==e?e:p.CzmCylinderEntity.defaults.slices;n|=0,n=Math.max(3,n),i.cylinder.slices=n})(),r.dispose(t.slicesChanged.disposableOn(h)),(h=function(){i.cylinder.length=t.length})(),r.dispose(t.lengthChanged.disposableOn(h)),(h=function(){i.cylinder.topRadius=t.topRadius})(),r.dispose(t.topRadiusChanged.disposableOn(h)),(h=function(){i.cylinder.bottomRadius=t.bottomRadius})(),r.dispose(t.bottomRadiusChanged.disposableOn(h)),(h=function(){i.cylinder.shadows=t.shadows&&f.czmPropMaps.shadowPropsMap[t.shadows]})(),r.dispose(t.shadowsChanged.disposableOn(h));var h,y=new l.DistanceDisplayCondition;return(h=function(){i.cylinder.distanceDisplayCondition=t.distanceDisplayCondition&&(0,u.toDistanceDisplayCondition)(t.distanceDisplayCondition,y)})(),r.dispose(t.shadowsChanged.disposableOn(h)),r.dispose(t.flyToEvent.disposableOn((function(){return n.actived&&o.flyTo(i)}))),r}var n;return o(t,e),n=t,t.type=n.register(p.CzmCylinderEntity.type,n),t}(c.CzmObject);t.CzmCzmCylinderEntity=d},81789:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmCzml=void 0;var c=n(43938),p=n(19239),f=n(10070),d=s(n(2003)),h=n(75125),y=n(323),g=n(83205),m=function(e){function t(t,n){var r=e.call(this,t,n)||this;r._dataSource=r.disposeVar((0,p.react)(void 0));var o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;r.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(null!==(n=t.allowPicking)&&void 0!==n&&n){if(!e)return;if(!e.czmPickResult)return;if(!e.czmPickResult.id)return;e.czmPickResult.id.entityCollection._owner===r.dataSource&&t.pickedEvent.emit(new c.SceneObjectPickedInfo(t,e))}}))),r.dispose(t.flyToEvent.disposableOn((function(e){n.actived&&r.dataSource&&(void 0!==e?o.flyTo(r.dataSource,{duration:e/1e3}):o.flyTo(r.dataSource))})));var i=function(){r.dataSource&&(o.dataSources.remove(r.dataSource,!0),r._dataSource.value=void 0)};r.dispose(i);var a=function(){if(r.dataSource){var e=r.dataSource;t.startTime=d.JulianDate.toDate(e.clock.startTime).getTime(),t.stopTime=d.JulianDate.toDate(e.clock.stopTime).getTime(),t.currentTime=d.JulianDate.toDate(e.clock.currentTime).getTime(),t.multiplier=e.clock.multiplier,t.clockStep=g.CzmCzmClock.getClockStep(e.clock.clockStep),t.clockRange=g.CzmCzmClock.getClockRange(e.clock.clockRange)}else console.warn("resetClock warn: dataSource is undefined!")};r.dispose(t.resetClockEvent.disposableOn(a));var s=function(){var e;r.dataSource&&(r.dataSource.show=null!==(e=t.show)&&void 0!==e?e:y.CzmCzml.defaults.show)};s(),r.dispose(t.showChanged.disposableOn(s));var h=r.disposeVar((0,p.react)(void 0));(b=function(){var e;h.value=null!==(e=t.data)&&void 0!==e?e:t.uri&&f.SceneObject.context.getStrFromEnv(t.uri)})();var m=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.uriChanged,t.dataChanged));r.dispose(m.disposableOn(b));var v=r.disposeVar((0,f.createProcessingFromAsyncFunc)((function(e){return l(r,void 0,void 0,(function(){var n,r;return u(this,(function(l){switch(l.label){case 0:return i(),h.value?[4,d.CzmlDataSource.load(h.value)]:[2];case 1:if(n=l.sent(),e.check(),o.dataSources.add(n),this._dataSource.value=n,s(),(null!==(r=t.autoResetClock)&&void 0!==r?r:y.CzmCzml.defaults.autoResetClock)&&a(),!t.loadFun)return[2];try{t.loadFun(n)}catch(e){console.error(e)}return[2]}}))}))})));(b=function(){v.isRunning&&v.cancel(),v.restart()})();var b,_=r.disposeVar((0,p.createNextAnimateFrameEvent)(h.changed,t.loadFunChanged));return r.dispose(_.disposableOn(b)),(b=function(){if(t.loadFuncStr)try{var e=Function('"use strict";return ('.concat(t.loadFuncStr,")"))();t.loadFun=e}catch(e){console.error(e),t.loadFun=void 0}else t.loadFun=void 0})(),r.dispose(t.loadFuncStrChanged.disposableOn(b)),r}var n;return o(t,e),Object.defineProperty(t.prototype,"dataSource",{get:function(){return this._dataSource.value},enumerable:!1,configurable:!0}),n=t,t.type=n.register(y.CzmCzml.type,n),t}(h.CzmObject);t.CzmCzmCzml=m},52074:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmDepthOfFieldPostProcess=void 0;var l=n(19239),u=n(10070),c=s(n(2003)),p=n(75125),f=n(323),d=function(e){function t(t){var n=e.call(this)||this;n._czmCzmDepthOfFieldPostProcess=t,n._postProcessStage=n.viewer.scene.postProcessStages.add(c.PostProcessStageLibrary.createDepthOfFieldStage()),n._postProcessStageDestroy=n.dispose((function(){return n.viewer.scene.postProcessStages.remove(n.postProcessStage)}));var r,o=n._czmCzmDepthOfFieldPostProcess.sceneObject;return(r=function(){n.postProcessStage.uniforms.fogByDistance=o.focalDistance})(),n.dispose(o.focalDistanceChanged.disposableOn(r)),(r=function(){n.postProcessStage.uniforms.delta=o.delta})(),n.dispose(o.deltaChanged.disposableOn(r)),(r=function(){n.postProcessStage.uniforms.sigma=o.sigma})(),n.dispose(o.sigmaChanged.disposableOn(r)),(r=function(){n.postProcessStage.uniforms.stepSize=o.stepSize})(),n.dispose(o.stepSizeChanged.disposableOn(r)),n}return o(t,e),Object.defineProperty(t.prototype,"viewer",{get:function(){return this._czmCzmDepthOfFieldPostProcess.czmViewer.viewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"postProcessStage",{get:function(){return this._postProcessStage},enumerable:!1,configurable:!0}),t}(l.Destroyable),h=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(!n.viewer)throw new Error("viewer is undefined!");return r.disposeVar(new u.ObjResettingWithEvent(t.showChanged,(function(){if(t.show)return new d(r)}))),r}var n;return o(t,e),n=t,t.type=n.register(f.CzmDepthOfFieldPostProcess.type,n),t}(p.CzmObject);t.CzmCzmDepthOfFieldPostProcess=h},32267:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmEllipseGroundPrimitive=void 0;var l=s(n(2003)),u=n(69767),c=n(10070),p=n(75125),f=n(323),d=n(69375),h=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;r.dispose((function(){r._primitive&&o.scene.primitives.remove(r._primitive),r._primitive=void 0}));var i=r.disposeVar((0,d.createMaterialRef)([t,"material"])),a=function(){if(r._primitive&&o.scene.primitives.remove(r._primitive),r._primitive=void 0,t.position){var e=(0,u.positionToCartesian)(t.position);e&&i.value&&(r._primitive=function(e,n){if(e&&void 0!==t.semiMinorAxis&&void 0!==t.semiMajorAxis&&!(t.semiMinorAxis>t.semiMajorAxis)){var o=new l.MaterialAppearance({material:n}),i=[],a=new l.GeometryInstance({geometry:new l.EllipseGeometry({center:e,semiMinorAxis:t.semiMinorAxis,semiMajorAxis:t.semiMajorAxis,rotation:t.rotation&&l.Math.toRadians(t.rotation),stRotation:t.stRotation&&l.Math.toRadians(t.stRotation),granularity:void 0!==t.granularity?l.Math.toRadians(t.granularity):void 0,vertexFormat:l.MaterialAppearance.MaterialSupport.ALL.vertexFormat,ellipsoid:t.ellipsoid&&(0,u.toEllipsoid)(t.ellipsoid),height:t.height,extrudedHeight:t.extrudedHeight}),id:r});return i.push(a),new l.GroundPrimitive({geometryInstances:i,appearance:o,asynchronous:!1,allowPicking:!1,compressVertices:!1})}}(e,i.value),r._primitive&&o.scene.primitives.add(r._primitive))}},s=function(){var e,n=null===(e=t.show)||void 0===e||e;r._primitive&&(r._primitive.show=n)};a(),s();var p=r.disposeVar((0,c.createNextAnimateFrameEvent)(t.positionChanged,t.semiMinorAxisChanged,t.semiMajorAxisChanged,t.rotationChanged,t.stRotationChanged,t.materialChanged,t.granularityChanged,t.ellipsoidChanged,t.heightChanged,t.extrudedHeightChanged));r.dispose(p.disposableOn((function(){a(),s()})));var f=r.disposeVar((0,c.createNextAnimateFrameEvent)(t.showChanged));return r.dispose(f.disposableOn((function(){s()}))),r.dispose(t.flyToEvent.disposableOn((function(){if(t.position){var e=o.scene.camera.positionCartographic.height;(0,u.flyTo)(o.scene.camera,t.position,e,void 0,1e3)}else console.warn("GeoPoint当前没有位置信息，无法飞入！")}))),r}var n;return o(t,e),n=t,t.type=n.register(f.CzmEllipseGroundPrimitive.type,n),t}(p.CzmObject);t.CzmCzmEllipseGroundPrimitive=h},65935:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmEllipseOutlinePrimitive=void 0;var l=s(n(2003)),u=n(69767),c=n(10070),p=n(75125),f=n(323),d=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;r.dispose((function(){r._primitive&&o.scene.primitives.remove(r._primitive),r._primitive=void 0}));var i=new l.Color,a=function(){if(r._primitive&&o.scene.primitives.remove(r._primitive),r._primitive=void 0,t.position){var e=(0,u.positionToCartesian)(t.position);e&&(r._primitive=function(e){var n;if(e&&void 0!==t.semiMinorAxis&&void 0!==t.semiMajorAxis&&!(t.semiMinorAxis>t.semiMajorAxis)){var o=new l.PerInstanceColorAppearance({flat:!0,translucent:null===(n=t.translucent)||void 0===n||n}),a=[],s=new l.GeometryInstance({geometry:new l.EllipseOutlineGeometry({center:e,semiMinorAxis:t.semiMinorAxis,semiMajorAxis:t.semiMajorAxis,rotation:t.rotation&&l.Math.toRadians(t.rotation),height:t.height,extrudedHeight:t.extrudedHeight,granularity:void 0!==t.granularity?l.Math.toRadians(t.granularity):void 0,numberOfVerticalLines:t.numberOfVerticalLines,ellipsoid:t.ellipsoid&&(0,u.toEllipsoid)(t.ellipsoid)}),attributes:{color:t.outlineColor?l.ColorGeometryInstanceAttribute.fromColor((0,u.toColor)(t.outlineColor,i)):l.ColorGeometryInstanceAttribute.fromColor(new l.Color(1,1,1,1))},id:r});return a.push(s),new l.Primitive({geometryInstances:a,appearance:o,asynchronous:!1,allowPicking:!1,compressVertices:!1})}}(e),r._primitive&&o.scene.primitives.add(r._primitive))}},s=function(){var e,n=null===(e=t.show)||void 0===e||e;r._primitive&&(r._primitive.show=n)};a(),s();var p=r.disposeVar((0,c.createNextAnimateFrameEvent)(t.positionChanged,t.semiMinorAxisChanged,t.semiMajorAxisChanged,t.rotationChanged,t.extrudedHeightChanged,t.heightChanged,t.translucentChanged,t.outlineColorChanged,t.granularityChanged,t.numberOfVerticalLinesChanged,t.ellipsoidChanged));r.dispose(p.disposableOn((function(){a(),s()})));var f=r.disposeVar((0,c.createNextAnimateFrameEvent)(t.showChanged));return r.dispose(f.disposableOn((function(){s()}))),r.dispose(t.flyToEvent.disposableOn((function(){if(t.position){var e=o.scene.camera.positionCartographic.height;(0,u.flyTo)(o.scene.camera,t.position,e,void 0,1e3)}else console.warn("GeoPoint当前没有位置信息，无法飞入！")}))),r}var n;return o(t,e),n=t,t.type=n.register(f.CzmEllipseOutlinePrimitive.type,n),t}(p.CzmObject);t.CzmCzmEllipseOutlinePrimitive=d},86708:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmEllipsePrimitive=void 0;var l=s(n(2003)),u=n(10070),c=n(75125),p=n(323),f=n(69375),d=n(69767),h=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;r.dispose((function(){r._primitive&&o.scene.primitives.remove(r._primitive),r._primitive=void 0}));var i=r.disposeVar((0,f.createMaterialRef)([t,"material"])),a=function(){if(r._primitive&&o.scene.primitives.remove(r._primitive),r._primitive=void 0,t.position){var e=(0,d.positionToCartesian)(t.position);e&&i.value&&(r._primitive=function(e,n){if(e&&void 0!==t.semiMinorAxis&&void 0!==t.semiMajorAxis&&!(t.semiMinorAxis>t.semiMajorAxis)){var o=new l.MaterialAppearance({material:n}),i=[],a=new l.GeometryInstance({geometry:new l.EllipseGeometry({center:e,semiMinorAxis:t.semiMinorAxis,semiMajorAxis:t.semiMajorAxis,rotation:t.rotation&&l.Math.toRadians(t.rotation),height:t.height,extrudedHeight:t.extrudedHeight,stRotation:t.stRotation&&l.Math.toRadians(t.stRotation),granularity:void 0!==t.granularity?l.Math.toRadians(t.granularity):void 0,vertexFormat:l.MaterialAppearance.MaterialSupport.ALL.vertexFormat,ellipsoid:t.ellipsoid&&(0,d.toEllipsoid)(t.ellipsoid)}),id:r});return i.push(a),new l.Primitive({geometryInstances:i,appearance:o,asynchronous:!1,allowPicking:!1,compressVertices:!1})}}(e,i.value),r._primitive&&o.scene.primitives.add(r._primitive))}},s=function(){var e,n=null===(e=t.show)||void 0===e||e;r._primitive&&(r._primitive.show=n)};a(),s();var c=r.disposeVar((0,u.createNextAnimateFrameEvent)(t.positionChanged,t.semiMinorAxisChanged,t.semiMajorAxisChanged,t.rotationChanged,t.stRotationChanged,t.materialChanged,t.extrudedHeightChanged,t.heightChanged,t.granularityChanged,t.ellipsoidChanged));r.dispose(c.disposableOn((function(){a(),s()})));var p=r.disposeVar((0,u.createNextAnimateFrameEvent)(t.showChanged));return r.dispose(p.disposableOn((function(){s()}))),r.dispose(t.flyToEvent.disposableOn((function(){if(t.position){var e=o.scene.camera.positionCartographic.height;(0,d.flyTo)(o.scene.camera,t.position,e,void 0,1e3)}else console.warn("GeoPoint当前没有位置信息，无法飞入！")}))),r}var n;return o(t,e),n=t,t.type=n.register(p.CzmEllipsePrimitive.type,n),t}(c.CzmObject);t.CzmCzmEllipsePrimitive=h},8287:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmEllipsoidOutlinePrimitive=void 0;var l=s(n(2003)),u=n(69767),c=n(10070),p=n(75125),f=n(323),d=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;r.dispose((function(){r._primitive&&o.scene.primitives.remove(r._primitive),r._primitive=void 0}));var i=new l.Color,a=function(){r._primitive&&o.scene.primitives.remove(r._primitive),r._primitive=void 0,t.position&&t.radii&&(r._primitive=function(){var e;if(t.position&&t.radii){var n=new l.PerInstanceColorAppearance({flat:!0,translucent:null===(e=t.translucent)||void 0===e||e}),o=new l.EllipsoidOutlineGeometry({radii:t.radii&&(0,u.toCartesian)(t.radii),innerRadii:t.innerRadii&&(0,u.toCartesian)(t.innerRadii),minimumClock:t.minimumClock&&l.Math.toRadians(t.minimumClock),maximumClock:t.maximumClock&&l.Math.toRadians(t.maximumClock),minimumCone:t.minimumCone&&l.Math.toRadians(t.minimumCone),maximumCone:t.maximumCone&&l.Math.toRadians(t.maximumCone),stackPartitions:t.stackPartitions,slicePartitions:t.slicePartitions,subdivisions:t.subdivisions}),a=new l.GeometryInstance({geometry:o,id:r,modelMatrix:t.position&&l.Transforms.eastNorthUpToFixedFrame((0,u.positionToCartesian)(t.position)),attributes:{color:t.color?l.ColorGeometryInstanceAttribute.fromColor((0,u.toColor)(t.color,i)):l.ColorGeometryInstanceAttribute.fromColor(new l.Color(1,1,1,1))}});return new l.Primitive({geometryInstances:a,appearance:n,asynchronous:!1,allowPicking:!1,compressVertices:!1})}}(),r._primitive&&o.scene.primitives.add(r._primitive))},s=function(){var e,n=null===(e=t.show)||void 0===e||e;r._primitive&&(r._primitive.show=n)};a(),s();var p=r.disposeVar((0,c.createNextAnimateFrameEvent)(t.positionChanged,t.radiiChanged,t.positionChanged,t.radiiChanged,t.innerRadiiChanged,t.minimumClockChanged,t.maximumClockChanged,t.minimumConeChanged,t.maximumConeChanged,t.slicePartitionsChanged,t.slicePartitionsChanged,t.translucentChanged,t.subdivisionsChanged,t.colorChanged));r.dispose(p.disposableOn((function(){a(),s()})));var f=r.disposeVar((0,c.createNextAnimateFrameEvent)(t.showChanged));return r.dispose(f.disposableOn((function(){s()}))),r.dispose(t.flyToEvent.disposableOn((function(){if(t.position){var e=o.scene.camera.positionCartographic.height;(0,u.flyTo)(o.scene.camera,t.position,e,void 0,1e3)}else console.warn("GeoPoint当前没有位置信息，无法飞入！")}))),r}var n;return o(t,e),n=t,t.type=n.register(f.CzmEllipsoidOutlinePrimitive.type,n),t}(p.CzmObject);t.CzmCzmEllipsoidOutlinePrimitive=d},37320:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},u=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmEllipsoidPrimitive=void 0;var c=s(n(2003)),p=n(69767),f=n(10070),d=n(75125),h=n(323),y=n(69375),g=n(60783),m=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;r.dispose((function(){r._primitive&&o.scene.primitives.remove(r._primitive),r._primitive=void 0}));var i=r.disposeVar((0,y.createMaterialRef)([t,"material"])),a=function(){var e,n,a,s;r._primitive&&o.scene.primitives.remove(r._primitive),r._primitive=void 0,t.position&&t.radii&&i.value&&(r._primitive=(e=i.value,n=new c.MaterialAppearance({material:e}),a=new c.EllipsoidGeometry({vertexFormat:c.MaterialAppearance.MaterialSupport.ALL.vertexFormat,radii:t.radii&&(0,p.toCartesian)(t.radii),innerRadii:t.innerRadii&&(0,p.toCartesian)(t.innerRadii),minimumClock:t.minimumClock&&c.Math.toRadians(t.minimumClock),maximumClock:t.maximumClock&&c.Math.toRadians(t.maximumClock),minimumCone:t.minimumCone&&c.Math.toRadians(t.minimumCone),maximumCone:t.maximumCone&&c.Math.toRadians(t.maximumCone),stackPartitions:t.stackPartitions,slicePartitions:t.slicePartitions}),s=new c.GeometryInstance({geometry:a,id:r,modelMatrix:t.position&&c.Transforms.eastNorthUpToFixedFrame((0,p.positionToCartesian)(t.position))}),new c.Primitive({geometryInstances:s,appearance:n,asynchronous:!1,allowPicking:!1,compressVertices:!1})),r._primitive&&o.scene.primitives.add(r._primitive))},s=function(){var e,n=null===(e=t.show)||void 0===e||e;r._primitive&&(r._primitive.show=n)};a(),s();var d=r.disposeVar((0,f.createNextAnimateFrameEvent)(t.positionChanged,t.radiiChanged,t.innerRadiiChanged,t.minimumClockChanged,t.maximumClockChanged,t.minimumConeChanged,t.maximumConeChanged,t.slicePartitionsChanged,t.slicePartitionsChanged));r.dispose(d.disposableOn((function(){a(),s()})));var h=r.disposeVar((0,f.createNextAnimateFrameEvent)(t.showChanged));return r.dispose(h.disposableOn((function(){s()}))),r.dispose(t.flyToEvent.disposableOn((function(){if(t.position){var e=t.radii?3*Math.max.apply(Math,u([],l(t.radii),!1)):o.scene.camera.positionCartographic.height;(0,g.flyTo)(o.scene.camera,t.position,e,void 0,1e3)}else console.warn("GeoPoint当前没有位置信息，无法飞入！")}))),r}var n;return o(t,e),n=t,t.type=n.register(h.CzmEllipsoidPrimitive.type,n),t}(d.CzmObject);t.CzmCzmEllipsoidPrimitive=m},26057:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmFlyAround=void 0;var c=n(69767),p=n(10070),f=s(n(2003)),d=n(75125),h=n(323),y=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;var i=o.camera,a=r.disposeVar((0,p.createProcessingFromAsyncFunc)((function(e){return l(r,void 0,void 0,(function(){var n,r,a,s,l,p,d,h,y,g,m,v,b,_;return u(this,(function(u){switch(u.label){case 0:return n=t.position,r=t.flyToDuration,a=void 0===r?1e3:r,s=t.aroundSpeed,l=void 0===s?.018:s,p=t.placeCenter,d=void 0===p||p,h=t.stopPitch,n?(y=f.Cartesian3.fromDegrees(n[0],n[1],n[2]),g=f.Cartesian3.distance(y,o.camera.positionWC),m=t.stopRadius,v=void 0===m?g:m,"number"!=typeof h?[3,2]:((b=(0,c.getCameraRotation)(i))[1]=h,b[2]=0,(_=(0,c.flyTo)(i,n,v,b,a,(function(){!0===t.enabled&&(t.enabled=!1)})))?[4,e.promise(_)]:[3,2])):[2];case 1:u.sent(),u.label=2;case 2:return[4,e.promise((0,c.flyAround)(i,n,v,a,l,d,(function(){!0===t.enabled&&(t.enabled=!1)})))];case 3:return u.sent(),!0===t.enabled&&(t.enabled=!1),[2]}}))}))}))),s=function(){a.isRunning&&a.cancel(),t.enabled&&n.actived&&a.restart()};return s(),r.dispose(t.enabledChanged.disposableOn(s)),r.dispose(t.applyCurrentDistanceEvent.disposableOn((function(){if(n.actived){var e=t.position;if(e){var r=f.Cartesian3.fromDegrees(e[0],e[1],e[2]),i=f.Cartesian3.distance(r,o.camera.positionWC);t.stopRadius=i}else console.warn("应用视距之前，需要设置位置(position)！")}else console.info("当前视口(".concat(n.name,"-").concat(n.id,")没有激活，不能应用视距！"))}))),r.dispose(t.flyToEvent.disposableOn((function(e){t.enabled=!t.enabled}))),r}var n;return o(t,e),n=t,t.type=n.register(h.CzmFlyAround.type,n),t}(d.CzmObject);t.CzmCzmFlyAround=y},14698:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},u=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmFogPostProcess=void 0;var c=n(19239),p=n(10070),f=s(n(2003)),d=n(75125),h=n(323),y=function(e){function t(t){var n=e.call(this)||this;n._czmCzmFogPostProcess=t,n._postProcessStage=n.viewer.scene.postProcessStages.add(new f.PostProcessStage({fragmentShader:"float getDistance(sampler2D depthTexture, vec2 texCoords) \n{ \n    float depth = czm_unpackDepth(texture(depthTexture, texCoords)); \n    if (depth == 0.0) { \n        return czm_infinity; \n    } \n    vec4 eyeCoordinate = czm_windowToEyeCoordinates(gl_FragCoord.xy, depth); \n    return -eyeCoordinate.z / eyeCoordinate.w; \n} \nfloat interpolateByDistance(vec4 nearFarScalar, float distance) \n{ \n    float startDistance = nearFarScalar.x; \n    float startValue = nearFarScalar.y; \n    float endDistance = nearFarScalar.z; \n    float endValue = nearFarScalar.w; \n    float t = clamp((distance - startDistance) / (endDistance - startDistance), 0.0, 1.0); \n    return mix(startValue, endValue, t); \n} \nvec4 alphaBlend(vec4 sourceColor, vec4 destinationColor) \n{ \n    return sourceColor * vec4(sourceColor.aaa, 1.0) + destinationColor * (1.0 - sourceColor.a); \n} \nuniform sampler2D colorTexture; \nuniform sampler2D depthTexture; \nuniform vec4 fogByDistance; \nuniform vec4 fogColor; \nin vec2 v_textureCoordinates; \nvoid main(void) \n{ \n    float distance = getDistance(depthTexture, v_textureCoordinates); \n    vec4 sceneColor = texture(colorTexture, v_textureCoordinates); \n    float blendAmount = interpolateByDistance(fogByDistance, distance); \n    vec4 finalFogColor = vec4(fogColor.rgb, fogColor.a * blendAmount); \n    out_FragColor = alphaBlend(finalFogColor, sceneColor); \n}\n",uniforms:{fogByDistance:new f.Cartesian4(10,0,200,1),fogColor:f.Color.BLACK}})),n._postProcessStageDestroy=n.dispose((function(){return n.viewer.scene.postProcessStages.remove(n.postProcessStage)}));var r,o=n._czmCzmFogPostProcess.sceneObject;return(r=function(){var e;n.postProcessStage.uniforms.fogByDistance=(e=f.Cartesian4).fromElements.apply(e,u([],l(o.fogByDistance),!1))})(),n.dispose(o.fogByDistanceChanged.disposableOn(r)),(r=function(){var e;n.postProcessStage.uniforms.fogColor=new((e=f.Color).bind.apply(e,u([void 0],l(o.fogColor),!1)))})(),n.dispose(o.fogColorChanged.disposableOn(r)),n}return o(t,e),Object.defineProperty(t.prototype,"viewer",{get:function(){return this._czmCzmFogPostProcess.czmViewer.viewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"postProcessStage",{get:function(){return this._postProcessStage},enumerable:!1,configurable:!0}),t}(c.Destroyable),g=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(!n.viewer)throw new Error("viewer is undefined!");return r.disposeVar(new p.ObjResettingWithEvent(t.showChanged,(function(){if(t.show)return new y(r)}))),r}var n;return o(t,e),n=t,t.type=n.register(h.CzmFogPostProcess.type,n),t}(d.CzmObject);t.CzmCzmFogPostProcess=g},68051:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmGeoJson=void 0;var c=s(n(2003)),p=n(19239),f=n(69767),d=n(10070),h=n(75125),y=n(83822),g=n(43938),m=function(e){function t(t,n){var r=e.call(this,t,n)||this;r._dataSource=r.disposeVar((0,p.react)(void 0));var o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;r.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(null!==(n=t.allowPicking)&&void 0!==n&&n){if(!e)return;if(!e.czmPickResult)return;if(!e.czmPickResult.id)return;var o=e.czmPickResult;if(!o.id)return;if(!o.id.entityCollection)return;o.id.entityCollection._owner===r.dataSource&&t.pickedEvent.emit(new g.SceneObjectPickedInfo(t,e))}}))),r.dispose(t.flyToEvent.disposableOn((function(e){n.actived&&r.dataSource&&(void 0!==e?o.flyTo(r.dataSource,{duration:e/1e3}):o.flyTo(r.dataSource))})));var i=function(){r.dataSource&&(o.dataSources.remove(r.dataSource),r._dataSource.value=void 0)};r.dispose(i);var a=r.disposeVar((0,d.createProcessingFromAsyncFunc)((function(e){return l(r,void 0,void 0,(function(){var n,r,a,s,l,p,h,g,m,v,b;return u(this,(function(u){switch(u.label){case 0:return i(),(n=null!==(a=t.data)&&void 0!==a?a:t.uri&&d.SceneObject.context.getStrFromEnv(t.uri))?[4,c.GeoJsonDataSource.load(n,{fill:(0,f.toColor)(null!==(s=t.fill)&&void 0!==s?s:y.CzmGeoJson.defaults.fill),stroke:(0,f.toColor)(null!==(l=t.stroke)&&void 0!==l?l:y.CzmGeoJson.defaults.stroke),strokeWidth:null!==(p=t.strokeWidth)&&void 0!==p?p:y.CzmGeoJson.defaults.strokeWidth,markerSymbol:null!==(h=t.markerSymbol)&&void 0!==h?h:y.CzmGeoJson.defaults.markerSymbol,markerColor:(0,f.toColor)(null!==(g=t.markerColor)&&void 0!==g?g:y.CzmGeoJson.defaults.markerColor),markerSize:null!==(m=t.markerSize)&&void 0!==m?m:y.CzmGeoJson.defaults.markerSize,clampToGround:null!==(v=t.clampToGround)&&void 0!==v?v:y.CzmGeoJson.defaults.clampToGround})]:[2];case 1:if(r=u.sent(),e.check(),o.dataSources.add(r),this._dataSource.value=r,r.show=null!==(b=t.show)&&void 0!==b?b:y.CzmGeoJson.defaults.show,!t.loadFun)return[2];try{t.loadFun(r)}catch(e){console.error(e)}return[2]}}))}))})));(s=function(){a.isRunning&&a.cancel(),a.restart()})();var s,h=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.dataChanged,t.uriChanged,t.loadFunChanged,t.showChanged,t.fillChanged,t.strokeChanged,t.clampToGroundChanged,t.markerSymbolChanged,t.markerColorChanged,t.markerSizeChanged,t.strokeWidthChanged));return r.dispose(h.disposableOn(s)),(s=function(){if(t.loadFuncStr)try{var e=Function('"use strict";return ('.concat(t.loadFuncStr,")"))();t.loadFun=e}catch(e){console.error(e),t.loadFun=void 0}else t.loadFun=void 0})(),r.dispose(t.loadFuncStrChanged.disposableOn(s)),r}var n;return o(t,e),Object.defineProperty(t.prototype,"dataSource",{get:function(){return this._dataSource.value},enumerable:!1,configurable:!0}),n=t,t.type=n.register(y.CzmGeoJson.type,n),t}(h.CzmObject);t.CzmCzmGeoJson=m},45776:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmGlobeLevelMaterial=void 0;var l=s(n(2003)),u=n(75125),c=n(323),p=n(19239),f=n(69767),d=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;var i=new l.Material({fabric:{type:"GlobelLevel"},translucent:!1});(a=function(){i.uniforms.input_shadows=l.Cartesian3.fromArray(t.inputShadows),i.uniforms.input_highlights=l.Cartesian3.fromArray(t.inputHighlights),i.uniforms.midtones=l.Cartesian3.fromArray(t.midtones),i.uniforms.output_shadows=l.Cartesian3.fromArray(t.outputShadows),i.uniforms.output_highlights=l.Cartesian3.fromArray(t.outputHighlights)})();var a,s=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.inputShadowsChanged,t.inputHighlightsChanged,t.midtonesChanged,t.outputShadowsChanged,t.outputHighlightsChanged));return r.dispose(s.disposableOn(a)),(a=function(){t.enabled?(o.scene.globe.material=i,(0,f.czmInitGlobelLevelOnViewerCreating)(o)):o.scene.globe.material=void 0})(),r.dispose(t.enabledChanged.disposableOn(a)),r}var n;return o(t,e),n=t,t.type=n.register(c.CzmGlobeLevelMaterial.type,n),t}(u.CzmObject);t.CzmCzmGlobeLevelMaterial=d},67970:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmGlobeMaterial=void 0;var l=n(323),u=n(75125),c=s(n(2003)),p=n(10070),f=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;var i=o.scene.globe,a=c.Color.RED.clone(),s={};function l(){var e;if(o){var n;do{var r=t.shadingMode||"none";if(null!==(e=t.show)&&void 0!==e&&!e||"none"===r)break;var l=void 0;t.enableContour?("elevation"===r?((l=(n=new c.Material({fabric:{type:"ElevationColorContour",materials:{contourMaterial:{type:"ElevationContour"},elevationRampMaterial:{type:"ElevationRamp"}},components:{diffuse:"contourMaterial.alpha == 0.0 ? elevationRampMaterial.diffuse : contourMaterial.diffuse",alpha:"max(contourMaterial.alpha, elevationRampMaterial.alpha)"}},translucent:!1})).materials.elevationRampMaterial.uniforms).minimumHeight=-414,l.maximumHeight=8777,s=n.materials.contourMaterial.uniforms):"slope"===r?(l=(n=new c.Material({fabric:{type:"SlopeColorContour",materials:{contourMaterial:{type:"ElevationContour"},slopeRampMaterial:{type:"SlopeRamp"}},components:{diffuse:"contourMaterial.alpha == 0.0 ? slopeRampMaterial.diffuse : contourMaterial.diffuse",alpha:"max(contourMaterial.alpha, slopeRampMaterial.alpha)"}},translucent:!1})).materials.slopeRampMaterial.uniforms,s=n.materials.contourMaterial.uniforms):"aspect"===r?(l=(n=new c.Material({fabric:{type:"AspectColorContour",materials:{contourMaterial:{type:"ElevationContour"},aspectRampMaterial:{type:"AspectRamp"}},components:{diffuse:"contourMaterial.alpha == 0.0 ? aspectRampMaterial.diffuse : contourMaterial.diffuse",alpha:"max(contourMaterial.alpha, aspectRampMaterial.alpha)"}},translucent:!1})).materials.aspectRampMaterial.uniforms,s=n.materials.contourMaterial.uniforms):(n=c.Material.fromType("ElevationContour"),s=n.uniforms),s.width=t.contourWidth,s.spacing=t.contourSpacing,s.color=a):"elevation"===r?((l=(n=c.Material.fromType("ElevationRamp")).uniforms).minimumHeight=-414,l.maximumHeight=8777):"slope"===r?l=(n=c.Material.fromType("SlopeRamp")).uniforms:"aspect"===r&&(l=(n=c.Material.fromType("AspectRamp")).uniforms),l.image=g(r)}while(0);i.material=n}}l();var u=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.contourSpacingChanged,t.contourWidthChanged,t.enableContourChanged,t.shadingModeChanged,t.showChanged));return r.dispose(u.disposableOn(l)),r.dispose((function(){return i.material=void 0})),r}var n;return o(t,e),n=t,t.type=n.register(l.CzmGlobeMaterial.type,n),t}(u.CzmObject);t.CzmCzmGlobeMaterial=f;var d=[0,.045,.1,.15,.37,.54,1],h=[0,.29,.5,Math.sqrt(2)/2,.87,.91,1],y=[0,.2,.4,.6,.8,.9,1];function g(e){var t=document.createElement("canvas");t.width=100,t.height=1;var n,r=t.getContext("2d");if("elevation"===e)n=d;else if("slope"===e)n=h;else{if("aspect"!==e)throw new Error("values未赋值！");n=y}var o=r.createLinearGradient(0,0,100,0);return o.addColorStop(n[0],"#000000"),o.addColorStop(n[1],"#2747E0"),o.addColorStop(n[2],"#D33B7D"),o.addColorStop(n[3],"#D33038"),o.addColorStop(n[4],"#FF9742"),o.addColorStop(n[5],"#ffd700"),o.addColorStop(n[6],"#ffffff"),r.fillStyle=o,r.fillRect(0,0,100,1),t}},43920:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ToWGS84WebMercatorTilingScheme=t.ToGCJ02WebMercatorTilingScheme=void 0;var l=s(n(2003)),u=s(n(84853)),c=function(e){function t(t){var n=e.call(this,t)||this,r=n._projection;r.s_project=r.project,r.project=function(e){var t;return t=u.gcj02towgs84(l.Math.toDegrees(e.longitude),l.Math.toDegrees(e.latitude)),r.s_project(new l.Cartographic(l.Math.toRadians(t[0]),l.Math.toRadians(t[1])))},r.s_unproject=r.unproject,r.unproject=function(e){var t,n=r.s_unproject(e);return t=u.wgs84togcj02(l.Math.toDegrees(n.longitude),l.Math.toDegrees(n.latitude)),new l.Cartographic(l.Math.toRadians(t[0]),l.Math.toRadians(t[1]))};var o=n._projection.unproject(n._rectangleSouthwestInMeters),i=n._projection.unproject(n._rectangleNortheastInMeters);return n._rectangle=new l.Rectangle(o.longitude,o.latitude,i.longitude,i.latitude),n}return o(t,e),t}(l.WebMercatorTilingScheme);t.ToGCJ02WebMercatorTilingScheme=c;var p=function(e){function t(t){var n=e.call(this,t)||this,r=n._projection;return r.s_project=r.project,r.project=function(e){var t;return t=u.wgs84togcj02(l.Math.toDegrees(e.longitude),l.Math.toDegrees(e.latitude)),r.s_project(new l.Cartographic(l.Math.toRadians(t[0]),l.Math.toRadians(t[1])))},r.s_unproject=r.unproject,r.unproject=function(e){var t,n=r.s_unproject(e);return t=u.gcj02towgs84(l.Math.toDegrees(n.longitude),l.Math.toDegrees(n.latitude)),new l.Cartographic(l.Math.toRadians(t[0]),l.Math.toRadians(t[1]))},n}return o(t,e),t}(l.WebMercatorTilingScheme);t.ToWGS84WebMercatorTilingScheme=p},95925:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.updateImageryProviderFromJson=t.createImageryProviderFromJson=t.needRecreate=void 0;var s=n(43938),l=i(n(2003)),u=n(69767),c=n(60783),p=n(24352);function f(e,t){return{Time:0===t?l.JulianDate.toIso8601(e.stop):l.JulianDate.toIso8601(e.start)}}function d(e){if("fromIso8601"===e.type)return l.TimeIntervalCollection.fromIso8601({iso8601:e.iso8601,isStartIncluded:e.isStartIncluded,isStopIncluded:e.isStopIncluded,leadingInterval:e.leadingInterval,trailingInterval:e.trailingInterval,dataCallback:f})}t.needRecreate=function(e,t){return!0};var h=s.SceneObject.context.getStrFromEnv;t.createImageryProviderFromJson=function(e,t){var n,r,o,i,s,f,y,g;if("WebMapTileServiceImageryProvider"===e.type)return new l.WebMapTileServiceImageryProvider({url:h(e.url),format:null!==(n=e.format)&&void 0!==n?n:"image/jpeg",layer:e.layer,style:e.style,tileMatrixSetID:e.tileMatrixSetID,tileMatrixLabels:e.tileMatrixLabels,clock:e.times&&(null===(r=t.viewer)||void 0===r?void 0:r.clock),times:e.times&&d(e.times),dimensions:e.dimensions,tileWidth:null!==(o=e.tileWidth)&&void 0!==o?o:256,tileHeight:null!==(i=e.tileHeight)&&void 0!==i?i:256,tilingScheme:e.tilingScheme&&(0,c.createTilingSchema)(e.tilingScheme),rectangle:e.rectangle&&(0,u.toRectangle)(e.rectangle),minimumLevel:null!==(s=e.minimumLevel)&&void 0!==s?s:0,maximumLevel:e.maximumLevel,ellipsoid:e.ellipsoid&&(0,u.toEllipsoid)(e.ellipsoid),credit:e.credit,subdomains:e.subdomains});if("TileMapServiceImageryProvider"===e.type)return new l.TileMapServiceImageryProvider({url:e.url&&h(e.url),fileExtension:e.fileExtension,credit:e.credit,minimumLevel:e.minimumLevel,maximumLevel:e.maximumLevel,rectangle:e.rectangle&&(0,u.toRectangle)(e.rectangle),tilingScheme:e.tilingScheme&&(0,c.createTilingSchema)(e.tilingScheme),ellipsoid:e.ellipsoid&&(0,u.toEllipsoid)(e.ellipsoid),tileWidth:e.tileWidth,tileHeight:e.tileHeight,flipXY:e.flipXY});if("UrlTemplateImageryProvider"===e.type){var m=e.customTags&&(y=e.customTags,g=Object.entries(y).map((function(e){var t=a(e,2),n=t[0],r=t[1];try{return[n,r&&Function('"use strict";return ('.concat(r,")"))()]}catch(e){return void console.error("getCustomTagsFromJson error: ".concat(e),e)}})).filter((function(e){return!!e})),Object.fromEntries(g));return new l.UrlTemplateImageryProvider({url:h(e.url),credit:e.credit,minimumLevel:e.minimumLevel,maximumLevel:e.maximumLevel,rectangle:e.rectangle&&(0,u.toRectangle)(e.rectangle),tilingScheme:e.tilingScheme&&(0,c.createTilingSchema)(e.tilingScheme),ellipsoid:e.ellipsoid&&(0,u.toEllipsoid)(e.ellipsoid),tileWidth:e.tileWidth,tileHeight:e.tileHeight,subdomains:e.subdomains,hasAlphaChannel:e.hasAlphaChannel,pickFeaturesUrl:e.pickFeaturesUrl,enablePickFeatures:e.enablePickFeatures,urlSchemeZeroPadding:e.urlSchemeZeroPadding,customTags:m})}return"GridImageryProvider"===e.type?new l.GridImageryProvider({tilingScheme:e.tilingScheme&&(0,c.createTilingSchema)(e.tilingScheme),ellipsoid:e.ellipsoid&&(0,u.toEllipsoid)(e.ellipsoid),tileWidth:e.tileWidth,tileHeight:e.tileHeight,cells:e.cells,color:e.color&&(0,u.toColor)(e.color),glowColor:e.glowColor&&(0,u.toColor)(e.glowColor),backgroundColor:e.backgroundColor&&(0,u.toColor)(e.backgroundColor),canvasSize:e.canvasSize,glowWidth:e.glowWidth}):"ArcGisMapServerImageryProvider"===e.type?new l.ArcGisMapServerImageryProvider({url:h(e.url),token:e.token,usePreCachedTilesIfAvailable:e.usePreCachedTilesIfAvailable,layers:e.layers,enablePickFeatures:e.enablePickFeatures,rectangle:e.rectangle&&(0,u.toRectangle)(e.rectangle),tilingScheme:e.tilingScheme&&(0,c.createTilingSchema)(e.tilingScheme),ellipsoid:e.ellipsoid&&(0,u.toEllipsoid)(e.ellipsoid),credit:e.credit,tileWidth:e.tileWidth,tileHeight:e.tileHeight,maximumLevel:e.maximumLevel}):"BingMapsImageryProvider"===e.type?new l.BingMapsImageryProvider({url:h(e.url),key:e.key,tileProtocol:e.tileProtocol,mapStyle:e.mapStyle&&l.BingMapsStyle[e.mapStyle],culture:e.culture,ellipsoid:e.ellipsoid&&(0,u.toEllipsoid)(e.ellipsoid)}):"GoogleEarthEnterpriseImageryProvider"===e.type?new l.GoogleEarthEnterpriseImageryProvider({url:h(e.url),metadata:new l.GoogleEarthEnterpriseMetadata(e.metadata),ellipsoid:e.ellipsoid&&(0,u.toEllipsoid)(e.ellipsoid),credit:e.credit}):"IonImageryProvider"===e.type?new l.IonImageryProvider({assetId:e.assetId,accessToken:e.accessToken,server:e.server}):"MapboxImageryProvider"===e.type?new l.MapboxImageryProvider({url:e.url&&h(e.url),mapId:e.mapId,accessToken:e.accessToken,format:e.format,ellipsoid:e.ellipsoid&&(0,u.toEllipsoid)(e.ellipsoid),minimumLevel:e.minimumLevel,maximumLevel:e.maximumLevel,rectangle:e.rectangle&&(0,u.toRectangle)(e.rectangle),credit:e.credit}):"MapboxStyleImageryProvider"===e.type?new l.MapboxStyleImageryProvider({url:e.url&&h(e.url),username:e.username,styleId:e.styleId,accessToken:e.accessToken,tilesize:e.tilesize,scaleFactor:e.scaleFactor,rectangle:e.rectangle&&(0,u.toRectangle)(e.rectangle),credit:e.credit,ellipsoid:e.ellipsoid&&(0,u.toEllipsoid)(e.ellipsoid),minimumLevel:e.minimumLevel,maximumLevel:e.maximumLevel}):"OpenStreetMapImageryProvider"===e.type?new l.OpenStreetMapImageryProvider({url:h(e.url),rectangle:e.rectangle&&(0,u.toRectangle)(e.rectangle),credit:e.credit,ellipsoid:e.ellipsoid&&(0,u.toEllipsoid)(e.ellipsoid),minimumLevel:e.minimumLevel,maximumLevel:e.maximumLevel,fileExtension:e.fileExtension}):"SingleTileImageryProvider"===e.type?new l.SingleTileImageryProvider({url:h(e.url),rectangle:e.rectangle&&(0,u.toRectangle)(e.rectangle),credit:e.credit,ellipsoid:e.ellipsoid&&(0,u.toEllipsoid)(e.ellipsoid)}):"TileCoordinatesImageryProvider"===e.type?new l.TileCoordinatesImageryProvider({tilingScheme:e.tilingScheme&&(0,c.createTilingSchema)(e.tilingScheme),ellipsoid:e.ellipsoid&&(0,u.toEllipsoid)(e.ellipsoid),color:e.color&&(0,u.toColor)(e.color),tileWidth:e.tileWidth,tileHeight:e.tileHeight}):"WebMapServiceImageryProvider"===e.type?new l.WebMapServiceImageryProvider({url:h(e.url),layers:e.layers,enablePickFeatures:e.enablePickFeatures,rectangle:e.rectangle&&(0,u.toRectangle)(e.rectangle),tilingScheme:e.tilingScheme&&(0,c.createTilingSchema)(e.tilingScheme),ellipsoid:e.ellipsoid&&(0,u.toEllipsoid)(e.ellipsoid),minimumLevel:e.minimumLevel,maximumLevel:e.maximumLevel,tileWidth:e.tileWidth,tileHeight:e.tileHeight,crs:e.crs,srs:e.srs,credit:e.credit,subdomains:e.subdomains,clock:e.times&&(null===(f=t.viewer)||void 0===f?void 0:f.clock),times:e.times&&d(e.times),parameters:e.parameters,getFeatureInfoParameters:e.getFeatureInfoParameters}):"BDImageryProvider"===e.type?new p.BDImageryProvider({url:e.url&&h(e.url),ellipsoid:e.ellipsoid&&(0,u.toEllipsoid)(e.ellipsoid),wgs84:e.wgs84}):void 0},t.updateImageryProviderFromJson=function(e,t){"WebMapTileServiceImageryProvider"===t.type&&l.WebMapTileServiceImageryProvider}},32634:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmImagery=void 0;var u=n(19239),c=n(10070),p=s(n(2003)),f=n(69767),d=n(75125),h=n(323),y=n(95925);l(n(43920),t);var g=function(e){function t(t,n){var r=e.call(this,t,n)||this;r._layer=r.disposeVar((0,u.react)(void 0));var o=n.viewer;if(!o)return r;var i=(0,d.getViewerExtensions)(o);if(!i)return r;var a=i.imageriesManager;a.add(r),r.dispose((function(){return a.delete(r)}));var s=function(){r.layer&&(r.layer=void 0)};r.dispose(s);var l=function(){s(),r.layer=function(){if(t.imageryProvider){var e=(0,y.createImageryProviderFromJson)(t.imageryProvider,n);if(e)return new p.ImageryLayer(e);console.error("createImageryProviderFromJson error!")}}()},h=function(){var e,n,o,i,a,s,l,u,c,d;r.layer&&(r.layer.alpha=null!==(e=t.alpha)&&void 0!==e?e:1,r.layer.nightAlpha=null!==(n=t.nightAlpha)&&void 0!==n?n:1,r.layer.dayAlpha=null!==(o=t.dayAlpha)&&void 0!==o?o:1,r.layer.brightness=null!==(i=t.brightness)&&void 0!==i?i:1,r.layer.contrast=null!==(a=t.contrast)&&void 0!==a?a:1,r.layer.hue=null!==(s=t.hue)&&void 0!==s?s:0,r.layer.saturation=null!==(l=t.saturation)&&void 0!==l?l:1,r.layer.gamma=null!==(u=t.gamma)&&void 0!==u?u:1,r.layer.splitDirection=t.splitDirection&&p.SplitDirection[t.splitDirection]||p.SplitDirection.NONE,r.layer.minificationFilter=t.minificationFilter&&p.TextureMinificationFilter[t.minificationFilter]||p.TextureMinificationFilter.LINEAR,r.layer.magnificationFilter=t.magnificationFilter&&p.TextureMagnificationFilter[t.magnificationFilter]||p.TextureMagnificationFilter.LINEAR,r.layer.show=null===(c=t.show)||void 0===c||c,r.layer.maximumAnisotropy=t.maximumAnisotropy,r.layer.minimumTerrainLevel=t.minimumTerrainLevel,r.layer.maximumTerrainLevel=t.maximumTerrainLevel,r.layer.colorToAlpha=t.colorToAlpha&&(0,f.toColor)(t.colorToAlpha),r.layer.colorToAlphaThreshold=null!==(d=t.colorToAlphaThreshold)&&void 0!==d?d:.004,t.imageryProvider&&(0,y.updateImageryProviderFromJson)(r.layer.imageryProvider,t.imageryProvider))};l(),h();var g=r.disposeVar(new u.Event),m=r.disposeVar(new u.Event);r.dispose(t.imageryProviderChanged.disposableOn((function(e,t){(0,y.needRecreate)(t,e)?g.emit():m.emit()}))),r.dispose(c.SceneObject.context.environmentVariablesChanged.disposableOn((function(){g.emit()})));var v=r.disposeVar((0,c.createNextAnimateFrameEvent)(t.rectangleChanged,g));r.dispose(v.disposableOn((function(){l(),h()})));var b=r.disposeVar((0,c.createNextAnimateFrameEvent)(t.alphaChanged,t.nightAlphaChanged,t.dayAlphaChanged,t.brightnessChanged,t.contrastChanged,t.hueChanged,t.saturationChanged,t.gammaChanged,t.splitDirectionChanged,t.minificationFilterChanged,t.magnificationFilterChanged,t.showChanged,t.maximumAnisotropyChanged,t.minimumTerrainLevelChanged,t.maximumTerrainLevelChanged,t.cutoutRectangleChanged,t.colorToAlphaChanged,t.colorToAlphaThresholdChanged,m));return r.dispose(b.disposableOn((function(){h()}))),r.dispose(t.flyToEvent.disposableOn((function(e){if(n.actived){var r=n.viewer;r&&(t.rectangle?r.camera.flyTo({destination:(0,f.toRectangle)(t.rectangle),duration:e}):console.warn("不能飞入，因为未设置rectangle属性！"))}}))),r}var n;return o(t,e),Object.defineProperty(t.prototype,"layer",{get:function(){return this._layer.value},set:function(e){this._layer.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layerChanged",{get:function(){return this._layer.changed},enumerable:!1,configurable:!0}),n=t,t.type=n.register(h.CzmImagery.type,n),t}(d.CzmObject);t.CzmCzmImagery=g},88768:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmKml=void 0;var c=n(43938),p=n(19239),f=n(10070),d=s(n(2003)),h=n(75125),y=n(323),g=n(83205),m=function(e){function t(t,n){var r=e.call(this,t,n)||this;r._dataSource=r.disposeVar((0,p.react)(void 0));var o,i=n.viewer;if(!i)return console.warn("viewer is undefined!"),r;o=document.createElement("div"),i.container.appendChild(o),o.style.pointerEvents="none",o.style.position="absolute",o.style.top="0",o.style.left="0",o.style.width="100%",o.style.height="100%",r.dispose((function(){i.container.removeChild(o)})),r.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(null!==(n=t.allowPicking)&&void 0!==n&&n){if(!e)return;if(!e.czmPickResult)return;if(!e.czmPickResult.id)return;e.czmPickResult.id.entityCollection._owner===r.dataSource&&t.pickedEvent.emit(new c.SceneObjectPickedInfo(t,e))}}))),r.dispose(t.flyToEvent.disposableOn((function(e){n.actived&&r.dataSource&&(void 0!==e?i.flyTo(r.dataSource,{duration:e/1e3}):i.flyTo(r.dataSource))})));var a=function(){r.dataSource&&(i.dataSources.remove(r.dataSource),r._dataSource.value=void 0)};r.dispose((function(){return a()}));var s=function(){if(r.dataSource){var e=r.dataSource;e.clock&&(t.startTime=d.JulianDate.toDate(e.clock.startTime).getTime(),t.stopTime=d.JulianDate.toDate(e.clock.stopTime).getTime(),t.currentTime=d.JulianDate.toDate(e.clock.currentTime).getTime(),t.multiplier=e.clock.multiplier,t.clockStep=g.CzmCzmClock.getClockStep(e.clock.clockStep),t.clockRange=g.CzmCzmClock.getClockRange(e.clock.clockRange))}else console.warn("resetClock warn: dataSource is undefined!")};r.dispose(t.resetClockEvent.disposableOn(s));var h=function(){var e,n;r.dataSource&&(r.dataSource.show=null!==(e=t.show)&&void 0!==e?e:y.CzmKml.defaults.show,o.style.display=(null!==(n=t.show)&&void 0!==n?n:y.CzmKml.defaults.show)?"block":"none")};h(),r.dispose(t.showChanged.disposableOn(h));var m=r.disposeVar((0,p.react)(void 0));(_=function(){var e,n;m.value=null!==(e=t.data&&(n=t.data,(new DOMParser).parseFromString(n,"application/xml")))&&void 0!==e?e:t.uri&&f.SceneObject.context.getStrFromEnv(t.uri)})();var v=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.uriChanged,t.dataChanged));r.dispose(v.disposableOn(_));var b=r.disposeVar((0,f.createProcessingFromAsyncFunc)((function(e){return l(r,void 0,void 0,(function(){var n,r;return u(this,(function(l){switch(l.label){case 0:return a(),m.value?[4,d.KmlDataSource.load(m.value,{camera:i.scene.camera,canvas:i.scene.canvas,screenOverlayContainer:o})]:[2];case 1:if(n=l.sent(),e.check(),i.dataSources.add(n),this._dataSource.value=n,h(),(null!==(r=t.autoResetClock)&&void 0!==r?r:y.CzmKml.defaults.autoResetClock)&&s(),!t.loadFun)return[2];try{t.loadFun(n,i)}catch(e){console.error(e)}return[2]}}))}))})));(_=function(){b.isRunning&&b.cancel(),b.restart()})();var _,w=r.disposeVar((0,p.createNextAnimateFrameEvent)(m.changed,t.loadFunChanged));return r.dispose(w.disposableOn(_)),(_=function(){if(t.loadFuncStr)try{var e=Function('"use strict";return ('.concat(t.loadFuncStr,")"))();t.loadFun=e}catch(e){console.error(e),t.loadFun=void 0}else t.loadFun=void 0})(),r.dispose(t.loadFuncStrChanged.disposableOn(_)),r}var n;return o(t,e),Object.defineProperty(t.prototype,"dataSource",{get:function(){return this._dataSource.value},enumerable:!1,configurable:!0}),n=t,t.type=n.register(y.CzmKml.type,n),t}(h.CzmObject);t.CzmCzmKml=m},96044:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmLabelPrimitiveCollection=void 0;var l=s(n(2003)),u=n(69767),c=n(10070),p=n(75125),f=n(323),d=n(69375),h=function(e){function t(t,n){var r,o=e.call(this,t,n)||this,i=n.viewer;if(!i)return console.warn("viewer is undefined!"),o;if(!(0,p.getViewerExtensions)(n.viewer))return o;var a=function(){r&&(r.removeAll(),i.scene.primitives.remove(r),r=void 0)};o.dispose(a);var s=function(){var e,o,s,c,p;a(),p=new l.LabelCollection({scene:null===(e=n.viewer)||void 0===e?void 0:e.scene,show:null===(o=t.show)||void 0===o||o,debugShowBoundingVolume:null!==(s=t.debugShowBoundingVolume)&&void 0!==s&&s,blendOption:null!==(c=t.blendOption&&d.czmPropMaps.blendOptionType[t.blendOption])&&void 0!==c?c:l.BlendOption.OPAQUE_AND_TRANSLUCENT}),r=t.labelPrimitiveOptions?(t.labelPrimitiveOptions.forEach((function(e){p.add({fillColor:e.fillColor&&(0,u.toColor)(e.fillColor),show:e.show,position:e.position&&(0,u.positionToCartesian)(e.position),pixelOffset:e.pixelOffset&&(0,u.toCartesian2)(e.pixelOffset),eyeOffset:e.eyeOffset&&(0,u.toCartesian3)(e.eyeOffset),heightReference:e.heightReference&&d.czmPropMaps.heightReferencePropsMap[e.heightReference],horizontalOrigin:e.horizontalOrigin&&d.czmPropMaps.horizontalOriginType[e.horizontalOrigin],verticalOrigin:e.verticalOrigin&&d.czmPropMaps.verticalOriginOriginType[e.verticalOrigin],scale:e.scale,translucencyByDistance:e.translucencyByDistance&&(0,u.toNearFarScalar)(e.translucencyByDistance),pixelOffsetScaleByDistance:e.pixelOffsetScaleByDistance&&(0,u.toNearFarScalar)(e.pixelOffsetScaleByDistance),distanceDisplayCondition:e.distanceDisplayCondition&&(0,u.toCartesian2)(e.distanceDisplayCondition),scaleByDistance:e.scaleByDistance&&(0,u.toNearFarScalar)(e.scaleByDistance),style:e.style&&d.czmPropMaps.labelStyleType[e.style],backgroundPadding:e.backgroundPadding&&(0,u.toCartesian2)(e.backgroundPadding),backgroundColor:e.backgroundColor&&(0,u.toColor)(e.backgroundColor),outlineColor:e.outlineColor&&(0,u.toColor)(e.outlineColor),showBackground:e.showBackground,text:e.text,font:e.font,outlineWidth:e.outlineWidth})})),p):p,i.scene.primitives.add(r)};s();var f=o.disposeVar((0,c.createNextAnimateFrameEvent)(t.showChanged,t.debugShowBoundingVolumeChanged,t.blendOptionChanged));o.dispose(f.disposableOn((function(){var e,n,o;r&&(r.show=null===(e=t.show)||void 0===e||e,r.debugShowBoundingVolume=null!==(n=t.debugShowBoundingVolume)&&void 0!==n&&n,r.blendOption=null!==(o=t.blendOption&&d.czmPropMaps.blendOptionType[t.blendOption])&&void 0!==o?o:l.BlendOption.OPAQUE_AND_TRANSLUCENT)})));var h=o.disposeVar((0,c.createNextAnimateFrameEvent)(t.labelPrimitiveOptionsChanged));o.dispose(h.disposableOn((function(){s()})));var y=new l.BoundingSphere;return o.dispose(t.flyToEvent.disposableOn((function(e){if(n.actived&&t.labelPrimitiveOptions)if(1===t.labelPrimitiveOptions.length){var r=t.labelPrimitiveOptions[0].position;if(!r)return;var o=i.scene.camera.positionCartographic.height;(0,u.flyTo)(i.scene.camera,r,o,void 0,e)}else{var a=t.labelPrimitiveOptions,s=[];a.forEach((function(e){e.position&&s.push(e.position)}));var c=(0,u.positionsToUniqueCartesians)(s);if(l.BoundingSphere.fromPoints(c,y),y.radius>0){var p=(0,u.positionFromCartesian)(y.center);p&&(0,u.flyTo)(i.camera,p,4*y.radius,void 0,e)}}}))),o}var n;return o(t,e),n=t,t.type=n.register(f.CzmLabelPrimitiveCollection.type,n),t}(p.CzmObject);t.CzmCzmLabelPrimitiveCollection=h},70335:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmLabel=void 0;var l=n(69767),u=n(43938),c=n(10070),p=s(n(2003)),f=n(75125),d=n(323),h=n(69375),y=n(60783),g=function(e){function t(t,n){var r,o,i=e.call(this,t,n)||this,a=n.viewer;if(!a)return console.warn("viewer is undefined!"),i;var s=function(){r&&(a.scene.primitives.remove(o),a.scene.primitives.remove(r),r=void 0,o=void 0)};i.dispose(s),s(),r=new p.LabelCollection,o=r.add({}),a.scene.primitives.add(r);var f=i.disposeVar((0,c.createNextAnimateFrameEvent)(t.positionChanged,t.showChanged,t.fillColorChanged,t.pixelOffsetChanged,t.eyeOffsetChanged,t.heightReferenceChanged,t.horizontalOriginChanged,t.verticalOriginChanged,t.scaleChanged,t.scaleByDistanceChanged,t.translucencyByDistanceChanged,t.pixelOffsetScaleByDistanceChanged,t.distanceDisplayConditionChanged,t.textChanged,t.fontChanged,t.outlineColorChanged,t.outlineWidthChanged,t.showBackgroundChanged,t.backgroundColorChanged,t.backgroundPaddingChanged,t.styleChanged)),d=function(){var e,n,r,i,a,s,u,c,f,d,y,g,m,v,b;o&&(o.show=null===(e=t.show)||void 0===e||e,t.position&&(o.position=(0,l.positionToCartesian)(t.position)),o.fillColor=t.fillColor&&(0,l.toColor)(t.fillColor)||p.Color.WHITE,o.pixelOffset=null!==(n=t.pixelOffset&&(0,l.toCartesian2)(t.pixelOffset))&&void 0!==n?n:p.Cartesian2.ZERO,o.eyeOffset=null!==(r=t.eyeOffset&&(0,l.toCartesian3)(t.eyeOffset))&&void 0!==r?r:p.Cartesian3.ZERO,o.heightReference=null!==(i=t.heightReference&&h.czmPropMaps.heightReferencePropsMap[t.heightReference])&&void 0!==i?i:p.HeightReference.NONE,o.horizontalOrigin=null!==(a=t.horizontalOrigin&&h.czmPropMaps.horizontalOriginType[t.horizontalOrigin])&&void 0!==a?a:p.HorizontalOrigin.CENTER,o.verticalOrigin=null!==(s=t.verticalOrigin&&h.czmPropMaps.verticalOriginOriginType[t.verticalOrigin])&&void 0!==s?s:p.VerticalOrigin.CENTER,o.scale=null!==(u=t.scale)&&void 0!==u?u:1,t.scaleByDistance&&(o.scaleByDistance=(0,l.toNearFarScalar)(t.scaleByDistance)),t.translucencyByDistance&&(o.translucencyByDistance=(0,l.toNearFarScalar)(t.translucencyByDistance)),t.pixelOffsetScaleByDistance&&(o.pixelOffsetScaleByDistance=(0,l.toNearFarScalar)(t.pixelOffsetScaleByDistance)),t.distanceDisplayCondition&&(o.distanceDisplayCondition=(0,l.toDistanceDisplayCondition)(t.distanceDisplayCondition)),o.text=null!==(c=t.text)&&void 0!==c?c:"请输入文字",o.font=null!==(f=t.font)&&void 0!==f?f:"30px sans-serif",o.outlineColor=null!==(d=t.outlineColor&&(0,l.toColor)(t.outlineColor))&&void 0!==d?d:p.Color.BLACK,o.outlineWidth=null!==(y=t.outlineWidth)&&void 0!==y?y:1,o.showBackground=null!==(g=t.showBackground)&&void 0!==g&&g,o.backgroundColor=null!==(m=t.backgroundColor&&(0,l.toColor)(t.backgroundColor))&&void 0!==m?m:(0,l.toColor)([.165,.165,.165,.8]),o.backgroundPadding=null!==(v=t.backgroundPadding&&(0,l.toCartesian2)(t.backgroundPadding))&&void 0!==v?v:new p.Cartesian2(7,5),o.style=null!==(b=t.style&&h.czmPropMaps.labelStyleType[t.style])&&void 0!==b?b:p.LabelStyle.FILL)};return d(),i.dispose(f.disposableOn(d)),i.dispose(t.flyToEvent.disposableOn((function(){if(t.position){var e=a.scene.camera.positionCartographic.height;(0,y.flyTo)(a.scene.camera,t.position,e,void 0,1e3)}else console.warn("当前没有位置信息，无法飞入！")}))),i.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var r=e.czmPickResult;r&&null!==(n=t.allowPicking)&&void 0!==n&&n&&o&&r.primitive===o&&t.pickedEvent.emit(new u.SceneObjectPickedInfo(t,e))}}))),i}var n;return o(t,e),n=t,t.type=n.register(d.CzmLabel.type,n),t}(f.CzmObject);t.CzmCzmLabel=g},40988:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmModelEntity=void 0;var l=n(69767),u=n(43938),c=s(n(2003)),p=n(75125),f=n(323),d=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;if(!(0,p.getViewerExtensions)(n.viewer))return r;var i=o.entities.add({position:c.Cartesian3.fromDegrees(0,0,0),model:{uri:""}});r.dispose((function(){return o.entities.remove(i)})),r.dispose(n.czmPickedEvent.disposableOn((function(e){if(e){var n=e.czmPickResult;n&&n.id===i&&t.pickedEvent.emit(e)}}))),(s=function(){i.show=t.show})(),r.dispose(t.showChanged.disposableOn(s));var a=new c.Cartesian3;(s=function(){i.position=t.position&&(0,l.positionToCartesian)(t.position,a)})(),r.dispose(t.positionChanged.disposableOn(s));var s,f=new c.Quaternion;(s=function(){var e;i.orientation=t.position&&(0,l.positionAndRotationToQuaternion)(t.position,null!==(e=t.rotation)&&void 0!==e?e:[0,0,0],f)})(),r.dispose(t.rotationChanged.disposableOn(s)),r.dispose(t.positionChanged.disposableOn(s));var d,h=r.disposeVar(u.SceneObject.context.createEvnStrReact([t,"uri"],"${scene-manager-script-dir}/xe2-assets/scene-manager/glbs/Cesium_Air.glb")),y=function(){i.model.uri=h.value};return y(),r.dispose(h.changed.disposableOn(y)),(d=function(){var e;i.model.scale=null!==(e=t.scale)&&void 0!==e?e:1})(),r.dispose(t.scaleChanged.disposableOn(d)),(d=function(){i.model.maximumScale=t.maximumScale})(),r.dispose(t.maximumScaleChanged.disposableOn(d)),(d=function(){var e;i.model.minimumPixelSize=null!==(e=t.minimumPixelSize)&&void 0!==e?e:0})(),r.dispose(t.minimumPixelSizeChanged.disposableOn(d)),(d=function(){i.model.color=t.color&&(0,l.toColor)(t.color)})(),r.dispose(t.colorChanged.disposableOn(d)),r.dispose(t.flyToEvent.disposableOn((function(){return n.actived&&o.flyTo(i)}))),r}var n;return o(t,e),n=t,t.type=n.register(f.CzmModelEntity.type,n),t}(p.CzmObject);t.CzmCzmModelEntity=d},46015:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},c=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},p=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},f=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmModelPrimitive=void 0;var d=n(69767),h=n(43938),y=n(19239),g=n(10070),m=s(n(2003)),v=n(75125),b=n(323),_=n(69375),w=n(60783),P=n(34065),C=function(e){function t(t,n){var r=e.call(this,t,n)||this;r._czmViewVisibleDistanceRangeControl=r.disposeVar(new w.CzmViewDistanceRangeControl(r.czmViewer,[r.sceneObject,"viewDistanceRange"],[r.sceneObject,"position"])),r._viewDistanceDebugBinding=(r.dispose((0,y.track)([r._czmViewVisibleDistanceRangeControl,"debug"],[r.sceneObject,"viewDistanceDebug"])),0);var o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;if(r.dispose((function(){r._primitive&&o.scene.primitives.remove(r._primitive),r._primitive=void 0})),!(0,v.getViewerExtensions)(n.viewer))return r;r.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var o=e.czmPickResult;o&&null!==(n=t.allowPicking)&&void 0!==n&&n&&r._primitive&&o.primitive===r._primitive&&t.pickedEvent.emit(new h.SceneObjectPickedInfo(t,e))}}))),r.dispose(t.printDebugInfoEvent.disposableOn((function(){console.log("---czm-model-primitive-debug-info-viewerid-".concat(n.id,"-begin---")),console.log("CzmCzmModelPrimitive: ",r),console.log("native gltf: ",r.gltf),console.log("native primitive: ",r.primitive),console.log("---czm-model-primitive-debug-info-viewerid-".concat(n.id,"-end---"))})));var i=r.disposeVar((0,y.react)(!1)),a=function(){var e;return(null===(e=t.show)||void 0===e||e)&&!i.value&&r.visibleAlpha>0},s=r.disposeVar((0,y.react)(void 0)),C=function(){var e,n;do{if(!t.position||!t.pixelSize)break;var r=(e=m.Cartesian3).fromDegrees.apply(e,p([],c(t.position),!1));if(!r)break;if(void 0===(n=(0,d.getSceneScaleForScreenPixelSize)(o.scene,r,t.pixelSize)))break;void 0!==t.maximumScale&&n>t.maximumScale&&(n=t.maximumScale),void 0!==t.minimumScale&&n<t.minimumScale&&(n=t.minimumScale)}while(0);s.value=n};C(),r.dispose(o.scene.preUpdate.addEventListener(C)),r.disposeVar(new _.CurrentSceneScalePoi(n,[t,"showSceneScale"],[t,"position"],s));var O=r.disposeVar(g.SceneObject.context.createEvnStrReact([t,"url"],b.CzmModelPrimitive.defaultUrl)),x=r.disposeVar(g.SceneObject.context.createEvnStrReact([t,"specularEnvironmentMaps"])),S=function(){if(r._primitive)if(a()){r._primitive.show=!0;var e=(0,d.computeCzmModelMatrix)({localScale:t.localScale,initialRotation:"xForwardzUp",localRotation:t.localRotation,localPosition:t.localPosition,localModelMatrix:t.localModelMatrix,sceneScaleFromPixelSize:s.value,scale:t.scale,rotation:t.rotation,position:t.position,modelMatrix:t.modelMatrix});e?r._primitive.modelMatrix=e:console.warn("computeCzmModelMatrix error.")}else r._primitive.show=!1},E=!0;r.dispose(t.showChanged.disposableOn((function(){return E=!0}))),r.dispose(i.changed.disposableOn((function(){return E=!0}))),r.dispose(t.localPositionChanged.disposableOn((function(){return E=!0}))),r.dispose(t.localRotationChanged.disposableOn((function(){return E=!0}))),r.dispose(t.localScaleChanged.disposableOn((function(){return E=!0}))),r.dispose(t.localModelMatrixChanged.disposableOn((function(){return E=!0}))),r.dispose(t.positionChanged.disposableOn((function(){return E=!0}))),r.dispose(t.rotationChanged.disposableOn((function(){return E=!0}))),r.dispose(t.scaleChanged.disposableOn((function(){return E=!0}))),r.dispose(t.modelMatrixChanged.disposableOn((function(){return E=!0}))),r.dispose(s.changed.disposableOn((function(){return E=!0}))),S(),r.dispose(o.scene.preUpdate.addEventListener((function(){E&&(E&&(E=!1),S())})));var j=r.disposeVar((0,g.createProcessingFromAsyncFunc)((function(e){return l(r,void 0,void 0,(function(){var n,r,o,i,s,l,c,p,h,y,g,v,w,C,O,S,E,j,T,M,A,I,N,D;return u(this,(function(u){switch(u.label){case 0:return(n=this._primitive)?(r=a(),n.show=r,n.clampAnimations=null===(g=t.clampAnimations)||void 0===g||g,n.shadows=_.czmPropMaps.shadowPropsMap[null!==(v=t.shadows)&&void 0!==v?v:"DISABLED"],n.debugShowBoundingVolume=null!==(w=t.debugShowBoundingVolume)&&void 0!==w&&w,n.debugWireframe=null!==(C=t.debugWireframe)&&void 0!==C&&C,n.backFaceCulling=null===(O=t.backFaceCulling)||void 0===O||O,n.heightReference=t.heightReference?_.czmPropMaps.heightReferencePropsMap[t.heightReference]:_.czmPropMaps.heightReferencePropsMap.NONE,n.distanceDisplayCondition=(0,d.toDistanceDisplayCondition)(null!==(S=t.distanceDisplayCondition)&&void 0!==S?S:[0,Number.MAX_VALUE]),(o=null!==(E=t.color)&&void 0!==E?E:[1,1,1,1])[3]*=this.visibleAlpha,i=(0,d.toColor)(o),n.color=i,n.colorBlendMode=_.czmPropMaps.colorBlendModeType[null!==(j=t.colorBlendMode)&&void 0!==j?j:"HIGHLIGHT"],n.silhouetteColor=t.silhouetteColor&&(0,d.toColor)(t.silhouetteColor)||m.Color.RED,n.silhouetteSize=null!==(T=t.silhouetteSize)&&void 0!==T?T:0,n.colorBlendAmount=null!==(M=t.colorBlendAmount)&&void 0!==M?M:.5,n.lightColor=(0,d.toCartesian3)(null!==(A=t.lightColor)&&void 0!==A?A:[1,1,1]),(s=n.imageBasedLighting)&&(s.luminanceAtZenith=null!==(I=t.luminanceAtZenith)&&void 0!==I?I:.2,s.imageBasedLightingFactor=(0,d.toCartesian2)(null!==(N=t.imageBasedLightingFactor)&&void 0!==N?N:[1,1]),s.sphericalHarmonicCoefficients=t.sphericalHarmonicCoefficients&&(0,P.toCoefficients)(t.sphericalHarmonicCoefficients),s.specularEnvironmentMaps=x.value),n.ready?[3,2]:[4,e.promise(new Promise((function(t,r){var o=n.readyEvent.addEventListener((function(){n.ready&&(o(),t())}));e.disposer.dispose(o)})))]):[2];case 1:u.sent(),u.label=2;case 2:if(n.activeAnimations.animateWhilePaused=null!==(D=t.activeAnimationsAnimateWhilePaused)&&void 0!==D?D:b.CzmModelPrimitive.defaults.activeAnimationsAnimateWhilePaused,n.activeAnimations.removeAll(),t.activeAnimations)try{for(l=f(t.activeAnimations),c=l.next();!c.done;c=l.next())p=c.value,n.activeAnimations.add({name:p.name,index:p.index,startTime:p.startTime,delay:p.delay,stopTime:p.stopTime,removeOnStop:p.removeOnStop,multiplier:p.multiplier,reverse:p.reverse,loop:p.loop,animationTime:p.animationTime})}catch(e){h={error:e}}finally{try{c&&!c.done&&(y=l.return)&&y.call(l)}finally{if(h)throw h.error}}return function(e){var n,r,o,i=e._nodesByName&&Object.keys(e._nodesByName);if(i)try{for(var a=f(i),s=a.next();!s.done;s=a.next()){var l=s.value,u=e.getNode(l);if(u){var c=t.nodeTransformations&&t.nodeTransformations[l];if(c){var p=c.translationX,d=c.translationY,h=c.translationZ,y=c.rotationHeading,g=c.rotationPitch,v=c.rotationRoll,b=c.scaleX,_=c.scaleY,w=c.scaleZ;if(Number.isFinite(p)&&Number.isFinite(d)&&Number.isFinite(h)&&Number.isFinite(y)&&Number.isFinite(g)&&Number.isFinite(v)&&Number.isFinite(b)&&Number.isFinite(_)&&Number.isFinite(w))if(b<0||_<0||w<0)console.error("scaleX < 0 || scaleY < 0 || scaleZ < 0");else{var P=m.Math.toRadians,C=m.Matrix4.fromTranslationQuaternionRotationScale(new m.Cartesian3(p,d,h),m.Quaternion.fromHeadingPitchRoll(new m.HeadingPitchRoll(P(y),P(g),P(v))),new m.Cartesian3(b,_,w));u.matrix=m.Matrix4.multiply(u.originalMatrix,C,null!==(o=u.matrix)&&void 0!==o?o:new m.Matrix4)}else console.error("transformation数值有误！".concat(JSON.stringify(c,void 0,"    ")),c)}else m.Matrix4.equals(u.matrix,u.originalMatrix)||(u.matrix=void 0)}else console.error("!node ".concat(l))}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}(n),[2]}}))}))}))),T=r.disposeVar((0,g.createProcessingFromAsyncFunc)((function(e){return l(r,void 0,void 0,(function(){var i,s;return u(this,(function(p){switch(p.label){case 0:return j.cancel(),this._gltf=void 0,this._primitive&&(o.scene.primitives.remove(this._primitive),this._primitive=void 0),this._customShaderInstance&&(this._customShaderInstance.destroy(),this._customShaderInstance=void 0),O.value?[4,e.promise(l(r,void 0,void 0,(function(){var e,r,i,s,l=this;return u(this,(function(u){switch(u.label){case 0:return O.value?(e=t.customShaderInstanceClass&&new t.customShaderInstanceClass(t,n),(r=null!==(s=t.color)&&void 0!==s?s:[1,1,1,1])[3]*=this.visibleAlpha,i=(0,d.toColor)(r),[4,m.Model.fromGltfAsync({url:O.value,basePath:t.basePath,show:a(),allowPicking:t.allowPicking,incrementallyLoadTextures:t.incrementallyLoadTextures,asynchronous:t.asynchronous,clampAnimations:t.clampAnimations,shadows:t.shadows&&_.czmPropMaps.shadowPropsMap[t.shadows],debugShowBoundingVolume:t.debugShowBoundingVolume,debugWireframe:t.debugWireframe,backFaceCulling:t.backFaceCulling,showOutline:t.showOutline,heightReference:t.heightReference&&_.czmPropMaps.heightReferencePropsMap[t.heightReference],distanceDisplayCondition:t.distanceDisplayCondition&&(0,d.toDistanceDisplayCondition)(t.distanceDisplayCondition),color:i,scene:o.scene,colorBlendMode:t.colorBlendMode&&_.czmPropMaps.colorBlendModeType[t.colorBlendMode],credit:t.credit,silhouetteColor:t.silhouetteColor&&(0,d.toColor)(t.silhouetteColor),colorBlendAmount:t.colorBlendAmount,silhouetteSize:t.silhouetteSize,upAxis:t.upAxis,forwardAxis:t.forwardAxis,customShader:e&&e.customShader,gltfCallback:function(e){l._gltf=e}})]):[2,void 0];case 1:return[2,[u.sent(),e]]}}))})))]:[2];case 1:return(i=p.sent())?(s=c(i,2),this._primitive=s[0],this._customShaderInstance=s[1],S(),this._primitive&&o.scene.primitives.add(this._primitive),j.restart(),[2]):[2]}}))}))})));T.start();var M=r.disposeVar((0,g.createNextAnimateFrameEvent)(O.changed,t.basePathChanged,t.allowPickingChanged,t.incrementallyLoadTexturesChanged,t.showOutlineChanged,t.asynchronousChanged,t.creditChanged,t.forwardAxisChanged,t.upAxisChanged,t.imageBasedLightingFactorChanged,t.lightColorChanged,t.luminanceAtZenithChanged,t.sphericalHarmonicCoefficientsChanged,x.changed,t.customShaderInstanceClassChanged));r.dispose(M.disposableOn((function(){j.isRunning&&j.cancel(),T.restart()})));var A=r.disposeVar((0,g.createNextAnimateFrameEvent)(t.showChanged,i.changed,t.clampAnimationsChanged,t.shadowsChanged,t.debugShowBoundingVolumeChanged,t.debugWireframeChanged,t.backFaceCullingChanged,t.heightReferenceChanged,t.distanceDisplayConditionChanged,t.colorChanged,t.colorBlendModeChanged,t.silhouetteColorChanged,t.colorBlendAmountChanged,t.silhouetteSizeChanged,t.activeAnimationsChanged,t.activeAnimationsAnimateWhilePausedChanged,t.nodeTransformationsChanged,r.visibleAlphaChanged));return r.dispose(A.disposableOn((function(){j.restart()}))),r.dispose(t.flyToEvent.disposableOn((function(e){if(t.position)if(r._primitive&&r._primitive.ready&&r._primitive.boundingSphere){var n=r._primitive._boundingSphere,i=n.center,a=n.radius,s=(m.Matrix4.multiplyByPoint(r._primitive.modelMatrix,i,new m.Cartesian3),3*a);(0,d.flyTo)(o.scene.camera,t.position,s,void 0,e)}else s=o.scene.camera.positionCartographic.height,(0,d.flyTo)(o.scene.camera,t.position,s,void 0,e);else console.warn("当前没有位置信息，无法飞入！")}))),r.dispose((0,y.track)(i,[t.sPositionEditing,"picking"])),r.dispose(t.updateCustomShaderEvent.disposableOn((function(e){r._customShaderInstance&&e(r._customShaderInstance,t,n)}))),r}var n;return o(t,e),Object.defineProperty(t.prototype,"primitive",{get:function(){return this._primitive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gltf",{get:function(){return this._gltf},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmViewerVisibleDistanceRangeControl",{get:function(){return this._czmViewVisibleDistanceRangeControl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleAlpha",{get:function(){return this._czmViewVisibleDistanceRangeControl.visibleAlpha},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleAlphaChanged",{get:function(){return this._czmViewVisibleDistanceRangeControl.visibleAlphaChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ready",{get:function(){return!!this._primitive&&this._primitive.ready},enumerable:!1,configurable:!0}),n=t,t.type=n.register(b.CzmModelPrimitive.type,n),t}(v.CzmObject);t.CzmCzmModelPrimitive=C},34065:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.toCoefficients=void 0;var l=i(n(2003));t.toCoefficients=function(e){var t,n,r,o,i,u,c,p,f;if(Array.isArray(e)&&9===e.length)return[new((t=l.Cartesian3).bind.apply(t,s([void 0],a(e[0]),!1))),new((n=l.Cartesian3).bind.apply(n,s([void 0],a(e[1]),!1))),new((r=l.Cartesian3).bind.apply(r,s([void 0],a(e[2]),!1))),new((o=l.Cartesian3).bind.apply(o,s([void 0],a(e[3]),!1))),new((i=l.Cartesian3).bind.apply(i,s([void 0],a(e[4]),!1))),new((u=l.Cartesian3).bind.apply(u,s([void 0],a(e[5]),!1))),new((c=l.Cartesian3).bind.apply(c,s([void 0],a(e[6]),!1))),new((p=l.Cartesian3).bind.apply(p,s([void 0],a(e[7]),!1))),new((f=l.Cartesian3).bind.apply(f,s([void 0],a(e[8]),!1)))];console.warn("toCoefficients error.")}},1203:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.fixParticleSystem=void 0;var a=i(n(2003));t.fixParticleSystem=function(){if(void 0===a.ParticleSystem.prototype.timeStamp){Object.defineProperties(a.ParticleSystem.prototype,{timeStamp:{get:function(){return void 0===this._innerCurrentTimeStamp&&(this._innerCurrentTimeStamp=0),this._innerCurrentTimeStamp},set:function(e){this.timeStamp!==e&&(this._innerCurrentTimeStamp=e,a.JulianDate.fromDate(new Date(e),this._falseTime))}},_falseTime:{get:function(){return this.__falseTime||(this.__falseTime=a.JulianDate.fromDate(new Date(0))),this.__falseTime}}});var e=a.ParticleSystem.prototype.update;a.ParticleSystem.prototype.update=function(t){var n=t.time;t.time=this._falseTime;try{e.call(this,t)}catch(e){}t.time=n}}else console.warn("fixParticleSystem已经执行过！")}},92643:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmParticleSystemPrimitive=void 0;var l=n(69767),u=n(10070),c=s(n(2003)),p=n(75125),f=n(323),d=n(1203),h=n(84785);(0,d.fixParticleSystem)();var y=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;var i=function(){r._primitive&&o.scene.primitives.remove(r._primitive),r._primitive=void 0};r.dispose(i);var a=function(){var e,n=null!==(e=t.position)&&void 0!==e?e:[0,0,0];return c.Transforms.eastNorthUpToFixedFrame(c.Cartesian3.fromDegrees(n[0],n[1],n[2]))},s=function(){var e,n,r=null!==(e=t.rotation)&&void 0!==e?e:[0,0,0],o=null!==(n=t.translation)&&void 0!==n?n:[0,0,0],i=c.HeadingPitchRoll.fromDegrees(r[0],r[1],r[2],new c.HeadingPitchRoll),a=new c.TranslationRotationScale;return a.translation=c.Cartesian3.fromElements(o[0],o[1],o[2],new c.Cartesian3),a.rotation=c.Quaternion.fromHeadingPitchRoll(i,new c.Quaternion),c.Matrix4.fromTranslationRotationScale(a,new c.Matrix4)},p=function(){var e,n,p,d,y,g,m,v,b;i(),r._primitive=(g=a(),m=s(),v=function(){if(t.bursts){var e=[];return t.bursts.forEach((function(t){var n=new c.ParticleBurst({time:t[0],minimum:t[1],maximum:t[2]});e.push(n)})),e}}(),b=(0,h.createParticleSystemEmitterFromJson)(null!==(e=t.emitter)&&void 0!==e?e:f.CzmParticleSystemPrimitive.defaults.emitter),new c.ParticleSystem({emitter:b,bursts:v,modelMatrix:g,emitterModelMatrix:m,updateCallback:t.updateCallback&&Function('"use strict";return ('+t.updateCallback+")")(),image:u.SceneObject.context.getStrFromEnv(null!==(n=t.image)&&void 0!==n?n:f.CzmParticleSystemPrimitive.defaults.image),imageSize:(0,l.toCartesian2)(null!==(p=t.imageSize)&&void 0!==p?p:f.CzmParticleSystemPrimitive.defaults.imageSize),minimumImageSize:t.minimumImageSize&&(0,l.toCartesian2)(t.minimumImageSize),maximumImageSize:t.maximumImageSize&&(0,l.toCartesian2)(t.maximumImageSize),show:t.show,emissionRate:t.emissionRate,loop:t.loop,scale:t.scale,startScale:t.startScale,endScale:null!==(d=t.endScale)&&void 0!==d?d:f.CzmParticleSystemPrimitive.defaults.endScale,color:t.color&&(0,l.toColor)(t.color),startColor:t.startColor&&(0,l.toColor)(t.startColor),endColor:t.endColor&&(0,l.toColor)(t.endColor),sizeInMeters:t.sizeInMeters,speed:t.speed,minimumSpeed:t.minimumSpeed,maximumSpeed:t.maximumSpeed,lifetime:t.lifetime,particleLife:null!==(y=t.particleLife)&&void 0!==y?y:f.CzmParticleSystemPrimitive.defaults.particleLife,minimumParticleLife:t.minimumParticleLife,maximumParticleLife:t.maximumParticleLife,mass:t.mass,minimumMass:t.minimumMass,maximumMass:t.maximumMass})),r._primitive&&o.scene.primitives.add(r._primitive)},d=function(){var e;if(r._primitive){var n=null===(e=t.show)||void 0===e||e;r._primitive.show=n,t.image&&(r._primitive.image=u.SceneObject.context.getStrFromEnv(t.image))}};p(),d();var y=r.disposeVar((0,u.createNextAnimateFrameEvent)(t.updateCallbackChanged,t.emitterChanged,t.burstsChanged,t.emissionRateChanged,t.loopChanged,t.scaleChanged,t.startScaleChanged,t.endScaleChanged,t.colorChanged,t.startColorChanged,t.endColorChanged,t.imageSizeChanged,t.minimumImageSizeChanged,t.maximumImageSizeChanged,t.sizeInMetersChanged,t.speedChanged,t.minimumSpeedChanged,t.maximumSpeedChanged,t.lifetimeChanged,t.particleLifeChanged,t.minimumParticleLifeChanged,t.maximumParticleLifeChanged,t.massChanged,t.minimumMassChanged,t.maximumMassChanged));r.dispose(y.disposableOn((function(){p(),d()})));var g=r.disposeVar((0,u.createNextAnimateFrameEvent)(t.showChanged,t.imageChanged));r.dispose(g.disposableOn((function(){d()})));var m=r.disposeVar((0,u.createNextAnimateFrameEvent)(t.positionChanged,t.rotationChanged,t.translationChanged));r.dispose(m.disposableOn((function(){if(r._primitive){var e=a(),t=s();r._primitive.modelMatrix=e,r._primitive.emitterModelMatrix=t}})));var v=function(){r._primitive&&(r._primitive.timeStamp=t.currentTime)};return v(),r.dispose(t.currentTimeChanged.disposableOn(v)),r.dispose(t.flyToEvent.disposableOn((function(){if(t.position){var e=t.position[2]+100;(0,l.flyTo)(o.scene.camera,t.position,e,void 0,1e3)}else console.warn("当前没有位置信息，无法飞入！")}))),r}var n;return o(t,e),n=t,t.type=n.register(f.CzmParticleSystemPrimitive.type,n),t}(p.CzmObject);t.CzmCzmParticleSystemPrimitive=y},84785:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createParticleSystemEmitterFromJson=void 0;var a=i(n(2003)),s=n(69767);t.createParticleSystemEmitterFromJson=function(e){if("BoxEmitter"===e.type){var t=e.dimensions;return t?new a.BoxEmitter((0,s.toCartesian3)(t)):void 0}if("CircleEmitter"===e.type){var n=e.radius;return new a.CircleEmitter(n)}if("ConeEmitter"===e.type){var r=e.angle;return new a.ConeEmitter(r)}if("SphereEmitter"===e.type)return n=e.radius,new a.SphereEmitter(n)}},76701:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmPointPrimitiveCollection=void 0;var l=s(n(2003)),u=n(69767),c=n(10070),p=n(75125),f=n(323),d=n(69375),h=function(e){function t(t,n){var r,o=e.call(this,t,n)||this,i=n.viewer;if(!i)return console.warn("viewer is undefined!"),o;if(!(0,p.getViewerExtensions)(n.viewer))return o;var a=function(){r&&(r.removeAll(),i.scene.primitives.remove(r),r=void 0)};o.dispose(a);var s=function(){var e,n,o,s;a(),s=new l.PointPrimitiveCollection({show:null===(e=t.show)||void 0===e||e,debugShowBoundingVolume:null!==(n=t.debugShowBoundingVolume)&&void 0!==n&&n,blendOption:null!==(o=t.blendOption&&d.czmPropMaps.blendOptionType[t.blendOption])&&void 0!==o?o:l.BlendOption.OPAQUE_AND_TRANSLUCENT}),r=t.pointPrimitiveOptions?(t.pointPrimitiveOptions.forEach((function(e){var t;s.add({show:null===(t=e.show)||void 0===t||t,color:e.color&&(0,u.toColor)(e.color),disableDepthTestDistance:e.disableDepthTestDistance,distanceDisplayCondition:e.distanceDisplayCondition&&(0,u.toDistanceDisplayCondition)(e.distanceDisplayCondition),outlineColor:e.outlineColor&&(0,u.toColor)(e.outlineColor),outlineWidth:e.outlineWidth,pixelSize:e.pixelSize,position:e.position&&(0,u.positionToCartesian)(e.position),scaleByDistance:e.scaleByDistance&&(0,u.toNearFarScalar)(e.scaleByDistance),translucencyByDistance:e.translucencyByDistance&&(0,u.toNearFarScalar)(e.translucencyByDistance)})})),s):s,i.scene.primitives.add(r)};s();var f=o.disposeVar((0,c.createNextAnimateFrameEvent)(t.showChanged,t.debugShowBoundingVolumeChanged,t.blendOptionChanged));o.dispose(f.disposableOn((function(){var e,n,o;r&&(r.show=null===(e=t.show)||void 0===e||e,r.debugShowBoundingVolume=null!==(n=t.debugShowBoundingVolume)&&void 0!==n&&n,r.blendOption=null!==(o=t.blendOption&&d.czmPropMaps.blendOptionType[t.blendOption])&&void 0!==o?o:l.BlendOption.OPAQUE_AND_TRANSLUCENT)})));var h=o.disposeVar((0,c.createNextAnimateFrameEvent)(t.pointPrimitiveOptionsChanged));o.dispose(h.disposableOn((function(){s()})));var y=new l.BoundingSphere;return o.dispose(t.flyToEvent.disposableOn((function(e){if(n.actived&&t.pointPrimitiveOptions)if(1===t.pointPrimitiveOptions.length){var r=t.pointPrimitiveOptions[0].position;if(!r)return;var o=i.scene.camera.positionCartographic.height;(0,u.flyTo)(i.scene.camera,r,o,void 0,e)}else{var a=t.pointPrimitiveOptions,s=[];a.forEach((function(e){e.position&&s.push(e.position)}));var c=(0,u.positionsToUniqueCartesians)(s);if(l.BoundingSphere.fromPoints(c,y),y.radius>0){var p=(0,u.positionFromCartesian)(y.center);p&&(0,u.flyTo)(i.camera,p,4*y.radius,void 0,e)}}}))),o}var n;return o(t,e),n=t,t.type=n.register(f.CzmPointPrimitiveCollection.type,n),t}(p.CzmObject);t.CzmCzmPointPrimitiveCollection=h},58567:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmPoint=void 0;var l=n(69767),u=n(10070),c=s(n(2003)),p=n(75125),f=n(323),d=n(60783),h=function(e){function t(t,n){var r,o,i=e.call(this,t,n)||this,a=n.viewer;if(!a)return console.warn("viewer is undefined!"),i;var s=function(){r&&(o&&r.remove(o),a.scene.primitives.remove(r),r=void 0,o=void 0)};i.dispose(s),s(),r=new c.PointPrimitiveCollection,o=r.add({}),a.scene.primitives.add(r);var p=i.disposeVar((0,u.createNextAnimateFrameEvent)(t.positionChanged,t.showChanged,t.pixelSizeChanged,t.colorChanged,t.distanceDisplayConditionChanged,t.outlineColorChanged,t.outlineWidthChanged,t.scaleByDistanceChanged,t.translucencyByDistanceChanged)),h=function(){var e,n,r,i,a;o&&(o.show=(null===(e=t.show)||void 0===e||e)&&!!t.position,t.position&&(o.position=(0,l.positionToCartesian)(t.position)),o.pixelSize=null!==(n=t.pixelSize)&&void 0!==n?n:1,o.color=(0,l.toColor)(null!==(r=t.color)&&void 0!==r?r:f.CzmPoint.defaults.color),o.distanceDisplayCondition=t.distanceDisplayCondition&&(0,l.toDistanceDisplayCondition)(t.distanceDisplayCondition),o.outlineColor=(0,l.toColor)(null!==(i=t.outlineColor)&&void 0!==i?i:f.CzmPoint.defaults.outlineColor),o.outlineWidth=null!==(a=t.outlineWidth)&&void 0!==a?a:f.CzmPoint.defaults.outlineWidth,o.scaleByDistance=t.scaleByDistance&&(0,l.toNearFarScalar)(t.scaleByDistance),o.translucencyByDistance=t.translucencyByDistance&&(0,l.toNearFarScalar)(t.translucencyByDistance))};return h(),i.dispose(p.disposableOn(h)),i.dispose(t.flyToEvent.disposableOn((function(e){if(t.position){var n=a.scene.camera.positionCartographic.height;(0,d.flyTo)(a.scene.camera,t.position,n,void 0,e)}else console.warn("GeoPoint当前没有位置信息，无法飞入！")}))),i}var n;return o(t,e),n=t,t.type=n.register(f.CzmPoint.type,n),t}(p.CzmObject);t.CzmCzmPoint=h},84710:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmPolygonGroundPrimitive=void 0;var l=s(n(2003)),u=n(43938),c=n(69767),p=n(10070),f=n(75125),d=n(323),h=n(69375),y=n(60783),g=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;if(!(0,f.getViewerExtensions)(n.viewer))return r;var i=r.disposeVar((0,h.createMaterialRef)([t,"material"]));r.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var o=e.czmPickResult;o&&null!==(n=t.allowPicking)&&void 0!==n&&n&&r._primitive&&o.primitive===r._primitive&&t.pickedEvent.emit(new u.SceneObjectPickedInfo(t,e))}})));var a=function(){r._primitive&&(o.scene.primitives.remove(r._primitive),r._primitive=void 0)};r.dispose(a);var s=new l.BoundingSphere,d=function(){if(a(),t.polygonHierarchy){var e=(0,c.positionsToUniqueCartesians)(t.polygonHierarchy.positions);e.length<3||!i.value?s.radius=-1:(l.BoundingSphere.fromPoints(e,s),r._primitive=function(e){if(t.polygonHierarchy){var n=new l.MaterialAppearance({material:e}),o=[],i=new l.GeometryInstance({geometry:new l.PolygonGeometry({vertexFormat:l.MaterialAppearance.MaterialSupport.ALL.vertexFormat,polygonHierarchy:(0,h.createPolygonHierarchy)(t.polygonHierarchy),stRotation:t.stRotation&&l.Math.toRadians(t.stRotation),arcType:t.arcType&&l.ArcType[t.arcType],height:t.height,extrudedHeight:t.extrudedHeight,perPositionHeight:t.perPositionHeight,closeTop:t.closeTop,closeBottom:t.closeBottom,ellipsoid:t.ellipsoid&&(0,c.toEllipsoid)(t.ellipsoid),granularity:void 0!==t.granularity?l.Math.toRadians(t.granularity):void 0}),id:r});return o.push(i),new l.GroundPrimitive({geometryInstances:o,appearance:n,asynchronous:!1,allowPicking:t.allowPicking,compressVertices:!1})}}(i.value),r._primitive&&o.scene.primitives.add(r._primitive))}},g=function(){var e,n=null===(e=t.show)||void 0===e||e;r._primitive&&(r._primitive.show=n)};d(),g();var m=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.polygonHierarchyChanged,t.materialChanged,t.stRotationChanged,t.arcTypeChanged,t.heightChanged,t.extrudedHeightChanged,t.perPositionHeightChanged,t.closeTopChanged,t.closeBottomChanged,t.ellipsoidChanged,t.granularityChanged,t.allowPickingChanged,i.changed));r.dispose(m.disposableOn((function(){d(),g()})));var v=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.showChanged));return r.dispose(v.disposableOn((function(){g()}))),r.dispose(t.flyToEvent.disposableOn((function(e){if(n.actived&&s.radius>0){var t=(0,c.positionFromCartesian)(s.center);t&&(0,y.flyTo)(o.camera,t,4*s.radius,void 0,e)}}))),r}var n;return o(t,e),n=t,t.type=n.register(d.CzmPolygonGroundPrimitive.type,n),t}(f.CzmObject);t.CzmCzmPolygonGroundPrimitive=g},81690:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmPolygonOutlinePrimitive=void 0;var l=s(n(2003)),u=n(69767),c=n(10070),p=n(75125),f=n(323),d=n(69375),h=n(60783),y=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;var i=function(){r._primitive&&(o.scene.primitives.remove(r._primitive),r._primitive=void 0)};r.dispose(i);var a=new l.Color,s=new l.BoundingSphere,p=function(){if(i(),t.polygonHierarchy){var e=(0,u.positionsToUniqueCartesians)(t.polygonHierarchy.positions);e.length<3?s.radius=-1:(l.BoundingSphere.fromPoints(e,s),r._primitive=function(){var e;if(t.polygonHierarchy){var n=new l.PerInstanceColorAppearance({flat:!0,translucent:null===(e=t.translucent)||void 0===e||e}),o=[],i=new l.GeometryInstance({geometry:new l.PolygonOutlineGeometry({vertexFormat:l.MaterialAppearance.MaterialSupport.ALL.vertexFormat,polygonHierarchy:(0,d.createPolygonHierarchy)(t.polygonHierarchy),height:t.height,extrudedHeight:t.extrudedHeight,arcType:t.arcType&&l.ArcType[t.arcType],perPositionHeight:t.perPositionHeight,ellipsoid:t.ellipsoid&&(0,u.toEllipsoid)(t.ellipsoid),granularity:void 0!==t.granularity?l.Math.toRadians(t.granularity):void 0}),attributes:{color:t.outlineColor?l.ColorGeometryInstanceAttribute.fromColor((0,u.toColor)(t.outlineColor,a)):l.ColorGeometryInstanceAttribute.fromColor(new l.Color(1,1,1,1))},id:r});return o.push(i),new l.Primitive({geometryInstances:o,appearance:n,asynchronous:!1,allowPicking:!1,compressVertices:!1})}}(),r._primitive&&o.scene.primitives.add(r._primitive))}},f=function(){var e,n=null===(e=t.show)||void 0===e||e;r._primitive&&(r._primitive.show=n)};p(),f();var y=r.disposeVar((0,c.createNextAnimateFrameEvent)(t.polygonHierarchyChanged,t.extrudedHeightChanged,t.outlineColorChanged,t.translucentChanged,t.heightChanged,t.arcTypeChanged));r.dispose(y.disposableOn((function(){p(),f()})));var g=r.disposeVar((0,c.createNextAnimateFrameEvent)(t.showChanged));return r.dispose(g.disposableOn((function(){f()}))),r.dispose(t.flyToEvent.disposableOn((function(e){if(n.actived&&s.radius>0){var t=(0,u.positionFromCartesian)(s.center);t&&(0,h.flyTo)(o.camera,t,4*s.radius,void 0,e)}}))),r}var n;return o(t,e),n=t,t.type=n.register(f.CzmPolygonOutlinePrimitive.type,n),t}(p.CzmObject);t.CzmCzmPolygonOutlinePrimitive=y},26629:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmPolygonPrimitive=void 0;var l=s(n(2003)),u=n(43938),c=n(69767),p=n(10070),f=n(75125),d=n(323),h=n(69375),y=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;if(!(0,f.getViewerExtensions)(n.viewer))return r;r.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var o=e.czmPickResult;o&&null!==(n=t.allowPicking)&&void 0!==n&&n&&r._primitive&&o.primitive===r._primitive&&t.pickedEvent.emit(new u.SceneObjectPickedInfo(t,e))}})));var i=r.disposeVar((0,h.createMaterialRef)([t,"material"])),a=function(){r._primitive&&(o.scene.primitives.remove(r._primitive),r._primitive=void 0)};r.dispose(a);var s=new l.BoundingSphere,d=function(){if(a(),t.polygonHierarchy){var e=(0,c.positionsToUniqueCartesians)(t.polygonHierarchy.positions);e.length<3||!i.value?s.radius=-1:(l.BoundingSphere.fromPoints(e,s),r._primitive=function(e){if(t.polygonHierarchy){var n=new l.MaterialAppearance({material:e}),o=[],i=new l.GeometryInstance({geometry:new l.PolygonGeometry({vertexFormat:l.MaterialAppearance.MaterialSupport.ALL.vertexFormat,polygonHierarchy:(0,h.createPolygonHierarchy)(t.polygonHierarchy),stRotation:t.stRotation&&l.Math.toRadians(t.stRotation),arcType:t.arcType&&l.ArcType[t.arcType],height:t.height,extrudedHeight:t.extrudedHeight,perPositionHeight:t.perPositionHeight,closeTop:t.closeTop,closeBottom:t.closeBottom,ellipsoid:t.ellipsoid&&(0,c.toEllipsoid)(t.ellipsoid),granularity:void 0!==t.granularity?l.Math.toRadians(t.granularity):void 0}),id:r});return o.push(i),new l.Primitive({geometryInstances:o,appearance:n,asynchronous:!1,allowPicking:t.allowPicking,compressVertices:!1})}}(i.value),r._primitive&&o.scene.primitives.add(r._primitive))}},y=function(){var e,n=null===(e=t.show)||void 0===e||e;r._primitive&&(r._primitive.show=n)};d(),y();var g=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.polygonHierarchyChanged,t.materialChanged,t.stRotationChanged,t.arcTypeChanged,t.heightChanged,t.extrudedHeightChanged,t.perPositionHeightChanged,t.closeTopChanged,t.closeBottomChanged,t.ellipsoidChanged,t.granularityChanged,t.allowPickingChanged,i.changed));r.dispose(g.disposableOn((function(){d(),y()})));var m=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.showChanged));return r.dispose(m.disposableOn((function(){y()}))),r.dispose(t.flyToEvent.disposableOn((function(e){if(n.actived&&s.radius>0){var t=(0,c.positionFromCartesian)(s.center);t&&(0,c.flyTo)(o.camera,t,4*s.radius,void 0,e)}}))),r}var n;return o(t,e),n=t,t.type=n.register(d.CzmPolygonPrimitive.type,n),t}(f.CzmObject);t.CzmCzmPolygonPrimitive=y},59345:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmPolylineGroundPrimitive=void 0;var l=n(69767),u=n(43938),c=n(10070),p=s(n(2003)),f=n(75125),d=n(323),h=n(69375),y=n(60783),g=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;if(!(0,f.getViewerExtensions)(n.viewer))return r;var i,a=r.disposeVar((0,h.createMaterialRef)([t,"material"])),s=new p.BoundingSphere,d=function(){i&&(o.scene.primitives.remove(i),i=void 0)};r.dispose(d);var g=function(){var e;if(d(),(null===(e=t.show)||void 0===e||e)&&t.positions){var n=(0,l.positionsToUniqueCartesians)(t.positions);n.length<2||!a.value?s.radius=-1:(p.BoundingSphere.fromPoints(n,s),i=function(e,n){var o,i=new p.PolylineMaterialAppearance({material:n,renderState:{depthTest:{enabled:null!==(o=t.depthTest)&&void 0!==o&&o}}});i.renderState.depthMask=!1;var a=[];if(!(e.length<2)){"NONE"===t.arcType&&console.warn("贴地折线不能使用NONE模式，如果客户设定为此模式，则强制使用GEODESIC模式来处理！");var s="RHUMB"!==t.arcType?"GEODESIC":"RHUMB";return a.push(new p.GeometryInstance({geometry:new p.GroundPolylineGeometry({positions:e,width:t.width,vertexFormat:p.PolylineMaterialAppearance.VERTEX_FORMAT,arcType:p.ArcType[s]}),id:r})),new p.GroundPolylinePrimitive({geometryInstances:a,appearance:i,asynchronous:!1,allowPicking:t.allowPicking,compressVertices:!1})}}(n,a.value),i&&o.scene.primitives.add(i))}},m=function(){var e;i&&(i.show=null===(e=t.show)||void 0===e||e)};r.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var r=e.czmPickResult;r&&null!==(n=t.allowPicking)&&void 0!==n&&n&&i&&r.primitive===i&&t.pickedEvent.emit(new u.SceneObjectPickedInfo(t,e))}}))),r.dispose(t.flyToEvent.disposableOn((function(e){if(n.actived&&s.radius>0){var t=(0,l.positionFromCartesian)(s.center);t&&(0,y.flyTo)(o.camera,t,4*s.radius,void 0,e)}}))),g(),m();var v=r.disposeVar((0,c.createNextAnimateFrameEvent)(t.positionsChanged,t.widthChanged,a.changed,t.arcTypeChanged,t.allowPickingChanged,t.depthTestChanged));r.dispose(v.disposableOn((function(){g(),m()})));var b=r.disposeVar((0,c.createNextAnimateFrameEvent)(t.showChanged));return r.dispose(b.disposableOn((function(){m()}))),r}var n;return o(t,e),n=t,t.type=n.register(d.CzmPolylineGroundPrimitive.type,n),t}(f.CzmObject);t.CzmCzmPolylineGroundPrimitive=g},33112:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmPolylinePrimitive=void 0;var l=s(n(2003)),u=n(43938),c=n(69767),p=n(10070),f=n(75125),d=n(323),h=n(69375),y=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;if(!(0,f.getViewerExtensions)(n.viewer))return r;var i,a=r.disposeVar((0,h.createMaterialRef)([t,"material"])),s=new l.BoundingSphere,d=function(){i&&(o.scene.primitives.remove(i),i=void 0)};r.dispose(d);var y=function(){if(d(),t.positions){var e=(0,c.positionsToUniqueCartesians)(t.positions);e.length<2||!a.value?s.radius=-1:(l.BoundingSphere.fromPoints(e,s),i=function(e,n){var o,i=new l.PolylineMaterialAppearance({material:n,renderState:{depthTest:{enabled:null!==(o=t.depthTest)&&void 0!==o&&o}}});i.renderState.depthMask=!1;var a=[];if(!(e.length<2))return a.push(new l.GeometryInstance({geometry:new l.PolylineGeometry({positions:e,width:t.width,vertexFormat:l.PolylineMaterialAppearance.VERTEX_FORMAT,arcType:t.arcType&&l.ArcType[t.arcType]}),id:r})),new l.Primitive({geometryInstances:a,appearance:i,asynchronous:!1,allowPicking:t.allowPicking,compressVertices:!1})}(e,a.value),i&&o.scene.primitives.add(i))}},g=function(){var e;i&&(i.show=null===(e=t.show)||void 0===e||e)};r.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var r=e.czmPickResult;r&&null!==(n=t.allowPicking)&&void 0!==n&&n&&i&&r.primitive===i&&t.pickedEvent.emit(new u.SceneObjectPickedInfo(t,e))}}))),r.dispose(t.flyToEvent.disposableOn((function(e){if(n.actived&&s.radius>0){var t=(0,c.positionFromCartesian)(s.center);t&&(0,c.flyTo)(o.camera,t,4*s.radius,void 0,e)}}))),y(),g();var m=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.positionsChanged,t.widthChanged,a.changed,t.arcTypeChanged,t.allowPickingChanged,t.depthTestChanged));r.dispose(m.disposableOn((function(){y(),g()})));var v=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.showChanged));return r.dispose(v.disposableOn((function(){g()}))),r}var n;return o(t,e),n=t,t.type=n.register(d.CzmPolylinePrimitive.type,n),t}(f.CzmObject);t.CzmCzmPolylinePrimitive=y},24810:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmPolylinesGroundPrimitive=void 0;var u=s(n(2003)),c=n(43938),p=n(19239),f=n(69767),d=n(75125),h=n(323),y=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;if(!(0,d.getViewerExtensions)(n.viewer))return r;r.dispose((function(){r._groundPrimitive&&o.scene.groundPrimitives.remove(r._groundPrimitive),r._groundPrimitive=void 0}));var i=new u.Color,a=new u.Color,s=function(e,t){t=t||new u.Color;var n=l(e,4),r=n[0],o=n[1],i=n[2],a=n[3];return t.red=r,t.green=o,t.blue=i,t.alpha=a,t},h=function(){var e,n,r,o,l,c;if(t.hasArrow){var p=u.Material.fromType("PolylineArrow");return p.uniforms.color=s(null!==(e=t.color)&&void 0!==e?e:[1,1,1,1],i),p}if(t.hasDash){var f=u.Material.fromType("PolylineDash");return f.uniforms.color=s(null!==(n=t.color)&&void 0!==n?n:[1,1,1,1],i),f.uniforms.gapColor=s(null!==(r=t.gapColor)&&void 0!==r?r:[0,0,0,0],a),f.uniforms.dashLength=null!==(o=t.dashLength)&&void 0!==o?o:16,f.uniforms.dashPattern=null!==(l=t.dashPattern)&&void 0!==l?l:255,f}var d=u.Material.fromType("Color");return d.uniforms.color=s(null!==(c=t.color)&&void 0!==c?c:[1,1,1,1],i),d},y=function(){var e;if(r._groundPrimitive&&o.scene.groundPrimitives.remove(r._groundPrimitive),r._groundPrimitive=void 0,(null===(e=t.show)||void 0===e||e)&&t.positions){var n=t.positions.map(f.positionsToUniqueCartesians);r._groundPrimitive=function(e){for(var n,o,i,a=[],s=0;s<e.length;++s){var l=e[s];l.length<2||a.push(new u.GeometryInstance({geometry:new u.GroundPolylineGeometry({positions:l,width:null!==(n=t.width)&&void 0!==n?n:1,vertexFormat:u.PolylineMaterialAppearance.VERTEX_FORMAT,arcType:u.ArcType[null!==(o=t.arcType)&&void 0!==o?o:"GEODESIC"]}),id:r}))}if(0!==a.length)return new u.GroundPolylinePrimitive({geometryInstances:a,appearance:new u.PolylineMaterialAppearance({material:h(),renderState:{depthTest:{enabled:null!==(i=t.depthTest)&&void 0!==i&&i}}}),asynchronous:!1,allowPicking:t.allowPicking,compressVertices:!1})}(n),r._groundPrimitive&&o.scene.groundPrimitives.add(r._groundPrimitive)}},g=function(){var e,n=null===(e=t.show)||void 0===e||e;r._groundPrimitive&&(r._groundPrimitive.show=n)},m=new u.BoundingSphere,v=function(){var e=t.positions&&t.positions.map(f.positionsToUniqueCartesians);if(e){for(var n=[],o=e.length,i=0;i<o;++i)for(var a=e[i].length,s=0;s<a;++s)n.push(e[i][s]);r._boundingSphere=n?u.BoundingSphere.fromPoints(n,m):void 0}else r._boundingSphere=void 0};y(),g(),v();var b=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.showChanged,t.positionsChanged,t.widthChanged,t.hasDashChanged,t.hasArrowChanged,t.colorChanged,t.gapColorChanged,t.dashLengthChanged,t.dashPatternChanged,t.arcTypeChanged,t.depthTestChanged,t.allowPickingChanged));return r.dispose(b.disposableOn((function(){y(),g(),v()}))),r.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var o=e.czmPickResult;o&&null!==(n=t.allowPicking)&&void 0!==n&&n&&r._groundPrimitive&&o.primitive===r._groundPrimitive&&t.pickedEvent.emit(new c.SceneObjectPickedInfo(t,e))}}))),r.dispose(t.flyToEvent.disposableOn((function(){n.actived&&r._boundingSphere&&o.camera.flyToBoundingSphere(r._boundingSphere)}))),r}var n;return o(t,e),n=t,t.type=n.register(h.CzmPolylinesGroundPrimitive.type,n),t}(d.CzmObject);t.CzmCzmPolylinesGroundPrimitive=y},58630:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmPolylinesPrimitive=void 0;var u=s(n(2003)),c=n(43938),p=n(19239),f=n(69767),d=n(75125),h=n(323),y=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;if(!(0,d.getViewerExtensions)(n.viewer))return r;r.dispose((function(){r._primitive&&o.scene.primitives.remove(r._primitive),r._primitive=void 0}));var i=function(e,t){t=t||new u.Color;var n=l(e,4),r=n[0],o=n[1],i=n[2],a=n[3];return t.red=r,t.green=o,t.blue=i,t.alpha=a,t},a=function(){var e,n,r,o,a,s,l=new u.Color,c=new u.Color;if(t.hasArrow){var p=u.Material.fromType("PolylineArrow");return p.uniforms.color=i(null!==(e=t.color)&&void 0!==e?e:[1,1,1,1],l),p}if(t.hasDash){var f=u.Material.fromType("PolylineDash");return f.uniforms.color=i(null!==(n=t.color)&&void 0!==n?n:[1,1,1,1],l),f.uniforms.gapColor=i(null!==(r=t.gapColor)&&void 0!==r?r:[0,0,0,0],c),f.uniforms.dashLength=null!==(o=t.dashLength)&&void 0!==o?o:16,f.uniforms.dashPattern=null!==(a=t.dashPattern)&&void 0!==a?a:255,f}var d=u.Material.fromType("Color");return d.uniforms.color=i(null!==(s=t.color)&&void 0!==s?s:[1,1,1,1],l),d},s=function(){if(r._primitive&&o.scene.primitives.remove(r._primitive),r._primitive=void 0,t.positions){var e=t.positions.map(f.positionsToUniqueCartesians);r._primitive=function(e){var n,o,i,s=new u.PolylineMaterialAppearance({material:a(),renderState:{depthTest:{enabled:null!==(n=t.depthTest)&&void 0!==n&&n}}});s.renderState.depthMask=!1;for(var l=[],c=0;c<e.length;++c){var p=e[c];p.length<2||l.push(new u.GeometryInstance({geometry:new u.PolylineGeometry({positions:p,width:null!==(o=t.width)&&void 0!==o?o:1,vertexFormat:u.PolylineMaterialAppearance.VERTEX_FORMAT,arcType:u.ArcType[null!==(i=t.arcType)&&void 0!==i?i:"GEODESIC"]}),id:r}))}if(0!==l.length)return new u.Primitive({geometryInstances:l,appearance:s,asynchronous:!1,allowPicking:t.allowPicking,compressVertices:!1})}(e),r._primitive&&o.scene.primitives.add(r._primitive)}},h=function(){var e,n=null===(e=t.show)||void 0===e||e;r._primitive&&(r._primitive.show=n)},y=new u.BoundingSphere,g=function(){var e=t.positions&&t.positions.map(f.positionsToUniqueCartesians);if(e){for(var n=[],o=e.length,i=0;i<o;++i)for(var a=e[i].length,s=0;s<a;++s)n.push(e[i][s]);r._boundingSphere=n?u.BoundingSphere.fromPoints(n,y):void 0}else r._boundingSphere=void 0};s(),h(),g();var m=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.widthChanged,t.hasDashChanged,t.hasArrowChanged,t.colorChanged,t.gapColorChanged,t.dashLengthChanged,t.dashPatternChanged,t.arcTypeChanged,t.positionsChanged,t.depthTestChanged,t.allowPickingChanged));r.dispose(m.disposableOn((function(){s(),h(),g()})));var v=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.showChanged));return r.dispose(v.disposableOn((function(){h()}))),r.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var o=e.czmPickResult;o&&null!==(n=t.allowPicking)&&void 0!==n&&n&&r._primitive&&o.primitive===r._primitive&&t.pickedEvent.emit(new c.SceneObjectPickedInfo(t,e))}}))),r.dispose(t.flyToEvent.disposableOn((function(){n.actived&&r._boundingSphere&&o.camera.flyToBoundingSphere(r._boundingSphere)}))),r}var n;return o(t,e),n=t,t.type=n.register(h.CzmPolylinesPrimitive.type,n),t}(d.CzmObject);t.CzmCzmPolylinesPrimitive=y},36044:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmRainPostProcess=void 0;var l=n(323),u=s(n(2003)),c=function(e){function t(t,n){var r,o=e.call(this,t,n)||this,i=n.viewer;if(!i)return console.warn("viewer is undefined!"),o;var a=function(){r&&(i.scene.postProcessStages.remove(r),r=void 0)};o.dispose(a);var s=function(){var e;a(),(null===(e=t.show)||void 0===e||e)&&(r||(r=new u.PostProcessStage({name:"czm_rain",fragmentShader:"\nuniform sampler2D colorTexture;//输入的场景渲染照片\nin vec2 v_textureCoordinates;\n\nfloat hash(float x){\n    return fract(sin(x*133.3)*13.13);\n}\n\nvoid main(void){\n\n    float time = czm_frameNumber / 60.0;\n    vec2 resolution = czm_viewport.zw;\n\n    vec2 uv=(gl_FragCoord.xy*2.-resolution.xy)/min(resolution.x,resolution.y);\n    vec3 c=vec3(.6,.7,.8);\n\n    float a=-.4;\n    float si=sin(a),co=cos(a);\n    uv*=mat2(co,-si,si,co);\n    uv*=length(uv+vec2(0,4.9))*.3+1.;\n\n    float v=1.-sin(hash(floor(uv.x*100.))*2.);\n    float b=clamp(abs(sin(20.*time*v+uv.y*(5./(2.+v))))-.95,0.,1.)*20.;\n    c*=v*b; //屏幕上雨的颜色\n\n    out_FragColor = mix(texture(colorTexture, v_textureCoordinates), vec4(c,1), 0.5); //将雨和三维场景融合\n}\n"}),i.scene.postProcessStages.add(r)))};return s(),o.dispose(t.showChanged.disposableOn(s)),o}var n;return o(t,e),n=t,t.type=n.register(l.CzmRainPostProcess.type,n),t}(n(75125).CzmObject);t.CzmCzmRainPostProcess=c},14210:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmRectangleGroundPrimitive=void 0;var l=s(n(2003)),u=n(69767),c=n(10070),p=n(75125),f=n(323),d=n(69375),h=n(60783),y=n(43938),g=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;if(!(0,p.getViewerExtensions)(n.viewer))return r;r.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var o=e.czmPickResult;o&&null!==(n=t.allowPicking)&&void 0!==n&&n&&r._primitive&&o.primitive===r._primitive&&t.pickedEvent.emit(new y.SceneObjectPickedInfo(t,e))}})));var i=r.disposeVar((0,d.createMaterialRef)([t,"material"],f.CzmRectangleGroundPrimitive.defaults.material)),a=function(){r._primitive&&(o.scene.primitives.remove(r._primitive),r._primitive=void 0)};r.dispose(a);var s=function(){if(a(),t.positions){var e=(0,u.toRectangle)(t.positions);e&&i.value&&(r._primitive=function(e,n){var o,i=new l.MaterialAppearance({material:n}),a=[],s=new l.GeometryInstance({geometry:new l.RectangleGeometry({rectangle:e,rotation:t.rotation&&l.Math.toRadians(t.rotation),stRotation:t.stRotation&&l.Math.toRadians(t.stRotation),vertexFormat:l.MaterialAppearance.MaterialSupport.ALL.vertexFormat}),id:r});return a.push(s),new l.GroundPrimitive({geometryInstances:a,appearance:i,asynchronous:!1,allowPicking:null!==(o=t.allowPicking)&&void 0!==o&&o,compressVertices:!1})}(e,i.value),r._primitive&&o.scene.primitives.add(r._primitive))}},g=function(){var e,n=null===(e=t.show)||void 0===e||e;r._primitive&&(r._primitive.show=n)};s(),g();var m=r.disposeVar((0,c.createNextAnimateFrameEvent)(t.positionsChanged,t.materialChanged,t.stRotationChanged,t.rotationChanged,i.changed,t.allowPickingChanged));r.dispose(m.disposableOn((function(){s(),g()})));var v=r.disposeVar((0,c.createNextAnimateFrameEvent)(t.showChanged));return r.dispose(v.disposableOn((function(){g()}))),r.dispose(t.flyToEvent.disposableOn((function(e){if(n.actived&&t.positions){var r=(0,u.toRectangle)(t.positions),i=l.BoundingSphere.fromRectangle3D(r,void 0,0);if(i.radius>0){var a=(0,u.positionFromCartesian)(i.center);a&&(0,h.flyTo)(o.camera,a,4*i.radius,void 0,e)}}}))),r}var n;return o(t,e),n=t,t.type=n.register(f.CzmRectangleGroundPrimitive.type,n),t}(p.CzmObject);t.CzmCzmRectangleGroundPrimitive=g},7306:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmRectangleOutlinePrimitive=void 0;var l=s(n(2003)),u=n(69767),c=n(10070),p=n(75125),f=n(323),d=n(60783),h=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;var i=function(){r._primitive&&(o.scene.primitives.remove(r._primitive),r._primitive=void 0)};r.dispose(i);var a=new l.Color,s=function(){if(i(),t.positions){var e=(0,u.toRectangle)(t.positions);e&&(r._primitive=function(e){var n,o,i,s=new l.PerInstanceColorAppearance({flat:!0,translucent:null===(n=t.translucent)||void 0===n||n}),c=[],p=new l.GeometryInstance({geometry:new l.RectangleOutlineGeometry({rectangle:e,height:null!==(o=t.height)&&void 0!==o?o:0,extrudedHeight:t.extrudedHeight,rotation:t.rotation&&l.Math.toRadians(t.rotation)}),attributes:{color:t.color?l.ColorGeometryInstanceAttribute.fromColor((0,u.toColor)(t.color,a)):l.ColorGeometryInstanceAttribute.fromColor(new l.Color(1,1,1,1))},id:r});return c.push(p),new l.Primitive({geometryInstances:c,appearance:s,asynchronous:!1,allowPicking:null!==(i=t.allowPicking)&&void 0!==i&&i,compressVertices:!1})}(e),r._primitive&&o.scene.primitives.add(r._primitive))}},p=function(){var e,n=null===(e=t.show)||void 0===e||e;r._primitive&&(r._primitive.show=n)};s(),p();var f=r.disposeVar((0,c.createNextAnimateFrameEvent)(t.positionsChanged,t.colorChanged,t.translucentChanged,t.extrudedHeightChanged,t.heightChanged,t.rotationChanged,t.allowPickingChanged));r.dispose(f.disposableOn((function(){s(),p()})));var h=r.disposeVar((0,c.createNextAnimateFrameEvent)(t.showChanged));return r.dispose(h.disposableOn((function(){p()}))),r.dispose(t.flyToEvent.disposableOn((function(e){if(n.actived&&t.positions){var r=(0,u.toRectangle)(t.positions),i=l.BoundingSphere.fromRectangle3D(r,void 0,t.height);if(i.radius>0){var a=(0,u.positionFromCartesian)(i.center);a&&(0,d.flyTo)(o.camera,a,4*i.radius,void 0,e)}}}))),r}var n;return o(t,e),n=t,t.type=n.register(f.CzmRectangleOutlinePrimitive.type,n),t}(p.CzmObject);t.CzmCzmRectangleOutlinePrimitive=h},13729:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmRectanglePrimitive=void 0;var l=s(n(2003)),u=n(69767),c=n(10070),p=n(75125),f=n(323),d=n(69375),h=n(60783),y=n(43938),g=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;if(!(0,p.getViewerExtensions)(n.viewer))return r;r.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var o=e.czmPickResult;o&&null!==(n=t.allowPicking)&&void 0!==n&&n&&r._primitive&&o.primitive===r._primitive&&t.pickedEvent.emit(new y.SceneObjectPickedInfo(t,e))}})));var i=r.disposeVar((0,d.createMaterialRef)([t,"material"])),a=function(){r._primitive&&(o.scene.primitives.remove(r._primitive),r._primitive=void 0)};r.dispose(a);var s=function(){if(a(),t.positions){var e=(0,u.toRectangle)(t.positions);e&&i.value&&(r._primitive=function(e,n){var o,i=new l.MaterialAppearance({material:n}),a=[],s=new l.GeometryInstance({geometry:new l.RectangleGeometry({rectangle:e,height:t.height,rotation:t.rotation&&l.Math.toRadians(t.rotation),extrudedHeight:t.extrudedHeight,stRotation:t.stRotation&&l.Math.toRadians(t.stRotation),vertexFormat:l.MaterialAppearance.MaterialSupport.ALL.vertexFormat}),id:r});return a.push(s),new l.Primitive({geometryInstances:a,appearance:i,asynchronous:!1,allowPicking:null!==(o=t.allowPicking)&&void 0!==o&&o,compressVertices:!1})}(e,i.value),r._primitive&&o.scene.primitives.add(r._primitive))}},f=function(){var e,n=null===(e=t.show)||void 0===e||e;r._primitive&&(r._primitive.show=n)};s(),f();var g=r.disposeVar((0,c.createNextAnimateFrameEvent)(t.positionsChanged,t.materialChanged,t.extrudedHeightChanged,t.heightChanged,t.stRotationChanged,t.rotationChanged,i.changed,t.allowPickingChanged));r.dispose(g.disposableOn((function(){s(),f()})));var m=r.disposeVar((0,c.createNextAnimateFrameEvent)(t.showChanged));return r.dispose(m.disposableOn((function(){f()}))),r.dispose(t.flyToEvent.disposableOn((function(e){if(n.actived&&t.positions){var r=(0,u.toRectangle)(t.positions),i=l.BoundingSphere.fromRectangle3D(r,void 0,t.height);if(i.radius>0){var a=(0,u.positionFromCartesian)(i.center);a&&(0,h.flyTo)(o.camera,a,4*i.radius,void 0,e)}}}))),r}var n;return o(t,e),n=t,t.type=n.register(f.CzmRectanglePrimitive.type,n),t}(p.CzmObject);t.CzmCzmRectanglePrimitive=g},37896:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmRoad=void 0;var l=n(69767),u=n(43938),c=n(19239),p=n(10070),f=s(n(2003)),d=n(75125),h=n(323),y=n(60783),g=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;var i=p.SceneObject.context.createEvnStrReact([t,"imageUrl"],h.CzmRoad.defaults.imageUrl),a=r.disposeVar((0,c.react)(void 0)),s=function(){var e,n=f.Material.fromType(f.Material.ImageType);n.uniforms.image=i.value,n.uniforms.repeat=(0,l.toCartesian2)(null!==(e=t.repeat)&&void 0!==e?e:h.CzmRoad.defaults.repeat),a.value=n};s();var d=r.disposeVar((0,p.createNextAnimateFrameEvent)(i.changed,t.repeatChanged));r.dispose(d.disposableOn(s));var g,m=new f.BoundingSphere,v=function(){g&&(o.scene.primitives.remove(g),g=void 0)};r.dispose(v);var b=function(){if(v(),t.positions){var e=(0,l.positionsToUniqueCartesians)(t.positions);e.length<2||!a.value?m.radius=-1:(f.BoundingSphere.fromPoints(e,m),g=function(e,n){var o,i,a,s=new f.PolylineMaterialAppearance({material:n,renderState:{depthTest:{enabled:!1}}});s.renderState.depthMask=!1;var u=[];if(!(e.length<2))return u.push(new f.GeometryInstance({geometry:new f.GroundPolylineGeometry({positions:e,width:null!==(o=t.width)&&void 0!==o?o:h.CzmRoad.defaults.width,vertexFormat:f.PolylineMaterialAppearance.VERTEX_FORMAT,arcType:f.ArcType[null!==(i=t.arcType)&&void 0!==i?i:h.CzmRoad.defaults.arcType]}),id:r})),new l.XbsjGroundPolylinePrimitive({geometryInstances:u,appearance:s,asynchronous:!1,allowPicking:null!==(a=t.allowPicking)&&void 0!==a?a:h.CzmRoad.defaults.allowPicking,compressVertices:!1})}(e,a.value),g&&o.scene.primitives.add(g))}},_=function(){var e;g&&(g.show=null===(e=t.show)||void 0===e||e)};r.dispose(t.flyToEvent.disposableOn((function(e){if(n.actived&&m.radius>0){var t=(0,l.positionFromCartesian)(m.center);t&&(0,y.flyTo)(o.camera,t,4*m.radius,void 0,e)}}))),b(),_();var w=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.positionsChanged,t.widthChanged,a.changed,t.arcTypeChanged,t.allowPickingChanged));r.dispose(w.disposableOn((function(){b(),_()})));var P=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.showChanged));return r.dispose(P.disposableOn((function(){_()}))),n.extensions?(r.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var r=e.czmPickResult;r&&null!==(n=t.allowPicking)&&void 0!==n&&n&&g&&r.primitive===g&&t.pickedEvent.emit(new u.SceneObjectPickedInfo(t,e))}}))),r):(console.warn("!extensions"),r)}var n;return o(t,e),n=t,t.type=n.register(h.CzmRoad.type,n),t}(d.CzmObject);t.CzmCzmRoad=g},30119:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},u=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.SignalTransmissionCollectionPrimitive=void 0;var c=s(n(2003)),p=n(19239),f=n(55114),d=n(69767),h=function(e){function t(t,n,r){var o,i,a,s,p=this;(p=e.call(this)||this)._viewer=t;var h=p._viewer,y=n.positionsSet;if(!y)return p;var g=null!==(o=n.width)&&void 0!==o?o:5;if(0===y.length)return p;var m=y.map((function(e){return{positions:e,width:g,sceneObject:n}})),v=void 0!==n.arcType?c.ArcType[n.arcType]:c.ArcType.GEODESIC,b=(0,d.xbsjCreateODLinesPrimitive)(m,[1,1,1,1],v,(function(e,t,n){var r,o,i,a,s,c,p,d,h,y=m[e].sceneObject;if(!y)return n;var g=null!==(i=y.startTime)&&void 0!==i?i:0,v=null!==(s=null!==(a=y.transmissionTime)&&void 0!==a?a:y.duration)&&void 0!==s?s:3e3,b=y.currentTime,_=(0,f.clamp)((b-g)/v,0,1);n.timeRatio=_,n.repeat=null!==(c=y.repeat)&&void 0!==c?c:5;var w=null!==(p=y.color)&&void 0!==p?p:[0,1,0,1],P=null!==(d=y.bgColor)&&void 0!==d?d:[w[0],w[1],w[2],.2*w[3]];return(r=n.color).splice.apply(r,u([0,4],l(w),!1)),(o=n.bgColor).splice.apply(o,u([0,4],l(P),!1)),n.bidirectional=null!==(h=y.bidirectional)&&void 0!==h?h:0,n}),null!==(i=n.brightening)&&void 0!==i&&i,null===(a=n.depthTest)||void 0===a||a,r);return b?(h.scene.primitives.add(b),p.dispose((function(){h.scene.primitives.remove(b)})),b.show=null===(s=n.show)||void 0===s||s,p.dispose(n.showChanged.disposableOn((function(){var e;b&&(b.show=null===(e=n.show)||void 0===e||e)}))),p._nativePrimitive=b,p):p}return o(t,e),Object.defineProperty(t.prototype,"nativePrimitive",{get:function(){return this._nativePrimitive},enumerable:!1,configurable:!0}),t}(p.Destroyable);t.SignalTransmissionCollectionPrimitive=h},99591:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmSignalTransmissionCollection=void 0;var l=n(69767),u=n(43938),c=n(19239),p=n(10070),f=n(75125),d=n(323),h=n(30119),y=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;var f=r.disposeVar(new p.Player);r.dispose((0,c.bind)([f,"loop","loopChangedEvent"],[t,"loop"])),r.dispose((0,c.bind)([f,"currentTime","currentTimeChangedEvent"],[t,"currentTime"])),r.dispose((0,c.bind)([f,"duration","durationChangedEvent"],[t,"duration"])),r.dispose((0,c.bind)([f,"playing","playingChangedEvent"],[t,"playing"]));var d=r.disposeVar(p.SceneObject.context.createEvnStrReact([t,"imageUrl"])),y=r.disposeVar(new l.ResourceHandler),g=r.disposeVar((0,p.createProcessingFromAsyncFunc)((function(e){return i(r,void 0,void 0,(function(){var t,n;return a(this,(function(r){switch(r.label){case 0:return d.value?(t=(0,l.getSharedTexturePool)(o.scene.context).getTextureHandler(d.value))instanceof l.ResourceHandler?(y.reset(t),[3,3]):[3,1]:[2];case 1:return[4,e.promise(t)];case 2:n=r.sent(),y.reset(n),r.label=3;case 3:return[2]}}))}))}))),m=function(){return y.valid?y.raw:o.scene.context.defaultTexture},v=function(){return g.restart()};v(),r.dispose(d.changed.disposableOn(v));var b=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.positionsSetChanged,d.changed,t.widthChanged,t.arcTypeChanged,t.brighteningChanged,t.depthTestChanged)),_=r.disposeVar(new p.ObjResettingWithEvent(b,(function(){if(t.positionsSet)return new h.SignalTransmissionCollectionPrimitive(o,t,d.value&&m||void 0)})));return n.extensions&&r.dispose(n.czmPickedEvent.disposableOn((function(e){var n,r;if(e){var o=e.czmPickResult;o&&null!==(n=t.allowPicking)&&void 0!==n&&n&&t&&o.primitive===(null===(r=_.obj)||void 0===r?void 0:r.nativePrimitive)&&t.pickedEvent.emit(new u.SceneObjectPickedInfo(t,e))}}))),r.dispose(t.flyToEvent.disposableOn((function(e){if(t.positionsSet&&0!==t.positionsSet.length)if(1!==t.positionsSet.length){var n=(0,l.computeBoundingSphere)(t.positionsSet[0]);if(n){var r=s(n,2),i=r[0],a=r[1];(0,l.flyTo)(o.camera,i,3*a,void 0,e)}}else(0,l.flyTo)(o.camera,t.positionsSet[0][0],o.camera.positionCartographic.height,void 0,e)}))),r}var n;return o(t,e),n=t,t.type=n.register(d.CzmSignalTransmissionCollection.type,n),t}(f.CzmObject);t.CzmCzmSignalTransmissionCollection=y},75279:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},u=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.SignalTransmissionPrimitive=void 0;var c=s(n(2003)),p=n(19239),f=n(55114),d=n(69767),h=function(e){function t(t,n,r){var o,i,a,s,p=this;(p=e.call(this)||this)._viewer=t;var h=p._viewer,y=n.positions;if(!y)return p;var g=null!==(o=n.width)&&void 0!==o?o:5;if(y.length<=1)return p;var m=void 0===n.heightRatio?[{positions:y,width:g,sceneObject:n}]:[{startPos:y[0],endPos:y[1],heightRatio:n.heightRatio,width:g,sceneObject:n}],v=void 0!==n.arcType?c.ArcType[n.arcType]:c.ArcType.GEODESIC,b=(0,d.xbsjCreateODLinesPrimitive)(m,[1,1,1,1],v,(function(e,t,n){var r,o,i,a,s,c,p,d,h,y=m[e].sceneObject;if(!y)return n;var g=null!==(i=y.startTime)&&void 0!==i?i:0,v=null!==(s=null!==(a=y.transmissionTime)&&void 0!==a?a:y.duration)&&void 0!==s?s:3e3,b=y.currentTime,_=(0,f.clamp)((b-g)/v,0,1);n.timeRatio=_,n.repeat=null!==(c=y.repeat)&&void 0!==c?c:5;var w=null!==(p=y.color)&&void 0!==p?p:[0,1,0,1],P=null!==(d=y.bgColor)&&void 0!==d?d:[w[0],w[1],w[2],.2*w[3]];return(r=n.color).splice.apply(r,u([0,4],l(w),!1)),(o=n.bgColor).splice.apply(o,u([0,4],l(P),!1)),n.bidirectional=null!==(h=y.bidirectional)&&void 0!==h?h:0,n}),null!==(i=n.brightening)&&void 0!==i&&i,null===(a=n.depthTest)||void 0===a||a,r);return b?(h.scene.primitives.add(b),p.dispose((function(){h.scene.primitives.remove(b)})),b.show=null===(s=n.show)||void 0===s||s,p.dispose(n.showChanged.disposableOn((function(){var e;b&&(b.show=null===(e=n.show)||void 0===e||e)}))),p._nativePrimitive=b,p):p}return o(t,e),Object.defineProperty(t.prototype,"nativePrimitive",{get:function(){return this._nativePrimitive},enumerable:!1,configurable:!0}),t}(p.Destroyable);t.SignalTransmissionPrimitive=h},98186:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmSignalTransmission=void 0;var l=n(43938),u=n(69767),c=n(10070),p=n(75125),f=n(323),d=n(69767),h=n(69767),y=n(75279),g=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;var p=r.disposeVar(c.SceneObject.context.createEvnStrReact([t,"imageUrl"])),f=r.disposeVar(new h.ResourceHandler),g=r.disposeVar((0,c.createProcessingFromAsyncFunc)((function(e){return i(r,void 0,void 0,(function(){var t,n;return a(this,(function(r){switch(r.label){case 0:return p.value?(t=(0,d.getSharedTexturePool)(o.scene.context).getTextureHandler(p.value))instanceof h.ResourceHandler?(f.reset(t),[3,3]):[3,1]:[2];case 1:return[4,e.promise(t)];case 2:n=r.sent(),f.reset(n),r.label=3;case 3:return[2]}}))}))}))),m=function(){return f.valid?f.raw:o.scene.context.defaultTexture},v=function(){return g.restart()};v(),r.dispose(p.changed.disposableOn(v));var b=r.disposeVar((0,c.createNextAnimateFrameEvent)(t.positionsChanged,p.changed,t.widthChanged,t.arcTypeChanged,t.brighteningChanged,t.depthTestChanged,t.heightRatioChanged)),_=r.disposeVar(new c.ObjResettingWithEvent(b,(function(){if(t.positions)return new y.SignalTransmissionPrimitive(o,t,p.value&&m||void 0)})));return n.extensions&&r.dispose(n.czmPickedEvent.disposableOn((function(e){var n,r;if(e){var o=e.czmPickResult;o&&null!==(n=t.allowPicking)&&void 0!==n&&n&&t&&o.primitive===(null===(r=_.obj)||void 0===r?void 0:r.nativePrimitive)&&t.pickedEvent.emit(new l.SceneObjectPickedInfo(t,e))}}))),r.dispose(t.flyToEvent.disposableOn((function(e){if(t.positions&&0!==t.positions.length)if(1!==t.positions.length){var n=(0,u.computeBoundingSphere)(t.positions);if(n){var r=s(n,2),i=r[0],a=r[1];(0,u.flyTo)(o.camera,i,3*a,void 0,e)}}else(0,u.flyTo)(o.camera,t.positions[0],o.camera.positionCartographic.height,void 0,e)}))),r}var n;return o(t,e),n=t,t.type=n.register(f.CzmSignalTransmission.type,n),t}(p.CzmObject);t.CzmCzmSignalTransmission=g},91066:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmSnowPostProcess=void 0;var l=n(323),u=s(n(2003)),c=function(e){function t(t,n){var r,o,i=e.call(this,t,n)||this,a=n.viewer;if(!a)return console.warn("viewer is undefined!"),i;var s=function(){r&&(a.scene.postProcessStages.remove(r),r=void 0)};i.dispose(s);var l=function(){o&&(a.scene.postProcessStages.remove(o),o=void 0)};i.dispose(l);var c=function(){if(o){var e=u.Math.clamp(t.alpha,0,1);o.uniforms.alpha=e}};c(),i.dispose(t.alphaChanged.disposableOn(c));var p=function(){var e;s(),l(),(null===(e=t.show)||void 0===e||e)&&(r=new u.PostProcessStage({name:"czm_snow",fragmentShader:"\nuniform sampler2D colorTexture; //输入的场景渲染照片\nin vec2 v_textureCoordinates;\n\nfloat snow(vec2 uv,float scale)\n{\n    float time = czm_frameNumber / 60.0;\n    float w=smoothstep(1.,0.,-uv.y*(scale/10.));if(w<.1)return 0.;\n    uv+=time/scale;uv.y+=time*2./scale;uv.x+=sin(uv.y+time*.5)/scale;\n    uv*=scale;vec2 s=floor(uv),f=fract(uv),p;float k=3.,d;\n    p=.5+.35*sin(11.*fract(sin((s+p+scale)*mat2(7,3,6,5))*5.))-f;d=length(p);k=min(d,k);\n    k=smoothstep(0.,k,sin(f.x+f.y)*0.01);\n    return k*w;\n}\n\nvoid main(void){\n    vec2 resolution = czm_viewport.zw;\n    vec2 uv=(gl_FragCoord.xy*2.-resolution.xy)/min(resolution.x,resolution.y);\n    vec3 finalColor=vec3(0);\n    //float c=smoothstep(1.,0.3,clamp(uv.y*.3+.8,0.,.75));\n    float c = 0.0;\n    c+=snow(uv,30.)*.0;\n    c+=snow(uv,20.)*.0;\n    c+=snow(uv,15.)*.0;\n    c+=snow(uv,10.);\n    c+=snow(uv,8.);\n    c+=snow(uv,6.);\n    c+=snow(uv,5.);\n    finalColor=(vec3(c)); //屏幕上雪的颜色\n    out_FragColor = mix(texture(colorTexture, v_textureCoordinates), vec4(finalColor,1), 0.5);  //将雪和三维场景融合\n}\n"}),a.scene.postProcessStages.add(r),o=new u.PostProcessStage({name:"czm_snowCover",fragmentShader:"\n#extension GL_OES_standard_derivatives : enable\nuniform sampler2D colorTexture;\nuniform sampler2D depthTexture;\nuniform float alpha;\nin vec2 v_textureCoordinates;\nvec4 toEye(in vec2 uv, in float depth) {\n    vec2 xy = vec2((uv.x * 2.0 - 1.0), (uv.y * 2.0 - 1.0));\n    vec4 posInCamera = czm_inverseProjection * vec4(xy, depth, 1.0);\n    posInCamera = posInCamera / posInCamera.w;\n    return posInCamera;\n}\nfloat getDepth(in vec4 depth) {\n    float z_window = czm_unpackDepth(depth);\n    z_window = czm_reverseLogDepth(z_window);\n    float n_range = czm_depthRange.near;\n    float f_range = czm_depthRange.far;\n    return (2.0 * z_window - n_range - f_range) / (f_range - n_range);\n}\nvoid main() {\n    vec4 color = texture(colorTexture, v_textureCoordinates);\n    vec4 currD = texture(depthTexture, v_textureCoordinates);\n    if(currD.r >= 1.0) {\n        out_FragColor = color;\n        return;\n    }\n    float depth = getDepth(currD);\n    vec4 positionEC = toEye(v_textureCoordinates, depth);\n    vec3 dx = dFdx(positionEC.xyz);\n    vec3 dy = dFdy(positionEC.xyz);\n    vec3 nor = normalize(cross(dx, dy));\n    vec4 positionWC = normalize(czm_inverseView * positionEC);\n    vec3 normalWC = normalize(czm_inverseViewRotation * nor);\n    float dotNumWC = dot(positionWC.xyz, normalWC);\n    if(dotNumWC <= 0.3) {\n        out_FragColor = mix(color, vec4(1.0), alpha*0.3);\n        return;\n    }\n    out_FragColor = mix(color, vec4(1.0), dotNumWC*alpha);\n}\n",uniforms:{alpha:t.alpha}}),a.scene.postProcessStages.add(o),c())};return p(),i.dispose(t.showChanged.disposableOn(p)),i}var n;return o(t,e),n=t,t.type=n.register(l.CzmSnowPostProcess.type,n),t}(n(75125).CzmObject);t.CzmCzmSnowPostProcess=c},14981:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},u=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmSpaceAreaMeasurement=void 0;var p=n(19239),f=s(n(38347)),d=s(n(2003)),h=c(n(10006)),y=n(75125),g=n(323),m=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;if(!(0,y.getViewerExtensions)(n.viewer))return r;var i=function(){var e,n,r,i;if(t.positions)if(t.positions.length<3)t.totalArea=0;else{for(var a=null!==(e=t.interpolationDistance)&&void 0!==e?e:g.CzmSpaceAreaMeasurement.defaults.interpolationDistance,s=null!==(n=t.interpolation)&&void 0!==n?n:g.CzmSpaceAreaMeasurement.defaults.interpolation,c=null!==(r=t.offsetHeight)&&void 0!==r?r:g.CzmSpaceAreaMeasurement.defaults.offsetHeight,p=null!==(i=t.drillDepth)&&void 0!==i?i:g.CzmSpaceAreaMeasurement.defaults.drillDepth,f=[],y=0;y<t.positions.length;++y){var m=d.Cartesian3.fromDegrees(t.positions[y][0],t.positions[y][1],t.positions[y][2]);f.push(m)}f[f.length-1].equals(f[f.length-2])&&f.pop();var O=function(e){for(var t=new d.Cartesian3(0,0,0),n=new d.Cartesian3(0,0,0),r=new d.Cartesian3(0,0,0),o=new d.Cartesian3(0,0,0),i=e.length,a=0;a<i;++a){var s,l,u=e[a];s=0==a?e[e.length-1]:e[a-1],l=a==e.length-1?e[0]:e[a+1],t=d.Cartesian3.subtract(u,s,t),n=d.Cartesian3.subtract(u,l,n),r=d.Cartesian3.cross(t,n,r),r=d.Cartesian3.normalize(r,r),o=d.Cartesian3.add(o,r,o)}return r.x=o.x/i,r.y=o.y/i,r.z=o.z/i,r}(f),x=function(e){for(var t=new d.Cartesian3(0,0,0),n=e.length,r=0;r<n;++r){var o=e[r];t=d.Cartesian3.add(t,o,t)}return t.x=t.x/n,t.y=t.y/n,t.z=t.z/n,t}(f),S=d.Cartesian3.normalize(x,new d.Cartesian3),E=d.Cartesian3.dot(S,O);E<0&&(O=v(O),f.reverse());var j=d.Transforms.eastNorthUpToFixedFrame(x),T=d.Matrix4.inverseTransformation(j,new d.Matrix4);if(Math.abs(E)<.999){var M=function(e,t){var n=d.Cartesian3.cross(e,t,new d.Cartesian3);n=d.Cartesian3.normalize(n,n);var r=d.Cartesian3.cross(e,n,new d.Cartesian3);r=d.Cartesian3.normalize(r,r);var o=e;return new d.Matrix4(n.x,n.y,n.z,0,r.x,r.y,r.z,0,o.x,o.y,o.z,0,0,0,0,1)}(O,S),A=v(x),I=d.Matrix4.fromTranslation(A,new d.Matrix4);T=d.Matrix4.multiply(M,I,I),j=d.Matrix4.inverse(T,new d.Matrix4)}var N,D,z,R,k,L=b(f,T),F=[],B=[],V=[];if(s){var G=(D=(N=L)[0].x,z=N[0].y,R=N[0].x,k=N[0].y,N.forEach((function(e){D=Math.min(D,e.x),z=Math.min(z,e.y),R=Math.max(R,e.x),k=Math.max(k,e.y)})),{minx:D,miny:z,maxx:R,maxy:k}),U=function(e){var t=[];return e.forEach((function(e){t.push([e.x,e.y])})),t.push(t[0]),t}(L),W=function(e,t,n){for(var r=[],o=t.minx;o<t.maxx;o+=n)for(var i=t.miny;i<t.maxy;i+=n)P([o,i],e)&&r.push(new d.Cartesian3(o,i,0));return r}(U,G,a),J=C(W,j,T,O,o.scene,c,p),H=function(e,t){for(var n=[],r=0;r<e.length;++r){var o=w(e[r],r==e.length-1?e[0]:e[r+1],t);n.push.apply(n,u([],l(o),!1))}return n}(L,a),q=C(H,j,T,O,o.scene,c,p);V.push.apply(V,u([],l(J.world_cartesian),!1)),F.push.apply(F,u([],l(J.local),!1)),B.push.apply(B,u([],l(J.world),!1)),V.push.apply(V,u([],l(q.world_cartesian),!1)),F.push.apply(F,u([],l(q.local),!1)),B.push.apply(B,u([],l(q.world),!1)),L.forEach((function(e){var t=C([e],j,T,O,o.scene,c,p);if(t.local.length>0)F.push.apply(F,u([],l(t.local),!1)),B.push.apply(B,u([],l(t.world),!1)),V.push.apply(V,u([],l(t.world_cartesian),!1));else{F.push(e);for(var n=b([e],j),r=0;r<n.length;++r){V.push(n[r]);var i=d.Cartographic.fromCartesian(n[r]);B.push([i.longitude,i.latitude,i.height+c])}}}))}else for(F=L,V=b(L,j),y=0;y<V.length;++y){var Y=d.Cartographic.fromCartesian(V[y]);B.push([Y.longitude,Y.latitude,Y.height+c])}var X=function(e){var t=[];return e.forEach((function(e){var n=[e.x,e.y];t.push(n)})),h.default.from(t).triangles.reverse()}(L),Z=function(e,t){for(var n=0,r=0;r<t.length;r+=3)n+=_([e[t[r]],e[t[r+1]],e[t[r+2]]]);return n}(V,X);t.totalArea=Z}else t.totalArea=0};i();var a=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.positionsChanged,t.interpolationDistanceChanged,t.interpolationChanged,t.offsetHeightChanged,t.drillDepthChanged));return r.dispose(a.disposableOn(i)),r}var n;return o(t,e),n=t,t.type=n.register(g.CzmSpaceAreaMeasurement.type,n),t}(y.CzmObject);function v(e){return new d.Cartesian3(-1*e.x,-1*e.y,-1*e.z)}function b(e,t){for(var n=[],r=0;r<e.length;++r){var o=e[r],i=d.Matrix4.multiplyByPoint(t,o,new d.Cartesian3);n.push(i)}return n}function _(e){var t=d.Cartesian3.distance(e[0],e[1]),n=d.Cartesian3.distance(e[1],e[2]),r=d.Cartesian3.distance(e[2],e[0]),o=(t+n+r)/2;return Math.sqrt(o*(o-t)*(o-n)*(o-r))}function w(e,t,n){var r=[],o=d.Cartesian3.distance(e,t),i=d.Cartesian3.subtract(t,e,new d.Cartesian3);i=d.Cartesian3.normalize(i,i);for(var a=n;a<o;){var s=new d.Cartesian3(i.x*a,i.y*a,i.z*a),l=d.Cartesian3.add(e,s,new d.Cartesian3);r.push(l),a+=n}return r}function P(e,t){var n=f.point(e);if(!f.booleanEqual(f.point(t[0]),f.point(t[t.length-1])))return!1;var r=[];r.push(t);var o=f.polygon(r);return f.booleanPointInPolygon(n,o)}function C(e,t,n,r,o,i,a){var s=[];e.forEach((function(e){var t=e.clone();t.z=1e5,s.push(t)}));for(var l=b(s,t),u=new d.Cartesian3(-1*r.x,-1*r.y,-1*r.z),c=[],p=[],f=[],h=0;h<l.length;++h){var y=l[h],g=new d.Ray(y,u),m=[];try{m=o.drillPickFromRay(g,a)}catch(e){}if(0===m.length){g=new d.Ray(y,r);try{m=o.drillPickFromRay(g,a)}catch(e){}}if(0!==m.length){for(var v,_=0;_<m.length;_++){var w=m[_];if((!w.object||w.object.content)&&w.position){v=w.position;break}}if(v&&v.x&&!isNaN(v.x)){var P=b([v],n);P.forEach((function(e){e.z+=i})),v=b(P,t)[0],f.push(v),v=d.Cartographic.fromCartesian(v),c.push([v.longitude,v.latitude,v.height]),p.push(e[h])}}}return{local:p,world:c,world_cartesian:f}}t.CzmCzmSpaceAreaMeasurement=m},42692:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmTerrain=t.getApproximateTerrainMinimumMaximumHeights=void 0;var l=s(n(2003)),u=n(19239),c=n(69767),p=n(10070),f=n(75125),d=n(323),h=n(53733);t.getApproximateTerrainMinimumMaximumHeights=function(e,t){return l.ApproximateTerrainHeights.getMinimumMaximumHeights(e,t)};var y=function(e){function t(t,n){var r=e.call(this,t,n)||this;r._provider=r.disposeVar((0,u.react)(void 0));var o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;var i=(0,f.getViewerExtensions)(o);if(!i)return r;var a=i.terrainManager,s=function(){r.provider&&(a.delete(r),r.provider=void 0)};r.dispose(s);var l=function(){s(),t.provider&&(r.provider=(0,h.createTerrainProviderFromJson)(t.provider,n),a.add(r))};l();var d=r.disposeVar(new u.Event),y=r.disposeVar(new u.Event);r.dispose(t.providerChanged.disposableOn((function(e,t){(0,h.needRecreate)(t,e)?d.emit():y.emit()}))),r.dispose(p.SceneObject.context.environmentVariablesChanged.disposableOn((function(){d.emit()})));var g=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.recreateEvent,d));r.dispose(g.disposableOn((function(){l()})));var m=r.disposeVar((0,p.createNextAnimateFrameEvent)(t.showChanged,y));return r.dispose(m.disposableOn((function(){}))),r.dispose(t.flyToEvent.disposableOn((function(e){if(n.actived)if(r.provider){var o=n.viewer;o&&(t.rectangle?o.camera.flyTo({destination:(0,c.toRectangle)(t.rectangle),duration:e}):console.warn("不能飞入，因为未设置rectangle属性！"))}else console.warn("!this.provider")}))),r}var n;return o(t,e),Object.defineProperty(t.prototype,"provider",{get:function(){return this._provider.value},set:function(e){this._provider.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"providerChanged",{get:function(){return this._provider.changed},enumerable:!1,configurable:!0}),n=t,t.type=n.register(d.CzmTerrain.type,n),t}(f.CzmObject);t.CzmCzmTerrain=y},53733:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createTerrainProviderFromJson=t.needRecreate=void 0;var a=n(43938),s=i(n(2003)),l=n(69767),u=n(60783);t.needRecreate=function(e,t){return!0};var c=a.SceneObject.context.getStrFromEnv;t.createTerrainProviderFromJson=function(e,t){if("EllipsoidTerrainProvider"===e.type)return new s.EllipsoidTerrainProvider({ellipsoid:e.ellipsoid&&(0,l.toEllipsoid)(e.ellipsoid),tilingScheme:e.tilingScheme&&(0,u.createTilingSchema)(e.tilingScheme)});if("CesiumTerrainProvider"===e.type){var n=void 0;if(e.url.startsWith("ion://")){var r=+e.url.substring("ion://".length);Number.isFinite(r)&&(n=s.IonResource.fromAssetId(r))}else n=c(e.url);if(!n)return;return new s.CesiumTerrainProvider({url:n,requestVertexNormals:e.requestVertexNormals,requestWaterMask:e.requestWaterMask,requestMetadata:e.requestMetadata,ellipsoid:e.ellipsoid&&(0,l.toEllipsoid)(e.ellipsoid),credit:e.credit})}return"GoogleEarthEnterpriseTerrainProvider"===e.type?new s.GoogleEarthEnterpriseTerrainProvider({url:c(e.url),metadata:new s.GoogleEarthEnterpriseMetadata(e.metadata),ellipsoid:e.ellipsoid&&(0,l.toEllipsoid)(e.ellipsoid),credit:e.credit}):"ArcGISTiledElevationTerrainProvider"===e.type?new s.ArcGISTiledElevationTerrainProvider({url:c(e.url),token:e.token,ellipsoid:e.ellipsoid&&(0,l.toEllipsoid)(e.ellipsoid)}):"CustomHeightmapTerrainProvider"===e.type?new s.CustomHeightmapTerrainProvider({tilingScheme:e.tilingScheme&&(0,u.createTilingSchema)(e.tilingScheme),width:e.width,height:e.height,ellipsoid:e.ellipsoid&&(0,l.toEllipsoid)(e.ellipsoid),credit:e.credit,callback:e.callback&&Function('"use strict";return ('+e.callback+")")()}):"VRTheWorldTerrainProvider"===e.type?new s.VRTheWorldTerrainProvider({url:c(e.url),ellipsoid:e.ellipsoid&&(0,l.toEllipsoid)(e.ellipsoid),credit:e.credit}):void 0}},79913:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmTexture=void 0;var i=n(75125),a=n(323),s=n(69767),l=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(r._czmNativeTexture=r.disposeVar(new s.CzmTexture(r.czmViewer.viewer,r.sceneObject.complexImage)),!n.viewer)throw console.warn("viewer is undefined!"),new Error("viewer is undefined!");return r}var n;return o(t,e),Object.defineProperty(t.prototype,"czmNativeTexture",{get:function(){return this._czmNativeTexture},enumerable:!1,configurable:!0}),t.prototype.getDefaultTexture=function(){if(!this.czmViewer.viewer)throw new Error("!this.czmViewer.viewer");return this.czmViewer.viewer.scene.context.defaultTexture},Object.defineProperty(t.prototype,"texture",{get:function(){var e;return null!==(e=this.czmNativeTexture.nativeTexture)&&void 0!==e?e:this.getDefaultTexture()},enumerable:!1,configurable:!0}),n=t,t.type=n.register(a.CzmTexture.type,n),t}(i.CzmObject);t.CzmCzmTexture=l},87514:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmToolbar=void 0;var a=n(43938),s=n(19239),l=n(75125),u=n(323),c=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(r._customDiv=r.disposeVar(new a.GeoCustomDivPoi),!n.viewer)return console.warn("viewer is undefined!"),r;var l=r._customDiv;n.add(l),r.dispose((function(){return n.delete(l)})),r.dispose((0,s.track)([l,"show"],[t,"show"])),r.dispose((0,s.bind)([l,"editing"],[t,"editing"])),r.dispose((0,s.bind)([l,"position"],[t,"position"])),l.originRatioAndOffset=[0,0,0,-20],r.dispose(t.flyToEvent.disposableOn((function(e){l.flyTo(e)}))),l.instanceClass=function(e){return function(t){function n(n,r,o){var a=t.call(this)||this;if(!o)return a;var s,l,c,p=o,f=document.createElement("div");n.appendChild(f),a.dispose((function(){return n.removeChild(f)})),f.style.pointerEvents="all",s=document.createElement("div"),f.appendChild(s),s.style.cssText="\n                    height:34px;\n                    width:auto;\n                    background-color: rgba(53, 54, 58);\n                    border-radius: 6px;\n                    display: flex;\n                ",l=document.createElement("div"),s.appendChild(l),l.style.cssText="\n                    width: 10px;\n                    height: 100%;\n                    text-align: center;\n                    cursor: move;\n                    overflow-wrap: anywhere;\n                    overflow: hidden;\n                    line-height: 4px;\n                    font-size: 12px;\n                    background-color:#151515;\n                    border-bottom-left-radius: 6px;\n                    padding: 6px 1px 1px;\n                    border-top-left-radius: 6px;\n                    box-sizing: border-box;\n                    color: #dddddd;\n                    -webkit-user-select:none;\n                    -moz-user-select:none;\n                    -ms-user-select:none;\n                    user-select:none;\n                ",l.innerText="........",a.disposeVar(new u.CzmToolbar.ToolbarMoving(r,l)),c=document.createElement("div"),s.appendChild(c),c.style.cssText="\n                    height:100%;\n                    width:auto;\n                    display: flex;\n                    align-items: center;\n                ";var d,h=[];return(d=function(){h.length>0&&(h.forEach((function(e){var t=i(e,2),n=t[0],r=t[1];r.destroy&&r.destroy(),n.parentElement.removeChild(n)})),h.length=0),e.config&&0!==e.config.length&&e.config.forEach((function(t){var n=document.createElement("div");c.appendChild(n),n.style.cssText="\nheight:20px;\nwidth:20px;\nmargin: 0 5px;\ncursor: pointer;\n-webkit-user-select:none;\n-moz-user-select:none;\n-ms-user-select:none;\nuser-select:none;\noverflow: hidden;\n",n.title=t.name;var r=document.createElement("img");n.appendChild(r),r.src="".concat(e.transitionImageUrl(t.url)),r.style.cssText="\nheight:20px;\nwidth:20px;\n",n.addEventListener("mouseover",(function(){n.style.textIndent="-20px",r.style.filter="drop-shadow(20px 0px #ffffff)"})),n.addEventListener("mouseout",(function(){n.style.textIndent="unset",r.style.filter="unset"}));var o=t.creatFunc(e,n,r,p);h.push([n,o])}))})(),a.dispose(e.configChanged.disposableOn(d)),a.dispose((function(){return e.config=[]})),(d=function(){var e;f.style.display=null===(e=r.show)||void 0===e||e?"block":"none"})(),a.dispose(r.showChanged.disposableOn(d)),a}return o(n,t),Object.defineProperty(n.prototype,"sceneTreeApp",{get:function(){return this._sceneTreeApp},enumerable:!1,configurable:!0}),n}(s.Destroyable)}(t);var c=r.disposeVar(new u.CzmModelPrimitive);n.add(c),r.dispose((function(){return n.delete(c)})),r.dispose((0,s.track)([c,"show"],[t,"debug"])),r.dispose((0,s.track)([c,"position"],[t,"position"])),r.dispose((0,s.track)([c,"scale"],[t,"scale"],(function(e){return[e,e,e]}))),c.pixelSize=10;var p=function(){t.scale<=0&&(t.scale=1)};return p(),r.dispose(t.scaleChanged.disposableOn(p)),r}var n;return o(t,e),Object.defineProperty(t.prototype,"customDiv",{get:function(){return this._customDiv},enumerable:!1,configurable:!0}),n=t,t.type=n.register(u.CzmToolbar.type,n),t}(l.CzmObject);t.CzmCzmToolbar=c},9096:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzmViewShed=void 0;var l=n(69767),u=n(10070),c=s(n(2003)),p=n(75125),f=n(323),d=n(43938),h=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;var i=r.disposeVar(new l.XbsjViewshed(o.scene));o.scene.primitives.add(i),r.dispose((function(){return o.scene.primitives.remove(i)}));var a=function(){var e;i.enabled=!!t.position&&(null===(e=t.show)||void 0===e||e),t.position&&(i.position=(0,l.positionToCartesian)(t.position)),i.heading=c.Math.toRadians(t.rotation[0]),i.pitch=c.Math.toRadians(t.rotation[1]),i.roll=c.Math.toRadians(t.rotation[2]),i.fovH=c.Math.toRadians(t.fovH),i.fovV=c.Math.toRadians(t.fovV),i.near=t.near,i.far=t.far};a();var s=r.disposeVar((0,u.createNextAnimateFrameEvent)(t.positionChanged,t.showChanged,t.rotationChanged,t.farChanged,t.nearChanged,t.fovHChanged,t.fovVChanged));return r.dispose(s.disposableOn(a)),r.dispose(t.flyToEvent.disposableOn((function(e){if(n.actived){var r=3*t.far;(0,l.flyTo)(o.scene.camera,t.position,r,void 0,e)}}))),r.dispose(n.czmPickedEvent.disposableOn((function(e){var n;if(e){var r=e.czmPickResult;console.log("pickedResult",r,i),r&&null!==(n=t.allowPicking)&&void 0!==n&&n&&i&&r.primitive===i&&t.pickedEvent.emit(new d.SceneObjectPickedInfo(t,e))}}))),r}var n;return o(t,e),n=t,t.type=n.register(f.CzmViewShed.type,n),t}(p.CzmObject);t.CzmCzmViewShed=h},41944:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(76101),t),o(n(13132),t),o(n(80888),t),o(n(29014),t),o(n(85025),t),o(n(4658),t),o(n(61928),t),o(n(41671),t),o(n(94417),t),o(n(83205),t),o(n(74314),t),o(n(18602),t),o(n(29051),t),o(n(51342),t),o(n(32267),t),o(n(65935),t),o(n(86708),t),o(n(8287),t),o(n(37320),t),o(n(26057),t),o(n(67970),t),o(n(32634),t),o(n(70335),t),o(n(96044),t),o(n(40988),t),o(n(46015),t),o(n(92643),t),o(n(58567),t),o(n(76701),t),o(n(84710),t),o(n(81690),t),o(n(26629),t),o(n(59345),t),o(n(33112),t),o(n(24810),t),o(n(58630),t),o(n(36044),t),o(n(14210),t),o(n(7306),t),o(n(13729),t),o(n(37896),t),o(n(8965),t),o(n(70107),t),o(n(27337),t),o(n(38253),t),o(n(81789),t),o(n(52074),t),o(n(14698),t),o(n(68051),t),o(n(45776),t),o(n(88768),t),o(n(98186),t),o(n(99591),t),o(n(14981),t),o(n(91066),t),o(n(42692),t),o(n(79913),t),o(n(87514),t),o(n(9096),t)},28453:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoCameraController=void 0;var l=n(69767),u=n(43938),c=n(19239),p=n(55114),f=s(n(2003)),d=n(75125),h=function(e){function t(t,n){var r=e.call(this)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;var i=!0;r.dispose(t.positionChanged.disposableOn((function(){return i=!0}))),r.dispose(t.rotationChanged.disposableOn((function(){return i=!0}))),r.dispose(t.offsetHeightChanged.disposableOn((function(){return i=!0}))),r.dispose(t.viewDistanceChanged.disposableOn((function(){return i=!0}))),r.dispose(t.offsetRotationChanged.disposableOn((function(){return i=!0})));var a=[0,0,0],s=[0,0,0];r.dispose(o.clock.onTick.addEventListener((function(){if(i)if(i=!1,t.position){if(void 0===t.viewDistance){console.warn("相机控制器(".concat(t.name,"-").concat(t.id,")未能设置视距，将自动设置视距！"));var e=(0,l.positionToCartesian)(t.position),r=o.camera.positionWC,c=f.Cartesian3.distance(e,r);t.viewDistance=c}p.Vector.clone(t.position,s),t.offsetHeight&&(s[2]+=t.offsetHeight);var d=t.rotation,h=t.offsetRotation,y=void 0===h?u.GeoCameraController.defaults.offsetRotation:h;p.Vector.set(a,0,0,0),d&&p.Vector.add(d,a,a),p.Vector.add(y,a,a),n.flyTo(s,t.viewDistance,a,0)}else console.warn("相机控制器(".concat(t.name,"-").concat(t.id,")未能设置位置，无法启用！"))}))),n.incrementDisabledInputStack(),r.dispose((function(){return n.decrementDisabledInputStack()}));var c=(0,d.getViewerExtensions)(o);if(!c)return r;var h=c.interaction;return r.dispose(h.pointerMoveEvent.disposableOn((function(e){var n;if(t.enabledRotationInput&&(1===e.buttons||2===e.buttons)){var r=e.movementX,o=e.movementY;t.offsetRotation=p.Vector.add(null!==(n=t.offsetRotation)&&void 0!==n?n:u.GeoCameraController.defaults.offsetRotation,[.2*r,-.2*o,0])}}))),r.dispose(h.wheelEvent.disposableOn((function(e){if(t.enabledScaleInput){var n=e.deltaY,r=Math.max(1,t.viewDistance)*(.001*n);t.viewDistance=t.viewDistance+r}}))),r}return o(t,e),t}(c.Destroyable),y=function(e){function t(t,n){var r,o=e.call(this,t,n)||this;if(!n.viewer)return console.warn("viewer is undefined!"),o;var i=function(){r&&(r.destroy(),r=void 0)};o.dispose(i);var a=function(){i(),t.enabled&&(r=new h(t,n))};return a(),o.dispose(t.enabledChanged.disposableOn(a)),o.dispose(t.resetWithCameraEvent.disposableOn((function(e){if(n.actived){var r=function(e){if(e.viewer){var t=e.viewer.camera;return[t.heading,t.pitch,t.roll].map(f.Math.toDegrees)}}(n);if(r){var o=t.rotation;t.offsetRotation=[r[0]-o[0],r[1]-o[1],r[2]-o[2]]}}}))),o}var n;return o(t,e),n=t,t.type=n.register(u.GeoCameraController.type,n),t}(d.CzmObject);t.CzmGeoCameraController=y},58387:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoCanvasPoi=void 0;var a=n(69767),s=n(43938),l=n(19239),u=n(10070),c=n(75125),p=n(60783),f=function(e){function t(t,n,r,o,s,l){var c,p=e.call(this)||this,f=p.disposeVar(new a.CzmCanvasPoi(n,r));p.disposeVar(s(f.canvasPoi,l.visibleAlphaChanged)),(c=function(){t.position&&(f.cartesian=(0,a.positionToCartesian)(t.position))})(),p.dispose(t.positionChanged.disposableOn(c)),(c=function(){var e;f.show=(null===(e=t.show)||void 0===e||e)&&!!t.position&&l.visibleAlpha>0})();var d=p.disposeVar((0,u.createNextAnimateFrameEvent)(t.showChanged,t.positionChanged,l.visibleAlphaChanged));return p.dispose(d.disposableOn(c)),p.dispose(t.flyToEvent.disposableOn((function(){if(t.position){var e=o.scene.camera.positionCartographic.height;if(t.viewDistanceRange){var n=i(t.viewDistanceRange,4),r=(n[0],n[1]),s=n[2];n[3],e=.5*(r+s)}(0,a.flyTo)(o.scene.camera,t.position,e,void 0,1e3)}else console.warn("GeoPoint当前没有位置信息，无法飞入！")}))),p}return o(t,e),t}(l.Destroyable),d=function(e){function t(t,n){var r=e.call(this,t,n)||this;r._czmViewVisibleDistanceRangeControl=r.disposeVar(new p.CzmViewDistanceRangeControl(r.czmViewer,[r.sceneObject,"viewDistanceRange"],[r.sceneObject,"position"])),r._viewDistanceDebugBinding=(r.dispose((0,l.track)([r._czmViewVisibleDistanceRangeControl,"debug"],[r.sceneObject,"viewDistanceDebug"])),0);var o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;var a=(0,c.getViewerExtensions)(o);if(!a)return r;var s=a.poiContext;return s?(r.disposeVar(new u.ObjResettingWithEvent(t.canvasPoiClassAndCreateFuncChanged,(function(){if(t.canvasPoiClassAndCreateFunc){var e=i(t.canvasPoiClassAndCreateFunc,2),n=e[0],a=e[1];return new f(t,n,s,o,a,r)}}))),r):r}var n;return o(t,e),Object.defineProperty(t.prototype,"czmViewerVisibleDistanceRangeControl",{get:function(){return this._czmViewVisibleDistanceRangeControl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleAlpha",{get:function(){return this._czmViewVisibleDistanceRangeControl.visibleAlpha},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleAlphaChanged",{get:function(){return this._czmViewVisibleDistanceRangeControl.visibleAlphaChanged},enumerable:!1,configurable:!0}),n=t,t.type=n.register(s.GeoCanvasPoi.type,n),t}(c.CzmObject);t.CzmGeoCanvasPoi=d},57327:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Circle=void 0;var i=n(43938),a=n(19239),s=n(323),l=n(10070),u=function(e){function t(t,n){var r=e.call(this)||this,o=r.disposeVar(new s.CzmCirclePrimitive);n.add(o),r.dispose((function(){return n.delete(o)}));var u=r.disposeVar(new s.CzmCircleOutlinePrimitive);n.add(u),r.dispose((function(){return n.delete(u)})),r.dispose((0,a.track)([o,"allowPicking"],[t,"allowPicking"])),r.dispose((0,a.track)([u,"allowPicking"],[t,"allowPicking"]));var c=function(){var e=t.show,n=t.outline;u.show=e&&n,o.show=e,u.show?u.position=t.position:u.position=void 0,o.show?o.position=t.position:o.position=void 0,u.radius=o.radius=t.radius,u.extrudedHeight=o.extrudedHeight=t.extrudedHeight,u.height=o.height=t.height,0===t.granularity&&(console.error("granularity不能设置为0"),t.granularity=1),o.granularity=u.granularity=t.granularity,o.ellipsoid=u.ellipsoid=t.ellipsoid,o.material=t.material,o.stRotation=t.stRotation,u.outlineColor=t.outlineColor,u.translucent=t.outlineTranslucent,u.numberOfVerticalLines=t.numberOfVerticalLines};c();var p=r.disposeVar((0,l.createNextAnimateFrameEvent)(t.showChanged,t.radiusChanged,t.outlineChanged,t.heightChanged,t.extrudedHeightChanged,t.materialChanged,t.positionChanged,t.outlineColorChanged,t.stRotationChanged,t.outlineTranslucentChanged,t.ellipsoidChanged,t.granularityChanged,t.numberOfVerticalLinesChanged));return r.dispose(p.disposableOn(c)),r.dispose(t.flyToEvent.disposableOn((function(e){o.flyTo(e)}))),r.dispose(u.pickedEvent.disposableOn((function(e){var n;null!==(n=t.allowPicking)&&void 0!==n&&n&&t.pickedEvent.emit(new i.SceneObjectPickedInfo(u,e))}))),r.dispose(o.pickedEvent.disposableOn((function(e){var n;null!==(n=t.allowPicking)&&void 0!==n&&n&&t.pickedEvent.emit(new i.SceneObjectPickedInfo(o,e))}))),r}return o(t,e),t}(a.Destroyable);t.Circle=u},96914:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.GroundCircle=void 0;var i=n(43938),a=n(19239),s=n(10070),l=n(323),u=function(e){function t(t,n){var r=e.call(this)||this,o=r.disposeVar(new l.CzmCircleGroundPrimitive);n.add(o),r.dispose((function(){return n.delete(o)})),r.dispose((0,a.track)([o,"allowPicking"],[t,"allowPicking"]));var u=function(){var e=t.show;o.show=e,o.show?o.position=t.position:o.position=void 0,o.radius=t.radius,0===t.granularity?(console.error("granularity不能设置为0"),o.granularity=1):o.granularity=t.granularity,o.ellipsoid=t.ellipsoid,o.material=t.material,o.stRotation=t.stRotation};u();var c=r.disposeVar((0,s.createNextAnimateFrameEvent)(t.showChanged,t.radiusChanged,t.outlineChanged,t.heightChanged,t.extrudedHeightChanged,t.materialChanged,t.positionChanged,t.outlineColorChanged,t.stRotationChanged,t.outlineTranslucentChanged,t.ellipsoidChanged,t.granularityChanged,t.numberOfVerticalLinesChanged));return r.dispose(c.disposableOn(u)),r.dispose(t.flyToEvent.disposableOn((function(e){o.flyTo(e)}))),r.dispose(o.pickedEvent.disposableOn((function(e){var n;null!==(n=t.allowPicking)&&void 0!==n&&n&&t.pickedEvent.emit(new i.SceneObjectPickedInfo(o,e))}))),r}return o(t,e),t}(a.Destroyable);t.GroundCircle=u},57006:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoCircle=void 0;var i=n(43938),a=n(75125),s=n(10070),l=n(57327),u=n(96914),c=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._circleOrGroundCircleResetting=r.disposeVar(new s.ObjResettingWithEvent(t.groundChanged,(function(){return t.ground?new u.GroundCircle(t,n):new l.Circle(t,n)}))),r}var n;return o(t,e),Object.defineProperty(t.prototype,"circleOrGroundCircleResetting",{get:function(){return this._circleOrGroundCircleResetting},enumerable:!1,configurable:!0}),n=t,t.type=n.register(i.GeoCircle.type,n),t}(a.CzmObject);t.CzmGeoCircle=c},56749:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmClassificationPolygon=void 0;var i=n(43938),a=n(19239),s=n(10070),l=n(323),u=function(e){function t(t,n){var r=e.call(this)||this;r._czmClassificationPolygonPrimitive=r.disposeVar(new l.CzmClassificationPolygonPrimitive);var o=r._czmClassificationPolygonPrimitive;n.add(o),r.dispose((function(){return n.delete(o)}));var u=function(){var e,n=t.show,r=t.fill;if(o.show=n&&r,t.positions&&t.positions.length>0?o.height=t.positions[0][2]:o.height=void 0,o.polygonHierarchy=o.show?{positions:t.positions||[]}:{positions:[]},o.color=t.color,void 0===t.depth)throw new Error("sceneObject.depth === undefined");o.extrudedHeight=(null!==(e=o.height)&&void 0!==e?e:0)+t.depth,o.classificationType=t.classificationType};u();var c=r.disposeVar((0,s.createNextAnimateFrameEvent)(t.showChanged,t.fillChanged,t.outlineChanged,t.outlineColorChanged,t.outlineWidthChanged,t.colorChanged,t.positionsChanged,t.depthChanged,t.classificationTypeChanged));return r.dispose(c.disposableOn(u)),r.dispose(t.flyToEvent.disposableOn((function(e){o.flyTo(e)}))),r.dispose((0,a.track)([o,"allowPicking"],[t,"allowPicking"])),r.dispose(o.pickedEvent.disposableOn((function(e){t.allowPicking&&t.pickedEvent.emit(new i.SceneObjectPickedInfo(t,e))}))),r}return o(t,e),t}(a.Destroyable);t.CzmClassificationPolygon=u},99887:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoClassificationPolygon=void 0;var i=n(43938),a=n(75125),s=n(56749),l=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.disposeVar(new i.ObjResettingWithEvent(t.depthChanged,(function(){if(!(void 0===t.depth||t.depth<0))return new s.CzmClassificationPolygon(t,n)}))),r}var n;return o(t,e),n=t,t.type=n.register(i.GeoClassificationPolygon.type,n),t}(a.CzmObject);t.CzmGeoClassificationPolygon=l},23015:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},70502:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},c=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},p=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoCoordinatesEditor=void 0;var f=n(43938),d=s(n(2003)),h=n(19239),y=n(10070),g=n(75125),m=n(69767),v=n(69767),b=n(69767),_=n(18467),w=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;var i=(0,g.getViewerExtensions)(o);if(!i)return r;var a=i.interaction,s=o.scene,w=r.disposeVar((0,h.reactArray)([1,1,1])),P=new d.Cartesian3,C=function(){var e,n=t.position,r=void 0===n?f.GeoCoordinatesEditor.defaults.position:n;(e=d.Cartesian3).fromDegrees.apply(e,p(p([],c(r),!1),[void 0,P],!1))};C(),r.dispose(t.positionChanged.disposableOn(C)),r.dispose(s.preUpdate.addEventListener((function(){var e=(0,m.getSceneScaleForScreenPixelSize)(s,P,t.axisPixelSize);void 0!==e?w.value=[e,e,e]:console.warn("CzmGeoCoordinatesEditor warn: scale: ".concat(null!=e?e:"undefined"))})));var O={step:r.disposeVar((0,h.react)(0)),constraintMode:r.disposeVar((0,h.react)("none")),originPosition:r.disposeVar((0,h.reactArray)([0,0,0])),originHeading:r.disposeVar((0,h.react)(0)),originDimensions:r.disposeVar((0,h.reactArray)([1,1,1])),draggingStartPosition:r.disposeVar((0,h.reactArray)([0,0,0])),movingPosition:r.disposeVar((0,h.reactArray)([0,0,0])),destinationPosition:r.disposeVar((0,h.reactArray)([0,0,0])),destinationHeading:r.disposeVar((0,h.react)(0)),moved:r.disposeVar((0,h.react)(!1))},x=function(){"none"!==O.constraintMode.value?O.originHeading.value===O.destinationHeading.value&&O.originPosition.value.every((function(e,t){return e===O.destinationPosition.value[t]}))||(O.moved.value=!0):O.moved.value=!1};x(),r.dispose(O.originHeading.changed.disposableOn(x)),r.dispose(O.originPosition.changed.disposableOn(x)),r.dispose(O.destinationHeading.changed.disposableOn(x)),r.dispose(O.destinationPosition.changed.disposableOn(x));var S=r._createMainCoordinates(n,t,s);r.dispose(t.flyToEvent.disposableOn((function(e){return n.actived&&S.flyTo(e)})));var E=function(){return(0,_.setCoordinatesColor)(S,O.constraintMode.value,0===O.step.value)};E(),r.dispose(O.constraintMode.changed.disposableOn(E)),r.dispose(O.step.changed.disposableOn(E)),r._createOriginCoordinates(n,t,O),r._createGrid(n,O,t),r._createHelpLines(n,O),r._createCircle(n,O,t),r.dispose(O.destinationPosition.changed.disposableOn((function(){return O.moved&&(t.position=O.destinationPosition.value)}))),r.dispose(O.destinationHeading.changed.disposableOn((function(){return O.moved&&(t.heading=O.destinationHeading.value)})));var j=r.disposeVar(new y.Processing((function(e,t,n){var r=[0,0,0],o=new d.Cartographic;return a.pointerMoveEvent.disposableOn((function(e){var i=(0,m.toCartesian)((0,y.getDomEventCurrentTargetPos)(e));if((0,m.pickVirtualEarth)(s,i,O.originPosition.value[2],o)){(0,m.fromCartographic)(o,r),"x"===O.constraintMode.value?(0,b.geoNeareastPointOnRhumbLine)(O.originPosition.value,O.originHeading.value+90,r,r):"y"===O.constraintMode.value?(0,b.geoNeareastPointOnRhumbLine)(O.originPosition.value,O.originHeading.value,r,r):"xy"===O.constraintMode.value||console.warn("should not be here!"),O.movingPosition.value=r;var a=[0,0,0];(0,m.geoRhumbDestination)(r,n,t,a),O.destinationPosition.value=a}}))}))),T=r.disposeVar(new y.Processing((function(){var e=new d.Cartesian3,t=[0,0,0];return a.pointerMoveEvent.disposableOn((function(n){var r=(0,m.toCartesian)((0,y.getDomEventCurrentTargetPos)(n));if((0,m.pickHeightPosition)(s,(0,m.positionToCartesian)(O.originPosition.value),r,e)){var o=O.originPosition.value[2]-O.draggingStartPosition.value[2];if((0,m.positionFromCartesian)(e,t)){O.movingPosition.value=t;var i=O.originPosition.value;O.destinationPosition.value=[i[0],i[1],t[2]+o]}}}))}))),M=r.disposeVar(new y.Processing((function(){var e=[0,0,0],n=new d.Cartographic;return a.pointerMoveEvent.disposableOn((function(r){var o=(0,m.toCartesian)((0,y.getDomEventCurrentTargetPos)(r));if((0,m.pickVirtualEarth)(s,o,O.originPosition.value[2],n)){(0,m.fromCartographic)(n,e);var i=(0,m.geoRhumbHeading)(O.originPosition.value,O.draggingStartPosition.value),a=(0,m.geoRhumbHeading)(O.originPosition.value,e)-i,l=O.originHeading.value+a;l=d.Math.toDegrees(d.Math.negativePiToPi(d.Math.toRadians(l))),t.heading=l,O.movingPosition.value=e,O.destinationHeading.value=l}}))}))),A=r.disposeVar((0,y.createProcessingFromAsyncFunc)((function(e){return l(r,void 0,void 0,(function(){var r=this;return u(this,(function(o){switch(o.label){case 0:return O.step.value=0,O.constraintMode.value="none",e.disposer.dispose((function(){O.constraintMode.value="none"})),[4,(0,y.step)(e,(function(e){return l(r,void 0,void 0,(function(){var n,r,o,i,l;return u(this,(function(u){switch(u.label){case 0:return n=function(){var e;return O.originPosition.value=null!==(e=t.position)&&void 0!==e?e:f.GeoCoordinatesEditor.defaults.position,O.destinationPosition.value=O.originPosition.value},r=function(){return O.originHeading.value=t.heading,O.destinationHeading.value=O.originHeading.value},o=function(){return O.originDimensions.value=w.value},e.disposer.dispose((n(),t.positionChanged.disposableOn(n))),e.disposer.dispose((r(),t.headingChanged.disposableOn(r))),e.disposer.dispose((o(),w.changed.disposableOn(o))),i={constraintMode:"none",startDragPos:[0,0,0]},l=function(e){var n,r,o,a={position:null!==(n=S.position)&&void 0!==n?n:f.GeoCoordinates.defaults.position,dimensions:null!==(r=S.dimensions)&&void 0!==r?r:f.GeoCoordinates.defaults.dimensions,heading:null!==(o=S.heading)&&void 0!==o?o:f.GeoCoordinates.defaults.heading};(0,v.computePickingInfoWithCoordinates)(e,s,a,t.axisSnapPixelSize,i,{x:t.disableX,y:t.disableY,z:t.disableZ,xy:t.disableXY,zAxis:t.disableZAxis}),O.constraintMode.value=i.constraintMode,O.draggingStartPosition.value=i.startDragPos,O.movingPosition.value=O.draggingStartPosition.value},e.disposer.dispose(a.pointerMoveEvent.disposableOn(l)),[4,(0,y.step)(e,(function(e){return new Promise((function(t,n){e.disposer.dispose(n),e.disposer.dispose(a.pointerDownEvent.disposableOn((function(e){0===e.button&&(l(e),"none"!==i.constraintMode&&t())})))}))}))];case 1:return u.sent(),[2]}}))}))}))];case 1:return o.sent(),O.step.value=1,[4,(0,y.step)(e,(function(e){return l(r,void 0,void 0,(function(){var t,r;return u(this,(function(o){switch(o.label){case 0:return n.incrementDisabledInputStack(),e.disposer.dispose((function(){return n.decrementDisabledInputStack()})),["xy","x","y"].includes(O.constraintMode.value)?(t=(0,m.geoRhumbHeading)(O.draggingStartPosition.value,O.originPosition.value),r=(0,m.geoRhumbDistance)(O.draggingStartPosition.value,O.originPosition.value),j.restart(void 0,t,r),e.disposer.dispose((function(){return j.cancel()}))):"z"===O.constraintMode.value?(T.restart(),e.disposer.dispose((function(){return T.cancel()}))):"zAxis"===O.constraintMode.value?(M.restart(),e.disposer.dispose((function(){return M.cancel()}))):console.warn("pickingInfo.constraintMode error! ".concat(O.constraintMode.value)),[4,(0,y.step)(e,(function(e){return new Promise((function(t,n){e.disposer.dispose(n),e.disposer.dispose(a.pointerUpEvent.disposableOn((function(){t()}))),e.disposer.dispose(a.pointerOutEvent.disposableOn((function(){t()})))}))}))];case 1:return o.sent(),[2]}}))}))}))];case 2:o.sent(),o.label=3;case 3:return[3,0];case 4:return[2]}}))}))}))),I=function(){t.enabled?A.restart():A.isRunning&&A.cancel()};return I(),r.dispose(t.enabledChanged.disposableOn(I)),r}var n;return o(t,e),t.prototype._createGrid=function(e,t,n){var r,o=this.disposeVar(new f.GeoPolylines);e.add(o),this.dispose((function(){return e.delete(o)})),o.color=[1,1,0,.3],(r=function(){o.color="none"!==t.constraintMode.value?[1,1,0,.6]:[1,1,0,.3]})(),this.dispose(t.constraintMode.changed.disposableOn(r)),(r=function(){o.show=n.enabled&&n.showCircle})(),this.dispose(n.enabledChanged.disposableOn(r)),this.dispose(n.showCircleChanged.disposableOn(r));var i=this.disposeVar((0,y.createNextAnimateFrameEvent)(t.originPosition.changed,t.originHeading.changed,t.originDimensions.changed)),a=function(){for(var e=t.originPosition.value,n=t.originHeading.value,r=t.originDimensions.value[0],i=[],a=-4;a<5;++a)if(u=(0,m.geoRhumbDestination)(e,.2*r*a,n+90)){var s=(0,m.geoRhumbDestination)(u,r,n+180),l=(0,m.geoRhumbDestination)(u,r,n);s&&l&&i.push([s,u,l])}for(a=-4;a<5;++a){var u;(u=(0,m.geoRhumbDestination)(e,.2*r*a,n))&&(s=(0,m.geoRhumbDestination)(u,r,n-90),l=(0,m.geoRhumbDestination)(u,r,n+90),s&&l&&i.push([s,u,l]))}o.positions=i};return a(),this.dispose(i.disposableOn(a)),o},t.prototype._createOriginCoordinates=function(e,t,n){var r=this.disposeVar(new f.GeoCoordinates);r.xAxisColor=[1,0,0,.5],r.yAxisColor=[0,1,0,.5],r.zAxisColor=[0,0,1,.5],e.add(r),this.dispose((function(){return e.delete(r)}));var o=n.originPosition,i=n.originHeading,a=n.originDimensions,s=function(){r.show=n.moved.value&&t.showCoordinates};s(),this.dispose(n.moved.changed.disposableOn(s));var l=function(){return r.position=o.value};l(),this.dispose(o.changed.disposableOn(l));var u=function(){return r.dimensions=a.value};u(),this.dispose(a.changed.disposableOn(u));var c=function(){return r.heading=i.value};return c(),this.dispose(i.changed.disposableOn(c)),r},t.prototype._createMainCoordinates=function(e,t,n){var r=this.disposeVar(new f.GeoCoordinates);e.add(r),this.dispose((function(){return e.delete(r)})),r.show=!0;var o,i=new d.Cartesian3,a=function(){var e,n=t.position,r=void 0===n?f.GeoCoordinatesEditor.defaults.position:n;(e=d.Cartesian3).fromDegrees.apply(e,p(p([],c(r),!1),[void 0,i],!1))};return a(),this.dispose(t.positionChanged.disposableOn(a)),this.dispose(n.preUpdate.addEventListener((function(){var e=(0,m.getSceneScaleForScreenPixelSize)(n,i,t.axisPixelSize);void 0!==e?r.dimensions=[e,e,e]:console.warn("CzmGeoCoordinatesEditor warn: scale: ".concat(null!=e?e:"undefined"))}))),(o=function(){var e;r.show=null!==(e=t.enabled)&&void 0!==e&&e&&t.showCoordinates})(),this.dispose(t.enabledChanged.disposableOn(o)),this.dispose(t.showCoordinatesChanged.disposableOn(o)),(o=function(){var e;r.position=null!==(e=t.position)&&void 0!==e?e:[0,0,0]})(),this.dispose(t.positionChanged.disposableOn(o)),(o=function(){var e;r.heading=null!==(e=t.heading)&&void 0!==e?e:0})(),this.dispose(t.headingChanged.disposableOn(o)),r},t.prototype._createHelpLines=function(e,t){var n=this,r=this.disposeVar(new f.GeoPolylines);r.arcType="RHUMB",r.color=[1,1,0,.99],r.hasDash=!0,e.add(r),this.dispose((function(){return e.delete(r)}));var o=function(){return r.positions=[[t.originPosition.value,t.destinationPosition.value]]};this.dispose(t.originPosition.changed.disposableOn(o)),this.dispose(t.destinationPosition.changed.disposableOn(o));var i=function(){return r.show=t.moved.value&&n.sceneObject.showCircle};i(),this.dispose(t.moved.changed.disposableOn(i)),this.dispose(this.sceneObject.showCircleChanged.disposableOn(i))},t.prototype._createCircle=function(e,t,n){var r=this.disposeVar(new f.GeoPolylines);r.arcType="RHUMB",r.hasDash=!0,r.width=2,e.add(r),this.dispose((function(){return e.delete(r)}));var o=function(){return r.color="zAxis"===t.constraintMode.value?[1,1,0,.99]:[1,1,0,.5]};o(),this.dispose(t.constraintMode.changed.disposableOn(o));var i=function(){return r.show=n.enabled&&n.showCircle};i(),this.dispose(n.enabledChanged.disposableOn(i)),this.dispose(n.showCircleChanged.disposableOn(i));var a=this.disposeVar((0,y.createNextAnimateFrameEvent)(t.originPosition.changed,t.originHeading.changed,t.originDimensions.changed)),s=function(){for(var e=t.originPosition.value,n=(t.originHeading.value,t.originDimensions.value[0]),o=[],i=0;i<=32;++i){var a=(0,m.geoRhumbDestination)(e,n,360*i/32);a&&o.push(a)}r.positions=[o]};s(),this.dispose(a.disposableOn(s))},n=t,t.type=n.register(f.GeoCoordinatesEditor.type,n),t}(g.CzmObject);t.CzmGeoCoordinatesEditor=w},18467:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setCoordinatesColor=void 0,t.setCoordinatesColor=function(e,t,n){e.xAxisColor=[1,0,0,.99],e.yAxisColor=[0,1,0,.99],e.zAxisColor=[0,0,1,.99],"x"===t?e.xAxisColor=n?[1,1,0,.8]:[1,1,0,.99]:"y"===t?e.yAxisColor=n?[1,1,0,.8]:[1,1,0,.99]:"z"===t?e.zAxisColor=n?[1,1,0,.8]:[1,1,0,.99]:"xy"===t&&(e.xAxisColor=n?[1,1,0,.8]:[1,1,0,.99],e.yAxisColor=n?[1,1,0,.8]:[1,1,0,.99])}},71038:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},c=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},p=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoCoordinatesPicker=void 0;var f=n(43938),d=s(n(2003)),h=n(69767),y=n(10070),g=n(75125),m=n(323),v=new d.Cartesian3;function b(e,t,n,r){if(void 0===n){var o=(0,h.globePickPosition)(e,t,v);if(o)d.Cartesian3.distanceSquared(e.camera.positionWC,o)<9e6&&(o=(0,h.pickPosition)(e,t,v));else if((o=(0,h.pickPosition)(e,t,v))&&d.Cartesian3.distanceSquared(e.camera.positionWC,o)>9e6)return;return o&&d.Cartographic.fromCartesian(o,void 0,r)}return(0,h.pickVirtualEarth)(e,t,n,r)}var _=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;var i=(0,g.getViewerExtensions)(o);if(!i)return r;var a=i.interaction,s=o.scene;r._createMainCoordinates(n,t,s);var c,p,f=r.disposeVar(new m.CzmPoint);f.pixelSize=4,f.outlineColor=[0,0,.8,1],f.outlineWidth=2,n.add(f),r.dispose((function(){return n.delete(f)})),(c=function(){return f.position=t.position})(),r.dispose(t.positionChanged.disposableOn(c)),(c=function(){return f.show=t.enabled&&!!t.position&&t.showPoint})(),r.dispose(t.showPointChanged.disposableOn(c)),r.dispose(t.enabledChanged.disposableOn(c)),r.dispose(t.positionChanged.disposableOn(c));var v=r.disposeVar((0,y.createNextAnimateFrameWithStartValues)((function(){})));r.dispose(a.pointerMoveEvent.disposableOn((function(e){p=e,v.restartIfNotRunning()})));var _=r.disposeVar((0,y.createProcessingFromAsyncFunc)((function(e){return l(r,void 0,void 0,(function(){var n,r;return u(this,(function(o){switch(o.label){case 0:return n=[0,0,0],r=new d.Cartographic,e.disposer.dispose(v.completeEvent.disposableOn((function(){if(p){var e=(0,h.toCartesian)((0,y.getDomEventCurrentTargetPos)(p));b(s,e,t.virtualHeight,r)&&((0,h.fromCartographic)(r,n),t.position=n)}}))),[4,(0,y.step)(e,(function(e){return new Promise((function(o,i){e.disposer.dispose(i);var l=function(e){v.isRunning&&v.cancel();var i=(0,h.toCartesian)((0,y.getDomEventCurrentTargetPos)(e));b(s,i,t.virtualHeight,r)&&((0,h.fromCartographic)(r,n),t.position=n,t.overEvent.emit(),t.enabled=!1,o())};e.disposer.dispose(y.DomElementEvent.on(a.pointerClick.clickEvent,(function(e){t.clickEnabled&&(t.clickFilterFunc&&!t.clickFilterFunc(e)||l(e))}))),e.disposer.dispose(y.DomElementEvent.on(a.pointerClick.dbclickEvent,(function(e){t.dbClickEnabled&&(t.dbClickFilterFunc&&!t.dbClickFilterFunc(e)||l(e))})))}))}))];case 1:return o.sent(),[2]}}))}))}))),w=function(){t.enabled?_.restart():_.isRunning&&_.cancel()};return w(),r.dispose(t.enabledChanged.disposableOn(w)),r}var n;return o(t,e),t.prototype._createMainCoordinates=function(e,t,n){var r=this.disposeVar(new f.GeoCoordinates);e.add(r),this.dispose((function(){return e.delete(r)}));var o=function(){return r.show=t.enabled&&!!t.position&&t.showCoordinates};o(),this.dispose(t.showCoordinatesChanged.disposableOn(o)),this.dispose(t.enabledChanged.disposableOn(o)),this.dispose(t.positionChanged.disposableOn(o));var i,a=new d.Cartesian3,s=!1,l=function(e){var t;s=!!e,e&&(t=d.Cartesian3).fromDegrees.apply(t,p(p([],c(e),!1),[void 0,a],!1))};return l(t.position),this.dispose(t.positionChanged.disposableOn(l)),this.dispose(n.preUpdate.addEventListener((function(){if(s){var e=(0,h.getSceneScaleForScreenPixelSize)(n,a,t.axisPixelSize);void 0!==e?r.dimensions=[e,e,e]:console.warn("CzmGeoCoordinatesEditor warn: scale: ".concat(null!=e?e:"undefined"))}}))),(i=function(){t.position&&(r.position=t.position)})(),this.dispose(t.positionChanged.disposableOn(i)),(i=function(){r.heading=t.heading})(),this.dispose(t.headingChanged.disposableOn(i)),r},n=t,t.type=n.register(f.GeoCoordinatesPicker.type,n),t}(g.CzmObject);t.CzmGeoCoordinatesPicker=_},21077:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoCoplanarPolygon=void 0;var i=n(43938),a=n(43938),s=n(19239),l=n(75125),u=n(323),c=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(!n.viewer)return console.warn("viewer is undefined!"),r;var o=r.disposeVar(new u.CzmCoplanarPolygonPrimitive);n.add(o),r.dispose((function(){return n.delete(o)}));var l=r.disposeVar(new i.GeoPolyline);n.add(l),r.dispose((function(){return n.delete(l)})),l.arcType="NONE",l.loop=!0,r.dispose((0,s.track)([o,"allowPicking"],[t,"allowPicking"])),r.dispose(o.pickedEvent.disposableOn((function(e){var n;(null!==(n=t.allowPicking)&&void 0!==n?n:i.GeoCoplanarPolygon.defaults.allowPicking)&&t.pickedEvent.emit(new a.SceneObjectPickedInfo(t,e))})));var c=function(){var e,n,r,a,s,u=null!==(e=t.show)&&void 0!==e?e:i.GeoCoplanarPolygon.defaults.show,c=null!==(n=t.outline)&&void 0!==n?n:i.GeoCoplanarPolygon.defaults.outline,p=null!==(r=t.fill)&&void 0!==r?r:i.GeoCoplanarPolygon.defaults.fill;l.show=u&&c,o.show=u&&p,l.positions=l.show?t.positions:i.GeoCoplanarPolygon.defaults.positions,o.polygonHierarchy=o.show?{positions:t.positions||[]}:{positions:[]},l.color=null!==(a=t.outlineColor)&&void 0!==a?a:i.GeoCoplanarPolygon.defaults.outlineColor,l.width=null!==(s=t.outlineWidth)&&void 0!==s?s:i.GeoCoplanarPolygon.defaults.outlineWidth,o.material={type:"Color",color:t.color||[1,1,1,.5]}};c();var p=r.disposeVar((0,s.createNextAnimateFrameEvent)(t.showChanged,t.outlineChanged,t.outlineColorChanged,t.outlineWidthChanged,t.fillChanged,t.colorChanged,t.positionsChanged));return r.dispose(p.disposableOn(c)),r.dispose(t.flyToEvent.disposableOn((function(e){o.show&&o.flyTo(e)}))),r}var n;return o(t,e),n=t,t.type=n.register(i.GeoCoplanarPolygon.type,n),t}(l.CzmObject);t.CzmGeoCoplanarPolygon=c},6255:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoCustomDivPoi=void 0;var a=n(69767),s=n(43938),l=n(19239),u=n(10070),c=n(75125),p=n(60783),f=function(e){function t(t,n){var r=e.call(this,t,n)||this;r._czmViewVisibleDistanceRangeControl=r.disposeVar(new p.CzmViewDistanceRangeControl(r.czmViewer,[r.sceneObject,"viewDistanceRange"],[r.sceneObject,"position"])),r._viewDistanceDebugBinding=(r.dispose((0,l.track)([r._czmViewVisibleDistanceRangeControl,"debug"],[r.sceneObject,"viewDistanceDebug"])),0);var o=n.viewer;if(!o)throw console.warn("viewer is undefined!"),new Error("viewer is undefined!");var s=(0,c.getViewerExtensions)(o);if(!s)throw new Error("!viewerExtensions");var f=s.poiContext;if(!f)throw new Error("!poiContext");var d=r.disposeVar(new a.CzmDivPoi(u.PosFloatDiv,f)),h=r.disposeVar(new u.ObjResettingWithEvent(t.instanceClassChanged,(function(){var e=t.instanceClass;if(e)return new e(d.divPoi.floatDiv.contentDiv,t,n)})));r._objResetting=h;var y=t._updateEvent;r.dispose(y.disposableOn((function(e){if(h.obj)try{e(h.obj,t,n)}catch(e){console.error("CustomDiv update error! ".concat(e))}})));var g=function(){var e;d.divPoi.floatDiv.opacity=(null!==(e=t.opacity)&&void 0!==e?e:1)*r.visibleAlpha};g(),r.dispose(t.opacityChanged.disposableOn(g)),r.dispose(r.visibleAlphaChanged.disposableOn(g));var m=function(){var e,n=i(null!==(e=t.originRatioAndOffset)&&void 0!==e?e:[.5,1,0,0],4),r=n[0],o=n[1],a=n[2],s=n[3];d.divPoi.floatDiv.originRatioX=r,d.divPoi.floatDiv.originRatioY=o,d.divPoi.floatDiv.originOffsetX=a,d.divPoi.floatDiv.originOffsetY=s};m(),r.dispose(t.originRatioAndOffsetChanged.disposableOn(m));var v=function(){var e;t.position&&(d.cartesian=(0,a.positionToCartesian)(t.position)),d.show=(null===(e=t.show)||void 0===e||e)&&!!t.position&&r.visibleAlpha>0};return v(),r.dispose(t.positionChanged.disposableOn(v)),r.dispose(t.showChanged.disposableOn(v)),r.dispose(r.visibleAlphaChanged.disposableOn(v)),r.dispose(t.flyToEvent.disposableOn((function(e){if(t.position){var n=o.scene.camera.positionCartographic.height;if(t.viewDistanceRange){var r=i(t.viewDistanceRange,4),s=r[0],l=r[1],u=r[2],c=r[3];s>l||l>u||u>c?console.error("viewDistanceRange存在问题，需要满足逐级增大的条件，否则不生效！"):n=.5*(l+u)}(0,a.flyTo)(o.scene.camera,t.position,n,void 0,e)}else console.warn("GeoPoint当前没有位置信息，无法飞入！")}))),r}var n;return o(t,e),Object.defineProperty(t.prototype,"objResetting",{get:function(){return this._objResetting},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmViewerVisibleDistanceRangeControl",{get:function(){return this._czmViewVisibleDistanceRangeControl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleAlpha",{get:function(){return this._czmViewVisibleDistanceRangeControl.visibleAlpha},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleAlphaChanged",{get:function(){return this._czmViewVisibleDistanceRangeControl.visibleAlphaChanged},enumerable:!1,configurable:!0}),n=t,t.type=n.register(s.GeoCustomDivPoi.type,n),t}(c.CzmObject);t.CzmGeoCustomDivPoi=f},43107:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoDirectionMeasurement=void 0;var i=n(43938),a=n(43938),s=n(19239),l=n(60783),u=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(!n.viewer)return console.warn("viewer is undefined!"),r;var o=r.disposeVar(new i.GeoPolyline);n.add(o),r.dispose((function(){return n.delete(o)})),o.ground=!1,o.loop=!1,r.dispose((0,s.track)([o,"allowPicking"],[t,"allowPicking"])),r.dispose(o.pickedEvent.disposableOn((function(e){t.allowPicking&&t.pickedEvent.emit(new a.SceneObjectPickedInfo(t,e))}))),r.dispose((0,s.bind)([o,"arcType"],[t,"arcType"])),r.dispose((0,s.bind)([o,"color"],[t,"color"])),r.dispose((0,s.bind)([o,"dashLength"],[t,"dashLength"])),r.dispose((0,s.bind)([o,"dashPattern"],[t,"dashPattern"])),r.dispose((0,s.bind)([o,"gapColor"],[t,"gapColor"])),r.dispose((0,s.bind)([o,"hasArrow"],[t,"hasArrow"])),r.dispose((0,s.bind)([o,"hasDash"],[t,"hasDash"])),r.dispose((0,s.bind)([o,"positions"],[t,"positions"])),r.dispose((0,s.bind)([o,"show"],[t,"show"])),r.dispose((0,s.bind)([o,"width"],[t,"width"])),r.dispose((0,s.bind)([o,"depthTest"],[t,"depthTest"])),r.dispose(t.flyToEvent.disposableOn((function(e){n.actived&&o.flyTo(e)})));var u,c=r.disposeVar(new i.GeoCustomDivPoi);return n.add(c),c.dispose((function(){return n.delete(c)})),(u=function(){t.positions&&t.positions.length>=2?c.position=t.positions[1]:c.position=void 0})(),r.dispose(t.positionsChanged.disposableOn(u)),(u=function(){c.innerHTML=(0,l.createInnerHtmlWithWhiteTextBlackBackground)("方向: ".concat((0,l.angleToHumanStr)(t.heading)),24)})(),r.dispose(t.headingChanged.disposableOn(u)),r}var n;return o(t,e),n=t,t.type=n.register(i.GeoDirectionMeasurement.type,n),t}(n(75125).CzmObject);t.CzmGeoDirectionMeasurement=u},38082:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoDistanceMeasurement=void 0;var a=n(43938),s=n(43938),l=n(19239),u=n(60783),c=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(!n.viewer)return console.warn("viewer is undefined!"),r;var o=r.disposeVar(new a.GeoPolyline);n.add(o),r.dispose((function(){return n.delete(o)})),o.ground=!1,o.loop=!1,r.dispose((0,l.track)([o,"allowPicking"],[t,"allowPicking"])),r.dispose(o.pickedEvent.disposableOn((function(e){t.allowPicking&&t.pickedEvent.emit(new s.SceneObjectPickedInfo(t,e))}))),r.dispose((0,l.bind)([o,"arcType"],[t,"arcType"])),r.dispose((0,l.bind)([o,"color"],[t,"color"])),r.dispose((0,l.bind)([o,"dashLength"],[t,"dashLength"])),r.dispose((0,l.bind)([o,"dashPattern"],[t,"dashPattern"])),r.dispose((0,l.bind)([o,"editing"],[t,"editing"])),r.dispose((0,l.bind)([o,"gapColor"],[t,"gapColor"])),r.dispose((0,l.bind)([o,"hasArrow"],[t,"hasArrow"])),r.dispose((0,l.bind)([o,"hasDash"],[t,"hasDash"])),r.dispose((0,l.bind)([o,"positions"],[t,"positions"])),r.dispose((0,l.bind)([o,"show"],[t,"show"])),r.dispose((0,l.bind)([o,"width"],[t,"width"])),r.dispose((0,l.bind)([o,"depthTest"],[t,"depthTest"])),r.dispose(t.flyToEvent.disposableOn((function(e){n.actived&&o.flyTo(e)})));var c=[],p=function(){var e,t;try{for(var n=i(c),r=n.next();!r.done;r=n.next())r.value.destroy()}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}c.length=0};r.dispose(p);var f=function(){if(p(),t.positions){t.positions.length>0&&((o=(0,u.createInfoPoi)("起点",t.positions[0],n)).dispose((0,l.track)([o,"show"],[t,"show"])),c.push(o));for(var e=t.distances.length,r=0;r<e;++r){var o,i=t.distances[r],a=t.positions[r+1];(o=(0,u.createInfoPoi)("长度: ".concat((0,u.distanceToHumanStr)(i)),a,n)).dispose((0,l.track)([o,"show"],[t,"show"])),c.push(o)}}};return f(),r.dispose(t.distancesChanged.disposableOn(f)),r}var n;return o(t,e),n=t,t.type=n.register(a.GeoDistanceMeasurement.type,n),t}(n(75125).CzmObject);t.CzmGeoDistanceMeasurement=c},72620:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Ellipse=void 0;var i=n(19239),a=n(14904),s=n(83348),l=function(e){function t(t,n){var r=e.call(this)||this;return r.disposeVar(new a.InnerEllipse(t,n)),r.disposeVar(new s.OutlineEllipse(t,n)),r}return o(t,e),t}(i.Destroyable);t.Ellipse=l},1137:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.GroundEllipse=void 0;var i=n(19239),a=n(10070),s=n(323),l=function(e){function t(t,n){var r=e.call(this)||this,o=r.disposeVar(new s.CzmEllipseGroundPrimitive);n.add(o),r.dispose((function(){return n.delete(o)}));var i=function(){var e,n=null===(e=t.show)||void 0===e||e;o.show=n,o.show?o.position=t.position:o.position=void 0,o.rotation=t.rotation,o.semiMinorAxis=t.semiMinorAxis,o.semiMajorAxis=t.semiMajorAxis,o.ellipsoid=t.ellipsoid,o.material=t.material,o.stRotation=t.stRotation,o.extrudedHeight=t.extrudedHeight,o.height=t.height,o.granularity=t.granularity};i();var l=r.disposeVar((0,a.createNextAnimateFrameEvent)());return r.dispose(l.disposableOn(i)),r.dispose(t.flyToEvent.disposableOn((function(e){o.flyTo(e)}))),r}return o(t,e),t}(i.Destroyable);t.GroundEllipse=l},14904:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.InnerEllipse=void 0;var i=n(19239),a=n(10070),s=n(323),l=function(e){function t(t,n){var r=e.call(this)||this,o=r.disposeVar(new s.CzmEllipsePrimitive);n.add(o),r.dispose((function(){return n.delete(o)}));var i=function(){var e=t.show;o.show=e,o.show?o.position=t.position:o.position=void 0,o.rotation=t.rotation,o.semiMinorAxis=t.semiMinorAxis,o.semiMajorAxis=t.semiMajorAxis,o.ellipsoid=t.ellipsoid,o.material=t.material,o.stRotation=t.stRotation,o.extrudedHeight=t.extrudedHeight,o.height=t.height,0===t.granularity&&(console.error("granularity不能设置为0"),t.granularity=1),o.granularity=t.granularity};i();var l=r.disposeVar((0,a.createNextAnimateFrameEvent)(t.showChanged,t.outlineChanged,t.semiMinorAxisChanged,t.semiMajorAxisChanged,t.heightChanged,t.extrudedHeightChanged,t.materialChanged,t.positionChanged,t.outlineColorChanged,t.stRotationChanged,t.rotationChanged,t.translucentChanged,t.granularityChanged,t.numberOfVerticalLinesChanged,t.ellipsoidChanged));return r.dispose(l.disposableOn(i)),r.dispose(t.flyToEvent.disposableOn((function(e){o.flyTo(e)}))),r}return o(t,e),t}(i.Destroyable);t.InnerEllipse=l},83348:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.OutlineEllipse=void 0;var i=n(19239),a=n(10070),s=n(323),l=function(e){function t(t,n){var r=e.call(this)||this,o=r.disposeVar(new s.CzmEllipseOutlinePrimitive);n.add(o),r.dispose((function(){return n.delete(o)}));var i=function(){var e=t.show,n=t.outline;o.show=e&&n,o.show?o.position=t.position:o.position=void 0,o.rotation=t.rotation,o.semiMinorAxis=t.semiMinorAxis,o.semiMajorAxis=t.semiMajorAxis,o.ellipsoid=t.ellipsoid,o.extrudedHeight=t.extrudedHeight,o.height=t.height,o.outlineColor=t.outlineColor,o.translucent=t.translucent,0===t.granularity&&(console.error("granularity不能设置为0"),t.granularity=1),o.granularity=t.granularity,o.numberOfVerticalLines=t.numberOfVerticalLines};i();var l=r.disposeVar((0,a.createNextAnimateFrameEvent)(t.showChanged,t.outlineChanged,t.semiMinorAxisChanged,t.semiMajorAxisChanged,t.heightChanged,t.extrudedHeightChanged,t.materialChanged,t.positionChanged,t.outlineColorChanged,t.stRotationChanged,t.rotationChanged,t.translucentChanged,t.granularityChanged,t.numberOfVerticalLinesChanged,t.ellipsoidChanged));return r.dispose(l.disposableOn(i)),r}return o(t,e),t}(i.Destroyable);t.OutlineEllipse=l},85646:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoEllipse=void 0;var i=n(43938),a=n(10070),s=n(75125),l=n(72620),u=n(1137),c=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._ellipseOrGroundEllipseResetting=r.disposeVar(new a.ObjResettingWithEvent(t.groundChanged,(function(){return t.ground?new u.GroundEllipse(t,n):new l.Ellipse(t,n)}))),r}var n;return o(t,e),Object.defineProperty(t.prototype,"ellipseOrGroundEllipseResetting",{get:function(){return this._ellipseOrGroundEllipseResetting},enumerable:!1,configurable:!0}),n=t,t.type=n.register(i.GeoEllipse.type,n),t}(s.CzmObject);t.CzmGeoEllipse=c},29493:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoEllipsoid=void 0;var i=n(43938),a=n(10070),s=n(75125),l=n(323),u=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(!n.viewer)return console.warn("viewer is undefined!"),r;var o=r.disposeVar(new l.CzmEllipsoidPrimitive);n.add(o),r.dispose((function(){return n.delete(o)}));var s=r.disposeVar(new l.CzmEllipsoidOutlinePrimitive);n.add(s),r.dispose((function(){return n.delete(s)}));var u=function(){var e,n=t.show,r=t.outline;o.show=n,s.show=n&&r,s.show?s.position=t.position:s.position=void 0,o.show?o.position=t.position:o.position=void 0,o.material=null!==(e=t.material)&&void 0!==e?e:i.GeoEllipsoid.defaults.material,o.radii=s.radii=t.radii,o.innerRadii=s.innerRadii=t.innerRadii,s.color=t.outlineColor,s.translucent=t.translucent,s.subdivisions=t.subdivisions,o.minimumClock=s.minimumClock=t.minimumClock,o.maximumClock=s.maximumClock=t.maximumClock,o.minimumCone=s.minimumCone=t.minimumCone,o.maximumCone=s.maximumCone=t.maximumCone,o.stackPartitions=s.stackPartitions=t.stackPartitions};u();var c=r.disposeVar((0,a.createNextAnimateFrameEvent)(t.showChanged,t.outlineChanged,t.materialChanged,t.radiiChanged,t.positionChanged,t.outlineColorChanged,t.translucentChanged,t.subdivisionsChanged,t.minimumClockChanged,t.maximumClockChanged,t.minimumConeChanged,t.maximumConeChanged,t.stackPartitionsChanged,t.slicePartitionsChanged,t.innerRadiiChanged));return r.dispose(c.disposableOn(u)),r.dispose(t.flyToEvent.disposableOn((function(e){var t;(null===(t=o.show)||void 0===t||t)&&o.flyTo(e)}))),r}var n;return o(t,e),n=t,t.type=n.register(i.GeoEllipsoid.type,n),t}(s.CzmObject);t.CzmGeoEllipsoid=u},2052:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoHeightMeasurement=void 0;var a=n(60783),s=n(43938),l=n(43938),u=n(19239),c=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(!n.viewer)return console.warn("viewer is undefined!"),r;var o=r.disposeVar(new s.GeoPolyline);n.add(o),r.dispose((function(){return n.delete(o)})),o.ground=!1,o.loop=!1,r.dispose((0,u.track)([o,"allowPicking"],[t,"allowPicking"])),r.dispose(o.pickedEvent.disposableOn((function(e){var n;null!==(n=t.allowPicking)&&void 0!==n&&n&&t.pickedEvent.emit(new l.SceneObjectPickedInfo(t,e))}))),r.dispose((0,u.bind)([o,"arcType"],[t,"arcType"])),r.dispose((0,u.bind)([o,"color"],[t,"color"])),r.dispose((0,u.bind)([o,"dashLength"],[t,"dashLength"])),r.dispose((0,u.bind)([o,"dashPattern"],[t,"dashPattern"])),r.dispose((0,u.bind)([o,"gapColor"],[t,"gapColor"])),r.dispose((0,u.bind)([o,"hasArrow"],[t,"hasArrow"])),r.dispose((0,u.bind)([o,"hasDash"],[t,"hasDash"])),r.dispose((0,u.bind)([o,"show"],[t,"show"])),r.dispose((0,u.bind)([o,"width"],[t,"width"])),r.dispose((0,u.bind)([o,"depthTest"],[t,"depthTest"])),o.loop=!0;var c=function(){if(t.positions&&2===t.positions.length){var e=i(t.positions,2),n=e[0],r=e[1];o.positions=[n,r,[n[0],n[1],r[2]]]}};c(),r.dispose(t.positionsChanged.disposableOn(c)),r.dispose(t.flyToEvent.disposableOn((function(e){n.actived&&o.flyTo(e)})));var p,f=r.disposeVar(new s.GeoCustomDivPoi);return n.add(f),f.dispose((function(){return n.delete(f)})),(p=function(){f.position=t.heightPosition})(),r.dispose(t.heightPositionChanged.disposableOn(p)),(p=function(){f.innerHTML=(0,a.createInnerHtmlWithWhiteTextBlackBackground)("高度: ".concat((0,a.distanceToHumanStr)(t.height)),0)})(),r.dispose(t.heightChanged.disposableOn(p)),r}var n;return o(t,e),n=t,t.type=n.register(s.GeoHeightMeasurement.type,n),t}(n(75125).CzmObject);t.CzmGeoHeightMeasurement=c},65515:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoImageModel=void 0;var i=n(43938),a=n(43938),s=n(19239),l=n(75125),u=n(323),c=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(!n.viewer)return console.warn("viewer is undefined!"),r;var o=r.disposeVar(new u.CzmImageModel);return n.add(o),r.dispose((function(){return n.delete(o)})),r.dispose((0,s.track)([o,"show"],[t,"show"])),r.dispose((0,s.track)([o,"allowPicking"],[t,"allowPicking"])),r.dispose((0,s.track)([o,"uri"],[t,"uri"])),r.dispose((0,s.bind)([o,"position"],[t,"position"])),r.dispose((0,s.bind)([o,"rotation"],[t,"rotation"])),r.dispose((0,s.bind)([o,"positionEditing"],[t,"positionEditing"])),r.dispose((0,s.bind)([o,"rotationEditing"],[t,"rotationEditing"])),r.dispose((0,s.track)([o,"size"],[t,"size"])),r.dispose((0,s.track)([o,"scale"],[t,"scale"])),r.dispose((0,s.track)([o,"maximumScale"],[t,"maximumScale"])),r.dispose((0,s.track)([o,"minimumScale"],[t,"minimumScale"])),r.dispose((0,s.track)([o,"pixelSize"],[t,"pixelSize"])),r.dispose((0,s.track)([o,"color"],[t,"color"])),r.dispose((0,s.track)([o,"originRatioAndOffset"],[t,"originRatioAndOffset"])),r.dispose((0,s.track)([o,"viewDistanceRange"],[t,"viewDistanceRange"])),r.dispose((0,s.track)([o,"viewDistanceDebug"],[t,"viewDistanceDebug"])),r.dispose(o.pickedEvent.disposableOn((function(e){return t.pickedEvent.emit(new a.SceneObjectPickedInfo(t,e))}))),r.dispose(t.flyToEvent.disposableOn((function(e){return o.flyTo(e)}))),r}var n;return o(t,e),n=t,t.type=n.register(i.GeoImageModel.type,n),t}(l.CzmObject);t.CzmGeoImageModel=c},2189:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoLocationMeasurement=void 0;var a=n(60783),s=n(43938),l=n(43938),u=n(19239),c=n(60783),p=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(!n.viewer)return console.warn("viewer is undefined!"),r;var o=r.disposeVar(new s.GeoCustomDivPoi);n.add(o),r.dispose((function(){return n.delete(o)})),r.dispose((0,u.bind)([o,"position"],[t,"position"])),r.dispose((0,u.bind)([o,"show"],[t,"show"])),r.dispose((0,u.track)([o,"allowPicking"],[t,"allowPicking"])),r.dispose((0,u.bind)([o,"editing"],[t,"editing"])),r.dispose(t.flyToEvent.disposableOn((function(e){return o.flyTo(e)}))),r.dispose(o.pickedEvent.disposableOn((function(e){var n;(null!==(n=t.allowPicking)&&void 0!==n?n:s.GeoLocationMeasurement.defaults.allowPicking)&&t.pickedEvent.emit(new l.SceneObjectPickedInfo(t,e))}))),r.dispose(o.innerHtmlMounted.disposableOn((function(e){var t=e.firstElementChild;t&&(t.style.pointerEvents="auto",t.style.cursor="default",t.onclick=function(e){return o.pickFromDiv(t,new s.AttachedPickedInfo({type:"viewerPicking",e}))})})));var p=function(){var e;if(t.position){var n=i((0,c.positionToHumanStr)(t.position),3),r=n[0],s=n[1],l=n[2];e="经度: ".concat(r,"\n纬度: ").concat(s,"\n高度: ").concat(l),o.innerHTML=(0,a.createInnerHtmlWithWhiteTextBlackBackground)(e)}};return p(),r.dispose(t.positionChanged.disposableOn(p)),r}var n;return o(t,e),n=t,t.type=n.register(s.GeoLocationMeasurement.type,n),t}(n(75125).CzmObject);t.CzmGeoLocationMeasurement=p},60094:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoPoint=void 0;var i=n(43938),a=n(19239),s=n(75125),l=n(323),u=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(!n.viewer)return console.warn("viewer is undefined!"),r;var o=r.disposeVar(new l.CzmPoint);return n.add(o),r.dispose((function(){return n.delete(o)})),r.dispose((0,a.track)([o,"show"],[t,"show"])),r.dispose((0,a.bind)([o,"position"],[t,"position"])),r.dispose((0,a.track)([o,"pixelSize"],[t,"pixelSize"])),r.dispose((0,a.track)([o,"color"],[t,"color"])),r.dispose((0,a.track)([o,"distanceDisplayCondition"],[t,"distanceDisplayCondition"])),r.dispose((0,a.track)([o,"disableDepthTestDistance"],[t,"disableDepthTestDistance"])),r.dispose((0,a.track)([o,"outlineColor"],[t,"outlineColor"])),r.dispose((0,a.track)([o,"outlineWidth"],[t,"outlineWidth"])),r.dispose((0,a.track)([o,"scaleByDistance"],[t,"scaleByDistance"])),r.dispose((0,a.track)([o,"translucencyByDistance"],[t,"translucencyByDistance"])),r.dispose(t.flyToEvent.disposableOn((function(e){return o.flyTo(e)}))),r}var n;return o(t,e),n=t,t.type=n.register(i.GeoPoint.type,n),t}(s.CzmObject);t.CzmGeoPoint=u},24407:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.AroundPolyline=void 0;var i=n(43938),a=n(19239),s=n(10070),l=function(e){function t(t,n,r){var o=e.call(this)||this,l=o.disposeVar(new i.GeoPolylines);l.arcType="GEODESIC",n.add(l),o.dispose((function(){return n.delete(l)})),o.dispose((0,a.track)([l,"allowPicking"],[t,"allowPicking"])),o.dispose(l.pickedEvent.disposableOn((function(e){t.pickedEvent.emit(new i.SceneObjectPickedInfo(t,e))})));var u=function(){if(void 0===t.depth)throw new Error("sceneObject.depth === undefined");var e,n,o=t.show,i=t.outline;if(l.show=o&&i&&r.visibleAlpha>0,l.color=t.outlineColor,l.width=t.outlineWidth,l.show&&t.positions&&t.positions.length>1){var a=t.positions[0][2];e=t.positions.map((function(e){return[e[0],e[1],a]}))}if(n=t.positions&&t.positions.length>0?t.positions[0][2]:void 0,l.show&&e){var s=n,u=(null!=n?n:0)+t.depth;l.positions=e.map((function(e){return[[e[0],e[1],s],[e[0],e[1],u]]}))}else l.positions=void 0};u();var c=o.disposeVar((0,s.createNextAnimateFrameEvent)(t.showChanged,t.outlineChanged,t.outlineColorChanged,t.outlineWidthChanged,t.colorChanged,t.positionsChanged,r.visibleAlphaChanged));return o.dispose(c.disposableOn(u)),o}return o(t,e),t}(a.Destroyable);t.AroundPolyline=l},99681:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.BottomPolyline=void 0;var i=n(43938),a=n(19239),s=n(10070),l=function(e){function t(t,n,r,o){var l=e.call(this)||this;l._geoPolyline=l.disposeVar(new i.GeoPolyline);var u=l._geoPolyline;u.arcType="GEODESIC",u.loop=!0,u.ground=r,n.add(u),l.dispose((function(){return n.delete(u)})),l.dispose((0,a.bind)([u,"depthTest"],[t,"depthTest"]));var c=function(){var e=t.show,n=t.outline;if(u.show=e&&n&&o.visibleAlpha>0,u.show&&t.positions&&t.positions.length>1){var r=t.positions[0][2];u.positions=t.positions.map((function(e){return[e[0],e[1],r]}))}else u.positions=void 0;u.color=t.outlineColor,u.width=t.outlineWidth};c();var p=l.disposeVar((0,s.createNextAnimateFrameEvent)(t.showChanged,t.outlineChanged,t.outlineColorChanged,t.outlineWidthChanged,t.colorChanged,t.positionsChanged,o.visibleAlphaChanged));return l.dispose(p.disposableOn(c)),l.dispose((0,a.track)([u,"allowPicking"],[t,"allowPicking"])),l.dispose(u.pickedEvent.disposableOn((function(e){t.pickedEvent.emit(new i.SceneObjectPickedInfo(t,e))}))),l}return o(t,e),Object.defineProperty(t.prototype,"geoPolyline",{get:function(){return this._geoPolyline},enumerable:!1,configurable:!0}),t}(a.Destroyable);t.BottomPolyline=l},63393:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.DepthPolygon=void 0;var i=n(19239),a=n(99681),s=n(24407),l=n(10720),u=n(41859),c=function(e){function t(t,n,r){var o=e.call(this)||this,i=t.ground;return o._innerPolygon=o.disposeVar(new u.InnerPolygon(t,n,!0,i,r)),o._bottomPolyline=o.disposeVar(new a.BottomPolyline(t,n,i,r)),o.disposeVar(new s.AroundPolyline(t,n,r)),o.disposeVar(new l.TopPolyline(t,n,r)),o.dispose(t.flyToEvent.disposableOn((function(e){o._innerPolygon.czmInnerPolygonPrimitive.flyTo(e),t.fill||o._bottomPolyline.geoPolyline.flyTo(e)}))),o}return o(t,e),Object.defineProperty(t.prototype,"innerPolygon",{get:function(){return this._innerPolygon},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomPolyline",{get:function(){return this._bottomPolyline},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.DepthPolygon=c},36587:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.GroundBottomPolyline=void 0;var i=n(43938),a=n(19239),s=n(10070),l=function(e){function t(t,n,r,o){var l=e.call(this)||this;l._geoPolyline=l.disposeVar(new i.GeoPolyline);var u=l._geoPolyline;u.arcType="GEODESIC",u.loop=!0,u.ground=r,n.add(u),l.dispose((function(){return n.delete(u)}));var c=function(){var e=t.show,n=t.outline;if(u.show=e&&n&&o.visibleAlpha>0,u.show&&t.positions&&t.positions.length>1){var r=t.positions[0][2];u.positions=t.positions.map((function(e){return[e[0],e[1],r]}))}else u.positions=void 0;u.color=t.outlineColor,u.width=t.outlineWidth};c();var p=l.disposeVar((0,s.createNextAnimateFrameEvent)(t.showChanged,t.outlineChanged,t.outlineColorChanged,t.outlineWidthChanged,t.colorChanged,t.positionsChanged,o.visibleAlphaChanged));return l.dispose(p.disposableOn(c)),l.dispose((0,a.track)([u,"allowPicking"],[t,"allowPicking"])),l.dispose(u.pickedEvent.disposableOn((function(e){t.pickedEvent.emit(new i.SceneObjectPickedInfo(t,e))}))),l}return o(t,e),Object.defineProperty(t.prototype,"geoPolyline",{get:function(){return this._geoPolyline},enumerable:!1,configurable:!0}),t}(a.Destroyable);t.GroundBottomPolyline=l},80313:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.GroundInnerPolygon=void 0;var i=n(43938),a=n(19239),s=n(10070),l=n(323),u=function(e){function t(t,n,r){var o=e.call(this)||this;o._groundPolygonPrimitive=o.disposeVar(new l.CzmPolygonGroundPrimitive);var u=o._groundPolygonPrimitive;n.add(u),o.dispose((function(){return n.delete(u)}));var c=function(){var e=t.show,n=t.fill;u.show=e&&n&&r.visibleAlpha>0,u.polygonHierarchy=u.show?{positions:t.positions||[]}:{positions:[]},u.material={type:"Color",color:t.color||[1,1,1,.5]}};c();var p=o.disposeVar((0,s.createNextAnimateFrameEvent)(t.showChanged,t.fillChanged,t.outlineChanged,t.outlineColorChanged,t.outlineWidthChanged,t.colorChanged,t.positionsChanged,t.depthChanged,r.visibleAlphaChanged));return o.dispose(p.disposableOn(c)),o.dispose((0,a.track)([u,"allowPicking"],[t,"allowPicking"])),o.dispose(u.pickedEvent.disposableOn((function(e){t.allowPicking&&t.pickedEvent.emit(new i.SceneObjectPickedInfo(t,e))}))),o}return o(t,e),Object.defineProperty(t.prototype,"groundPolygonPrimitive",{get:function(){return this._groundPolygonPrimitive},enumerable:!1,configurable:!0}),t}(a.Destroyable);t.GroundInnerPolygon=u},56116:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.GroundPolygon=void 0;var i=n(19239),a=n(80313),s=n(36587),l=function(e){function t(t,n,r){var o=e.call(this)||this,i=t.ground;return o._innerPolygon=o.disposeVar(new a.GroundInnerPolygon(t,n,r)),o._bottomPolyline=o.disposeVar(new s.GroundBottomPolyline(t,n,i,r)),o.dispose(t.flyToEvent.disposableOn((function(e){o._innerPolygon.groundPolygonPrimitive.flyTo(e),t.fill||o._bottomPolyline.geoPolyline.flyTo(e)}))),o}return o(t,e),Object.defineProperty(t.prototype,"innerPolygon",{get:function(){return this._innerPolygon},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomPolyline",{get:function(){return this._bottomPolyline},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.GroundPolygon=l},41859:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.InnerPolygon=void 0;var i=n(43938),a=n(19239),s=n(10070),l=n(323),u=function(e){function t(t,n,r,o,u){var c=e.call(this)||this;c._czmInnerPolygonPrimitive=c.disposeVar(new l.CzmPolygonPrimitive);var p=c._czmInnerPolygonPrimitive;n.add(p),c.dispose((function(){return n.delete(p)}));var f=function(){var e,n=t.show,i=t.fill;if(p.show=n&&i&&u.visibleAlpha>0,t.positions&&t.positions.length>0&&!o?p.height=t.positions[0][2]:p.height=void 0,p.polygonHierarchy=p.show?{positions:t.positions||[]}:{positions:[]},p.material={type:"Color",color:t.color||[1,1,1,.5]},r){if(void 0===t.depth)throw new Error("sceneObject.depth === undefined");p.extrudedHeight=(null!==(e=p.height)&&void 0!==e?e:0)+t.depth}};f();var d=c.disposeVar((0,s.createNextAnimateFrameEvent)(t.showChanged,t.fillChanged,t.outlineChanged,t.outlineColorChanged,t.outlineWidthChanged,t.colorChanged,t.positionsChanged,t.depthChanged,u.visibleAlphaChanged));return c.dispose(d.disposableOn(f)),c.dispose((0,a.track)([p,"allowPicking"],[t,"allowPicking"])),c.dispose(p.pickedEvent.disposableOn((function(e){t.allowPicking&&t.pickedEvent.emit(new i.SceneObjectPickedInfo(t,e))}))),c}return o(t,e),Object.defineProperty(t.prototype,"czmInnerPolygonPrimitive",{get:function(){return this._czmInnerPolygonPrimitive},enumerable:!1,configurable:!0}),t}(a.Destroyable);t.InnerPolygon=u},43304:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Polygon=void 0;var i=n(19239),a=n(99681),s=n(41859),l=function(e){function t(t,n,r){var o=e.call(this)||this,i=t.ground;return o._innerPolygon=o.disposeVar(new s.InnerPolygon(t,n,!1,i,r)),o._bottomPolyline=o.disposeVar(new a.BottomPolyline(t,n,i,r)),o.dispose(t.flyToEvent.disposableOn((function(e){o._innerPolygon.czmInnerPolygonPrimitive.flyTo(e),t.fill||o._bottomPolyline.geoPolyline.flyTo(e)}))),o}return o(t,e),Object.defineProperty(t.prototype,"innerPolygon",{get:function(){return this._innerPolygon},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomPolyline",{get:function(){return this._bottomPolyline},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.Polygon=l},10720:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.TopPolyline=void 0;var i=n(43938),a=n(19239),s=n(10070),l=function(e){function t(t,n,r){var o=e.call(this)||this,l=o.disposeVar(new i.GeoPolyline);l.arcType="GEODESIC",l.loop=!0,n.add(l),o.dispose((function(){return n.delete(l)})),o.dispose((0,a.track)([l,"allowPicking"],[t,"allowPicking"])),o.dispose(l.pickedEvent.disposableOn((function(e){t.pickedEvent.emit(new i.SceneObjectPickedInfo(t,e))})));var u=function(){if(void 0===t.depth)throw new Error("sceneObject.depth === undefined");var e,n,o=t.show,i=t.outline;if(l.show=o&&i&&r.visibleAlpha>0,l.color=t.outlineColor,l.width=t.outlineWidth,l.show&&t.positions&&t.positions.length>1){var a=t.positions[0][2];e=t.positions.map((function(e){return[e[0],e[1],a]}))}if(n=t.positions&&t.positions.length>0?t.positions[0][2]:void 0,l.show&&e){var s=(null!=n?n:0)+t.depth;l.positions=e.map((function(e){return[e[0],e[1],s]}))}else l.positions=void 0};u();var c=o.disposeVar((0,s.createNextAnimateFrameEvent)(t.showChanged,t.outlineChanged,t.outlineColorChanged,t.outlineWidthChanged,t.colorChanged,t.positionsChanged,r.visibleAlphaChanged));return o.dispose(c.disposableOn(u)),o}return o(t,e),t}(a.Destroyable);t.TopPolyline=l},61151:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoPolygon=void 0;var i=n(43938),a=n(19239),s=n(10070),l=n(75125),u=n(63393),c=n(56116),p=n(43304),f=n(60783),d=function(e){function t(t,n){var r=e.call(this,t,n)||this;r._czmViewVisibleDistanceRangeControl=r.disposeVar(new f.CzmViewDistanceRangeControl(r.czmViewer,[r.sceneObject,"viewDistanceRange"],r.sceneObject.positionsCenter.centerReact)),r._viewDistanceDebugBinding=(r.dispose((0,a.track)([r._czmViewVisibleDistanceRangeControl,"debug"],[r.sceneObject,"viewDistanceDebug"])),0);var o=r.disposeVar((0,s.createNextAnimateFrameEvent)(t.groundChanged,t.depthChanged));return r._polygonOrGroundPolygonResetting=r.disposeVar(new s.ObjResettingWithEvent(o,(function(){return t.ground?new c.GroundPolygon(t,n,r):void 0!==t.depth&&t.depth>0?new u.DepthPolygon(t,n,r):new p.Polygon(t,n,r)}))),r}var n;return o(t,e),Object.defineProperty(t.prototype,"polygonOrGroundPolygonResetting",{get:function(){return this._polygonOrGroundPolygonResetting},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmViewVisibleDistanceRangeControl",{get:function(){return this._czmViewVisibleDistanceRangeControl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleAlpha",{get:function(){return this._czmViewVisibleDistanceRangeControl.visibleAlpha},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleAlphaChanged",{get:function(){return this._czmViewVisibleDistanceRangeControl.visibleAlphaChanged},enumerable:!1,configurable:!0}),n=t,t.type=n.register(i.GeoPolygon.type,n),t}(l.CzmObject);t.CzmGeoPolygon=d},97537:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoPolyline=void 0;var s=n(43938),l=n(19239),u=n(10070),c=n(75125),p=n(323),f=n(60783);function d(e){var t=e.color,n=e.gapColor;return e.hasDash?{type:"PolylineDash",color:t,gapColor:n,dashLength:e.dashLength,dashPattern:e.dashPattern}:e.hasArrow?{type:"PolylineArrow",color:t}:{type:"Color",color:t}}function h(e){return e.loop&&e.positions&&e.positions.length>=3?a(a([],i(e.positions),!1),[e.positions[0]],!1):e.positions}function y(e){return[e.showChanged,e.positionsChanged,e.loopChanged,e.widthChanged,e.colorChanged,e.hasDashChanged,e.gapColorChanged,e.dashLengthChanged,e.dashPatternChanged,e.hasArrowChanged,e.arcTypeChanged,e.depthTestChanged]}var g=function(e){function t(t,n,r){var o=e.call(this)||this,c=o.disposeVar(new p.CzmPolylinePrimitive);n.add(c),o.dispose((function(){return n.delete(c)})),o.dispose((0,l.track)([c,"allowPicking"],[t,"allowPicking"])),o.dispose(c.pickedEvent.disposableOn((function(e){var n;null!==(n=t.allowPicking)&&void 0!==n&&n&&t.pickedEvent.emit(new s.SceneObjectPickedInfo(t,e))}))),o.dispose((0,l.track)([c,"depthTest"],[t,"depthTest"]));var f=function(){var e=r.czmViewVisibleDistanceRangeControl.visibleAlpha;c.show=t.show&&e>0,c.arcType=t.arcType,c.width=t.width,c.positions=h(t),c.material=d(t)};f();var g=o.disposeVar(u.createNextAnimateFrameEvent.apply(void 0,a(a([],i(y(t)),!1),[r.czmViewVisibleDistanceRangeControl.visibleAlphaChanged],!1)));return o.dispose(g.disposableOn(f)),o.dispose(t.flyToEvent.disposableOn((function(e){c.flyTo(e)}))),o}return o(t,e),t}(l.Destroyable),m=function(e){function t(t,n,r){var o=e.call(this)||this,c=o.disposeVar(new p.CzmPolylineGroundPrimitive);n.add(c),o.dispose((function(){return n.delete(c)})),o.dispose((0,l.track)([c,"allowPicking"],[t,"allowPicking"])),o.dispose(c.pickedEvent.disposableOn((function(e){var n;null!==(n=t.allowPicking)&&void 0!==n&&n&&t.pickedEvent.emit(new s.SceneObjectPickedInfo(t,e))}))),o.dispose((0,l.track)([c,"depthTest"],[t,"depthTest"]));var f=function(){var e=r.czmViewVisibleDistanceRangeControl.visibleAlpha;c.show=t.show&&e>0,c.arcType=t.arcType,c.width=t.width,c.positions=h(t),c.material=d(t)};f();var g=o.disposeVar(u.createNextAnimateFrameEvent.apply(void 0,a(a([],i(y(t)),!1),[r.czmViewVisibleDistanceRangeControl.visibleAlphaChanged],!1)));return o.dispose(g.disposableOn(f)),o.dispose(t.flyToEvent.disposableOn((function(e){c.flyTo(e)}))),o}return o(t,e),t}(l.Destroyable),v=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._czmViewVisibleDistanceRangeControl=r.disposeVar(new f.CzmViewDistanceRangeControl(r.czmViewer,[r.sceneObject,"viewDistanceRange"],r.sceneObject.positionsCenter.centerReact)),r._viewDistanceDebugBinding=(r.dispose((0,l.track)([r._czmViewVisibleDistanceRangeControl,"debug"],[r.sceneObject,"viewDistanceDebug"])),0),r._polylineOrGroundPolylineResetting=r.disposeVar(new u.ObjResettingWithEvent(t.groundChanged,(function(){return t.ground?new m(t,n,r):new g(t,n,r)}))),r}var n;return o(t,e),Object.defineProperty(t.prototype,"polylineOrGroundPolylineResetting",{get:function(){return this._polylineOrGroundPolylineResetting},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmViewVisibleDistanceRangeControl",{get:function(){return this._czmViewVisibleDistanceRangeControl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleAlpha",{get:function(){return this._czmViewVisibleDistanceRangeControl.visibleAlpha},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleAlphaChanged",{get:function(){return this._czmViewVisibleDistanceRangeControl.visibleAlphaChanged},enumerable:!1,configurable:!0}),n=t,t.type=n.register(s.GeoPolyline.type,n),t}(c.CzmObject);t.CzmGeoPolyline=v},59872:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoPolylines=void 0;var i=n(43938),a=n(43938),s=n(19239),l=n(10070),u=n(75125),c=n(323),p=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(!n.viewer)return console.warn("viewer is undefined!"),r;var o=r.disposeVar(new c.CzmPolylinesPrimitive);n.add(o),r.dispose((function(){return n.delete(o)}));var i=r.disposeVar(new c.CzmPolylinesGroundPrimitive);n.add(i),r.dispose((function(){return n.delete(i)})),r.dispose((0,s.track)([o,"allowPicking"],[t,"allowPicking"])),r.dispose(o.pickedEvent.disposableOn((function(e){var n;null!==(n=t.allowPicking)&&void 0!==n&&n&&t.pickedEvent.emit(new a.SceneObjectPickedInfo(t,e))}))),r.dispose((0,s.track)([i,"allowPicking"],[t,"allowPicking"])),r.dispose(i.pickedEvent.disposableOn((function(e){var n;null!==(n=t.allowPicking)&&void 0!==n&&n&&t.pickedEvent.emit(new a.SceneObjectPickedInfo(t,e))})));var u=function(){var e,n,r,a,s,l=null!==(e=t.ground)&&void 0!==e&&e,u=null===(n=t.show)||void 0===n||n;o.show=u&&!l,i.show=u&&l,o.positions=i.positions=t.positions,o.arcType=i.arcType=t.arcType,o.width=i.width=null!==(r=t.width)&&void 0!==r?r:1,o.hasDash=i.hasDash=t.hasDash,o.hasArrow=i.hasArrow=t.hasArrow,o.color=i.color=t.color,o.gapColor=i.gapColor=t.gapColor,o.dashLength=i.dashLength=t.dashLength,o.dashPattern=i.dashPattern=t.dashPattern,o.depthTest=i.depthTest=null!==(a=t.depthTest)&&void 0!==a&&a,o.allowPicking=i.allowPicking=null!==(s=t.allowPicking)&&void 0!==s&&s},p=r.disposeVar((0,l.createNextAnimateFrameEvent)(t.showChanged,t.groundChanged,t.positionsChanged,t.arcTypeChanged,t.widthChanged,t.hasDashChanged,t.hasArrowChanged,t.colorChanged,t.gapColorChanged,t.dashLengthChanged,t.dashPatternChanged,t.depthTestChanged,t.allowPickingChanged));return r.dispose(p.disposableOn((function(){u()}))),u(),r.dispose(t.flyToEvent.disposableOn((function(e){t.ground?i.flyTo(e):o.flyTo(e)}))),r}var n;return o(t,e),n=t,t.type=n.register(i.GeoPolylines.type,n),t}(u.CzmObject);t.CzmGeoPolylines=p},92436:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoRectangle2=void 0;var a=n(43938),s=n(19239),l=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=r.disposeVar(new a.GeoPolygon);n.add(o),r.dispose((function(){return n.delete(o)})),r.dispose((0,s.track)([o,"show"],[t,"show"])),r.dispose((0,s.bind)([o,"allowPicking"],[t,"allowPicking"])),r.dispose((0,s.bind)([o,"pointEditing"],[t,"pointEditing"])),r.dispose((0,s.track)([o,"ground"],[t,"ground"])),r.dispose((0,s.track)([o,"outline"],[t,"outline"])),r.dispose((0,s.track)([o,"outlineColor"],[t,"outlineColor"])),r.dispose((0,s.track)([o,"outlineWidth"],[t,"outlineWidth"])),r.dispose((0,s.track)([o,"fill"],[t,"fill"])),r.dispose((0,s.track)([o,"color"],[t,"color"])),r.dispose((0,s.track)([o,"depth"],[t,"depth"])),r.dispose((0,s.track)([o,"zIndex"],[t,"zIndex"])),r.dispose((0,s.track)([o,"depthTest"],[t,"depthTest"]));var l=function(){if(t.rectangle){if(t.points&&t.points.length){var e=i(t.rectangle,4),n=e[0],r=e[1],a=e[2],s=e[3],l=[[n,r,t.points[0][2]],[a,r,t.points[0][2]],[a,s,t.points[0][2]],[n,s,t.points[0][2]]];o.positions=l}}else o.positions=void 0};return l(),r.dispose(t.rectangleChanged.disposableOn(l)),r.dispose(o.pickedEvent.disposableOn((function(e){t.allowPicking&&t.pickedEvent.emit(new a.SceneObjectPickedInfo(t,e))}))),r.dispose(t.flyToEvent.disposableOn((function(e){o.flyTo(e)}))),r}var n;return o(t,e),n=t,t.type=n.register(a.GeoRectangle2.type,n),t}(n(75125).CzmObject);t.CzmGeoRectangle2=l},95467:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.GroundRectangle=void 0;var i=n(43938),a=n(19239),s=n(10070),l=n(323),u=function(e){function t(t,n){var r=e.call(this)||this,o=r.disposeVar(new l.CzmRectangleGroundPrimitive);n.add(o),r.dispose((function(){return n.delete(o)})),r.dispose((0,a.track)([o,"allowPicking"],[t,"allowPicking"])),r.dispose(o.pickedEvent.disposableOn((function(e){t.allowPicking&&t.pickedEvent.emit(new i.SceneObjectPickedInfo(t,e))})));var u=function(){var e,n,r,a=null===(e=t.show)||void 0===e||e,s=null!==(n=t.ground)&&void 0!==n&&n;o.show=a&&s,o.show?o.positions=t.rectangle:o.positions=void 0,o.rotation=t.rotation,o.material=null!==(r=t.material)&&void 0!==r?r:i.GeoRectangle.defaults.material,o.stRotation=t.stRotation};u();var c=r.disposeVar((0,s.createNextAnimateFrameEvent)(t.showChanged,t.outlineChanged,t.heightChanged,t.extrudedHeightChanged,t.materialChanged,t.rectangleChanged,t.outlineColorChanged,t.stRotationChanged,t.rotationChanged,t.outlineTranslucentChanged));return r.dispose(c.disposableOn(u)),r.dispose(t.flyToEvent.disposableOn((function(e){o.flyTo(e)}))),r}return o(t,e),t}(a.Destroyable);t.GroundRectangle=u},40038:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Rectangle=void 0;var i=n(43938),a=n(19239),s=n(10070),l=n(323),u=function(e){function t(t,n){var r=e.call(this)||this,o=r.disposeVar(new l.CzmRectanglePrimitive);n.add(o),r.dispose((function(){return n.delete(o)}));var u=r.disposeVar(new l.CzmRectangleOutlinePrimitive);n.add(u),r.dispose((function(){return n.delete(u)})),r.dispose((0,a.track)([o,"allowPicking"],[t,"allowPicking"])),r.dispose(o.pickedEvent.disposableOn((function(e){t.allowPicking&&t.pickedEvent.emit(new i.SceneObjectPickedInfo(t,e))})));var c=function(){var e,n,r,a,s=null===(e=t.show)||void 0===e||e,l=null!==(n=t.ground)&&void 0!==n&&n,c=null!==(r=t.outline)&&void 0!==r&&r;u.show=s&&!l&&c,o.show=s&&!l,u.show?u.positions=t.rectangle:u.positions=void 0,o.show?o.positions=t.rectangle:o.positions=void 0,u.rotation=o.rotation=t.rotation,o.material=null!==(a=t.material)&&void 0!==a?a:i.GeoRectangle.defaults.material,o.stRotation=t.stRotation,u.extrudedHeight=o.extrudedHeight=t.extrudedHeight,u.height=o.height=t.height,u.color=t.outlineColor,u.translucent=t.outlineTranslucent};c();var p=r.disposeVar((0,s.createNextAnimateFrameEvent)(t.showChanged,t.outlineChanged,t.heightChanged,t.extrudedHeightChanged,t.materialChanged,t.rectangleChanged,t.outlineColorChanged,t.stRotationChanged,t.rotationChanged,t.outlineTranslucentChanged));return r.dispose(p.disposableOn(c)),r.dispose(t.flyToEvent.disposableOn((function(e){o.flyTo(e)}))),r}return o(t,e),t}(a.Destroyable);t.Rectangle=u},17291:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoRectangle=void 0;var i=n(43938),a=n(10070),s=n(75125),l=n(40038),u=n(95467),c=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._rectangleOrGroundRectangleResetting=r.disposeVar(new a.ObjResettingWithEvent(t.groundChanged,(function(){return t.ground?new u.GroundRectangle(t,n):new l.Rectangle(t,n)}))),r}var n;return o(t,e),Object.defineProperty(t.prototype,"rectangleOrGroundRectangleResetting",{get:function(){return this._rectangleOrGroundRectangleResetting},enumerable:!1,configurable:!0}),n=t,t.type=n.register(i.GeoRectangle.type,n),t}(s.CzmObject);t.CzmGeoRectangle=c},57853:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},c=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},p=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoVolumeMeasurement=void 0;var f=n(43938),d=n(19239),h=n(75125),y=n(43938),g=s(n(38347)),m=s(n(2003)),v=n(43938),b=n(10070),_=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=n.viewer;if(!o)return console.warn("viewer is undefined!"),r;var i=t.excavationPolylines;n.add(i),r.dispose((function(){return n.delete(i)})),i.color=[1,1,0,1],r.dispose((0,d.track)([i,"show"],[t,"show"])),i.show=!1,i.depthTest=!0;var a=t.fillPolylines;n.add(a),r.dispose((function(){return n.delete(a)})),a.color=[0,0,1,1],r.dispose((0,d.track)([a,"show"],[t,"show"])),a.show=!1;var s=r.disposeVar(new f.GeoPolygon);n.add(s),r.dispose((function(){return n.delete(s)})),r.dispose((0,d.track)([s,"show"],[t,"show"])),r.dispose((0,d.bind)([s,"allowPicking"],[t,"allowPicking"])),r.dispose((0,d.bind)([s,"editing"],[t,"editing"])),r.dispose((0,d.bind)([s,"positions"],[t,"positions"])),r.dispose((0,d.bind)([s,"depthTest"],[t,"depthTest"])),s.fill=!1,r.dispose(s.pickedEvent.disposableOn((function(e){t.allowPicking&&t.pickedEvent.emit(new f.SceneObjectPickedInfo(t,e))}))),r.dispose(t.flyToEvent.disposableOn((function(e){s.flyTo(e)})));var h,y=function(){i.positions=[],a.positions=[],t.area=0,t.excavationArea=0,t.fillArea=0,t.CutAndFillArea=0,i.depthTest=!0},_=r.disposeVar((0,b.createProcessingFromAsyncFunc)((function(e){return l(r,void 0,void 0,(function(){var n,r,i,a,s,l;return u(this,(function(f){switch(f.label){case 0:n=function(){if(t.positions&&t.positions.length){var e=[Math.min.apply(Math,p([],c(t.positions.map((function(e){return e[0]}))),!1)),Math.min.apply(Math,p([],c(t.positions.map((function(e){return e[1]}))),!1)),Math.max.apply(Math,p([],c(t.positions.map((function(e){return e[0]}))),!1)),Math.max.apply(Math,p([],c(t.positions.map((function(e){return e[1]}))),!1))],n=t.sampling,r=g.pointGrid(e,n,{units:"meters"}).features.map((function(e){return e.geometry.coordinates})),o=m.Math.toRadians;return r.map((function(e){return new m.Cartographic(o(e[0]),o(e[1]))}))}}(),r=0,i=300,a=Math.ceil(n.length/i),s=[],l=function(){var l,f,d,h,y;return u(this,(function(u){switch(u.label){case 0:return[],l=r===a-1?n.slice(r*i):n.slice(r*i,(r+1)*i),f=o.scene.sampleHeightMostDetailed(l),[4,e.promise(f)];case 1:return(d=u.sent())&&d.length&&(h=m.Math.toDegrees,y=d.map((function(e){return[h(e.longitude),h(e.latitude),e.height]})),s.push.apply(s,p([],c(y),!1))),t.schedule=r===a-1?Math.round(t.schedule+100/a):t.schedule+100/a,r++,[2]}}))},f.label=1;case 1:return[5,l()];case 2:f.sent(),f.label=3;case 3:if(r<a)return[3,1];f.label=4;case 4:return s&&s.length?(t.gridPoints=s,[2]):[2]}}))}))}))),w=null;return(h=function(){if(t.positions&&t.positions.length&&t.gridPoints){var e=0,n=[],r=0,o=[];t.gridPoints.forEach((function(i){var a=t.positions;i[2]>a[0][2]?(e+=t.sampling*t.sampling*(i[2]-a[0][2]),n.push([i,[i[0],i[1],a[0][2]]])):(r+=t.sampling*t.sampling*(a[0][2]-i[2]),o.push([i,[i[0],i[1],a[0][2]]]))})),i.positions=n,a.positions=o,i.show=!0,a.show=!0,t.area=(0,v.updateArea)(t.positions),t.excavationArea=e,t.fillArea=r,t.CutAndFillArea=r-e,w&&clearTimeout(w),w=setTimeout((function(){i.depthTest=!1}),200)}})(),r.dispose(t.gridPointsChanged.disposableOn(h)),r.dispose((function(){return clearTimeout(w)})),(h=function(){t.positions&&t.positions.length?t.planeHight=t.positions[0][2]:t.planeHight=void 0})(),r.dispose(t.positionsChanged.disposableOn(h)),(h=function(){if(t.planeHight&&t.positions&&t.positions.length){var e=JSON.parse(JSON.stringify(t.positions.slice(1)));e.unshift([t.positions[0][0],t.positions[0][1],t.planeHight]),t.positions=e}})(),r.dispose(t.planeHightChanged.disposableOn(h)),r.dispose(t.enableEvent.disposableOn((function(){y(),t.schedule=0,_.restart()}))),r.dispose(t.clearEvent.disposableOn((function(){y()}))),r}var n;return o(t,e),n=t,t.type=n.register(y.GeoVolumeMeasurement.type,n),t}(h.CzmObject);t.CzmGeoVolumeMeasurement=_},81829:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(28453),t),o(n(58387),t),o(n(57006),t),o(n(99887),t),o(n(70502),t),o(n(23015),t),o(n(71038),t),o(n(21077),t),o(n(6255),t),o(n(43107),t),o(n(38082),t),o(n(85646),t),o(n(29493),t),o(n(2052),t),o(n(65515),t),o(n(2189),t),o(n(60094),t),o(n(61151),t),o(n(97537),t),o(n(59872),t),o(n(17291),t),o(n(57853),t),o(n(92436),t)},80421:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CzmViewCollectionTool=void 0;var i=n(43938),a=n(43938),s=n(19239),l=function(e){function t(t,n){var r=e.call(this,t,n)||this,l=n.viewer,u=n.extensions;if(!l)return r;if(!u)return r;var c=r.disposeVar(new i.CustomDiv);n.add(c),r.dispose((function(){return n.delete(c)})),r.dispose((0,s.track)([c,"show"],[t,"show"]));var p=function(){c.instanceClass=function(e){function n(n,r,o){var i,s=this;(s=e.call(this)||this)._subContainer=n;var l=document.createElement("div"),u=function(){var e;return l.style.display=(null!==(e=r.show)&&void 0!==e?e:a.ViewCollectionTool.defaults.show)?"block":"none"};return u(),s.dispose(r.showChanged.disposableOn(u)),l.style.cssText="\n                            position: absolute;\n                            left: 0;\n                            bottom: 0;\n                            z-index: 100;\n                            width:100%;\n                            height:300px;\n                            background-color:#00212b;\n                            color:#ffffff;\n                        "+(null!==(i=t.cssText)&&void 0!==i?i:a.ViewCollectionTool.defaults.cssText),l.innerText="111111111111111111111",s._subContainer.appendChild(l),s.dispose((function(){return s._subContainer.removeChild(l)})),s}return o(n,e),n}(s.Destroyable)};p();var f=r.disposeVar((0,s.createNextAnimateFrameEvent)(t.cssTextChanged));return r.dispose(f.disposableOn(p)),r}var n;return o(t,e),n=t,t.type=n.register(a.ViewCollectionTool.type,n),t}(n(75125).CzmObject);t.CzmViewCollectionTool=l},83926:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCameraHelper=void 0;var l=n(43938),u=n(19239),c=s(n(2003)),p=n(323),f=n(60783),d=function(e){function t(t,n){var r=e.call(this)||this;if(r._model=r.disposeVar(new p.CzmModelPrimitive),r._geoPoint=r.disposeVar(new l.GeoPoint),r._geoAxis=r.disposeVar(new l.GeoAxis),!n.extensions)throw new Error("!czmViewer.extensions");n.add(r._model),r.dispose((function(){return n.delete(r._model)})),r._model.url="${scene-manager-script-dir}/xe2-assets/scene-manager/glbs/camera1/camera1.gltf",r._model.localRotation=[90,0,0],r._model.allowPicking=!1,r._model.pixelSize=30,(i=function(){var e,n;t.position&&(r._model.position=(0,f.getCameraTargetPos)(t.position,null!==(e=t.rotation)&&void 0!==e?e:[0,0,0],null!==(n=t.viewDistance)&&void 0!==n?n:0),r._model.rotation=t.rotation)})();var o=r.disposeVar((0,u.createNextAnimateFrameEvent)(t.positionChanged,t.rotationChanged,t.viewDistanceChanged));r.dispose(o.disposableOn(i)),(i=function(){var e=n.getCameraInfo();if(e){var t=e.position,o=r._model.position;if(o){var i=c.Cartesian3.fromDegrees(o[0],o[1],o[2]),a=c.Cartesian3.fromDegrees(t[0],t[1],t[2]),s=c.Cartesian3.distanceSquared(i,a);r._model.show=s>1}}})();var i,a=r.disposeVar((0,u.createNextAnimateFrameEvent)(n.extensions.cameraChanged,r._model.positionChanged));r.dispose(a.disposableOn(i)),n.add(r._geoAxis),r.dispose((function(){return n.delete(r._geoAxis)})),r._geoAxis.width=6,r._geoAxis.color=[1,1,0,.7],(i=function(){t.position&&r.model.position&&(r._geoAxis.startPosition=r.model.position,r._geoAxis.stopPosition=t.position)})();var s=r.disposeVar((0,u.createNextAnimateFrameEvent)(t.positionChanged,r._model.positionChanged));return r.dispose(s.disposableOn(i)),r}return o(t,e),Object.defineProperty(t.prototype,"model",{get:function(){return this._model},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoPoint",{get:function(){return this._geoPoint},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoAxis",{get:function(){return this._geoAxis},enumerable:!1,configurable:!0}),t}(u.Destroyable);t.CzmCameraHelper=d},16582:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmView=void 0;var s=n(43938),l=n(10070),u=n(75125),c=n(60783),p=n(83926),f=function(e){function t(t,n){var r,o=this;o=e.call(this,t,n)||this;var u=n.viewer;if(!u)return console.warn("viewer is undefined!"),o;o.disposeVar(new l.ObjResettingWithEvent(t.showChanged,(function(){var e;return(null===(e=t.show)||void 0===e||e)&&t.position?new p.CzmCameraHelper(t,n):void 0}))),o.dispose(t.flyToEvent.disposableOn((function(e){return o.flyTo(e)}))),o.dispose(t.resetWithCurrentCameraEvent.disposableOn((function(e){return o.resetWithCurrentCamera(e)}))),null!==(r=t.default)&&void 0!==r&&r&&o.flyTo(void 0,!1);var f=u.camera,d=o.disposeVar((0,l.createProcessingFromAsyncFunc)((function(e){return i(o,void 0,void 0,(function(){var n,r,o,i,s,l;return a(this,(function(a){switch(a.label){case 0:return n=t.position,r=t.rotation,o=t.viewDistance,i=t.duration,s=void 0===i?1e3:i,n?(l=(0,c.flyTo)(f,n,o,r,s,(function(){t.enabled=!1})))?[4,e.promise(l)]:[3,2]:[3,3];case 1:a.sent(),a.label=2;case 2:t.enabled=!1,a.label=3;case 3:return[2]}}))}))})));o.dispose(t.enabledChanged.disposableOn((function(){d.isRunning&&d.cancel(),t.enabled&&d.restart()})));var h=o.disposeVar((0,l.createProcessingFromAsyncFunc)((function(e,r,s,l){return i(o,void 0,void 0,(function(){var o,i;return a(this,(function(a){switch(a.label){case 0:return(o=n.capture(r,s,l))?[4,e.promise(o)]:[2];case 1:return i=a.sent(),t.thumbnail=i,[2]}}))}))})));return o.dispose(t.captureEvent.disposableOn((function(e,t,n){h.restart(void 0,null!=e?e:s.View.defaults.thumbnailWidth,null!=t?t:s.View.defaults.thumbnailHeight,n)}))),o}var n;return o(t,e),t.prototype.resetWithCurrentCamera=function(e){if(this.czmViewer.actived){var t=this.czmViewer.viewer;if(t){var n=this.sceneObject;e&s.View.ResetFlag.Position&&(n.position=(0,c.getCameraPosition)(t.camera)),e&s.View.ResetFlag.Rotation&&(n.rotation=(0,c.getCameraRotation)(t.camera)),e&s.View.ResetFlag.ViewDistance&&(n.viewDistance=0)}}},t.prototype.flyTo=function(e,t){if(null!=t&&!t||this.czmViewer.actived){var n=this.sceneObject,r=this.czmViewer.viewer,o=n.position,i=n.rotation,a=n.viewDistance,s=n.duration;r&&(0,c.flyTo)(r.camera,o,a,i,null!=e?e:s)}},n=t,t.type=n.register(s.View.type,n),t}(u.CzmObject);t.CzmView=f},67417:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(16582),t),o(n(80421),t)},960:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonsTools=void 0;var l=n(43938),u=n(19239),c=n(75125),p="${scene-manager-script-dir}/xe2-assets/scene-manager/images/buttons/button.png",f=[{imgUrl:p,title:"按钮1"},{imgUrl:p,title:"按钮2"},{imgUrl:p,title:"按钮3"},{imgUrl:p,title:"按钮4"}],d=function(e){function t(n){var r=e.call(this,n)||this;r._buttonsFnReact=r.disposeVar((0,u.react)(void 0));var i=r.disposeVar(new l.CustomDiv);r.dispose(r.components.disposableAdd(i));var a=r;r.dispose((0,u.track)([i,"show"],[r,"show"])),(s=function(){var e;try{r.buttonsFn=Function('"use strict";return ('.concat(null!==(e=r.buttonsFnStr)&&void 0!==e?e:t.defaults.buttonsFnStr,")"))()||void 0}catch(e){console.error("buttonsFn",e),r.buttonsFn=void 0}})(),r.dispose(r.buttonsFnStrChanged.disposableOn(s));var s=function(){try{i.instanceClass=function(e){function n(n,r,o){var i,s=this;if((s=e.call(this)||this)._subContainer=n,!o)return s;if(!(o instanceof c.CzmViewer))return s;var p=document.createElement("div");s._subContainer.appendChild(p),s.dispose((function(){return s._subContainer.removeChild(p)}));var f=function(){var e,n,o="display: ".concat((null!==(e=r.show)&&void 0!==e?e:t.defaults.show)?"flex":"none",";");p.style.cssText=o+(null!==(n=a.cssText)&&void 0!==n?n:t.defaults.cssText)};f();var d=s.disposeVar((0,u.createNextAnimateFrameEvent)(a.cssTextChanged,r.showChanged));return s.dispose(d.disposableOn(f)),(null!==(i=a.items)&&void 0!==i?i:t.defaults.items).forEach((function(e,n){var r=document.createElement("div");p.appendChild(r),s.dispose((function(){return p.removeChild(r)})),r.style.cursor="pointer",r.style.display="flex",r.style.flexDirection="column",r.addEventListener("click",(function(){a.buttonsFn&&a.buttonsFn(n,e)}));var o=document.createElement("div");r.appendChild(o),s.dispose((function(){return r.removeChild(o)})),o.style.padding="5px 10px",o.style.display="flex",o.style.alignItems="center",o.style.justifyContent="center";var i=document.createElement("img");o.appendChild(i),s.dispose((function(){return o.removeChild(i)}));var u=function(){i.style.width="".concat(a.imgSize?a.imgSize[0]:t.defaults.imgSize[0],"px"),i.style.height="".concat(a.imgSize?a.imgSize[1]:t.defaults.imgSize[1],"px")};u(),s.dispose(a.imgSizeChanged.disposableOn(u)),i.src=l.SceneObject.context.getStrFromEnv(e.imgUrl);var c=document.createElement("div");r.appendChild(c),s.dispose((function(){return r.removeChild(c)})),c.style.width="100%",c.style.height="20px",c.style.textAlign="center",c.style.lineHeight="20px",c.style.fontSize="12px",c.style.overflow="hidden",c.innerText=e.title})),s}return o(n,e),n}(u.Destroyable)}catch(e){console.error(e)}};return s(),r.dispose(r.itemsChanged.disposableOn(s)),r.dispose((0,u.track)([i,"containerId"],[r,"containerId"])),r}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return" ButtonsTools"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buttonsFn",{get:function(){return this._buttonsFnReact.value},set:function(e){this._buttonsFnReact.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buttonsFnChanged",{get:function(){return this._buttonsFnReact.changed},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("显示","显示",!0,!1,[this,"show"],t.defaults.show),new l.Number2Property("图片宽高","按钮图片宽高",!0,!1,[this,"imgSize"],t.defaults.imgSize),new l.LongStringProperty("CSS样式","CSS样式",!0,!1,[this,"cssText"],t.defaults.cssText,"\n位置位于左上角\n```\nposition: absolute; \nleft: 10px; \ntop: 10px; \ncolor: rgb(255, 255, 255); \nline-height: 30px; \nbackground: rgb(26, 52, 60); \nz-index: 100; \nborder: 1px solid rgb(0, 64, 82); \n```\n位置位于中间上方\n```\nposition: absolute; \nleft: 50%; \ntop: 10px; \ntransform: translate(-50%);\ncolor: rgb(255, 255, 255); \nline-height: 30px; \nbackground: rgb(26, 52, 60); \nz-index: 100; display: flex; \nborder: 1px solid rgb(0, 64, 82); \n```\n位置位于右上角\n```\nposition: absolute; \ntop: 10px; \nright: 10px; \ncolor: rgb(255, 255, 255); \nline-height: 30px; \nbackground: rgb(26, 52, 60); \nz-index: 100; display: flex; \nborder: 1px solid rgb(0, 64, 82); \n```\n\n\n"),new l.EvalStringProperty("按钮执行函数","按钮执行函数",!0,!1,[this,"buttonsFnStr"],t.defaults.buttonsFnStr),new l.JsonProperty("按钮列表","按钮列表",!0,!1,[this,"items"],t.defaults.items),new l.StringProperty("容器ID","容器的ID，如果设置，CustomDiv将自动放入容器，否则放入各个视口中。",!0,!1,[this,"containerId"],t.defaults.containerId)])],!1)},n=t,t.type=n.register(" ButtonsTools",n,{chsName:"按钮工具",tags:["CzmObjects","_ES_Impl_Cesium"],description:"按钮工具"}),t.defaults=i(i({},l.ESSceneObject.defaults),{show:!0,items:f,buttonsFnStr:"function initButtonsTools(index, item) {\n    alert(`    \n    索引为${index},\n    图片路径为${item.imgUrl},\n    按钮名称为${item.title}`);\n}\n",cssText:"position: absolute; \nleft: 10px; \ntop: 10px; \ncolor: rgb(255, 255, 255); \nline-height: 30px; \nbackground: rgb(26, 52, 60); \nz-index: 100; \nborder: 1px solid rgb(0, 64, 82); \n",imgSize:[30,30],containerId:""}),t}(l.ESSceneObject);t.ButtonsTools=d,function(e){e.createDefaultProps=function(){return i(i({},l.ESSceneObject.createDefaultProps()),{show:void 0,buttonsFnStr:void 0,cssText:void 0,items:(0,u.reactJsonWithUndefined)(void 0),imgSize:void 0,containerId:void 0})}}(d=t.ButtonsTools||(t.ButtonsTools={})),t.ButtonsTools=d,(0,u.extendClassProps)(d.prototype,d.createDefaultProps)},9424:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return s(t,e),t},u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},p=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},f=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.Czm3DTiles=t.getFoveatedInterpolationCallback=void 0;var d=n(43938),h=n(19239),y=n(10070),g=l(n(2003)),m=n(69375);function v(e){var t;try{t=e&&Function('"use strict";return ('+e+")")()}catch(e){t=void 0}return t||g.Math.lerp}t.getFoveatedInterpolationCallback=v;var b="\n// shader定义请参见文档：https://github.com/CesiumGS/cesium/tree/main/Documentation/CustomShaderGuide#customshader-documentation\nclass CityShaderInstance extends xbsj['xr-base-utils'].Destroyable {\n    constructor(sceneObject, viewer) {\n        super();\n\n        // Use the checkerboard red channel as a mask\n        const shader = this.disposeVar(new Cesium.CustomShader({\n            lightingModel: Cesium.LightingModel.UNLIT,\n            fragmentShaderText: `\n              // Color tiles by distance to the camera\n              void fragmentMain(FragmentInput fsInput, inout czm_modelMaterial material)\n              {\n                  material.diffuse = vec3(0.0, 0.0, 1.0);\n                  material.diffuse.g = -fsInput.attributes.positionEC.z / 1.0e4;\n              }\n              `,\n          }));\n\n        this._customShader = shader;\n    }\n\n    update() {\n        alert('暂未实现!');\n    }\n\n    get customShader() {\n        return this._customShader;\n    }\n}\n",_="\n## 文档\nshader定义请参见文档：https://github.com/CesiumGS/cesium/tree/main/Documentation/CustomShaderGuide#customshader-documentation  \n\n## 示例1 默认纯色示例\n```\n".concat(b,"\n```\n\n## 示例2 数字城市示例\n```\nclass CityShaderInstance extends xbsj['xr-base-utils'].Destroyable {\n    constructor(sceneObject, viewer) {\n        super();\n\n        // Use the checkerboard red channel as a mask\n        const shader = this.disposeVar(new Cesium.CustomShader({\n            //lightingModel: Cesium.LightingModel.UNLIT,\n            fragmentShaderText: `\n                // Color tiles by distance to the camera\n                void fragmentMain(FragmentInput fsInput, inout czm_modelMaterial material)\n                {\n                    // 可以修改的参数\n                    // 注意shader中写浮点数是，一定要带小数点，否则会报错，比如0需要写成0.0，1要写成1.0\n                    float _baseHeight = 0.0; // 物体的基础高度，需要修改成一个合适的建筑基础高度\n                    float _heightRange = 100.0; // 高亮的范围(_baseHeight ~ _baseHeight + _heightRange) 默认是 0-60米\n                    float _glowRange = 300.0; // 光环的移动范围(高度)\n\n                    // 建筑基础色\n                    float vtxf_height = fsInput.attributes.positionMC.y - _baseHeight;\n                    float vtxf_a11 = fract(czm_frameNumber / 120.0) * 3.14159265 * 2.0;\n                    float vtxf_a12 = vtxf_height / _heightRange + sin(vtxf_a11) * 0.1;\n                    material.diffuse *= vec3(vtxf_a12, vtxf_a12, vtxf_a12);\n                    material.diffuse *= vec3(0, .5, 1.);\n\n                    // 动态光环\n                    float vtxf_a13 = fract(czm_frameNumber / 360.0);\n                    float vtxf_h = clamp(vtxf_height / _glowRange, 0.0, 1.0);\n                    vtxf_a13 = abs(vtxf_a13 - 0.5) * 2.0;\n                    float vtxf_diff = step(0.005, abs(vtxf_h - vtxf_a13));\n                    material.diffuse += material.diffuse * (1.0 - vtxf_diff);\n\n                  //material.diffuse = vec3(0.0, 0.0, 1.0);\n                  //material.diffuse.g = -fsInput.attributes.positionEC.z / 1.0e4;\n                }\n                `,\n          }));\n\n        this._customShader = shader;\n    }\n\n    update() {\n        alert('暂未实现!');\n    }\n\n    get customShader() {\n        return this._customShader;\n    }\n}\n```\n"),w='\n## style示例\n```\n纯色\n{\n    "color": "vec4(1,0,0,1)"\n}\n\n半透明\n{\n    "color": "vec4(1,1,1,0.5)"\n}\n\n建筑高度着色\n{\n    "color": {\n        "conditions": [\n            ["${height} >= 300", "rgba(45, 0, 75, 0.5)"],\n            ["${height} >= 200", "rgb(102, 71, 151)"],\n            ["${height} >= 100", "rgb(170, 162, 204)"],\n            ["${height} >= 50", "rgb(224, 226, 238)"],\n            ["${height} >= 25", "rgb(252, 230, 200)"],\n            ["${height} >= 10", "rgb(248, 176, 87)"],\n            ["${height} >= 5", "rgb(198, 106, 11)"],\n            ["true", "rgb(127, 59, 8)"]\n        ]\n    }\n}\n\n点云高度着色\n{\n    "color": {\n        "conditions": [\n            ["${POSITION}.z >= 10", "rgba(255,255, 0, 1)"], \n            ["true", "rgb(255, 0, 0)"]\n        ]\n    }\n}\n\n分类全透\n{\n    "color": "vec4(0,0,1,0.01)"\n}\n\n分类浅色\n{\n    "color": "vec4(0,0,1,0.1)"\n}\n```\n',P={color:"vec4(1,0,0,1)"},C={planes:[{normal:[1,0,0],distance:0}],enabled:!0,modelMatrix:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],unionClippingRegions:!1,edgeColor:[1,1,1,1],edgeWidth:2},O="\n## 类型\n```\nexport type CzmClippingPlaneCollectionJsonType = {\n    planes?: CzmClippingPlaneJsonType[];\n    enabled?: boolean; // true\n    modelMatrix?: NativeNumber16Type; // Matrix4.IDENTITY\n    unionClippingRegions?: boolean; // false \n    edgeColor?: [number, number, number, number]; // Color.White\n    edgeWidth?: number; // 0\n};\n```\n## 示例\n```\n".concat(JSON.stringify(C,void 0,"    "),"\n```\n"),x={attenuation:!1,geometricErrorScale:1,maximumAttenuation:16,baseResolution:void 0,eyeDomeLighting:!0,eyeDomeLightingStrength:1,eyeDomeLightingRadius:1,backFaceCulling:!1,normalShading:!0},S="\n## 类型\n```\nexport type CzmPointCloudShadingJsonType = {\n    attenuation: boolean; //\tfalse\toptionalPerform point attenuation based on geometric error.\n    geometricErrorScale: number; //\t1.0\toptionalScale to be applied to each tile's geometric error.\n    maximumAttenuation: number; //\t\toptionalMaximum attenuation in pixels. Defaults to the Cesium3DTileset's maximumScreenSpaceError.\n    baseResolution?: number; //\t\toptionalAverage base resolution for the dataset in meters. Substitute for Geometric Error when not available.\n    eyeDomeLighting: boolean; //\ttrue\toptionalWhen true, use eye dome lighting when drawing with point attenuation.\n    eyeDomeLightingStrength: number; //\t1.0\toptionalIncreasing this value increases contrast on slopes and edges.\n    eyeDomeLightingRadius: number; //\t1.0\toptionalIncrease the thickness of contours from eye dome lighting.\n    backFaceCulling: boolean; //\tfalse\toptionalDetermines whether back-facing points are hidden. This option works only if data has normals included.\n    normalShading: boolean; //\ttrue\toptionalDetermines whether a point cloud that contains normals is shaded by the scene's light source.\n}\n```\n## 示例\n```\n".concat(JSON.stringify(x,void 0,"    "),"\n```\n"),E={imageBasedLightingFactor:[1,1],luminanceAtZenith:.2,sphericalHarmonicCoefficients:[[1.234709620475769,1.221461296081543,1.273156881332397],[1.135921120643616,1.171217799186707,1.287644743919373],[1.245193719863892,1.245591878890991,1.282818794250488],[-1.106930732727051,-1.112522482872009,-1.153198838233948],[-1.086226940155029,-1.079731941223145,-1.101912498474121],[1.189834713935852,1.185906887054443,1.214385271072388],[.01778045296669,.02013735473156,.025313569232821],[-1.086826920509338,-1.084611177444458,-1.111204028129578],[-.05241484940052,-.048303380608559,-.041960217058659]],specularEnvironmentMaps:""},j="\n## 类型\n```\nexport type CzmImageBasedLightingJsonType = {\n    imageBasedLightingFactor?: [number, number];\n    luminanceAtZenith?: number;\n    sphericalHarmonicCoefficients?: [number, number, number, number, number, number, number, number, number];\n    specularEnvironmentMaps?: string;\n}\n```\n## 示例\n```\n".concat(JSON.stringify(E,void 0,"    "),"\n```\n"),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],M=function(e){function t(n){var r=e.call(this,n)||this;r._pickedEvent=r.disposeVar(new h.Event),r._flyToEvent=r.disposeVar(new h.Event),r._customShaderInstanceClass=r.disposeVar((0,h.react)(void 0)),r._updateCustomShaderEvent=r.disposeVar(new h.Event),r._foveatedInterpolationCallback=r.disposeVar((0,h.react)(t.defaultFoveatedInterpolationCallback)),r._origin=r.disposeVar((0,h.react)(void 0)),r._czmTilesetReadyEvent=r.disposeVar(new h.Event),r._sPositionEditing=r.disposeVar(new d.PositionEditing([r,"position"],void 0,r.components)),r._sharedXbsjFlattenedTextureWithId=r.disposeVar(new y.SceneObjectWithId),r._sharedCzmTextureWithIdTrack=r.dispose((0,h.track)([r.sharedXbsjFlattenedTextureWithId,"id"],[r,"xbsjFlattenedTextureId"]));var o=r.sPositionEditing.editingRef;r.dispose(r.positionEditingChanged.disposableOn((function(e,t){var n;null!==(n=r.positionEditing)&&void 0!==n&&n?(!r.position&&r.origin&&(r.position=r.origin),r.position&&(o.value=!0)):o.value=!1}))),r.dispose(r.positionChanged.disposableOn((function(e,t){var n;e?void 0===t&&null!==(n=r.positionEditing)&&void 0!==n&&n&&(o.value=!0):o.value=!1}))),r.dispose(o.changed.disposableOn((function(){o.value||(r.positionEditing=!1)}))),r.dispose(r.originChanged.disposableOn((function(){var e;r.origin&&null!==(e=r.positionEditing)&&void 0!==e&&e&&!r.position&&(r.position=r.origin)})));var i=function(){try{r.customShaderInstanceClass=r.customShaderInstanceClassStr&&Function('"use strict";return ('.concat(r.customShaderInstanceClassStr,")"))()}catch(e){r.customShaderInstanceClass=void 0}};i(),r.dispose(r.customShaderInstanceClassStrChanged.disposableOn(i)),(0,d.registerEventUpdate)(r,r.foveatedInterpolationCallbackStrChanged,(function(){r.foveatedInterpolationCallback=v(r.foveatedInterpolationCallbackStr)})),r.dispose(r.urlChanged.disposableOn((function(){r._origin.value=void 0}))),r.dispose(r._czmTilesetReadyEvent.disposableOn((function(e,t){if(!r._origin.value){var n=e.root.transform,o=g.Matrix4.getTranslation(n,new g.Cartesian3),i=g.Cartographic.fromCartesian(o,void 0,new g.Cartographic),a=i.longitude,s=i.latitude,l=i.height;r._origin.value=[180*a/Math.PI,180*s/Math.PI,l]}})));var a=function(){r.xbsjFlattened};return a(),r.dispose(r.xbsjFlattenedChanged.disposableOn(a)),r}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"Czm3DTiles"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"customShaderInstanceClass",{get:function(){return this._customShaderInstanceClass.value},set:function(e){this._customShaderInstanceClass.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"customShaderInstanceClassChanged",{get:function(){return this._customShaderInstanceClass.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateCustomShaderEvent",{get:function(){return this._updateCustomShaderEvent},enumerable:!1,configurable:!0}),t.prototype.updateCustomShader=function(e){this._updateCustomShaderEvent.emit(e)},Object.defineProperty(t.prototype,"foveatedInterpolationCallback",{get:function(){return this._foveatedInterpolationCallback.value},set:function(e){this._foveatedInterpolationCallback.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"foveatedInterpolationCallbackChanged",{get:function(){return this._foveatedInterpolationCallback.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageBasedLightingFactor",{get:function(){return this.imageBasedLighting&&this.imageBasedLighting.imageBasedLightingFactor},set:function(e){this.imageBasedLighting=this.imageBasedLighting&&i(i({},this.imageBasedLighting),{imageBasedLightingFactor:e})||{imageBasedLightingFactor:e}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageBasedLightingFactorChanged",{get:function(){return this.imageBasedLightingChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"luminanceAtZenith",{get:function(){return this.imageBasedLighting&&this.imageBasedLighting.luminanceAtZenith},set:function(e){this.imageBasedLighting=this.imageBasedLighting&&i(i({},this.imageBasedLighting),{luminanceAtZenith:e})||{luminanceAtZenith:e}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"luminanceAtZenithChanged",{get:function(){return this.imageBasedLightingChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"origin",{get:function(){return this._origin.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originChanged",{get:function(){return this._origin.changed},enumerable:!1,configurable:!0}),t.prototype.setPositionAsOrigin=function(){this.position=this.origin},Object.defineProperty(t.prototype,"czmTilesetReadyEvent",{get:function(){return this._czmTilesetReadyEvent},enumerable:!1,configurable:!0}),t.prototype.notifyCzmTilesetReady=function(e,t){this._czmTilesetReadyEvent.emit(e,t)},Object.defineProperty(t.prototype,"sPositionEditing",{get:function(){return this._sPositionEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sharedXbsjFlattenedTextureWithId",{get:function(){return this._sharedXbsjFlattenedTextureWithId},enumerable:!1,configurable:!0}),t.prototype.getSharedXbsjFlattenedTexture=function(){return this._sharedXbsjFlattenedTextureWithId.sceneObject},t.prototype.openLocalDir=function(){return u(this,void 0,void 0,(function(){var e,t;return c(this,(function(n){switch(n.label){case 0:return[4,y.defaultLocalFileServer.getRootDirId("3dtiles")];case 1:return void 0===(e=n.sent())?(console.warn("openLocalDir failed!"),[2]):(t="https://".concat(e,"/tileset.json"),this.url=t,[2])}}))}))},t.prototype.getProperties=function(n){var r=this,o=function(e){e||alert("evalFuncStr为空，无法执行！");try{var t=e&&Function('"use strict";return ('.concat(e,")"))();r.updateCustomShader(t)}catch(e){alert("updateDivFunc error: ".concat(e))}};return f(f([],p(e.prototype.getProperties.call(this,n)),!1),[new d.GroupProperty("通用","通用",[new d.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new d.UriProperty("路径","路径",!0,!1,[this,"url"],t.defaults.url),new d.FunctionProperty("打开本地目录","打开本地目录，加载本地3dtiles数据，注意只能打开tileset.json文件所在目录",[],(function(){return r.openLocalDir()}),[]),new d.BooleanProperty("是否显示","A boolean Property specifying the visibility .",!0,!1,[this,"show"],t.defaults.show),new d.PositionProperty("位置","位置",!0,!1,[this,"position"],t.defaults.position),new d.PositionProperty("原点","加载后自动读取瓦片数据的原点位置，为只读属性，不可修改！",!0,!0,[this,"origin"]),new d.FunctionProperty("将位置设置为原点","将位置设置为原点",[],(function(){return r.setPositionAsOrigin()}),[]),new d.BooleanProperty("位置编辑","位置编辑",!0,!1,[this,"positionEditing"],t.defaults.positionEditing),new d.RotationProperty("姿态","姿态",!0,!1,[this,"rotation"],t.defaults.rotation),new d.BooleanProperty("姿态编辑","姿态编辑",!0,!1,[this,"rotationEditing"],t.defaults.rotationEditing),new d.BooleanProperty("允许拾取","允许拾取",!0,!1,[this,"allowPicking"],t.defaults.allowPicking)]),new d.GroupProperty("常用","常用",[new d.JsonProperty("clippingPlanes","The ClippingPlaneCollection used to selectively disable rendering the tileset.",!0,!1,[this,"clippingPlanes"],t.defaults.clippingPlanes,O),new d.EnumProperty("classificationType","Determines whether terrain, 3D Tiles or both will be classified by this tileset. See Cesium3DTileset#classificationType for details about restrictions and limitations.",!0,!1,[this,"classificationType"],[["NONE","NONE"],["TERRAIN","TERRAIN"],["CESIUM_3D_TILE","CESIUM_3D_TILE"],["BOTH","BOTH"]],t.defaults.classificationType),new d.BooleanProperty("skipLevelOfDetail","skipLevelOfDetail",!0,!1,[this,"skipLevelOfDetail"],t.defaults.skipLevelOfDetail),new d.NumberProperty("maximumScreenSpaceError","显示精度,maximumScreenSpaceError",!0,!1,[this,"maximumScreenSpaceError"],t.defaults.maximumScreenSpaceError),new d.NumberProperty("maximumMemoryUsage","最大内存,maximumMemoryUsage",!0,!1,[this,"maximumMemoryUsage"],t.defaults.maximumMemoryUsage),new d.Number2Property("imageBasedLightingFactor","散射强度 ,imageBasedLightingFactor",!0,!1,[this,"imageBasedLightingFactor"],[1,1]),new d.NumberProperty("luminanceAtZenith","材质底色 ,luminanceAtZenith",!0,!1,[this,"luminanceAtZenith"],.2)]),new d.GroupProperty("高级","高级",[new d.JsonProperty("modelMatrix","A 4x4 transformation matrix that transforms the tilesets root tile.",!0,!1,[this,"modelMatrix"],t.defaults.modelMatrix),new d.JsonProperty("style","style",!0,!1,[this,"styleJson"],{},w),new d.LongStringProperty("自定义Shader","自定义Shader",!0,!1,[this,"customShaderInstanceClassStr"],b,_),new d.FunctionProperty("更新Shader","更新Shader",["string"],o,["(customShaderInstance, sceneObject, viewer) => customShaderInstance.update && customShaderInstance.update()"])]),new d.GroupProperty("Cesium创建属性","Cesium创建属性",[new d.GroupProperty("url","url",[new d.UriProperty("url","url",!0,!1,[this,"url"],t.defaults.url),new d.BooleanProperty("show","A boolean Property specifying the visibility.",!0,!1,[this,"show"],t.defaults.show),new d.JsonProperty("modelMatrix","A 4x4 transformation matrix that transforms the tilesets root tile.",!0,!1,[this,"modelMatrix"],t.defaults.modelMatrix),new d.EnumProperty("modelUpAxis","Which axis is considered up when loading models for tile contents.",!0,!1,[this,"modelUpAxis"],[["X","X"],["Y","Y"],["Z","Z"]],t.defaults.modelUpAxis),new d.EnumProperty("modelForwardAxis","Which axis is considered forward when loading models for tile contents.",!0,!1,[this,"modelForwardAxis"],[["X","X"],["Y","Y"],["Z","Z"]],t.defaults.modelForwardAxis),new d.EnumProperty("shadows","shadows",!0,!1,[this,"shadows"],[["DISABLED","DISABLED"],["ENABLED","ENABLED"],["CAST_ONLY","CAST_ONLY"],["RECEIVE_ONLY","RECEIVE_ONLY"]],t.defaults.shadows)]),new d.GroupProperty("maximum","maximum",[new d.NumberProperty("maximumScreenSpaceError","显示精度,maximumScreenSpaceError",!0,!1,[this,"maximumScreenSpaceError"],t.defaults.maximumScreenSpaceError),new d.NumberProperty("maximumMemoryUsage","最大内存,maximumMemoryUsage",!0,!1,[this,"maximumMemoryUsage"],t.defaults.maximumMemoryUsage)]),new d.GroupProperty("cull","cull",[new d.BooleanProperty("cullWithChildrenBounds","Optimization option. Whether to cull tiles using the union of their children bounding volumes.",!0,!1,[this,"cullWithChildrenBounds"],t.defaults.cullWithChildrenBounds),new d.BooleanProperty("cullRequestsWhileMoving","Optimization option. Dont request tiles that will likely be unused when they come back because of the cameras movement. This optimization only applies to stationary tilesets.",!0,!1,[this,"cullRequestsWhileMoving"],t.defaults.cullRequestsWhileMoving),new d.NumberProperty("cullRequestsWhileMovingMultiplier","Optimization option. Multiplier used in culling requests while moving. Larger is more aggressive culling, smaller less aggressive culling.",!0,!1,[this,"cullRequestsWhileMovingMultiplier"],t.defaults.cullRequestsWhileMovingMultiplier)]),new d.GroupProperty("preload","preload",[new d.BooleanProperty("preloadWhenHidden","Preload tiles when tileset.show is false. Loads tiles as if the tileset is visible but does not render them.",!0,!1,[this,"preloadWhenHidden"],t.defaults.preloadWhenHidden),new d.BooleanProperty("preloadFlightDestinations","Optimization option. Preload tiles at the cameras flight destination while the camera is in flight.",!0,!1,[this,"preloadFlightDestinations"],t.defaults.preloadFlightDestinations),new d.BooleanProperty("preferLeaves","Optimization option. Prefer loading of leaves first.",!0,!1,[this,"preferLeaves"],t.defaults.preferLeaves)]),new d.GroupProperty("dynamic","dynamic",[new d.BooleanProperty("dynamicScreenSpaceError","Optimization option. Reduce the screen space error for tiles that are further away from the camera.",!0,!1,[this,"dynamicScreenSpaceError"],t.defaults.dynamicScreenSpaceError),new d.NumberProperty("dynamicScreenSpaceErrorDensity","Density used to adjust the dynamic screen space error, similar to fog density.",!0,!1,[this,"dynamicScreenSpaceErrorDensity"],t.defaults.dynamicScreenSpaceErrorDensity),new d.NumberProperty("dynamicScreenSpaceErrorFactor","A factor used to increase the computed dynamic screen space error.",!0,!1,[this,"dynamicScreenSpaceErrorFactor"],t.defaults.dynamicScreenSpaceErrorFactor),new d.NumberProperty("dynamicScreenSpaceErrorHeightFalloff","A ratio of the tilesets height at which the density starts to falloff.",!0,!1,[this,"dynamicScreenSpaceErrorHeightFalloff"],t.defaults.dynamicScreenSpaceErrorHeightFalloff)]),new d.NumberProperty("progressiveResolutionHeightFraction","Optimization option. If between (0.0, 0.5], tiles at or above the screen space error for the reduced screen resolution of progressiveResolutionHeightFraction*screenHeight will be prioritized first. This can help get a quick layer of tiles down while full resolution tiles continue to load.",!0,!1,[this,"progressiveResolutionHeightFraction"],t.defaults.progressiveResolutionHeightFraction),new d.GroupProperty("foveated","foveated",[new d.BooleanProperty("foveatedScreenSpaceError","Optimization option. Prioritize loading tiles in the center of the screen by temporarily raising the screen space error for tiles around the edge of the screen. Screen space error returns to normal once all the tiles in the center of the screen as determined by the Cesium3DTileset#foveatedConeSize are loaded.",!0,!1,[this,"foveatedScreenSpaceError"],t.defaults.foveatedScreenSpaceError),new d.NumberProperty("foveatedConeSize","Optimization option. Used when Cesium3DTileset#foveatedScreenSpaceError is true to control the cone size that determines which tiles are deferred. Tiles that are inside this cone are loaded immediately. Tiles outside the cone are potentially deferred based on how far outside the cone they are and their screen space error. This is controlled by Cesium3DTileset#foveatedInterpolationCallback and Cesium3DTileset#foveatedMinimumScreenSpaceErrorRelaxation. Setting this to 0.0 means the cone will be the line formed by the camera position and its view direction. Setting this to 1.0 means the cone encompasses the entire field of view of the camera, disabling the effect.",!0,!1,[this,"foveatedConeSize"],t.defaults.foveatedConeSize),new d.NumberProperty("foveatedMinimumScreenSpaceErrorRelaxation","Optimization option. Used when Cesium3DTileset#foveatedScreenSpaceError is true to control the starting screen space error relaxation for tiles outside the foveated cone. The screen space error will be raised starting with tileset value up to Cesium3DTileset#maximumScreenSpaceError based on the provided Cesium3DTileset#foveatedInterpolationCallback.",!0,!1,[this,"foveatedMinimumScreenSpaceErrorRelaxation"],t.defaults.foveatedMinimumScreenSpaceErrorRelaxation),new d.EvalStringProperty("foveatedInterpolationCallback","Cesium3DTileset.foveatedInterpolationCallback\tMath.lerp\toptionalOptimization option. Used when Cesium3DTileset#foveatedScreenSpaceError is true to control how much to raise the screen space error for tiles outside the foveated cone, interpolating between Cesium3DTileset#foveatedMinimumScreenSpaceErrorRelaxation and Cesium3DTileset#maximumScreenSpaceError",!0,!1,[this,"foveatedInterpolationCallbackStr"],t.defaults.foveatedInterpolationCallbackStr),new d.NumberProperty("foveatedTimeDelay","Optimization option. Used when Cesium3DTileset#foveatedScreenSpaceError is true to control how long in seconds to wait after the camera stops moving before deferred tiles start loading in. This time delay prevents requesting tiles around the edges of the screen when the camera is moving. Setting this to 0.0 will immediately request all tiles in any given view.",!0,!1,[this,"foveatedTimeDelay"],t.defaults.foveatedTimeDelay)]),new d.GroupProperty("skip","skip",[new d.BooleanProperty("skipLevelOfDetail","skipLevelOfDetail",!0,!1,[this,"skipLevelOfDetail"],t.defaults.skipLevelOfDetail),new d.NumberProperty("baseScreenSpaceError","When skipLevelOfDetail is true, the screen space error that must be reached before skipping levels of detail.",!0,!1,[this,"baseScreenSpaceError"],t.defaults.baseScreenSpaceError),new d.NumberProperty("skipScreenSpaceErrorFactor","When skipLevelOfDetail is true, a multiplier defining the minimum screen space error to skip. Used in conjunction with skipLevels to determine which tiles to load.",!0,!1,[this,"skipScreenSpaceErrorFactor"],t.defaults.skipScreenSpaceErrorFactor),new d.NumberProperty("skipLevels","When skipLevelOfDetail is true, a constant defining the minimum : undefined as number | undefined,// of levels to skip when loading tiles. When it is 0, no levels are skipped. Used in conjunction with skipScreenSpaceErrorFactor to determine which tiles to load.",!0,!1,[this,"skipLevels"],t.defaults.skipLevels)]),new d.GroupProperty("load","load",[new d.BooleanProperty("immediatelyLoadDesiredLevelOfDetail","When skipLevelOfDetail is true, only tiles that meet the maximum screen space error will ever be downloaded. Skipping factors are ignored and just the desired tiles are loaded.",!0,!1,[this,"immediatelyLoadDesiredLevelOfDetail"],t.defaults.immediatelyLoadDesiredLevelOfDetail),new d.BooleanProperty("loadSiblings","When skipLevelOfDetail is true, determines whether siblings of visible tiles are always downloaded during traversal.",!0,!1,[this,"loadSiblings"],t.defaults.loadSiblings)]),new d.GroupProperty("clippingPlanes","clippingPlanes",[new d.JsonProperty("clippingPlanes","The ClippingPlaneCollection used to selectively disable rendering the tileset.",!0,!1,[this,"clippingPlanes"],t.defaults.clippingPlanes,O),new d.BooleanProperty("absoluteClippingPlanes","absoluteClippingPlanes",!1,!1,[this,"absoluteClippingPlanes"]),new d.EnumProperty("classificationType","Determines whether terrain, 3D Tiles or both will be classified by this tileset. See Cesium3DTileset#classificationType for details about restrictions and limitations.",!0,!1,[this,"classificationType"],[["NONE","NONE"],["TERRAIN","TERRAIN"],["CESIUM_3D_TILE","CESIUM_3D_TILE"],["BOTH","BOTH"]],t.defaults.classificationType),new d.Number3Property("ellipsoid","ellipsoid",!0,!1,[this,"ellipsoid"],t.defaults.ellipsoid),new d.JsonProperty("pointCloudShading","pointCloudShading",!0,!1,[this,"pointCloudShading"],t.defaults.pointCloudShading,S),new d.ColorRgbProperty("lightColor","The light color when shading models. When <code>undefined</code> the scene's light color is used instead.",!0,!1,[this,"lightColor"],t.defaults.lightColor),new d.JsonProperty("imageBasedLighting","The properties for managing image-based lighting for this tileset.",!0,!1,[this,"imageBasedLighting"],j),new d.BooleanProperty("backFaceCulling","backFaceCulling",!0,!1,[this,"backFaceCulling"],t.defaults.backFaceCulling),new d.BooleanProperty("enableShowOutline","enableShowOutline",!0,!1,[this,"enableShowOutline"],t.defaults.enableShowOutline),new d.BooleanProperty("showOutline","Whether to display the outline for models using the CESIUM_primitive_outline extension. When true, outlines are displayed. When false, outlines are not displayed.",!0,!1,[this,"showOutline"],t.defaults.showOutline),new d.ColorProperty("outlineColor"," outlineColor,rgba",!0,!1,[this,"outlineColor"],[1,1,1,1])]),new d.GroupProperty("vector","vector",[new d.BooleanProperty("vectorClassificationOnly","Indicates that only the tilesets vector tiles should be used for classification.",!0,!1,[this,"vectorClassificationOnly"],t.defaults.vectorClassificationOnly),new d.BooleanProperty("vectorKeepDecodedPositions","Whether vector tiles should keep decoded positions in memory. This is used with Cesium3DTileFeature.getPolylinePositions.",!0,!1,[this,"vectorKeepDecodedPositions"],t.defaults.vectorKeepDecodedPositions)]),new d.GroupProperty("feature","feature",[new d.StringProperty("featureIdLabel","featureIdLabel",!0,!1,[this,"featureIdLabel"],t.defaults.featureIdLabel),new d.StringProperty("instanceFeatureIdLabel","instanceFeatureIdLabel",!0,!1,[this,"instanceFeatureIdLabel"],t.defaults.instanceFeatureIdLabel)]),new d.GroupProperty("show","show",[new d.BooleanProperty("showCreditsOnScreen","Whether to display the credits of this tileset on screen.",!0,!1,[this,"showCreditsOnScreen"],t.defaults.showCreditsOnScreen),new d.EnumProperty("splitDirection","SplitDirection.NONE\toptionalThe SplitDirection split to apply to this tileset.",!0,!1,[this,"splitDirection"],[["LEFT","LEFT"],["NONE","NONE"],["RIGHT","RIGHT"]],t.defaults.splitDirection),new d.BooleanProperty("projectTo2D","Whether to accurately project the tileset to 2D. If this is true, the tileset will be projected accurately to 2D, but it will use more memory to do so. If this is false, the tileset will use less memory and will still render in 2D / CV mode, but its projected positions may be inaccurate. This cannot be set after the tileset has loaded.",!0,!1,[this,"projectTo2D"],t.defaults.projectTo2D)]),new d.GroupProperty("调试","调试",[new d.StringProperty("debugHeatmapTilePropertyName","The tile variable to colorize as a heatmap. All rendered tiles will be colorized relative to each others specified variable value.",!0,!1,[this,"debugHeatmapTilePropertyName"],t.defaults.debugHeatmapTilePropertyName),new d.BooleanProperty("debugFreezeFrame","For debugging only.Determines if only the tiles from last frame should be used for rendering.",!0,!1,[this,"debugFreezeFrame"],t.defaults.debugFreezeFrame),new d.BooleanProperty("debugColorizeTiles","For debugging only.When true, assigns a random color to each tile.",!0,!1,[this,"debugColorizeTiles"],t.defaults.debugColorizeTiles),new d.BooleanProperty("enableDebugWireframe","For debugging only.This must be true for debugWireframe to work for ModelExperimental in WebGL1.This cannot be set after the tileset has loaded.",!0,!1,[this,"enableDebugWireframe"],t.defaults.enableDebugWireframe),new d.BooleanProperty("debugWireframe","For debugging only.When true, render each tile content as a wireframe",!0,!1,[this,"debugWireframe"],t.defaults.debugWireframe),new d.BooleanProperty("debugShowBoundingVolume","For debugging only.When true, renders the bounding volume for each tile.",!0,!1,[this,"debugShowBoundingVolume"],t.defaults.debugShowBoundingVolume),new d.BooleanProperty("debugShowContentBoundingVolume","debugShowContentBoundingVolume.",!0,!1,[this,"debugShowContentBoundingVolume"],t.defaults.debugShowContentBoundingVolume),new d.BooleanProperty("debugShowViewerRequestVolume","For debugging only.When true, renders the viewer request volume for each tile.",!0,!1,[this,"debugShowViewerRequestVolume"],t.defaults.debugShowViewerRequestVolume),new d.BooleanProperty("debugShowGeometricError","For debugging only.When true, draws labels to indicate the geometric error of each tile.",!0,!1,[this,"debugShowGeometricError"],t.defaults.debugShowGeometricError),new d.BooleanProperty("debugShowRenderingStatistics","For debugging only.When true, draws labels to indicate the number of commands, points, triangles and features for each tile.",!0,!1,[this,"debugShowRenderingStatistics"],t.defaults.debugShowRenderingStatistics),new d.BooleanProperty("debugShowMemoryUsage","For debugging only.When true, draws labels to indicate the texture and geometry memory in megabytes used by each tile.",!0,!1,[this,"debugShowMemoryUsage"],t.defaults.debugShowMemoryUsage),new d.BooleanProperty("debugShowUrl","For debugging only.When true, draws labels to indicate the url of each tile.",!0,!1,[this,"debugShowUrl"],t.defaults.debugShowUrl)]),new d.GroupProperty("customShader","customShader",[new d.LongStringProperty("自定义Shader","自定义Shader",!0,!1,[this,"customShaderInstanceClassStr"],b,_),new d.FunctionProperty("更新Shader","更新Shader",["string"],o,["(customShaderInstance, sceneObject, viewer) => customShaderInstance.update && customShaderInstance.update()"])]),new d.GroupProperty("压平","压平",[new d.BooleanProperty("xbsjFlattened","xbsjFlattened",!1,!1,[this,"xbsjFlattened"]),new d.Number4Property("xbsjFlattenedBound","xbsjFlattenedBound",!1,!1,[this,"xbsjFlattenedBound"]),new d.JsonProperty("xbsjElevationMatrix","xbsjElevationMatrix",!1,!1,[this,"xbsjElevationMatrix"]),new d.StringProperty("xbsjFlattenedTextureId","xbsjFlattenedTextureId",!1,!1,[this,"xbsjFlattenedTextureId"])])]),new d.GroupProperty("Cesium更新属性","Cesium更新属性",[new d.JsonProperty("style","style",!0,!1,[this,"styleJson"],{},w)])],!1)},n=t,t.type=n.register("Czm3DTiles",n,{chsName:"Czm3DTiles",tags:["CzmObjects","_ES_Impl_Cesium","_ES_Misc_NoEditingOnCreating"],description:"通过Cesium的Cesium3DTiles API 实现的模型。"}),t.defaultCustomShaderInstanceClassStr=b,t.styleMd=w,t.defaultFoveatedInterpolationCallbackStr="function (p, q, time) {\n    return (1.0 - time) * p + time * q;\n};",t.defaultStyleJson=P,t.defaultFoveatedInterpolationCallback=g.Math.lerp,t.defaults=i(i({},d.ESSceneObject.defaults),{position:[116.39,39.9,0],positionEditing:!1,rotation:[0,0,0],rotationEditing:!1,allowPicking:!1,url:"",show:!0,modelMatrix:T,modelUpAxis:"Y",modelForwardAxis:"X",shadows:"ENABLED",maximumScreenSpaceError:16,maximumMemoryUsage:512,cullWithChildrenBounds:!0,cullRequestsWhileMoving:!0,cullRequestsWhileMovingMultiplier:60,preloadWhenHidden:!1,preloadFlightDestinations:!0,preferLeaves:!1,dynamicScreenSpaceError:!1,dynamicScreenSpaceErrorDensity:.00278,dynamicScreenSpaceErrorFactor:4,dynamicScreenSpaceErrorHeightFalloff:.25,progressiveResolutionHeightFraction:.3,foveatedScreenSpaceError:!0,foveatedConeSize:.1,foveatedMinimumScreenSpaceErrorRelaxation:0,foveatedTimeDelay:.2,skipLevelOfDetail:!1,baseScreenSpaceError:1024,skipScreenSpaceErrorFactor:16,skipLevels:1,immediatelyLoadDesiredLevelOfDetail:!1,loadSiblings:!1,clippingPlanes:C,classificationType:"NONE",ellipsoid:m.czmEllipsoidWGS84,pointCloudShading:x,lightColor:[1,1,1],imageBasedLighting:E,backFaceCulling:!0,enableShowOutline:!0,showOutline:!0,outlineColor:[1,1,1,1],vectorClassificationOnly:!1,vectorKeepDecodedPositions:!1,featureIdLabel:"featureId_0",instanceFeatureIdLabel:"instanceFeatureId_0",showCreditsOnScreen:!1,splitDirection:"NONE",projectTo2D:!1,debugHeatmapTilePropertyName:"",debugFreezeFrame:!1,debugColorizeTiles:!1,enableDebugWireframe:!1,debugWireframe:!1,debugShowBoundingVolume:!1,debugShowContentBoundingVolume:!1,debugShowViewerRequestVolume:!1,debugShowGeometricError:!1,debugShowRenderingStatistics:!1,debugShowMemoryUsage:!1,debugShowUrl:!1,customShaderInstanceClassStr:t.defaultCustomShaderInstanceClassStr,styleJson:t.defaultStyleJson,foveatedInterpolationCallbackStr:t.defaultFoveatedInterpolationCallbackStr}),t}(d.ESSceneObject);t.Czm3DTiles=M,function(e){e.createDefaultProps=function(){return i(i({},d.ESSceneObject.createDefaultProps()),{position:(0,h.reactArrayWithUndefined)(void 0),positionEditing:void 0,rotation:(0,h.reactArrayWithUndefined)(void 0),rotationEditing:void 0,allowPicking:void 0,xbsjFlattened:!1,xbsjFlattenedBound:(0,h.reactArray)([-100,-100,100,100]),xbsjElevationMatrix:(0,h.reactArray)([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),xbsjFlattenedTextureId:"",url:void 0,show:void 0,modelMatrix:(0,h.reactArrayWithUndefined)(void 0),modelUpAxis:void 0,modelForwardAxis:void 0,shadows:void 0,maximumScreenSpaceError:void 0,maximumMemoryUsage:void 0,cullWithChildrenBounds:void 0,cullRequestsWhileMoving:void 0,cullRequestsWhileMovingMultiplier:void 0,preloadWhenHidden:void 0,preloadFlightDestinations:void 0,preferLeaves:void 0,dynamicScreenSpaceError:void 0,dynamicScreenSpaceErrorDensity:void 0,dynamicScreenSpaceErrorFactor:void 0,dynamicScreenSpaceErrorHeightFalloff:void 0,progressiveResolutionHeightFraction:void 0,foveatedScreenSpaceError:void 0,foveatedConeSize:void 0,foveatedMinimumScreenSpaceErrorRelaxation:void 0,foveatedInterpolationCallbackStr:void 0,foveatedTimeDelay:void 0,skipLevelOfDetail:void 0,baseScreenSpaceError:void 0,skipScreenSpaceErrorFactor:void 0,skipLevels:void 0,immediatelyLoadDesiredLevelOfDetail:void 0,loadSiblings:void 0,clippingPlanes:(0,h.reactJsonWithUndefined)(void 0),absoluteClippingPlanes:!1,classificationType:void 0,ellipsoid:(0,h.reactArrayWithUndefined)(void 0),pointCloudShading:(0,h.reactJsonWithUndefined)(void 0),lightColor:(0,h.reactArrayWithUndefined)(void 0),imageBasedLighting:(0,h.reactJsonWithUndefined)(void 0),backFaceCulling:void 0,enableShowOutline:void 0,showOutline:void 0,outlineColor:(0,h.reactArrayWithUndefined)(void 0),vectorClassificationOnly:void 0,vectorKeepDecodedPositions:void 0,featureIdLabel:void 0,instanceFeatureIdLabel:void 0,showCreditsOnScreen:void 0,splitDirection:void 0,projectTo2D:void 0,debugHeatmapTilePropertyName:void 0,debugFreezeFrame:void 0,debugColorizeTiles:void 0,enableDebugWireframe:void 0,debugWireframe:void 0,debugShowBoundingVolume:void 0,debugShowContentBoundingVolume:void 0,debugShowViewerRequestVolume:void 0,debugShowGeometricError:void 0,debugShowRenderingStatistics:void 0,debugShowMemoryUsage:void 0,debugShowUrl:void 0,customShaderInstanceClassStr:void 0,styleJson:(0,h.reactJsonWithUndefined)(void 0),autoSetPositionAsOrigin:void 0})}}(M=t.Czm3DTiles||(t.Czm3DTiles={})),t.Czm3DTiles=M,(0,h.extendClassProps)(M.prototype,M.createDefaultProps)},29836:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmBackLayerCloud=void 0;var l=n(43938),u=n(19239),c=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new u.Event),n._sPositionEditing=n.disposeVar(new l.PositionEditing([n,"position"],[n,"editing"],n.components)),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmBackLayerCloud"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"sPositionEditing",{get:function(){return this._sPositionEditing},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("是否编辑","是否编辑.",!0,!1,[this,"editing"],!1),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!0,!1,[this,"show"]),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"]),new l.NumberProperty("slice","slice",!0,!1,[this,"slice"],t.defaults.slice),new l.NumberProperty("brightness","brightness",!0,!1,[this,"brightness"],t.defaults.brightness),new l.Number2Property("scale","scale",!0,!1,[this,"scale"],t.defaults.scale),new l.Number3Property("maximumSize","maximumSize",!0,!1,[this,"maximumSize"],t.defaults.maximumSize),new l.ColorProperty("颜色"," A Property specifying the color.",!0,!1,[this,"color"],t.defaults.color)])],!1)},n=t,t.type=n.register("CzmBackLayerCloud",n,{chsName:"后层云",tags:["CzmObjects","_ES_Impl_Cesium"],description:"Cesium内部后层云 CloudCollection API实现。"}),t.defaults=i(i({},l.ESSceneObject.defaults),{slice:-1,brightness:1,scale:[24,10],maximumSize:[25,9,10],color:[1,1,1,1]}),t}(l.ESSceneObject);t.CzmBackLayerCloud=c,function(e){e.createDefaultProps=function(){return i({editing:void 0,show:void 0,slice:void 0,brightness:void 0,scale:(0,u.reactArrayWithUndefined)(void 0),position:(0,u.reactArrayWithUndefined)(void 0),maximumSize:(0,u.reactArrayWithUndefined)(void 0),color:(0,u.reactArrayWithUndefined)(void 0)},l.ESSceneObject.createDefaultProps())}}(c=t.CzmBackLayerCloud||(t.CzmBackLayerCloud={})),t.CzmBackLayerCloud=c,(0,u.extendClassProps)(c.prototype,c.createDefaultProps)},19454:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmBackLayerCloudCollection=t.cloudCollectionTypeMd=void 0;var l=n(43938),u=n(19239);t.cloudCollectionTypeMd='\n```javascript\n[\n    {\n        "slice": -1,\n        "brightness": 1,\n        "scale": [24, 10],\n        "maximumSize": [25, 9, 10],\n        "color": [1, 1, 1, 1],\n        "position": [116.9, 39.9, 100]\n    }\n]\n```\n';var c=function(e){function n(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new u.Event),n}var r;return o(n,e),Object.defineProperty(n.prototype,"typeName",{get:function(){return"CzmBackLayerCloudCollection"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"defaultProps",{get:function(){return n.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),n.prototype.flyTo=function(e){this._flyToEvent.emit(e)},n.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!0,!1,[this,"show"]),new l.JsonProperty("option","option",!1,!1,[this,"option"],void 0,t.cloudCollectionTypeMd)])],!1)},r=n,n.type=r.register("CzmBackLayerCloudCollection",r,{chsName:"后层云集合",tags:["CzmObjects","_ES_Impl_Cesium"],description:"Cesium内部后层云集合 CloudCollection API实现。"}),n.defaults=i(i({},l.ESSceneObject.defaults),{slice:-1,brightness:1,scale:[24,10],maximumSize:[25,9,10],color:[1,1,1,1],position:[116.9,39.9,100]}),n}(l.ESSceneObject);t.CzmBackLayerCloudCollection=c,function(e){e.createDefaultProps=function(){return i({show:!0,option:(0,u.reactJson)([])},l.ESSceneObject.createDefaultProps())}}(c=t.CzmBackLayerCloudCollection||(t.CzmBackLayerCloudCollection={})),t.CzmBackLayerCloudCollection=c,(0,u.extendClassProps)(c.prototype,c.createDefaultProps)},16223:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmBillboard=void 0;var l=n(43938),u=n(19239),c=n(43938),p=n(43938),f=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new u.Event),n._pickedEvent=n.disposeVar(new u.Event),n._sPositionEditing=n.disposeVar(new l.PositionEditing([n,"position"],[n,"editing"],n.components)),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmBillboard"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){return(0,c.getGeoJson)("Point",this.position,this.name)},set:function(e){var t=(0,c.setGeoJson)(e);this.name=t.name,this.position=t.position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sPositionEditing",{get:function(){return this._sPositionEditing},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("单位为米","sizeInMeters.",!0,!1,[this,"sizeInMeters"],t.defaults.sizeInMeters),new l.BooleanProperty("是否编辑","是否编辑.",!0,!1,[this,"editing"],t.defaults.editing),new l.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"],t.defaults.allowPicking),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!0,!1,[this,"show"],t.defaults.show),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"]),new l.ColorProperty("颜色"," A Property specifying the color.",!0,!1,[this,"color"],t.defaults.color),new l.EnumProperty("高度参考","A Property specifying what the height from the entity position is relative to.",!0,!1,[this,"heightReference"],[["无","NONE"],["贴地","CLAMP_TO_GROUND"],["相对地面","RELATIVE_TO_GROUND"]],t.defaults.heightReference),new l.EnumProperty("horizontalOrigin","CENTER | LEFT | RIGHT",!0,!1,[this,"horizontalOrigin"],[["CENTER","CENTER"],["LEFT","LEFT"],["RIGHT","RIGHT"]],t.defaults.horizontalOrigin),new l.EnumProperty("verticalOrigin",'"CENTER" | "BOTTOM" | "BASELINE" | "TOP"',!0,!1,[this,"verticalOrigin"],[["CENTER","CENTER"],["TOP","TOP"],["BOTTOM","BOTTOM"],["BASELINE","BASELINE"]],t.defaults.verticalOrigin),new l.MinmaxProperty("距离限制","距离限制",!0,!1,[this,"distanceDisplayCondition"],t.defaults.distanceDisplayCondition),new l.NearFarScalerProperty("scaleByDistance","scaleByDistance",!0,!1,[this,"scaleByDistance"],t.defaults.scaleByDistance),new l.NearFarScalerProperty("translucencyByDistance","translucencyByDistance",!0,!1,[this,"translucencyByDistance"],t.defaults.translucencyByDistance),new l.NearFarScalerProperty("pixelOffsetScaleByDistance","pixelOffsetScaleByDistance",!0,!1,[this,"pixelOffsetScaleByDistance"],t.defaults.pixelOffsetScaleByDistance),new l.NumberProperty("scale","缩放",!0,!1,[this,"scale"],t.defaults.scale),new l.UriProperty("image","图片地址",!0,!1,[this,"image"],t.defaults.image),new l.NumberProperty("旋转角度","旋转角度",!0,!1,[this,"rotation"],t.defaults.rotation),new l.Number3Property("alignedAxis","alignedAxis",!0,!1,[this,"alignedAxis"],t.defaults.alignedAxis),new l.Number2Property("pixelOffset","pixelOffset",!0,!1,[this,"pixelOffset"],t.defaults.pixelOffset),new l.Number3Property("eyeOffset","eyeOffset",!0,!1,[this,"eyeOffset"],t.defaults.eyeOffset),new l.NumberProperty("宽","width",!0,!1,[this,"width"],t.defaults.width),new l.NumberProperty("高","height",!0,!1,[this,"height"],t.defaults.height),new l.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return r.geoJsonStr}),(function(e){return e&&(r.geoJsonStr=e)}))])],!1)},n=t,t.type=n.register("CzmBillboard",n,{chsName:"图片标绘(primitive)",tags:["CzmObjects","_ES_Impl_Cesium"],description:"Cesium内部图片标绘API实现。"}),t.defaults=i(i({},p.ESSceneObject.defaults),{image:"${scene-manager-script-dir}/xe2-assets/scene-manager/images/location.png",sizeInMeters:!1,editing:!0,allowPicking:!1,show:!0,color:[1,1,1,1],heightReference:"NONE",horizontalOrigin:"CENTER",verticalOrigin:"BASELINE",scaleByDistance:[0,0,1,0],translucencyByDistance:[0,0,1,0],pixelOffsetScaleByDistance:[0,0,1,0],scale:1,rotation:0,alignedAxis:[0,0,0],pixelOffset:[0,0],eyeOffset:[0,0,0],width:0,height:0,distanceDisplayCondition:[0,17976931348623157e292]}),t}(p.ESSceneObject);t.CzmBillboard=f,function(e){e.createDefaultProps=function(){return i({editing:void 0,allowPicking:void 0,show:void 0,position:(0,u.reactArrayWithUndefined)(void 0),color:(0,u.reactArrayWithUndefined)(void 0),pixelOffset:void 0,eyeOffset:(0,u.reactArrayWithUndefined)(void 0),heightReference:void 0,horizontalOrigin:void 0,verticalOrigin:void 0,scale:void 0,image:void 0,rotation:void 0,alignedAxis:(0,u.reactArrayWithUndefined)(void 0),width:void 0,height:void 0,scaleByDistance:(0,u.reactArrayWithUndefined)(void 0),translucencyByDistance:(0,u.reactArrayWithUndefined)(void 0),pixelOffsetScaleByDistance:(0,u.reactArrayWithUndefined)(void 0),sizeInMeters:void 0,distanceDisplayCondition:void 0},p.ESSceneObject.createDefaultProps())}}(f=t.CzmBillboard||(t.CzmBillboard={})),t.CzmBillboard=f,(0,u.extendClassProps)(f.prototype,f.createDefaultProps)},90913:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmBillboardPrimitiveCollection=void 0;var l=n(43938),u=n(19239),c="${xe2-base-objects-script-dir}/xe2-assets/scene-manager/images/location.png",p='### 图片标绘集合示例\n更多 billboard 的属性点击下面链接去cesium官方文档查看\n\n<a href="https://cesium.com/learn/cesiumjs/ref-doc/BillboardCollection.html#add" target="_blank">cesium官方文档</a>\n```\n[\n    {\n        "position": [\n            116.4,\n            30,\n            0\n        ],\n        "scale": 2,\n        "rotation": 10,\n        "color": [\n            1,\n            0,\n            0,\n            1\n        ],\n        "image": "'.concat(c,'"\n    },\n    {\n        "position": [\n            116.4,\n            40,\n            0\n        ],\n        "rotation": 20,\n        "image": "').concat(c,'"\n    }\n]\n```\n'),f=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new u.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmBillboardPrimitiveCollection"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.EnumProperty("blendOption","The label blending option. The default is used for rendering both opaque and translucent labels. However, if either all of the labels are completely opaque or all are completely translucent, setting the technique to BlendOption.OPAQUE or BlendOption.TRANSLUCENT can improve performance by up to 2x.",!0,!1,[this,"blendOption"],[["OPAQUE","OPAQUE"],["TRANSLUCENT","TRANSLUCENT"],["OPAQUE_AND_TRANSLUCENT","OPAQUE_AND_TRANSLUCENT"]],t.defaults.blendOption),new l.BooleanProperty("是否显示","Determines if the primitives in the collection will be shown.",!0,!1,[this,"show"],t.defaults.show),new l.BooleanProperty("debugShowBoundingVolume","For debugging only.Determines if this primitives commands bounding spheres are shown.",!0,!1,[this,"debugShowBoundingVolume"],t.defaults.debugShowBoundingVolume),new l.JsonProperty("billboardPrimitiveOptions","图片标绘集合.",!0,!1,[this,"billboardPrimitiveOptions"],void 0,p)])],!1)},n=t,t.type=n.register("CzmBillboardPrimitiveCollection",n,{chsName:"图片标绘集合(BillboardPrimitiveCollection)",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API 实现的文字标绘集合。"}),t.defaults=i(i({},l.ESSceneObject.defaults),{blendOption:"OPAQUE",show:!0,debugShowBoundingVolume:!1}),t}(l.ESSceneObject);t.CzmBillboardPrimitiveCollection=f,function(e){e.createDefaultProps=function(){return i({show:void 0,debugShowBoundingVolume:void 0,blendOption:void 0,billboardPrimitiveOptions:void 0,position:(0,u.reactArrayWithUndefined)(void 0),rotation:(0,u.reactArrayWithUndefined)(void 0),scale:(0,u.reactArrayWithUndefined)(void 0),localPosition:(0,u.reactArrayWithUndefined)(void 0),localRotation:(0,u.reactArrayWithUndefined)(void 0),localScale:(0,u.reactArrayWithUndefined)(void 0),localModelMatrix:(0,u.reactArrayWithUndefined)(void 0),modelMatrix:(0,u.reactArrayWithUndefined)(void 0)},l.ESSceneObject.createDefaultProps())}}(f=t.CzmBillboardPrimitiveCollection||(t.CzmBillboardPrimitiveCollection={})),t.CzmBillboardPrimitiveCollection=f,(0,u.extendClassProps)(f.prototype,f.createDefaultProps)},63572:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmBlastParticleSystem=void 0;var l=n(43938),u=n(19239),c=n(1358),p=function(e){function t(t){var n=e.call(this,t)||this;n._flyToEvent=n.disposeVar(new u.Event);var r=n,o=n.disposeVar(new c.CzmParticleSystemPrimitive);n.dispose(n.components.disposableAdd(o));var i=n.disposeVar(l.ESSceneObject.context.createEvnStrReact([r,"image"],"${scene-manager-script-dir}/xe2-assets/scene-manager/images/smoke.png"));n.dispose((0,u.bind)([o,"position"],[r,"position"])),n.dispose((0,u.bind)([o,"positionEditing"],[r,"positionEditing"])),n.dispose((0,u.bind)([o,"translation"],[r,"translation"])),n.dispose((0,u.bind)([o,"rotation"],[r,"rotation"])),o.image=i.value,o.show=!0,o.startColor=[.9686274509803922,.8745098039215686,.027450980392156862,.6],o.endColor=[.011764705882352941,0,0,.98],o.startScale=3,o.endScale=5,o.minimumParticleLife=0,o.maximumParticleLife=1,o.minimumSpeed=0,o.maximumSpeed=3,o.emissionRate=20,o.lifetime=5,o.imageSize=[2,2],o.emitter={type:"CircleEmitter",radius:1},o.sizeInMeters=!0;var a=n.disposeVar((0,u.createNextAnimateFrameEvent)(r.showChanged,r.imageChanged));return n.dispose(a.disposableOn((function(){var e;o.show=null===(e=r.show)||void 0===e||e,o.image=i.value}))),n.dispose(r.flyToEvent.disposableOn((function(e){o.show&&o.flyTo(e)}))),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmBlastParticleSystem"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"],t.defaults.show),new l.UriProperty("图片","The URI, HTMLImageElement, or HTMLCanvasElement to use for the billboard.",!0,!1,[this,"image"],t.defaults.image),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"]),new l.Number3Property("偏移","translation",!0,!1,[this,"translation"],t.defaults.translation),new l.Number3Property("旋转","rotation,偏航俯仰翻转，度为单位",!0,!1,[this,"rotation"],t.defaults.rotation),new l.BooleanProperty("位置编辑","位置编辑",!1,!1,[this,"positionEditing"])])],!1)},n=t,t.type=n.register("CzmBlastParticleSystem",n,{chsName:"爆炸粒子特效",tags:["CzmObjects","_ES_Impl_Cesium"],description:"爆炸粒子特效"}),t.defaults=i(i({},l.ESSceneObject.defaults),{show:!0,image:"${scene-manager-script-dir}/xe2-assets/scene-manager/images/smoke.png",translation:[0,0,0],rotation:[0,0,0],positionEditing:!1}),t}(l.ESSceneObject);t.CzmBlastParticleSystem=p,function(e){e.createDefaultProps=function(){return i({show:void 0,image:void 0,positionEditing:!1,position:(0,u.reactArrayWithUndefined)(void 0),translation:(0,u.reactArrayWithUndefined)(void 0),rotation:(0,u.reactArrayWithUndefined)(void 0)},l.ESSceneObject.createDefaultProps())}}(p=t.CzmBlastParticleSystem||(t.CzmBlastParticleSystem={})),t.CzmBlastParticleSystem=p,(0,u.extendClassProps)(p.prototype,p.createDefaultProps)},1800:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return s(t,e),t},u=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},c=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},p=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmBoxClippingPlanes=void 0;var f=n(69767),d=n(43938),h=n(19239),y=n(10070),g=l(n(2003)),m=n(75125),v=n(12615),b=n(9424),_=function(e){function t(t,n){var r=e.call(this)||this;r._czm3DTiles=t,r._czmBoxClippingPlanes=n,r.dispose((function(){return r._czm3DTiles.clippingPlanes=void 0}));var o=function(){r._czm3DTiles.clippingPlanes=r._czmBoxClippingPlanes.computedClippingPlanes};return o(),r.dispose(r._czmBoxClippingPlanes.computedClippingPlanesChanged.disposableOn(o)),r}return o(t,e),t}(h.Destroyable),w=function(e){function t(t){var n,r,o=e.call(this)||this;o._czmBoxClippingPlanes=t;var i=o._czmBoxClippingPlanes.sceneObjectIds.map((function(e){var t=o.disposeVar(new y.SceneObjectWithId);return t.id=e,t})),a=function(e){s.disposeVar(new y.ObjResettingWithEvent(e.sceneObjectChanged,(function(){if(e.sceneObject)return e.sceneObject instanceof b.Czm3DTiles?new _(e.sceneObject,o._czmBoxClippingPlanes):void 0})))},s=this;try{for(var l=u(i),c=l.next();!c.done;c=l.next())a(c.value)}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return o}return o(t,e),t}(h.Destroyable);function P(e,t,n){var r=e,o=t,i=[[r[0],r[1],r[2]],[o[0],r[1],r[2]],[o[0],o[1],r[2]],[r[0],o[1],r[2]],[r[0],r[1],o[2]],[o[0],r[1],o[2]],[o[0],o[1],o[2]],[r[0],o[1],o[2]]],a=g.Math.toDegrees,s=i.map((function(e){var t,r=g.Matrix4.multiplyByPoint(n,(t=g.Cartesian3).fromElements.apply(t,p([],c(e),!1)),new g.Cartesian3),o=g.Cartographic.fromCartesian(r);return[a(o.longitude),a(o.latitude),o.height]}));return[[s[0],s[1],s[2],s[3],s[0]],[s[4],s[5],s[6],s[7],s[4]],[s[0],s[4]],[s[1],s[5]],[s[2],s[6]],[s[3],s[7]]]}var C=function(e){function t(t){var n=e.call(this,t)||this;n._flyToEvent=n.disposeVar(new h.Event),n._computedClippingPlanes=n.disposeVar((0,h.react)(void 0)),n._sceneObjectIdsResetting=n.disposeVar(new y.ObjResettingWithEvent(n.sceneObjectIdsChanged,(function(){return new w(n)}))),n._sPositionEditing=n.disposeVar(new d.PositionEditing([n,"position"],[n,"positionEditing"],n.components)),n._polylines=n.disposeVar(new v.CzmPolylinesPrimitive),n._polylinesInit=(n._polylines.arcType="NONE",void n.dispose(n.components.disposableAdd(n.polylines))),n.registerAttachedObjectForContainer((function(e){var t=new h.Destroyable;return t.dispose(n.flyToEvent.disposableOn((function(t){if(e instanceof m.CzmViewer&&e.actived)if(n.position){var r=n.minSize,o=n.maxSize,i=[o[0]-r[0],o[1]-r[1],o[2]-r[2]],a=Math.sqrt(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]);e.flyTo(n.position,2*a,void 0,t)}else console.warn("CzmBoxClippingPlanes warning: 没有位置，无法飞入！")}))),t})),n.registerAttachedObjectForContainer((function(e){var t=new h.Destroyable,r=function(){e instanceof m.CzmViewer&&(e.sceneGlobeClippingPlanes=n.applyOnTerrain&&n.computedClippingPlanes||void 0)};r();var o=n.disposeVar((0,h.createNextAnimateFrameEvent)(n.applyOnTerrainChanged,n.computedClippingPlanesChanged));return t.dispose(o.disposableOn(r)),t}));var r=function(){var e=n.minSize,t=n.maxSize,r=[t[0]-e[0],t[1]-e[1],t[2]-e[2]],o=n.reverse?-1:1,i=p([],c(n.modelMatrix),!1),a=[];do{if(!n.position)break;var s=(0,f.computeCzmModelMatrix)({position:n.position,rotation:n.rotation});if(!s)break;var l=g.Matrix4.fromArray(n.modelMatrix),u=g.Matrix4.multiply(s,l,new g.Matrix4);g.Matrix4.toArray(u,i),a=P(n.minSize,n.maxSize,u)}while(0);n.polylines.positions=a,n._computedClippingPlanes.value={planes:[{normal:[-1*o,0,0],distance:(r[0]+e[0])*o},{normal:[1*o,0,0],distance:-e[0]*o},{normal:[0,-1*o,0],distance:(r[1]+e[1])*o},{normal:[0,1*o,0],distance:-e[1]*o},{normal:[0,0,-1*o],distance:(r[2]+e[2])*o},{normal:[0,0,1*o],distance:-e[2]*o}],enabled:n.enabled,modelMatrix:i,unionClippingRegions:!n.reverse,edgeColor:n.edgeColor,edgeWidth:n.edgeWidth}};r();var o=n.disposeVar((0,h.createNextAnimateFrameEvent)(n.enabledChanged,n.positionChanged,n.rotationChanged,n.modelMatrixChanged,n.reverseChanged,n.edgeColorChanged,n.edgeWidthChanged,n.minSizeChanged,n.maxSizeChanged));return n.dispose(o.disposableOn(r)),n.dispose((0,h.track)([n.polylines,"color"],[n,"edgeColor"])),n.dispose((0,h.track)([n.polylines,"width"],[n,"edgeWidth"])),n.dispose((0,h.track)([n.polylines,"show"],[n,"showHelper"])),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmBoxClippingPlanes"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"computedClippingPlanes",{get:function(){return this._computedClippingPlanes.value},set:function(e){this._computedClippingPlanes.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"computedClippingPlanesChanged",{get:function(){return this._computedClippingPlanes.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneObjectIdsResetting",{get:function(){return this._sceneObjectIdsResetting},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sPositionEditing",{get:function(){return this._sPositionEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polylines",{get:function(){return this._polylines},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){return p(p([],c(e.prototype.getProperties.call(this,n)),!1),[new d.GroupProperty("通用","通用",[new d.BooleanProperty("启用","启用(enabled)",!1,!1,[this,"enabled"]),new d.BooleanProperty("辅助线框","辅助线框",!1,!1,[this,"showHelper"]),new d.BooleanProperty("作用到地形","作用到地形",!1,!1,[this,"applyOnTerrain"]),new d.BooleanProperty("位置编辑","位置编辑",!1,!1,[this,"positionEditing"]),new d.PositionProperty("位置","位置",!0,!1,[this,"position"],t.defaults.position),new d.PositionProperty("姿态","姿态",!1,!1,[this,"rotation"]),new d.JsonProperty("矩阵","矩阵",!1,!1,[this,"modelMatrix"],[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"[1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]"),new d.BooleanProperty("reverse","reverse",!1,!1,[this,"reverse"]),new d.ColorProperty("edgeColor","edgeColor",!1,!1,[this,"edgeColor"]),new d.NumberProperty("edgeWidth","edgeWidth",!1,!1,[this,"edgeWidth"]),new d.Number3Property("minSzie","minSize",!1,!1,[this,"minSize"]),new d.Number3Property("maxSize","maxSize",!1,!1,[this,"maxSize"]),new d.StringsProperty("sceneObjectIds","sceneObjectIds",!1,!1,[this,"sceneObjectIds"])])],!1)},n=t,t.type=n.register("CzmBoxClippingPlanes",n,{chsName:"CzmBoxClippingPlanes",tags:["ESObjects","_ES_Impl_Cesium"],description:"CzmBoxClippingPlanes"}),t.defaults=i(i({},d.ESSceneObject.defaults),{position:[116.39,39.9,100]}),t}(d.ESSceneObject);t.CzmBoxClippingPlanes=C,function(e){e.createDefaultProps=function(){return i(i({},d.ESSceneObject.createDefaultProps()),{enabled:!0,showHelper:!0,applyOnTerrain:!1,positionEditing:!1,position:(0,h.reactArrayWithUndefined)(void 0),rotation:(0,h.reactArray)([0,0,0]),modelMatrix:(0,h.reactArray)([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),reverse:!1,edgeColor:(0,h.reactArray)([1,1,1,1]),edgeWidth:2,minSize:(0,h.reactArray)([-100,-100,-100]),maxSize:(0,h.reactArray)([100,100,100]),sceneObjectIds:(0,h.reactArray)([])})}}(C=t.CzmBoxClippingPlanes||(t.CzmBoxClippingPlanes={})),t.CzmBoxClippingPlanes=C,(0,h.extendClassProps)(C.prototype,C.createDefaultProps)},4885:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmBoxEntity=void 0;var l=n(43938),u=n(19239),c=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new u.Event),n._pickedEvent=n.disposeVar(new u.Event),n._sPositionEditing=n.disposeVar(new l.PositionEditing([n,"position"],[n,"positionEditing"],n.components)),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmBoxEntity"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sPositionEditing",{get:function(){return this._sPositionEditing},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"]),new l.BooleanProperty("位置编辑","位置编辑",!0,!1,[this,"positionEditing"],t.defaults.positionEditing),new l.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"],t.defaults.allowPicking),new l.RotationProperty("姿态","偏航俯仰翻转，度为单位",!0,!1,[this,"rotation"],t.defaults.rotation),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility of the box.",!1,!1,[this,"show"],t.defaults.show),new l.Number3Property("尺寸","Property specifying the length, width, and height of the box.",!0,!1,[this,"dimensions"],t.defaults.dimensions),new l.EnumProperty("高度参考","A Property specifying what the height from the entity position is relative to.",!0,!1,[this,"heightReference"],[["无","NONE"],["贴地","CLAMP_TO_GROUND"],["相对地面","RELATIVE_TO_GROUND"]],t.defaults.heightReference),new l.BooleanProperty("是否填充"," A boolean Property specifying whether the box is filled with the provided material.",!0,!1,[this,"fill"],t.defaults.fill),new l.ColorProperty("材质"," A Property specifying the material used to fill the box.",!0,!1,[this,"material"],t.defaults.material),new l.BooleanProperty("是否显示外轮廓","A boolean Property specifying whether the box is outlined.",!0,!1,[this,"outline"],t.defaults.outline),new l.ColorProperty("外轮廓颜色","A Property specifying the {@link Color} of the outline.",!0,!1,[this,"outlineColor"],t.defaults.outlineColor),new l.NumberProperty("外轮廓宽度","A numeric Property specifying the width of the outline.",!0,!1,[this,"outlineWidth"],t.defaults.outlineWidth),new l.EnumProperty("阴影类型","An enum Property specifying whether the box casts or receives shadows from light sources.",!0,!1,[this,"shadows"],[["禁用","DISABLED"],["启用","ENABLED"],["仅投射","CAST_ONLY"],["仅接收","RECEIVE_ONLY"]],t.defaults.shadows),new l.MinmaxProperty("距离限制","A Property specifying at what distance from the camera that this box will be displayed.",!0,!1,[this,"distanceDisplayCondition"],t.defaults.distanceDisplayCondition)])],!1)},n=t,t.type=n.register("CzmBoxEntity",n,{chsName:"盒子",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Entity API实现的盒子。"}),t.defaults=i(i({},l.ESSceneObject.defaults),{positionEditing:!1,allowPicking:!1,rotation:[0,0,0],show:!0,dimensions:[1,1,1],heightReference:"NONE",fill:!0,material:[1,1,1,1],outline:!0,outlineColor:[1,1,1,1],outlineWidth:0,shadows:"ENABLED",distanceDisplayCondition:[0,17976931348623157e292]}),t}(l.ESSceneObject);t.CzmBoxEntity=c,function(e){e.createDefaultProps=function(){return i({position:(0,u.reactArrayWithUndefined)(void 0),positionEditing:void 0,allowPicking:void 0,rotation:(0,u.reactArrayWithUndefined)(void 0),show:!0,dimensions:(0,u.reactArrayWithUndefined)(void 0),heightReference:"NONE",fill:void 0,material:(0,u.reactArrayWithUndefined)(void 0),outline:void 0,outlineColor:(0,u.reactArrayWithUndefined)(void 0),outlineWidth:void 0,shadows:void 0,distanceDisplayCondition:void 0},l.ESSceneObject.createDefaultProps())}}(c=t.CzmBoxEntity||(t.CzmBoxEntity={})),t.CzmBoxEntity=c,(0,u.extendClassProps)(c.prototype,c.createDefaultProps)},8959:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return s(t,e),t},u=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},c=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCameraVideo=void 0;var p=n(43938),f=n(19239),d=n(10070),h=l(n(2003)),y=function(e){function t(t){var n,r,o,i=e.call(this,t)||this;return i._pickedEvent=i.disposeVar(new f.Event),i._flyToEvent=i.disposeVar(new f.Event),i._resetWithCameraInfoEvent=i.disposeVar(new f.Event),i._rayEditing=i.disposeVar(new p.RayEditing(i.positionReact,i.rotationReact,i.farReact,[i,"editing"],i.components)),i._sharedCzmTextureWithId=i.disposeVar(new d.SceneObjectWithId),i._sharedCzmTextureWithIdTrack=i.dispose((0,f.track)([i.sharedCzmTextureWithId,"id"],[i,"czmTextureId"])),i._fovy=i.disposeVar((0,f.react)(0)),i._fovyUpdate=(r=h.Math.toRadians,o=h.Math.toDegrees,(n=function(){var e=o(i.aspectRatio<=1?r(i.fov):2*Math.atan(Math.tan(.5*r(i.fov))/i.aspectRatio));Math.abs(e-i.fovy)<1e-5||(i.fovy=e)})(),i.dispose(i.fovChanged.disposableOn(n)),i.dispose(i.aspectRatioChanged.disposableOn(n)),(n=function(){var e=o(i.aspectRatio<=1?r(i.fovy):2*Math.atan(Math.tan(.5*r(i.fovy))*i.aspectRatio));Math.abs(e-i.fov)<1e-5||(i.fov=e)})(),void i.dispose(i.fovyChanged.disposableOn(n))),i._fovx=i.disposeVar((0,f.react)(0)),i._fovxUpdate=function(){var e,t=h.Math.toRadians,n=h.Math.toDegrees;(e=function(){var e=n(i.aspectRatio>1?t(i.fov):2*Math.atan(Math.tan(.5*t(i.fov))*i.aspectRatio));Math.abs(e-i.fovx)<1e-5||(i.fovx=e)})(),i.dispose(i.fovChanged.disposableOn(e)),i.dispose(i.aspectRatioChanged.disposableOn(e)),(e=function(){var e=n(i.aspectRatio>1?t(i.fovx):2*Math.atan(Math.tan(.5*t(i.fovx))/i.aspectRatio));Math.abs(e-i.fov)<1e-5||(i.fov=e)})(),i.dispose(i.fovxChanged.disposableOn(e))}(),i}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmCameraVideo"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"resetWithCameraInfoEvent",{get:function(){return this._resetWithCameraInfoEvent},enumerable:!1,configurable:!0}),t.prototype.resetWithCameraInfo=function(){this._resetWithCameraInfoEvent.emit()},Object.defineProperty(t.prototype,"rayEditing",{get:function(){return this._rayEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sharedCzmTextureWithId",{get:function(){return this._sharedCzmTextureWithId},enumerable:!1,configurable:!0}),t.prototype.getCurrentCzmTexture=function(){return this._sharedCzmTextureWithId.sceneObject},Object.defineProperty(t.prototype,"fovy",{get:function(){return this._fovy.value},set:function(e){this._fovy.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fovyChanged",{get:function(){return this._fovy.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fovx",{get:function(){return this._fovx.value},set:function(e){this._fovx.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fovxChanged",{get:function(){return this._fovx.changed},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return c(c([],u(e.prototype.getProperties.call(this,n)),!1),[new p.GroupProperty("通用","通用",[new p.BooleanProperty("显示","显示(show)",!1,!1,[this,"show"]),new p.BooleanProperty("编辑","编辑(editing)",!1,!1,[this,"editing"]),new p.PositionProperty("位置","位置(position)",!0,!1,[this,"position"],t.defaults.position),new p.RotationProperty("姿态","姿态",!1,!1,[this,"rotation"]),new p.FunctionProperty("重置","以当前相机状态重置",[],(function(){return r.resetWithCameraInfo()}),[]),new p.NumberProperty("fov","aspectRatio>1时，fov表示水平广角，否则表示纵向广角！",!1,!1,[this,"fov"]),new p.NumberProperty("fovy","纵向广角，注意本属性，不会存储到json中",!1,!1,[this,"fovy"]),new p.NumberProperty("fovx","水平广角，注意本属性，不会存储到json中",!1,!1,[this,"fovx"]),new p.NumberProperty("aspectRatio","aspectRatio",!1,!1,[this,"aspectRatio"]),new p.NumberProperty("near","near",!1,!1,[this,"near"]),new p.NumberProperty("far","far",!1,!1,[this,"far"]),new p.BooleanProperty("showHelperPrimitive","showHelperPrimitive",!1,!1,[this,"showHelperPrimitive"])]),new p.GroupProperty("czmTexture","czmTexture",[new p.StringProperty("czmTextureId","czmTextureId",!0,!1,[this,"czmTextureId"],t.defaults.czmTextureId)])],!1)},n=t,t.type=n.register("CzmCameraVideo",n,{chsName:"CzmCameraVideo",tags:["ESObjects","_ES_Impl_Cesium"],description:"CzmCameraVideo"}),t.defaults=i(i({},p.ESSceneObject.defaults),{position:[116.39,39.9,100],czmTextureId:""}),t}(p.ESSceneObject);t.CzmCameraVideo=y,function(e){e.createDefaultProps=function(){return i(i({},p.ESSceneObject.createDefaultProps()),{show:!0,editing:!1,position:(0,f.reactArrayWithUndefined)(void 0),rotation:(0,f.reactArray)([0,0,0]),fov:30,aspectRatio:1.333,near:3,far:100,showHelperPrimitive:!0,czmTextureId:void 0})}}(y=t.CzmCameraVideo||(t.CzmCameraVideo={})),t.CzmCameraVideo=y,(0,f.extendClassProps)(y.prototype,y.createDefaultProps)},50384:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCircleGroundPrimitive=void 0;var l=n(43938),u=n(19239),c=n(43938),p=n(43938),f=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new u.Event),n._pickedEvent=n.disposeVar(new u.Event),n._sPositionEditing=n.disposeVar(new l.PositionEditing([n,"position"],[n,"editing"],n.components)),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmCircleGroundPrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sPositionEditing",{get:function(){return this._sPositionEditing},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!0,!1,[this,"show"],t.defaults.show),new l.BooleanProperty("是否编辑","editing circle.",!0,!1,[this,"editing"],t.defaults.editing),new l.BooleanProperty("是否允许拾取","allowPicking circle.",!0,!1,[this,"allowPicking"],t.defaults.allowPicking),new l.JsonProperty("材质","A Property specifying the material used to fill the circle.",!0,!1,[this,"material"],t.defaults.material,c.CzmMaterialJsonTypeMd),new l.PositionProperty("圆心位置","经度纬度高度，度为单位",!0,!1,[this,"position"]),new l.NumberProperty("半径","A numeric Property specifying the  radius of the circle.",!0,!1,[this,"radius"],t.defaults.radius),new l.NumberProperty("纹理旋转角度","纹理旋转角度",!0,!1,[this,"stRotation"],t.defaults.stRotation),new l.Number3Property("ellipsoid","ellipsoid",!0,!1,[this,"ellipsoid"],t.defaults.ellipsoid),new l.NumberProperty("间隔尺寸","granularity must be greater than zero.",!0,!1,[this,"granularity"],t.defaults.granularity)])],!1)},n=t,t.type=n.register("CzmCircleGroundPrimitive",n,{chsName:"贴地圆形",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的GroundPrimitive API实现的贴地圆形。"}),t.defaults=i(i({},p.ESSceneObject.defaults),{show:!0,editing:!0,allowPicking:!1,material:{type:"Color",color:[1,1,1,.5]},radius:0,stRotation:0,ellipsoid:[6378137,6378137,6356752.314245179],granularity:1}),t}(p.ESSceneObject);t.CzmCircleGroundPrimitive=f,function(e){e.createDefaultProps=function(){return i({show:void 0,editing:void 0,allowPicking:void 0,material:(0,u.reactJsonWithUndefined)(void 0),granularity:void 0,position:(0,u.reactArrayWithUndefined)(void 0),radius:void 0,stRotation:void 0,ellipsoid:void 0},p.ESSceneObject.createDefaultProps())}}(f=t.CzmCircleGroundPrimitive||(t.CzmCircleGroundPrimitive={})),t.CzmCircleGroundPrimitive=f,(0,u.extendClassProps)(f.prototype,f.createDefaultProps)},26565:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCircleOutlinePrimitive=void 0;var l=n(43938),u=n(19239),c=n(43938),p=n(43938),f=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new u.Event),n._pickedEvent=n.disposeVar(new u.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmCircleOutlinePrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){return(0,c.getGeoJson)("Point",this.position,this.name)},set:function(e){var t=(0,c.setGeoJson)(e);this.name=t.name,this.position=t.position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!1,!1,[this,"show"],t.defaults.show),new l.BooleanProperty("是否允许拾取","allowPicking circle.",!0,!1,[this,"allowPicking"],t.defaults.allowPicking),new l.BooleanProperty("是否半透明","A boolean Property specifying the translucent of the circle.",!0,!1,[this,"translucent"],t.defaults.translucent),new l.ColorProperty("轮廓颜色"," A Property specifying the color of circle.",!0,!1,[this,"outlineColor"],t.defaults.outlineColor),new l.PositionProperty("圆心位置","经度纬度高度，度为单位",!0,!1,[this,"position"],t.defaults.position),new l.NumberProperty("高度","高度",!0,!1,[this,"height"],t.defaults.height),new l.NumberProperty("拉伸高度","拉伸高度",!0,!1,[this,"extrudedHeight"],t.defaults.extrudedHeight),new l.NumberProperty("半径","A numeric Property specifying the  radius of the circle.",!0,!1,[this,"radius"],t.defaults.radius),new l.Number3Property("ellipsoid","ellipsoid",!0,!1,[this,"ellipsoid"],t.defaults.ellipsoid),new l.NumberProperty("间隔尺寸","granularity must be greater than zero.",!0,!1,[this,"granularity"],t.defaults.granularity),new l.NumberProperty("垂直线条数","numberOfVerticalLines.",!0,!1,[this,"numberOfVerticalLines"],t.defaults.numberOfVerticalLines),new l.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return r.geoJsonStr}),(function(e){return e&&(r.geoJsonStr=e)}))])],!1)},n=t,t.type=n.register("CzmCircleOutlinePrimitive",n,{chsName:"圆形外轮廓",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API实现的圆形外轮廓。"}),t.defaults=i(i({},p.ESSceneObject.defaults),{show:!0,translucent:!0,allowPicking:!1,outlineColor:[1,1,1,1],position:[0,0,0],height:0,extrudedHeight:0,radius:0,ellipsoid:[6378137,6378137,6356752.314245179],granularity:1,numberOfVerticalLines:0}),t}(p.ESSceneObject);t.CzmCircleOutlinePrimitive=f,function(e){e.createDefaultProps=function(){return i({show:!0,translucent:void 0,allowPicking:void 0,outlineColor:(0,u.reactArrayWithUndefined)(void 0),position:(0,u.reactArrayWithUndefined)(void 0),height:void 0,extrudedHeight:void 0,radius:void 0,ellipsoid:void 0,granularity:void 0,numberOfVerticalLines:void 0},p.ESSceneObject.createDefaultProps())}}(f=t.CzmCircleOutlinePrimitive||(t.CzmCircleOutlinePrimitive={})),t.CzmCircleOutlinePrimitive=f,(0,u.extendClassProps)(f.prototype,f.createDefaultProps)},41443:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCirclePrimitive=void 0;var l=n(43938),u=n(19239),c=n(43938),p=n(43938),f=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new u.Event),n._pickedEvent=n.disposeVar(new u.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmCirclePrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){return(0,c.getGeoJson)("Point",this.position,this.name)},set:function(e){var t=(0,c.setGeoJson)(e);this.name=t.name,this.position=t.position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!0,!1,[this,"show"],t.defaults.show),new l.BooleanProperty("是否允许拾取","allowPicking circle.",!0,!1,[this,"allowPicking"],t.defaults.allowPicking),new l.JsonProperty("材质","A Property specifying the material used to fill the circle.",!1,!1,[this,"material"],void 0,c.CzmMaterialJsonTypeMd),new l.PositionProperty("圆心位置","经度纬度高度，度为单位",!0,!1,[this,"position"],t.defaults.position),new l.NumberProperty("高度","高度",!0,!1,[this,"height"],t.defaults.height),new l.NumberProperty("拉伸高度","拉伸高度",!0,!1,[this,"extrudedHeight"],t.defaults.extrudedHeight),new l.NumberProperty("半径","A numeric Property specifying the  radius of the circle.",!0,!1,[this,"radius"],t.defaults.radius),new l.NumberProperty("纹理旋转角度","纹理旋转角度.",!0,!1,[this,"stRotation"],t.defaults.stRotation),new l.Number3Property("ellipsoid","ellipsoid",!0,!1,[this,"ellipsoid"],t.defaults.ellipsoid),new l.NumberProperty("间隔尺寸","granularity must be greater than zero.",!0,!1,[this,"granularity"],t.defaults.granularity),new l.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return r.geoJsonStr}),(function(e){return e&&(r.geoJsonStr=e)}))])],!1)},n=t,t.type=n.register("CzmCirclePrimitive",n,{chsName:"常规圆形",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API实现的常规圆形。"}),t.defaults=i(i({},p.ESSceneObject.defaults),{show:!0,allowPicking:!1,translucent:!0,outlineColor:[1,1,1,1],position:[0,0,0],height:0,extrudedHeight:0,radius:0,stRotation:0,ellipsoid:[6378137,6378137,6356752.314245179],granularity:1}),t}(p.ESSceneObject);t.CzmCirclePrimitive=f,function(e){e.createDefaultProps=function(){return i({show:void 0,allowPicking:void 0,material:(0,u.reactJson)({type:"Color"}),position:(0,u.reactArrayWithUndefined)(void 0),height:void 0,extrudedHeight:void 0,radius:void 0,stRotation:void 0,ellipsoid:void 0,granularity:void 0},p.ESSceneObject.createDefaultProps())}}(f=t.CzmCirclePrimitive||(t.CzmCirclePrimitive={})),t.CzmCirclePrimitive=f,(0,u.extendClassProps)(f.prototype,f.createDefaultProps)},19494:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmClassicNavigator=void 0;var l=n(43938),u=n(19239),c=n(43938),p=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new u.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmClassicNavigator"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(n){return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("指北针可见性","指北针可见性",!0,!1,[this,"showCompass"],t.defaults.showCompass),new l.Number4WithUndefinedProperty("指北针css样式","指北针css样式",!0,!1,[this,"compassStyle"],t.defaults.compassStyle),new l.BooleanProperty("比例尺可见性","比例尺可见性",!0,!1,[this,"showDistanceLegend"],t.defaults.showDistanceLegend),new l.Number4WithUndefinedProperty("比例尺css样式","比例尺css样式",!0,!1,[this,"distanceLegendStyle"],t.defaults.distanceLegendStyle)])],!1)},n=t,t.type=n.register("CzmClassicNavigator",n,{chsName:"经典导航",tags:["CzmObjects","_ES_Impl_Cesium"],description:"经典指北针和比例尺，注意该场景对象只能有一个，不能有多个，会相互影响！"}),t.defaults=i(i({},c.ESSceneObject.defaults),{showCompass:!0,compassStyle:[void 0,18,18,void 0],showDistanceLegend:!0,distanceLegendStyle:[void 0,void 0,18,18]}),t}(c.ESSceneObject);t.CzmClassicNavigator=p,function(e){e.createDefaultProps=function(){return i({showCompass:void 0,compassStyle:void 0,showDistanceLegend:void 0,distanceLegendStyle:void 0},c.ESSceneObject.createDefaultProps())}}(p=t.CzmClassicNavigator||(t.CzmClassicNavigator={})),t.CzmClassicNavigator=p,(0,u.extendClassProps)(p.prototype,p.createDefaultProps)},2436:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmClassificationPolygonPrimitive=void 0;var l=n(43938),u=n(19239),c=function(e){function t(t){var n=e.call(this,t)||this;return n._pickedEvent=n.disposeVar(new u.Event),n._flyToEvent=n.disposeVar(new u.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmClassificationPolygonPrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){if(this.polygonHierarchy)return(0,l.getGeoJson)("Polygon",this.polygonHierarchy.positions,this.name)},set:function(e){var t=(0,l.setGeoJson)(e);this.name=t.name,this.polygonHierarchy={positions:t.position}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!0,!1,[this,"show"]),new l.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"]),new l.EnumProperty("弧线类型","弧线类型",!0,!1,[this,"arcType"],[["直线","NONE"],["地理直线","GEODESIC"],["地理恒向线","RHUMB"]],"GEODESIC"),new l.ColorProperty("颜色","颜色",!0,!1,[this,"color"],t.defaults.color),new l.NumberProperty("纹理旋转角度","纹理旋转角度.",!0,!1,[this,"stRotation"]),new l.PositionsProperty("位置数组","经度纬度高度，度为单位",!0,!1,[this,"polygonHierarchy"]),new l.NumberProperty("高度","高度",!0,!1,[this,"height"]),new l.NumberProperty("拉伸高度","拉伸高度",!0,!1,[this,"extrudedHeight"]),new l.Number3Property("ellipsoid","ellipsoid",!0,!1,[this,"ellipsoid"]),new l.NumberProperty("间隔尺寸","granularity must be greater than zero.",!0,!1,[this,"granularity"]),new l.BooleanProperty("是否使用位置高度","是否使用位置高度.",!0,!1,[this,"perPositionHeight"]),new l.BooleanProperty("是否关闭顶部","是否关闭顶部.",!0,!1,[this,"closeTop"]),new l.BooleanProperty("是否关闭底部","是否关闭底部.",!0,!1,[this,"closeBottom"]),new l.BooleanProperty("是否关闭底部","是否关闭底部.",!0,!1,[this,"closeBottom"]),new l.EnumProperty("classificationType","classificationType",!0,!1,[this,"classificationType"],[["Terrain","Terrain"],["Cesium3dTile","Cesium3dTile"],["Both","Both"]],t.defaults.classificationType),new l.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return r.geoJsonStr}),(function(e){return e&&(r.geoJsonStr=e)}))])],!1)},n=t,t.type=n.register("CzmClassificationPolygonPrimitive",n,{chsName:"常规多边形",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API 和GroundPrimitive API实现的多边形。"}),t.defaults=i(i({},l.ESSceneObject.defaults),{classificationType:"Both",color:[1,1,1,.5]}),t}(l.ESSceneObject);t.CzmClassificationPolygonPrimitive=c,function(e){e.createDefaultProps=function(){return i({show:void 0,allowPicking:void 0,arcType:void 0,color:(0,u.reactArrayWithUndefined)(void 0),stRotation:void 0,polygonHierarchy:(0,u.reactJson)({positions:[]}),height:void 0,extrudedHeight:void 0,ellipsoid:void 0,granularity:void 0,perPositionHeight:void 0,closeTop:void 0,closeBottom:void 0,classificationType:void 0},l.ESSceneObject.createDefaultProps())}}(c=t.CzmClassificationPolygonPrimitive||(t.CzmClassificationPolygonPrimitive={})),t.CzmClassificationPolygonPrimitive=c,(0,u.extendClassProps)(c.prototype,c.createDefaultProps)},29699:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmClock=void 0;var l=n(43938),u=n(19239),c=n(43938),p=function(e){function t(t){return e.call(this,t)||this}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmClock"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("启用","启用",!0,!1,[this,"enabled"],t.defaults.enabled),new l.DateProperty("开始时间","开始时间",!0,!1,[this,"startTime"],t.defaults.startTime),new l.DateProperty("结束时间","结束时间",!0,!1,[this,"stopTime"],t.defaults.stopTime),new l.DateProperty("当前时间","当前时间",!0,!1,[this,"currentTime"],t.defaults.currentTime),new l.NumberProperty("倍速","倍速.",!0,!1,[this,"multiplier"],t.defaults.multiplier),new l.EnumProperty("clockStep","clockStep",!0,!1,[this,"clockStep"],[["TICK_DEPENDENT","TICK_DEPENDENT"],["SYSTEM_CLOCK_MULTIPLIER","SYSTEM_CLOCK_MULTIPLIER"],["SYSTEM_CLOCK","SYSTEM_CLOCK"]],t.defaults.clockStep),new l.EnumProperty("clockRange","clockRange",!0,!1,[this,"clockRange"],[["UNBOUNDED","UNBOUNDED"],["CLAMPED","CLAMPED"],["LOOP_STOP","LOOP_STOP"]],t.defaults.clockRange),new l.BooleanProperty("是否启用动画","是否启用动画",!0,!1,[this,"shouldAnimate"],t.defaults.shouldAnimate)])],!1)},n=t,t.type=n.register("CzmClock",n,{chsName:"时钟",tags:["CzmObjects","_ES_Impl_Cesium"],description:"绘制时钟。"}),t.defaults=i(i({},c.ESSceneObject.defaults),{enabled:!1,startTime:function(){return Date.now()},stopTime:function(){return Date.now()+864e5},currentTime:function(){return Date.now()},multiplier:1,clockStep:"SYSTEM_CLOCK_MULTIPLIER",clockRange:"UNBOUNDED",shouldAnimate:!1}),t}(c.ESSceneObject);t.CzmClock=p,function(e){e.createDefaultProps=function(){return i({enabled:void 0,startTime:void 0,stopTime:void 0,currentTime:void 0,multiplier:void 0,clockStep:void 0,clockRange:void 0,shouldAnimate:void 0},c.ESSceneObject.createDefaultProps())}}(p=t.CzmClock||(t.CzmClock={})),t.CzmClock=p,(0,u.extendClassProps)(p.prototype,p.createDefaultProps)},55331:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCoplanarPolygonPrimitive=void 0;var l=n(43938),u=n(19239),c=n(43938),p=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new u.Event),n._pickedEvent=n.disposeVar(new u.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmCoplanarPolygonPrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){return this.polygonHierarchy?(0,l.getGeoJson)("Polygon",this.polygonHierarchy.positions,this.name):{}},set:function(e){var t=(0,l.setGeoJson)(e);this.name=t.name,this.polygonHierarchy={positions:t.position}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"],t.defaluts.allowPicking),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"],t.defaluts.show),new l.JsonProperty("材质","A Property specifying the material.",!0,!1,[this,"material"],t.defaluts.material,l.CzmMaterialJsonTypeMd),new l.JsonProperty("位置数组","经度纬度高度，度为单位",!0,!1,[this,"polygonHierarchy"],t.defaluts.polygonHierarchy,t.polygonHierarchyMd),new l.NumberProperty("纹理旋转角度","纹理旋转角度.",!0,!1,[this,"stRotation"],t.defaluts.stRotation),new l.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return r.geoJsonStr}),(function(e){return e&&(r.geoJsonStr=e)}))])],!1)},n=t,t.type=n.register("CzmCoplanarPolygonPrimitive",n,{chsName:"共面多边形",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API 实现的多边形。"}),t.defaluts={allowPicking:!1,show:!0,polygonHierarchy:{positions:[]},stRotation:0,material:{type:"Color",color:[1,1,1,.5]}},t.polygonHierarchyMd='\n类型说明：\n```javascript\n\ntype PolygonHierarchyType = {\n    positions: [number, number, number][],\n    holes?: PolygonHierarchyType[],\n}\n\n```\n\npolygonHierarchy是一个内部包含三个元素的数组，表示经纬度高度。示例代码如下：\n```\n\n{\n    "positions": [\n        [\n            93.19429118627504,\n            61.48556372186203,\n            12824.544175304914\n        ],\n        [\n            71.62096868744942,\n            47.45924012009615,\n            0.7280036300965961\n        ],\n        [\n            88.38946536737586,\n            37.829583176316866,\n            0.3838874167831524\n        ],\n        [\n            107.9427992944273,\n            38.334598753898184,\n            -0.7953822805248424\n        ],\n        [\n            127.5326036793715,\n            48.94155332924799,\n            1024.1092355217022\n        ]\n    ]\n}\n\n```\n',t}(c.ESSceneObject);t.CzmCoplanarPolygonPrimitive=p,function(e){e.createDefaultProps=function(){return i({show:void 0,allowPicking:void 0,polygonHierarchy:(0,u.reactJsonWithUndefined)(void 0),stRotation:void 0,material:(0,u.reactJsonWithUndefined)(void 0)},c.ESSceneObject.createDefaultProps())}}(p=t.CzmCoplanarPolygonPrimitive||(t.CzmCoplanarPolygonPrimitive={})),t.CzmCoplanarPolygonPrimitive=p,(0,u.extendClassProps)(p.prototype,p.createDefaultProps)},54262:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCursorInfo=void 0;var l=n(43938),u=n(19239),c=n(43938),p=n(43938),f=function(e){function t(t){return e.call(this,t)||this}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmCursorInfo"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){return(0,c.getGeoJson)("Point",this.cursorPosition,this.name)},set:function(e){var t=(0,c.setGeoJson)(e);this.name=t.name,this.cursorPosition=t.position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("是否可用","是否可用",!0,!1,[this,"enabled"],t.defaults.enabled),new l.Number3Property("光标三维位置","光标三维位置",!0,!0,[this,"cursorPosition"]),new l.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return r.geoJsonStr}),(function(e){return e&&(r.geoJsonStr=e)}))])],!1)},n=t,t.type=n.register("CzmCursorInfo",n,{chsName:"Czm光标信息",tags:["CzmObjects","_ES_Impl_Cesium"],description:"Czm光标信息"}),t.defaults=i(i({},p.ESSceneObject.defaults),{enabled:!0}),t}(p.ESSceneObject);t.CzmCursorInfo=f,function(e){e.createDefaultProps=function(){return i({enabled:void 0,cursorPosition:void 0},p.ESSceneObject.createDefaultProps())}}(f=t.CzmCursorInfo||(t.CzmCursorInfo={})),t.CzmCursorInfo=f,(0,u.extendClassProps)(f.prototype,f.createDefaultProps)},66008:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCustomGroundRectangle=void 0;var l=n(43938),u=n(19239),c=n(10070),p=function(e){function t(n){var r=e.call(this,n)||this;r._pickedEvent=r.disposeVar(new u.Event),r._flyToEvent=r.disposeVar(new u.Event),r._sharedCzmTextureWithId=r.disposeVar(new c.SceneObjectWithId),r.__sharedCzmTextureWithIdTrack=r.dispose((0,u.track)([r.sharedCzmTextureWithId,"id"],[r,"czmTextureId"])),r._positions=r.disposeVar((0,u.reactPositions)(void 0)),r._sPositionsEditing=r.disposeVar(new l.PositionsEditing([r,"positions"],!1,[r,"editing"],r.components,2)),r._pointEditor=r.disposeVar(new l.PointEditing([r,"positions"],[r,"pointEditing"],r.components));var o=!1,i=function(){if(o){var e;do{var t=r.positions;if(!t)break;if(t.length<2)break;e=[Math.min(t[0][0],t[1][0]),Math.min(t[0][1],t[1][1]),Math.max(t[0][0],t[1][0]),Math.max(t[0][1],t[1][1])]}while(0);r.rectangle=e}},a=function(){var e,n,a;(null!==(e=r.editing)&&void 0!==e?e:t.defaults.editing)||(null!==(n=r.pointEditing)&&void 0!==n?n:t.defaults.pointEditing)?(a=r.rectangle,r.positions=a?[[a[0],a[1],0],[a[2],a[3],0]]:void 0,o=!0,i()):(i(),o=!1,r.positions=void 0)};return r.dispose(r.editingChanged.disposableOn(a,void 0,!0)),r.dispose(r.pointEditingChanged.disposableOn(a,void 0,!0)),r.dispose(r.positionsChanged.disposableOn(i)),r.dispose((function(){return r.editing=!1})),r.dispose((function(){return r.pointEditing=!1})),r}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmCustomGroundRectangle"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"sharedCzmTextureWithId",{get:function(){return this._sharedCzmTextureWithId},enumerable:!1,configurable:!0}),t.prototype.getCurrentCzmTexture=function(){return this._sharedCzmTextureWithId.sceneObject},Object.defineProperty(t.prototype,"positions",{get:function(){return this._positions.value},set:function(e){this._positions.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"positionsChanged",{get:function(){return this._positions.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sPositionsEditing",{get:function(){return this._sPositionsEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pointEditor",{get:function(){return this._pointEditor},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("显示","显示",!0,!1,[this,"show"]),new l.BooleanProperty("允许拾取","允许拾取",!0,!1,[this,"allowPicking"]),new l.BooleanProperty("编辑","编辑.",!0,!1,[this,"editing"],t.defaults.editing),new l.BooleanProperty("单点编辑","单点编辑.",!0,!1,[this,"pointEditing"],t.defaults.pointEditing),new l.Number4Property("rectangle","rectangle",!0,!1,[this,"rectangle"],t.defaults.rectangle),new l.NumberProperty("rotation","rotation",!1,!1,[this,"rotation"]),new l.NumberProperty("stRotation","stRotation",!1,!1,[this,"stRotation"]),new l.ColorProperty("颜色","颜色",!0,!1,[this,"color"],t.defaults.color),new l.EnumProperty("classificationType","classificationType",!0,!1,[this,"classificationType"],[["Terrain","Terrain"],["Cesium3dTile","Cesium3dTile"],["Both","Both"]],t.defaults.classificationType)]),new l.GroupProperty("czmTexture","czmTexture",[new l.StringProperty("czmTextureId","czmTextureId",!0,!1,[this,"czmTextureId"],t.defaults.czmTextureId)])],!1)},n=t,t.type=n.register("CzmCustomGroundRectangle",n,{chsName:"Cesium自定义贴地矩形",tags:["CzmObjects","_ES_Impl_Cesium"],description:"Cesium自定义贴地矩形"}),t.defaults=i(i({},l.ESSceneObject.defaults),{show:!0,allowPicking:!1,editing:!1,pointEditing:!1,positions:[],rectangle:[119.39,39.9,120.39,40.9],color:[1,1,1,1],classificationType:"Both",czmTextureId:""}),t}(l.ESSceneObject);t.CzmCustomGroundRectangle=p,function(e){e.createDefaultProps=function(){return i({show:void 0,allowPicking:void 0,editing:void 0,pointEditing:void 0,rectangle:(0,u.reactArrayWithUndefined)(void 0),rotation:0,stRotation:0,color:(0,u.reactArrayWithUndefined)(void 0),classificationType:void 0,czmTextureId:void 0},l.ESSceneObject.createDefaultProps())}}(p=t.CzmCustomGroundRectangle||(t.CzmCustomGroundRectangle={})),t.CzmCustomGroundRectangle=p,(0,u.extendClassProps)(p.prototype,p.createDefaultProps)},72665:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultIndexTypedArray=t.defaultAttribute=t.defaultUniformMap=t.defaultRenderState=t.defaultBoundingVolume=t.defaultFragmentShaderSource=t.defaultVertexShaderSource=void 0,t.defaultVertexShaderSource="in vec3 position;\nin vec3 normal;\nin vec2 st;\nout vec3 v_normalEC;\nout vec2 v_st;\nvoid main()\n{\n    // 如果这一句注释，要相应地注释掉attribute中的normal，也就是说顶点属性要和shader中的一一匹配！\n    v_normalEC = czm_normal * normal; \n    v_st = st;\n    gl_Position = czm_modelViewProjection * vec4(position, 1.0);\n}\n",t.defaultFragmentShaderSource="in vec2 v_st;\nuniform sampler2D u_image;\nuniform vec4 u_color;\nvoid main()\n{\n    vec4 imageColor = texture(u_image, v_st);\n    out_FragColor = imageColor * u_color;\n}\n",t.defaultBoundingVolume={type:"LocalAxisedBoundingBox",data:{min:[0,-1,0],max:[1,0,0]}},t.defaultRenderState={depthTest:{enabled:!0},cull:{enabled:!0,face:1029},depthMask:!1,blending:{enabled:!0,equationRgb:32774,equationAlpha:32774,functionSourceRgb:770,functionSourceAlpha:1,functionDestinationRgb:771,functionDestinationAlpha:771}},t.defaultUniformMap={u_image:{type:"image",uri:""},u_color:[1,1,0,1]},t.defaultAttribute={position:{typedArray:new Float32Array([0,0,0,0,-1,0,1,-1,0,0,0,0,1,-1,0,1,0,0]),componentsPerAttribute:3},normal:{typedArray:new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1]),componentsPerAttribute:3},textureCoordinates:{typedArray:new Float32Array([0,1,0,0,1,0,0,1,1,0,1,1]),componentsPerAttribute:2}},t.defaultIndexTypedArray=new Uint16Array([0,1,2,3,4,5])},14460:function(e,t){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.indexJsonToIndex=t.indexToIndexJson=t.attributesJsonToAttributes=t.attributesToAttributesJson=void 0,t.attributesToAttributesJson=function(e){var t,i,a={};try{for(var s=n(Object.keys(e)),l=s.next();!l.done;l=s.next()){var u=l.value,c=e[u],p=c.typedArray,f=c.componentsPerAttribute,d=c.usage,h=c.normalize;a[u]={typedArray:{type:p.constructor.name,array:o([],r(p.values()),!1)},componentsPerAttribute:f,usage:d,normalize:h}}}catch(e){t={error:e}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(t)throw t.error}}return a},t.attributesJsonToAttributes=function(e){var t,r,o={};try{for(var i=n(Object.keys(e)),a=i.next();!a.done;a=i.next()){var s=a.value,l=e[s],u=l.typedArray,c=u.type,p=u.array,f=l.componentsPerAttribute,d=l.usage,h=l.normalize;o[s]={typedArray:new global[c](p),componentsPerAttribute:f,usage:d,normalize:h}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return o},t.indexToIndexJson=function(e){return{type:e.constructor.name,array:o([],r(e.values()),!1)}},t.indexJsonToIndex=function(e){var t=e.type,n=e.array;return new global[t](n)}},531:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCustomPrimitive=void 0;var l=n(43938),u=n(43938),c=n(19239),p=n(72665),f=n(14460),d=n(49983),h=n(48381),y=function(e){function t(t){var n=e.call(this,t)||this;return n._attributes=n.disposeVar((0,c.react)(void 0)),n._indexTypedArray=n.disposeVar((0,c.react)(void 0)),n._pickedEvent=n.disposeVar(new c.Event),n._flyToEvent=n.disposeVar(new c.Event),n._sPositionEditing=n.disposeVar(new l.PositionEditing([n,"position"],[n,"positionEditing"],n.components)),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmCustomPrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){var e=this._innerGetJson();return e.attributes=this.attributesJson,e.indexTypedArray=this.indexTypedArrayJson,e},set:function(e){this._innerSetJson(e),this.attributesJson=e.attributes,this.indexTypedArrayJson=e.indexTypedArray},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributesJson",{get:function(){return this.attributes&&(0,f.attributesToAttributesJson)(this.attributes)},set:function(e){JSON.stringify(this.attributesJson)!==JSON.stringify(e)&&(this.attributes=e&&(0,f.attributesJsonToAttributes)(e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributesJsonChanged",{get:function(){return this.attributesChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"indexTypedArrayJson",{get:function(){return this.indexTypedArray&&(0,f.indexToIndexJson)(this.indexTypedArray)},set:function(e){JSON.stringify(this.indexTypedArrayJson)!==JSON.stringify(e)&&(this.indexTypedArray=e&&(0,f.indexJsonToIndex)(e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"indexTypedArrayJsonChanged",{get:function(){return this.indexTypedArrayChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){return(0,l.getGeoJson)("Point",this.position,this.name)},set:function(e){var t=(0,l.setGeoJson)(e);this.name=t.name,this.position=t.position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){return this._attributes.value},set:function(e){this._attributes.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributesChanged",{get:function(){return this._attributes.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"indexTypedArray",{get:function(){return this._indexTypedArray.value},set:function(e){this._indexTypedArray.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"indexTypedArrayChanged",{get:function(){return this._indexTypedArray.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"sPositionEditing",{get:function(){return this._sPositionEditing},enumerable:!1,configurable:!0}),t.prototype.setUniformMap=function(e){var t;if(!Object.entries(e).some((function(e){var t=a(e,2),n=t[0],r=t[1];return console.warn("setUniformMap error: key: ".concat(n," value: ").concat(r)),null===r}))){var n=i(i({},null!==(t=this.uniformMap)&&void 0!==t?t:{}),e);this.uniformMap=n}},t.prototype.setLocalBoundingSphere=function(e,t){void 0===t&&(t=[0,0,0]),!Number.isFinite(e)||e<=0?console.warn("!Number.isFinite(radius) || radius <= 0 radius: ".concat(e)):this.boundingVolume={type:"LocalBoundingSphere",data:{center:t,radius:e}}},t.prototype.setLocalAxisedBoundingBox=function(e,t){e.some((function(e){return!Number.isFinite(e)}))||t.some((function(e){return!Number.isFinite(e)}))?console.warn("setLocalAxisedBoundingBox error, min: ".concat(e.toString(),", max: ").concat(t.toString())):this.boundingVolume={type:"LocalAxisedBoundingBox",data:{min:e,max:t}}},t.prototype.computeLocalAxisedBoundingBoxFromAttribute=function(e){if(void 0===e&&(e="a_position"),this.attributes&&this.attributes[e]){var n=this.attributes[e];if("typedArray"in n&&n.typedArray instanceof Float32Array)if("componentsPerAttribute"in n&&3===n.componentsPerAttribute){var r=t.getMinMaxPosition(n.typedArray),o=r.min,i=r.max;if(!o.some((function(e){return!Number.isFinite(e)||i.some((function(e){return!Number.isFinite(e)}))})))return{min:o,max:i}}else console.warn("!('componentsPerAttribute' in posAttribute) || posAttribute.componentsPerAttribute !== 3 attributeName: ".concat(e));else console.warn("!('typedArray' in posAttribute) || !(posAttribute.typedArray instanceof Float32Array) attributeName: ".concat(e))}else console.warn("attributes[".concat(e,"]不存在！无法获取！"))},t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new u.GroupProperty("通用","通用",[new u.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new u.BooleanProperty("是否显示","A boolean Property specifying the visibility of the box.",!0,!1,[this,"show"]),new u.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"]),new u.BooleanProperty("位置编辑","位置编辑",!0,!1,[this,"positionEditing"]),new u.BooleanProperty("姿态编辑","姿态编辑",!0,!1,[this,"rotationEditing"]),new u.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"],t.defaults.position),new u.RotationProperty("姿态","偏航俯仰翻转，度为单位",!0,!1,[this,"rotation"],t.defaults.rotation),new u.Number3Property("缩放","缩放",!0,!1,[this,"scale"],t.defaults.scale),new l.Number4Property("可视范围控制","可视范围控制[near0, near1, far1, far0]",!0,!1,[this,"viewDistanceRange"],t.defaults.viewDistanceRange),new u.BooleanProperty("可视距离调试","可视距离调试",!1,!1,[this,"viewDistanceDebug"])]),new u.GroupProperty("屏幕像素","屏幕像素",[new u.NumberProperty("最大缩放值","最大缩放值，需要和屏幕像素(pixelSize)配合适用！",!0,!1,[this,"maximumScale"],3),new u.NumberProperty("最小缩放值","最小缩放值，需要和屏幕像素(pixelSize)配合适用！",!0,!1,[this,"minimumScale"],1),new u.NumberProperty("屏幕像素","注意物体的实际屏幕像素=pixelSize*物体的物理尺寸(m)，例如：一个20米长的房子，pixelSize设置为5，那么它在屏幕上的实际像素尺寸就是5*20=100px。根据物体在屏幕上的像素大小来决定缩放值，缩放值受maximumScale、minimumScale属性限制",!0,!1,[this,"pixelSize"],5),new u.BooleanProperty("显示缩放值","每个视口都显示各自的缩放值",!0,!1,[this,"showSceneScale"],!1)]),new u.GroupProperty("图元属性","图元属性",[new u.JsonProperty("模型矩阵","模型矩阵",!0,!1,[this,"modelMatrix"],t.defaults.modelMatrix),new u.BooleanProperty("是否拣选","是否拣选",!0,!1,[this,"cull"]),new u.JsonProperty("包围体","用来进行拣选，以剔除不再视野范围内的模型",!0,!1,[this,"boundingVolume"],p.defaultBoundingVolume,d.boundingVolumeReadMe),new u.EnumProperty("渲染顺序","渲染顺序",!0,!1,[this,"pass"],h.passEnums,"TRANSLUCENT"),new u.EnumProperty("图元类型","图元类型",!0,!1,[this,"primitiveType"],h.primitiveTypeEnums,"TRIANGLES"),new u.JsonProperty("渲染状态","渲染状态",!0,!1,[this,"renderState"],p.defaultRenderState,d.renderStateReadMe),new u.EvalStringProperty("顶点着色器","顶点着色器",!0,!1,[this,"vertexShaderSource"],p.defaultVertexShaderSource,d.vertexShaderSourceReadMe),new u.EvalStringProperty("片元着色器","片元着色器",!0,!1,[this,"fragmentShaderSource"],p.defaultFragmentShaderSource,d.fragmentShaderSourceReadMe),new u.JsonProperty("一致性变量(uniform)","一致性变量(uniform)",!0,!1,[this,"uniformMap"],p.defaultUniformMap,d.uniformMapReadMe),new u.JsonProperty("顶点属性(attributes)","顶点属性(attributes)",!0,!1,[this,"attributesJson"],(0,f.attributesToAttributesJson)(p.defaultAttribute),d.attributesReadMe),new u.JsonProperty("索引(index)","索引(index)",!0,!1,[this,"indexTypedArrayJson"],(0,f.indexToIndexJson)(p.defaultIndexTypedArray),d.indexTypeArrayReadMe),new u.NumberProperty("count","count",!0,!1,[this,"count"],0),new u.NumberProperty("offset","offset",!0,!1,[this,"offset"],0),new u.NumberProperty("instanceCount","instanceCount",!0,!1,[this,"instanceCount"],0),new u.FunctionProperty("自动计算包围盒","根据顶点位置属性，自动计算包围盒",["string"],(function(e){var t=r.computeLocalAxisedBoundingBoxFromAttribute(e);if(t){var n=t.min,o=t.max;r.setLocalAxisedBoundingBox(n,o)}}),["position"])]),new u.GroupProperty("本地变换","本地变换",[new u.PositionProperty("本地偏移","本地偏移，不是经纬度！",!0,!1,[this,"localPosition"]),new u.RotationProperty("本地姿态","本地姿态",!0,!1,[this,"localRotation"]),new u.Number3Property("本地缩放","本地缩放",!0,!1,[this,"localScale"],[1,1,1]),new u.JsonProperty("本地模型矩阵","本地模型矩阵，如果该属性有值，那么localPosition、localRotation、localScale等属性将不起作用。",!0,!1,[this,"localModelMatrix"])]),new u.GroupProperty("调试","调试",[new u.BooleanProperty("debugShowBoundingVolume","debugShowBoundingVolume",!0,!1,[this,"debugShowBoundingVolume"],!1),new u.NumberProperty("debugOverlappingFrustums","debugOverlappingFrustums",!0,!1,[this,"debugOverlappingFrustums"],0)]),new u.GroupProperty("Czm特有","Czm特有",[new u.BooleanProperty("occlude","occlude",!0,!1,[this,"occlude"],!0),new u.BooleanProperty("castShadows","castShadows",!0,!1,[this,"castShadows"],!1),new u.BooleanProperty("receiveShadows","receiveShadows",!0,!1,[this,"receiveShadows"],!1),new u.BooleanProperty("executeInClosestFrustum","executeInClosestFrustum",!0,!1,[this,"executeInClosestFrustum"],!1),new u.BooleanProperty("pickOnly","pickOnly",!0,!1,[this,"pickOnly"],!1),new u.BooleanProperty("depthForTranslucentClassification","depthForTranslucentClassification",!0,!1,[this,"depthForTranslucentClassification"],!1)])],!1)},n=t,t.type=n.register("CzmCustomPrimitive",n,{chsName:"自定义图元",tags:["CzmObjects","_ES_Impl_Cesium"],description:"Cesium自定义图元"}),t.defaultRenderState=p.defaultRenderState,t.defaultVertexShaderSource=p.defaultVertexShaderSource,t.defaultFragmentShaderSource=p.defaultFragmentShaderSource,t.defaultUniformMap=p.defaultUniformMap,t.defaultBoundingVolume=p.defaultBoundingVolume,t.defaultAttribute=p.defaultAttribute,t.defaultIndexTypedArray=p.defaultIndexTypedArray,t.defaults=i(i({},u.ESSceneObject.defaults),{allowPicking:!1,positionEditing:!1,rotationEditing:!1,position:[116.39,39.9,0],rotation:[0,0,0],scale:[1,1,1],modelMatrix:[-.8957893500750183,-.4444788412198901,0,0,.28511078894078473,-.5746037485691958,.7671651518152995,0,-.3409886777031455,.68721837274483,.6414496315691579,0,-2177873.9967047274,4389222.053178148,4069473.6755001387,1],viewDistanceRange:[1e3,1e4,3e4,6e4]}),t.getMinMaxPosition=c.getMinMaxPosition,t}(u.ESSceneObject);t.CzmCustomPrimitive=y,function(e){e.createDefaultProps=function(){return i({show:void 0,allowPicking:void 0,positionEditing:void 0,rotationEditing:void 0,position:(0,c.reactArrayWithUndefined)(void 0),rotation:(0,c.reactArrayWithUndefined)(void 0),scale:(0,c.reactArrayWithUndefined)(void 0),maximumScale:void 0,minimumScale:void 0,pixelSize:void 0,showSceneScale:void 0,modelMatrix:(0,c.reactArrayWithUndefined)(void 0),cull:(0,c.react)(void 0),boundingVolume:(0,c.reactJson)(void 0),renderState:(0,c.reactJson)(void 0),primitiveType:void 0,pass:void 0,vertexShaderSource:void 0,fragmentShaderSource:void 0,uniformMap:(0,c.reactJson)(void 0),localPosition:(0,c.reactArrayWithUndefined)(void 0),localRotation:(0,c.reactArrayWithUndefined)(void 0),localScale:(0,c.reactArrayWithUndefined)(void 0),localModelMatrix:(0,c.reactArrayWithUndefined)(void 0),occlude:void 0,count:void 0,offset:void 0,instanceCount:void 0,castShadows:void 0,receiveShadows:void 0,executeInClosestFrustum:void 0,debugShowBoundingVolume:void 0,debugOverlappingFrustums:void 0,pickOnly:void 0,depthForTranslucentClassification:void 0,viewDistanceRange:(0,c.reactArrayWithUndefined)(void 0),viewDistanceDebug:!1},u.ESSceneObject.createDefaultProps())}}(y=t.CzmCustomPrimitive||(t.CzmCustomPrimitive={})),t.CzmCustomPrimitive=y,(0,c.extendClassProps)(y.prototype,y.createDefaultProps)},12002:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attributesReadMe=void 0,t.attributesReadMe="### 默认的顶点属性\n```\n{\n    position: {\n        typedArray: new Float32Array([0, 0, 0, 0, -1, 0, 1, -1, 0, 0, 0, 0, 1, -1, 0, 1, 0, 0]),\n        componentsPerAttribute: 3,\n    },\n    normal: {\n        typedArray: new Float32Array([0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1]),\n        componentsPerAttribute: 3,\n    },\n    textureCoordinates: {\n        typedArray: new Float32Array([0, 1, 0, 0, 1, 0, 0, 1, 1, 0, 1, 1]),\n        componentsPerAttribute: 2,\n    }\n}\n```\n\n### Attributes类型规格\n```\nexport type AttributeJsonType = {\n    typedArray: {\n        type: 'Float32Array' | 'Float64Array' | 'Int8Array' | 'Uint8Array' | 'Int16Array' | 'Uint16Array' | 'Int32Array' | 'Uint32Array';\n        array: number[];\n    };\n    componentsPerAttribute: 1 | 2 | 3 | 4;\n    usage?: Cesium.BufferUsage;\n    normalize?: boolean;\n}\n\nexport type AttributesJsonType = {\n    [k: string]: AttributeJsonType;\n}\n```\n"},79107:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boundingVolumeReadMe=void 0,t.boundingVolumeReadMe="### 默认的BoundingVolume\n```\ntype: 'LocalAxisedBoundingBox',\ndata: {\n    min: [0, -1, 0],\n    max: [1, 0, 0],\n}\n```\n\n### BoundingVolume类型规格\n```\nexport type BoundingVolumeJsonType = {\n    type: 'BoundingSphere'; // BoundingSphere表示世界坐标系下的包围球, center为[经度, 纬度, 高度], radius单位为米\n    data: { center: [number, number, number], radius: number };\n} | {\n    type: 'LocalBoundingSphere'; // LocalBoundingSphere表示本地坐标系下的包围球, center本地坐标系下的[x, y, z]，单位是米, radius单位为米\n    data: { center: [number, number, number], radius: number };\n} | {\n    type: 'BoundingRectangle'; // 指定地球上的矩形区域，分别用最西侧经度、最南侧纬度、最东侧经度、最北侧纬度来表示一个矩形范围\n    data: [west: number, south: number, east: number, north: number];\n} | {\n    type: 'LocalAxisedBoundingBox'; // 本地坐标系下，min为最小角点，max为最大角点，推荐使用此种方式！\n    data: {\n        min: [number, number, number];\n        max: [number, number, number];\n    };\n};\n```\n"},49983:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(1201),t),o(n(79107),t),o(n(21852),t),o(n(32610),t),o(n(12002),t),o(n(40563),t)},40563:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.indexTypeArrayReadMe=void 0,t.indexTypeArrayReadMe="### 默认的索引数组\n```\n{\n    \"type\": \"Uint16Array\",\n    \"array\": [0, 1, 2, 3, 4, 5]\n}\n```\n\n### 索引类型规格说明\n```\nexport type IndexJsonType = {\n    type: 'Uint8Array' | 'Uint16Array' | 'Uint32Array';\n    array: number[];\n}\n```\n"},1201:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderStateReadMe=void 0,t.renderStateReadMe="### 默认使用的渲染状态\n```\n{\n    depthTest: {\n        enabled: true,\n    },\n    cull: {\n        enabled: true,\n        face: 1029,\n    },\n    blending: {\n        enabled: true,\n        equationRgb: 0x8006,\n        equationAlpha: 0x8006,\n        functionSourceRgb: 0x0302,\n        functionSourceAlpha: 1,\n        functionDestinationRgb: 0x0303,\n        functionDestinationAlpha: 0x0303,\n    }\n};\n```\n\n### 所有状态值说明\n```\ninterface RenderStateOptions {\n    // 默认值：2305 可选值: 2304(CLOCKWISE顺时针), 2305(COUNTER_CLOCKWISE逆时针)\n    frontFace?: number, \n    cull?: {\n        enabled?: boolean, // false\n        // 默认值：1029 可选值：1028(FRONT), 1029(BACK), 1032(FRONT_AND_BACK)\n        face?: CullFace, // CullFace.BACK\n    },\n    lineWidth?: number, // 1 windows系统只能是，显卡驱动原因，设置其他数值不起作用！\n    polygonOffset?: {\n        enabled?: boolean, // false\n        factor?: number, // 0,\n        units?: number, // 0\n    },\n    scissorTest?: {\n        enabled?: boolean, // false,\n        rectangle?: {\n            x?: number, // 0,\n            y?: number, // 0,\n            width?: number, // 0,\n            height?: number, // 0\n        }\n    },\n    depthRange?: {\n        near?: number, // 0,\n        far?: number, // 1\n    },\n    depthTest?: {\n        enabled?: boolean; // false,\n        // 默认值:513 可选值：512(NEVER), 513(LESS), 514(EQUAL), 515(LESS_OR_EQUAL), \n        //   516(GREATER), 517(NOT_EQUAL), 518(GREATER_OR_EQUAL), 519(ALWAYS)\n        func?: number; \n    },\n    colorMask?: {\n        red?: boolean, // true,\n        green?: boolean, // true,\n        blue?: boolean, // true,\n        alpha?: boolean, // true\n    },\n    depthMask?: boolean, // true,\n    stencilMask?: number, // ~0\n    blending?: {\n        enabled?: boolean, // false,\n        color?: {\n            red?: number, // 0.0,\n            green?: number, // 0.0,\n            blue?: number, // 0.0,\n            alpha?: number, // 0.0\n        },\n        // 默认值：32774, 可选值：32774(ADD), 32778(SUBTRACT), 32779(REVERSE_SUBTRACT), 32775(MIN), MIN(MAX)\n        equationRgb?: BlendEquation, // BlendEquation.ADD,\n        // 默认值：32774, 可选值：32774(ADD), 32778(SUBTRACT), 32779(REVERSE_SUBTRACT), 32775(MIN), MIN(MAX)\n        equationAlpha?: BlendEquation, // BlendEquation.ADD,\n        // BlendFunction类型可选值：0(ZERO), 1(ONE), 768(SOURCE_COLOR), 769(ONE_MINUS_SOURCE_COLOR),\n        //   774(DESTINATION_COLOR), 775(ONE_MINUS_DESTINATION_COLOR), 770(SOURCE_ALPHA),\n        //   771(ONE_MINUS_SOURCE_ALPHA), 772(DESTINATION_ALPHA), 773(ONE_MINUS_DESTINATION_ALPHA),\n        //   32769(CONSTANT_COLOR), 32770(ONE_MINUS_CONSTANT_COLOR), 32771(CONSTANT_ALPHA),\n        //   32772(ONE_MINUS_CONSTANT_ALPHA), 776(SOURCE_ALPHA_SATURATE)\n        // 默认值：1, 可选值参见上方BlendFunction类型可选值\n        functionSourceRgb?: BlendFunction, // BlendFunction.ONE,\n        // 默认值：1, 可选值参见上方BlendFunction类型可选值\n        functionSourceAlpha?: BlendFunction, // BlendFunction.ONE,\n        // 默认值：0, 可选值参见上方BlendFunction类型可选值\n        functionDestinationRgb?: BlendFunction, // BlendFunction.ZERO,\n        // 默认值：0, 可选值参见上方BlendFunction类型可选值\n        functionDestinationAlpha?: BlendFunction, // BlendFunction.ZERO\n    },\n    stencilTest?: {\n        enabled?: boolean, // false,\n        // StencilFunction类型可选值：512(NEVER), 513(LESS), 514(EQUAL), 515(LESS_OR_EQUAL),\n        //   516(GREATER), 517(NOT_EQUAL), 518(GREATER_OR_EQUAL), 519(ALWAYS)\n        // 默认值 519, 可选值参见StencilFunction类型可选值\n        frontFunction?: StencilFunction, // StencilFunction.ALWAYS,\n        // 默认值 519, 可选值参见StencilFunction类型可选值\n        backFunction?: StencilFunction, // StencilFunction.ALWAYS,\n        reference?: number; // 0,\n        mask?: number; // ~0,\n        // StencilOperation类型可选值：0(ZERO), 7680(KEEP), 7681(REPLACE), 7682(INCREMENT),\n        //   7683(DECREMENT), 5386(INVERT), 34055(INCREMENT_WRAP), 34056(DECREMENT_WRAP)\n        frontOperation?: {\n            // 默认值：7680，可选值参见上方StencilOperation类型可选值\n            fail?: StencilOperation, // StencilOperation.KEEP,\n            // 默认值：7680，可选值参见上方StencilOperation类型可选值\n            zFail?: StencilOperation, // StencilOperation.KEEP,\n            // 默认值：7680，可选值参见上方StencilOperation类型可选值\n            zPass?: StencilOperation, // StencilOperation.KEEP\n        },\n        backOperation?: {\n            // 默认值：7680，可选值参见上方StencilOperation类型可选值\n            fail?: StencilOperation, // StencilOperation.KEEP,\n            // 默认值：7680，可选值参见上方StencilOperation类型可选值\n            zFail?: StencilOperation, // StencilOperation.KEEP,\n            // 默认值：7680，可选值参见上方StencilOperation类型可选值\n            zPass?: StencilOperation, // StencilOperation.KEEP\n        }\n    },\n    sampleCoverage?: {\n        enabled?: boolean, // false,\n        value?: number, // 1.0,\n        invert?: boolean, // false\n    }\n}\n```\n"},21852:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fragmentShaderSourceReadMe=t.vertexShaderSourceReadMe=void 0,t.vertexShaderSourceReadMe="### 默认顶点Shader示例\n```\nin vec3 position;\nin vec3 normal;\nin vec2 st;\nout vec3 v_normalEC;\nout vec2 v_st;\nvoid main()\n{\n    // 如果这一句注释，要相应地注释掉attribute中的normal，也就是说顶点属性要和shader中的一一匹配！\n    v_normalEC = czm_normal * normal; \n    v_st = st;\n    gl_Position = czm_modelViewProjection * vec4(position, 1.0);\n}\n```\n\n### 相对完整的顶点Shader\n```\n// vtxf 使用double类型的position进行计算\n// in vec3 position3DHigh;\n// in vec3 position3DLow;\nin vec3 position;\nin vec3 normal;\nin vec2 st;\nin float batchId;\nout vec3 v_positionEC;\nout vec3 v_normalEC;\nout vec2 v_st;\nvoid main()\n{\n    // vtxf 使用double类型的position进行计算\n    // vec4 p = czm_translateRelativeToEye(position3DHigh, position3DLow);\n    // v_positionEC = (czm_modelViewRelativeToEye * p).xyz;      // position in eye coordinates\n    // v_normalEC = czm_normal * normal;                         // normal in eye coordinates\n    // v_st = st;\n    // gl_Position = czm_modelViewProjectionRelativeToEye * p;\n    v_positionEC = (czm_modelView * vec4(position, 1.0)).xyz;       // position in eye coordinates\n    v_normalEC = czm_normal * normal;                               // normal in eye coordinates\n    v_st = st;\n    gl_Position = czm_modelViewProjection * vec4(position, 1.0);\n}\n```\n",t.fragmentShaderSourceReadMe="### 默认片元Shader示例\n```\nin vec2 v_st;\nuniform sampler2D u_image;\nuniform vec4 u_color;\nvoid main()\n{\n    vec4 imageColor = texture(u_image, v_st);\n    out_FragColor = imageColor * u_color;\n}\n```\n\n### xe2VisibleAlpha使用示例\nxe2VisibleAlpha是根据视距范围自动计算出来的alpha值，用来设置透明，产生渐显的效果。\n``` \nin vec2 v_st;\nuniform sampler2D u_image;\nuniform vec4 u_color;\nuniform float u_xe2VisibleAlpha;\nvoid main()\n{\n    vec4 imageColor = texture(u_image, v_st);\n    out_FragColor = imageColor * u_color * vec4(1., 1., 1., u_xe2VisibleAlpha);\n}\n```\n\n### 相对完整的片元Shader示例\n```\nin vec3 v_positionEC;\nin vec3 v_normalEC;\nin vec2 v_st;\nuniform sampler2D myImage;\nvoid main()\n{\n    vec3 positionToEyeEC = -v_positionEC;\n    vec3 normalEC = normalize(v_normalEC);\n#ifdef FACE_FORWARD\n    normalEC = faceforward(normalEC, vec3(0.0, 0.0, 1.0), -normalEC);\n#endif\n    czm_materialInput materialInput;\n    materialInput.normalEC = normalEC;\n    materialInput.positionToEyeEC = positionToEyeEC;\n    materialInput.st = v_st;\n    //czm_material material = czm_getMaterial(materialInput);\n    czm_material material = czm_getDefaultMaterial(materialInput);\n    vec4 imageColor = texture(myImage, materialInput.st);\n    material.diffuse = imageColor.rgb;\n    material.alpha = imageColor.a;\n// #ifdef FLAT\n    out_FragColor = vec4(material.diffuse + material.emission, material.alpha);\n// #else\n    // out_FragColor = czm_phong(normalize(positionToEyeEC), material, czm_lightDirectionEC);\n// #endif\n}\n```\n"},32610:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uniformMapReadMe=void 0,t.uniformMapReadMe='### 默认使用的UniformMap\n```\n{\n    "myImage": { \n        "type": "image", \n        "uri": "${scene-manager-script-dir}/xe2-assets/scene-manager/images/location.png"\n    }\n}\n```\n\n### 示例1\n```\n{\n    "myImage": { \n        "type": "image", \n        "uri": "${scene-manager-script-dir}/xe2-assets/scene-manager/images/location.png"\n    },\n    "ratio": 0.5,\n}\n```\n\n### 示例2\n```\n{\n    "u_image": {\n        "type": "texture",\n        "id": "3010d3bd-cbf8-46cd-939f-c0b39b926255"\n    },\n    "ratio": 0.5,\n}\n\n```\n\n### 示例3\n```\n{\n    "ratioAndStart": [0.5, 0.7],\n}\n```\n\n### UniformMap类型规格\n```\nexport type CzmCustomPrimitiveUniformType = number | [number, number] | [number, number, number] | [number, number, number, number] | { type: \'image\', uri: string };\nexport type CzmCustomPrimitiveUniformMapType = { [k: string]: CzmCustomPrimitiveUniformType };\n```\n'},48381:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.passEnums=t.primitiveTypeEnums=void 0,t.primitiveTypeEnums=[["POINTS","POINTS"],["LINES","LINES"],["LINE_LOOP","LINE_LOOP"],["LINE_STRIP","LINE_STRIP"],["TRIANGLES","TRIANGLES"],["TRIANGLE_STRIP","TRIANGLE_STRIP"],["TRIANGLE_FAN","TRIANGLE_FAN"]],t.passEnums=[["ENVIRONMENT","ENVIRONMENT"],["COMPUTE","COMPUTE"],["GLOBE","GLOBE"],["TERRAIN_CLASSIFICATION","TERRAIN_CLASSIFICATION"],["CESIUM_3D_TILE","CESIUM_3D_TILE"],["CESIUM_3D_TILE_CLASSIFICATION","CESIUM_3D_TILE_CLASSIFICATION"],["CESIUM_3D_TILE_CLASSIFICATION_IGNORE_SHOW","CESIUM_3D_TILE_CLASSIFICATION_IGNORE_SHOW"],["OPAQUE","OPAQUE"],["TRANSLUCENT","TRANSLUCENT"],["OVERLAY","OVERLAY"],["NUMBER_OF_PASSES","NUMBER_OF_PASSES"]]},54986:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCylinderEntity=void 0;var l=n(43938),u=n(19239),c=n(43938),p=n(43938),f=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new u.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmCylinderEntity"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){return(0,c.getGeoJson)("Point",this.position,this.name)},set:function(e){var t=(0,c.setGeoJson)(e);this.name=t.name,this.position=t.position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!1,!1,[this,"show"],t.defaults.show),new l.NumberProperty("圆柱体长度","圆柱体长度",!0,!1,[this,"length"],t.defaults.length),new l.NumberProperty("顶部半径","顶部半径",!0,!1,[this,"topRadius"],t.defaults.topRadius),new l.NumberProperty("底部半径","底部半径",!0,!1,[this,"bottomRadius"],t.defaults.bottomRadius),new l.EnumProperty("高度参考","高度参考",!0,!1,[this,"heightReference"],[["无","NONE"],["贴地","CLAMP_TO_GROUND"],["相对地面","RELATIVE_TO_GROUND"]],t.defaults.heightReference),new l.BooleanProperty("是否填充","是否填充.",!0,!1,[this,"fill"],t.defaults.fill),new l.ColorProperty("材质","A Property specifying the material.",!0,!1,[this,"material"],t.defaults.material),new l.BooleanProperty("是否显示轮廓线","是否显示轮廓线.",!0,!1,[this,"outline"],t.defaults.outline),new l.ColorProperty("轮廓线颜色"," A Property specifying the color.",!0,!1,[this,"outlineColor"],t.defaults.outlineColor),new l.NumberProperty("线宽","线宽",!0,!1,[this,"outlineWidth"],t.defaults.outlineWidth),new l.NumberProperty("垂直线条数","垂直线条数",!0,!1,[this,"numberOfVerticalLines"],t.defaults.numberOfVerticalLines),new l.NumberProperty("slices","slices",!0,!1,[this,"slices"],t.defaults.slices),new l.EnumProperty("阴影类型","阴影类型",!0,!1,[this,"shadows"],[["禁用","DISABLED"],["启用","ENABLED"],["仅投射","CAST_ONLY"],["仅接收","RECEIVE_ONLY"]],t.defaults.shadows),new l.MinmaxProperty("距离限制","距离限制",!0,!1,[this,"distanceDisplayCondition"],t.defaults.distanceDisplayCondition),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"],t.defaults.position),new l.RotationProperty("姿态","姿态",!1,!1,[this,"rotation"],t.defaults.rotation),new l.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return r.geoJsonStr}),(function(e){return e&&(r.geoJsonStr=e)}))])],!1)},n=t,t.type=n.register("CzmCylinderEntity",n,{chsName:"圆柱",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Entity API实现的圆柱。"}),t.defaults=i(i({},p.ESSceneObject.defaults),{show:!0,length:0,topRadius:0,bottomRadius:0,heightReference:"NONE",fill:!0,material:[1,1,1,1],outline:!0,outlineColor:[1,1,1,1],outlineWidth:0,numberOfVerticalLines:0,slices:128,shadows:"ENABLED",distanceDisplayCondition:[0,17976931348623157e292],position:[0,0,0],rotation:[0,0,0]}),t}(p.ESSceneObject);t.CzmCylinderEntity=f,function(e){e.createDefaultProps=function(){return i({show:!0,length:void 0,topRadius:void 0,bottomRadius:void 0,heightReference:"NONE",fill:void 0,material:(0,u.reactArrayWithUndefined)(void 0),outline:void 0,outlineColor:(0,u.reactArrayWithUndefined)(void 0),outlineWidth:void 0,numberOfVerticalLines:void 0,slices:void 0,shadows:void 0,distanceDisplayCondition:void 0,position:(0,u.reactArrayWithUndefined)(void 0),rotation:[0,0,0]},p.ESSceneObject.createDefaultProps())}}(f=t.CzmCylinderEntity||(t.CzmCylinderEntity={})),t.CzmCylinderEntity=f,(0,u.extendClassProps)(f.prototype,f.createDefaultProps)},46661:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCzml=void 0;var l=n(43938),u=n(19239),c=n(29699),p=[{id:"document",version:"1.0"},{id:"Vehicle",availability:"2012-08-04T16:00:00Z/2012-08-04T16:14:15.251Z",billboard:{eyeOffset:{cartesian:[0,0,0]},horizontalOrigin:"CENTER",image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAEISURBVEhLvVXBDYQwDOuojHKj8LhBbpTbpBCEkZsmIVTXq1RVQGrHiWlLmTTqPiZBlyLgy/KSZQ5JSHDQ/mCYCsC8106kDU0AdwRnvYZArWRcAl0dcYJq1hWCb3hBrumbDAVMwAC82WoRvgMnVMDBnB0nYZFTbE6BBvdUGqVqCbjBIk3PyFFR/NU7EKzru+qZsau3ryPwwCRLKYOzutZuCL6fUmWeJGzNzL/RxAMrUmASSCkkAayk2IxPlwhAAYGpsiHQjbLccfdOY5gKkCXAMi7SscAwbQpAnKyctWyUZ6z8ja3OGMepwD8asz+9FnSvbhU8uVOHFIwQsI3/p0CfhuqCSQuxLqsN6mu8SS+N42MAAAAASUVORK5CYII=",pixelOffset:{cartesian2:[0,0]},scale:.8333333333333334,show:[{interval:"2012-08-04T16:00:00Z/2012-08-04T18:00:00Z",boolean:!0}],verticalOrigin:"BOTTOM"},label:{fillColor:[{interval:"2012-08-04T16:00:00Z/2012-08-04T18:00:00Z",rgba:[255,255,0,255]}],font:"bold 10pt Segoe UI Semibold",horizontalOrigin:"LEFT",outlineColor:{rgba:[0,0,0,255]},pixelOffset:{cartesian2:[10,0]},scale:1,show:[{interval:"2012-08-04T16:00:00Z/2012-08-04T18:00:00Z",boolean:!0}],style:"FILL",text:"Vehicle",verticalOrigin:"CENTER"},path:{material:{solidColor:{color:{interval:"2012-08-04T16:00:00Z/2012-08-04T18:00:00Z",rgba:[255,255,0,255]}}},width:[{interval:"2012-08-04T16:00:00Z/2012-08-04T18:00:00Z",number:5}],show:[{interval:"2012-08-04T16:00:00Z/2012-08-04T18:00:00Z",boolean:!0}]},position:{interpolationAlgorithm:"LAGRANGE",interpolationDegree:1,epoch:"2012-08-04T16:00:00Z",cartesian:[0,-2379754.6637012,-4665332.88013588,3628133.68924173,100,-2379510.08905552,-4665419.64840452,3628182.20006795,200,-2379568.4769522,-4665555.3441867,3627970.83323261,300,-2379638.93786855,-4665691.63561896,3627750.82085873,400,-2379709.29834665,-4665827.9679646,3627530.80187124,500,-2379837.28064915,-4665847.7494347,3627422.12874017,600,-2379624.98289073,-4665907.50853722,3627484.1191848,700,-2379386.12743523,-4666029.54174431,3627483.83297459,800,-2379147.26777171,-4666151.56669944,3627483.5403492,900,-2378908.40390057,-4666273.58340244,3627483.24130864,1e3]}}],f="(dataSource) => {\n    var entities = dataSource.entities.values;\n \n    for (var i = 0; i < entities.length; i++) {\n      var entity = entities[i];\n      if (Cesium.defined(entity.billboard)) {\n        // entity.label = undefined; // 去掉文字的显示\n \n        entity.point = new Cesium.PointGraphics({\n            color: Cesium.Color.BLUE,\n            pixelSize: 30\n        });\n      }\n    }   \n}\n",d="data 路径都可以使用下面回调函数\n```\n".concat(f,"\n```\n\n"),h=Date.now(),y=(new Date(h).toISOString(),new Date(h+864e5).toISOString(),function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new u.Event),n._loadFuncReact=n.disposeVar((0,u.react)(void 0)),n._pickedEvent=n.disposeVar(new u.Event),n._clock=n.disposeVar(new c.CzmClock),n._resetClockEvent=n.disposeVar(new u.Event),n.dispose(n.components.disposableAdd(n._clock)),n.dispose((0,u.bind)([n.clock,"startTime"],[n,"startTime"])),n.dispose((0,u.bind)([n.clock,"stopTime"],[n,"stopTime"])),n.dispose((0,u.bind)([n.clock,"currentTime"],[n,"currentTime"])),n.dispose((0,u.bind)([n.clock,"multiplier"],[n,"multiplier"])),n.dispose((0,u.bind)([n.clock,"clockStep"],[n,"clockStep"])),n.dispose((0,u.bind)([n.clock,"clockRange"],[n,"clockRange"])),n.dispose((0,u.bind)([n.clock,"shouldAnimate"],[n,"shouldAnimate"])),n.dispose((0,u.bind)([n.clock,"enabled"],[n,"clockEnabled"])),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmCzml"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"loadFun",{get:function(){return this._loadFuncReact.value},set:function(e){this._loadFuncReact.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loadFunChanged",{get:function(){return this._loadFuncReact.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clock",{get:function(){return this._clock},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resetClockEvent",{get:function(){return this._resetClockEvent},enumerable:!1,configurable:!0}),t.prototype.resetClock=function(){this._resetClockEvent.emit()},t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("是否显示","A boolean Property specifying the visibility .",!0,!1,[this,"show"],t.defaults.show),new l.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"],t.defaults.allowPicking),new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.JsonProperty("数据","数据",!0,!1,[this,"data"],t.defaults.data,t.defaults.dataMd),new l.UriProperty("路径","路径",!0,!1,[this,"uri"],t.defaults.uri),new l.BooleanProperty("自动设置时钟","自动设置时钟",!0,!1,[this,"autoResetClock"],t.defaults.autoResetClock),new l.FunctionProperty("重设时钟","根据当前加载的数据重设始终",[],(function(){return r.resetClock()}),[]),new l.EvalStringProperty("loadFnStr","loadFnStr",!0,!1,[this,"loadFuncStr"],t.defaults.defaultLoadFuncStr,t.defaults.defaultLoadFuncDocStr)]),new l.GroupProperty("时钟","时钟",[new l.BooleanProperty("启用","启用",!0,!1,[this,"clockEnabled"],t.defaults.clockEnabled),new l.DateProperty("开始时间","开始时间",!0,!1,[this,"startTime"],t.defaults.startTime),new l.DateProperty("结束时间","结束时间",!0,!1,[this,"stopTime"],t.defaults.stopTime),new l.DateProperty("当前时间","当前时间",!0,!1,[this,"currentTime"],t.defaults.currentTime),new l.NumberProperty("倍速","倍速.",!0,!1,[this,"multiplier"],t.defaults.multiplier),new l.EnumProperty("clockStep","clockStep",!0,!1,[this,"clockStep"],[["TICK_DEPENDENT","TICK_DEPENDENT"],["SYSTEM_CLOCK_MULTIPLIER","SYSTEM_CLOCK_MULTIPLIER"],["SYSTEM_CLOCK","SYSTEM_CLOCK"]],t.defaults.clockStep),new l.EnumProperty("clockRange","clockRange",!0,!1,[this,"clockRange"],[["UNBOUNDED","UNBOUNDED"],["CLAMPED","CLAMPED"],["LOOP_STOP","LOOP_STOP"]],t.defaults.clockRange),new l.BooleanProperty("是否启用动画","是否启用动画",!0,!1,[this,"shouldAnimate"],t.defaults.shouldAnimate)])],!1)},n=t,t.type=n.register("CzmCzml",n,{chsName:"CzmCzml",tags:["CzmObjects","_ES_Impl_Cesium"],description:"Czml数据加载"}),t.defaults=i(i({},l.ESSceneObject.defaults),{show:!0,allowPicking:!0,data:p,dataMd:'第一个packet代表了cesium场景（cesium时间轴的范围，当前时刻，倍速等信息）之外，其他的packet都可以理解为描述某一时间范围内的entity的行为。\n```\n[{\n    "id": "document",\n    "name": "CZML Path",\n    "version": "1.0",\n    "clock": {\n        "interval": "2012-08-04T10:00:00Z/2012-08-04T15:00:00Z",\n        "currentTime": "2012-08-04T10:00:00Z",\n        "multiplier": 10\n    }\n}, {\n    "id": "path",\n    "name": "path with GPS flight data",\n    "description": "<p>Hang gliding flight log data from Daniel H. Friedman.<br>Icon created by Larisa Skosyrska from the Noun Project</p>",\n    "availability": "2012-08-04T10:00:00Z/2012-08-04T15:00:00Z",\n    "path": {\n        "material": {\n            "polylineOutline": {\n                "color": {\n                    "rgba": [255, 0, 255, 255]\n                },\n                "outlineColor": {\n                    "rgba": [0, 255, 255, 255]\n                },\n                "outlineWidth": 5\n            }\n        },\n        "width": 8,\n        "leadTime": 10,\n        "trailTime": 1000,\n        "resolution": 5\n    },\n    "billboard": {\n        "image": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAfCAYAAACVgY94AAAACXBIWXMAAC4jAAAuIwF4pT92AAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAA7VJREFUeNrEl2uIlWUQx39nXUu0m2uQbZYrbabdLKMs/VBkmHQjioqFIhBS+hKEQpQRgVAf2u5RQkGBRUllRH4I2e5ZUBJlEZVt5i0tTfHStrZ6fn35L70d9n7Obg88vOedmWfmf2bmmZkXlRrtq9V16mZ1iVqqhd5agXvQf1c5zw/V8dXqrqO6dQKwBrgdWApsCb0VqAc2AnOrMVANwIsD4BLgTOBPYB2wHJgEzAG+ANqAu4ZsZYiuX5QwfqI2hvaNulA9J7zLQn8o76vUuuHOwXHqSzH4aIF+TWjnBkSH+nCBf716SP1KPWO4AJ6ltgfIjRW8p9U/1KPz/ry6RT2mIDNF3Zjz19Ya4G1R/J16dgWvQd2pPlXhMdVZPUTgxfCW1wJgXUJpQlvfg8zs8K8r0Caom9QHetG7NGfa1ElDBThRXRtFd/Qh16puKIS3e7+clBjdy7kL1b3q4fzJQQGck5z6Nb97kxujblWf64HXov7Vl/E4YXWccP9AAd6dAx+ox/WTArNzY1t64B0f8K0DyLXuUvRGZfcpCo1VX4tg6wB76WMB0dALf526foAX8cqUot2pGP8B2Kz+krBeNYjS8636dh/8Beo2deoA9TWp76pd6g0q9cDNwKvAD8A84EfglLRBe2g+JWAfcEF68bPABOCoAl/gIPA5MA64FVgGnNhP292W3r0SeB1YVlJXAjcBP8XwyQUj9AKwAzg2+/fQSsBhoJxBAaALaIzenZGnD911wA7gEDAD2FFSpwOzgDHZ5T7+ZSlGd2d6AXgi5+qAn+O5U0PbBVwKtAD3AHuB8f3YGBUdncCGoQ4LE9XtGRqK9LnduVPRIu2BPqwD65IYbS7Qpql7Ql9YoJcy9bwzkgPrfOCj5G33+h54E/g0PAr5thq4ApgyEgNrc27aWwVaPTA1QJ4BjgTGFvhteV40EgPrgvTP7qlmZqFnl9WD+b2posN83E/NrEkOjlI/U1fkfUYa/pe5IE3qZPW8jFOqiyN7p3pAPX04c7AxYSoDDcAjKT2LgLXA6IR2M3Bviv59wDTgQGTPH84Qd8+HXfHcoUws2zM0HMjuUPep+xP2PWpnwtw0GJsldbBpewQwE/gbeDyt7H1gcW53O7AC+A3Yn6+/W+Ld9SnWA15DAVhc8xK2TuA9YHrCuhV4EngFuBx4YagG6qv8cF+T52kB2Zy+e1I8taUacNV+uBdXO7ABmJwJpwx8XQvF9TUCWM64tiQhbq/oMv+7BwFWpQzNT8vbVQul/wwAGzzdmXU1xuUAAAAASUVORK5CYII=",\n        "scale": 1.5,\n        "eyeOffset": {\n            "cartesian": [0.0, 0.0, -10.0]\n        }\n    },\n    "position": {\n        "epoch": "2012-08-04T10:00:00Z",\n        "cartographicDegrees": [\n            0, -122.93797, 39.50935, 1776,\n            10, -122.93822, 39.50918, 1773,\n            20, -122.9385, 39.50883, 1772,\n            30, -122.93855, 39.50842, 1770,\n            40, -122.93868, 39.50792, 1770,\n            50, -122.93877, 39.50743, 1767,\n            60, -122.93862, 39.50697, 1771,\n            70, -122.93828, 39.50648, 1765,\n        ]\n    }\n}]\n```\n',autoResetClock:!0,clockEnabled:!1,startTime:c.CzmClock.defaults.startTime,stopTime:c.CzmClock.defaults.stopTime,currentTime:c.CzmClock.defaults.currentTime,multiplier:c.CzmClock.defaults.multiplier,clockStep:c.CzmClock.defaults.clockStep,clockRange:c.CzmClock.defaults.clockRange,shouldAnimate:c.CzmClock.defaults.shouldAnimate,uri:"${xe2-base-objects-script-dir}/xe2-assets/scene-manager/misc/simple.czml",defaultLoadFuncStr:f,defaultLoadFuncDocStr:d}),t}(l.ESSceneObject));t.CzmCzml=y,function(e){e.createDefaultProps=function(){return i({show:void 0,uri:void 0,allowPicking:void 0,data:(0,u.reactJsonWithUndefined)(void 0),autoResetClock:void 0,clockEnabled:void 0,startTime:void 0,stopTime:void 0,currentTime:void 0,multiplier:void 0,clockStep:void 0,clockRange:void 0,shouldAnimate:void 0,loadFuncStr:void 0},l.ESSceneObject.createDefaultProps())}}(y=t.CzmCzml||(t.CzmCzml={})),t.CzmCzml=y,(0,u.extendClassProps)(y.prototype,y.createDefaultProps)},89508:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmDepthOfFieldPostProcess=void 0;var l=n(43938),u=n(19239),c=function(e){function t(t){return e.call(this,t)||this}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmDepthOfFieldPostProcess"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("show","show",!1,!1,[this,"show"]),new l.NumberProperty("focalDistance","focalDistance",!1,!1,[this,"focalDistance"]),new l.NumberProperty("delta","delta",!1,!1,[this,"delta"]),new l.NumberProperty("sigma","sigma",!1,!1,[this,"sigma"]),new l.NumberProperty("stepSize","stepSize",!1,!1,[this,"stepSize"])])],!1)},n=t,t.type=n.register("CzmDepthOfFieldPostProcess",n,{chsName:"景深后处理特效",tags:["CzmObjects","_ES_Impl_Cesium"],description:"景深后处理特效"}),t.defaults=i({},l.ESSceneObject.defaults),t}(l.ESSceneObject);t.CzmDepthOfFieldPostProcess=c,function(e){e.createDefaultProps=function(){return i(i({},l.ESSceneObject.createDefaultProps()),{show:!0,focalDistance:87,delta:1,sigma:3.78,stepSize:2.46})}}(c=t.CzmDepthOfFieldPostProcess||(t.CzmDepthOfFieldPostProcess={})),t.CzmDepthOfFieldPostProcess=c,(0,u.extendClassProps)(c.prototype,c.createDefaultProps)},25237:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmDetectives=void 0;var l=n(43938),u=n(43938),c=n(19239),p=n(55114),f=n(531),d=function(e){function t(n){var r=e.call(this,n)||this;r._customPrimitive=r.disposeVar(new f.CzmCustomPrimitive),r._flyToEvent=r.disposeVar(new c.Event),r._pickedEvent=r.disposeVar(new c.Event),r._player=r.disposeVar(new l.Player);var o=r.customPrimitive;r.dispose(r.components.disposableAdd(o)),o.renderState={depthTest:{enabled:!1},cull:{enabled:!0,face:1029},blending:{enabled:!0,equationRgb:32774,equationAlpha:32774,functionSourceRgb:770,functionSourceAlpha:1,functionDestinationRgb:771,functionDestinationAlpha:771}},r.dispose(r.flyToEvent.disposableOn((function(e){o.flyTo(e)}))),r.dispose((0,c.track)([o,"allowPicking"],[r,"allowPicking"])),r.dispose(o.pickedEvent.disposableOn((function(e){var t;null!==(t=r.allowPicking)&&void 0!==t&&t&&r.pickedEvent.emit(new u.SceneObjectPickedInfo(r,e))})));var i=function(){var e,t=r.segments,n=void 0===t?4:t;if(!n&&n<3)r._customPrimitive.show=!1;else{r._customPrimitive.show=null===(e=r.show)||void 0===e||e;var o=s([],a(new Array(n+1).keys()),!1),i=2*Math.PI/n,u=r,c=u.topRadius,p=void 0===c?0:c,f=u.bottomRadius,d=void 0===f?.4:f,h=o.map((function(e){return e*i})).map((function(e){return[p*Math.cos(e),p*Math.sin(e),1]})),y=o.map((function(e){return e*i})).map((function(e){return[d*Math.cos(e),d*Math.sin(e),0]})),g=s(s([],a(h),!1),a(y),!1),m=(0,l.getMinMaxCorner)(g),v=m.minPos,b=m.maxPos,_=o.map((function(e){return[0,0,0]})).flat(),w=o.map((function(e){return[e/n,0]})).flat(),P=o.map((function(e){return[e/n,1]})).flat();r._customPrimitive.attributes={position:{componentsPerAttribute:3,typedArray:new Float32Array(g.flat())},normal:{componentsPerAttribute:3,typedArray:new Float32Array(s(s([],a(_),!1),a(_),!1))},textureCoordinates:{componentsPerAttribute:2,typedArray:new Float32Array(s(s([],a(w),!1),a(P),!1))}},r._customPrimitive.indexTypedArray=new Uint16Array(s([],a(new Array(n).keys()),!1).map((function(e){return[e,e+n+1,e+n+2,e,e+n+2,e+1,e,e+n+2,e+n+1,e,e+1,e+n+2]})).flat()),r._customPrimitive.boundingVolume={type:"LocalAxisedBoundingBox",data:{min:v,max:b}}}};i();var d=r.disposeVar((0,c.createNextAnimateFrameEvent)(r.showChanged,r.bottomRadiusChanged,r.topRadiusChanged,r.segmentsChanged));r.dispose(d.disposableOn(i));var h=function(){if(r.positions&&!(r.positions.length<2)){var e=function(e,t){var n,r=(0,l.lbhToXyz)(e),o=(0,l.lbhToXyz)(t),i=p.Vector.subtract(o,r),a=p.Vector.magnitude(i);p.Vector.normalize(i,i);var s=[1,0,0],u=[0,1,0],c=[0,0,1],f=Math.abs(p.Vector.dot(i,s)),d=Math.abs(p.Vector.dot(i,u)),h=Math.abs(p.Vector.dot(i,c));n=f<=d&&f<=h?s:d<=f&&d<=h?u:c;var y=p.Vector3.cross(i,n);p.Vector.normalize(y,y);var g=p.Vector3.cross(y,i);p.Vector.normalize(g,g);var m=p.Matrix4.fromDirectionUpRightAndTranslation(i,g,y,o);return p.Matrix4.multiplyByUniformScale(m,a,m),m}(r.positions[0],r.positions[1]);r._customPrimitive.modelMatrix=e}};h();var y=r.disposeVar((0,c.createNextAnimateFrameEvent)(r.positionsChanged,r.bottomRadiusChanged));r.dispose(y.disposableOn(h));var g=function(){var e,t=r,n=t.ringRepeat,o=void 0===n?6:n,i=t.ringFill,a=void 0===i?.4:i,s=r.ratio*o,l=s-Math.floor(s),u=null!==(e=r.color)&&void 0!==e?e:[1,1,0,.6];r._customPrimitive.uniformMap={u_ratioRepeatFill:[l,o,a],u_ringColor:u}};g(),r.dispose(r.ratioChanged.disposableOn(g)),r.dispose(r.ringRepeatChanged.disposableOn(g)),r.dispose(r.ringFillChanged.disposableOn(g)),r.dispose(r.colorChanged.disposableOn(g)),r._customPrimitive.fragmentShaderSource="\n        in vec3 v_positionEC;\n        in vec3 v_normalEC;\n        in vec2 v_st;\n        uniform vec3 u_ratioRepeatFill;\n        uniform vec4 u_ringColor;\n        void main()\n        {\n            float ratio = u_ratioRepeatFill.x;\n            float ringRepeat = u_ratioRepeatFill.y;\n            float ringFill = u_ratioRepeatFill.z;\n\n            float start = ratio;\n            float end = start + ringFill;\n\n            float t = fract(v_st.t * ringRepeat);\n\n            float alpha = step(start, t) * step(t, end);\n            start -= 1.;\n            end -= 1.;\n            alpha += step(start, t) * step(t, end);\n\n            out_FragColor = u_ringColor;\n            out_FragColor.a *= alpha;\n        }\n        ",r.dispose(r._flyToEvent.disposableOn((function(e){return r._customPrimitive.flyTo(e)})));var m=r.disposeVar((0,l.createPositionsEditingRefForComponent)([r,"positions"],[r,"loop"],r.components,2));r.dispose((0,c.bind)(m,[r,"editing"]));var v=t.defaults;return r.dispose((0,c.bind)([r._player,"loop"],[r,"loop"],(function(e){return null!=e?e:v.loop}),(function(e){return null!=e?e:v.loop}))),r.dispose((0,c.bind)([r._player,"currentTime"],[r,"currentTime"],(function(e){return null!=e?e:v.currentTime}),(function(e){return null!=e?e:v.currentTime}))),r.dispose((0,c.bind)([r._player,"duration"],[r,"duration"],(function(e){return null!=e?e:v.duration}),(function(e){return null!=e?e:v.duration}))),r.dispose((0,c.bind)([r._player,"playing"],[r,"playing"],(function(e){return null!=e?e:v.playing}),(function(e){return null!=e?e:v.playing}))),r.dispose((0,c.bind)([r._player,"speed"],[r,"speed"],(function(e){return null!=e?e:v.speed}),(function(e){return null!=e?e:v.speed}))),r}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmDetectives"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return i(i({},t.createDefaultProps()),y)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"customPrimitive",{get:function(){return this._customPrimitive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"player",{get:function(){return this._player},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ratio",{get:function(){return this._player.ratio},set:function(e){this._player.ratio=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ratioChanged",{get:function(){return this._player.ratioChanged},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new u.GroupProperty("通用","通用",[new u.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new u.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"],t.defaults.allowPicking),new u.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"],t.defaults.show),new u.BooleanProperty("是否编辑","是否编辑",!0,!1,[this,"editing"],t.defaults.editing),new u.PositionsProperty("位置","位置",!0,!1,[this,"positions"]),new u.ColorProperty("颜色"," A Property specifying the color.",!0,!1,[this,"color"],t.defaults.color),new u.NumberProperty("顶部半径比率","注意不是实际长度，是和高度的比值，范围可取0-2",!0,!1,[this,"topRadius"],t.defaults.topRadius),new u.NumberProperty("底部半径比率","注意不是实际长度，是和高度的比值，范围可取0-2",!0,!1,[this,"bottomRadius"],t.defaults.bottomRadius),new u.NumberProperty("分段数","分段数",!0,!1,[this,"segments"],t.defaults.segments),new u.NumberProperty("环带重复数","环带重复数，任意正整数，默认6",!1,!1,[this,"ringRepeat"],t.defaults.ringRepeat),new u.NumberProperty("环带填充比","环带填充比，数值在0-1之间，默认0.4",!1,!1,[this,"ringFill"],t.defaults.ringFill)]),new u.GroupProperty("播放器","播放器",[new u.NumberProperty("播放比率","播放比率(0-1)",!0,!1,[this,"ratio"],t.defaults.ratio),new u.PlayerProperty("播放器","播放器",[this,"playing"],[this,"ratio"],[this,"loop"]),new u.BooleanProperty("是否循环","是否循环.",!0,!1,[this,"loop"],t.defaults.loop),new u.NumberProperty("当前时间","当前时间",!0,!1,[this,"currentTime"],t.defaults.currentTime),new u.NumberProperty("过渡时间","过渡时间",!0,!1,[this,"duration"],t.defaults.duration),new u.BooleanProperty("是否播放","是否播放.",!0,!1,[this,"playing"],t.defaults.playing),new u.NumberProperty("播放速度","播放速度.",!0,!1,[this,"speed"],t.defaults.speed)])],!1)},n=t,t.type=n.register("CzmDetectives",n,{chsName:"侦照",tags:["CzmObjects","_ES_Impl_Cesium"],description:"侦照"}),t.defaults=i(i({},u.ESSceneObject.defaults),{allowPicking:!0,show:!0,editing:!0,color:[1,1,0,.6],topRadius:0,bottomRadius:.4,segments:4,ringRepeat:6,ringFill:.4,loop:!0,currentTime:0,playerCurrentTime:0,duration:6e3,speed:1,playing:!0,ratio:0}),t}(u.ESSceneObject);t.CzmDetectives=d;var h={},y=(0,u.getDefaultComponentProps)(h);(0,u.extendComponentProps)(d.prototype,h),function(e){e.createDefaultProps=function(){return i({show:void 0,allowPicking:void 0,editing:void 0,positions:(0,c.reactPositions)(void 0),color:(0,c.reactArrayWithUndefined)(void 0),topRadius:void 0,bottomRadius:void 0,segments:void 0,ringRepeat:void 0,ringFill:void 0,loop:void 0,currentTime:void 0,duration:void 0,speed:void 0,playing:void 0},u.ESSceneObject.createDefaultProps())}}(d=t.CzmDetectives||(t.CzmDetectives={})),t.CzmDetectives=d,(0,c.extendClassProps)(d.prototype,d.createDefaultProps)},41834:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmEllipseGroundPrimitive=void 0;var l=n(43938),u=n(19239),c=n(43938),p=n(43938),f=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new u.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmEllipseGroundPrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){return(0,c.getGeoJson)("Point",this.position,this.name)},set:function(e){var t=(0,c.setGeoJson)(e);this.name=t.name,this.position=t.position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"],t.defaults.show),new l.JsonProperty("材质","A Property specifying the material.",!1,!1,[this,"material"],t.defaults.material,c.CzmMaterialJsonTypeMd),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"],t.defaults.position),new l.NumberProperty("间隔尺寸","granularity must be greater than zero.",!0,!1,[this,"granularity"],t.defaults.granularity),new l.NumberProperty("短半轴","短半轴",!0,!1,[this,"semiMinorAxis"],t.defaults.semiMinorAxis),new l.NumberProperty("长半轴","长半轴",!0,!1,[this,"semiMajorAxis"],t.defaults.semiMajorAxis),new l.NumberProperty("旋转角度","旋转角度,逆时针旋转,单位为度",!0,!1,[this,"rotation"],t.defaults.rotation),new l.NumberProperty("纹理旋转角度","纹理旋转角度.",!0,!1,[this,"stRotation"],t.defaults.stRotation),new l.NumberProperty("高度","高度",!0,!1,[this,"height"],t.defaults.height),new l.NumberProperty("拉伸高度","拉伸高度",!0,!1,[this,"extrudedHeight"],t.defaults.extrudedHeight),new l.Number3Property("ellipsoid","ellipsoid",!0,!1,[this,"ellipsoid"],t.defaults.ellipsoid),new l.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return r.geoJsonStr}),(function(e){return e&&(r.geoJsonStr=e)}))])],!1)},n=t,t.type=n.register("CzmEllipseGroundPrimitive",n,{chsName:"贴地椭圆",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API 实现的贴地椭圆。"}),t.defaults=i(i({},p.ESSceneObject.defaults),{show:!0,material:void 0,position:[0,0,0],granularity:1,semiMinorAxis:3e5,semiMajorAxis:5e5,rotation:90,stRotation:90,height:1e6,extrudedHeight:1e6,ellipsoid:[0,0,0]}),t}(p.ESSceneObject);t.CzmEllipseGroundPrimitive=f,function(e){e.createDefaultProps=function(){return i({show:void 0,material:(0,u.reactJson)({type:"Color"}),position:(0,u.reactArrayWithUndefined)(void 0),granularity:void 0,semiMinorAxis:void 0,semiMajorAxis:void 0,rotation:void 0,stRotation:void 0,ellipsoid:void 0,height:void 0,extrudedHeight:void 0},p.ESSceneObject.createDefaultProps())}}(f=t.CzmEllipseGroundPrimitive||(t.CzmEllipseGroundPrimitive={})),t.CzmEllipseGroundPrimitive=f,(0,u.extendClassProps)(f.prototype,f.createDefaultProps)},84404:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmEllipseOutlinePrimitive=void 0;var l=n(43938),u=n(19239),c=n(43938),p=n(43938),f=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new u.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmEllipseOutlinePrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){return(0,c.getGeoJson)("Point",this.position,this.name)},set:function(e){var t=(0,c.setGeoJson)(e);this.name=t.name,this.position=t.position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"],t.defaults.show),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"],t.defaults.position),new l.NumberProperty("间隔尺寸","granularity must be greater than zero.",!0,!1,[this,"granularity"],t.defaults.granularity),new l.NumberProperty("垂直线条数","垂直线条数",!0,!1,[this,"numberOfVerticalLines"],t.defaults.numberOfVerticalLines),new l.BooleanProperty("是否半透明","A boolean Property specifying the translucent .",!0,!1,[this,"translucent"],t.defaults.translucent),new l.ColorProperty("轮廓线颜色"," A Property specifying the color.",!0,!1,[this,"outlineColor"],t.defaults.outlineColor),new l.NumberProperty("短半轴","短半轴",!0,!1,[this,"semiMinorAxis"],t.defaults.semiMinorAxis),new l.NumberProperty("长半轴","长半轴",!0,!1,[this,"semiMajorAxis"],t.defaults.semiMajorAxis),new l.NumberProperty("旋转角度","旋转角度",!0,!1,[this,"rotation"],t.defaults.rotation),new l.NumberProperty("高度","高度",!0,!1,[this,"height"],t.defaults.height),new l.NumberProperty("拉伸高度","拉伸高度",!0,!1,[this,"extrudedHeight"],t.defaults.extrudedHeight),new l.Number3Property("ellipsoid","ellipsoid",!0,!1,[this,"ellipsoid"],t.defaults.ellipsoid),new l.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return r.geoJsonStr}),(function(e){return e&&(r.geoJsonStr=e)}))])],!1)},n=t,t.type=n.register("CzmEllipseOutlinePrimitive",n,{chsName:"椭圆外轮廓",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API 实现的椭圆外轮廓。"}),t.defaults=i(i({},p.ESSceneObject.defaults),{show:!0,position:[0,0,0],granularity:1,numberOfVerticalLines:10,translucent:!1,outlineColor:[.3,1,1,1],semiMinorAxis:3e5,semiMajorAxis:5e5,rotation:90,height:1e6,extrudedHeight:1e6,ellipsoid:[0,0,0]}),t}(p.ESSceneObject);t.CzmEllipseOutlinePrimitive=f,function(e){e.createDefaultProps=function(){return i({show:void 0,position:(0,u.reactArrayWithUndefined)(void 0),granularity:void 0,numberOfVerticalLines:void 0,translucent:void 0,outlineColor:(0,u.reactArrayWithUndefined)(void 0),semiMinorAxis:void 0,semiMajorAxis:void 0,rotation:void 0,height:void 0,extrudedHeight:void 0,ellipsoid:void 0},p.ESSceneObject.createDefaultProps())}}(f=t.CzmEllipseOutlinePrimitive||(t.CzmEllipseOutlinePrimitive={})),t.CzmEllipseOutlinePrimitive=f,(0,u.extendClassProps)(f.prototype,f.createDefaultProps)},38818:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmEllipsePrimitive=void 0;var l=n(43938),u=n(19239),c=n(43938),p=n(43938),f=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new u.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmEllipsePrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){return(0,c.getGeoJson)("Point",this.position,this.name)},set:function(e){var t=(0,c.setGeoJson)(e);this.name=t.name,this.position=t.position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"],t.defaults.show),new l.JsonProperty("材质","A Property specifying the material.",!1,!1,[this,"material"],t.defaults.material,c.CzmMaterialJsonTypeMd),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"],t.defaults.position),new l.NumberProperty("间隔尺寸","granularity must be greater than zero.",!0,!1,[this,"granularity"],t.defaults.granularity),new l.NumberProperty("短半轴","短半轴",!0,!1,[this,"semiMinorAxis"],t.defaults.semiMinorAxis),new l.NumberProperty("长半轴","长半轴",!0,!1,[this,"semiMajorAxis"],t.defaults.semiMajorAxis),new l.NumberProperty("旋转角度","旋转角度",!0,!1,[this,"rotation"],t.defaults.rotation),new l.NumberProperty("纹理旋转角度","纹理旋转角度.",!0,!1,[this,"stRotation"],t.defaults.stRotation),new l.NumberProperty("高度","高度",!0,!1,[this,"height"],t.defaults.height),new l.NumberProperty("拉伸高度","拉伸高度",!0,!1,[this,"extrudedHeight"],t.defaults.extrudedHeight),new l.Number3Property("ellipsoid","ellipsoid",!0,!1,[this,"ellipsoid"],t.defaults.ellipsoid),new l.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return r.geoJsonStr}),(function(e){return e&&(r.geoJsonStr=e)}))])],!1)},n=t,t.type=n.register("CzmEllipsePrimitive",n,{chsName:"椭圆",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API 和GroundPrimitive API实现的椭圆。"}),t.defaults=i(i({},p.ESSceneObject.defaults),{show:!0,material:void 0,position:[0,0,0],granularity:1,semiMinorAxis:3e5,semiMajorAxis:5e5,rotation:90,stRotation:90,height:1e6,extrudedHeight:1e6,ellipsoid:[0,0,0]}),t}(p.ESSceneObject);t.CzmEllipsePrimitive=f,function(e){e.createDefaultProps=function(){return i({show:void 0,material:(0,u.reactJson)({type:"Color"}),position:(0,u.reactArrayWithUndefined)(void 0),granularity:void 0,semiMinorAxis:void 0,semiMajorAxis:void 0,rotation:void 0,stRotation:void 0,height:void 0,extrudedHeight:void 0,ellipsoid:void 0},p.ESSceneObject.createDefaultProps())}}(f=t.CzmEllipsePrimitive||(t.CzmEllipsePrimitive={})),t.CzmEllipsePrimitive=f,(0,u.extendClassProps)(f.prototype,f.createDefaultProps)},22255:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmEllipsoidOutlinePrimitive=void 0;var l=n(43938),u=n(19239),c=n(43938),p=n(43938),f=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new u.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmEllipsoidOutlinePrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){return(0,c.getGeoJson)("Point",this.position,this.name)},set:function(e){var t=(0,c.setGeoJson)(e);this.name=t.name,this.position=t.position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"],t.defaults.show),new l.ColorProperty("线条颜色","A Property specifying the color.",!0,!1,[this,"color"],t.defaults.color),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"],t.defaults.position),new l.Number3Property("半径","m为单位",!0,!1,[this,"radii"],t.defaults.radii),new l.Number3Property("内半径","m为单位",!0,!1,[this,"innerRadii"],t.defaults.innerRadii),new l.BooleanProperty("是否半透明","A boolean Property specifying the translucent .",!0,!1,[this,"translucent"],t.defaults.translucent),new l.NumberProperty("minimumClock","minimumClock",!0,!1,[this,"minimumClock"],t.defaults.minimumClock),new l.NumberProperty("maximumClock","maximumClock",!0,!1,[this,"maximumClock"],t.defaults.maximumClock),new l.NumberProperty("minimumCone","minimumCone",!0,!1,[this,"minimumCone"],t.defaults.minimumCone),new l.NumberProperty("maximumCone","maximumCone",!0,!1,[this,"maximumCone"],t.defaults.maximumCone),new l.NumberProperty("stackPartitions","stackPartitions",!0,!1,[this,"stackPartitions"],t.defaults.stackPartitions),new l.NumberProperty("slicePartitions","slicePartitions",!0,!1,[this,"slicePartitions"],t.defaults.slicePartitions),new l.NumberProperty("subdivisions","subdivisions",!0,!1,[this,"subdivisions"],t.defaults.subdivisions),new l.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return r.geoJsonStr}),(function(e){return e&&(r.geoJsonStr=e)}))])],!1)},n=t,t.type=n.register("CzmEllipsoidOutlinePrimitive",n,{chsName:"椭球外轮廓",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API 实现的椭球外轮廓。"}),t.defaults=i(i({},p.ESSceneObject.defaults),{show:!0,color:[.3,1,1,1],position:[0,0,0],radii:[3e5,3e5,3e5],innerRadii:[1e5,1e5,1e5],translucent:!1,minimumClock:10,maximumClock:10,minimumCone:10,maximumCone:10,stackPartitions:10,slicePartitions:10,subdivisions:10}),t}(p.ESSceneObject);t.CzmEllipsoidOutlinePrimitive=f,function(e){e.createDefaultProps=function(){return i({show:void 0,color:(0,u.reactArrayWithUndefined)(void 0),position:(0,u.reactArrayWithUndefined)(void 0),radii:(0,u.reactArrayWithUndefined)(void 0),innerRadii:(0,u.reactArrayWithUndefined)(void 0),minimumClock:void 0,maximumClock:void 0,minimumCone:void 0,maximumCone:void 0,stackPartitions:void 0,slicePartitions:void 0,subdivisions:void 0,translucent:void 0},p.ESSceneObject.createDefaultProps())}}(f=t.CzmEllipsoidOutlinePrimitive||(t.CzmEllipsoidOutlinePrimitive={})),t.CzmEllipsoidOutlinePrimitive=f,(0,u.extendClassProps)(f.prototype,f.createDefaultProps)},64017:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmEllipsoidPrimitive=void 0;var l=n(43938),u=n(19239),c=n(43938),p=n(43938),f=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new u.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmEllipsoidPrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){return(0,c.getGeoJson)("Point",this.position,this.name)},set:function(e){var t=(0,c.setGeoJson)(e);this.name=t.name,this.position=t.position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"],t.defaults.show),new l.JsonProperty("材质","A Property specifying the material.",!1,!1,[this,"material"],t.defaults.material,c.CzmMaterialJsonTypeMd),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"],t.defaults.position),new l.Number3Property("半径","m为单位",!0,!1,[this,"radii"],t.defaults.radii),new l.Number3Property("内半径","m为单位",!0,!1,[this,"innerRadii"],t.defaults.innerRadii),new l.NumberProperty("minimumClock","minimumClock",!0,!1,[this,"minimumClock"],t.defaults.minimumClock),new l.NumberProperty("maximumClock","maximumClock",!0,!1,[this,"maximumClock"],t.defaults.maximumClock),new l.NumberProperty("minimumCone","minimumCone",!0,!1,[this,"minimumCone"],t.defaults.minimumCone),new l.NumberProperty("maximumCone","maximumCone",!0,!1,[this,"maximumCone"],t.defaults.maximumCone),new l.NumberProperty("stackPartitions","stackPartitions",!0,!1,[this,"stackPartitions"],t.defaults.stackPartitions),new l.NumberProperty("slicePartitions","slicePartitions",!0,!1,[this,"slicePartitions"],t.defaults.slicePartitions),new l.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return r.geoJsonStr}),(function(e){return e&&(r.geoJsonStr=e)}))])],!1)},n=t,t.type=n.register("CzmEllipsoidPrimitive",n,{chsName:"椭球",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API 实现的椭球。"}),t.defaults=i(i({},p.ESSceneObject.defaults),{show:!0,material:void 0,position:[0,0,0],radii:[3e5,3e5,3e5],innerRadii:[1e5,1e5,1e5],minimumClock:10,maximumClock:10,minimumCone:10,maximumCone:10,stackPartitions:10,slicePartitions:10}),t}(p.ESSceneObject);t.CzmEllipsoidPrimitive=f,function(e){e.createDefaultProps=function(){return i({show:void 0,material:(0,u.reactJson)({type:"Color",color:[0,0,0,1]}),position:(0,u.reactArrayWithUndefined)(void 0),radii:(0,u.reactArrayWithUndefined)(void 0),innerRadii:(0,u.reactArrayWithUndefined)(void 0),minimumClock:void 0,maximumClock:void 0,minimumCone:void 0,maximumCone:void 0,stackPartitions:void 0,slicePartitions:void 0},p.ESSceneObject.createDefaultProps())}}(f=t.CzmEllipsoidPrimitive||(t.CzmEllipsoidPrimitive={})),t.CzmEllipsoidPrimitive=f,(0,u.extendClassProps)(f.prototype,f.createDefaultProps)},61843:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmFireParticleSystem=void 0;var l=n(43938),u=n(43938),c=n(19239),p=n(1358),f=function(e){function t(t){var n=e.call(this,t)||this;n._flyToEvent=n.disposeVar(new c.Event);var r=n,o=n.disposeVar(new p.CzmParticleSystemPrimitive);n.dispose(n.components.disposableAdd(o));var i=n.disposeVar(u.ESSceneObject.context.createEvnStrReact([r,"image"],"${scene-manager-script-dir}/xe2-assets/scene-manager/images/smoke.png"));n.dispose((0,c.bind)([o,"position"],[r,"position"])),n.dispose((0,c.bind)([o,"positionEditing"],[r,"positionEditing"])),n.dispose((0,c.bind)([o,"translation"],[r,"translation"])),n.dispose((0,c.bind)([o,"rotation"],[r,"rotation"])),o.image=i.value,o.show=!0,o.startColor=[1,1,0,.4],o.endColor=[1,0,0,.5],o.startScale=3,o.endScale=4,o.particleLife=.5,o.minimumSpeed=1,o.maximumSpeed=10,o.emissionRate=20,o.lifetime=10,o.imageSize=[2,2],o.emitter={type:"CircleEmitter",radius:.5},o.sizeInMeters=!0;var a=n.disposeVar((0,c.createNextAnimateFrameEvent)(r.showChanged,r.imageChanged));return n.dispose(a.disposableOn((function(){var e;o.show=null===(e=r.show)||void 0===e||e,o.image=i.value}))),n.dispose(r.flyToEvent.disposableOn((function(e){o.show&&o.flyTo(e)}))),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmFireParticleSystem"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){return(0,l.getGeoJson)("Point",this.position,this.name)},set:function(e){var t=(0,l.setGeoJson)(e);this.name=t.name,this.position=t.position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new u.GroupProperty("通用","通用",[new u.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new u.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"],t.defaults.show),new u.UriProperty("图片","The URI, HTMLImageElement, or HTMLCanvasElement to use for the billboard.",!0,!1,[this,"image"],t.defaults.image),new u.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"],t.defaults.position),new u.Number3Property("偏移","translation",!0,!1,[this,"translation"],t.defaults.translation),new u.Number3Property("旋转","rotation,偏航俯仰翻转，度为单位",!0,!1,[this,"rotation"],t.defaults.rotation),new u.BooleanProperty("位置编辑","位置编辑",!1,!1,[this,"positionEditing"]),new u.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return r.geoJsonStr}),(function(e){return e&&(r.geoJsonStr=e)}))])],!1)},n=t,t.type=n.register("CzmFireParticleSystem",n,{chsName:"火焰粒子特效",tags:["CzmObjects","_ES_Impl_Cesium"],description:"火焰粒子特效"}),t.defaults=i(i({},u.ESSceneObject.defaults),{show:!1,image:"${scene-manager-script-dir}/xe2-assets/scene-manager/images/smoke.png",position:[0,0,0],translation:[0,0,0],rotation:[0,0,0]}),t}(u.ESSceneObject);t.CzmFireParticleSystem=f,function(e){e.createDefaultProps=function(){return i({show:void 0,image:void 0,positionEditing:!1,position:(0,c.reactArrayWithUndefined)(void 0),translation:(0,c.reactArrayWithUndefined)(void 0),rotation:(0,c.reactArrayWithUndefined)(void 0)},u.ESSceneObject.createDefaultProps())}}(f=t.CzmFireParticleSystem||(t.CzmFireParticleSystem={})),t.CzmFireParticleSystem=f,(0,c.extendClassProps)(f.prototype,f.createDefaultProps)},91211:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return s(t,e),t},u=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},c=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmFlattenedPlane=void 0;var p=n(69767),f=n(43938),d=n(19239),h=n(10070),y=l(n(2003)),g=n(75125),m=n(9424),v=n(12615),b=function(e){function t(t,n){var r=e.call(this)||this;r._czm3DTiles=t,r._czmFlattenedPlane=n,r._czm3DTiles.xbsjFlattened=!0,r.dispose((function(){r._czm3DTiles.xbsjFlattened=!1,r._czm3DTiles.customShaderInstanceClass=void 0})),(o=function(){r._czmFlattenedPlane.finalMatrix?r._czm3DTiles.xbsjElevationMatrix=y.Matrix4.toArray(r._czmFlattenedPlane.finalMatrix):r._czm3DTiles.xbsjElevationMatrix=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]})(),r.dispose(r._czmFlattenedPlane.finalMatrixChanged.disposableOn(o)),(o=function(){r._czm3DTiles.xbsjFlattenedBound=c(c([],u(r._czmFlattenedPlane.minSize),!1),u(r._czmFlattenedPlane.maxSize),!1)})();var o,i=r.disposeVar((0,d.createNextAnimateFrameEvent)(r._czmFlattenedPlane.minSizeChanged,r._czmFlattenedPlane.maxSizeChanged));return r.dispose(i.disposableOn(o)),(o=function(){r._czm3DTiles.customShaderInstanceClass=r._czmFlattenedPlane.computedCustomShader})(),r.dispose(r._czmFlattenedPlane.computedCustomShaderChanged.disposableOn(o)),(o=function(){r._czm3DTiles.xbsjFlattenedTextureId=r._czmFlattenedPlane.czmTextureId})(),r.dispose(r._czmFlattenedPlane.czmTextureIdChanged.disposableOn(o)),r}return o(t,e),Object.defineProperty(t.prototype,"czm3DTiles",{get:function(){return this._czm3DTiles},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmFlattenedPlane",{get:function(){return this._czmFlattenedPlane},enumerable:!1,configurable:!0}),t}(d.Destroyable),_=function(e){function t(t){var n=e.call(this)||this;return n._czmFlattenedPlane=t,n._sowis=n._czmFlattenedPlane.sceneObjectIds.map((function(e){var t=n.disposeVar(new h.SceneObjectWithId);return t.id=e,t})),n._sowisResetting=n._sowis.map((function(e){return n.disposeVar(new h.ObjResettingWithEvent(e.sceneObjectChanged,(function(){if(e.sceneObject){if(!n._czmFlattenedPlane.enabled)throw new Error("Cannot reset ids when flattened is disabled.");if(e.sceneObject instanceof m.Czm3DTiles)return new b(e.sceneObject,n._czmFlattenedPlane)}})))})),n}return o(t,e),t}(d.Destroyable);function w(e,t,n){var r=e,o=t,i=[[r[0],r[1],0],[o[0],r[1],0],[o[0],o[1],0],[r[0],o[1],0]],a=y.Math.toDegrees,s=i.map((function(e){var t,r=y.Matrix4.multiplyByPoint(n,(t=y.Cartesian3).fromElements.apply(t,c([],u(e),!1)),new y.Cartesian3),o=y.Cartographic.fromCartesian(r);return[a(o.longitude),a(o.latitude),o.height]}));return[[s[0],s[1],s[2],s[3],s[0]]]}var P=function(e){function t(t,n){var r,i,a=e.call(this)||this;return a._czmFlattenedPlane=t,a._reverse=n,a._customShader=(r=a._reverse,i=a._czmFlattenedPlane,function(e){function t(t,n){var o,a=e.call(this)||this;return a._sceneObject=t,a._viewer=n,a._customShader=a.disposeVar(new y.CustomShader({lightingModel:y.LightingModel.UNLIT,uniforms:{u_discardRatio:{value:new y.Cartesian2(0,1),type:y.UniformType.VEC2},u_topColor:{value:new y.Color(1,1,1,1),type:y.UniformType.VEC4},u_bottomColor:{value:new y.Color(1,1,1,1),type:y.UniformType.VEC4}},varyings:{v_xbsjPos:y.VaryingType.VEC3,v_m:y.VaryingType.FLOAT},vertexShaderText:"                // IMPORTANT: the function signature must use these parameter names. This\n                // makes it easier for the runtime to generate the shader and make optimizations.\n                void vertexMain(VertexInput vsInput, inout czm_modelVertexOutput vsOutput) {\n                    // code goes here. An empty body is a no-op.\n                    #ifdef XBSJ_FLATTERN\n                    vec3 xbsjPos = (u_inverseElevationModelMatrix * vec4(vsInput.attributes.positionMC, 1.0)).xyz;\n                    vec2 size = u_flattenedBound.zw - u_flattenedBound.xy;\n                    vec2 st = (xbsjPos.xy - u_flattenedBound.xy) / size;\n                    ".concat(r?"                        v_m = 1.;\n                        if ( all(greaterThan(st, vec2(0, 0))) && all(lessThan(st, vec2(1.0))) ) {\n                            vec4 color = texture(u_flattenedPolygonTexture, st);\n                            v_m = 1. - clamp(max(color.r, max(color.g, color.b)) * color.a, 0., 1.);\n                            xbsjPos.z = mix(xbsjPos.z, (atan(xbsjPos.z) / 3.1415926), v_m);\n                        } else {\n                            xbsjPos.z = (atan(xbsjPos.z) / 3.1415926);\n                        }\n                        vsOutput.positionMC = (u_inverseModelElevationMatrix * vec4(xbsjPos, 1.0)).xyz;\n                    ":"                        v_m = 0.0;\n                        if (all(greaterThan(st, vec2(0, 0))) && all(lessThan(st, vec2(1.0)))) {\n                            vec4 color = texture(u_flattenedPolygonTexture, st);\n                            v_m = clamp(max(color.r, max(color.g, color.b)) * color.a, 0., 1.);\n                            xbsjPos.z = mix(xbsjPos.z, (atan(xbsjPos.z) / 3.1415926), v_m);\n                            vsOutput.positionMC = (u_inverseModelElevationMatrix * vec4(xbsjPos, 1.0)).xyz;\n                        }\n                        ","\n                    v_xbsjPos = xbsjPos;\n                    #endif\n                }\n              "),fragmentShaderText:"                // Color tiles by distance to the camera\n                void fragmentMain(FragmentInput fsInput, inout czm_modelMaterial material)\n                {\n                    if (v_m < u_discardRatio.x) discard;\n                    if (v_m > u_discardRatio.y) discard;\n\n                    if (v_xbsjPos.z <= 0.) {\n                        material.diffuse *= (u_bottomColor.rgb * u_bottomColor.a);\n                    } else {\n                        material.diffuse *= (u_topColor.rgb * u_topColor.a);\n                    }\n                }\n              "})),(o=function(){var e;a._customShader.uniforms.u_discardRatio.value=y.Cartesian2.fromArray(i.discard),a._customShader.uniforms.u_topColor.value=new((e=y.Color).bind.apply(e,c([void 0],u(i.topColor),!1)))})(),a.dispose(i.discardChanged.disposableOn(o)),(o=function(){var e;a._customShader.uniforms.u_bottomColor.value=new((e=y.Color).bind.apply(e,c([void 0],u(i.bottomColor),!1)))})(),a.dispose(i.bottomColorChanged.disposableOn(o)),(o=function(){var e;a._customShader.uniforms.u_topColor.value=new((e=y.Color).bind.apply(e,c([void 0],u(i.topColor),!1)))})(),a.dispose(i.topColorChanged.disposableOn(o)),a}return o(t,e),Object.defineProperty(t.prototype,"sceneObject",{get:function(){return this._sceneObject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewer",{get:function(){return this._viewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"customShader",{get:function(){return this._customShader},enumerable:!1,configurable:!0}),t.prototype.update=function(){alert("暂未实现!")},t}(d.Destroyable)),a._czmFlattenedPlane.computedCustomShader=a.customShader,a.dispose((function(){a._czmFlattenedPlane.computedCustomShader=void 0})),a}return o(t,e),Object.defineProperty(t.prototype,"customShader",{get:function(){return this._customShader},enumerable:!1,configurable:!0}),t}(d.Destroyable),C=function(e){function t(t){var n=e.call(this,t)||this;n._flyToEvent=n.disposeVar(new d.Event),n._computedCustomShader=n.disposeVar((0,d.react)(void 0)),n._sceneObjectIdsResettingEvent=n.disposeVar((0,d.createNextAnimateFrameEvent)(n.sceneObjectIdsChanged,n.enabledChanged)),n._sceneObjectIdsResetting=n.disposeVar(new h.ObjResettingWithEvent(n._sceneObjectIdsResettingEvent,(function(){if(n.enabled&&0!==n.sceneObjectIds.length)return new _(n)}))),n._sPositionEditing=n.disposeVar(new f.PositionEditing([n,"position"],[n,"positionEditing"],n.components)),n._polylines=n.disposeVar(new v.CzmPolylinesPrimitive),n._polylinesInit=(n._polylines.arcType="NONE",void n.dispose(n.components.disposableAdd(n.polylines))),n._finalMatrix=n.disposeVar((0,d.react)(void 0)),n.registerAttachedObjectForContainer((function(e){var t=new d.Destroyable;return t.dispose(n.flyToEvent.disposableOn((function(t){if(e instanceof g.CzmViewer&&e.actived)if(n.position){var r=n.minSize,o=n.maxSize,i=[o[0]-r[0],o[1]-r[1]],a=Math.sqrt(i[0]*i[0]+i[1]*i[1]);e.flyTo(n.position,2*a,void 0,t)}else console.warn("CzmFlattenedPlane warning: 没有位置，无法飞入！")}))),t}));var r=function(){if(!n.enabled)return n.finalMatrix=void 0,void(n.polylines.positions=void 0);var e=c([],u(n.modelMatrix),!1),t=[];do{if(n.finalMatrix=void 0,!n.position)break;var r=(0,p.computeCzmModelMatrix)({position:n.position,rotation:n.rotation});if(!r)break;var o=y.Matrix4.fromArray(n.modelMatrix),i=y.Matrix4.multiply(r,o,new y.Matrix4);y.Matrix4.toArray(i,e),n.finalMatrix=i,t=w(n.minSize,n.maxSize,i)}while(0);n.polylines.positions=t};r();var o=n.disposeVar((0,d.createNextAnimateFrameEvent)(n.enabledChanged,n.positionChanged,n.rotationChanged,n.modelMatrixChanged,n.minSizeChanged,n.maxSizeChanged));n.dispose(o.disposableOn(r));var i=n.disposeVar((0,d.createNextAnimateFrameEvent)(n.enabledChanged,n.reverseChanged,n.discardChanged));return n.disposeVar(new h.ObjResettingWithEvent(i,(function(){if(n.enabled)return new P(n,n.reverse)}))),n.dispose((0,d.track)([n.polylines,"color"],[n,"edgeColor"])),n.dispose((0,d.track)([n.polylines,"width"],[n,"edgeWidth"])),n.dispose((0,d.track)([n.polylines,"show"],[n,"showHelper"])),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmFlattenedPlane"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"computedCustomShader",{get:function(){return this._computedCustomShader.value},set:function(e){this._computedCustomShader.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"computedCustomShaderChanged",{get:function(){return this._computedCustomShader.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneObjectIdsResetting",{get:function(){return this._sceneObjectIdsResetting},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sPositionEditing",{get:function(){return this._sPositionEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polylines",{get:function(){return this._polylines},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalMatrix",{get:function(){return this._finalMatrix.value},set:function(e){this._finalMatrix.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finalMatrixChanged",{get:function(){return this._finalMatrix.changed},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){return c(c([],u(e.prototype.getProperties.call(this,n)),!1),[new f.GroupProperty("通用","通用",[new f.BooleanProperty("启用","启用(enabled)",!1,!1,[this,"enabled"]),new f.BooleanProperty("辅助线框","辅助线框",!1,!1,[this,"showHelper"]),new f.BooleanProperty("位置编辑","位置编辑",!1,!1,[this,"positionEditing"]),new f.PositionProperty("位置","位置",!0,!1,[this,"position"],t.defaults.position),new f.PositionProperty("姿态","姿态",!1,!1,[this,"rotation"]),new f.JsonProperty("矩阵","矩阵",!1,!1,[this,"modelMatrix"],[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"[1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]"),new f.BooleanProperty("reverse","reverse",!1,!1,[this,"reverse"]),new f.Number2Property("discard","discard",!1,!1,[this,"discard"]),new f.ColorProperty("topColor","topColor",!1,!1,[this,"topColor"]),new f.ColorProperty("bottomColor","bottomColor",!1,!1,[this,"bottomColor"]),new f.ColorProperty("edgeColor","edgeColor",!1,!1,[this,"edgeColor"]),new f.NumberProperty("edgeWidth","edgeWidth",!1,!1,[this,"edgeWidth"]),new f.Number2Property("minSize","minSize",!1,!1,[this,"minSize"]),new f.Number2Property("maxSize","maxSize",!1,!1,[this,"maxSize"]),new f.StringsProperty("sceneObjectIds","sceneObjectIds",!1,!1,[this,"sceneObjectIds"])]),new f.GroupProperty("czmTexture","czmTexture",[new f.StringProperty("czmTextureId","czmTextureId",!1,!1,[this,"czmTextureId"])])],!1)},n=t,t.type=n.register("CzmFlattenedPlane",n,{chsName:"CzmFlattenedPlane",tags:["ESObjects","_ES_Impl_Cesium"],description:"CzmFlattenedPlane"}),t.defaults=i(i({},f.ESSceneObject.defaults),{position:[116.39,39.9,100]}),t}(f.ESSceneObject);t.CzmFlattenedPlane=C,function(e){e.createDefaultProps=function(){return i(i({},f.ESSceneObject.createDefaultProps()),{enabled:!0,showHelper:!0,positionEditing:!1,position:(0,d.reactArrayWithUndefined)(void 0),rotation:(0,d.reactArray)([0,0,0]),modelMatrix:(0,d.reactArray)([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),reverse:!1,discard:(0,d.reactArray)([0,1]),topColor:(0,d.reactArray)([1,1,1,1]),bottomColor:(0,d.reactArray)([1,1,1,1]),edgeColor:(0,d.reactArray)([1,1,1,1]),edgeWidth:2,minSize:(0,d.reactArray)([-100,-100]),maxSize:(0,d.reactArray)([100,100]),sceneObjectIds:(0,d.reactArray)([]),czmTextureId:""})}}(C=t.CzmFlattenedPlane||(t.CzmFlattenedPlane={})),t.CzmFlattenedPlane=C,(0,d.extendClassProps)(C.prototype,C.createDefaultProps)},9230:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmFlyAround=void 0;var l=n(43938),u=n(19239),c=n(43938),p=n(94434),f=function(e){function t(t){var n=e.call(this,t)||this;n._flyToEvent=n.disposeVar(new u.Event),n._applyCurrentDistanceEvent=n.disposeVar(new u.Event);var r=n.disposeVar(new p.CzmPoint);return n.dispose(n.components.disposableAdd(r)),r.show=!1,r.pixelSize=5,r.color=[1,1,0,1],r.outlineColor=[0,0,0,.6],r.outlineWidth=1,n.dispose((0,u.bind)([r,"position"],[n,"position"])),n.dispose((0,u.bind)([r,"editing"],[n,"positionEditing"])),n.dispose(r.showChanged.disposableOn((function(e){return n.showTarget=null==e||e}))),n.dispose(n.showTargetChanged.disposableOn((function(e){return r.show=null!=e&&e}))),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmFlyAround"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("是否正在飞行","是否正在飞行",!0,!1,[this,"enabled"],t.defaults.enabled),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"],t.defaults.position),new l.BooleanProperty("位置编辑","位置编辑",!0,!1,[this,"positionEditing"],t.defaults.positionEditing),new l.BooleanProperty("目标显示","目标显示",!0,!1,[this,"showTarget"],t.defaults.showTarget),new l.NumberProperty("目标距离","环绕飞行的目标距离",!0,!1,[this,"stopRadius"],t.defaults.stopRadius),new l.FunctionProperty("应用当前视距","应用当前视距",[],(function(){return r.applyCurrentDistance()}),[]),new l.NumberProperty("目标俯仰角","目标俯仰角",!0,!1,[this,"stopPitch"],t.defaults.stopPitch),new l.NumberProperty("飞入时长","注意只是飞入目标位置的耗时，飞入目标位置以后，将进行无限循环时环绕飞行",!0,!1,[this,"flyToDuration"],t.defaults.flyToDuration),new l.NumberProperty("环绕速度","环绕速度",!0,!1,[this,"aroundSpeed"],t.defaults.aroundSpeed),new l.BooleanProperty("置中","是否将目标位置移动到屏幕中心",!0,!1,[this,"placeCenter"],t.defaults.placeCenter)])],!1)},Object.defineProperty(t.prototype,"applyCurrentDistanceEvent",{get:function(){return this._applyCurrentDistanceEvent},enumerable:!1,configurable:!0}),t.prototype.applyCurrentDistance=function(){this._applyCurrentDistanceEvent.emit()},n=t,t.type=n.register("CzmFlyAround",n,{chsName:"环绕飞行",tags:["GeoObjects","_ES_Impl_Cesium"],description:"CzmFlyAround环绕飞行"}),t.defaults=i(i({},c.ESSceneObject.defaults),{enabled:!1,position:[0,0,0],positionEditing:!1,showTarget:!1,stopRadius:1e3,stopPitch:-50,flyToDuration:1e3,aroundSpeed:.018,placeCenter:!1}),t}(c.ESSceneObject);t.CzmFlyAround=f,function(e){e.createDefaultProps=function(){return i({enabled:void 0,position:(0,u.reactArrayWithUndefined)(void 0),positionEditing:void 0,showTarget:void 0,stopRadius:void 0,stopPitch:void 0,flyToDuration:void 0,aroundSpeed:void 0,placeCenter:void 0},c.ESSceneObject.createDefaultProps())}}(f=t.CzmFlyAround||(t.CzmFlyAround={})),t.CzmFlyAround=f,(0,u.extendClassProps)(f.prototype,f.createDefaultProps)},26206:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmFogPostProcess=void 0;var l=n(43938),u=n(19239),c=function(e){function t(t){return e.call(this,t)||this}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmFogPostProcess"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("show","show",!1,!1,[this,"show"]),new l.Number4Property("fogByDistance","fogByDistance",!1,!1,[this,"fogByDistance"]),new l.ColorProperty("fogColor","fogColor",!1,!1,[this,"fogColor"])])],!1)},n=t,t.type=n.register("CzmFogPostProcess",n,{chsName:"雾后处理特效",tags:["CzmObjects","_ES_Impl_Cesium"],description:"雾后处理特效"}),t.defaults=i({},l.ESSceneObject.defaults),t}(l.ESSceneObject);t.CzmFogPostProcess=c,function(e){e.createDefaultProps=function(){return i({show:!0,fogByDistance:(0,u.reactArray)([10,0,200,1]),fogColor:(0,u.reactArray)([1,1,1,1])},l.ESSceneObject.createDefaultProps())}}(c=t.CzmFogPostProcess||(t.CzmFogPostProcess={})),t.CzmFogPostProcess=c,(0,u.extendClassProps)(c.prototype,c.createDefaultProps)},83822:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGeoJson=void 0;var l=n(43938),u=n(19239),c={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[116.2,39.56]},properties:{title:"swimming","marker-symbol":"swimming","marker-color":"#8F1312"}},{type:"Feature",geometry:{type:"Point",coordinates:[115.2,38.56]},properties:{title:"8","marker-symbol":"8","marker-color":"#46117E"}},{type:"Feature",geometry:{type:"Point",coordinates:[114.2,37.56]},properties:{title:"6","marker-symbol":"6","marker-color":"#713291"}}]},p="// dataSource\n(dataSource) => {\n    if (dataSource) {\n        dataSource.show = true;\n\n        const entities = dataSource.entities.values;\n        const colorHash = {};\n        for (let i = 0; i < entities.length; i++) {\n            const entity = entities[i];\n            const name = entity.name;\n            let color = colorHash[name];\n            if (!color) {\n                color = Cesium.Color.fromRandom({\n                    alpha: 1.0,\n                });\n                colorHash[name] = color;\n            }\n            if (entity.polygon) {\n\n                entity.polygon.material = color;\n                entity.polygon.outline = false;\n                entity.polygon.extrudedHeight = entity.properties.Population / 50.0;\n            }\n        }\n    }\n}\n",f="${xe2-base-objects-script-dir}/xe2-assets/scene-manager/misc/2.geojson",d="".concat(f,"\n\n该路径可以使用下面回调函数\n```\n").concat(p,"\n```\n"),h=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new u.Event),n._pickedEvent=n.disposeVar(new u.Event),n._loadFuncReact=n.disposeVar((0,u.react)(void 0)),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmGeoJson"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loadFun",{get:function(){return this._loadFuncReact.value},set:function(e){this._loadFuncReact.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loadFunChanged",{get:function(){return this._loadFuncReact.changed},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("是否显示","A boolean Property specifying the visibility .",!0,!1,[this,"show"],t.defaults.show),new l.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"],t.defaults.allowPicking),new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.JsonProperty("数据","数据",!0,!1,[this,"data"],t.defaults.data,t.defaults.dataMd),new l.UriProperty("路径","路径",!0,!1,[this,"uri"],t.defaults.uri),new l.ColorProperty("填充颜色","填充颜色",!0,!1,[this,"fill"],t.defaults.fill),new l.ColorProperty("轮廓颜色","轮廓颜色",!0,!1,[this,"stroke"],t.defaults.stroke),new l.NumberProperty("轮廓宽度","轮廓宽度",!0,!1,[this,"strokeWidth\t"],t.defaults.strokeWidth),new l.StringProperty("点位符号","点位符号",!0,!1,[this,"markerSymbol"],t.defaults.markerSymbol),new l.ColorProperty("点位颜色","点位颜色",!0,!1,[this,"markerColor"],t.defaults.markerColor),new l.NumberProperty("点位大小","点位大小",!0,!1,[this,"markerSize"],t.defaults.markerSize),new l.BooleanProperty("是否贴地","是否贴地",!0,!1,[this,"clampToGround"],t.defaults.clampToGround),new l.EvalStringProperty("loadFnStr","loadFnStr",!0,!1,[this,"loadFuncStr"],t.defaults.defaultLoadFuncStr,t.defaults.defaultLoadFuncDocStr)])],!1)},n=t,t.type=n.register("CzmGeoJson",n,{chsName:"CzmGeoJson",tags:["CzmObjects","_ES_Impl_Cesium"],description:"GeoJson数据加载"}),t.defaults=i(i({},l.ESSceneObject.defaults),{show:!0,allowPicking:!0,fill:[.79,.91,.06,.2],stroke:[.79,.91,.06,1],strokeWidth:1,markerSymbol:"0",markerColor:[.79,.91,.06,1],markerSize:100,clampToGround:!1,uri:f,defaultLoadFuncStr:p,defaultLoadFuncDocStr:d,data:c,dataMd:'properties是一个包含三个属性的对象，title表示标题，marker-symbol表示点位的文字内容，marker-color表示点位颜色，properties可以删除，然后使用场景对象属性设置。\n```\n{\n    "type": "FeatureCollection",\n    "features": [\n        {\n            "type": "Feature",\n            "geometry": {\n                "type": "Point",\n                "coordinates": [\n                    116.2,\n                    39.56\n                ]\n            },\n            "properties": {\n                "title": "swimming",\n                "marker-symbol": "swimming",\n                "marker-color": "#8F1312"\n            }\n        },\n        {\n            "type": "Feature",\n            "geometry": {\n                "type": "Point",\n                "coordinates": [\n                    115.2,\n                    38.56\n                ],\n                "properties": {\n                    "title": "8",\n                    "marker-symbol": "8",\n                    "marker-color": "#46117E"\n                }\n            }\n        },\n        {\n            "type": "Feature",\n            "geometry": {\n                "type": "Point",\n                "coordinates": [\n                    114.2,\n                    37.56\n                ],\n                "properties": {\n                    "title": "6",\n                    "marker-symbol": "6",\n                    "marker-color": "#713291"\n                }\n            }\n        }\n    ]\n}\n```\n'}),t}(l.ESSceneObject);t.CzmGeoJson=h,function(e){e.createDefaultProps=function(){return i({show:!0,uri:void 0,fill:(0,u.reactArrayWithUndefined)(void 0),data:(0,u.reactJsonWithUndefined)(void 0),stroke:(0,u.reactArrayWithUndefined)(void 0),strokeWidth:void 0,clampToGround:void 0,allowPicking:void 0,loadFuncStr:void 0,markerSymbol:void 0,markerColor:(0,u.reactArrayWithUndefined)(void 0),markerSize:void 0},l.ESSceneObject.createDefaultProps())}}(h=t.CzmGeoJson||(t.CzmGeoJson={})),t.CzmGeoJson=h,(0,u.extendClassProps)(h.prototype,h.createDefaultProps)},60091:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGlobeLevelMaterial=void 0;var l=n(43938),u=n(19239),c=function(e){function t(t){return e.call(this,t)||this}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmGlobeLevelMaterial"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("启用","启用(enabled)",!1,!1,[this,"enabled"]),new l.Number3Property("inputShadows","inputShadows",!1,!1,[this,"inputShadows"]),new l.Number3Property("inputHighlights","inputHighlights",!1,!1,[this,"inputHighlights"]),new l.Number3Property("midtones","midtones",!1,!1,[this,"midtones"]),new l.Number3Property("outputShadows","outputShadows",!1,!1,[this,"outputShadows"]),new l.Number3Property("outputHighlights","outputHighlights",!1,!1,[this,"outputHighlights"])])],!1)},n=t,t.type=n.register("CzmGlobeLevelMaterial",n,{chsName:"CzmGlobeLevelMaterial",tags:["ESObjects","_ES_Impl_Cesium"],description:"CzmGlobeLevelMaterial"}),t.defaults=i({},l.ESSceneObject.defaults),t}(l.ESSceneObject);t.CzmGlobeLevelMaterial=c,function(e){e.createDefaultProps=function(){return i(i({},l.ESSceneObject.createDefaultProps()),{enabled:!0,inputShadows:[0,0,0],inputHighlights:[1,1,1],midtones:[.5,.5,.5],outputShadows:[0,0,0],outputHighlights:[1,1,1]})}}(c=t.CzmGlobeLevelMaterial||(t.CzmGlobeLevelMaterial={})),t.CzmGlobeLevelMaterial=c,(0,u.extendClassProps)(c.prototype,c.createDefaultProps)},53447:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmGlobeMaterial=void 0;var l=n(43938),u=n(19239),c=n(43938),p=function(e){function t(t){return e.call(this,t)||this}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmGlobeMaterial"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"],t.defaults.show),new l.BooleanProperty("enableContour","enableContour.",!0,!1,[this,"enableContour"],t.defaults.enableContour),new l.NumberProperty("contourSpacing","contourSpacing",!0,!1,[this,"contourSpacing"],t.defaults.contourSpacing),new l.NumberProperty("contourWidth","contourWidth",!0,!1,[this,"contourWidth"],t.defaults.contourWidth),new l.EnumProperty("材质模式","材质模式",!0,!1,[this,"shadingMode"],[["高程","elevation"],["坡度","slope"],["坡向","aspect"],["不着色","none"]],t.defaults.shadingMode)])],!1)},n=t,t.type=n.register("CzmGlobeMaterial",n,{chsName:"全球材质",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Material API 实现的全球材质, 注意坡度和坡向材质起作用是需要地形的requestVertexNormals属性设置为true"}),t.defaults=i(i({},c.ESSceneObject.defaults),{show:!1,enableContour:!1,contourSpacing:150,contourWidth:2,shadingMode:"none"}),t}(c.ESSceneObject);t.CzmGlobeMaterial=p,function(e){e.createDefaultProps=function(){return i({show:void 0,shadingMode:void 0,enableContour:!1,contourSpacing:150,contourWidth:2},c.ESSceneObject.createDefaultProps())}}(p=t.CzmGlobeMaterial||(t.CzmGlobeMaterial={})),t.CzmGlobeMaterial=p,(0,u.extendClassProps)(p.prototype,p.createDefaultProps)},6981:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmHeatMap=void 0;var u=n(43938),c=n(19239),p=n(66008),f=l(n(61630)),d=n(98986),h=function(e){function t(n){var r=e.call(this,n)||this;r._pickedEvent=r.disposeVar(new c.Event),r._flyToEvent=r.disposeVar(new c.Event),r._geoRectangle=r.disposeVar(new u.GeoRectangle),r._canvasHeightAndCanvasUnitPerMeter=r.disposeVar((0,c.reactArrayWithUndefined)(void 0)),r._transformedData=r.disposeVar((0,c.react)([])),r._radiusInCanvasUnit=r.disposeVar((0,c.react)(void 0));var o=r,i=r.disposeVar(new d.CzmTexture);r.dispose(r.components.disposableAdd(i)),i.flipY=!1;var s=r.disposeVar(new p.CzmCustomGroundRectangle);r.dispose(r.components.disposableAdd(s)),s.sharedCzmTextureWithId.sceneObject=i;var l=r._canvasHeightAndCanvasUnitPerMeter,h=document.createElement("div");r._div=h,document.body.appendChild(h),r.dispose((function(){document.body.removeChild(h)})),h.style.display="none";var y=f.default.create({container:h,radius:40,blur:.85});r._heatMap=y,(C=function(){var e,n=null!==(e=o.rectangle)&&void 0!==e?e:t.defaults.rectangle,i=n[2]-n[0],a=n[3]-n[1];if(!Number.isFinite(i)||!Number.isFinite(a)||i<=0||a<=0)l.value=void 0;else{var s=r.getCanvasWidth(),u=12756274*Math.PI/360,c=Math.cos((n[1]+.5*a)*Math.PI/180);if(c<=0)l.value=void 0;else{var p=1/c,f=p*s*a/i,d=s/(i*p*u);l.value=[f,d],o.debug&&console.log("canvasHeightAndCanvasUnitPerMeter: ".concat(l.value.toString()))}}})();var g=r.disposeVar((0,c.createNextAnimateFrameEvent)(o.canvasWidthChanged,o.rectangleChanged));r.dispose(g.disposableOn(C));var m=r._transformedData;(C=function(){var e,n;if(l.value){var r=o.getCanvasWidth(),i=a(l.value,1)[0],s=null!==(e=o.rectangle)&&void 0!==e?e:t.defaults.rectangle;h.style.width="".concat(r,"px"),h.style.height="".concat(i,"px"),o.heatMap._renderer.setDimensions(r,i),o.debug&&console.log("setDimensions(".concat(r,", ").concat(i,")")),m.value=function(e,t,n,r){return e.map((function(e){return{x:(e[0]-t[0])*n/(t[2]-t[0])|0,y:(e[1]-t[1])*r/(t[3]-t[1])|0,value:e[2]}}))}(null!==(n=o.data)&&void 0!==n?n:t.defaults.data,s,r,i),o.debug&&console.log("transformedData changed",m)}})();var v=r.disposeVar((0,c.createNextAnimateFrameEvent)(o.canvasWidthChanged,l.changed,o.rectangleChanged,o.dataChanged));r.dispose(v.disposableOn(C));var b=r.disposeVar(new c.Event);(C=function(){var e,n,r,i,a,s=null!==(e=o.radius)&&void 0!==e?e:t.defaults.radius,l={radius:s,maxOpacity:null!==(n=o.maxOpacity)&&void 0!==n?n:t.defaults.maxOpacity,minOpacity:null!==(r=o.minOpacity)&&void 0!==r?r:t.defaults.minOpacity,blur:null!==(i=o.blur)&&void 0!==i?i:t.defaults.blur,gradient:null!==(a=o.gradient)&&void 0!==a?a:t.defaults.gradient};y.configure(l),y._store._cfgRadius=s,b.emit(),o.debug&&console.log("resetDataEvent.emit()")})();var _=r.disposeVar((0,c.createNextAnimateFrameEvent)(o.radiusChanged,o.maxOpacityChanged,o.minOpacityChanged,o.blurChanged,o.gradientChanged));r.dispose(_.disposableOn(C)),(C=function(){var e,n,r,a={max:null!==(e=o.max)&&void 0!==e?e:t.defaults.max,min:null!==(n=o.min)&&void 0!==n?n:t.defaults.min,data:m.value};y.setData(a);var s=y._renderer.canvas;(null!==(r=o.debug)&&void 0!==r?r:t.defaults.debug)&&console.log("canvas: ",s),i.copyFromCanvas(s)})();var w=r.disposeVar((0,c.createNextAnimateFrameEvent)(o.maxChanged,o.minChanged,m.changed,b));r.dispose(w.disposableOn(C)),r.dispose((0,c.track)([s,"show"],[o,"show"])),r.dispose((0,c.bind)([s,"allowPicking"],[o,"allowPicking"])),r.dispose((0,c.bind)([s,"editing"],[o,"editing"])),r.dispose((0,c.bind)([s,"pointEditing"],[o,"pointEditing"])),r.dispose((0,c.bind)([s,"rectangle"],[o,"rectangle"])),r.dispose((0,c.bind)([s,"rotation"],[o,"rotationAngle"])),r.dispose((0,c.track)([s,"color"],[o,"color"])),r.dispose((0,c.track)([s,"classificationType"],[o,"classificationType"])),r.dispose(s.pickedEvent.disposableOn((function(e){var t;null!==(t=o.allowPicking)&&void 0!==t&&t&&o.pickedEvent.emit(new u.SceneObjectPickedInfo(s,e))}))),r.dispose(o.flyToEvent.disposableOn((function(e){s.flyTo(e)})));var P=r.geoRectangle;P.material={type:"Color",color:[1,1,1,.3]},r.dispose(r.components.disposableAdd(P));var C,O=r.disposeVar((0,c.createNextAnimateFrameEvent)(r.editingChanged,r.pointEditingChanged));return(C=function(){var e,n,o=(null!==(e=r.editing)&&void 0!==e?e:t.defaults.editing)||(null!==(n=r.pointEditing)&&void 0!==n?n:t.defaults.pointEditing);P.show=o})(),r.dispose(O.disposableOn(C)),r.dispose((0,c.track)([P,"rectangle"],[r,"rectangle"])),r}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmHeatMap"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"heatMap",{get:function(){return this._heatMap},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoRectangle",{get:function(){return this._geoRectangle},enumerable:!1,configurable:!0}),t.prototype.setTestCenterData=function(){if(this.rectangle){var e=this.rectangle,t=e[2]-e[0],n=e[3]-e[1];t<=0||n<=0?console.warn("setRandomData error: w <= 0 || h <= 0"):this.data=[[e[0],e[1],100],[e[2],e[3],100],[.5*t+e[0],.5*n+e[1],100]]}else console.warn("setRandomData error: !this.rectangle")},t.prototype.getCanvasWidth=function(){var e,n=null!==(e=this.canvasWidth)&&void 0!==e?e:t.defaults.canvasWidth;return n<0?10:n>8192?8192:n},t.prototype.setTestRandomData=function(e){var n;if(this.rectangle){var r=this.rectangle,o=r[2]-r[0],i=r[3]-r[1];if(o<=0||i<=0)console.warn("setRandomData error: w <= 0 || h <= 0");else{var l=null!==(n=this.radius)&&void 0!==n?n:t.defaults.radius,u=this.getCanvasWidth(),c=Math.cos((r[1]+.5*i)*Math.PI/180),p=2*l/u,f=p*c;this.data=s([],a(new Array(e).keys()),!1).map((function(e){return[r[0]+f*o+(o-2*o*f)*Math.random(),r[1]+p*i+(i-2*i*p)*Math.random(),100*Math.random()]}))}}else console.warn("setRandomData error: !this.rectangle")},Object.defineProperty(t.prototype,"canvasHeightAndCanvasUnitPerMeter",{get:function(){return this._canvasHeightAndCanvasUnitPerMeter.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformedData",{get:function(){return this._transformedData.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"radiusInCanvasUnit",{get:function(){return this._radiusInCanvasUnit.value},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new u.GroupProperty("通用","通用",[new u.BooleanProperty("是否可见","是否可见",!0,!1,[this,"show"],t.defaults.show),new u.BooleanProperty("allowPicking","allowPicking.",!0,!1,[this,"allowPicking"],t.defaults.allowPicking),new u.NumberProperty("旋转角","原点",!0,!1,[this,"rotationAngle"],t.defaults.rotationAngle),new u.BooleanProperty("是否编辑","是否编辑.",!0,!1,[this,"editing"],t.defaults.editing),new u.BooleanProperty("是否单点编辑","是否单点编辑.",!0,!1,[this,"pointEditing"],t.defaults.pointEditing),new u.Number4Property("rectangle","rectangle",!0,!1,[this,"rectangle"],t.defaults.rectangle),new u.Number4Property("颜色","颜色",!0,!1,[this,"color"],t.defaults.color),new u.EnumProperty("classificationType","classificationType",!0,!1,[this,"classificationType"],[["Terrain","Terrain"],["Cesium3dTile","Cesium3dTile"],["Both","Both"]],t.defaults.classificationType)]),new u.GroupProperty("热力图","热力图",[new u.JsonProperty("数据","数据，需要经纬度以及对应的热力值",!0,!1,[this,"data"],t.defaults.data,t.defaults.dataMd),new u.NumberProperty("画布宽度","画布宽度",!0,!1,[this,"canvasWidth"],t.defaults.canvasWidth),new u.NumberProperty("最大值","最大值",!0,!1,[this,"max"],t.defaults.max),new u.NumberProperty("最小值","最小值",!0,!1,[this,"min"],t.defaults.min),new u.NumberProperty("半径","半径",!0,!1,[this,"radius"],t.defaults.radius),new u.NumberProperty("最大不透明度","最大不透明度(0-1),最高值将具有的最大不透明度",!0,!1,[this,"maxOpacity"],t.defaults.maxOpacity),new u.NumberProperty("最小不透明度","最小不透明度(0-1),最低值将具有的最小不透明度",!0,!1,[this,"minOpacity"],t.defaults.minOpacity),new u.NumberProperty("模糊","模糊(0-1),应用于所有数据点的模糊因子。模糊因子越高，渐变越平滑",!0,!1,[this,"blur"],t.defaults.blur),new u.JsonProperty("色带","色带",!0,!1,[this,"gradient"],t.defaults.gradient),new u.FunctionProperty("setTestCenterData","setTestCenterData",[],(function(){return r.setTestCenterData()}),[]),new u.FunctionProperty("setTestRandomData","setTestRandomData",["number"],(function(e){return r.setTestRandomData(e)}),[5]),new u.BooleanProperty("调试","调试.",!0,!1,[this,"debug"],t.defaults.debug)])],!1)},n=t,t.type=n.register("CzmHeatMap",n,{chsName:"CzmHeatMap",tags:["CzmObjects"],description:"CzmHeatMap"}),t.defaults=i(i({},u.ESSceneObject.defaults),{show:!0,allowPicking:!1,origin:[.5,.5],rotationAngle:0,color:[1,1,1,1],classificationType:"Both",data:[],dataMd:"\n示例1:设置rectangle为 [\n    119.39,\n    39.9,\n    120.39,\n    40.9\n]\n```\n",canvasWidth:256,max:100,min:0,radius:50,maxOpacity:.5,minOpacity:0,blur:.85,gradient:{".5":"green",".7":"yellow",".95":"red"},pointEditing:!1,rectangle:[118.39,38.9,120.39,40.9],editing:!1,debug:!1}),t}(u.ESSceneObject);t.CzmHeatMap=h,function(e){e.createDefaultProps=function(){return i({show:void 0,allowPicking:void 0,rotationAngle:void 0,color:(0,c.reactArrayWithUndefined)(void 0),classificationType:void 0,data:(0,c.reactDeepArrayWithUndefined)(void 0,(function(e,t){return e.every((function(e,n){return e===t[n]}))}),(function(e){return s([],a(e),!1)})),canvasWidth:void 0,max:void 0,min:void 0,radius:void 0,maxOpacity:void 0,minOpacity:void 0,blur:void 0,gradient:(0,c.reactJsonWithUndefined)(void 0),rectangle:(0,c.reactArrayWithUndefined)(void 0),editing:void 0,pointEditing:void 0,debug:void 0},u.ESSceneObject.createDefaultProps())}}(h=t.CzmHeatMap||(t.CzmHeatMap={})),t.CzmHeatMap=h,(0,c.extendClassProps)(h.prototype,h.createDefaultProps)},75670:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmImageModel=void 0;var l=n(43938),u=n(43938),c=n(19239),p=n(10070),f=n(323),d=function(e){function t(t){var n=e.call(this,t)||this;n._pickedEvent=n.disposeVar(new c.Event),n._flyToEvent=n.disposeVar(new c.Event);var r=n.disposeVar(new f.CzmCustomPrimitive);n.dispose(n.components.disposableAdd(r)),n.dispose(r.pickedEvent.disposableOn((function(e){var t;null!==(t=n.allowPicking)&&void 0!==t&&t&&n.pickedEvent.emit(new u.SceneObjectPickedInfo(n,e))}))),r.attributes={position:{typedArray:new Float32Array([0,0,0,0,-1,0,1,-1,0,1,0,0,0,0,0,0,-1,0,1,-1,0,1,0,0]),componentsPerAttribute:3},normal:{typedArray:new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1]),componentsPerAttribute:3},textureCoordinates:{typedArray:new Float32Array([0,1,0,0,1,0,1,1,1,1,1,0,0,0,0,1]),componentsPerAttribute:2}},r.indexTypedArray=new Uint16Array([0,1,2,0,2,3,6,5,4,7,6,4]),r.boundingVolume={type:"LocalAxisedBoundingBox",data:{min:[0,-1,0],max:[1,0,0]}},r.pass="TRANSLUCENT",r.vertexShaderSource="\n        // vtxf 使用double类型的position进行计算\n        // in vec3 position3DHigh;\n        // in vec3 position3DLow;\n        in vec3 position;\n        in vec3 normal;\n        in vec2 st;\n        in float batchId;\n        out vec3 v_positionEC;\n        out vec3 v_normalEC;\n        out vec2 v_st;\n        void main()\n        {\n            // vtxf 使用double类型的position进行计算\n            // vec4 p = czm_translateRelativeToEye(position3DHigh, position3DLow);\n            // v_positionEC = (czm_modelViewRelativeToEye * p).xyz;      // position in eye coordinates\n            // v_normalEC = czm_normal * normal;                         // normal in eye coordinates\n            // v_st = st;\n            // gl_Position = czm_modelViewProjectionRelativeToEye * p;\n            v_positionEC = (czm_modelView * vec4(position, 1.0)).xyz;       // position in eye coordinates\n            v_normalEC = czm_normal * normal;                               // normal in eye coordinates\n            v_st = st;\n            gl_Position = czm_modelViewProjection * vec4(position, 1.0);\n        }\n        ",r.fragmentShaderSource="\n        in vec3 v_positionEC;\n        in vec3 v_normalEC;\n        in vec2 v_st;\n        uniform sampler2D myImage;\n        uniform vec4 myColor;\n        uniform float u_xe2VisibleAlpha;\n        void main()\n        {\n            vec3 positionToEyeEC = -v_positionEC;\n            vec3 normalEC = normalize(v_normalEC);\n        #ifdef FACE_FORWARD\n            normalEC = faceforward(normalEC, vec3(0.0, 0.0, 1.0), -normalEC);\n        #endif\n            czm_materialInput materialInput;\n            materialInput.normalEC = normalEC;\n            materialInput.positionToEyeEC = positionToEyeEC;\n            materialInput.st = v_st;\n            //czm_material material = czm_getMaterial(materialInput);\n            czm_material material = czm_getDefaultMaterial(materialInput);\n            vec4 imageColor = texture(myImage, materialInput.st);\n            material.diffuse = imageColor.rgb;\n            material.alpha = imageColor.a * u_xe2VisibleAlpha;\n        // #ifdef FLAT\n            out_FragColor = vec4(material.diffuse + material.emission, material.alpha) * myColor;\n        // #else\n            // out_FragColor = czm_phong(normalize(positionToEyeEC), material, czm_lightDirectionEC);\n        // #endif\n        }\n        ",r.renderState={depthTest:{enabled:!0},cull:{enabled:!0,face:1029},blending:{enabled:!0,equationRgb:32774,equationAlpha:32774,functionSourceRgb:770,functionSourceAlpha:1,functionDestinationRgb:771,functionDestinationAlpha:771}};var o=function(){var e,t;r.uniformMap={myImage:{type:"image",uri:p.SceneObject.context.getStrFromEnv(null!==(e=n.uri)&&void 0!==e?e:"${scene-manager-script-dir}/xe2-assets/scene-manager/images/location.png")},myColor:null!==(t=n.color)&&void 0!==t?t:[1,1,1,1]}};o(),n.dispose(n.uriChanged.disposableOn(o)),n.dispose(n.colorChanged.disposableOn(o)),n.dispose((0,c.bind)([r,"show"],[n,"show"])),n.dispose((0,c.bind)([r,"allowPicking"],[n,"allowPicking"])),n.dispose((0,c.bind)([r,"position"],[n,"position"])),n.dispose((0,c.bind)([r,"rotation"],[n,"rotation"])),n.dispose((0,c.bind)([r,"positionEditing"],[n,"positionEditing"])),n.dispose((0,c.bind)([r,"rotationEditing"],[n,"rotationEditing"])),n.dispose((0,c.bind)([r,"pixelSize"],[n,"pixelSize"])),n.dispose((0,c.bind)([r,"maximumScale"],[n,"maximumScale"])),n.dispose((0,c.bind)([r,"viewDistanceRange"],[n,"viewDistanceRange"])),n.dispose((0,c.bind)([r,"viewDistanceDebug"],[n,"viewDistanceDebug"]));var i=function(){var e=n.scale,t=void 0===e?1:e;r.scale=[t,t,1]};i(),n.dispose(n.scaleChanged.disposableOn(i));var s=function(){var e,t,o=function(e,t,n){var r=a(e,4),o=r[0],i=r[1],s=r[2],l=r[3],u=a(t,2),c=u[0],p=u[1],f=-(c*o+s),d=p*i+l;return[c,0,0,0,0,p,0,0,0,0,1,0,f,d,0,1]}(null!==(e=n.originRatioAndOffset)&&void 0!==e?e:[.5,1,0,0],null!==(t=n.size)&&void 0!==t?t:[1,1]);r.localModelMatrix=o};return s(),n.dispose(n.originRatioAndOffsetChanged.disposableOn(s)),n.dispose(n.sizeChanged.disposableOn(s)),n.dispose(n.flyToEvent.disposableOn((function(e){r.flyTo(e)}))),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmImageModel"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){return(0,l.getGeoJson)("Point",this.position,this.name)},set:function(e){var t=(0,l.setGeoJson)(e);this.name=t.name,this.position=t.position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new u.GroupProperty("通用","通用",[new u.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new u.StringProperty("图片url","图片url",!0,!1,[this,"uri"],t.defaults.uri),new u.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!1,!1,[this,"show"],t.defaults.show),new u.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"],t.defaults.allowPicking),new u.PositionProperty("位置","位置(经度/纬度/高度)，度为单位",!0,!1,[this,"position"],t.defaults.position),new u.RotationProperty("姿态","姿态(偏航/俯仰/翻转)，度为单位",!0,!1,[this,"rotation"],t.defaults.rotation),new u.BooleanProperty("是否位置编辑","是否编辑.",!0,!1,[this,"positionEditing"],t.defaults.positionEditing),new u.BooleanProperty("是否偏移编辑","是否编辑.",!0,!1,[this,"rotationEditing"],t.defaults.rotationEditing),new u.Number2Property("尺寸","size 单位是米",!0,!1,[this,"size"],t.defaults.size),new u.NumberProperty("缩放","scale",!0,!1,[this,"scale"],t.defaults.scale),new u.NumberProperty("最大缩放值","最大缩放值，需要和屏幕像素(pixelSize)配合适用！",!0,!1,[this,"maximumScale"],t.defaults.maximumScale),new u.NumberProperty("最小缩放值","最小缩放值，需要和屏幕像素(pixelSize)配合适用！",!0,!1,[this,"minimumScale"],t.defaults.minimumScale),new u.NumberProperty("屏幕像素","屏幕像素，根据物体在屏幕上的像素大小来决定缩放值，缩放值受maximumScale、minimumScale属性限制",!0,!1,[this,"pixelSize"],t.defaults.pixelSize),new u.ColorProperty("颜色"," A Property specifying the color.",!0,!1,[this,"color"],t.defaults.color),new u.Number4Property("原点比例","原点比例",!0,!1,[this,"originRatioAndOffset"],t.defaults.originRatioAndOffset),new u.Number4Property("可视范围控制","可视范围控制[near0, near1, far1, far0]",!0,!1,[this,"viewDistanceRange"],t.defaults.viewDistanceRange),new u.BooleanProperty("可视距离调试","可视距离调试",!1,!1,[this,"viewDistanceDebug"])])],!1)},n=t,t.type=n.register("CzmImageModel",n,{chsName:"图片模型",tags:["CzmObjects"],description:"将图片当成一个模型来绘制，可以设置方向、位置、缩放等。"}),t.defaults=i(i({},u.ESSceneObject.defaults),{show:!1,uri:"${scene-manager-script-dir}/xe2-assets/scene-manager/images/location.png",allowPicking:!1,position:[0,0,0],rotation:[0,0,0],positionEditing:!1,rotationEditing:!1,size:[1,1],scale:1,maximumScale:3,minimumScale:1,pixelSize:50,color:[1,1,1,.5],originRatioAndOffset:[.5,1,0,0],viewDistanceRange:[1e3,1e4,3e4,6e4]}),t}(u.ESSceneObject);t.CzmImageModel=d,function(e){e.createDefaultProps=function(){return i({show:!0,allowPicking:void 0,uri:void 0,position:(0,c.reactArrayWithUndefined)(void 0),rotation:(0,c.reactArrayWithUndefined)(void 0),positionEditing:void 0,rotationEditing:void 0,size:void 0,scale:void 0,maximumScale:void 0,minimumScale:void 0,pixelSize:50,color:(0,c.reactArrayWithUndefined)(void 0),originRatioAndOffset:(0,c.reactArrayWithUndefined)(void 0),viewDistanceRange:(0,c.reactArrayWithUndefined)(void 0),viewDistanceDebug:!1},u.ESSceneObject.createDefaultProps())}}(d=t.CzmImageModel||(t.CzmImageModel={})),t.CzmImageModel=d,(0,c.extendClassProps)(d.prototype,d.createDefaultProps)},27305:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},l=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmImagery=t.getCzmCode=t.getTilingSchemeStr=void 0;var u=n(43938),c=n(43938),p=n(19239),f=n(10070);function d(e){return"GeographicTilingScheme"===e.type?"new Cesium.GeographicTilingScheme()":"WebMercatorTilingScheme"===e.type?"new Cesium.WebMercatorTilingScheme()":void 0}function h(e){var t,n;if("UrlTemplateImageryProvider"===e.type){var r=e.customTags,o="";if(r){o+="customTags: {\n";try{for(var i=a(Object.entries(r)),l=i.next();!l.done;l=i.next()){var u=s(l.value,2),c=u[0],p=u[1];o+='        "'.concat(c,'": ').concat(p,",\n")}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}o+="    }"}var h=e.tilingScheme?"tilingScheme: ".concat(d(e.tilingScheme)):"",y=f.SceneObject.context.getStrFromEnv;return'\nconst imageryProvider = new Cesium.UrlTemplateImageryProvider({\n    url: "'.concat(y(e.url),'",    ').concat(h&&h+",\n","    ").concat(o&&o+",\n","});\nviewer.imageryLayers.addImageryProvider(imageryProvider);\n        ")}}t.getTilingSchemeStr=d,t.getCzmCode=h;var y=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new p.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmImagery"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getCzmCode=function(){if(this.imageryProvider)return h(this.imageryProvider)},t.prototype.getProperties=function(n){var r=this;return l(l([],s(e.prototype.getProperties.call(this,n)),!1),[new c.GroupProperty("通用","通用",[new c.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new c.BooleanProperty("show","是否显示",!0,!1,[this,"show"],t.defaults.show),new c.FunctionProperty("获取Cesium代码","获取Cesium代码",[],(function(){return console.log(r.getCzmCode())}),[])]),new c.GroupProperty("图层","图层",[new c.NumberProperty("zIndex","层级",!0,!1,[this,"zIndex"],t.defaults.zIndex),new c.Number4Property("矩形范围","西南东北",!0,!1,[this,"rectangle"],t.defaults.rectangle),new c.NumberProperty("alpha","The alpha blending value of this layer, from 0.0 to 1.0.",!0,!1,[this,"alpha"],t.defaults.alpha),new c.NumberProperty("nightAlpha","The alpha blending value of this layer on the night side of the globe, from 0.0 to 1.0.",!0,!1,[this,"nightAlpha"],t.defaults.nightAlpha),new c.NumberProperty("dayAlpha","The alpha blending value of this layer on the day side of the globe, from 0.0 to 1.0.",!0,!1,[this,"dayAlpha"],t.defaults.dayAlpha),new c.NumberProperty("brightness","The brightness of this layer. 1.0 uses the unmodified imagery color.",!0,!1,[this,"brightness"],t.defaults.brightness),new c.NumberProperty("contrast","The contrast of this layer. 1.0 uses the unmodified imagery color.",!0,!1,[this,"contrast"],t.defaults.contrast),new c.NumberProperty("hue","The hue of this layer. 0.0 uses the unmodified imagery color. ",!0,!1,[this,"hue"],t.defaults.hue),new c.NumberProperty("saturation","The saturation of this layer. 1.0 uses the unmodified imagery color. ",!0,!1,[this,"saturation"],t.defaults.saturation),new c.NumberProperty("gamma","The gamma correction to apply to this layer. 1.0 uses the unmodified imagery color.",!0,!1,[this,"gamma"],t.defaults.gamma),new c.EnumProperty("splitDirection","The ImagerySplitDirection split to apply to this layer.",!0,!1,[this,"splitDirection"],[["LEFT","LEFT"],["NONE","NONE"],["RIGHT","RIGHT"]],t.defaults.splitDirection),new c.EnumProperty("minificationFilter","The texture minification filter to apply to this layer.",!0,!1,[this,"minificationFilter"],[["LINEAR_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"],["NEAREST_MIPMAP_LINEAR","NEAREST_MIPMAP_LINEAR"],["LINEAR_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST"],["NEAREST","NEAREST"],["LINEAR","LINEAR"],["NEAREST_MIPMAP_NEAREST","NEAREST_MIPMAP_NEAREST"]],t.defaults.minificationFilter),new c.EnumProperty("magnificationFilter","The texture minification filter to apply to this layer.",!0,!1,[this,"magnificationFilter"],[["NEAREST","NEAREST"],["LINEAR","LINEAR"]],t.defaults.magnificationFilter),new c.NumberProperty("maximumAnisotropy","The maximum anisotropy level to use for texture filtering.",!0,!1,[this,"maximumAnisotropy"],t.defaults.maximumAnisotropy),new c.NumberProperty("minimumTerrainLevel","The minimum terrain level-of-detail at which to show this imagery layer, ",!0,!1,[this,"minimumTerrainLevel"],t.defaults.minimumTerrainLevel),new c.NumberProperty("maximumTerrainLevel","The maximum terrain level-of-detail at which to show this imagery layer,",!0,!1,[this,"maximumTerrainLevel"],t.defaults.maximumTerrainLevel),new c.Number4Property("cutoutRectangle","西南东北 ",!0,!1,[this,"cutoutRectangle"],t.defaults.cutoutRectangle),new c.ColorProperty("colorToAlpha","Color to be used as alpha.",!0,!1,[this,"colorToAlpha"],t.defaults.colorToAlpha),new c.NumberProperty("colorToAlphaThreshold","Threshold for color-to-alpha.",!0,!1,[this,"colorToAlphaThreshold"],t.defaults.colorToAlphaThreshold),new c.BooleanProperty("hasAlphaChannel","hasAlphaChannel",!0,!1,[this,"hasAlphaChannel"],t.defaults.hasAlphaChannel),new c.BooleanProperty("enablePickFeatures","enablePickFeatures",!0,!1,[this,"enablePickFeatures"],t.defaults.enablePickFeatures),new c.UriProperty("pickFeaturesUrl","pickFeaturesUrl",!0,!1,[this,"pickFeaturesUrl"],t.defaults.pickFeaturesUrl)]),new c.GroupProperty("数据提供","数据提供",[new c.JsonProperty("Provider","imageryProvider",!1,!1,[this,"imageryProvider"],void 0,u.CzmImageryProviderJsonTypeMd)])],!1)},n=t,t.type=n.register("CzmImagery",n,{chsName:"影像",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的ImageryLayer API 实现的影像。"}),t.defaults=i(i({},c.ESSceneObject.defaults),{show:!0,rectangle:[-180,-90,180,90],alpha:1,nightAlpha:1,dayAlpha:1,brightness:1,contrast:1,hue:0,saturation:1,gamma:1,splitDirection:"NONE",minificationFilter:"LINEAR",magnificationFilter:"LINEAR",maximumAnisotropy:0,minimumTerrainLevel:0,maximumTerrainLevel:0,cutoutRectangle:[1,1,1,1],colorToAlpha:[1,1,1,.5],colorToAlphaThreshold:.004,imageryProvider:{type:"TileMapServiceImageryProvider"},zIndex:0,hasAlphaChannel:!0,pickFeaturesUrl:"",enablePickFeatures:!0}),t}(c.ESSceneObject);t.CzmImagery=y,function(e){e.createDefaultProps=function(){return i({show:void 0,rectangle:(0,p.reactArrayWithUndefined)(void 0),alpha:void 0,nightAlpha:void 0,dayAlpha:void 0,brightness:void 0,contrast:void 0,hue:void 0,saturation:void 0,gamma:void 0,splitDirection:void 0,minificationFilter:void 0,magnificationFilter:void 0,maximumAnisotropy:void 0,minimumTerrainLevel:void 0,maximumTerrainLevel:void 0,cutoutRectangle:(0,p.reactArrayWithUndefined)(void 0),colorToAlpha:(0,p.reactArrayWithUndefined)(void 0),colorToAlphaThreshold:void 0,imageryProvider:(0,p.reactJsonWithUndefined)(void 0),zIndex:0,hasAlphaChannel:void 0,pickFeaturesUrl:void 0,enablePickFeatures:void 0},c.ESSceneObject.createDefaultProps())}}(y=t.CzmImagery||(t.CzmImagery={})),t.CzmImagery=y,(0,p.extendClassProps)(y.prototype,y.createDefaultProps)},74638:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmKml=void 0;var l=n(43938),u=n(19239),c=n(29699),p='async (dataSource, viewer) => {\n    viewer.clock.shouldAnimate = false;\n    const rider = dataSource.entities.getById("tour");\n    await viewer.flyTo(rider)\n\n    viewer.trackedEntity = rider;\n    viewer.selectedEntity = viewer.trackedEntity;\n    viewer.clock.multiplier = 30;\n    viewer.clock.shouldAnimate = true;\n}\n',f="".concat("${xe2-base-objects-script-dir}/xe2-assets/scene-manager/misc/bikeRide.kml","\n\n该路径可以使用下面回调函数\n```\n").concat(p,"\n```\n\n").concat("${xe2-base-objects-script-dir}/xe2-assets/scene-manager/misc/facilities/facilities.kml","\n\n该路径可以使用下面回调函数\n```\n").concat("(dataSource) => {\n    var entities = dataSource.entities.values;\n \n    for (var i = 0; i < entities.length; i++) {\n      var entity = entities[i];\n      if (Cesium.defined(entity.billboard)) {\n        // entity.label = undefined; // 去掉文字的显示\n \n        entity.point = new Cesium.PointGraphics({\n            color: Cesium.Color.BLUE,\n            pixelSize: 10\n        });\n      }\n    }   \n}\n","\n```\n\n").concat("${xe2-base-objects-script-dir}/xe2-assets/scene-manager/misc/gdpPerCapita2008.kmz","\n\n该路径可以使用下面回调函数\n```\n").concat("(dataSource) => {\n    var entities = dataSource.entities.values;\n\n    for (var i = 0; i < entities.length; i++) {\n      var entity = entities[i];\n      if (Cesium.defined(entity.billboard)) {\n        // entity.label = undefined; // 去掉文字的显示\n\n        entity.point = new Cesium.PointGraphics({\n            color: Cesium.Color.YELLOW,\n            pixelSize: 20\n        });\n      }\n    }   \n}\n","\n```\n"),d=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new u.Event),n._pickedEvent=n.disposeVar(new u.Event),n._loadFuncReact=n.disposeVar((0,u.react)(void 0)),n._clock=n.disposeVar(new c.CzmClock),n._resetClockEvent=n.disposeVar(new u.Event),n.dispose(n.components.disposableAdd(n._clock)),n.dispose((0,u.bind)([n.clock,"startTime"],[n,"startTime"])),n.dispose((0,u.bind)([n.clock,"stopTime"],[n,"stopTime"])),n.dispose((0,u.bind)([n.clock,"currentTime"],[n,"currentTime"])),n.dispose((0,u.bind)([n.clock,"multiplier"],[n,"multiplier"])),n.dispose((0,u.bind)([n.clock,"clockStep"],[n,"clockStep"])),n.dispose((0,u.bind)([n.clock,"clockRange"],[n,"clockRange"])),n.dispose((0,u.bind)([n.clock,"shouldAnimate"],[n,"shouldAnimate"])),n.dispose((0,u.bind)([n.clock,"enabled"],[n,"clockEnabled"])),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmKml"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loadFun",{get:function(){return this._loadFuncReact.value},set:function(e){this._loadFuncReact.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loadFunChanged",{get:function(){return this._loadFuncReact.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clock",{get:function(){return this._clock},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resetClockEvent",{get:function(){return this._resetClockEvent},enumerable:!1,configurable:!0}),t.prototype.resetClock=function(){this._resetClockEvent.emit()},t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("是否显示","A boolean Property specifying the visibility .",!0,!1,[this,"show"],t.defaults.show),new l.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"],t.defaults.allowPicking),new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.LongStringProperty("数据","数据",!0,!1,[this,"data"],t.defaults.data,t.defaults.dataMd),new l.UriProperty("路径","路径",!0,!1,[this,"uri"],t.defaults.uri),new l.EvalStringProperty("loadFnStr","loadFnStr",!0,!1,[this,"loadFuncStr"],t.defaults.defaultLoadFuncStr,t.defaults.defaultLoadFuncDocStr),new l.BooleanProperty("自动设置时钟","自动设置时钟",!0,!1,[this,"autoResetClock"],t.defaults.autoResetClock),new l.FunctionProperty("重设时钟","根据当前加载的数据重设始终",[],(function(){return r.resetClock()}),[])]),new l.GroupProperty("时钟","时钟",[new l.BooleanProperty("启用","启用",!0,!1,[this,"clockEnabled"],t.defaults.clockEnabled),new l.DateProperty("开始时间","开始时间",!0,!1,[this,"startTime"],t.defaults.startTime),new l.DateProperty("结束时间","结束时间",!0,!1,[this,"stopTime"],t.defaults.stopTime),new l.DateProperty("当前时间","当前时间",!0,!1,[this,"currentTime"],t.defaults.currentTime),new l.NumberProperty("倍速","倍速.",!0,!1,[this,"multiplier"],t.defaults.multiplier),new l.EnumProperty("clockStep","clockStep",!0,!1,[this,"clockStep"],[["TICK_DEPENDENT","TICK_DEPENDENT"],["SYSTEM_CLOCK_MULTIPLIER","SYSTEM_CLOCK_MULTIPLIER"],["SYSTEM_CLOCK","SYSTEM_CLOCK"]],t.defaults.clockStep),new l.EnumProperty("clockRange","clockRange",!0,!1,[this,"clockRange"],[["UNBOUNDED","UNBOUNDED"],["CLAMPED","CLAMPED"],["LOOP_STOP","LOOP_STOP"]],t.defaults.clockRange),new l.BooleanProperty("是否启用动画","是否启用动画",!0,!1,[this,"shouldAnimate"],t.defaults.shouldAnimate)])],!1)},n=t,t.type=n.register("CzmKml",n,{chsName:"CzmKml",tags:["CzmObjects","_ES_Impl_Cesium"],description:"Kml数据加载"}),t.defaults=i(i({},l.ESSceneObject.defaults),{show:!0,allowPicking:!0,defaultLoadFuncStr:p,defaultLoadFuncDocStr:f,data:'<?xml version="1.0" encoding="utf-8" ?>\n<kml xmlns="http://www.opengis.net/kml/2.2">\n<Document id="root_doc">\n<Folder><name>高速公路</name>\n  <Placemark>\n\t<name>卫岗隧道</name>\n\t<Style><LineStyle><color>ffff0000</color></LineStyle><PolyStyle><fill>0</fill></PolyStyle></Style>\n      <LineString><coordinates>118.8385657,32.0429378 118.8338431,32.0439411</coordinates></LineString>\n  </Placemark>\n  <Placemark>\n\t<name>南京长江隧道</name>\n\t<Style><LineStyle><color>ffff0000</color></LineStyle><PolyStyle><fill>0</fill></PolyStyle></Style>\n      <LineString><coordinates>118.67057150000001,32.0543862 118.6921381,32.0428005 118.6931683,32.0420084 118.6942853,32.0410913 118.6954844,32.0399309 118.6978042,32.037811</coordinates></LineString>\n  </Placemark>\n</Folder>\n<Folder><name>市级地名</name>\n  <Placemark>\n\t<name>南京市</name>\n      <Point><coordinates>118.79126,32.06042</coordinates></Point>\n  </Placemark>\n  <Placemark>\n\t<name>马鞍山市</name>\n      <Point><coordinates>118.49952,31.69933</coordinates></Point>\n  </Placemark>\n</Folder>\n',dataMd:'KML文件本质上是一个XML文件，完全遵循XML文件格式。但是，KML文件定义了几个特殊的元素标签，常用标签为：Placemark：标记或路径 Linestring：路劲的坐标点 Point：标记位置的坐标 Coordinates：经纬度坐标\n```\n<?xml version="1.0" encoding="utf-8" ?>\n<kml xmlns="http://www.opengis.net/kml/2.2">\n<Document id="root_doc">\n<Folder><name>高速公路</name>\n  <Placemark>\n\t<name>卫岗隧道</name>\n\t<Style><LineStyle><color>ffff0000</color></LineStyle><PolyStyle><fill>0</fill></PolyStyle></Style>\n      <LineString><coordinates>118.8385657,32.0429378 118.8338431,32.0439411</coordinates></LineString>\n  </Placemark>\n  <Placemark>\n\t<name>南京长江隧道</name>\n\t<Style><LineStyle><color>ffff0000</color></LineStyle><PolyStyle><fill>0</fill></PolyStyle></Style>\n      <LineString><coordinates>118.67057150000001,32.0543862 118.6921381,32.0428005 118.6931683,32.0420084 118.6942853,32.0410913 118.6954844,32.0399309 118.6978042,32.037811</coordinates></LineString>\n  </Placemark>\n</Folder>\n<Folder><name>市级地名</name>\n  <Placemark>\n\t<name>南京市</name>\n      <Point><coordinates>118.79126,32.06042</coordinates></Point>\n  </Placemark>\n  <Placemark>\n\t<name>马鞍山市</name>\n      <Point><coordinates>118.49952,31.69933</coordinates></Point>\n  </Placemark>\n</Folder>\n```\n',autoResetClock:!0,clockEnabled:!1,startTime:c.CzmClock.defaults.startTime,stopTime:c.CzmClock.defaults.stopTime,currentTime:c.CzmClock.defaults.currentTime,multiplier:c.CzmClock.defaults.multiplier,clockStep:c.CzmClock.defaults.clockStep,clockRange:c.CzmClock.defaults.clockRange,shouldAnimate:c.CzmClock.defaults.shouldAnimate,uri:"${xe2-base-objects-script-dir}/xe2-assets/scene-manager/misc/bikeRide.kml"}),t}(l.ESSceneObject);t.CzmKml=d,function(e){e.createDefaultProps=function(){return i({show:!0,uri:void 0,allowPicking:void 0,loadFuncStr:void 0,data:void 0,autoResetClock:void 0,clockEnabled:void 0,startTime:void 0,stopTime:void 0,currentTime:void 0,multiplier:void 0,clockStep:void 0,clockRange:void 0,shouldAnimate:void 0},l.ESSceneObject.createDefaultProps())}}(d=t.CzmKml||(t.CzmKml={})),t.CzmKml=d,(0,u.extendClassProps)(d.prototype,d.createDefaultProps)},95187:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmLabel=void 0;var l=n(43938),u=n(19239),c=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new u.Event),n._pickedEvent=n.disposeVar(new u.Event),n._sPositionEditing=n.disposeVar(new l.PositionEditing([n,"position"],[n,"editing"],n.components)),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmLabel"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sPositionEditing",{get:function(){return this._sPositionEditing},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){var n=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3]),new l.BooleanProperty("是否编辑","是否编辑.",!0,!1,[this,"editing"],!1),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!0,!1,[this,"show"]),new l.BooleanProperty("是否允许拾取","allowPicking circle.",!0,!1,[this,"allowPicking"],!1),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"]),new l.ColorProperty("颜色"," A Property specifying the color.",!0,!1,[this,"fillColor"],[1,1,1,1]),new l.EnumProperty("高度参考","A Property specifying what the height from the entity position is relative to.",!0,!1,[this,"heightReference"],[["无","NONE"],["贴地","CLAMP_TO_GROUND"],["相对地面","RELATIVE_TO_GROUND"]],"NONE"),new l.EnumProperty("horizontalOrigin","CENTER | LEFT | RIGHT",!0,!1,[this,"horizontalOrigin"],[["CENTER","CENTER"],["LEFT","LEFT"],["RIGHT","RIGHT"]],"CENTER"),new l.EnumProperty("verticalOrigin",'"CENTER" | "BOTTOM" | "BASELINE" | "TOP"',!0,!1,[this,"verticalOrigin"],[["CENTER","CENTER"],["TOP","TOP"],["BOTTOM","BOTTOM"],["BASELINE","BASELINE"]],"CENTER"),new l.MinmaxProperty("距离限制","距离限制",!0,!1,[this,"distanceDisplayCondition"]),new l.NearFarScalerProperty("translucencyByDistance","translucencyByDistance",!0,!1,[this,"translucencyByDistance"]),new l.NearFarScalerProperty("pixelOffsetScaleByDistance","pixelOffsetScaleByDistance",!0,!1,[this,"pixelOffsetScaleByDistance"]),new l.NumberProperty("scale","缩放",!0,!1,[this,"scale"],1),new l.Number2Property("pixelOffset","pixelOffset",!0,!1,[this,"pixelOffset"]),new l.Number3Property("eyeOffset","eyeOffset",!0,!1,[this,"eyeOffset"]),new l.EnumProperty("style",'"FILL" | "OUTLINE" | "FILL_AND_OUTLINE"',!0,!1,[this,"style"],[["FILL","FILL"],["OUTLINE","OUTLINE"],["FILL_AND_OUTLINE","FILL_AND_OUTLINE"]],"FILL"),new l.Number2Property("backgroundPadding","backgroundPadding",!0,!1,[this,"backgroundPadding"],[7,5]),new l.ColorProperty("backgroundColor"," A Property specifying the background color.",!0,!1,[this,"backgroundColor"],[.165,.165,.165,.8]),new l.ColorProperty("outlineColor"," A Property specifying the outline color.",!0,!1,[this,"outlineColor"],[0,0,0,1]),new l.BooleanProperty("showBackground","showBackground.",!0,!1,[this,"showBackground"],!1),new l.LongStringProperty("text","text",!0,!1,[this,"text"],"文字标绘(primitive)"),new l.StringProperty("font","font",!0,!1,[this,"font"],"30px sans-serif"),new l.NumberProperty("outlineWidth","outlineWidth",!0,!1,[this,"outlineWidth"],1),new l.NearFarScalerProperty("scaleByDistance","scaleByDistance",!0,!1,[this,"scaleByDistance"])])],!1)},n=t,t.type=n.register("CzmLabel",n,{chsName:"文字标绘(primitive)",tags:["CzmObjects","_ES_Impl_Cesium"],description:"Cesium内部文字标绘API实现。"}),t}(l.ESSceneObject);t.CzmLabel=c,function(e){e.createDefaultProps=function(){return i({editing:void 0,fillColor:(0,u.reactArrayWithUndefined)(void 0),show:void 0,allowPicking:void 0,position:(0,u.reactArrayWithUndefined)(void 0),pixelOffset:void 0,eyeOffset:(0,u.reactArrayWithUndefined)(void 0),heightReference:void 0,horizontalOrigin:void 0,verticalOrigin:void 0,scale:void 0,translucencyByDistance:(0,u.reactArrayWithUndefined)(void 0),pixelOffsetScaleByDistance:(0,u.reactArrayWithUndefined)(void 0),distanceDisplayCondition:void 0,scaleByDistance:(0,u.reactArrayWithUndefined)(void 0),style:void 0,backgroundPadding:void 0,backgroundColor:(0,u.reactArrayWithUndefined)(void 0),outlineColor:(0,u.reactArrayWithUndefined)(void 0),showBackground:void 0,text:void 0,font:void 0,outlineWidth:void 0},l.ESSceneObject.createDefaultProps())}}(c=t.CzmLabel||(t.CzmLabel={})),t.CzmLabel=c,(0,u.extendClassProps)(c.prototype,c.createDefaultProps)},94730:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmLabelPrimitiveCollection=void 0;var l=n(43938),u=n(19239),c=n(43938),p=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new u.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmLabelPrimitiveCollection"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(t){var n=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3]),new l.EnumProperty("blendOption","The label blending option. The default is used for rendering both opaque and translucent labels. However, if either all of the labels are completely opaque or all are completely translucent, setting the technique to BlendOption.OPAQUE or BlendOption.TRANSLUCENT can improve performance by up to 2x.",!0,!1,[this,"blendOption"],[["OPAQUE","OPAQUE"],["TRANSLUCENT","TRANSLUCENT"],["OPAQUE_AND_TRANSLUCENT","OPAQUE_AND_TRANSLUCENT"]],"OPAQUE"),new l.BooleanProperty("是否显示","Determines if the primitives in the collection will be shown.",!0,!1,[this,"show"],!0),new l.BooleanProperty("debugShowBoundingVolume","For debugging only.Determines if this primitives commands bounding spheres are shown.",!0,!1,[this,"debugShowBoundingVolume"],!1),new l.JsonProperty("labelPrimitiveOptions","文字集合.",!0,!1,[this,"labelPrimitiveOptions"],void 0,'### 文字标绘集合示例\n```\n[\n    {\n        "position": [\n            116.4,\n            39.91,\n            0\n        ],\n        "fillColor": [\n            1,\n            0,\n            0,\n            1\n        ],\n        "text": "123"\n    },\n    {\n        "position": [\n            116.4,\n            39.92,\n            0\n        ],\n        "text": "千里莺啼绿映红，水村山郭酒旗风"\n    }\n]\n```\n')])],!1)},n=t,t.type=n.register("CzmLabelPrimitiveCollection",n,{chsName:"文字集合(LabelPrimitiveCollection)",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API 实现的文字标绘集合。"}),t}(c.ESSceneObject);t.CzmLabelPrimitiveCollection=p,function(e){e.createDefaultProps=function(){return i({show:void 0,debugShowBoundingVolume:void 0,blendOption:void 0,labelPrimitiveOptions:void 0,position:(0,u.reactArrayWithUndefined)(void 0),rotation:(0,u.reactArrayWithUndefined)(void 0),scale:(0,u.reactArrayWithUndefined)(void 0),localPosition:(0,u.reactArrayWithUndefined)(void 0),localRotation:(0,u.reactArrayWithUndefined)(void 0),localScale:(0,u.reactArrayWithUndefined)(void 0),localModelMatrix:(0,u.reactArrayWithUndefined)(void 0),modelMatrix:(0,u.reactArrayWithUndefined)(void 0)},c.ESSceneObject.createDefaultProps())}}(p=t.CzmLabelPrimitiveCollection||(t.CzmLabelPrimitiveCollection={})),t.CzmLabelPrimitiveCollection=p,(0,u.extendClassProps)(p.prototype,p.createDefaultProps)},92087:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},u=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmModelCreatingTool=void 0;var c=n(43938),p=n(19239),f=n(75125),d="${scene-manager-script-dir}/xe2-assets/scene-manager/images/drags/",h="${scene-manager-script-dir}/xe2-assets/scene-manager/glbs/",y=[{imgUrl:d+"adult.png",modelUrl:h+"Cesium_Man.glb",title:"人物"},{imgUrl:d+"balloon.png",modelUrl:h+"CesiumBalloon.glb",title:"气球"},{imgUrl:d+"UAV.png",modelUrl:h+"CesiumDrone.glb",title:"无人机"},{imgUrl:d+"aircraft.png",modelUrl:h+"Cesium_Air.glb",title:"飞机"},{imgUrl:d+"satellite.png",modelUrl:h+"WeiXing.glb",title:"卫星"},{imgUrl:d+"missile.png",modelUrl:h+"DaoDan.glb",title:"导弹"},{imgUrl:d+"goodsTrain.png",modelUrl:h+"CesiumMilkTruck.glb",title:"货车"},{imgUrl:d+"tank.png",modelUrl:h+"TanKe.glb",title:"坦克"}],g=function(e){function t(n){var r=e.call(this,n)||this,i=r.disposeVar(new c.CustomDiv);r.dispose(r.components.disposableAdd(i));var l,u,d=r;r.dispose((0,p.track)([i,"show"],[r,"show"])),(y=function(){var e;try{r.createModelFn=Function(null!==(e=r.createModelFnStr)&&void 0!==e?e:t.defaults.createModelFnStr)}catch(e){console.error("createModelFn",e),r.createModelFn=void 0}})(),r.dispose(r.createModelFnStrChanged.disposableOn(y));var h=r,y=function(){try{i.instanceClass=function(e){function n(n,r,o){var i,y=this;if((y=e.call(this)||this)._subContainer=n,!o)return y;if(!(o instanceof f.CzmViewer))return y;var g=document.createElement("div");y._subContainer.appendChild(g),y.dispose((function(){return y._subContainer.removeChild(g)}));var m=function(){var e,n,o="display: ".concat((null!==(e=r.show)&&void 0!==e?e:t.defaults.show)?"flex":"none",";");g.style.cssText=o+(null!==(n=d.cssText)&&void 0!==n?n:t.defaults.cssText)};m();var v=y.disposeVar((0,p.createNextAnimateFrameEvent)(h.cssTextChanged,r.showChanged));return y.dispose(v.disposableOn(m)),(null!==(i=d.items)&&void 0!==i?i:t.defaults.items).forEach((function(e){var t=document.createElement("div");g.appendChild(t),y.dispose((function(){return g.removeChild(t)}));var n,r=document.createElement("img");t.appendChild(r),y.dispose((function(){return t.removeChild(r)})),r.style.width="100%",r.style.height="100%",r.src=c.SceneObject.context.getStrFromEnv(e.imgUrl),t.draggable=!0,t.style.width="40px",t.style.height="40px",t.style.borderRadius="3px",t.style.display="flex",t.style.justifyContent="center",t.style.alignItems="center",t.style.boxSizing="border-box",t.style.padding="5px",t.style.position="relative",t.style.cursor="move",t.style.userSelect="none",t.addEventListener("mouseover",(function(){t.style.background="#383838",n=document.createElement("div"),t.appendChild(n),n.style.width="50px",n.style.height="20px",n.style.position="absolute",n.style.left="0px",n.style.top="100%",n.style.color="#000",n.style.background="#ffffff",n.style.border="1px solid #000",n.style.fontSize="14px",n.style.lineHeight="20px",n.style.textAlign="center",n.innerText=e.title})),t.addEventListener("mouseout",(function(){t.style.background="none",t.removeChild(n)})),t.addEventListener("click",(function(){if(d.createModelFn){var t=d.createModelFn();t.url=e.modelUrl,t.name=e.title,t.positionEditing=!0}else alert("请设置instanceClassStr")})),t.addEventListener("dragstart",(function(t){l=e.modelUrl,u=e.title}))})),y.dispose(o.interaction.dragOverEvent.disposableOn((function(e){return e.preventDefault()}))),y.dispose(o.interaction.dropEvent.disposableOn((function(e){return a(y,void 0,void 0,(function(){var t,n,r,i;return s(this,(function(a){switch(a.label){case 0:return e.preventDefault(),t=e.offsetX,n=e.offsetY,[4,o.pickPosition([t,n])];case 1:if(!(r=a.sent()))return[2];if(d.createModelFn){if(!l)return[2];if(!u)return[2];(i=d.createModelFn()).url=l,i.name=u,i.position=r,i.positionEditing=!0,l=void 0,u=void 0}else console.warn("请设置instanceClassStr");return[2]}}))}))}))),y}return o(n,e),n}(p.Destroyable)}catch(e){console.error(e)}};return y(),r.dispose(r.itemsChanged.disposableOn(y)),r}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return" CzmModelCreatingTool"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){return u(u([],l(e.prototype.getProperties.call(this,n)),!1),[new c.GroupProperty("通用","通用",[new c.BooleanProperty("显示","显示",!0,!1,[this,"show"],t.defaults.show),new c.EvalStringProperty("模型创建函数","模型创建函数",!0,!1,[this,"createModelFnStr"],t.defaults.createModelFnStr),new c.LongStringProperty("CSS样式","CSS样式",!0,!1,[this,"cssText"],t.defaults.cssText,"\n位置位于左上角\n```\nposition: absolute; \nleft: 10px; \ntop: 10px; \ncolor: rgb(255, 255, 255); \nline-height: 30px; \nbackground: rgb(26, 52, 60); \nz-index: 100; \ndisplay: flex; \nborder: 1px solid rgb(0, 64, 82); \n```\n位置位于中间上方\n```\nposition: absolute; \nleft: 50%; \ntop: 10px; \ntransform: translate(-50%);\ncolor: rgb(255, 255, 255); \nline-height: 30px; \nbackground: rgb(26, 52, 60); \nz-index: 100; display: flex; \nborder: 1px solid rgb(0, 64, 82); \n```\n位置位于右上角\n```\nposition: absolute; \ntop: 10px; \nright: 10px; \ncolor: rgb(255, 255, 255); \nline-height: 30px; \nbackground: rgb(26, 52, 60); \nz-index: 100; display: flex; \nborder: 1px solid rgb(0, 64, 82); \n```\n\n\n"),new c.JsonProperty("模型列表","模型列表",!0,!1,[this,"items"],t.defaults.items),new c.StringProperty("容器ID","容器的ID，如果设置，CustomDiv将自动放入容器，否则放入各个视口中。",!0,!1,[this,"containerId"],c.CustomDiv.defaults.containerId)])],!1)},n=t,t.type=n.register(" CzmModelCreatingTool",n,{chsName:"常用模型创建工具",tags:["CzmObjects","_ES_Impl_Cesium"],description:"常用模型创建工具"}),t.defaults=i(i({},c.ESSceneObject.defaults),{show:!0,items:y,createModelFnStr:"const p = g_appProjectManager.xe2ProjectManager; // 需要根据项目情况自行定制\nconst treeItem = p.createSceneObjectTreeItem('CzmModelPrimitive');\nreturn treeItem.sceneObject;",cssText:"position: absolute; \nleft: 10px; \ntop: 10px; \ncolor: rgb(255, 255, 255); \nline-height: 30px; \nbackground: rgb(26, 52, 60); \nz-index: 100; \nborder: 1px solid rgb(0, 64, 82); \n"}),t}(c.ESSceneObject);t.CzmModelCreatingTool=g,function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{show:void 0,createModelFnStr:void 0,cssText:void 0,items:(0,p.reactJsonWithUndefined)(void 0),containerId:void 0})}}(g=t.CzmModelCreatingTool||(t.CzmModelCreatingTool={})),t.CzmModelCreatingTool=g,(0,p.extendClassProps)(g.prototype,g.createDefaultProps)},71725:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmModelEntity=void 0;var l=n(43938),u=n(19239),c=function(e){function t(t){var n=e.call(this,t)||this;return n._pickedEvent=n.disposeVar(new u.Event),n._flyToEvent=n.disposeVar(new u.Event),n._sPositionEditing=n.disposeVar(new l.PositionEditing([n,"position"],[n,"positionEditing"],n.components)),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmModelEntity"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"sPositionEditing",{get:function(){return this._sPositionEditing},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){var n=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!1,!1,[this,"show"]),new l.UriProperty("路径","路径",!0,!1,[this,"uri"],"${scene-manager-script-dir}/xe2-assets/scene-manager/glbs/Cesium_Air.glb"),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"]),new l.RotationProperty("偏移","偏航俯仰翻转，度为单位",!0,!1,[this,"rotation"]),new l.BooleanProperty("是否位置编辑","是否位置编辑.",!0,!1,[this,"positionEditing"]),new l.BooleanProperty("是否偏移编辑","是否偏移编辑.",!0,!1,[this,"rotationEditing"]),new l.NumberProperty("缩放","scale",!0,!1,[this,"scale"]),new l.NumberProperty("maximumScale","线宽",!0,!1,[this,"maximumScale"]),new l.NumberProperty("minimumPixelSize","minimumPixelSize",!0,!1,[this,"minimumPixelSize"],50),new l.ColorProperty("颜色"," A Property specifying the color.",!0,!1,[this,"color"])])],!1)},n=t,t.type=n.register("CzmModelEntity",n,{chsName:"模型(Entity)",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Entity API 实现的模型。"}),t}(l.ESSceneObject);t.CzmModelEntity=c,function(e){e.createDefaultProps=function(){return i({show:!0,uri:"",position:(0,u.reactArrayWithUndefined)(void 0),rotation:(0,u.reactArrayWithUndefined)(void 0),positionEditing:void 0,rotationEditing:void 0,scale:void 0,maximumScale:void 0,minimumPixelSize:50,color:void 0},l.ESSceneObject.createDefaultProps())}}(c=t.CzmModelEntity||(t.CzmModelEntity={})),t.CzmModelEntity=c,(0,u.extendClassProps)(c.prototype,c.createDefaultProps)},27351:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return s(t,e),t},u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},p=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},f=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmModelPrimitive=t.getCzmModelAnimationLoop=void 0;var d=n(43938),h=n(19239),y=n(10070),g=n(43938),m=n(43938),v=l(n(2003)),b={translationX:0,translationY:0,translationZ:0,rotationHeading:0,rotationPitch:0,rotationRoll:0,scaleX:1,scaleY:1,scaleZ:1},_={Prop:{translationX:0,translationY:10,translationZ:0,rotationHeading:0,rotationPitch:0,rotationRoll:0,scaleX:1,scaleY:1,scaleZ:1}};t.getCzmModelAnimationLoop=function(e){return v.ModelAnimationLoop[e]};var w=[[1.234709620475769,1.221461296081543,1.273156881332397],[1.135921120643616,1.171217799186707,1.287644743919373],[1.245193719863892,1.245591878890991,1.282818794250488],[-1.106930732727051,-1.112522482872009,-1.153198838233948],[-1.086226940155029,-1.079731941223145,-1.101912498474121],[1.189834713935852,1.185906887054443,1.214385271072388],[.01778045296669,.02013735473156,.025313569232821],[-1.086826920509338,-1.084611177444458,-1.111204028129578],[-.05241484940052,-.048303380608559,-.041960217058659]],P=[{index:0,loop:"REPEAT",animationTime:"(duration) => Date.now() / 1000 / duration"},{index:1,loop:"REPEAT",animationTime:"(duration) => Date.now() / 1000 / duration"}],C=function(e){function t(t){var n=e.call(this,t)||this;n._pickedEvent=n.disposeVar(new h.Event),n._flyToEvent=n.disposeVar(new h.Event),n._customShaderInstanceClass=n.disposeVar((0,h.react)(void 0)),n._updateCustomShaderEvent=n.disposeVar(new h.Event),n._activeAnimations=n.disposeVar((0,h.reactDeepArrayWithUndefined)(void 0,(function(e,t){return e.animationTime===t.animationTime&&e.delay===t.delay&&e.index===t.index&&e.loop===t.loop&&e.multiplier===t.multiplier&&e.name===t.name&&e.removeOnStop===t.removeOnStop&&e.reverse===t.reverse&&v.JulianDate.equals(e.startTime,t.startTime)&&v.JulianDate.equals(e.stopTime,t.stopTime)&&!0}),(function(e){return i({},e)}))),n._sPositionEditing=n.disposeVar(new d.PositionEditing([n,"position"],[n,"positionEditing"],n.components)),n._printDebugInfoEvent=n.disposeVar(new h.Event),n._smoothMoving=n.disposeVar(new d.SmoothMoving),n._smoothMovingBinding=n.dispose(n._smoothMoving.currentPositionChanged.disposableOn((function(){return n.position=n._smoothMoving.currentPosition}))),n._smoothMovingBinding2=n.dispose(n._smoothMoving.currentPositionChanged.disposableOn((function(){var e;return n.rotation=[null!==(e=n._smoothMoving.currentHeading)&&void 0!==e?e:0,n.rotation&&n.rotation[1]||0,n.rotation&&n.rotation[2]||0]})));var r=function(){try{n.customShaderInstanceClass=n.customShaderInstanceClassStr&&Function('"use strict";return ('.concat(n.customShaderInstanceClassStr,")"))()}catch(e){n.customShaderInstanceClass=void 0}};r(),n.dispose(n.customShaderInstanceClassStrChanged.disposableOn(r));var o=function(){n.activeAnimationsJson?n.activeAnimations=n.activeAnimationsJson.map((function(e){var t=void 0;try{t=e.animationTime&&Function('"use strict";return ('.concat(e.animationTime,")"))()}catch(e){console.error("animationTimeStr eval error: ".concat(e),e),t=void 0}return{name:e.name,index:e.index,startTime:void 0!==e.startTime&&v.JulianDate.fromDate(new Date(e.startTime))||void 0,delay:e.delay,stopTime:void 0!==e.stopTime&&v.JulianDate.fromDate(new Date(e.stopTime))||void 0,removeOnStop:e.removeOnStop,multiplier:e.multiplier,reverse:e.reverse,loop:e.loop&&v.ModelAnimationLoop[e.loop],animationTime:t}})):n.activeAnimations=void 0};return o(),n.activeAnimationsJsonChanged.disposableOn(o),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmModelPrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){return(0,g.getGeoJson)("Point",this.position,this.name)},set:function(e){var t=(0,g.setGeoJson)(e);this.name=t.name,this.position=t.position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"customShaderInstanceClass",{get:function(){return this._customShaderInstanceClass.value},set:function(e){this._customShaderInstanceClass.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"customShaderInstanceClassChanged",{get:function(){return this._customShaderInstanceClass.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateCustomShaderEvent",{get:function(){return this._updateCustomShaderEvent},enumerable:!1,configurable:!0}),t.prototype.updateCustomShader=function(e){this._updateCustomShaderEvent.emit(e)},Object.defineProperty(t.prototype,"activeAnimations",{get:function(){return this._activeAnimations.value},set:function(e){this._activeAnimations.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeAnimationsChanged",{get:function(){return this._activeAnimations.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sPositionEditing",{get:function(){return this._sPositionEditing},enumerable:!1,configurable:!0}),t.prototype.openLocalDir=function(){return u(this,void 0,void 0,(function(){var e;return c(this,(function(t){switch(t.label){case 0:return[4,(0,y.defaultGetLocalFilePath)(["gltf","glb"],"gltf")];case 1:return e=t.sent(),this.url=e,[2]}}))}))},t.prototype.deleteNodeTransformation=function(e){if(this.nodeTransformations&&this.nodeTransformations[e]){var t=i({},this.nodeTransformations);delete t[e],this.nodeTransformations=t}},t.prototype.setNodeTranslation=function(e,t){var n,r;this.nodeTransformations||(this.nodeTransformations={});var o=null!==(r=this.nodeTransformations[e])&&void 0!==r?r:i({},b);3!==t.length||t.some((function(e){return!Number.isFinite(e)}))?console.error("setNodeTranslation error: translation.length !== 3 || translation.some(e => !Number.isFinite(e)): ".concat(e," ").concat(t)):this.nodeTransformations=i(i({},this.nodeTransformations),((n={})[e]=i(i({},o),{translationX:t[0],translationY:t[1],translationZ:t[2]}),n))},t.prototype.getNodeTranslation=function(e){if(this.nodeTransformations){var t=this.nodeTransformations[e];if(t)return[t.translationX,t.translationY,t.translationZ]}},t.prototype.setNodeRotation=function(e,t){var n,r;this.nodeTransformations||(this.nodeTransformations={});var o=null!==(r=this.nodeTransformations[e])&&void 0!==r?r:i({},b);3!==t.length||t.some((function(e){return!Number.isFinite(e)}))?console.error("setNodeTranslation error: rotation.length !== 3 || rotation.some(e => !Number.isFinite(e)) ".concat(e," ").concat(t)):this.nodeTransformations=i(i({},this.nodeTransformations),((n={})[e]=i(i({},o),{rotationHeading:t[0],rotationPitch:t[1],rotationRoll:t[2]}),n))},t.prototype.getNodeRotation=function(e){if(this.nodeTransformations){var t=this.nodeTransformations[e];if(t)return[t.rotationHeading,t.rotationPitch,t.rotationRoll]}},t.prototype.setNodeScale=function(e,t){var n,r;this.nodeTransformations||(this.nodeTransformations={});var o=null!==(r=this.nodeTransformations[e])&&void 0!==r?r:i({},b);3!==t.length||t.some((function(e){return!Number.isFinite(e)||e<0}))?console.error("setNodeTranslation error: scale.length !== 3 || scale.some(e => !Number.isFinite(e) || e < 0) ".concat(e," ").concat(t)):this.nodeTransformations=i(i({},this.nodeTransformations),((n={})[e]=i(i({},o),{scaleX:t[0],scaleY:t[1],scaleZ:t[2]}),n))},t.prototype.getNodeScale=function(e){if(this.nodeTransformations){var t=this.nodeTransformations[e];if(t)return[t.scaleX,t.scaleY,t.scaleZ]}},Object.defineProperty(t.prototype,"printDebugInfoEvent",{get:function(){return this._printDebugInfoEvent},enumerable:!1,configurable:!0}),t.prototype.printDebugInfo=function(){this._printDebugInfoEvent.emit()},t.prototype.smoothMove=function(e,t){this.position||(this.position=e),this._smoothMoving.restart(this.position,0),this._smoothMoving.restart(e,t)},t.prototype.getProperties=function(n){var r=this;return f(f([],p(e.prototype.getProperties.call(this,n)),!1),[new d.GroupProperty("通用","通用",[new d.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new d.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!0,!1,[this,"show"],!0),new d.UriProperty("路径","The url to the .gltf file.",!0,!1,[this,"url"],t.defaultUrl),new d.FunctionProperty("打开本地目录","打开本地目录，加载本地gltf数据，注意只能打开gltf文件所在目录",[],(function(){return r.openLocalDir()}),[]),new d.ColorProperty("颜色"," A color that blends with the models rendered color.",!0,!1,[this,"color"]),new d.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return r.geoJsonStr}),(function(e){return e&&(r.geoJsonStr=e)})),new d.LongStringProperty("自定义Shader","自定义Shader",!0,!1,[this,"customShaderInstanceClassStr"],"\n// shader定义请参见文档：https://github.com/CesiumGS/cesium/tree/main/Documentation/CustomShaderGuide#customshader-documentation\nclass CheckerboardMaskShaderInstance extends xbsj['xr-base-utils'].Destroyable {\n    constructor(sceneObject, viewer) {\n        super();\n\n        // make a checkerboard texture with an alpha that increases with the\n        // diagonal number\n        function makeCheckerboardTexture(textureSize) {\n          const checkerboard = new Uint8Array(4 * textureSize * textureSize);\n        \n          const maxDiagonal = 2 * (textureSize - 1);\n          for (let i = 0; i < textureSize; i++) {\n            for (let j = 0; j < textureSize; j++) {\n              const index = i * textureSize + j;\n              // Checking the parity of the diagonal number gives a checkerboard\n              // pattern.\n              const diagonal = i + j;\n              if (diagonal % 2 === 0) {\n                // set the square red. We only need to set the red channel!\n                checkerboard[4 * index] = 255;\n              }\n              // otherwise we'd set the square to black. But arrays are already\n              // initialized to 0s so nothing needed here.\n        \n              // for the alpha channel, map the diagonal number to [0, 255]\n              checkerboard[4 * index + 3] = (255 * diagonal) / maxDiagonal;\n            }\n          }\n          return new Cesium.TextureUniform({\n            typedArray: checkerboard,\n            width: textureSize,\n            height: textureSize,\n            // Don't interpolate, we want crisp checkerboard edges\n            minificationFilter: Cesium.TextureMinificationFilter.NEAREST,\n            magnificationFilter: Cesium.TextureMagnificationFilter.NEAREST,\n          });\n        }\n        const checkerboardTexture = makeCheckerboardTexture(8);\n        \n        // Use the checkerboard red channel as a mask\n        const checkerboardMaskShader = this.disposeVar(new Cesium.CustomShader({\n          uniforms: {\n            u_checkerboard: {\n              type: Cesium.UniformType.SAMPLER_2D,\n              value: checkerboardTexture,\n            },\n          },\n          fragmentShaderText: `  \n            void fragmentMain(FragmentInput fsInput, inout czm_modelMaterial material)\n            {\n                vec2 texCoord = fsInput.attributes.texCoord_0;\n                vec4 checkerboard = texture(u_checkerboard, texCoord);\n                material.diffuse = mix(material.diffuse, vec3(0.0), checkerboard.r);\n            }\n            `,\n        }));\n\n        this._customShader = checkerboardMaskShader;\n    }\n\n    update() {\n        alert('暂未实现!');\n    }\n\n    get customShader() {\n        return this._customShader;\n    }\n}\n"),new d.FunctionProperty("更新Shader","更新Shader",["string"],(function(e){e||alert("evalFuncStr为空，无法执行！");try{var t=e&&Function('"use strict";return ('.concat(e,")"))();r.updateCustomShader(t)}catch(e){alert("updateDivFunc error: ".concat(e))}}),["(customShaderInstance, sceneObject, viewer) => customShaderInstance.update && customShaderInstance.update()"]),new d.BooleanProperty("允许拾取","允许拾取",!0,!1,[this,"allowPicking"],!1),new d.Number4Property("可视范围控制","可视范围控制[near0, near1, far1, far0]",!0,!1,[this,"viewDistanceRange"],t.defaults.viewDistanceRange),new d.BooleanProperty("可视距离调试","可视距离调试",!1,!1,[this,"viewDistanceDebug"])]),new d.GroupProperty("变换","变换",[new d.BooleanProperty("是否位置编辑","是否位置编辑.",!1,!1,[this,"positionEditing"]),new d.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"]),new d.RotationProperty("姿态","偏航俯仰翻转，度为单位",!0,!1,[this,"rotation"]),new d.Number3Property("缩放","缩放",!0,!1,[this,"scale"],[1,1,1]),new d.JsonProperty("模型矩阵","模型矩阵",!0,!1,[this,"modelMatrix"])]),new d.GroupProperty("屏幕像素","屏幕像素",[new d.NumberProperty("最大缩放值","最大缩放值，需要和屏幕像素(pixelSize)配合适用！",!0,!1,[this,"maximumScale"],3),new d.NumberProperty("最小缩放值","最小缩放值，需要和屏幕像素(pixelSize)配合适用！",!0,!1,[this,"minimumScale"],1),new d.NumberProperty("屏幕像素","注意物体的实际屏幕像素=pixelSize*物体的物理尺寸(m)，例如：一个20米长的房子，pixelSize设置为5，那么它在屏幕上的实际像素尺寸就是5*20=100px。根据物体在屏幕上的像素大小来决定缩放值，缩放值受maximumScale、minimumScale属性限制",!0,!1,[this,"pixelSize"],5),new d.BooleanProperty("显示缩放值","每个视口都显示各自的缩放值",!0,!1,[this,"showSceneScale"],!1)]),new d.GroupProperty("本地变换","本地变换",[new d.Number3Property("本地偏移","本地偏移，不是经纬度！",!0,!1,[this,"localPosition"]),new d.Number3Property("本地姿态","本地姿态",!0,!1,[this,"localRotation"]),new d.Number3Property("本地缩放","本地缩放",!0,!1,[this,"localScale"],[1,1,1]),new d.JsonProperty("本地模型矩阵","本地模型矩阵，如果该属性有值，那么localPosition、localRotation、localScale等属性将不起作用。",!0,!1,[this,"localModelMatrix"]),new d.EnumProperty("前向轴","注意一般情况下不要使用，除非原始加载Cesium模型时就配置了该参数。",!0,!1,[this,"forwardAxis"],[["X轴正向",0],["Z轴正向",2]],2),new d.EnumProperty("向上轴","注意一般情况下不要使用，除非原始加载Cesium模型时就配置了该参数。",!0,!1,[this,"upAxis"],[["X轴正向",0],["Y轴正向",1],["Z轴正向",2]],1)]),new d.GroupProperty("PBR","PBR",[new d.Number2Property("imageBasedLightingFactor","imageBasedLightingFactor",!0,!1,[this,"imageBasedLightingFactor"],[1,1]),new d.Number3Property("lightColor","lightColor",!0,!1,[this,"lightColor"],[1,1,1]),new d.NumberProperty("luminanceAtZenith","luminanceAtZenith",!0,!1,[this,"luminanceAtZenith"],.2),new d.Number3sProperty("sphericalHarmonicCoefficients","sphericalHarmonicCoefficients",!0,!1,[this,"sphericalHarmonicCoefficients"],w),new d.StringProperty("specularEnvironmentMaps","specularEnvironmentMaps",!0,!1,[this,"specularEnvironmentMaps"],t.defaultSpecularEnvironmentMaps)]),new d.GroupProperty("动画","动画",[new d.BooleanProperty("activeAnimationsAnimateWhilePaused","activeAnimationsAnimateWhilePaused",!0,!1,[this,"activeAnimationsAnimateWhilePaused"],!1),new d.JsonProperty("activeAnimationsJson","activeAnimationsJson",!0,!1,[this,"activeAnimationsJson"],P,"## 示例1\n注意，需要先让Cesium的时钟动起来，以下设置才能生效。  \n```\n[{\n    index: 0,\n    loop: 'REPEAT',\n}, {\n    index: 1,\n    loop: 'REPEAT',\n}];\n```\n\n## 示例2\n以下方式，不再需要Cesium的时钟运动。  \n```\nlsso.activeAnimationsAnimateWhilePaused = true; // Cesium不运动时，也需要更新动画，设置以后，animationTime的回调函数才能起作用\nlsso.activeAnimationsJson = [{\n    index: 0,\n    loop: 'REPEAT',\n    animationTime: `(duration) => Date.now() / 1000 / duration`,\n}, {\n    index: 1,\n    loop: 'REPEAT',\n    animationTime: `(duration) => Date.now() / 1000 / duration`,\n}];\n```\n")]),new d.GroupProperty("节点控制","节点控制",[new d.JsonProperty("nodeTransformations","nodeTransformations",!0,!1,[this,"nodeTransformations"],_,"\n## 示例1\n```\n{\n    Prop: {\n        translationX: 0,\n        translationY: 10,\n        translationZ: 0,\n        rotationHeading: 0,\n        rotationPitch: 0,\n        rotationRoll: 0,\n        scaleX: 0,\n        scaleY: 0,\n        scaleZ: 0,\n    }\n}\n```\n")]),new d.GroupProperty("调试","调试",[new d.FunctionProperty("打印调试信息","控制台打印调试信息",[],(function(){return r.printDebugInfo()}),[])]),new d.GroupProperty("其他","其他",[new d.ColorProperty("silhouetteColor","The silhouette color. If more than 256 models have silhouettes enabled, there is a small chance that overlapping models will have minor artifacts.",!0,!1,[this,"silhouetteColor"],[1,0,0,1]),new d.NumberProperty("silhouetteSize","The size of the silhouette in pixels.",!0,!1,[this,"silhouetteSize"],0),new d.NumberProperty("colorBlendAmount","Value used to determine the color strength when the colorBlendMode is MIX. A value of 0.0 results in the models rendered color while a value of 1.0 results in a solid color, with any value in-between resulting in a mix of the two.",!0,!1,[this,"colorBlendAmount"],.5),new d.EnumProperty("阴影类型","Determines whether the model casts or receives shadows from light sources.",!0,!1,[this,"shadows"],[["禁用","DISABLED"],["启用","ENABLED"],["仅投射","CAST_ONLY"],["仅接收","RECEIVE_ONLY"]],"DISABLED"),new d.BooleanProperty("backFaceCulling","Whether to cull back-facing geometry. When true, back face culling is determined by the materials doubleSided property; when false, back face culling is disabled. Back faces are not culled if Model#color is translucent or Model#silhouetteSize is greater than 0.0..",!0,!1,[this,"backFaceCulling"],!0),new d.BooleanProperty("showOutline","Whether to display the outline for models using the CESIUM_primitive_outline extension. When true, outlines are displayed. When false, outlines are not displayed..",!0,!1,[this,"showOutline"],!0),new d.BooleanProperty("debugShowBoundingVolume","For debugging only. Draws the bounding sphere for each draw command in the model..",!0,!1,[this,"debugShowBoundingVolume"],!1),new d.BooleanProperty("debugWireframe","For debugging only. Draws the model in wireframe..",!0,!1,[this,"debugWireframe"],!1),new d.BooleanProperty("incrementallyLoadTextures","Determine if textures may continue to stream in after the model is loaded..",!0,!1,[this,"incrementallyLoadTextures"],!0),new d.BooleanProperty("asynchronous","Determines if model WebGL resource creation will be spread out over several frames or block until completion once all glTF files are loaded..",!0,!1,[this,"asynchronous"],!0),new d.BooleanProperty("clampAnimations","Determines if the models animations should hold a pose over frames where no keyframes are specified..",!0,!1,[this,"clampAnimations"],!0),new d.StringProperty("credit","credit",!0,!1,[this,"credit"]),new d.StringProperty("basePath","basePath",!0,!1,[this,"basePath"]),new d.EnumProperty("高度参考","A Property specifying what the height from the entity position is relative to.",!0,!1,[this,"heightReference"],[["无","NONE"],["贴地","CLAMP_TO_GROUND"],["相对地面","RELATIVE_TO_GROUND"]],"NONE"),new d.MinmaxProperty("距离限制","A Property specifying at what distance from the camera that this box will be displayed.",!0,!1,[this,"distanceDisplayCondition"]),new d.EnumProperty("colorBlendMode","Defines how the color blends with the model.",!0,!1,[this,"colorBlendMode"],[["HIGHLIGHT","HIGHLIGHT"],["REPLACE","REPLACE"],["MIX","MIX"]],"HIGHLIGHT")])],!1)},n=t,t.type=n.register("CzmModelPrimitive",n,{chsName:"模型(Primitive)",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API 实现的模型。"}),t.defaults=i(i({},m.ESSceneObject.defaults),{activeAnimationsAnimateWhilePaused:!1,viewDistanceRange:[1e3,1e4,3e4,6e4]}),t.defaultUrl="${scene-manager-script-dir}/xe2-assets/scene-manager/glbs/Cesium_Air.glb",t.defaultSpecularEnvironmentMaps="${scene-manager-script-dir}/xe2-assets/scene-manager/EnvironmentMap/kiara_6_afternoon_2k_ibl.ktx2",t}(m.ESSceneObject);t.CzmModelPrimitive=C,function(e){e.createDefaultProps=function(){return i(i({},m.ESSceneObject.createDefaultProps()),{show:void 0,url:void 0,positionEditing:!1,allowPicking:void 0,maximumScale:void 0,minimumScale:void 0,pixelSize:void 0,showSceneScale:void 0,position:(0,h.reactArrayWithUndefined)(void 0),rotation:(0,h.reactArrayWithUndefined)(void 0),scale:(0,h.reactArrayWithUndefined)(void 0),localPosition:(0,h.reactArrayWithUndefined)(void 0),localRotation:(0,h.reactArrayWithUndefined)(void 0),localScale:(0,h.reactArrayWithUndefined)(void 0),localModelMatrix:(0,h.reactArrayWithUndefined)(void 0),modelMatrix:(0,h.reactArrayWithUndefined)(void 0),forwardAxis:void 0,upAxis:void 0,color:(0,h.reactArrayWithUndefined)(void 0),silhouetteColor:(0,h.reactArrayWithUndefined)(void 0),shadows:void 0,credit:void 0,basePath:void 0,heightReference:void 0,distanceDisplayCondition:void 0,colorBlendMode:void 0,incrementallyLoadTextures:void 0,asynchronous:void 0,clampAnimations:void 0,debugShowBoundingVolume:void 0,debugWireframe:void 0,backFaceCulling:void 0,showOutline:void 0,colorBlendAmount:void 0,silhouetteSize:void 0,imageBasedLightingFactor:void 0,lightColor:void 0,luminanceAtZenith:void 0,sphericalHarmonicCoefficients:void 0,specularEnvironmentMaps:void 0,customShaderInstanceClassStr:void 0,activeAnimationsJson:(0,h.reactJsonWithUndefined)(void 0),activeAnimationsAnimateWhilePaused:void 0,nodeTransformations:(0,h.reactJsonWithUndefined)(void 0),viewDistanceRange:(0,h.reactArrayWithUndefined)(void 0),viewDistanceDebug:!1})}}(C=t.CzmModelPrimitive||(t.CzmModelPrimitive={})),t.CzmModelPrimitive=C,(0,h.extendClassProps)(C.prototype,C.createDefaultProps)},1358:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmParticleSystemPrimitive=void 0;var l=n(43938),u=n(19239),c=function(e){function t(n){var r=e.call(this,n)||this;r._flyToEvent=r.disposeVar(new u.Event),r._player=r.disposeVar(new l.Player),r._sPositionEditing=r.disposeVar(new l.PositionEditing([r,"position"],[r,"positionEditing"],r.components));var o=t.defaults;return r.dispose((0,u.bind)([r._player,"loop"],[r,"playingLoop"],(function(e){return null!=e?e:o.playingLoop}),(function(e){return null!=e?e:o.playingLoop}))),r.dispose((0,u.bind)([r._player,"currentTime"],[r,"currentTime"],(function(e){return null!=e?e:o.currentTime}),(function(e){return null!=e?e:o.currentTime}))),r.dispose((0,u.bind)([r._player,"duration"],[r,"duration"],(function(e){return null!=e?e:o.duration}),(function(e){return null!=e?e:o.duration}))),r.dispose((0,u.bind)([r._player,"playing"],[r,"playing"],(function(e){return null!=e?e:o.playing}),(function(e){return null!=e?e:o.playing}))),r.dispose((0,u.bind)([r._player,"speed"],[r,"playingSpeed"],(function(e){return null!=e?e:o.playingSpeed}),(function(e){return null!=e?e:o.playingSpeed}))),r}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmParticleSystemPrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"player",{get:function(){return this._player},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ratio",{get:function(){return this._player.ratio},set:function(e){this._player.ratio=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ratioChanged",{get:function(){return this._player.ratioChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sPositionEditing",{get:function(){return this._sPositionEditing},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"]),new l.EvalStringProperty("更新回调函数","The callback function to be called each frame to update a particle.",!0,!1,[this,"updateCallback"]),new l.NumberProperty("发射率","emissionRate,The number of particles to emit per second.",!0,!1,[this,"emissionRate"],5),new l.BooleanProperty("是否循环","loop,Whether the particle system should loop its bursts when it is complete.",!0,!1,[this,"loop"],!0),new l.NumberProperty("等级","scale,Sets the scale to apply to the image of the particle for the duration of its particleLife.",!0,!1,[this,"scale"],1),new l.NumberProperty("初始等级","startScale,The initial scale to apply to the image of the particle at the beginning of its life.",!0,!1,[this,"startScale"]),new l.NumberProperty("结束等级","endScale,The final scale to apply to the image of the particle at the end of its life.",!0,!1,[this,"endScale"],t.defaults.endScale),new l.ColorProperty("颜色","Sets the color of a particle for the duration of its particleLife.",!0,!1,[this,"color"]),new l.ColorProperty("初始颜色","The color of the particle at the beginning of its life.",!0,!1,[this,"startColor"]),new l.ColorProperty("结束颜色","The color of the particle at the end of its life.",!0,!1,[this,"endColor"]),new l.BooleanProperty("尺寸单位为米","Sets if the size of particles is in meters or pixels. true to size the particles in meters; otherwise, the size is in pixels.",!0,!1,[this,"sizeInMeters"]),new l.NumberProperty("速度","speed,If set, overrides the minimumSpeed and maximumSpeed inputs with this value.",!0,!1,[this,"speed"],1),new l.NumberProperty("最小速度","minimumSpeed,Sets the minimum bound in meters per second above which a particles actual speed will be randomly chosen.",!0,!1,[this,"minimumSpeed"]),new l.NumberProperty("最大速度","maximumSpeed,Sets the maximum bound in meters per second below which a particles actual speed will be randomly chosen.",!0,!1,[this,"maximumSpeed"]),new l.NumberProperty("生命周期","lifetime,How long the particle system will emit particles, in seconds.",!0,!1,[this,"lifetime"],Number.MAX_VALUE),new l.NumberProperty("粒子生命周期","particleLife,If set, overrides the minimumParticleLife and maximumParticleLife inputs with this value.",!0,!1,[this,"particleLife"],t.defaults.particleLife),new l.NumberProperty("最小粒子生命周期","minimumParticleLife,Sets the minimum bound in seconds for the possible duration of a particles life above which a particles actual life will be randomly chosen.",!0,!1,[this,"minimumParticleLife"]),new l.NumberProperty("最大粒子生命周期","maximumParticleLife,Sets the maximum bound in seconds for the possible duration of a particles life below which a particles actual life will be randomly chosen.",!0,!1,[this,"maximumParticleLife"]),new l.NumberProperty("块数量","mass,Sets the minimum and maximum mass of particles in kilograms.",!0,!1,[this,"mass"],1),new l.NumberProperty("最小块数量","minimumMass,Sets the minimum bound for the mass of a particle in kilograms. A particles actual mass will be chosen as a random amount above this value.",!0,!1,[this,"minimumMass"]),new l.NumberProperty("最大块数量","maximumMass,Sets the maximum mass of particles in kilograms. A particles actual mass will be chosen as a random amount below this value.",!0,!1,[this,"maximumMass"]),new l.Number2Property("图片尺寸","imageSize",!0,!1,[this,"imageSize"],t.defaults.imageSize),new l.Number2Property("最小图片尺寸","minimumImageSize",!0,!1,[this,"minimumImageSize"]),new l.Number2Property("最大图片尺寸","maximumImageSize",!0,!1,[this,"maximumImageSize"]),new l.UriProperty("图片","The URI, HTMLImageElement, or HTMLCanvasElement to use for the billboard.",!0,!1,[this,"image"],t.defaults.image),new l.BooleanProperty("位置编辑","位置编辑",!1,!1,[this,"positionEditing"]),new l.PositionProperty("位置","position,经度纬度高度，度为单位",!0,!1,[this,"position"]),new l.Number3Property("偏移","translation",!0,!1,[this,"translation"],[0,0,0]),new l.Number3Property("旋转","rotation,偏航俯仰翻转，度为单位",!0,!1,[this,"rotation"],[0,0,0]),new l.Number3sProperty("bursts","bursts",!0,!1,[this,"bursts"]),new l.JsonProperty("emitter","emitter",!1,!1,[this,"emitter"],t.defaults.emitter)]),new l.GroupProperty("播放器","播放器",[new l.NumberProperty("播放比率","播放比率(0-1)",!0,!1,[this,"ratio"],t.defaults.ratio),new l.PlayerProperty("播放器","播放器",[this,"playing"],[this,"ratio"],[this,"playingLoop"]),new l.BooleanProperty("是否循环","是否循环.",!0,!1,[this,"playingLoop"],t.defaults.playingLoop),new l.NumberProperty("当前时间","当前时间",!0,!1,[this,"currentTime"],t.defaults.currentTime),new l.NumberProperty("过渡时间","过渡时间",!0,!1,[this,"duration"],t.defaults.duration),new l.BooleanProperty("是否播放","是否播放.",!0,!1,[this,"playing"],t.defaults.playing),new l.NumberProperty("播放速度","播放速度.",!0,!1,[this,"playingSpeed"],t.defaults.playingSpeed)])],!1)},n=t,t.type=n.register("CzmParticleSystemPrimitive",n,{chsName:"粒子特效",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API 实现的粒子特效。"}),t.defaults=i(i({},l.ESSceneObject.defaults),{playingLoop:!0,currentTime:0,playerCurrentTime:0,duration:6e3,playingSpeed:1,playing:!0,ratio:0,particleLife:.5,endScale:4,imageSize:[20,20],image:"${scene-manager-script-dir}/xe2-assets/scene-manager/images/smoke.png",emitter:{type:"CircleEmitter",radius:.5}}),t}(l.ESSceneObject);t.CzmParticleSystemPrimitive=c,function(e){e.createDefaultProps=function(){return i({emitter:(0,u.reactJsonWithUndefined)(void 0),bursts:(0,u.reactArrayCollectionWithUndefined)(void 0),position:(0,u.reactArrayWithUndefined)(void 0),translation:(0,u.reactArrayWithUndefined)(void 0),rotation:(0,u.reactArrayWithUndefined)(void 0),positionEditing:!1,image:void 0,imageSize:void 0,minimumImageSize:void 0,maximumImageSize:void 0,show:void 0,updateCallback:void 0,emissionRate:void 0,loop:void 0,scale:void 0,startScale:void 0,endScale:void 0,color:(0,u.reactArrayWithUndefined)(void 0),startColor:(0,u.reactArrayWithUndefined)(void 0),endColor:(0,u.reactArrayWithUndefined)(void 0),sizeInMeters:void 0,speed:void 0,minimumSpeed:void 0,maximumSpeed:void 0,lifetime:void 0,particleLife:void 0,minimumParticleLife:void 0,maximumParticleLife:void 0,mass:void 0,minimumMass:void 0,maximumMass:void 0,playingLoop:void 0,currentTime:void 0,duration:void 0,playingSpeed:void 0,playing:void 0},l.ESSceneObject.createDefaultProps())}}(c=t.CzmParticleSystemPrimitive||(t.CzmParticleSystemPrimitive={})),t.CzmParticleSystemPrimitive=c,(0,u.extendClassProps)(c.prototype,c.createDefaultProps)},94434:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmPoint=void 0;var l=n(43938),u=n(19239),c=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new u.Event),n._sPositionEditing=n.disposeVar(new l.PositionEditing([n,"position"],[n,"editing"],n.components)),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmPoint"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"sPositionEditing",{get:function(){return this._sPositionEditing},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("是否编辑","是否编辑.",!0,!1,[this,"editing"]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!0,!1,[this,"show"]),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"]),new l.NumberProperty("屏幕像素尺寸","屏幕像素尺寸",!0,!1,[this,"pixelSize"],t.defaults.pixelSize),new l.ColorProperty("颜色"," A Property specifying the color.",!0,!1,[this,"color"],t.defaults.color),new l.MinmaxProperty("距离限制","距离限制",!0,!1,[this,"distanceDisplayCondition"]),new l.NumberProperty("禁用深度检测距离","禁用深度检测距离",!0,!1,[this,"disableDepthTestDistance"]),new l.NumberProperty("外轮廓宽度","外轮廓宽度",!0,!1,[this,"outlineWidth"],t.defaults.outlineWidth),new l.ColorProperty("轮廓线颜色"," A Property specifying the color.",!0,!1,[this,"outlineColor"],t.defaults.outlineColor),new l.NearFarScalerProperty("相机距离缩放","相机距离缩放",!0,!1,[this,"scaleByDistance"]),new l.NearFarScalerProperty("相机距离缩放","相机距离缩放",!0,!1,[this,"translucencyByDistance"])])],!1)},n=t,t.type=n.register("CzmPoint",n,{chsName:"CzmPoint",tags:["CzmObjects","_ES_Impl_Cesium"],description:"CzmPoint"}),t.defaults=i(i({},l.ESSceneObject.defaults),{pixelSize:1,outlineWidth:1,color:[1,1,1,.5],outlineColor:[1,1,1,1]}),t}(l.ESSceneObject);t.CzmPoint=c,function(e){e.createDefaultProps=function(){return i({editing:void 0,show:void 0,position:(0,u.reactArrayWithUndefined)(void 0),pixelSize:void 0,color:(0,u.reactArrayWithUndefined)(void 0),distanceDisplayCondition:void 0,disableDepthTestDistance:void 0,outlineColor:(0,u.reactArrayWithUndefined)(void 0),outlineWidth:void 0,scaleByDistance:(0,u.reactArrayWithUndefined)(void 0),translucencyByDistance:(0,u.reactArrayWithUndefined)(void 0)},l.ESSceneObject.createDefaultProps())}}(c=t.CzmPoint||(t.CzmPoint={})),t.CzmPoint=c,(0,u.extendClassProps)(c.prototype,c.createDefaultProps)},57338:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmPointPrimitiveCollection=void 0;var l=n(43938),u=n(19239),c=n(43938),p=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new u.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmPointPrimitiveCollection"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(t){var n=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3]),new l.EnumProperty("blendOption","The label blending option. The default is used for rendering both opaque and translucent labels. However, if either all of the labels are completely opaque or all are completely translucent, setting the technique to BlendOption.OPAQUE or BlendOption.TRANSLUCENT can improve performance by up to 2x.",!0,!1,[this,"blendOption"],[["OPAQUE","OPAQUE"],["TRANSLUCENT","TRANSLUCENT"],["OPAQUE_AND_TRANSLUCENT","OPAQUE_AND_TRANSLUCENT"]],"OPAQUE"),new l.BooleanProperty("是否显示","Determines if the primitives in the collection will be shown.",!0,!1,[this,"show"],!0),new l.BooleanProperty("debugShowBoundingVolume","For debugging only.Determines if this primitives commands bounding spheres are shown.",!0,!1,[this,"debugShowBoundingVolume"],!1),new l.JsonProperty("pointPrimitiveOptions","点集合.",!0,!1,[this,"pointPrimitiveOptions"],void 0,'### 点位标绘集合示例\n```\n[\n    {\n        "position": [\n            116.4,\n            39.95,\n            0\n        ],\n        "color": [\n            1,\n            0,\n            0,\n            1\n        ],\n    },\n    {\n        "position": [\n            116.4,\n            39.96,\n            0\n        ],\n    }\n]\n```\n')])],!1)},n=t,t.type=n.register("CzmPointPrimitiveCollection",n,{chsName:"点集合(PointPrimitiveCollection)",tags:["GeoObjects","_ES_Impl_Cesium"],description:"自定义的点集合。"}),t}(c.ESSceneObject);t.CzmPointPrimitiveCollection=p,function(e){e.createDefaultProps=function(){return i({show:void 0,debugShowBoundingVolume:void 0,blendOption:void 0,pointPrimitiveOptions:void 0,position:(0,u.reactArrayWithUndefined)(void 0),rotation:(0,u.reactArrayWithUndefined)(void 0),scale:(0,u.reactArrayWithUndefined)(void 0),localPosition:(0,u.reactArrayWithUndefined)(void 0),localRotation:(0,u.reactArrayWithUndefined)(void 0),localScale:(0,u.reactArrayWithUndefined)(void 0),localModelMatrix:(0,u.reactArrayWithUndefined)(void 0),modelMatrix:(0,u.reactArrayWithUndefined)(void 0)},c.ESSceneObject.createDefaultProps())}}(p=t.CzmPointPrimitiveCollection||(t.CzmPointPrimitiveCollection={})),t.CzmPointPrimitiveCollection=p,(0,u.extendClassProps)(p.prototype,p.createDefaultProps)},31941:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmPolygonFence=void 0;var l=n(43938),u=n(19239),c=n(531),p=function(e){function t(n){var r=e.call(this,n)||this;r._pickedEvent=r.disposeVar(new u.Event),r._flyToEvent=r.disposeVar(new u.Event),r._sPositionsEditing=r.disposeVar(new l.PositionsEditing([r,"positions"],!0,[r,"editing"],r.components)),r._pointEditor=r.disposeVar(new l.PointEditing([r,"positions"],[r,"pointEditing"],r.components)),r._czmCustomPrimitive=r.disposeVar(new c.CzmCustomPrimitive),r._geoBoundingSphere=r.disposeVar((0,l.createGeoBoudingSphereReactFromPositions)([r,"positions"])),r.dispose(r.components.disposableAdd(r.czmCustomPrimitive));var o=r.czmCustomPrimitive;r.dispose((0,u.track)([o,"show"],[r,"show"])),r.dispose((0,u.track)([o,"allowPicking"],[r,"allowPicking"])),r.dispose(o.pickedEvent.disposableOn((function(e){r.pickedEvent.emit(new l.SceneObjectPickedInfo(r,e))})));var i=r.disposeVar((0,u.react)(0));(p=function(){if(!r.positions||r.positions.length<3)o.show=!1;else{o.show=!0;var e=a((0,l.positionsToLocalPositions)({originPosition:r.positions[0]},r.positions),3),n=e[0],u=e[1];e[2],o.modelMatrix=u,o.cull=!1,n.push(n[0]);var c=n.length,p=s(s([],a(n),!1),a(n.map((function(e){var n;return[e[0],e[1],e[2]+(null!==(n=r.height)&&void 0!==n?n:t.defaults.height)]}))),!1),f=n.reduce((function(e,t,n,r){if(0===n)return e.push(0),e;var o=n-1,i=r[o],a=Math.sqrt((i[0]-t[0])*(i[0]-t[0])+(i[1]-t[1])*(i[1]-t[1]));return e.push(e[o]+a),e}),[]);i.value=f[c-1];var d=f.map((function(e){return e/i.value})),h=s(s([],a(d.map((function(e){return[e,0]}))),!1),a(d.map((function(e){return[e,1]}))),!1);o.attributes={a_position:{typedArray:new Float32Array(p.flat(1)),componentsPerAttribute:3},a_st:{typedArray:new Float32Array(h.flat(1)),componentsPerAttribute:2}};var y=o.computeLocalAxisedBoundingBoxFromAttribute("a_position");if(y){o.setLocalAxisedBoundingBox(y.min,y.max);var g=s([],a(new Array(c-1).keys()),!1).map((function(e){return[[e,e+1,e+c+1],[e,e+c+1,e+c],[e+c+1,e+1,e],[e+c,e+c+1,e]]})).flat(2);o.indexTypedArray=new Uint16Array(g),o.vertexShaderSource="                    in vec3 a_position;\n                    in vec2 a_st;\n                    out vec2 v_st;\n                    void main()\n                    {\n                        v_st = a_st;\n                        gl_Position = czm_modelViewProjection * vec4(a_position, 1.0);\n                    }\n                ",o.fragmentShaderSource="                    in vec2 v_st;\n                    uniform sampler2D u_image;\n                    uniform vec4 u_color;\n                    uniform vec2 u_speed;\n                    uniform vec2 u_stScale;\n                    void main()\n                    {\n                        vec2 addst = u_speed * (czm_frameNumber / 60.0);\n                        vec4 imageColor = texture(u_image, fract(v_st * u_stScale - addst));\n                        out_FragColor = imageColor * u_color;\n                    }\n                "}else console.warn("包围盒计算存在问题！")}})();var p,f=r.disposeVar((0,u.createNextAnimateFrameEvent)(r.heightChanged,r.positionsChanged));r.dispose(f.disposableOn(p)),r.dispose(r.flyToEvent.disposableOn((function(e){r.czmCustomPrimitive.flyTo(e)}))),(p=function(){var e,n,a,s=i.value?i.value:1,l=null!==(e=r.height)&&void 0!==e?e:t.defaults.height,u=r.textureSizeInMeters,c=void 0===u?t.defaults.textureSizeInMeters:u,p=r.textureUri,f=void 0===p?t.defaults.textureUri:p;o.uniformMap={u_image:{type:"image",uri:f},u_stScale:[s/c[0],l/c[1]],u_speed:null!==(n=r.textureMoveSpeed)&&void 0!==n?n:t.defaults.textureMoveSpeed,u_color:null!==(a=r.textureColor)&&void 0!==a?a:t.defaults.textureColor}})();var d=r.disposeVar((0,u.createNextAnimateFrameEvent)(r.textureColorChanged,r.textureMoveSpeedChanged,r.textureSizeInMetersChanged,r.heightChanged,r.textureSizeInMetersChanged,r.textureUriChanged,i.changed));return r.dispose(d.disposableOn(p)),r}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmPolygonFence"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"sPositionsEditing",{get:function(){return this._sPositionsEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pointEditor",{get:function(){return this._pointEditor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmCustomPrimitive",{get:function(){return this._czmCustomPrimitive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoBoundingSphere",{get:function(){return this._geoBoundingSphere.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoBoundingSphereChanged",{get:function(){return this._geoBoundingSphere.changed},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!0,!1,[this,"show"],t.defaults.show),new l.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"],t.defaults.allowPicking),new l.BooleanProperty("是否编辑","A boolean Property specifying the visibility.",!0,!1,[this,"editing"],t.defaults.editing),new l.BooleanProperty("是否单点编辑","是否单点编辑.",!0,!1,[this,"pointEditing"],t.defaults.pointEditing),new l.PositionsProperty("位置数组","经度纬度高度，度为单位",!0,!1,[this,"positions"],l.GeoPolygon.defaults.positions),new l.NumberProperty("高度","高度, 单位米",!0,!1,[this,"height"],t.defaults.height),new l.StringProperty("纹理路径","纹理路径",!0,!1,[this,"textureUri"],t.defaults.textureUri),new l.Number2Property("纹理移动速度","纹理移动速度",!0,!1,[this,"textureMoveSpeed"],t.defaults.textureMoveSpeed),new l.ColorProperty("纹理颜色","纹理颜色",!0,!1,[this,"textureColor"],t.defaults.textureColor)])],!1)},n=t,t.type=n.register("CzmPolygonFence",n,{chsName:"CzmPolygonFence",tags:["CzmObjects"],description:"CzmPolygonFence"}),t.defaults=i(i({},l.ESSceneObject.defaults),{show:!0,allowPicking:!1,editing:!1,pointEditing:!1,positions:[],height:1e3,textureSizeInMeters:[500,500],textureUri:"${scene-manager-script-dir}/xe2-assets/scene-manager/images/location.png",textureMoveSpeed:[0,.3],textureColor:[1,1,1,1]}),t}(l.ESSceneObject);t.CzmPolygonFence=p,function(e){e.createDefaultProps=function(){return i({show:void 0,allowPicking:void 0,editing:void 0,pointEditing:void 0,positions:(0,u.reactPositions)(void 0),height:void 0,textureSizeInMeters:(0,u.reactArrayWithUndefined)(void 0),textureUri:void 0,textureMoveSpeed:(0,u.reactArrayWithUndefined)(void 0),textureColor:(0,u.reactArrayWithUndefined)(void 0)},l.ESSceneObject.createDefaultProps())}}(p=t.CzmPolygonFence||(t.CzmPolygonFence={})),t.CzmPolygonFence=p,(0,u.extendClassProps)(p.prototype,p.createDefaultProps)},9920:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmPolygonGroundPrimitive=void 0;var l=n(43938),u=n(43938),c=n(19239),p=function(e){function t(t){var n=e.call(this,t)||this;return n._pickedEvent=n.disposeVar(new c.Event),n._flyToEvent=n.disposeVar(new c.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmPolygonGroundPrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){if(this.polygonHierarchy)return(0,l.getGeoJson)("Polygon",this.polygonHierarchy.positions,this.name)},set:function(e){var t=(0,l.setGeoJson)(e);this.name=t.name,this.polygonHierarchy={positions:t.position}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(t){var n=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new u.GroupProperty("通用","通用",[new u.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!0,!1,[this,"show"]),new u.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"]),new u.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3]),new u.EnumProperty("弧线类型","弧线类型",!0,!1,[this,"arcType"],[["直线","NONE"],["地理直线","GEODESIC"],["地理恒向线","RHUMB"]],"GEODESIC"),new u.JsonProperty("材质","A Property specifying the material.",!1,!1,[this,"material"],void 0,l.CzmMaterialJsonTypeMd),new u.NumberProperty("纹理旋转角度","纹理旋转角度.",!0,!1,[this,"stRotation"]),new u.PositionsProperty("位置数组","经度纬度高度，度为单位",!0,!1,[this,"polygonHierarchy"]),new u.NumberProperty("高度","高度",!0,!1,[this,"height"]),new u.NumberProperty("拉伸高度","拉伸高度",!0,!1,[this,"extrudedHeight"]),new u.Number3Property("ellipsoid","ellipsoid",!0,!1,[this,"ellipsoid"]),new u.NumberProperty("间隔尺寸","granularity must be greater than zero.",!0,!1,[this,"granularity"]),new u.BooleanProperty("是否使用位置高度","是否使用位置高度.",!0,!1,[this,"perPositionHeight"]),new u.BooleanProperty("是否关闭顶部","是否关闭顶部.",!0,!1,[this,"closeTop"]),new u.BooleanProperty("是否关闭底部","是否关闭底部.",!0,!1,[this,"closeBottom"]),new u.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return n.geoJsonStr}),(function(e){return e&&(n.geoJsonStr=e)}))])],!1)},n=t,t.type=n.register("CzmPolygonGroundPrimitive",n,{chsName:"贴地多边形",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的GroundPrimitive API实现的多边形贴地。"}),t}(l.ESSceneObject);t.CzmPolygonGroundPrimitive=p,function(e){e.createDefaultProps=function(){return i({show:void 0,allowPicking:void 0,arcType:void 0,material:(0,c.reactJson)({type:"Color"}),stRotation:void 0,polygonHierarchy:(0,c.reactJson)({positions:[]}),height:void 0,extrudedHeight:void 0,ellipsoid:void 0,granularity:void 0,perPositionHeight:void 0,closeTop:void 0,closeBottom:void 0},l.ESSceneObject.createDefaultProps())}}(p=t.CzmPolygonGroundPrimitive||(t.CzmPolygonGroundPrimitive={})),t.CzmPolygonGroundPrimitive=p,(0,c.extendClassProps)(p.prototype,p.createDefaultProps)},14579:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmPolygonOutlinePrimitive=void 0;var l=n(43938),u=n(19239),c=n(43938),p=n(43938),f=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new u.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmPolygonOutlinePrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){return this.polygonHierarchy?(0,c.getGeoJson)("Polygon",this.polygonHierarchy.positions,this.name):{}},set:function(e){var t=(0,c.setGeoJson)(e);this.name=t.name,this.polygonHierarchy={positions:t.position}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(t){var n=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!0,!1,[this,"show"]),new l.NumberProperty("高度","高度",!0,!1,[this,"height"]),new l.NumberProperty("拉伸高度","拉伸高度",!0,!1,[this,"extrudedHeight"]),new l.BooleanProperty("是否半透明","A boolean Property specifying the translucent .",!0,!1,[this,"translucent"]),new l.ColorProperty("轮廓线颜色"," A Property specifying the color.",!0,!1,[this,"outlineColor"]),new l.EnumProperty("弧线类型","弧线类型",!0,!1,[this,"arcType"],[["直线","NONE"],["地理直线","GEODESIC"],["地理恒向线","RHUMB"]],"GEODESIC"),new l.PositionsProperty("位置数组","经度纬度高度，度为单位",!0,!1,[this,"polygonHierarchy"]),new l.Number3Property("ellipsoid","ellipsoid",!0,!1,[this,"ellipsoid"]),new l.NumberProperty("间隔尺寸","granularity must be greater than zero.",!0,!1,[this,"granularity"]),new l.BooleanProperty("是否使用位置高度","是否使用位置高度.",!0,!1,[this,"perPositionHeight"]),new l.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return n.geoJsonStr}),(function(e){return e&&(n.geoJsonStr=e)}))])],!1)},n=t,t.type=n.register("CzmPolygonOutlinePrimitive",n,{chsName:"多边形外轮廓",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API实现的多边形外轮廓。"}),t}(p.ESSceneObject);t.CzmPolygonOutlinePrimitive=f,function(e){e.createDefaultProps=function(){return i({show:void 0,height:void 0,extrudedHeight:void 0,translucent:void 0,outlineColor:(0,u.reactArrayWithUndefined)(void 0),arcType:void 0,polygonHierarchy:(0,u.reactJson)({positions:[]}),ellipsoid:void 0,granularity:void 0,perPositionHeight:void 0},p.ESSceneObject.createDefaultProps())}}(f=t.CzmPolygonOutlinePrimitive||(t.CzmPolygonOutlinePrimitive={})),t.CzmPolygonOutlinePrimitive=f,(0,u.extendClassProps)(f.prototype,f.createDefaultProps)},32907:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmPolygonPrimitive=void 0;var l=n(43938),u=n(43938),c=n(19239),p=function(e){function t(t){var n=e.call(this,t)||this;return n._pickedEvent=n.disposeVar(new c.Event),n._flyToEvent=n.disposeVar(new c.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmPolygonPrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){if(this.polygonHierarchy)return(0,l.getGeoJson)("Polygon",this.polygonHierarchy.positions,this.name)},set:function(e){var t=(0,l.setGeoJson)(e);this.name=t.name,this.polygonHierarchy={positions:t.position}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(t){var n=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new u.GroupProperty("通用","通用",[new u.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3]),new u.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!0,!1,[this,"show"]),new u.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"]),new u.EnumProperty("弧线类型","弧线类型",!0,!1,[this,"arcType"],[["直线","NONE"],["地理直线","GEODESIC"],["地理恒向线","RHUMB"]],"GEODESIC"),new u.JsonProperty("材质","A Property specifying the material.",!1,!1,[this,"material"],void 0,l.CzmMaterialJsonTypeMd),new u.NumberProperty("纹理旋转角度","纹理旋转角度.",!0,!1,[this,"stRotation"]),new u.JsonProperty("位置数组","经度纬度高度，度为单位",!0,!1,[this,"polygonHierarchy"],{positions:[]},l.CzmPolygonHierarchyTypeMd),new u.NumberProperty("高度","高度",!0,!1,[this,"height"]),new u.NumberProperty("拉伸高度","拉伸高度",!0,!1,[this,"extrudedHeight"]),new u.Number3Property("ellipsoid","ellipsoid",!0,!1,[this,"ellipsoid"]),new u.NumberProperty("间隔尺寸","granularity must be greater than zero.",!0,!1,[this,"granularity"]),new u.BooleanProperty("是否使用位置高度","是否使用位置高度.",!0,!1,[this,"perPositionHeight"]),new u.BooleanProperty("是否关闭顶部","是否关闭顶部.",!0,!1,[this,"closeTop"]),new u.BooleanProperty("是否关闭底部","是否关闭底部.",!0,!1,[this,"closeBottom"]),new u.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return n.geoJsonStr}),(function(e){return e&&(n.geoJsonStr=e)}))])],!1)},n=t,t.type=n.register("CzmPolygonPrimitive",n,{chsName:"多边形",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API 和GroundPrimitive API实现的多边形。"}),t}(l.ESSceneObject);t.CzmPolygonPrimitive=p,function(e){e.createDefaultProps=function(){return i({show:void 0,allowPicking:void 0,arcType:void 0,material:(0,c.reactJson)({type:"Color"}),stRotation:void 0,polygonHierarchy:(0,c.reactJson)({positions:[]}),height:void 0,extrudedHeight:void 0,ellipsoid:void 0,granularity:void 0,perPositionHeight:void 0,closeTop:void 0,closeBottom:void 0},l.ESSceneObject.createDefaultProps())}}(p=t.CzmPolygonPrimitive||(t.CzmPolygonPrimitive={})),t.CzmPolygonPrimitive=p,(0,c.extendClassProps)(p.prototype,p.createDefaultProps)},49453:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmPolylineGroundPrimitive=void 0;var l=n(43938),u=n(19239),c=function(e){function t(t){var n=e.call(this,t)||this;return n._pickedEvent=n.disposeVar(new u.Event),n._flyToEvent=n.disposeVar(new u.Event),n._sPositionsEditing=n.disposeVar(new l.PositionsEditing([n,"positions"],!1,[n,"editing"],n.components)),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmPolylineGroundPrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"sPositionsEditing",{get:function(){return this._sPositionsEditing},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){var n=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"]),new l.BooleanProperty("是否开启地形深度检测","A boolean Property specifying the visibility.",!0,!1,[this,"depthTest"],!1),new l.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"]),new l.PositionsProperty("位置数组","经度纬度高度，度为单位",!0,!1,[this,"positions"]),new l.NumberProperty("线宽","A numeric Property specifying the width in pixels.",!0,!1,[this,"width"]),new l.EnumProperty("弧线类型","弧线类型",!0,!1,[this,"arcType"],[["直线","NONE"],["地理直线","GEODESIC"],["地理恒向线","RHUMB"]],"GEODESIC"),new l.JsonProperty("材质","A Property specifying the material used to fill the line.",!1,!1,[this,"material"],void 0,l.CzmMaterialJsonTypeMd),new l.BooleanProperty("是否编辑","是否编辑.",!0,!1,[this,"editing"])])],!1)},n=t,t.type=n.register("CzmPolylineGroundPrimitive",n,{chsName:"贴地线条",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的GroundPrimitive API实现的贴地折线。"}),t}(l.ESSceneObject);t.CzmPolylineGroundPrimitive=c,function(e){e.createDefaultProps=function(){return i({show:void 0,allowPicking:void 0,positions:(0,u.reactPositions)(void 0),width:void 0,arcType:void 0,material:(0,u.reactJson)({type:"Color"}),editing:void 0,depthTest:void 0},l.ESSceneObject.createDefaultProps())}}(c=t.CzmPolylineGroundPrimitive||(t.CzmPolylineGroundPrimitive={})),t.CzmPolylineGroundPrimitive=c,(0,u.extendClassProps)(c.prototype,c.createDefaultProps)},61428:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmPolylinePrimitive=void 0;var l=n(43938),u=n(43938),c=n(19239),p=n(43938),f=function(e){function t(t){var n=e.call(this,t)||this;return n._pickedEvent=n.disposeVar(new c.Event),n._flyToEvent=n.disposeVar(new c.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmPolylinePrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){return(0,l.getGeoJson)("LineString",this.positions,this.name)},set:function(e){var t=(0,l.setGeoJson)(e);this.name=t.name,this.positions=t.position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(t){var n=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new u.GroupProperty("通用","通用",[new u.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3]),new u.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"]),new u.BooleanProperty("是否开启地形深度检测","A boolean Property specifying the visibility.",!0,!1,[this,"depthTest"],!1),new u.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"]),new u.JsonProperty("位置数组","经度纬度高度，度为单位",!0,!1,[this,"positions"]),new u.NumberProperty("线宽","A numeric Property specifying the width in pixels.",!0,!1,[this,"width"]),new u.EnumProperty("弧线类型","弧线类型",!0,!1,[this,"arcType"],[["直线","NONE"],["地理直线","GEODESIC"],["地理恒向线","RHUMB"]],"GEODESIC"),new u.JsonProperty("材质","A Property specifying the material used to fill the line.",!1,!1,[this,"material"],void 0,l.CzmMaterialJsonTypeMd),new u.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return n.geoJsonStr}),(function(e){return e&&(n.geoJsonStr=e)}))])],!1)},n=t,t.type=n.register("CzmPolylinePrimitive",n,{chsName:"线条",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API 和GroundPrimitive API实现的折线。"}),t}(p.ESSceneObject);t.CzmPolylinePrimitive=f,function(e){e.createDefaultProps=function(){return i({show:void 0,allowPicking:void 0,positions:(0,c.reactPositions)(void 0),width:void 0,arcType:void 0,material:(0,c.reactJson)({type:"Color"}),depthTest:void 0},p.ESSceneObject.createDefaultProps())}}(f=t.CzmPolylinePrimitive||(t.CzmPolylinePrimitive={})),t.CzmPolylinePrimitive=f,(0,c.extendClassProps)(f.prototype,f.createDefaultProps)},16459:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmPolylinesGroundPrimitive=void 0;var l=n(43938),u=n(43938),c=n(19239),p=function(e){function t(t){var n=e.call(this,t)||this;return n._pickedEvent=n.disposeVar(new c.Event),n._flyToEvent=n.disposeVar(new c.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmPolylinesGroundPrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){return(0,l.getGeoJson)("MultiLineString",this.positions,this.name)},set:function(e){var t=(0,l.setGeoJson)(e);this.name=t.name,this.positions=t.position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(t){var n=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new u.GroupProperty("通用","通用",[new u.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3]),new u.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"]),new u.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"]),new u.JsonProperty("位置数组","经度纬度高度，度为单位",!0,!1,[this,"positions"]),new u.NumberProperty("线宽","A numeric Property specifying the width in pixels.",!0,!1,[this,"width"]),new u.ColorProperty("颜色"," A Property specifying the color.",!0,!1,[this,"color"]),new u.BooleanProperty("是否为虚线","是否为虚线",!0,!1,[this,"hasDash"]),new u.BooleanProperty("是否开启深度检测","是否开启深度检测",!0,!1,[this,"depthTest"],!0),new u.ColorProperty("间隔颜色"," A Property specifying the color.",!0,!1,[this,"gapColor"]),new u.NumberProperty("虚线长度","虚线长度",!0,!1,[this,"dashLength"]),new u.NumberProperty("虚线图案","虚线图案",!0,!1,[this,"dashPattern"]),new u.BooleanProperty("是否带箭头","是否带箭头",!0,!1,[this,"hasArrow"]),new u.EnumProperty("弧线类型","弧线类型",!0,!1,[this,"arcType"],[["直线","NONE"],["地理直线","GEODESIC"],["地理恒向线","RHUMB"]],"GEODESIC"),new u.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return n.geoJsonStr}),(function(e){return e&&(n.geoJsonStr=e)}))])],!1)},n=t,t.type=n.register("CzmPolylinesGroundPrimitive",n,{chsName:"折线集合(贴地)",tags:["GeoObjects","_ES_Impl_Cesium"],description:"绘制多条贴地折线。"}),t}(u.ESSceneObject);t.CzmPolylinesGroundPrimitive=p,function(e){e.createDefaultProps=function(){return i({show:void 0,allowPicking:void 0,positions:(0,c.reactPositionsSet)(void 0),width:void 0,color:(0,c.reactArrayWithUndefined)(void 0),hasDash:void 0,gapColor:(0,c.reactArrayWithUndefined)(void 0),dashLength:void 0,dashPattern:void 0,hasArrow:void 0,arcType:void 0,depthTest:void 0},u.ESSceneObject.createDefaultProps())}}(p=t.CzmPolylinesGroundPrimitive||(t.CzmPolylinesGroundPrimitive={})),t.CzmPolylinesGroundPrimitive=p,(0,c.extendClassProps)(p.prototype,p.createDefaultProps)},12615:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmPolylinesPrimitive=void 0;var l=n(43938),u=n(43938),c=n(19239),p=function(e){function t(t){var n=e.call(this,t)||this;return n._pickedEvent=n.disposeVar(new c.Event),n._flyToEvent=n.disposeVar(new c.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmPolylinesPrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJson",{get:function(){return(0,l.getGeoJson)("MultiLineString",this.positions,this.name)},set:function(e){var t=(0,l.setGeoJson)(e);this.name=t.name,this.positions=t.position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(e){return""}},set:function(e){if(e)try{this.geoJson=JSON.parse(e)}catch(e){}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(t){var n=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new u.GroupProperty("通用","通用",[new u.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3]),new u.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"]),new u.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"]),new u.PositionsSetPropety("位置数组","经度纬度高度，度为单位",!0,!1,[this,"positions"]),new u.NumberProperty("线宽","A numeric Property specifying the width in pixels.",!0,!1,[this,"width"]),new u.ColorProperty("颜色"," A Property specifying the color.",!0,!1,[this,"color"]),new u.BooleanProperty("是否为虚线","是否为虚线",!0,!1,[this,"hasDash"]),new u.BooleanProperty("是否开启深度检测","是否开启深度检测",!0,!1,[this,"depthTest"],!0),new u.ColorProperty("间隔颜色"," A Property specifying the color.",!0,!1,[this,"gapColor"]),new u.NumberProperty("虚线长度","虚线长度",!0,!1,[this,"dashLength"]),new u.NumberProperty("虚线图案","虚线图案",!0,!1,[this,"dashPattern"]),new u.BooleanProperty("是否带箭头","是否带箭头",!0,!1,[this,"hasArrow"]),new u.EnumProperty("弧线类型","弧线类型",!0,!1,[this,"arcType"],[["直线","NONE"],["地理直线","GEODESIC"],["地理恒向线","RHUMB"]],"GEODESIC"),new u.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return n.geoJsonStr}),(function(e){return e&&(n.geoJsonStr=e)}))])],!1)},n=t,t.type=n.register("CzmPolylinesPrimitive",n,{chsName:"折线集合",tags:["GeoObjects","_ES_Impl_Cesium"],description:"绘制多条折线(不可贴地)。"}),t}(u.ESSceneObject);t.CzmPolylinesPrimitive=p,function(e){e.createDefaultProps=function(){return i({show:void 0,allowPicking:void 0,positions:(0,c.reactPositionsSet)(void 0),width:void 0,color:(0,c.reactArrayWithUndefined)(void 0),hasDash:void 0,gapColor:(0,c.reactArrayWithUndefined)(void 0),dashLength:void 0,dashPattern:void 0,hasArrow:void 0,arcType:void 0,depthTest:void 0},u.ESSceneObject.createDefaultProps())}}(p=t.CzmPolylinesPrimitive||(t.CzmPolylinesPrimitive={})),t.CzmPolylinesPrimitive=p,(0,c.extendClassProps)(p.prototype,p.createDefaultProps)},58744:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmRainPostProcess=void 0;var l=n(43938),u=n(19239),c=n(43938),p=function(e){function t(t){return e.call(this,t)||this}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmRainPostProcess"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"])])],!1)},n=t,t.type=n.register("CzmRainPostProcess",n,{chsName:"雨后特效",tags:["CzmObjects","_ES_Impl_Cesium"],description:"雨后特效"}),t}(c.ESSceneObject);t.CzmRainPostProcess=p,function(e){e.createDefaultProps=function(){return i({show:void 0},c.ESSceneObject.createDefaultProps())}}(p=t.CzmRainPostProcess||(t.CzmRainPostProcess={})),t.CzmRainPostProcess=p,(0,u.extendClassProps)(p.prototype,p.createDefaultProps)},87411:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmRectangleGroundPrimitive=void 0;var l=n(43938),u=n(19239),c=n(43938),p=n(43938),f=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new u.Event),n._pickedEvent=n.disposeVar(new u.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmRectangleGroundPrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"],!1),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"]),new l.Number4Property("范围","东南西北",!0,!1,[this,"positions"]),new l.NumberProperty("rotation","rotation.",!0,!1,[this,"rotation"]),new l.NumberProperty("stRotation","stRotation.",!0,!1,[this,"stRotation"]),new l.JsonProperty("材质","A Property specifying the material used to fill the line.",!1,!1,[this,"material"],t.defaults.material,c.CzmMaterialJsonTypeMd)])],!1)},n=t,t.type=n.register("CzmRectangleGroundPrimitive",n,{chsName:"贴地矩形",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的GroundPrimitive API实现的矩形贴地。"}),t.defaults=i(i({},p.ESSceneObject.defaults),{material:{type:"Color",color:[1,1,1,.5]}}),t}(p.ESSceneObject);t.CzmRectangleGroundPrimitive=f,function(e){e.createDefaultProps=function(){return i({show:void 0,allowPicking:void 0,material:(0,u.reactJsonWithUndefined)(void 0),positions:(0,u.reactArrayWithUndefined)(void 0),rotation:void 0,stRotation:void 0},p.ESSceneObject.createDefaultProps())}}(f=t.CzmRectangleGroundPrimitive||(t.CzmRectangleGroundPrimitive={})),t.CzmRectangleGroundPrimitive=f,(0,u.extendClassProps)(f.prototype,f.createDefaultProps)},73453:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmRectangleOutlinePrimitive=void 0;var l=n(43938),u=n(19239),c=n(43938),p=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new u.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmRectangleOutlinePrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(t){var n=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3]),new l.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"],!1),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"]),new l.BooleanProperty("是否半透明","A boolean Property specifying the translucent .",!0,!1,[this,"translucent"]),new l.ColorProperty("颜色"," A Property specifying the color.",!0,!1,[this,"color"]),new l.NumberProperty("高度","高度",!0,!1,[this,"height"]),new l.NumberProperty("拉伸高度","拉伸高度",!0,!1,[this,"extrudedHeight"]),new l.Number4Property("范围","东南西北",!0,!1,[this,"positions"]),new l.NumberProperty("rotation","rotation.",!0,!1,[this,"rotation"])])],!1)},n=t,t.type=n.register("CzmRectangleOutlinePrimitive",n,{chsName:"矩形外轮廓",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API 实现的矩形外轮廓。"}),t}(c.ESSceneObject);t.CzmRectangleOutlinePrimitive=p,function(e){e.createDefaultProps=function(){return i({show:void 0,allowPicking:void 0,translucent:void 0,color:(0,u.reactArrayWithUndefined)(void 0),height:void 0,extrudedHeight:void 0,rotation:void 0,positions:(0,u.reactArrayWithUndefined)(void 0)},c.ESSceneObject.createDefaultProps())}}(p=t.CzmRectangleOutlinePrimitive||(t.CzmRectangleOutlinePrimitive={})),t.CzmRectangleOutlinePrimitive=p,(0,u.extendClassProps)(p.prototype,p.createDefaultProps)},3114:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmRectanglePrimitive=void 0;var l=n(43938),u=n(19239),c=n(43938),p=n(43938),f=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new u.Event),n._pickedEvent=n.disposeVar(new u.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmRectanglePrimitive"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){var n=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3]),new l.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"],!1),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"]),new l.JsonProperty("材质","A Property specifying the material used to fill the line.",!1,!1,[this,"material"],void 0,c.CzmMaterialJsonTypeMd),new l.ColorProperty("轮廓线颜色"," A Property specifying the color.",!0,!1,[this,"outlineColor"]),new l.NumberProperty("高度","高度",!0,!1,[this,"height"]),new l.NumberProperty("拉伸高度","拉伸高度",!0,!1,[this,"extrudedHeight"]),new l.Number4Property("范围","东南西北",!0,!1,[this,"positions"]),new l.NumberProperty("rotation","rotation.",!0,!1,[this,"rotation"]),new l.NumberProperty("stRotation","stRotation.",!0,!1,[this,"stRotation"])])],!1)},n=t,t.type=n.register("CzmRectanglePrimitive",n,{chsName:"矩形",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API 和GroundPrimitive API实现的矩形。"}),t}(p.ESSceneObject);t.CzmRectanglePrimitive=f,function(e){e.createDefaultProps=function(){return i({show:void 0,allowPicking:void 0,material:(0,u.reactJsonWithUndefined)(void 0),positions:(0,u.reactArrayWithUndefined)(void 0),height:void 0,extrudedHeight:void 0,rotation:void 0,stRotation:void 0},p.ESSceneObject.createDefaultProps())}}(f=t.CzmRectanglePrimitive||(t.CzmRectanglePrimitive={})),t.CzmRectanglePrimitive=f,(0,u.extendClassProps)(f.prototype,f.createDefaultProps)},69211:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmRoad=void 0;var l=n(43938),u=n(19239),c=function(e){function t(t){var n=e.call(this,t)||this;return n._pickedEvent=n.disposeVar(new u.Event),n._flyToEvent=n.disposeVar(new u.Event),n._sPositionsEditing=n.disposeVar(new l.PositionsEditing([n,"positions"],!1,[n,"editing"],n.components)),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmRoad"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"sPositionsEditing",{get:function(){return this._sPositionsEditing},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"],t.defaults.show),new l.PositionsProperty("位置数组","经度纬度高度，度为单位",!0,!1,[this,"positions"],t.defaults.positions),new l.NumberProperty("线宽","道路宽度，单位是米！",!0,!1,[this,"width"],t.defaults.width),new l.EnumProperty("弧线类型","弧线类型",!0,!1,[this,"arcType"],[["直线","NONE"],["地理直线","GEODESIC"],["地理恒向线","RHUMB"]],t.defaults.arcType),new l.StringProperty("道路图片","道路图片",!0,!1,[this,"imageUrl"],t.defaults.imageUrl),new l.Number2Property("重复次数","重复次数，该参数以后会取消！",!0,!1,[this,"repeat"],t.defaults.repeat),new l.BooleanProperty("是否编辑","是否编辑.",!0,!1,[this,"editing"],t.defaults.editing),new l.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"],t.defaults.allowPicking),new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3])])],!1)},n=t,t.type=n.register("CzmRoad",n,{chsName:"贴地道路",tags:["CzmObjects","_ES_Impl_Cesium"],description:"最大宽度到1000米"}),t.defaults=i(i({},l.ESSceneObject.defaults),{show:!0,positions:[],width:50,arcType:"GEODESIC",imageUrl:"${scene-manager-script-dir}/xe2-assets/scene-manager/images/roads/4.jpg",repeat:[100,1],editing:!1,allowPicking:!1}),t}(l.ESSceneObject);t.CzmRoad=c,function(e){e.createDefaultProps=function(){return i({show:void 0,positions:(0,u.reactPositions)(void 0),width:void 0,arcType:void 0,imageUrl:void 0,repeat:void 0,editing:void 0,allowPicking:void 0},l.ESSceneObject.createDefaultProps())}}(c=t.CzmRoad||(t.CzmRoad={})),t.CzmRoad=c,(0,u.extendClassProps)(c.prototype,c.createDefaultProps)},31488:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmSignalTransmission=void 0;var l=n(43938),u=n(19239),c=function(e){function t(n){var r=e.call(this,n)||this;r._flyToEvent=r.disposeVar(new u.Event),r._pickedEvent=r.disposeVar(new u.Event),r._sPositionsEditing=r.disposeVar(new l.PositionsEditing([r,"positions"],!1,[r,"editing"],r.components)),r._player=r.disposeVar(new l.Player);var o=t.defaults;return r.dispose((0,u.bind)([r._player,"loop"],[r,"loop"],(function(e){return null!=e?e:o.loop}),(function(e){return null!=e?e:o.loop}))),r.dispose((0,u.bind)([r._player,"currentTime"],[r,"currentTime"],(function(e){return null!=e?e:o.currentTime}),(function(e){return null!=e?e:o.currentTime}))),r.dispose((0,u.bind)([r._player,"duration"],[r,"duration"],(function(e){return null!=e?e:o.duration}),(function(e){return null!=e?e:o.duration}))),r.dispose((0,u.bind)([r._player,"playing"],[r,"playing"],(function(e){return null!=e?e:o.playing}),(function(e){return null!=e?e:o.playing}))),r.dispose((0,u.bind)([r._player,"speed"],[r,"speed"],(function(e){return null!=e?e:o.speed}),(function(e){return null!=e?e:o.speed}))),r}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmSignalTransmission"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sPositionsEditing",{get:function(){return this._sPositionsEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"player",{get:function(){return this._player},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ratio",{get:function(){return this._player.ratio},set:function(e){this._player.ratio=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ratioChanged",{get:function(){return this._player.ratioChanged},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"]),new l.NumberProperty("起始时间","信号起始传输时间",!0,!1,[this,"startTime"],0),new l.NumberProperty("传输时间","信号实际传输时间",!0,!1,[this,"transmissionTime"],3e3),new l.ColorProperty("颜色","颜色",!0,!1,[this,"color"],[0,1,0,1]),new l.NumberProperty("线宽","线宽",!0,!1,[this,"width"],3),new l.NumberProperty("高度比率","当只有两个位置点时才有效，此时信号线会自动变成有高度的曲线",!0,!1,[this,"heightRatio"],1),new l.EnumProperty("弧线类型","弧线类型",!0,!1,[this,"arcType"],[["直线","NONE"],["地理直线","GEODESIC"],["地理恒向线","RHUMB"]],"GEODESIC"),new l.BooleanProperty("变亮","变亮",!0,!1,[this,"brightening"],!1),new l.BooleanProperty("深度监测","深度监测",!0,!1,[this,"depthTest"],!0),new l.UriProperty("图片路径","图片路径，若无图片，则显示内部的OD线样式",!0,!1,[this,"imageUrl"],t.defaultImageUri),new l.NumberProperty("图像重复次数","图像重复次数，有图像时才有效",!0,!1,[this,"repeat"],5),new l.EnumProperty("运动方向","运动方向，注意对图片来说只有正反向。",!0,!1,[this,"bidirectional"],[["正向",0],["反向",1],["双向",2],["无",3]],0),new l.PositionsProperty("位置数组","经度纬度高度，度为单位",!0,!1,[this,"positions"]),new l.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"]),new l.BooleanProperty("是否编辑","是否编辑.",!0,!1,[this,"editing"])]),new l.GroupProperty("播放器","播放器",[new l.PlayerProperty("播放器","播放器",[this,"playing"],[this,"ratio"],[this,"loop"],t.defaults),new l.BooleanProperty("是否循环","是否循环.",!0,!1,[this,"loop"],t.defaults.loop),new l.NumberProperty("当前时间","当前时间",!0,!1,[this.player,"currentTime"],t.defaults.playerCurrentTime),new l.NumberProperty("过渡时间","过渡时间",!0,!1,[this,"duration"],t.defaults.duration),new l.BooleanProperty("是否播放","是否播放.",!0,!1,[this,"playing"],t.defaults.playing),new l.NumberProperty("播放速度","播放速度.",!0,!1,[this,"speed"],t.defaults.speed)])],!1)},n=t,t.type=n.register("CzmSignalTransmission",n,{chsName:"信号传输器",tags:["CzmObjects","_ES_Impl_Cesium"],description:"信号传输器"}),t.defaults=i(i({},l.ESSceneObject.defaults),{loop:!0,currentTime:0,playerCurrentTime:0,duration:3e3,speed:1,playing:!0}),t.defaultImageUri="${scene-manager-script-dir}/xe2-assets/scene-manager/images/signal.png",t}(l.ESSceneObject);t.CzmSignalTransmission=c,function(e){e.createDefaultProps=function(){return i({show:void 0,imageUrl:void 0,repeat:void 0,bidirectional:void 0,startTime:void 0,transmissionTime:void 0,color:void 0,width:void 0,arcType:void 0,brightening:void 0,depthTest:void 0,positions:(0,u.reactPositions)(void 0),heightRatio:void 0,allowPicking:void 0,editing:void 0,loop:void 0,currentTime:void 0,duration:void 0,speed:void 0,playing:void 0},l.ESSceneObject.createDefaultProps())}}(c=t.CzmSignalTransmission||(t.CzmSignalTransmission={})),t.CzmSignalTransmission=c,(0,u.extendClassProps)(c.prototype,c.createDefaultProps)},79484:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmSignalTransmissionCollection=void 0;var l=n(43938),u=n(19239),c=function(e){function t(n){var r=e.call(this,n)||this;r._flyToEvent=r.disposeVar(new u.Event),r._pickedEvent=r.disposeVar(new u.Event),r._player=r.disposeVar(new l.Player);var o=t.defaults;return r.dispose((0,u.bind)([r._player,"loop"],[r,"loop"],(function(e){return null!=e?e:o.loop}),(function(e){return null!=e?e:o.loop}))),r.dispose((0,u.bind)([r._player,"currentTime"],[r,"currentTime"],(function(e){return null!=e?e:o.currentTime}),(function(e){return null!=e?e:o.currentTime}))),r.dispose((0,u.bind)([r._player,"duration"],[r,"duration"],(function(e){return null!=e?e:o.duration}),(function(e){return null!=e?e:o.duration}))),r.dispose((0,u.bind)([r._player,"playing"],[r,"playing"],(function(e){return null!=e?e:o.playing}),(function(e){return null!=e?e:o.playing}))),r.dispose((0,u.bind)([r._player,"speed"],[r,"speed"],(function(e){return null!=e?e:o.speed}),(function(e){return null!=e?e:o.speed}))),r}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmSignalTransmissionCollection"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"player",{get:function(){return this._player},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ratio",{get:function(){return this._player.ratio},set:function(e){this._player.ratio=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ratioChanged",{get:function(){return this._player.ratioChanged},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"]),new l.NumberProperty("起始时间","信号起始传输时间",!0,!1,[this,"startTime"],0),new l.NumberProperty("传输时间","信号实际传输时间",!0,!1,[this,"transmissionTime"],3e3),new l.ColorProperty("颜色","颜色",!0,!1,[this,"color"],[0,1,0,1]),new l.NumberProperty("线宽","线宽",!0,!1,[this,"width"],3),new l.EnumProperty("弧线类型","弧线类型",!0,!1,[this,"arcType"],[["直线","NONE"],["地理直线","GEODESIC"],["地理恒向线","RHUMB"]],"GEODESIC"),new l.BooleanProperty("变亮","变亮",!0,!1,[this,"brightening"],!1),new l.BooleanProperty("深度监测","深度监测",!0,!1,[this,"depthTest"],!0),new l.UriProperty("图片路径","图片路径，若无图片，则显示内部的OD线样式",!0,!1,[this,"imageUrl"],t.defaultImageUri),new l.NumberProperty("图像重复次数","图像重复次数，有图像时才有效",!0,!1,[this,"repeat"],5),new l.EnumProperty("运动方向","运动方向，注意对图片来说只有正反向。",!0,!1,[this,"bidirectional"],[["正向",0],["反向",1],["双向",2],["无",3]],0),new l.PositionsSetPropety("位置数组集合","经度纬度高度，度为单位",!0,!1,[this,"positionsSet"]),new l.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"]),new l.BooleanProperty("是否编辑","是否编辑.",!0,!1,[this,"editing"])]),new l.GroupProperty("播放器","播放器",[new l.PlayerProperty("播放器","播放器",[this,"playing"],[this,"ratio"],[this,"loop"],t.defaults),new l.BooleanProperty("是否循环","是否循环.",!0,!1,[this,"loop"],t.defaults.loop),new l.NumberProperty("当前时间","当前时间",!0,!1,[this.player,"currentTime"],t.defaults.playerCurrentTime),new l.NumberProperty("过渡时间","过渡时间",!0,!1,[this,"duration"],t.defaults.duration),new l.BooleanProperty("是否播放","是否播放.",!0,!1,[this,"playing"],t.defaults.playing),new l.NumberProperty("播放速度","播放速度.",!0,!1,[this,"speed"],t.defaults.speed)])],!1)},n=t,t.type=n.register("CzmSignalTransmissionCollection",n,{chsName:"信号传输器集合",tags:["CzmObjects","_ES_Impl_Cesium"],description:"信号传输器集合"}),t.defaults=i(i({},l.ESSceneObject.defaults),{loop:!0,currentTime:0,playerCurrentTime:0,duration:3e3,speed:1,playing:!0}),t.defaultImageUri="${scene-manager-script-dir}/xe2-assets/scene-manager/images/signal.png",t}(l.ESSceneObject);t.CzmSignalTransmissionCollection=c,function(e){e.createDefaultProps=function(){return i({show:void 0,imageUrl:void 0,repeat:void 0,bidirectional:void 0,startTime:void 0,transmissionTime:void 0,color:void 0,width:void 0,arcType:void 0,brightening:void 0,depthTest:void 0,positionsSet:(0,u.reactPositionsSet)(void 0),allowPicking:void 0,editing:void 0,loop:void 0,currentTime:void 0,duration:void 0,speed:void 0,playing:void 0},l.ESSceneObject.createDefaultProps())}}(c=t.CzmSignalTransmissionCollection||(t.CzmSignalTransmissionCollection={})),t.CzmSignalTransmissionCollection=c,(0,u.extendClassProps)(c.prototype,c.createDefaultProps)},2703:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmSmokeParticleSystem=void 0;var l=n(43938),u=n(19239),c=n(1358),p=function(e){function t(t){var n=e.call(this,t)||this;n._flyToEvent=n.disposeVar(new u.Event);var r=n,o=n.disposeVar(new c.CzmParticleSystemPrimitive);n.dispose(n.components.disposableAdd(o));var i=n.disposeVar(l.ESSceneObject.context.createEvnStrReact([r,"image"],"${scene-manager-script-dir}/xe2-assets/scene-manager/images/smoke.png"));n.dispose((0,u.bind)([o,"position"],[r,"position"])),n.dispose((0,u.bind)([o,"positionEditing"],[r,"positionEditing"])),n.dispose((0,u.bind)([o,"translation"],[r,"translation"])),n.dispose((0,u.bind)([o,"rotation"],[r,"rotation"])),o.image=i.value,o.show=!0,o.startColor=[0,0,0,.1],o.endColor=[0,0,0,0],o.startScale=0,o.endScale=10,o.particleLife=20,o.minimumSpeed=1,o.maximumSpeed=5,o.emissionRate=20,o.lifetime=16,o.imageSize=[2,2],o.emitter={type:"CircleEmitter",radius:.5},o.sizeInMeters=!0;var a=n.disposeVar((0,u.createNextAnimateFrameEvent)(r.showChanged,r.imageChanged));return n.dispose(a.disposableOn((function(){var e;o.show=null===(e=r.show)||void 0===e||e,o.image=i.value}))),n.dispose(r.flyToEvent.disposableOn((function(e){o.show&&o.flyTo(e)}))),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmSmokeParticleSystem"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},t.prototype.getProperties=function(t){var n=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"],!0),new l.UriProperty("图片","The URI, HTMLImageElement, or HTMLCanvasElement to use for the billboard.",!0,!1,[this,"image"],"${scene-manager-script-dir}/xe2-assets/scene-manager/images/smoke.png"),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"]),new l.Number3Property("偏移","translation",!0,!1,[this,"translation"],[0,0,0]),new l.Number3Property("旋转","rotation,偏航俯仰翻转，度为单位",!0,!1,[this,"rotation"],[0,0,0]),new l.BooleanProperty("是否编辑位置","是否编辑位置.",!1,!1,[this,"positionEditing"])])],!1)},n=t,t.type=n.register("CzmSmokeParticleSystem",n,{chsName:"烟雾粒子特效",tags:["CzmObjects","_ES_Impl_Cesium"],description:"烟雾粒子特效"}),t}(l.ESSceneObject);t.CzmSmokeParticleSystem=p,function(e){e.createDefaultProps=function(){return i({show:void 0,image:void 0,positionEditing:!1,position:(0,u.reactArrayWithUndefined)(void 0),translation:(0,u.reactArrayWithUndefined)(void 0),rotation:(0,u.reactArrayWithUndefined)(void 0)},l.ESSceneObject.createDefaultProps())}}(p=t.CzmSmokeParticleSystem||(t.CzmSmokeParticleSystem={})),t.CzmSmokeParticleSystem=p,(0,u.extendClassProps)(p.prototype,p.createDefaultProps)},46271:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmSnowPostProcess=void 0;var l=n(43938),u=n(19239),c=n(43938),p=function(e){function t(t){return e.call(this,t)||this}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmSnowPostProcess"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"]),new l.NumberProperty("alpha","alpha",!1,!1,[this,"alpha"],0)])],!1)},n=t,t.type=n.register("CzmSnowPostProcess",n,{chsName:"雪后特效",tags:["CzmObjects","_ES_Impl_Cesium"],description:"雪后特效"}),t}(c.ESSceneObject);t.CzmSnowPostProcess=p,function(e){e.createDefaultProps=function(){return i({show:void 0,alpha:0},c.ESSceneObject.createDefaultProps())}}(p=t.CzmSnowPostProcess||(t.CzmSnowPostProcess={})),t.CzmSnowPostProcess=p,(0,u.extendClassProps)(p.prototype,p.createDefaultProps)},71575:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmSpaceAreaMeasurement=void 0;var l=n(43938),u=n(19239),c=n(9920),p=function(e){function t(t){var n=e.call(this,t)||this;n._pickedEvent=n.disposeVar(new u.Event),n._flyToEvent=n.disposeVar(new u.Event),n._sPositionsEditing=n.disposeVar(new l.PositionsEditing([n,"positions"],!0,[n,"positionEditing"],n.components)),n._czmPolygonGroundPrimitive=n.disposeVar(new c.CzmPolygonGroundPrimitive),n._geoDivPoi=n.disposeVar(new l.GeoCustomDivPoi),n.components.add(n._czmPolygonGroundPrimitive),n.dispose((function(){n.components.delete(n._czmPolygonGroundPrimitive)})),n.dispose(n.flyToEvent.disposableOn((function(e){n.czmPolygonGroundPrimitive.flyTo(e)}))),n.dispose(n.czmPolygonGroundPrimitive.pickedEvent.disposableOn((function(e){n.pickedEvent.emit(new l.SceneObjectPickedInfo(n,e))}))),n.dispose((0,u.track)([n.czmPolygonGroundPrimitive,"show"],[n,"show"])),n.components.add(n._geoDivPoi),n.dispose((function(){n.components.delete(n._geoDivPoi)}));var r=function(){var e;n._geoDivPoi.innerHTML=(0,l.createInnerHtmlWithWhiteTextBlackBackground)("表面积: ".concat((null!==(e=n.totalArea)&&void 0!==e?e:0).toFixed(2),"平方米"),24)};return r(),n.dispose(n.totalAreaChanged.disposableOn(r)),n.dispose((0,u.track)([n._geoDivPoi,"show"],[n,"show"])),n.dispose(n.positionsChanged.disposableOn((function(){var e;n.czmPolygonGroundPrimitive.polygonHierarchy={positions:null!==(e=n.positions)&&void 0!==e?e:[]},n.positions&&n.positions.length>=3?n._geoDivPoi.position=(0,l.updateCenterOfMass)(n.positions):n._geoDivPoi.position=void 0}))),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmSpaceAreaMeasurement"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"sPositionsEditing",{get:function(){return this._sPositionsEditing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmPolygonGroundPrimitive",{get:function(){return this._czmPolygonGroundPrimitive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoDivPoi",{get:function(){return this._geoDivPoi},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){var n=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"]),new l.BooleanProperty("位置编辑","位置编辑",!1,!1,[this,"positionEditing"]),new l.PositionsProperty("位置数组","经度纬度高度，度为单位的数组",!0,!1,[this,"positions"]),new l.NumberProperty("表面积","表面积",!0,!0,[this,"totalArea"],0),new l.BooleanProperty("是否插值","是否插值",!0,!1,[this,"interpolation"],!1),new l.NumberProperty("插值距离","插值距离",!0,!1,[this,"interpolationDistance"],50),new l.NumberProperty("抬高高度","抬高高度",!0,!1,[this,"offsetHeight"],1),new l.NumberProperty("钻取深度","钻取深度",!0,!1,[this,"drillDepth"],3)])],!1)},n=t,t.type=n.register("CzmSpaceAreaMeasurement",n,{chsName:"空间面积测量",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的Primitive API 实现的粒子特效。"}),t.defaults=i(i({},l.ESSceneObject.defaults),{positions:[],positionEditing:!1,totalArea:0,interpolation:!1,interpolationDistance:50,offsetHeight:1,drillDepth:3}),t}(l.ESSceneObject);t.CzmSpaceAreaMeasurement=p,function(e){e.createDefaultProps=function(){return i({positions:(0,u.reactArrayWithUndefined)(void 0),positionEditing:!1,show:void 0,totalArea:void 0,interpolationDistance:void 0,interpolation:void 0,offsetHeight:void 0,drillDepth:void 0},l.ESSceneObject.createDefaultProps())}}(p=t.CzmSpaceAreaMeasurement||(t.CzmSpaceAreaMeasurement={})),t.CzmSpaceAreaMeasurement=p,(0,u.extendClassProps)(p.prototype,p.createDefaultProps)},16860:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmTerrain=void 0;var l=n(43938),u=n(43938),c=n(19239),p=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new c.Event),n._recreateEvent=n.disposeVar(new c.Event),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmTerrain"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"recreateEvent",{get:function(){return this._recreateEvent},enumerable:!1,configurable:!0}),t.prototype.recreate=function(){this._recreateEvent.emit()},t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new u.GroupProperty("通用","通用",[new u.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new u.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"],t.defaults.show),new u.Number4Property("矩形范围","西南东北",!0,!1,[this,"rectangle"],t.defaults.rectangle),new u.NumberProperty("高度","A numeric Property specifying the height of the terrain.",!0,!1,[this,"height"],t.defaults.height),new u.JsonProperty("provider","provider",!1,!1,[this,"provider"],t.defaults.provider,l.CzmTerrainProviderJsonTypeMd)])],!1)},n=t,t.type=n.register("CzmTerrain",n,{chsName:"地形",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过Cesium的CesiumTerrainProvider API 实现的地形。"}),t.defaults=i(i({},u.ESSceneObject.defaults),{show:!0,rectangle:[-180,-90,180,90],height:0,provider:{type:"EllipsoidTerrainProvider"}}),t}(u.ESSceneObject);t.CzmTerrain=p,function(e){e.createDefaultProps=function(){return i({show:void 0,rectangle:(0,c.reactArrayWithUndefined)(void 0),height:void 0,provider:(0,c.reactJsonWithUndefined)(void 0)},u.ESSceneObject.createDefaultProps())}}(p=t.CzmTerrain||(t.CzmTerrain={})),t.CzmTerrain=p,(0,c.extendClassProps)(p.prototype,p.createDefaultProps)},98986:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},u=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmTexture=void 0;var c=n(43938),p=n(19239),f=n(10070),d=function(e){function t(t){var n=e.call(this,t)||this;n._complexImage=n.disposeVar(new f.ComplexImage),n._copyFromClipboardProcessing=n.disposeVar((0,f.createProcessingFromAsyncFunc)((function(e){return a(n,void 0,void 0,(function(){var t,n,r,o,i,a;return s(this,(function(s){switch(s.label){case 0:return[4,e.promise(navigator.clipboard.read())];case 1:return 0===(t=s.sent()).length?(console.warn("剪切板中没有内容，无法粘贴！"),[2]):(n=t[0],-1===(r=n.types.findIndex((function(e){return e.startsWith("image")})))?(console.warn("剪切板中没有图像！"),[2]):[4,e.promise(n.getType(n.types[r]))]);case 2:return o=s.sent(),i=window.URL.createObjectURL(new Blob([o])),e.disposer.dispose((function(){return window.URL.revokeObjectURL(i)})),[4,e.promise(new Promise((function(e,t){var n=new Image;n.src=i,n.onload=function(){return e(n)},n.onerror=function(){return t("无法加载图片！")},n.onabort=function(){return t("加载图片被中断！")}})))];case 3:return a=s.sent(),this.copyFromImage(a),[2]}}))}))}))),n.dispose((0,p.track)([n._complexImage,"enabled"],[n,"enabled"])),n.dispose((0,p.bind)([n._complexImage,"size"],[n,"size"])),n.dispose((0,p.bind)([n._complexImage,"pixelFormat"],[n,"pixelFormat"])),n.dispose((0,p.bind)([n._complexImage,"flipY"],[n,"flipY"]));var r=n.disposeVar(f.SceneObject.context.createEvnStrReact([n,"uri"]));return n.dispose((0,p.bind)([n._complexImage,"uri"],r)),n.dispose((0,p.bind)([n._complexImage,"type"],[n,"uriType"])),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmTexture"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"complexImage",{get:function(){return this._complexImage},enumerable:!1,configurable:!0}),t.prototype.copyTexture=function(e){this._complexImage.copyTexture(e)},t.prototype.copyFromImage=function(e){e.naturalWidth<=0||e.naturalHeight<=0?console.warn("copyFromImage error: image.naturalWidth <= 0 || image.naturalHeight <= 0"):(this.size=[e.naturalWidth,e.naturalHeight],this.copyTexture({source:e}))},t.prototype.copyFromCanvas=function(e){this._complexImage.copyFromCanvas(e)},t.prototype.copyFromClipboard=function(){this._copyFromClipboardProcessing.restart()},t.prototype.getProperties=function(n){var r=this;return u(u([],l(e.prototype.getProperties.call(this,n)),!1),[new c.GroupProperty("通用","通用",[new c.BooleanProperty("是否启用","A boolean Property specifying the visibility.",!1,!1,[this,"enabled"]),new c.Number2Property("尺寸","尺寸",!0,!1,[this,"size"],t.defaults.size),new c.EnumProperty("像素格式","像素格式",!1,!1,[this,"pixelFormat"],f.czmPixelFormats.map((function(e){return[e,e]}))),new c.BooleanProperty("flipY","flipY",!1,!1,[this,"flipY"])]),new c.GroupProperty("高级","高级",[new c.StringProperty("路径","路径，设置以后会自动修改",!1,!1,[this,"uri"]),new c.EnumProperty("路径类型","路径类型",!0,!1,[this,"uriType"],t.defaults.uriTypes.map((function(e){return[e,e]})),t.defaults.uriType),new c.FunctionProperty("剪切板","获取剪切板图像",[],(function(){r.copyFromClipboard()}),[])])],!1)},n=t,t.type=n.register("CzmTexture",n,{chsName:"CzmTexture",tags:["CzmObjects","_ES_Impl_Cesium"],description:"Cesium的纹理对象，方便共享。"}),t.types=f.ComplexImage.types,t.suffixTypes=f.ComplexImage.suffixTypes,t.defaults=i(i({},c.ESSceneObject.defaults),{size:[256,256],uriType:"img",czmPixelFormats:f.czmPixelFormats,uriTypes:t.types}),t}(c.ESSceneObject);t.CzmTexture=d,function(e){e.createDefaultProps=function(){return i({enabled:!0,size:(0,p.reactArrayWithUndefined)(void 0),pixelFormat:"RGBA",flipY:!0,uri:"${scene-manager-script-dir}/xe2-assets/scene-manager/images/location.png",uriType:void 0},c.ESSceneObject.createDefaultProps())}}(d=t.CzmTexture||(t.CzmTexture={})),t.CzmTexture=d,(0,p.extendClassProps)(d.prototype,d.createDefaultProps)},38573:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.HeightMoving=void 0;var s=n(19239),l=n(64252),u=function(e){function t(t,n,r){var o=e.call(this)||this;o._geoToolbar=t,o._div=n,o._czmViewer=r,o._mouseMoving=o.disposeVar(new l.MouseMoving(o._div));var s=o,u=s.geoToolbar,c=s.czmViewer,p=void 0;return o.dispose(o._mouseMoving.startEvent.disposableOn((function(){u.position&&(p=a([],i(u.position),!1))}))),o.dispose(o._mouseMoving.diffPosChanged.disposableOn((function(){var e;if(u.position&&o._mouseMoving.diffPos){var t=p;if(t){var n=i(o._mouseMoving.diffPos,2),r=(n[0],n[1]/1024*(null!==(e=c.getViewDistance(u.position))&&void 0!==e?e:0)*.8);u.position=[t[0],t[1],t[2]-r]}}}))),o.dispose(o._mouseMoving.stopEvent.disposableOn((function(){p=void 0}))),o}return o(t,e),Object.defineProperty(t.prototype,"geoToolbar",{get:function(){return this._geoToolbar},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmViewer",{get:function(){return this._czmViewer},enumerable:!1,configurable:!0}),t}(s.Destroyable);t.HeightMoving=u},25833:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.LastCursorPos=void 0;var i=n(19239),a=function(e){function t(t){var n=e.call(this)||this;return n._czmViewer=t,n._winPos=n.disposeVar((0,i.reactArrayWithUndefined)(void 0)),n.dispose(n._czmViewer.interaction.pointerMoveEvent.disposableOn((function(e){n._winPos.value=[e.offsetX,e.offsetY]}))),n}return o(t,e),Object.defineProperty(t.prototype,"winPos",{get:function(){return this._winPos.value},set:function(e){this._winPos.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"winPosChanged",{get:function(){return this._winPos.changed},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.LastCursorPos=a},64252:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.MouseMoving=void 0;var i=n(19239),a=n(10070),s=function(e){function t(t){var n=e.call(this)||this;n._div=t,n._diffPos=n.disposeVar((0,i.reactArrayWithUndefined)(void 0)),n._startEvent=n.disposeVar(new i.Event),n._stopEvent=n.disposeVar(new i.Event),n.debug=!1;var r=n._div,o=!1,s=0,l=0,u=n.disposeVar(a.DomElementEvent.create(r,"pointerdown")),c=n.disposeVar(a.DomElementEvent.create(r,"pointermove")),p=n.disposeVar(a.DomElementEvent.create(r,"pointerup"));return n.dispose(u.disposableOn((function(e){o=!0,s=e.screenX,l=e.screenY,r.setPointerCapture(e.pointerId),n._startEvent.emit()}))),n.dispose(c.disposableOn((function(e){o&&(0!==e.buttons?n._diffPos.value=[e.screenX-s,e.screenY-l]:o=!1)}))),n.dispose(p.disposableOn((function(e){o=!1,n._diffPos.value=[e.screenX-s,e.screenY-l],r.releasePointerCapture(e.pointerId),n._stopEvent.emit()}))),n.dispose(n.diffPosChanged.disposableOn((function(){n.debug&&console.log(n.diffPos)}))),n}return o(t,e),Object.defineProperty(t.prototype,"diffPos",{get:function(){return this._diffPos.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"diffPosChanged",{get:function(){return this._diffPos.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startEvent",{get:function(){return this._startEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stopEvent",{get:function(){return this._stopEvent},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.MouseMoving=s},66381:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.PositionMoving=void 0;var s=n(19239),l=n(64252),u=n(25833),c=function(e){function t(t,n,r){var o=e.call(this)||this;o._geoToolbar=t,o._div=n,o._czmViewer=r,o._mouseMoving=o.disposeVar(new l.MouseMoving(o._div)),o._lastCursorPos=o.disposeVar(new u.LastCursorPos(o._czmViewer));var s=o,c=s.geoToolbar,p=void s.czmViewer,f=void 0,d=void 0;return o.dispose(o._mouseMoving.startEvent.disposableOn((function(){c.position&&(d=o.lastCursorPos.winPos)&&(p=o._czmViewer.pickGlobePosition(d),f=a([],i(c.position),!1))}))),o.dispose(o._mouseMoving.diffPosChanged.disposableOn((function(){if(d&&c.position&&o._mouseMoving.diffPos&&p){var e=i(o._mouseMoving.diffPos,2),t=e[0],n=e[1],r=o._czmViewer.pickGlobePosition([d[0]+t,d[1]+n]);if(r){var a=f;a&&(c.position=[a[0]+(r[0]-p[0]),a[1]+(r[1]-p[1]),a[2]])}}}))),o.dispose(o._mouseMoving.stopEvent.disposableOn((function(){p=void 0,f=void 0,d=void 0}))),o}return o(t,e),Object.defineProperty(t.prototype,"geoToolbar",{get:function(){return this._geoToolbar},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmViewer",{get:function(){return this._czmViewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastCursorPos",{get:function(){return this._lastCursorPos},enumerable:!1,configurable:!0}),t}(s.Destroyable);t.PositionMoving=c},92442:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.SizeScale=void 0;var a=n(19239),s=n(64252),l=function(e){function t(t,n){var r=e.call(this)||this;r._geoToolbar=t,r._div=n,r._mouseMoving=r.disposeVar(new s.MouseMoving(r._div));var o=r.geoToolbar,a=void 0;return r.dispose(r._mouseMoving.startEvent.disposableOn((function(){a=o.scale}))),r.dispose(r._mouseMoving.diffPosChanged.disposableOn((function(){if(r._mouseMoving.diffPos&&a){var e=i(r._mouseMoving.diffPos,2),t=(e[0],-e[1]/256),n=Math.exp(t);o.scale=a*n}}))),r.dispose(r._mouseMoving.stopEvent.disposableOn((function(){a=void 0}))),r}return o(t,e),Object.defineProperty(t.prototype,"geoToolbar",{get:function(){return this._geoToolbar},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),t}(a.Destroyable);t.SizeScale=l},93016:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.ToolbarMoving=void 0;var s=n(19239),l=n(64252),u=function(e){function t(t,n){var r=e.call(this)||this;r._geoCustomDivPoi=t,r._div=n,r._mouseMoving=r.disposeVar(new l.MouseMoving(r._div));var o=r.geoCustomDivPoi,s=void 0;return r.dispose(r._mouseMoving.startEvent.disposableOn((function(){if(!o.originRatioAndOffset)throw console.error("originRatioAndOffset不应该是undefined!"),new Error("originRatioAndOffset不应该是undefined!");s=a([],i(o.originRatioAndOffset),!1)}))),r.dispose(r._mouseMoving.diffPosChanged.disposableOn((function(){if(r._mouseMoving.diffPos){var e=s;if(e){var t=i(r._mouseMoving.diffPos,2),n=t[0],a=t[1];o.originRatioAndOffset=[e[0],e[1],e[2]-n,e[3]-a]}}}))),r.dispose(r._mouseMoving.stopEvent.disposableOn((function(){s=void 0}))),r}return o(t,e),Object.defineProperty(t.prototype,"geoCustomDivPoi",{get:function(){return this._geoCustomDivPoi},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"div",{get:function(){return this._div},enumerable:!1,configurable:!0}),t}(s.Destroyable);t.ToolbarMoving=u},54504:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmToolbar=void 0;var l=n(43938),u=n(19239),c=n(10070),p=n(64252),f=n(93016),d=n(38573),h=n(25833),y=n(66381),g=n(92442),m={url:"${scene-manager-script-dir}/xe2-assets/scene-manager/images/yidong2.png",name:"平移",creatFunc:function(e,t,n,r){return new P.PositionMoving(e,t,r)}},v={url:"${scene-manager-script-dir}/xe2-assets/scene-manager/images/shang2.png",name:"抬升",creatFunc:function(e,t,n,r){return new P.HeightMoving(e,t,r)}},b={url:"${scene-manager-script-dir}/xe2-assets/scene-manager/images/shensuo2.png",name:"伸缩",creatFunc:function(e,t,n,r){return new P.SizeScale(e,t)}},_={url:"${scene-manager-script-dir}/xe2-assets/scene-manager/images/moren.png",name:"默认",creatFunc:function(e,t,n,r){var o=function(){function e(e){e.addEventListener("click",(function(){alert("点击默认图片")}))}return e.prototype.destroy=function(){console.log("销毁了")},e}();return new o(t)}},w=[m,v,b],P=function(e){function t(n){var r=e.call(this,n)||this;return r._flyToEvent=r.disposeVar(new u.Event),r._config=r.disposeVar((0,u.reactArray)(t.defaultConfig)),r}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmToolbar"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return i({},t.createDefaultProps())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"config",{get:function(){return this._config.value},set:function(e){this._config.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"configChanged",{get:function(){return this._config.changed},enumerable:!1,configurable:!0}),t.prototype.transitionImageUrl=function(e){return c.SceneObject.context.getStrFromEnv(e)},t.prototype.getProperties=function(n){var r=this;return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return r.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying.",!0,!1,[this,"show"],t.defaults.show),new l.BooleanProperty("是否编辑","是否编辑.",!0,!1,[this,"editing"],t.defaults.editing),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"]),new l.NumberProperty("缩放","缩放",!1,!1,[this,"scale"]),new l.BooleanProperty("debug","debug.",!1,!1,[this,"debug"]),new l.MarkdownProperty("config配置文档","config配置文档",!1,!1,[this,"markdown"])])],!1)},n=t,t.type=n.register("CzmToolbar",n,{chsName:"工具栏",tags:["CzmObjects","_ES_Impl_Cesium"],description:"通过GeoPolylinePath和GeoPathCameraController实现的路径跟踪器"}),t.images={move:"${scene-manager-script-dir}/xe2-assets/scene-manager/images/yidong2.png",up:"${scene-manager-script-dir}/xe2-assets/scene-manager/images/shang2.png",scale:"${scene-manager-script-dir}/xe2-assets/scene-manager/images/shensuo2.png",default:"${scene-manager-script-dir}/xe2-assets/scene-manager/images/moren.png"},t.MouseMoving=p.MouseMoving,t.ToolbarMoving=f.ToolbarMoving,t.HeightMoving=d.HeightMoving,t.LastCursorPos=h.LastCursorPos,t.PositionMoving=y.PositionMoving,t.SizeScale=g.SizeScale,t.defaultConfig=w,t.defaultConfigDoc='\nconfig对象有三个属性，分别是url：图片路径、name：功能名称、creatFunc：功能逻辑的回调函数。需要注意的地方是：\n设置的图片颜色为：#bfbfbf，creatFunc必须返回一个类。\n\n控制台调试，使用下面的代码\n```\n[\n    // 平移\n    XE2[\'xe2-cesium-objects\'].CzmToolbar.moveMod,\n    // 抬升\n    XE2[\'xe2-cesium-objects\'].CzmToolbar.upMod,\n    // 伸缩\n    XE2[\'xe2-cesium-objects\'].CzmToolbar.scaleMod,\n    // 默认\n    {\n        url: XE2[\'xe2-cesium-objects\'].CzmToolbar.images.default,\n        name: "默认",\n        creatFunc: function (sceneObject, div,img, czmViewer){\n\n            class Default {\n                destroy(){\n                   console.log("销毁了");\n                }\n                constructor(div) {\n                    div.addEventListener("click",() => {\n                        alert("点击默认图片")\n                    })\n                }\n            }\n            const default1 = new Default(div)\n            return default1\n        }\n    }\n]\n```\n\n开发调试，使用下面的代码\n```\n\n[\n    // 平移\n    CzmToolbar.moveMod,\n    // 抬升\n    CzmToolbar.upMod,\n    // 伸缩\n    CzmToolbar.scaleMod,\n    // 默认\n    {\n        url: CzmToolbar.images.default,\n        name: "默认",\n        creatFunc: function (sceneObject, div,img, czmViewer){\n\n            class Default {\n                destroy(){\n                   console.log("销毁了");\n                }\n                constructor(div) {\n                    div.addEventListener("click",() => {\n                        alert("点击默认图片")\n                    })\n                }\n            }\n            const default1 = new Default(div)\n            return default1\n        }\n    }\n]\n```\n',t.moveMod=m,t.upMod=v,t.scaleMod=b,t.defaultMod=_,t.defaults=i(i({},l.ESSceneObject.defaults),{show:!0,editing:!1,upImage:"${scene-manager-script-dir}/xe2-assets/scene-manager/images/shang2.png",shensuoImage:"${scene-manager-script-dir}/xe2-assets/scene-manager/images/shensuo2.png",moveImage:"${scene-manager-script-dir}/xe2-assets/scene-manager/images/yidong2.png"}),t}(l.ESSceneObject);t.CzmToolbar=P,function(e){e.createDefaultProps=function(){return i({show:void 0,position:(0,u.reactArrayWithUndefined)(void 0),editing:void 0,scale:1,debug:!1,markdown:e.defaultConfigDoc},l.ESSceneObject.createDefaultProps())}}(P=t.CzmToolbar||(t.CzmToolbar={})),t.CzmToolbar=P,(0,u.extendClassProps)(P.prototype,P.createDefaultProps)},48216:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmViewDistanceRange=void 0;var l=n(43938),u=n(19239),c=n(10070),p=n(60783),f=function(e){function t(t,n,r,o,i){var a=e.call(this)||this;return a._czmViewDistanceRange=t,a._czmViewer=n,a._viewDistanceRangeReact=r,a._positionReact=o,a._radiusReact=i,a._czmViewDistanceRangeControl=a.disposeVar(new p.CzmViewDistanceRangeControl(a._czmViewer,a._viewDistanceRangeReact,a._positionReact,a._radiusReact)),a.dispose((0,u.track)([a._czmViewDistanceRange,"visibleAlpha"],[a.czmViewDistanceRangeControl,"visibleAlpha"])),a}return o(t,e),Object.defineProperty(t.prototype,"czmViewDistanceRangeControl",{get:function(){return this._czmViewDistanceRangeControl},enumerable:!1,configurable:!0}),t}(u.Destroyable),d=function(e){function t(t){var n=e.call(this,t)||this;return n._config=n.disposeVar((0,u.react)(void 0)),n._visibleAlpha=n.disposeVar((0,u.react)(0)),n._objResetting=n.disposeVar(new c.ObjResettingWithEvent(n.configChanged,(function(){if(n.config){var e=n.config,t=e.czmViewer,r=e.viewDistanceRangeReact,o=e.positionReact,i=e.radiusReact;return new f(n,t,r,o,i)}}))),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmViewDistanceRange"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this._config.value},set:function(e){this._config.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"configChanged",{get:function(){return this._config.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleAlpha",{get:function(){return this._visibleAlpha.value},set:function(e){this._visibleAlpha.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleAlphaChanged",{get:function(){return this._visibleAlpha.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"objResetting",{get:function(){return this._objResetting},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[])],!1)},n=t,t.type=n.register("CzmViewDistanceRange",n,{chsName:"CzmViewDistanceRange",tags:["CzmObjects","_ES_Impl_Cesium"],description:"CzmViewDistanceRange"}),t}(l.ESSceneObject);t.CzmViewDistanceRange=d,function(e){e.createDefaultProps=function(){return i({},l.ESSceneObject.createDefaultProps())}}(d=t.CzmViewDistanceRange||(t.CzmViewDistanceRange={})),t.CzmViewDistanceRange=d,(0,u.extendClassProps)(d.prototype,d.createDefaultProps)},45450:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmViewShed=void 0;var l=n(43938),u=n(19239),c=function(e){function t(t){var n=e.call(this,t)||this;return n._flyToEvent=n.disposeVar(new u.Event),n._pickedEvent=n.disposeVar(new u.Event),n._rayEditing=n.disposeVar(new l.RayEditing(n.positionReact,n.rotationReact,n.farReact,[n,"editing"],n.components)),n}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmViewShed"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rayEditing",{get:function(){return this._rayEditing},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){var n=this;return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(e){return n.flyTo(e)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!0,!1,[this,"show"]),new l.BooleanProperty("是否允许拾取","allowPicking circle.",!1,!1,[this,"allowPicking"]),new l.NumberProperty("fovH","fovH",!1,!1,[this,"fovH"],90),new l.NumberProperty("fovV","fovV",!1,!1,[this,"fovV"],60),new l.NumberProperty("near","near",!1,!1,[this,"near"],10),new l.NumberProperty("far","far",!1,!1,[this,"far"],1e3),new l.RotationProperty("rotation","rotation.",!1,!1,[this,"rotation"]),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"]),new l.BooleanProperty("是否编辑","是否编辑.",!0,!1,[this,"editing"])])],!1)},n=t,t.type=n.register("CzmViewShed",n,{chsName:"Czm视域分析",tags:["CzmObjects","_ES_Impl_Cesium"],description:"Cesium视域分析"}),t}(l.ESSceneObject);t.CzmViewShed=c,function(e){e.createDefaultProps=function(){return i({show:void 0,fovH:90,fovV:60,allowPicking:!1,near:10,far:1e3,position:(0,u.reactArrayWithUndefined)(void 0),rotation:(0,u.reactArray)([0,0,0]),editing:void 0},l.ESSceneObject.createDefaultProps())}}(c=t.CzmViewShed||(t.CzmViewShed={})),t.CzmViewShed=c,(0,u.extendClassProps)(c.prototype,c.createDefaultProps)},8219:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmViewerStatusBar=void 0;var l=n(43938),u=n(19239),c=n(75125),p=n(10070),f=function(e){function t(n){var r=e.call(this,n)||this,i=r.disposeVar(new l.CustomDiv);r.dispose(r.components.disposableAdd(i));var a=r;return i.instanceClass=function(e){function n(n,r,o){var i=e.call(this)||this;if(i._subContainer=n,!o)return i;if(!(o instanceof c.CzmViewer))return i;o.extensions.cursorPositionInfo.enabled=!0;var s=document.createElement("div");i._subContainer.appendChild(s),i.dispose((function(){return i._subContainer.removeChild(s)})),s.style.width="100%",s.style.position="absolute",s.style.width="100%",s.style.height="".concat(t.defaults.height,"px"),s.style.left="0",s.style.bottom="0",s.style.color="#fff",s.style.padding="0 10px 0 10px",s.style.lineHeight="".concat(t.defaults.height,"px"),s.style.zIndex="100",i.disposeVar((0,p.createAnimateFrameWithStartValues)((function(){var e,t="",n=o.getCameraInfo();if(n){var r=function(e,t){return n.position[e].toFixed(t)},i=function(e,t){return n.rotation[e].toFixed(t)};t+="帧率:".concat(o.fps,"FPS 经度: ").concat(r(0,5),"° 纬度: ").concat(r(1,5),"° 高度: ").concat(r(2,2),"米 偏航角: ").concat(i(0,2),"° 俯仰角: ").concat(i(1,2),"° 翻滚角:").concat(i(2,2),"° ")}var a=null===(e=o.extensions)||void 0===e?void 0:e.cursorPositionInfo.cursorPosition;t+=a?"鼠标位置:".concat((r=function(e,t){return a[e].toFixed(t)})(0,5),"° ").concat(r(1,5),"° ").concat(r(2,2),"m"):"暂时无法获取鼠标位置...",s.innerText=t}))).start();var l=function(){var e,n;s.style.height=(null!==(e=a.height)&&void 0!==e?e:t.defaults.height)+"px",s.style.lineHeight=(null!==(n=a.height)&&void 0!==n?n:t.defaults.height)+"px"};return i.dispose(a.heightChanged.disposableOn(l)),l(),l=function(){var e;s.style.fontSize=(null!==(e=a.fontSize)&&void 0!==e?e:t.defaults.fontSize)+"px"},i.dispose(a.fontSizeChanged.disposableOn(l)),l(),l=function(){a.bgColor?s.style.background="rgba(".concat(255*a.bgColor[0],",").concat(255*a.bgColor[1],",").concat(255*a.bgColor[2],",").concat(a.bgColor[3],")"):s.style.background="rgba(".concat(255*t.defaults.bgColor[0],",").concat(255*t.defaults.bgColor[1],",").concat(255*t.defaults.bgColor[2],",").concat(t.defaults.bgColor[3],")")},i.dispose(a.bgColorChanged.disposableOn(l)),l(),i}return o(n,e),n}(u.Destroyable),r}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmViewerStatusBar"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.NumberProperty("高度","height",!0,!1,[this,"height"],t.defaults.height),new l.NumberProperty("文字大小","fontSize",!0,!1,[this,"fontSize"],t.defaults.fontSize),new l.ColorProperty("背景颜色"," 背景颜色",!0,!1,[this,"bgColor"],t.defaults.bgColor)])],!1)},n=t,t.type=n.register("CzmViewerStatusBar",n,{chsName:"状态栏",tags:["CzmObjects","_ES_Impl_Cesium"],description:"状态栏"}),t.defaults=i(i({},l.ESSceneObject.defaults),{height:30,fontSize:14,bgColor:[71,71,71,.8]}),t}(l.ESSceneObject);t.CzmViewerStatusBar=f,function(e){e.createDefaultProps=function(){return i({instanceClassStr:void 0,height:void 0,fontSize:void 0,bgColor:(0,u.reactArrayWithUndefined)(void 0)},l.ESSceneObject.createDefaultProps())}}(f=t.CzmViewerStatusBar||(t.CzmViewerStatusBar={})),t.CzmViewerStatusBar=f,(0,u.extendClassProps)(f.prototype,f.createDefaultProps)},98849:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmViewerTracking=void 0;var l=n(43938),u=n(19239),c=n(10070),p=n(75125),f=function(e){function t(t,n){var r=e.call(this)||this;return r.dispose(n.cameraChanged.disposableOn((function(){var e=n.getCameraInfo();if(e){var r=e.position,o=e.rotation;do{var i=t.getCameraInfo();if(!i)break;var a=i.position,s=i.rotation;if(a.every((function(e,t){return Math.abs(e-r[t])>.001})))break;if(s.some((function(e,t){return Math.abs(e-o[t])>.001})))break;return}while(0);t.flyTo(r,void 0,o,0)}}))),r}return o(t,e),t}(u.Destroyable),d=function(e){function t(t,n){var r=e.call(this)||this;return r._viewer0=t,r._viewer1=n,r._t0=r.disposeVar(new f(r._viewer0,r._viewer1)),r._t1=r.disposeVar(new f(r._viewer1,r._viewer0)),r}return o(t,e),t}(u.Destroyable),h=function(e){function t(n){var r=e.call(this,n)||this;r._viewer0=r.disposeVar((0,u.react)(void 0)),r._viewer1=r.disposeVar((0,u.react)(void 0)),r._vvdEvent=r.disposeVar((0,u.createNextAnimateFrameEvent)(r.enabledChanged,r.viewer0Changed,r.viewer1Changed,r.doubleChanged)),r._vvdResetting=r.disposeVar(new c.ObjResettingWithEvent(r._vvdEvent,(function(){var e,n;if((null!==(e=r.enabled)&&void 0!==e?e:t.defaults.enabled)&&r.viewer0&&r.viewer1)return(null!==(n=r.double)&&void 0!==n?n:t.defaults.double)?new d(r.viewer0,r.viewer1):new f(r.viewer0,r.viewer1)})));var o=r.disposeVar(new c.SceneObjectWithId),i=function(){o.sceneObject instanceof p.CzmViewer?r.viewer0=o.sceneObject:r.viewer0=void 0};r.dispose(o.sceneObjectChanged.disposableOn(i)),r.dispose((0,u.track)([o,"id"],[r,"viewer0Id"]));var a=r.disposeVar(new c.SceneObjectWithId);return i=function(){a.sceneObject instanceof p.CzmViewer?r.viewer1=a.sceneObject:r.viewer1=void 0},r.dispose(a.sceneObjectChanged.disposableOn(i)),r.dispose((0,u.track)([a,"id"],[r,"viewer1Id"])),r}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmViewerTracking"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewer0",{get:function(){return this._viewer0.value},set:function(e){this._viewer0.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewer0Changed",{get:function(){return this._viewer0.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewer1",{get:function(){return this._viewer1.value},set:function(e){this._viewer1.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewer1Changed",{get:function(){return this._viewer1.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vvdResetting",{get:function(){return this._vvdResetting},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("enabled","enabled",!0,!1,[this,"enabled"],t.defaults.enabled),new l.StringProperty("viewer0Id","viewer0Id",!0,!1,[this,"viewer0Id"],t.defaults.viewer0Id),new l.StringProperty("viewer1Id","viewer1Id",!0,!1,[this,"viewer1Id"],t.defaults.viewer1Id),new l.BooleanProperty("double","double",!0,!1,[this,"double"],t.defaults.double)])],!1)},n=t,t.type=n.register("CzmViewerTracking",n,{chsName:"CzmViewerTracking",tags:["CzmObjects"],description:"通过Cesium的Entity API实现的盒子。"}),t.defaults=i(i({},l.ESSceneObject.defaults),{enabled:!1,viewer0Id:"",viewer1Id:"",double:!0}),t}(l.ESSceneObject);t.CzmViewerTracking=h,function(e){e.createDefaultProps=function(){return i({enabled:void 0,viewer0Id:void 0,viewer1Id:void 0,double:void 0},l.ESSceneObject.createDefaultProps())}}(h=t.CzmViewerTracking||(t.CzmViewerTracking={})),t.CzmViewerTracking=h,(0,u.extendClassProps)(h.prototype,h.createDefaultProps)},91799:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getCzmClassificationType=void 0;var a=i(n(2003));t.getCzmClassificationType=function(e){return"Both"===e?a.ClassificationType.BOTH:"Cesium3dTile"===e?a.ClassificationType.CESIUM_3D_TILE:"Terrain"===e?a.ClassificationType.TERRAIN:void 0}},64398:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(91799),t)},323:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(9424),t),o(n(29836),t),o(n(19454),t),o(n(16223),t),o(n(90913),t),o(n(63572),t),o(n(4885),t),o(n(50384),t),o(n(26565),t),o(n(41443),t),o(n(19494),t),o(n(29699),t),o(n(55331),t),o(n(54262),t),o(n(531),t),o(n(54986),t),o(n(25237),t),o(n(41834),t),o(n(84404),t),o(n(38818),t),o(n(22255),t),o(n(64017),t),o(n(61843),t),o(n(9230),t),o(n(26206),t),o(n(53447),t),o(n(75670),t),o(n(27305),t),o(n(95187),t),o(n(94730),t),o(n(71725),t),o(n(27351),t),o(n(1358),t),o(n(94434),t),o(n(57338),t),o(n(9920),t),o(n(14579),t),o(n(32907),t),o(n(49453),t),o(n(61428),t),o(n(16459),t),o(n(12615),t),o(n(58744),t),o(n(87411),t),o(n(73453),t),o(n(3114),t),o(n(69211),t),o(n(960),t),o(n(1800),t),o(n(8959),t),o(n(2436),t),o(n(66008),t),o(n(46661),t),o(n(89508),t),o(n(91211),t),o(n(83822),t),o(n(60091),t),o(n(6981),t),o(n(74638),t),o(n(92087),t),o(n(31941),t),o(n(31488),t),o(n(79484),t),o(n(2703),t),o(n(46271),t),o(n(16860),t),o(n(98986),t),o(n(54504),t),o(n(48216),t),o(n(45450),t),o(n(8219),t),o(n(98849),t),o(n(71575),t),o(n(64398),t)},98799:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(41944),t),o(n(81829),t),o(n(67417),t),o(n(323),t),o(n(60783),t)},71442:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmViewDistanceRangeControl=void 0;var s=n(43938),l=n(19239),u=function(e){function t(t){var n=e.call(this)||this;n._geoDivText=n.disposeVar(new s.GeoDivTextPoi);var r=n._geoDivText;t.czmViewer.add(r),n.dispose((function(){return t.czmViewer.delete(r)})),n.dispose((0,l.track)([n._geoDivText,"position"],t.positionReact));var o=function(){t.viewDistance===Number.NEGATIVE_INFINITY?r.text="当前不可用":r.text="视距: ".concat(t.viewDistance.toFixed(2),"米, VA: ").concat(t.visibleAlpha.toFixed(2))};return o(),n.dispose(t.viewDistanceChanged.disposableOn(o)),n.dispose(t.visibleAlphaChanged.disposableOn(o)),n}return o(t,e),t}(l.Destroyable),c=function(e){function t(t){var n=e.call(this)||this;return n._control=t,n._debugObjResetting=n.disposeVar(new s.ObjResettingWithEvent(n._control.debugChanged,(function(){if(n._control.debug)return new u(n._control)}))),n}return o(t,e),Object.defineProperty(t.prototype,"debugObjResetting",{get:function(){return this._debugObjResetting},enumerable:!1,configurable:!0}),t}(l.Destroyable),p=function(e){function t(t,n,r,o){var u=e.call(this)||this;u._czmViewer=t,u._positionReact=r,u._visibleAlpha=u.disposeVar((0,l.react)(1)),u._viewDistance=u.disposeVar((0,l.react)(0)),u._debug=u.disposeVar((0,l.react)(!1)),u._viewDistanceDebug=u.disposeVar(new c(u));var p=u,f=p.positionReact,d=p.czmViewer,h=i((0,l.getReactFuncs)(n),3),y=h[0],g=(h[1],h[2]),m=i((0,l.getReactFuncs)(f),3),v=m[0],b=(m[1],m[2]),_=i(o?(0,l.getReactFuncs)(o):[void 0,void 0,void 0],3),w=_[0],P=(_[1],_[2]),C=function(){var e=1,t=Number.NEGATIVE_INFINITY;do{var n=y(),r=v(),o=w?w():0;if(!n||!r)break;var a=d.getCameraInfo();if(!a)break;t=(0,s.cartesianDistance)(a.position,r)-(null!=o?o:0);var l=i(n,4),c=l[0],p=l[1],f=l[2],h=l[3];if(c>p||p>f||f>h){console.error("viewDistanceRange存在问题，需要满足逐级增大的条件，否则不生效！");break}t>=p&&t<=f?e=1:t<=c||t>=h?e=0:t>c&&t<p?e=p-c<=0?0:(t-c)/(p-c):t>f&&t<h?(h<=f&&(e=0),e=(h-t)/(h-f)):(e=1,console.error("不应该运行至此！"))}while(0);u._viewDistance.value=t,u._visibleAlpha.value=e};C();var O=[d.cameraChanged,g,b];P&&O.push(P);var x=u.disposeVar(l.createNextAnimateFrameEvent.apply(void 0,a([],i(O),!1)));return u.dispose(x.disposableOn(C)),u}return o(t,e),Object.defineProperty(t.prototype,"visibleAlpha",{get:function(){return this._visibleAlpha.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleAlphaChanged",{get:function(){return this._visibleAlpha.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewDistance",{get:function(){return this._viewDistance.value},set:function(e){this._viewDistance.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewDistanceChanged",{get:function(){return this._viewDistance.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"debug",{get:function(){return this._debug.value},set:function(e){this._debug.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"debugChanged",{get:function(){return this._debug.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"positionReact",{get:function(){return this._positionReact},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmViewer",{get:function(){return this._czmViewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewDistanceDebug",{get:function(){return this._viewDistanceDebug},enumerable:!1,configurable:!0}),t}(l.Destroyable);t.CzmViewDistanceRangeControl=p},91865:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.angleToHumanStr=void 0,t.angleToHumanStr=function(e){var t=e<0?"-":"",n=Math.abs(e),r=0|n,o=60*(n-r),i=0|o,a=(60*(o-i)).toFixed(3);return"".concat(t).concat(r,"°").concat(i,"′").concat(a,"″")}},67017:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areaToHumanStr=void 0,t.areaToHumanStr=function(e){return Math.abs(e)<1e6?"".concat(e.toFixed(2)," m²"):"".concat((e/1e6).toFixed(2)," km²")}},82632:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createInfoPoi=void 0;var r=n(43938),o=n(12504);t.createInfoPoi=function(e,t,n){var i=new r.GeoCustomDivPoi;return i.innerHTML=(0,o.createInnerHtmlWithWhiteTextBlackBackground)(e),i.position=t,i.show=!0,n.add(i),i.dispose((function(){return n.delete(i)})),i}},12504:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createInnerHtmlWithWhiteTextBlackBackground=void 0,t.createInnerHtmlWithWhiteTextBlackBackground=function(e,t){void 0===t&&(t=48);var n=e.split("\n").map((function(e){return'\n        <div style="height: 24px; line-height: 24px">\n            '.concat(e,"\n        </div>\n        ")}));return'\n        <div style="\n            background: rgba(0, 0, 0, 0.6);\n            color: white;\n            border-radius: 5px;\n            padding: 0 10px 0 10px;\n            font-size: 14px;\n            white-space: nowrap;\n        ">\n            '.concat(n.join(" "),'\n        </div>\n        <div style="\n            height: ').concat(t,'px;\n            width: 2px;\n            background: rgba(0, 0, 0, 0.6);\n            margin: auto;\n        ">\n        </div>\n    ')}},51370:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPositionEditingRefForCzmViewer=void 0;var r=n(43938);t.createPositionEditingRefForCzmViewer=function(e,t){if(!t.viewer)throw new Error("!viewer");return(0,r.createPositionEditingRef)(e,(function(e){return t.add(e)}),(function(e){return t.delete(e)}))}},28860:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPositionsEditingRefForCzmViewer=void 0;var r=n(43938);t.createPositionsEditingRefForCzmViewer=function(e,t,n,o){return(0,r.createPositionsEditingRef)(e,t,(function(e){return n.add(e)}),(function(e){return n.delete(e)}),o)}},40507:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createTilingSchema=void 0;var a=i(n(2003)),s=n(69767),l=n(41944);t.createTilingSchema=function(e){return"GeographicTilingScheme"===e.type?new a.GeographicTilingScheme({ellipsoid:e.ellipsoid&&(0,s.toEllipsoid)(e.ellipsoid),rectangle:e.rectangle&&(0,s.toRectangle)(e.rectangle),numberOfLevelZeroTilesX:e.numberOfLevelZeroTilesX,numberOfLevelZeroTilesY:e.numberOfLevelZeroTilesY}):"WebMercatorTilingScheme"===e.type?new a.WebMercatorTilingScheme({ellipsoid:e.ellipsoid&&(0,s.toEllipsoid)(e.ellipsoid),numberOfLevelZeroTilesX:e.numberOfLevelZeroTilesX,numberOfLevelZeroTilesY:e.numberOfLevelZeroTilesY,rectangleSouthwestInMeters:e.rectangleSouthwestInMeters&&(0,s.toCartesian2)(e.rectangleSouthwestInMeters),rectangleNortheastInMeters:e.rectangleNortheastInMeters&&(0,s.toCartesian2)(e.rectangleNortheastInMeters)}):"ToGCJ02WebMercatorTilingScheme"===e.type?new l.ToGCJ02WebMercatorTilingScheme({ellipsoid:e.ellipsoid&&(0,s.toEllipsoid)(e.ellipsoid),numberOfLevelZeroTilesX:e.numberOfLevelZeroTilesX,numberOfLevelZeroTilesY:e.numberOfLevelZeroTilesY,rectangleSouthwestInMeters:e.rectangleSouthwestInMeters&&(0,s.toCartesian2)(e.rectangleSouthwestInMeters),rectangleNortheastInMeters:e.rectangleNortheastInMeters&&(0,s.toCartesian2)(e.rectangleNortheastInMeters)}):"ToWGS84WebMercatorTilingScheme"===e.type?new l.ToWGS84WebMercatorTilingScheme({ellipsoid:e.ellipsoid&&(0,s.toEllipsoid)(e.ellipsoid),numberOfLevelZeroTilesX:e.numberOfLevelZeroTilesX,numberOfLevelZeroTilesY:e.numberOfLevelZeroTilesY,rectangleSouthwestInMeters:e.rectangleSouthwestInMeters&&(0,s.toCartesian2)(e.rectangleSouthwestInMeters),rectangleNortheastInMeters:e.rectangleNortheastInMeters&&(0,s.toCartesian2)(e.rectangleNortheastInMeters)}):void console.warn("未能识别的类型tilingSchemaJson.type: ".concat(e.type))}},36024:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.d01=void 0;var l=i(n(2003));t.d01=function(e,t){var n=l.Cartesian3,r=l.Transforms,o=l.Matrix4,i=l.Matrix3,u=n.fromDegrees.apply(n,s([],a(e),!1)),c=n.fromDegrees.apply(n,s([],a(t),!1)),p=n.distance(u,c),f=r.eastNorthUpToFixedFrame(u),d=o.getMatrix3(f,new l.Matrix3),h=i.transpose(d,new l.Matrix3),y=n.subtract(c,u,new l.Cartesian3),g=n.normalize(y,new l.Cartesian3),m=i.multiplyByVector(h,g,new l.Cartesian3),v=new n(0,0,1),b=n.dot(m,v);if(b>.9999)return{heading:0,pitch:90,distance:p,distanceInXY:p,height:p};if(b<-.9999)return{heading:0,pitch:-90,distance:p,distanceInXY:p,height:-p};var _=n.cross(v,n.cross(m,v,new n),new n),w=(_=n.normalize(_,_),n.dot(_,m)),P=Math.acos(w),C=p*Math.sin(P);P=m.z<0?-P:P,C=m.z<0?-C:C;var O=new n(0,1,0),x=Math.acos(n.dot(_,O)),S=p*w;return{heading:x=180*(x=_.x<0?-x:x)/Math.PI,pitch:P=180*P/Math.PI,distance:p,distanceInXY:S,height:C}}},26125:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.distanceToHumanStr=void 0,t.distanceToHumanStr=function(e){return Math.abs(e)<1e3?"".concat(e.toFixed(2)," m"):"".concat((e/1e3).toFixed(2)," km")}},60783:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.getOffsetPosition=t.pickVirtualEarth=t.pickPosition=t.pickHeightPosition=t.getSurfaceAxisClosestPoint=t.getSceneScaleForScreenPixelSize=t.getCameraTargetPos=t.getCameraRotation=t.getCameraPosition=t.flyTo=t.czmFlyTo=void 0;var a=n(69767);Object.defineProperty(t,"czmFlyTo",{enumerable:!0,get:function(){return a.czmFlyTo}}),Object.defineProperty(t,"flyTo",{enumerable:!0,get:function(){return a.flyTo}}),Object.defineProperty(t,"getCameraPosition",{enumerable:!0,get:function(){return a.getCameraPosition}}),Object.defineProperty(t,"getCameraRotation",{enumerable:!0,get:function(){return a.getCameraRotation}}),Object.defineProperty(t,"getCameraTargetPos",{enumerable:!0,get:function(){return a.getCameraTargetPos}}),Object.defineProperty(t,"getSceneScaleForScreenPixelSize",{enumerable:!0,get:function(){return a.getSceneScaleForScreenPixelSize}}),Object.defineProperty(t,"getSurfaceAxisClosestPoint",{enumerable:!0,get:function(){return a.getSurfaceAxisClosestPoint}}),Object.defineProperty(t,"pickHeightPosition",{enumerable:!0,get:function(){return a.pickHeightPosition}}),Object.defineProperty(t,"pickPosition",{enumerable:!0,get:function(){return a.pickPosition}}),Object.defineProperty(t,"pickVirtualEarth",{enumerable:!0,get:function(){return a.pickVirtualEarth}}),o(n(91865),t),o(n(67017),t),o(n(82632),t),o(n(12504),t),o(n(51370),t),o(n(28860),t),o(n(40507),t),o(n(26125),t),o(n(17085),t),o(n(71442),t),o(n(36024),t),t.getOffsetPosition=function(e,t,n){var r=e[0]-t[0],o=e[1]-t[1],a=e[2]-t[2];return n.map((function(e){var t=i(e,3),n=t[0],s=t[1],l=t[2];return[n+r,s+o,l+a]}))}},17085:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.positionToHumanStr=void 0;var r=n(26125),o=n(91865);t.positionToHumanStr=function(e){return[(0,o.angleToHumanStr)(e[0]),(0,o.angleToHumanStr)(e[1]),(0,r.distanceToHumanStr)(e[2])]}},78729:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.CurrentSceneScalePoi=void 0;var a=n(43938),s=n(19239),l=function(e){function t(t,n,r,o){var l,u=e.call(this)||this,c=i((0,s.getReactFuncs)(n),3),p=c[0],f=(c[1],c[2]),d=i((0,s.getReactFuncs)(r),3),h=d[0],y=(d[1],d[2]),g=i((0,s.getReactFuncs)(o),3),m=g[0],v=(g[1],g[2]),b=function(){l&&(t.delete(l),l.destroy(),l=void 0)};u.dispose(b);var _=function(){l&&(l.position=h())};_(),u.dispose(y.disposableOn(_));var w=function(){l&&(l.text="当前缩放值：".concat(m()))};w(),u.dispose(v.disposableOn(w));var P=function(){var e;null!==(e=p())&&void 0!==e&&e?(l||(l=new a.GeoDivTextPoi,t.add(l)),_(),w()):b()};return P(),u.dispose(f.disposableOn(P)),u}return o(t,e),t}(s.Destroyable);t.CurrentSceneScalePoi=l},25558:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.setClippingPlaneCollection=t.createClippingPlaneCollection=void 0;var s=i(n(2003)),l=n(69767);t.createClippingPlaneCollection=function(e,t){var n=e.planes,r=e.enabled,o=e.modelMatrix,i=e.unionClippingRegions,a=e.edgeColor,u=e.edgeWidth,c=o&&s.Matrix4.fromArray(o);return t&&(c=c||s.Matrix4.clone(s.Matrix4.IDENTITY,new s.Matrix4),s.Matrix4.multiply(t,c,c)),new s.ClippingPlaneCollection({planes:n&&n.map((function(e){return new s.ClippingPlane((0,l.toCartesian3)(e.normal),e.distance)})),enabled:r,modelMatrix:c,unionClippingRegions:i,edgeColor:a&&(0,l.toColor)(a),edgeWidth:u})},t.setClippingPlaneCollection=function(e,t,n){var r,o,i,u,c,p,f=t;if(!f)return e.removeAll(),void(e.enabled=!1);if(e.removeAll(),f.planes)try{for(var d=a(f.planes),h=d.next();!h.done;h=d.next()){var y=h.value;e.add(new s.ClippingPlane((0,l.toCartesian3)(y.normal),y.distance))}}catch(e){r={error:e}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}var g=f.modelMatrix&&s.Matrix4.fromArray(f.modelMatrix)||s.Matrix4.clone(s.Matrix4.IDENTITY,new s.Matrix4);n&&s.Matrix4.multiply(n,g,g),e.enabled=null===(i=f.enabled)||void 0===i||i,e.modelMatrix=g,e.unionClippingRegions=null!==(u=f.unionClippingRegions)&&void 0!==u&&u,e.edgeColor=(0,l.toColor)(null!==(c=f.edgeColor)&&void 0!==c?c:[1,1,1,1]),e.edgeWidth=null!==(p=f.edgeWidth)&&void 0!==p?p:2}},50646:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.createMaterialRef=t.updateMaterialFromJson=t.createMaterialFromJson=void 0;var s=n(43938),l=n(19239),u=i(n(2003)),c=n(69767);function p(e){var t=u.Material.fromType(e.type);return d(t,e),t}function f(e){return e&&s.SceneObject.context.getStrFromEnv(e)||u.Material.DefaultImageId}function d(e,t){var n,r,o,i,a,s,l,u,p,d,h,y,g,m,v,b,_,w,P,C,O,x,S,E,j,T,M,A,I,N,D,z,R,k,L,F,B,V,G,U,W,J,H,q,Y,X,Z,K,Q,$,ee,te,ne,re,oe,ie,ae,se,le,ue,ce,pe,fe,de,he;"Color"===t.type?e.uniforms.color=(0,c.toColor)(null!==(n=t.color)&&void 0!==n?n:[1,1,1,1]):"PolylineArrow"===t.type?e.uniforms.color=(0,c.toColor)(null!==(r=t.color)&&void 0!==r?r:[1,1,1,1]):"PolylineDash"===t.type?(e.uniforms.color=(0,c.toColor)(null!==(o=t.color)&&void 0!==o?o:[1,1,1,1]),e.uniforms.gapColor=(0,c.toColor)(null!==(i=t.gapColor)&&void 0!==i?i:[0,0,0,0]),e.uniforms.dashLength=null!==(a=t.dashLength)&&void 0!==a?a:16,e.uniforms.dashPattern=null!==(s=t.dashPattern)&&void 0!==s?s:255):"PolylineGlow"===t.type?(e.uniforms.color=(0,c.toColor)(null!==(l=t.color)&&void 0!==l?l:[1,1,1,1]),e.uniforms.glowPower=null!==(u=t.glowPower)&&void 0!==u?u:.25,e.uniforms.taperPower=null!==(p=t.taperPower)&&void 0!==p?p:1):"PolylineOutline"===t.type?(e.uniforms.color=(0,c.toColor)(null!==(d=t.color)&&void 0!==d?d:[1,1,1,1]),e.uniforms.outlineColor=(0,c.toColor)(null!==(h=t.outlineColor)&&void 0!==h?h:[1,0,0,1]),e.uniforms.outlineWidth=null!==(y=t.outlineWidth)&&void 0!==y?y:1):"Image"===t.type?(e.uniforms.image=f(t.image),e.uniforms.repeat=(0,c.toCartesian2)(null!==(g=t.repeat)&&void 0!==g?g:[1,1])):"DiffuseMap"===t.type?(e.uniforms.image=f(t.image),e.uniforms.repeat=(0,c.toCartesian2)(null!==(m=t.repeat)&&void 0!==m?m:[1,1]),e.uniforms.channels=null!==(v=t.channels)&&void 0!==v?v:"rgb"):"AlphaMap"===t.type?(e.uniforms.image=f(t.image),e.uniforms.repeat=(0,c.toCartesian2)(null!==(b=t.repeat)&&void 0!==b?b:[1,1]),e.uniforms.channel=null!==(_=t.channel)&&void 0!==_?_:"a"):"SpecularMap"===t.type?(e.uniforms.image=f(t.image),e.uniforms.repeat=(0,c.toCartesian2)(null!==(w=t.repeat)&&void 0!==w?w:[1,1]),e.uniforms.channel=null!==(P=t.channel)&&void 0!==P?P:"r"):"EmissionMap"===t.type?(e.uniforms.image=f(t.image),e.uniforms.repeat=(0,c.toCartesian2)(null!==(C=t.repeat)&&void 0!==C?C:[1,1]),e.uniforms.channels=null!==(O=t.channels)&&void 0!==O?O:"rgb"):"BumpMap"===t.type?(e.uniforms.image=f(t.image),e.uniforms.repeat=(0,c.toCartesian2)(null!==(x=t.repeat)&&void 0!==x?x:[1,1]),e.uniforms.channel=null!==(S=t.channel)&&void 0!==S?S:"r",e.uniforms.strength=null!==(E=t.strength)&&void 0!==E?E:.8):"NormalMap"===t.type?(e.uniforms.image=f(t.image),e.uniforms.repeat=(0,c.toCartesian2)(null!==(j=t.repeat)&&void 0!==j?j:[1,1]),e.uniforms.channels=null!==(T=t.channels)&&void 0!==T?T:"rgb",e.uniforms.strength=null!==(M=t.strength)&&void 0!==M?M:.8):"Grid"===t.type?(e.uniforms.color=(0,c.toColor)(null!==(A=t.color)&&void 0!==A?A:[0,1,0,1]),e.uniforms.cellAlpha=null!==(I=t.cellAlpha)&&void 0!==I?I:.1,e.uniforms.lineCount=(0,c.toCartesian2)(null!==(N=t.lineCount)&&void 0!==N?N:[8,8]),e.uniforms.lineThickness=(0,c.toCartesian2)(null!==(D=t.lineThickness)&&void 0!==D?D:[1,1]),e.uniforms.lineOffset=(0,c.toCartesian2)(null!==(z=t.lineOffset)&&void 0!==z?z:[0,0])):"Stripe"===t.type?(e.uniforms.evenColor=(0,c.toColor)(null!==(R=t.evenColor)&&void 0!==R?R:[1,1,1,.5]),e.uniforms.oddColor=(0,c.toColor)(null!==(k=t.oddColor)&&void 0!==k?k:[0,0,1,.5]),e.uniforms.horizontal=null===(L=t.horizontal)||void 0===L||L,e.uniforms.offset=null!==(F=t.offset)&&void 0!==F?F:0,e.uniforms.repeat=null!==(B=t.repeat)&&void 0!==B?B:5):"Checkerboard"===t.type?(e.uniforms.lightColor=(0,c.toColor)(null!==(V=t.lightColor)&&void 0!==V?V:[1,1,1,.5]),e.uniforms.darkColor=(0,c.toColor)(null!==(G=t.darkColor)&&void 0!==G?G:[0,0,0,.5]),e.uniforms.repeat=(0,c.toCartesian2)(null!==(U=t.repeat)&&void 0!==U?U:[5,5])):"Dot"===t.type?(e.uniforms.lightColor=(0,c.toColor)(null!==(W=t.lightColor)&&void 0!==W?W:[1,1,0,.75]),e.uniforms.darkColor=(0,c.toColor)(null!==(J=t.darkColor)&&void 0!==J?J:[0,1,1,.75]),e.uniforms.repeat=(0,c.toCartesian2)(null!==(H=t.repeat)&&void 0!==H?H:[5,5])):"Water"===t.type?(e.uniforms.baseWaterColor=(0,c.toColor)(null!==(q=t.baseWaterColor)&&void 0!==q?q:[.2,.3,.6,1]),e.uniforms.blendColor=(0,c.toColor)(null!==(Y=t.blendColor)&&void 0!==Y?Y:[0,1,.699,1]),e.uniforms.specularMap=f(t.specularMap),e.uniforms.normalMap=f(t.normalMap),e.uniforms.frequency=null!==(X=t.frequency)&&void 0!==X?X:10,e.uniforms.animationSpeed=null!==(Z=t.animationSpeed)&&void 0!==Z?Z:.01,e.uniforms.amplitude=null!==(K=t.amplitude)&&void 0!==K?K:1,e.uniforms.specularIntensity=null!==(Q=t.specularIntensity)&&void 0!==Q?Q:.5,e.uniforms.fadeFactor=null!==($=t.fadeFactor)&&void 0!==$?$:1):"RimLighting"===t.type?(e.uniforms.color=(0,c.toColor)(null!==(ee=t.color)&&void 0!==ee?ee:[1,0,0,.7]),e.uniforms.rimColor=(0,c.toColor)(null!==(te=t.rimColor)&&void 0!==te?te:[1,1,1,.4]),e.uniforms.width=null!==(ne=t.width)&&void 0!==ne?ne:.3):"Fade"===t.type?(e.uniforms.fadeInColor=(0,c.toColor)(null!==(re=t.fadeInColor)&&void 0!==re?re:[1,0,0,1]),e.uniforms.fadeOutColor=(0,c.toColor)(null!==(oe=t.fadeOutColor)&&void 0!==oe?oe:[0,0,0,0]),e.uniforms.maximumDistance=null!==(ie=t.maximumDistance)&&void 0!==ie?ie:.5,e.uniforms.repeat=null===(ae=t.repeat)||void 0===ae||ae,e.uniforms.fadeDirection={x:(he=null!==(se=t.fadeDirection)&&void 0!==se?se:[!0,!0])[0],y:he[1]},e.uniforms.time=(0,c.toCartesian2)(null!==(le=t.time)&&void 0!==le?le:[.5,.5])):"ElevationContour"===t.type?(e.uniforms.color=(0,c.toColor)(null!==(ue=t.color)&&void 0!==ue?ue:[1,0,0,1]),e.uniforms.spacing=null!==(ce=t.spacing)&&void 0!==ce?ce:100,e.uniforms.width=null!==(pe=t.width)&&void 0!==pe?pe:1):"ElevationRamp"===t.type?(e.uniforms.image=f(t.image),e.uniforms.minimumHeight=null!==(fe=t.minimumHeight)&&void 0!==fe?fe:0,e.uniforms.maximumHeight=null!==(de=t.maximumHeight)&&void 0!==de?de:1e4):"AspectRamp"===t.type?e.uniforms.image=f(t.image):"ElevationBand"===t.type?(e.uniforms.color=f(t.colors),e.uniforms.heights=f(t.heights)):console.warn("未知材质类型，无法更新 ".concat(t.type))}t.createMaterialFromJson=p,t.updateMaterialFromJson=d,t.createMaterialRef=function(e,t){var n=(0,l.react)(void 0),r="",o=a((0,l.getReactFuncs)(e),3),i=o[0],s=(o[1],o[2]),u=function(){var e;try{var o=null!==(e=i())&&void 0!==e?e:t;o?r!==o.type?(r=o.type,n.value=p(o)):n.value&&d(n.value,o):(r="",n.value=void 0)}catch(e){}};return u(),n.dispose(s.disposableOn(u)),n}},74679:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPolygonHierarchy=void 0;var r=n(69767);t.createPolygonHierarchy=function e(t){return{positions:(0,r.positionsToUniqueCartesians)(t.positions),holes:t.holes&&t.holes.map((function(t){return e(t)}))}}},2067:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.czmPropMaps=t.czmEllipsoidWGS84=void 0;var a,s=i(n(2003));t.czmEllipsoidWGS84=[6378137,6378137,6356752.314245179],(a=t.czmPropMaps||(t.czmPropMaps={})).heightReferencePropsMap={NONE:s.HeightReference.NONE,CLAMP_TO_GROUND:s.HeightReference.CLAMP_TO_GROUND,RELATIVE_TO_GROUND:s.HeightReference.RELATIVE_TO_GROUND},a.shadowPropsMap={DISABLED:s.ShadowMode.DISABLED,CAST_ONLY:s.ShadowMode.CAST_ONLY,ENABLED:s.ShadowMode.ENABLED,RECEIVE_ONLY:s.ShadowMode.RECEIVE_ONLY},a.classificationTypeMap={TERRAIN:s.ClassificationType.TERRAIN,CESIUM_3D_TILE:s.ClassificationType.CESIUM_3D_TILE,BOTH:s.ClassificationType.BOTH,NONE:void 0},a.textureMinificationFilterType={NEAREST:s.TextureMinificationFilter.NEAREST,LINEAR:s.TextureMinificationFilter.LINEAR,NEAREST_MIPMAP_NEAREST:s.TextureMinificationFilter.NEAREST_MIPMAP_NEAREST,LINEAR_MIPMAP_NEAREST:s.TextureMinificationFilter.LINEAR_MIPMAP_NEAREST,NEAREST_MIPMAP_LINEAR:s.TextureMinificationFilter.NEAREST_MIPMAP_LINEAR,LINEAR_MIPMAP_LINEAR:s.TextureMinificationFilter.LINEAR_MIPMAP_LINEAR},a.textureMagnificationFilterType={NEAREST:s.TextureMagnificationFilter.NEAREST,LINEAR:s.TextureMagnificationFilter.LINEAR},a.colorBlendModeType={HIGHLIGHT:s.ColorBlendMode.HIGHLIGHT,REPLACE:s.ColorBlendMode.REPLACE,MIX:s.ColorBlendMode.MIX},a.horizontalOriginType={CENTER:s.HorizontalOrigin.CENTER,LEFT:s.HorizontalOrigin.LEFT,RIGHT:s.HorizontalOrigin.RIGHT},a.verticalOriginOriginType={CENTER:s.VerticalOrigin.CENTER,BOTTOM:s.VerticalOrigin.BOTTOM,BASELINE:s.VerticalOrigin.BASELINE,TOP:s.VerticalOrigin.TOP},a.labelStyleType={FILL:s.LabelStyle.FILL,OUTLINE:s.LabelStyle.OUTLINE,FILL_AND_OUTLINE:s.LabelStyle.FILL_AND_OUTLINE},a.blendOptionType={OPAQUE:s.BlendOption.OPAQUE,TRANSLUCENT:s.BlendOption.TRANSLUCENT,OPAQUE_AND_TRANSLUCENT:s.BlendOption.OPAQUE_AND_TRANSLUCENT}},69375:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.czmSubscribeAndEvaluate=t.CzmCustomPrimitive=void 0;var i=n(69767);Object.defineProperty(t,"CzmCustomPrimitive",{enumerable:!0,get:function(){return i.CzmCustomPrimitive}}),Object.defineProperty(t,"czmSubscribeAndEvaluate",{enumerable:!0,get:function(){return i.czmSubscribeAndEvaluate}}),o(n(50646),t),o(n(74679),t),o(n(78729),t),o(n(2067),t),o(n(25558),t)},40984:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmObject=t.CzmObjectsContext=void 0;var a=n(43938),s=n(19239),l=function(){function e(){this._registerObjsMap=new Map}return e.prototype.register=function(e,t){"string"!=typeof e&&(console.warn("CzmObjectsContext register error: the first param is not string!"),console.warn(e)),this._registerObjsMap.set(e,t)},e.prototype._getObjConstructor=function(e){return this._registerObjsMap.get(e)||void 0},e.prototype.createObject=function(e,t){var n=this._getObjConstructor(e.typeName);return(0,a.sceneObjConstructorCheck)(!!n,e.typeName,"Cesium"),n?new n(e,t):new u(e,t)},e}();t.CzmObjectsContext=l;var u=function(e){function t(n,r){var o=e.call(this)||this;o._sceneObject=n,o._czmViewer=r,o._id=++t._accumId;var a=o._sceneObject,s=o._czmViewer;++t._totalExistingCount,t.debugging&&console.log("CzmObject._totalExistingCount: ".concat(t._totalExistingCount)),o.dispose((function(){--t._totalExistingCount,t.debugging&&console.log("CzmObject._totalExistingCount: ".concat(t._totalExistingCount))}));var l=function(e,t){var n,r,o,a;try{for(var l=i(e),u=l.next();!u.done;u=l.next()){var c=u.value;s.delete(c)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}try{for(var p=i(t),f=p.next();!f.done;f=p.next())c=f.value,s.add(c)}catch(e){o={error:e}}finally{try{f&&!f.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}};return l([],a.components.values()),o.dispose(a.components.toChange.disposableOn(l)),o.dispose((function(){return l(a.components.values(),[])})),o}var n;return o(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneObject",{get:function(){return this._sceneObject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmViewer",{get:function(){return this._czmViewer},enumerable:!1,configurable:!0}),n=t,t._accumId=-1,t._totalExistingCount=0,t.debugging=!1,t.context=new l,t.register=n.context.register.bind(n.context),t}(s.Destroyable);t.CzmObject=u},99151:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.Legend=t.getLegendNum=void 0;var a=n(19239),s=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];function l(e){var t=0|e;if(!(t<1||t>1e8)){for(var n=-1;t>=s[++n];);var r=t/s[n-1]|0;return[r*s[n-1],r,n]}}t.getLegendNum=l;var u=function(e){function t(){var t,n=e.call(this)||this;return n._lengthInPixels=n.disposeVar((0,a.react)(100)),n._resolution=n.disposeVar((0,a.react)(void 0)),n._computedLengthInPixels=n.disposeVar((0,a.react)(void 0)),n._computedLengthInMeters=n.disposeVar((0,a.react)(void 0)),n._computedLengthInStr=n.disposeVar((0,a.react)(void 0)),(t=function(){var e=void 0,t=void 0;do{var r=n,o=r.lengthInPixels,a=r.resolution;if(void 0===o)break;if(void 0===a)break;var s=l(o*a);if(!s)break;var u=i(s,3),c=u[0];u[1],u[2],t=c,e=c/a}while(0);n._computedLengthInPixels.value=e,n._computedLengthInMeters.value=t})(),n.dispose(n.lengthInPixelsChanged.disposableOn(t)),n.dispose(n.resolutionChanged.disposableOn(t)),(t=function(){var e=n.computedLengthInMeters;n._computedLengthInStr.value=e?e>1e3?"".concat(e/1e3|0,"km"):"".concat(e,"m"):void 0})(),n.dispose(n.computedLengthInMetersChanged.disposableOn(t)),n}return o(t,e),Object.defineProperty(t.prototype,"lengthInPixels",{get:function(){return this._lengthInPixels.value},set:function(e){this._lengthInPixels.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lengthInPixelsChanged",{get:function(){return this._lengthInPixels.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution.value},set:function(e){this._resolution.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolutionChanged",{get:function(){return this._resolution.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"computedLengthInPixels",{get:function(){return this._computedLengthInPixels.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"computedLengthInPixelsChanged",{get:function(){return this._computedLengthInPixels.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"computedLengthInMeters",{get:function(){return this._computedLengthInMeters.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"computedLengthInMetersChanged",{get:function(){return this._computedLengthInMeters.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"computedLengthInStr",{get:function(){return this._computedLengthInStr.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"computedLengthInStrChanged",{get:function(){return this._computedLengthInStr.changed},enumerable:!1,configurable:!0}),t}(a.Destroyable);t.Legend=u},59390:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ViewerCreating=void 0;var c=n(19239),p=n(10070),f=s(n(2003)),d=n(95370);n(68821);var h=n(78200),y=n(69767),g=function(e){function t(t,n,r){var o=e.call(this)||this;o.dispose((function(){n.setStaus("Raw"),n.setCreatingLog("");var e=n.viewer;if(e){r(void 0);var t=(0,h.getViewerExtensions)(e);t&&(t.destroy(),(0,h.setViewerExtensions)(e,void 0)),e.destroy()}}));var i=o.disposeVar((0,p.createProcessingFromAsyncFunc)((function(e,t){return l(o,void 0,void 0,(function(){var o,i,a,s;return u(this,(function(l){switch(l.label){case 0:return n.setStaus("Creating"),n.setCreatingLog("正在创建Cesium视口..."),o=null!==(s=n.createCesiumViewerFunc)&&void 0!==s?s:d.defaultCreateCesiumViewerFunc,[4,e.promise(new Promise((function(e,t){return f.GroundPolylinePrimitive.initializeTerrainHeights().then(e)})))];case 1:return l.sent(),[4,e.promise((0,p.createCancelablePromise)(o(t,n)))];case 2:return(i=l.sent()).scene._xbsjOriginSkyAtmosphere=i.scene.skyAtmosphere,i.scene._xbsjOriginSkyBox=i.scene.skyBox,i.clockViewModel.currentTime=f.JulianDate.fromDate(new Date(n.clockCurrentTime)),this.dispose(n.clockCurrentTimeChanged.disposableOn((function(){if(void 0!==n.clockCurrentTime){var e=f.JulianDate.fromDate(new Date(n.clockCurrentTime));f.JulianDate.equals(e,i.clockViewModel.currentTime)||(i.clockViewModel.currentTime=e)}}))),this.dispose((0,y.czmSubscribeAndEvaluate)(i.clockViewModel,"currentTime",(function(e){var t=f.JulianDate.toDate(i.clockViewModel.currentTime).getTime();t!==n.clockCurrentTime&&(n.clockCurrentTime=t)}))),a=new h.ViewerExtensions(i),(0,h.setViewerExtensions)(i,a),a.dispose(a.interaction.pointerDownEvent.disposableOn((function(){n.activeRequesting.emit(!0)}))),r(i),n.setStaus("Created"),n.setCreatingLog("成功创建Cesium视口!"),[2]}}))}))})));return i.start(t),o}return o(t,e),t}(c.Destroyable);t.ViewerCreating=g},57388:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.ClassicNavigator=void 0;var u=n(19239),c=s(n(2003)),p=function(e){function t(t){var n=e.call(this)||this;n._viewer=t,n._showCompass=(0,u.react)(!1),n._compassStyle=(0,u.react)(void 0),n._showDistanceLegend=(0,u.react)(!1),n._distanceLegendStyle=(0,u.react)(void 0);var r=n._viewer;if(!c.viewerCesiumNavigationMixin)throw new Error("ClassicNavigator创建之前，必须确保Cesium.viewerCesiumNavigationMixin有值！");r.extend(c.viewerCesiumNavigationMixin,{enableCompass:!0,enableZoomControls:!1,enableDistanceLegend:!0,enableCompassOuterRing:!0});var o=r.cesiumNavigation.navigationDiv.children[0];o.classList.remove("compass"),o.style["pointer-events"]="auto",o.style.overflow="hidden",o.style.position="absolute",o.style.width="95px",o.style.height="95px";var i,a=r.cesiumNavigation.distanceLegendDiv.children[0];return r.container.appendChild(r.cesiumNavigation.container),(i=function(){r.cesiumNavigation.navigationViewModel.showCompass=n.showCompass})(),n.dispose(n.showCompassChanged.disposableOn(i)),(i=function(){r.cesiumNavigation.distanceLegendViewModel.enableDistanceLegend=n.showDistanceLegend})(),n.dispose(n.showDistanceLegendChanged.disposableOn(i)),(i=function(){var e,t=o.style,r=l(null!==(e=n.compassStyle)&&void 0!==e?e:[void 0,18,18,void 0],4),i=r[0],a=r[1],s=r[2],u=r[3];t.left=i&&"".concat(i,"px")||"",t.top=a&&"".concat(a,"px")||"",t.right=s&&"".concat(s,"px")||"",t.bottom=u&&"".concat(u,"px")||""})(),n.dispose(n.compassStyleChanged.disposableOn(i)),(i=function(){var e,t=a.style,r=l(null!==(e=n.distanceLegendStyle)&&void 0!==e?e:[void 0,void 0,18,18],4),o=r[0],i=r[1],s=r[2],u=r[3];t.left=o&&"".concat(o,"px")||"",t.top=i&&"".concat(i,"px")||"",t.right=s&&"".concat(s,"px")||"",t.bottom=u&&"".concat(u,"px")||""})(),n.dispose(n.distanceLegendStyleChanged.disposableOn(i)),n}return o(t,e),Object.defineProperty(t.prototype,"showCompass",{get:function(){return this._showCompass.value},set:function(e){this._showCompass.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showCompassChanged",{get:function(){return this._showCompass.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"compassStyle",{get:function(){return this._compassStyle.value},set:function(e){this._compassStyle.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"compassStyleChanged",{get:function(){return this._compassStyle.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showDistanceLegend",{get:function(){return this._showDistanceLegend.value},set:function(e){this._showDistanceLegend.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showDistanceLegendChanged",{get:function(){return this._showDistanceLegend.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"distanceLegendStyle",{get:function(){return this._distanceLegendStyle.value},set:function(e){this._distanceLegendStyle.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"distanceLegendStyleChanged",{get:function(){return this._distanceLegendStyle.changed},enumerable:!1,configurable:!0}),t}(u.Destroyable);t.ClassicNavigator=p},84481:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CursorInfoWrapper=void 0;var i=n(19239),a=n(10070),s=function(e){function t(t){var n=e.call(this)||this;n._viewer=t,n._text=n.disposeVar((0,i.react)("")),n._show=n.disposeVar((0,i.react)(!1));var r=n._viewer,o=n.disposeVar(new a.CursorInfo(r.canvas.parentElement,a.CursorFloatDiv)),s=function(){return o.text=n.text};s(),n.dispose(n.textChanged.disposableOn(s));var l=function(){return o.show=n.show};return l(),n.dispose(n.showChanged.disposableOn(l)),n}return o(t,e),Object.defineProperty(t.prototype,"text",{get:function(){return this._text.value},set:function(e){this._text.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textChanged",{get:function(){return this._text.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"show",{get:function(){return this._show.value},set:function(e){this._show.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showChanged",{get:function(){return this._show.changed},enumerable:!1,configurable:!0}),t}(i.Destroyable);t.CursorInfoWrapper=s},1111:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CursorPositionInfo=void 0;var s=n(19239),l=n(10070),u=n(78200),c=function(e){function t(t){var n=e.call(this)||this;n._enabled=n.disposeVar((0,s.react)(!1)),n._cursorPosition=(0,s.react)(void 0);var r=new s.Destroyable,o=function(){r&&(r.destroy(),r=void 0)};n.dispose(o);var c=function(){if(o(),n._enabled.value&&t){var e=(0,u.getViewerExtensions)(t);if(e){var c=(r=new s.Destroyable).disposeVar((0,s.react)(void 0)),p=r.disposeVar((0,l.createNextAnimateFrameEvent)(c.changed));r.dispose(e.interaction.pointerMoveEvent.disposableOn((function(e){c.value=(0,l.getDomEventCurrentTargetPos)(e)})));var f=r.disposeVar((0,l.createProcessingFromAsyncFunc)((function(t){return i(n,void 0,void 0,(function(){var n;return a(this,(function(r){switch(r.label){case 0:return e.pickingManager?c.value?[4,t.promise((0,l.createCancelablePromise)(e.pickingManager.pickPosition(c.value)))]:[3,2]:[2];case 1:n=r.sent(),this._cursorPosition.value=n,r.label=2;case 2:return[2]}}))}))})));r.dispose(p.disposableOn((function(){f.restart()})))}}};return c(),n.dispose(n._enabled.changed.disposableOn(c)),n}return o(t,e),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled.value},set:function(e){this._enabled.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabledChanged",{get:function(){return this._enabled.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursorPosition",{get:function(){return this._cursorPosition.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursorPositionChanged",{get:function(){return this._cursorPosition.changed},enumerable:!1,configurable:!0}),t}(s.Destroyable);t.CursorPositionInfo=c},62822:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.ImageriesManager=void 0;var l=n(19239),u=n(10070),c=n(98799),p=function(e){function t(t){var n=e.call(this)||this;return n._viewer=t,n._czmImageryLayerWrappers=new Set,n._zIndexChangedEvent=n.disposeVar(new l.Event),n.dispose(n._zIndexChangedEvent.disposableOn((function(){var e,t,r=a([],i(n.czmImageryLayerWrappers.values()),!1);r.sort((function(e,t){var n,r;return(null!==(n=e.czmCzmImageryWrapper.imagery.sceneObject.zIndex)&&void 0!==n?n:c.CzmImagery.defaults.zIndex)-(null!==(r=t.czmCzmImageryWrapper.imagery.sceneObject.zIndex)&&void 0!==r?r:c.CzmImagery.defaults.zIndex)}));try{for(var o=s(r),l=o.next();!l.done;l=o.next()){var u=l.value;n.viewer.imageryLayers.raiseToTop(u.imageryLayer)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}}))),n}return o(t,e),Object.defineProperty(t.prototype,"viewer",{get:function(){return this._viewer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmImageryLayerWrappers",{get:function(){return this._czmImageryLayerWrappers},enumerable:!1,configurable:!0}),t.prototype.add=function(e){this._czmImageryLayerWrappers.add(e),this.viewer.imageryLayers.add(e.imageryLayer),this.zIndexChange()},t.prototype.delete=function(e){this.viewer.imageryLayers.remove(e.imageryLayer,!1),this._czmImageryLayerWrappers.delete(e)},t.prototype.zIndexChange=function(){this._zIndexChangedEvent.emit()},t}(l.Destroyable),f=function(e){function t(t){var n=e.call(this)||this;if(n._czmCzmImageryWrapper=t,!n._czmCzmImageryWrapper.imagery.layer)throw new Error("this._czmCzmImageryWrapper.imagery.layer");n._imageryLayer=n._czmCzmImageryWrapper.imagery.layer;var r=n.czmCzmImageryWrapper.manager.czmImageryLayersManager;return r.add(n),n.dispose((function(){return r.delete(n)})),n.dispose(n._czmCzmImageryWrapper.imagery.sceneObject.zIndexChanged.disposableOn((function(){return r.zIndexChange()}))),n}return o(t,e),Object.defineProperty(t.prototype,"imageryLayer",{get:function(){return this._imageryLayer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmCzmImageryWrapper",{get:function(){return this._czmCzmImageryWrapper},enumerable:!1,configurable:!0}),t}(l.Destroyable),d=function(e){function t(t){var n=e.call(this)||this;return n._czmCzmImageryWrapper=t,n._objResetting=n.disposeVar(new u.ObjResettingWithEvent(n.czmCzmImageryWrapper.imagery.sceneObject.showChanged,(function(){var e;if(null===(e=n.czmCzmImageryWrapper.imagery.sceneObject.show)||void 0===e||e)return new f(n.czmCzmImageryWrapper)}))),n}return o(t,e),Object.defineProperty(t.prototype,"czmCzmImageryWrapper",{get:function(){return this._czmCzmImageryWrapper},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"objResetting",{get:function(){return this._objResetting},enumerable:!1,configurable:!0}),t}(l.Destroyable),h=function(e){function t(t,n,r){var o=e.call(this)||this;return o._imagery=t,o._manager=n,o._czmImageryLayerWrapperObjResetting=o.disposeVar(new u.ObjResettingWithEvent(o.imagery.layerChanged,(function(){if(o.imagery.layer)return new d(o)}))),o}return o(t,e),Object.defineProperty(t.prototype,"imagery",{get:function(){return this._imagery},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"manager",{get:function(){return this._manager},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmImageryLayerWrapperObjResetting",{get:function(){return this._czmImageryLayerWrapperObjResetting},enumerable:!1,configurable:!0}),t}(l.Destroyable),y=function(e){function t(t){var n=e.call(this)||this;return n._viewer=t,n._czmCzmImageryWrappers=new Set,n._czmImageryLayersManager=n.disposeVar(new p(n._viewer)),n}return o(t,e),Object.defineProperty(t.prototype,"czmCzmImageryWrappers",{get:function(){return this._czmCzmImageryWrappers},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmImageryLayersManager",{get:function(){return this._czmImageryLayersManager},enumerable:!1,configurable:!0}),t.prototype.add=function(e){var t,n;try{for(var r=s(this.czmCzmImageryWrappers),o=r.next();!o.done;o=r.next())if(o.value.imagery===e)return void console.warn("imageriesManager add error: has already added!",e)}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}this.czmCzmImageryWrappers.add(new h(e,this,this._viewer))},t.prototype.delete=function(e){var t,n;try{for(var r=s(this.czmCzmImageryWrappers),o=r.next();!o.done;o=r.next()){var i=o.value;if(i.imagery===e)return void this.czmCzmImageryWrappers.delete(i)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}console.warn("imageriesManager delete error!",e)},t}(l.Destroyable);t.ImageriesManager=y},70572:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.PickingManager=void 0;var l=n(43938),u=n(19239),c=n(69767),p=function(e){function t(t){var n=e.call(this)||this;return n._pickPositionTasks=[],n._pickTasks=[],n.dispose((function(){n._pickPositionTasks.length>0&&(n._pickPositionTasks.forEach((function(e){return e[2]("CzmViewer销毁，任务不再执行！")})),n._pickPositionTasks.length=0),n._pickTasks.length>0&&(n._pickTasks.forEach((function(e){return e[4]("CzmViewer销毁，任务不再执行！")})),n._pickTasks.length=0)})),n.dispose(t.scene.preUpdate.addEventListener((function(){var e,r,o,u,p=a([],i(n._pickPositionTasks),!1);n._pickPositionTasks.length=0;try{for(var f=s(p),d=f.next();!d.done;d=f.next()){var h=d.value,y=i(h,3),g=y[0],m=y[1],v=y[2];try{var b=(0,c.pickPosition)(t.scene,(0,c.toCartesian2)(g));m(b&&(0,c.positionFromCartesian)(b))}catch(e){v(e)}}}catch(t){e={error:t}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(e)throw e.error}}var _=a([],i(n._pickTasks),!1);n._pickTasks.length=0;try{for(var w=s(_),P=w.next();!P.done;P=w.next()){h=P.value;var C=i(h,5),O=(g=C[0],C[1]),x=C[2];m=C[3],v=C[4];try{var S=t.scene.pick((0,c.toCartesian2)(g),O&&O[0],O&&O[1]);m(new l.CzmPickedInfo(S,new l.AttachedPickedInfo(x)))}catch(e){v(e)}}}catch(e){o={error:e}}finally{try{P&&!P.done&&(u=w.return)&&u.call(w)}finally{if(o)throw o.error}}}))),n}return o(t,e),t.prototype.pickPosition=function(e){var t=this;return new Promise((function(n,r){t._pickPositionTasks.push([e,n,r])}))},t.prototype.pick=function(e,t,n){var r=this;return new Promise((function(o,i){r._pickTasks.push([e,t,n,o,i])}))},t}(u.Destroyable);t.PickingManager=p},10214:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.TerrainManager=void 0;var u=n(19239),c=n(10070),p=new(s(n(2003)).EllipsoidTerrainProvider),f=function(e){function t(t){var n=e.call(this)||this;n._viewer=t,n._terrainMap=new Map,n._nextAnimateFrame=n.disposeVar((0,c.createNextAnimateFrame)());var r=n._viewer;return n.dispose(n._changed.disposableOn((function(){var e,t,o,i;try{for(var a=l(n._terrainMap.keys()),s=a.next();!s.done;s=a.next()){var u=s.value;(null===(o=u.sceneObject.show)||void 0===o||o)&&u.provider&&(i&&console.warn("存在多个terrain，只能随机选择一个，请确保只有一个terrain的show为true！当前terrian：".concat(i.sceneObject.name,"(").concat(i.sceneObject.id,"), 即将被替换成").concat(u.sceneObject.name,"(").concat(u.sceneObject.id,")")),i=u)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}r.scene.terrainProvider=i&&i.provider||p}))),n}return o(t,e),t.prototype._makeDirty=function(){this._nextAnimateFrame.restartIfNotRunning()},Object.defineProperty(t.prototype,"_changed",{get:function(){return this._nextAnimateFrame.completeEvent},enumerable:!1,configurable:!0}),t.prototype.add=function(e){var t=this;if(this._terrainMap.has(e))console.warn("this._terrainMap.has(imagery)");else{var n=new u.Destroyable;n.dispose(e.providerChanged.disposableOn((function(){return t._makeDirty()}))),n.dispose(e.sceneObject.showChanged.disposableOn((function(){return t._makeDirty()}))),this._terrainMap.set(e,(function(){return n.destroy()})),this._makeDirty()}},t.prototype.delete=function(e){if(this._terrainMap.has(e)){var t=this._terrainMap.get(e);t?(t(),this._terrainMap.delete(e),this._makeDirty()):console.error("!disposeFunc")}else console.warn("!this._imageriesMap.has(imagery)")},t}(u.Destroyable);t.TerrainManager=f},78200:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)},u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ViewerExtensions=t.setViewerExtensions=t.getViewerExtensions=void 0;var p=n(43938),f=s(n(2003)),d=n(19239),h=n(69767),y=n(10070),g=n(57388),m=n(84481),v=n(1111),b=n(62822),_=n(70572),w=n(10214);l(n(57388),t),l(n(84481),t),l(n(62822),t),l(n(70572),t),l(n(10214),t),t.getViewerExtensions=function(e){return(0,d.getExtProp)(e,"_xbsjViewerExtensions22")},t.setViewerExtensions=function(e,t){(0,d.setExtProp)(e,"_xbsjViewerExtensions22",t)};var P=function(e){function t(t){var n=e.call(this)||this;n._viewer=t,n._interactionUseBubble=n.disposeVar(new p.ContainerViewerInteraction(n._viewer.canvas.parentElement,!1)),n._interactionUseCapture=n.disposeVar(new p.ContainerViewerInteraction(n._viewer.canvas.parentElement,!0)),n._poiContext=n.disposeVar(new h.CzmPoisContext(n._viewer)),n._cameraChanged=n.disposeVar(new h.CzmCameraChanged(n._viewer.scene)),n._pickingManager=n.disposeVar(new _.PickingManager(n._viewer)),n._imageriesManager=n.disposeVar(new b.ImageriesManager(n._viewer)),n._terrainManager=n.disposeVar(new w.TerrainManager(n._viewer)),n._cursorInfo=n.disposeVar(new m.CursorInfoWrapper(n._viewer)),n._classicNavigator=n.disposeVar((0,d.react)(void 0)),n._needClassicNavigator=n.disposeVar((0,d.react)(!1)),n._cursorPositionInfo=n.disposeVar(new v.CursorPositionInfo(n._viewer)),n._viewer.xbsjExtensions22=n;var r=n.disposeVar((0,d.createNextAnimateFrameEvent)(p.SceneObject.context.environmentVariablesChanged,n._needClassicNavigator.changed)),o=n.disposeVar((0,y.createProcessingFromAsyncFunc)((function(e){return u(n,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return this._classicNavigator.value?[3,3]:f.viewerCesiumNavigationMixin?[3,2]:(t=p.SceneObject.context.getStrFromEnv("${scene-manager-script-dir}/xe2-assets/scene-manager/navigator/standalone/viewerCesiumNavigationMixin.js"),console.log("正在加载".concat(t)),[4,e.promise((0,d.loadJs)(t))]);case 1:n.sent(),n.label=2;case 2:f.viewerCesiumNavigationMixin||console.error("Navigation插件的js文件已加载，但是仍然没有Cesium.viewerCesiumNavigationMixin！"),this._classicNavigator.value=new g.ClassicNavigator(this._viewer),n.label=3;case 3:return[2]}}))}))}))),i=function(){n._classicNavigator.value||(o.isRunning&&o.cancel(),n._needClassicNavigator.value&&o.restart())};return i(),n.dispose(r.disposableOn(i)),n}return o(t,e),Object.defineProperty(t.prototype,"interactionUseBubble",{get:function(){return this._interactionUseBubble},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"interaction",{get:function(){return this.interactionUseBubble},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"interactionUseCapture",{get:function(){return this._interactionUseCapture},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"poiContext",{get:function(){return this._poiContext},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cameraChanged",{get:function(){return this._cameraChanged.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickingManager",{get:function(){return this._pickingManager},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageriesManager",{get:function(){return this._imageriesManager},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"terrainManager",{get:function(){return this._terrainManager},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursorInfo",{get:function(){return this._cursorInfo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"classicNavigator",{get:function(){return this._classicNavigator.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"classicNavigatorChanged",{get:function(){return this._classicNavigator.changed},enumerable:!1,configurable:!0}),t.prototype.needClassicNavigator=function(){this._needClassicNavigator.value=!0},Object.defineProperty(t.prototype,"cursorPositionInfo",{get:function(){return this._cursorPositionInfo},enumerable:!1,configurable:!0}),t}(d.Destroyable);t.ViewerExtensions=P},28775:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ViewerInstance=void 0;var l=n(69767),u=n(43938),c=n(19239),p=n(55114),f=n(10070),d=s(n(2003)),h=n(21318),y=n(69375),g=n(97725),m=function(e){function t(n,r){var i=e.call(this)||this;i._czmViewer=n,i._viewer=r,i._localBoxSourcesInit=i.disposeVar(new f.ObjResettingWithEvent(i._czmViewer.xbsjLocalBoxSourcesChanged,(function(){if(i._czmViewer.xbsjLocalBoxSources){var e=(0,g.getCzmSceneSkyBoxSources)(i._czmViewer.xbsjLocalBoxSources);if(e)return new t.LocalSkyBoxResetting(i._czmViewer,i._viewer,e)}}))),i._backgroundImageInit=i.disposeVar(new f.ObjResettingWithEvent(i._czmViewer.xbsjUseBackgroundChanged,(function(){if(i._czmViewer.xbsjUseBackground)return new t.BackGroundResetting(i._czmViewer,i._viewer)}))),i._firstPersonController=i.disposeVar(new l.FirstPersonController(i._viewer)),i._firstPersonControllerInit=function(){i.dispose(i._czmViewer.interaction.keyDownEvent.disposableOn((function(e){return i._firstPersonController.keyboardCameraController.keyDown(e)}))),i.dispose(i._czmViewer.interaction.keyUpEvent.disposableOn((function(e){return i._firstPersonController.keyboardCameraController.keyUp(e)})));var e=i._czmViewer.subContainer;if(!e)throw new Error("_firstPersonControllerInit error!");var t=function(){return i._firstPersonController.keyboardCameraController.abort()};e.addEventListener("blur",t,!1),i.dispose((function(){return e.removeEventListener("blur",t,!1)})),i.dispose((0,c.bind)([i._firstPersonController,"keyboardEnabled"],[i._czmViewer,"firstPersonKeyboardEnabled"])),i.dispose((0,c.bind)([i._firstPersonController,"mouseEnabled"],[i._czmViewer,"firstPersonMouseEnabled"])),i.dispose((0,c.bind)([i._firstPersonController.keyboardCameraController,"speed"],[i._czmViewer,"firstPersonWalkingSpeed"])),i.dispose((0,c.bind)([i._firstPersonController.keyboardCameraController,"alwaysWithCamera"],[i._czmViewer,"firstPersonAlwaysWithCamera"])),i.dispose((0,c.bind)([i._firstPersonController.keyboardCameraController,"keyStatusMap"],[i._czmViewer,"firstPersonKeyStatusMap"])),i.dispose(i._czmViewer.firstPersonMouseEnabledChanged.disposableOn((function(){var e;null===(e=i._czmViewer.subContainer)||void 0===e||e.focus()})))}();var a=i._czmViewer,s=i._viewer,m=s.scene,v=m.screenSpaceCameraController,b=m.globe,_=function(e,t){return(0,u.registerEventUpdate)(i,e,t)},w=h.CzmViewer.defaults,P=function(e,t){return _(a[e+"Changed"],(function(){var n;if(!Reflect.has(a,e))throw new Error("!Reflect.has(czmViewer, ".concat(e,")"));if(!Reflect.has(w,e))throw new Error("!Reflect.has(CzmViewer.defaults, ".concat(e,")"));t(null!==(n=a[e])&&void 0!==n?n:w[e])}))},C=function(e,t){return _(a[e+"Changed"],(function(){if(!Reflect.has(a,e))throw new Error("!Reflect.has(czmViewer, ".concat(e,")"));t(a[e])}))};P("resolutionScale",(function(e){return s.resolutionScale=e})),C("shadows",(function(e){return s.shadows=e})),P("scenePpsfxaaEnabled",(function(e){return m.postProcessStages.fxaa.enabled=e})),C("scenePpsAmbientOcclusionEnabled",(function(e){return m.postProcessStages.ambientOcclusion.enabled=e})),C("scenePpsAmbientOcclusionAmbientOcclusionOnly",(function(e){return m.postProcessStages.ambientOcclusion.uniforms.ambientOcclusionOnly=e})),C("scenePpsAmbientOcclusionIntensity",(function(e){return m.postProcessStages.ambientOcclusion.uniforms.intensity=e})),C("scenePpsAmbientOcclusionBias",(function(e){return m.postProcessStages.ambientOcclusion.uniforms.bias=e})),C("scenePpsAmbientOcclusionLengthCap",(function(e){return m.postProcessStages.ambientOcclusion.uniforms.lengthCap=e})),C("scenePpsAmbientOcclusionStepSize",(function(e){return m.postProcessStages.ambientOcclusion.uniforms.stepSize=e})),C("scenePpsAmbientOcclusionBlurStepSize",(function(e){return m.postProcessStages.ambientOcclusion.uniforms.blurStepSize=e})),C("scenePpsBloomEnabled",(function(e){return m.postProcessStages.bloom.enabled=e})),C("scenePpsBloomGlowOnly",(function(e){return m.postProcessStages.bloom.uniforms.glowOnly=e})),C("scenePpsBloomContrast",(function(e){return m.postProcessStages.bloom.uniforms.contrast=e})),C("scenePpsBloomBrightness",(function(e){return m.postProcessStages.bloom.uniforms.brightness=e})),C("scenePpsBloomDelta",(function(e){return m.postProcessStages.bloom.uniforms.delta=e})),C("scenePpsBloomSigma",(function(e){return m.postProcessStages.bloom.uniforms.sigma=e})),C("scenePpsBloomStepSize",(function(e){return m.postProcessStages.bloom.uniforms.stepSize=e})),P("sceneGlobeShow",(function(e){return m.globe.show=e})),P("sceneGlobeDepthTestAgainstTerrain",(function(e){return m.globe.depthTestAgainstTerrain=e})),P("sceneGlobeEnableLighting",(function(e){return m.globe.enableLighting=e})),P("sceneGlobeShadows",(function(e){return m.globe.shadows=e})),C("sceneGlobeTerrainExaggeration",(function(e){return m.globe.terrainExaggeration=e})),C("sceneGlobeTerrainExaggerationRelativeHeight",(function(e){return m.globe.terrainExaggerationRelativeHeight=e})),C("sceneGlobeBackFaceCulling",(function(e){return m.globe.backFaceCulling=e})),C("sceneGlobeShowSkirts",(function(e){return m.globe.showSkirts=e})),C("sceneGlobeShowWaterEffect",(function(e){return m.globe.showWaterEffect=e})),C("sceneGlobeBaseColor",(function(e){return m.globe.baseColor=(0,l.toColor)(e)})),C("sceneGlobeCartographicLimitRectangle",(function(e){return m.globe.cartographicLimitRectangle=(0,l.toRectangle)(e)})),C("sceneGlobeClippingPlanes",(function(e){m.globe.clippingPlanes?(0,y.setClippingPlaneCollection)(m.globe.clippingPlanes,e):m.globe.clippingPlanes=(0,y.createClippingPlaneCollection)(null!=e?e:{enabled:!1})})),P("sceneSunShow",(function(e){return m.sun.show=e})),P("sceneSunGlowFactor",(function(e){return m.sun.glowFactor=e})),P("sceneMoonShow",(function(e){return m.moon.show=e})),P("sceneMoonOnlySunLighting",(function(e){return m.moon.onlySunLighting=e})),P("sceneMoonTextureUrl",(function(e){return m.moon.textureUrl=f.SceneObject.context.getStrFromEnv(e)})),C("sceneSkyBoxShow",(function(e){return m._xbsjOriginSkyBox.show=e})),P("sceneSkyBoxSources",(function(e){return m._xbsjOriginSkyBox.sources=e&&(0,g.getCzmSceneSkyBoxSources)(e)})),C("sceneSkyAtmosphereShow",(function(e){return s.scene._xbsjOriginSkyAtmosphere.show=e})),P("sceneFogEnabled",(function(e){return m.fog.enabled=e})),P("sceneFogDensity",(function(e){return m.fog.density=e})),P("sceneFogScreenSpaceErrorFactor",(function(e){return m.fog.screenSpaceErrorFactor=e})),P("sceneFogMinimumBrightness",(function(e){return m.fog.minimumBrightness=e})),P("sceneDebugShowFramesPerSecond",(function(e){return m.debugShowFramesPerSecond=e})),P("sceneDebugShowCommands",(function(e){return m.debugShowCommands=e})),P("sceneDebugShowFrustums",(function(e){return m.debugShowFrustums=e})),P("sceneDebugShowFrustumPlanes",(function(e){return m.debugShowFrustumPlanes=e})),P("sceneDebugShowDepthFrustum",(function(e){return m.debugShowDepthFrustum=e})),P("sceneGlobeUndergroundColor",(function(e){return b.undergroundColor=(0,l.toColor)(e)})),P("sceneGlobeUndergroundColorAlphaByDistance",(function(e){return b.undergroundColorAlphaByDistance=(0,l.toNearFarScalar)(e)})),P("sceneGlobeTranslucencyEnabled",(function(e){return b.translucency.enabled=e})),P("sceneGlobeTranslucencyBackFaceAlpha",(function(e){return b.translucency.backFaceAlpha=e})),P("sceneGlobeTranslucencyBackFaceAlphaByDistance",(function(e){return b.translucency.backFaceAlphaByDistance=(0,l.toNearFarScalar)(e)})),P("sceneGlobeTranslucencyFrontFaceAlpha",(function(e){return b.translucency.frontFaceAlpha=e})),P("sceneGlobeTranslucencyFrontFaceAlphaByDistance",(function(e){return b.translucency.frontFaceAlphaByDistance=(0,l.toNearFarScalar)(e)})),P("sceneGlobeTranslucencyRectangle",(function(e){return b.translucency.rectangle=(0,l.toRectangle)(e)})),P("sceneSplitPosition",(function(e){return m.splitPosition=(0,p.clamp)(e,0,1)})),_(a.disabledInputStackChanged,(function(){return v.enableInputs=0===a.disabledInputStack}));var O=function(e){function t(){var t=e.call(this)||this;return a.incrementDisabledInputStack(),t.dispose((function(){return a.decrementDisabledInputStack()})),t}return o(t,e),t}(c.Destroyable);i.disposeVar(new f.ObjResettingWithEvent(a.sceneSsccEnableInputsChanged,(function(){var e;return null===(e=a.sceneSsccEnableInputs)||void 0===e||e?void 0:new O}))),P("sceneSsccEnableCollisionDetection",(function(e){return m.screenSpaceCameraController.enableCollisionDetection=e})),(x=function(){var e;s.cesiumInspector&&(s.cesiumInspector.container.style.display=null!==(e=a.showCesiumInspector)&&void 0!==e&&e?"block":"none")})(),i.dispose(a.showCesiumInspectorChanged.disposableOn(x)),P("cesiumInspectorWireframe",(function(e){"cesiumInspector"in s&&(s.cesiumInspector.viewModel.wireframe=e)}));var x,S=i.disposeVar(new l.CzmCameraChanged(s.scene));i.dispose(S.changed.disposableOn((function(){a.cameraChanged.emit()}))),(x=function(){var e;s.cesium3DTilesInspector&&(s.cesium3DTilesInspector.container.style.display=null!==(e=a.showCesium3DTilesInspector)&&void 0!==e&&e?"block":"none")})(),i.dispose(a.showCesium3DTilesInspectorChanged.disposableOn(x));var E=new d.SunLight,j=new d.DirectionalLight({direction:s.scene.camera.directionWC}),T=function(e){function t(){var t,n=this;n=e.call(this)||this;var r=null!==(t=a.flashLighting)&&void 0!==t&&t;return s.scene.light=r?j:E,r&&n.dispose(s.scene.preRender.addEventListener((function(e,t){j.direction=d.Cartesian3.clone(e.camera.directionWC,e.light.direction)}))),n}return o(t,e),t}(c.Destroyable);i.disposeVar(new f.ObjResettingWithEvent(a.flashLightingChanged,(function(){return new T})));var M=d.getTimestamp(),A=0;return i.dispose(s.scene.preUpdate.addEventListener((function(){var e=d.getTimestamp();A++;var t=e-M;t>1e3&&(a._fps.value=1e3*A/t|0,M=e,A=0)}))),i}return o(t,e),Object.defineProperty(t.prototype,"firstPersonController",{get:function(){return this._firstPersonController},enumerable:!1,configurable:!0}),t.LocalSkyBoxResetting=function(e){function t(t,n,r){var o=e.call(this)||this;o._czmViewer=t,o._viewer=n,o._sources=r,o._skyAtmosphere=new l.SkyAtmosphere(void 0,o._sources);var i=o._viewer;i.scene.skyAtmosphere=o._skyAtmosphere,o.dispose((function(){return i.scene.skyAtmosphere=i.scene._xbsjOriginSkyAtmosphere}));var a=function(){o._skyAtmosphere.show=o._czmViewer.sceneSkyAtmosphereShow};return a(),o.dispose(o._czmViewer.sceneSkyAtmosphereShowChanged.disposableOn(a)),o}return o(t,e),Object.defineProperty(t.prototype,"skyAtmosphere",{get:function(){return this._skyAtmosphere},enumerable:!1,configurable:!0}),t}(c.Destroyable),t.BackGroundResetting=function(e){function t(t,n){var r=e.call(this)||this;r._czmViewer=t,r._viewer=n,r._backgroundImage=new l.BackGroundImage,r._backgroundImageInit=r._backgroundImage.material=d.Material.fromType("Image");var o,i=r._viewer;return i.scene.skyBox=r._backgroundImage,r.dispose((function(){return i.scene.skyBox=i.scene._xbsjOriginSkyBox})),(o=function(){r._backgroundImage.show=r._czmViewer.sceneSkyBoxShow})(),r.dispose(r._czmViewer.sceneSkyBoxShowChanged.disposableOn(o)),(o=function(){r._backgroundImage.material.uniforms.color=(0,l.toColor)(r._czmViewer.xbsjBackgroundColor)})(),r.dispose(r._czmViewer.xbsjBackgroundColorChanged.disposableOn(o)),(o=function(){r._backgroundImage.material.uniforms.image=f.SceneObject.context.getStrFromEnv(r._czmViewer.xbsjBackgroundImageUri)})(),r.dispose(r._czmViewer.xbsjBackgroundImageUriChanged.disposableOn(o)),r}return o(t,e),t}(c.Destroyable),t}(c.Destroyable);t.ViewerInstance=m},76848:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.ViewerLegend=void 0;var l=n(19239),u=n(99151),c=n(96596),p=n(10070),f=function(e){function t(t){var n=e.call(this)||this;n._czmViewer=t,n._resolution=n.disposeVar((0,l.react)(void 0)),n._center=n.disposeVar((0,l.react)(void 0)),n._zoom=n.disposeVar((0,l.react)(void 0)),n._legend=n.disposeVar(new u.Legend);var r=n.disposeVar((0,p.createProcessingFromAsyncFunc)((function(e){return i(n,void 0,void 0,(function(){var t,n,r,o,i,l,u;return a(this,(function(a){switch(a.label){case 0:t=void 0,n=void 0,r=void 0,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,e.promise((0,c.getCenterResolution)(this._czmViewer))];case 2:return(o=a.sent())?(i=s(o,2),l=i[0],u=i[1],t=l,n=(0,c.getZoomFromResolution)(l),r=u,[3,4]):[3,5];case 3:return a.sent(),[3,5];case 4:a.label=5;case 5:return this._resolution.value=t,this._zoom.value=n,this._center.value=r,[2]}}))}))})));r.restart(),n.dispose(n._czmViewer.cameraChanged.disposableOn((function(){return r.restart()})));var o=function(){n._legend.resolution=n.resolution};return o(),n.dispose(n.resolutionChanged.disposableOn(o)),n}return o(t,e),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution.value},set:function(e){this._resolution.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolutionChanged",{get:function(){return this._resolution.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){return this._center.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"centerChanged",{get:function(){return this._center.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zoom",{get:function(){return this._zoom.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zoomChanged",{get:function(){return this._zoom.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"legend",{get:function(){return this._legend},enumerable:!1,configurable:!0}),t}(l.Destroyable);t.ViewerLegend=f},95869:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCesiumViewerFuncSample=void 0,t.createCesiumViewerFuncSample='\n####  示例代码1\n```\nasync function initCesiumViewer(container, czmViewer) {\n    const viewer = await XE2.g.defaultCreateCesiumViewerFunc(container, czmViewer);\n\n    // 若原Czm版权信息展示位置遮挡重要信息，可将以下语句解注释，在别的位置展示\n    // viewer._cesiumWidget._creditContainer.style.display = "none";\n\n    return viewer;\n}\n```\n\n#### 示例代码2\n```\nasync function initCesiumViewer(container, czmViewer) {\n    // 使用离线地图，创建viewer\n    const viewer = new Cesium.Viewer(container, {\n        // imageryProvider: provider,\n        // imageryProvider: new Cesium.TileMapServiceImageryProvider({\n        //     url: Cesium.buildModuleUrl("Assets/Textures/NaturalEarthII"),\n        // }),\n        animation: false,\n        baseLayerPicker: false,\n        fullscreenButton: false,\n        geocoder: false,\n        homeButton: false,\n        infoBox: false,\n        sceneModePicker: false,\n        selectionIndicator: false,\n        timeline: false,\n        navigationHelpButton: false,\n        navigationInstructionsInitiallyVisible: false,\n        scene3DOnly: true,\n        // @ts-ignore\n        msaaSamples: czmViewer.msaaSamples,\n    });\n\n    // 不知道从哪个版本开始，Cesium默认会增加Ion影像！\n    viewer.imageryLayers.removeAll();\n\n    viewer.clock.currentTime = Cesium.JulianDate.fromDate(new Date(\'2022-04-19T20:00:53.10067292911116965Z\'));\n\n    // 原始设置\n    // scene.screenSpaceCameraController.lookEventTypes = { eventType : CameraEventType.LEFT_DRAG, modifier : KeyboardEventModifier.SHIFT };\n    // scene.screenSpaceCameraController.zoomEventTypes = [CameraEventType.RIGHT_DRAG, CameraEventType.WHEEL, CameraEventType.PINCH]\n    // this._originLookEventTypes = scene.screenSpaceCameraController.lookEventTypes;\n    // this._originZoomEventTypes = scene.screenSpaceCameraController.zoomEventTypes;\n    viewer.scene.screenSpaceCameraController.lookEventTypes = [{ eventType: Cesium.CameraEventType.RIGHT_DRAG }, { eventType: Cesium.CameraEventType.RIGHT_DRAG, modifier: Cesium.KeyboardEventModifier.SHIFT }];\n    viewer.scene.screenSpaceCameraController.zoomEventTypes = [Cesium.CameraEventType.WHEEL, Cesium.CameraEventType.PINCH]\n\n    // 去除系统默认事件\n    viewer.screenSpaceEventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK);\n    viewer.screenSpaceEventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK);\n\n    // 若原Czm版权信息展示位置遮挡重要信息，可将以下语句解注释，在别的位置展示\n    // viewer._cesiumWidget._creditContainer.style.display = "none";\n\n    // bloom设置\n    // const bloom = viewer.scene.postProcessStages.bloom;\n    // bloom.enabled = true;\n    // bloom.glowOnly = false;\n    // bloom.contrast = 119;\n    // bloom.brightness = -0.4;\n    // bloom.delta = 0.9;\n    // bloom.sigma = 3.78;\n    // bloom.stepSize = 5;\n    // bloom.isSelected = false;\n\n    // 去掉天空环境\n    // viewer.scene.skyAtmosphere.show = false;\n\n    return viewer;\n}\n```\n'},29213:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultCreateCesiumViewerFuncStr=void 0,t.defaultCreateCesiumViewerFuncStr='async function initCesiumViewer(container, czmViewer) {\n    const viewer = await XE2.g.defaultCreateCesiumViewerFunc(container, czmViewer);\n\n    // 若原Czm版权信息展示位置遮挡重要信息，可将以下语句解注释，在别的位置展示\n    // viewer._cesiumWidget._creditContainer.style.display = "none";\n\n    return viewer;\n}\n'},54542:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCesiumIonToken=void 0,t.getCesiumIonToken=function(){var e="https://gitee.com/mirrors/CesiumJS/blob/main/packages/engine/Source/Core/Ion.js#L7",t="    因浏览器同源策略限制，需要用户自行打开网址获取最新的token，点击确定自动打开网址，请不要拦截！\n    github地址：".concat("https://github.com/CesiumGS/cesium/blob/main/packages/engine/Source/Core/Ion.js#L7","\n    gitee地址：").concat(e,"\n    ");console.log(t);var n=window.prompt(t,e);n&&window.open(n,"_blank")}},97725:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCzmSceneSkyBoxSources=void 0;var r=n(10070);t.getCzmSceneSkyBoxSources=function(e){var t=e.positiveX,n=e.negativeX,o=e.positiveY,i=e.negativeY,a=e.positiveZ,s=e.negativeZ;if(t&&n&&o&&i&&a&&s)return{positiveX:r.SceneObject.context.getStrFromEnv(t),negativeX:r.SceneObject.context.getStrFromEnv(n),positiveY:r.SceneObject.context.getStrFromEnv(o),negativeY:r.SceneObject.context.getStrFromEnv(i),positiveZ:r.SceneObject.context.getStrFromEnv(a),negativeZ:r.SceneObject.context.getStrFromEnv(s)};console.warn("sceneSkyBoxSources的信息不全，无法设置skybox！")}},21318:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return s(t,e),t},u=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)},c=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},p=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},f=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmViewer=void 0;var d=n(43938),h=n(19239),y=l(n(2003)),g=n(69767),m=n(55114),v=n(60783),b=n(40984),_=n(59390),w=n(78200),P=n(28775),C=n(95869),O=n(95370),x=n(29213),S=n(54542),E=n(76848);u(n(78200),t),d.SceneObject.context.setEnv("czm-path",y.buildModuleUrl("").slice(0,-1)),XE2.g.defaultCreateCesiumViewerFunc=O.defaultCreateCesiumViewerFunc;var j=function(e){function t(n,r){var o=e.call(this,n)||this;o._sceneObjectsMap=new Map,o._viewer=o.disposeVar((0,h.react)(void 0)),o._fps=o.disposeVar((0,h.react)(0)),o._geoPolylinePathCameraController=o.disposeVar(new d.GeoPolylinePathCameraController),o._disabledInputStack=o.disposeVar((0,h.react)(0)),o._createCesiumViewerFuncReact=o.disposeVar((0,h.react)(void 0)),o._cameraChanged=o.disposeVar(new h.Event),o._viewerLegend=o.disposeVar(new E.ViewerLegend(o)),o._viewerInstance=o.disposeVar(new d.ObjResettingWithEvent(o.viewerChanged,(function(){if(o.viewer)return new P.ViewerInstance(o,o.viewer)})));var i=o.disposeVar((0,h.createNextAnimateFrameEvent)(o.subContainerChanged,o.createCesiumViewerFuncChanged,o.msaaSamplesChanged));o.disposeVar(new d.ObjResettingWithEvent(i,(function(){if(o.setStaus("Raw"),o.subContainer)return new _.ViewerCreating(o.subContainer,o,(function(e){return o._viewer.value=e}))}))),o.dispose(o.viewerChanged.disposableOn((function(e){var t,n,r,i;try{for(var a=c(o._sceneObjectsMap.entries()),s=a.next();!s.done;s=a.next()){var l=p(s.value,2),u=l[0];(h=l[1])&&(h.destroy(),o._sceneObjectsMap.set(u,void 0))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}if(e)try{for(var f=c(o._sceneObjectsMap.entries()),d=f.next();!d.done;d=f.next()){var h,y=p(d.value,2);if(u=y[0],!(h=y[1])){var g=b.CzmObject.context.createObject(u,o);g&&o._sceneObjectsMap.set(u,g)}}}catch(e){r={error:e}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}}))),o.dispose((function(){return o.container=void 0})),r&&(o.devTags=r),o.dispose(o.ionAccessTokenChanged.disposableOn((function(){var e;y.Ion.defaultAccessToken=null!==(e=o.ionAccessToken)&&void 0!==e?e:t.defaults.ionAccessToken})));var a=function(){try{o.createCesiumViewerFunc=o.createCesiumViewerFuncStr&&Function('"use strict";return ('.concat(o.createCesiumViewerFuncStr,")"))()||void 0}catch(e){console.warn("createCesiumViewerFunc属性无法适用。。将自动适用内置创建函数来创建Cesium.Viewer。"),o.createCesiumViewerFunc=void 0}};return a(),o.dispose(o.createCesiumViewerFuncStrChanged.disposableOn(a)),o.add(o._geoPolylinePathCameraController),o.dispose((function(){return o.delete(o._geoPolylinePathCameraController)})),o}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmViewer"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return t.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return"CzmViewer"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneObjectsMap",{get:function(){return this._sceneObjectsMap},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneObjects",{get:function(){return this._sceneObjectsMap.keys()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewer",{get:function(){return this._viewer.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewerChanged",{get:function(){return this._viewer.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"extensions",{get:function(){return this.viewer&&(0,w.getViewerExtensions)(this.viewer)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fps",{get:function(){return this._fps.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fpsChanged",{get:function(){return this._fps.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geoPolylinePathCameraController",{get:function(){return this._geoPolylinePathCameraController},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disabledInputStack",{get:function(){return this._disabledInputStack.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disabledInputStackChanged",{get:function(){return this._disabledInputStack.changed},enumerable:!1,configurable:!0}),t.prototype.incrementDisabledInputStack=function(){++this._disabledInputStack.value},t.prototype.decrementDisabledInputStack=function(){--this._disabledInputStack.value},Object.defineProperty(t.prototype,"createCesiumViewerFunc",{get:function(){return this._createCesiumViewerFuncReact.value},set:function(e){this._createCesiumViewerFuncReact.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"createCesiumViewerFuncChanged",{get:function(){return this._createCesiumViewerFuncReact.changed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"czmPickedEvent",{get:function(){return this.nativePickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cameraChanged",{get:function(){return this._cameraChanged},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewerLegend",{get:function(){return this._viewerLegend},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewerInstance",{get:function(){return this._viewerInstance},enumerable:!1,configurable:!0}),t.prototype._add=function(e){if(this.viewer){var t=b.CzmObject.context.createObject(e,this);this._sceneObjectsMap.set(e,t)}else this._sceneObjectsMap.set(e,void 0)},t.prototype._delete=function(e){if(this._sceneObjectsMap.has(e)){var t=this._sceneObjectsMap.get(e);t&&t.destroy(),this._sceneObjectsMap.delete(e)}},t.prototype.add=function(){for(var t,n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];e.prototype.add.apply(this,f([],p(r),!1));try{for(var i=c(r),a=i.next();!a.done;a=i.next()){var s=a.value;this._add(s)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},t.prototype.delete=function(){for(var t,n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];try{for(var i=c(r),a=i.next();!a.done;a=i.next()){var s=a.value;this._delete(s)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}e.prototype.delete.apply(this,f([],p(r),!1))},t.prototype.has=function(e){return this._sceneObjectsMap.has(e)},t.prototype.getCzmObject=function(e){return this._sceneObjectsMap.get(e)},t.prototype.getProperties=function(){var n=t.defaults;return f(f([],p(e.prototype.getProperties.call(this)),!1),[new d.GroupProperty("通用","通用",[new d.EvalStringProperty("CesiumViewer创建函数","CesiumViewer创建函数",!0,!1,[this,"createCesiumViewerFuncStr"],x.defaultCreateCesiumViewerFuncStr,C.createCesiumViewerFuncSample),new d.FunctionProperty("获取官方token","获取官方token",[],(function(){return t.getCesiumIonToken()}),[]),new d.StringProperty("ionAccessToken","ionAccessToken",!1,!1,[this,"ionAccessToken"],n.ionAccessToken),new d.BooleanProperty("头顶灯","设置为头顶灯，false时为太阳光",!0,!1,[this,"flashLighting"])]),new d.GroupProperty("Viewer","Viewer",[new d.NumberProperty("分辨率比率","分辨率比率",!0,!1,[this,"resolutionScale"],n.resolutionScale),new d.NumberProperty("msaaSamples","msaaSamples",!0,!1,[this,"msaaSamples"],n.msaaSamples),new d.BooleanProperty("shadows","shadows",!1,!1,[this,"shadows"]),new d.StringProperty("相机漫游模式","相机漫游模式",!1,!0,[this,"navigationMode"],"Map"),new d.NumberProperty("时钟","时钟",!1,!1,[this,"clockCurrentTime"]),new d.GroupProperty("比例尺","比例尺(Legend)",[new d.NumberProperty("resolution","resolution",!0,!0,[this.viewerLegend,"resolution"]),new d.NumberProperty("zoom","zoom",!0,!0,[this.viewerLegend,"zoom"]),new d.Number3Property("center","center",!0,!0,[this.viewerLegend,"center"]),new d.NumberProperty("lengthInPixels","lengthInPixels",!0,!1,[this.viewerLegend.legend,"lengthInPixels"]),new d.NumberProperty("computedLengthInPixels","computedLengthInPixels",!0,!0,[this.viewerLegend.legend,"computedLengthInPixels"]),new d.NumberProperty("computedLengthInMeters","computedLengthInMeters",!0,!0,[this.viewerLegend.legend,"computedLengthInMeters"]),new d.StringProperty("computedLengthInStr","computedLengthInStr",!0,!0,[this.viewerLegend.legend,"computedLengthInStr"])]),new d.GroupProperty("场景","场景(Scene)",[new d.NumberProperty("内部视口分割比例","内部视口分割比例",!0,!1,[this,"sceneSplitPosition"],n.sceneSplitPosition),new d.GroupProperty("Globe","Globe",[new d.BooleanProperty("sceneGlobeShow","sceneGlobeShow",!0,!1,[this,"sceneGlobeShow"],n.sceneGlobeShow),new d.BooleanProperty("sceneGlobeDepthTestAgainstTerrain","sceneGlobeDepthTestAgainstTerrain",!0,!1,[this,"sceneGlobeDepthTestAgainstTerrain"],n.sceneGlobeDepthTestAgainstTerrain),new d.BooleanProperty("sceneGlobeEnableLighting","sceneGlobeEnableLighting",!0,!1,[this,"sceneGlobeEnableLighting"],n.sceneGlobeEnableLighting),new d.EnumProperty("sceneGlobeShadows","sceneGlobeShadows",!0,!1,[this,"sceneGlobeShadows"],[["禁用","DISABLED"],["启用","ENABLED"],["仅投射","CAST_ONLY"],["仅接收","RECEIVE_ONLY"]],n.sceneGlobeShadows),new d.NumberProperty("sceneGlobeTerrainExaggeration","sceneGlobeTerrainExaggeration",!1,!1,[this,"sceneGlobeTerrainExaggeration"]),new d.NumberProperty("sceneGlobeTerrainExaggerationRelativeHeight","sceneGlobeTerrainExaggerationRelativeHeight",!1,!1,[this,"sceneGlobeTerrainExaggerationRelativeHeight"]),new d.BooleanProperty("sceneGlobeBackFaceCulling","sceneGlobeBackFaceCulling",!1,!1,[this,"sceneGlobeBackFaceCulling"]),new d.BooleanProperty("sceneGlobeShowSkirts","sceneGlobeShowSkirts",!1,!1,[this,"sceneGlobeShowSkirts"]),new d.BooleanProperty("sceneGlobeShowWaterEffect","sceneGlobeShowWaterEffect",!1,!1,[this,"sceneGlobeShowWaterEffect"]),new d.ColorProperty("sceneGlobeBaseColor","sceneGlobeBaseColor",!1,!1,[this,"sceneGlobeBaseColor"]),new d.Number4Property("sceneGlobeCartographicLimitRectangle","sceneGlobeCartographicLimitRectangle",!1,!1,[this,"sceneGlobeCartographicLimitRectangle"]),new d.JsonProperty("sceneGlobeClippingPlanes","sceneGlobeClippingPlanes",!1,!1,[this,"sceneGlobeClippingPlanes"]),new d.GroupProperty("Underground","Underground",[new d.ColorProperty("sceneGlobeUndergroundColor","sceneGlobeUndergroundColor",!0,!1,[this,"sceneGlobeUndergroundColor"],n.sceneGlobeUndergroundColor),new d.Number4Property("sceneGlobeUndergroundColorAlphaByDistance","sceneGlobeUndergroundColorAlphaByDistance",!0,!1,[this,"sceneGlobeUndergroundColorAlphaByDistance"],n.sceneGlobeUndergroundColorAlphaByDistance)]),new d.GroupProperty("Translucency","Translucency",[new d.BooleanProperty("启用","启用",!0,!1,[this,"sceneGlobeTranslucencyEnabled"],n.sceneGlobeTranslucencyEnabled),new d.NumberProperty("背面透明度","背面透明度",!0,!1,[this,"sceneGlobeTranslucencyBackFaceAlpha"],n.sceneGlobeTranslucencyBackFaceAlpha),new d.Number4Property("背面渐变透明度","背面渐变透明度",!0,!1,[this,"sceneGlobeTranslucencyBackFaceAlphaByDistance"],n.sceneGlobeTranslucencyBackFaceAlphaByDistance),new d.NumberProperty("正面透明度","正面透明度",!0,!1,[this,"sceneGlobeTranslucencyFrontFaceAlpha"],n.sceneGlobeTranslucencyFrontFaceAlpha),new d.Number4Property("正面渐变透明度","正面渐变透明度",!0,!1,[this,"sceneGlobeTranslucencyFrontFaceAlphaByDistance"],n.sceneGlobeTranslucencyFrontFaceAlphaByDistance),new d.Number4Property("矩形范围","矩形范围",!0,!1,[this,"sceneGlobeTranslucencyRectangle"],n.sceneGlobeTranslucencyRectangle)])]),new d.GroupProperty("Sun","Sun",[new d.BooleanProperty("sceneSunShow","sceneSunShow",!0,!1,[this,"sceneSunShow"],n.sceneSunShow),new d.NumberProperty("sceneSunGlowFactor","sceneSunGlowFactor",!0,!1,[this,"sceneSunGlowFactor"],n.sceneSunGlowFactor)]),new d.GroupProperty("Moon","Moon",[new d.BooleanProperty("sceneMoonShow","sceneMoonShow",!0,!1,[this,"sceneMoonShow"],n.sceneMoonShow),new d.StringProperty("sceneMoonTextureUrl","sceneMoonTextureUrl",!0,!1,[this,"sceneMoonTextureUrl"],n.sceneMoonTextureUrl),new d.BooleanProperty("sceneMoonOnlySunLighting","sceneMoonOnlySunLighting",!0,!1,[this,"sceneMoonOnlySunLighting"],n.sceneMoonOnlySunLighting)]),new d.GroupProperty("SkyBox","SkyBox",[new d.BooleanProperty("sceneSkyBoxShow","sceneSkyBoxShow",!1,!1,[this,"sceneSkyBoxShow"]),new d.JsonProperty("sceneSkyBoxSources","sceneSkyBoxSources",!0,!1,[this,"sceneSkyBoxSources"]),new d.GroupProperty("Background","Background",[new d.BooleanProperty("xbsjUseBackground","xbsjUseBackground",!1,!1,[this,"xbsjUseBackground"]),new d.StringProperty("xbsjBackgroundImageUri","xbsjBackgroundImageUri",!1,!1,[this,"xbsjBackgroundImageUri"]),new d.ColorProperty("xbsjBackgroundColor","xbsjBackgroundColor",!1,!1,[this,"xbsjBackgroundColor"])])]),new d.GroupProperty("SkyAtmosphere","SkyAtmosphere",[new d.BooleanProperty("sceneSkyAtmosphereShow","sceneSkyAtmosphereShow",!1,!1,[this,"sceneSkyAtmosphereShow"]),new d.JsonProperty("xbsjLocalBoxSources","xbsjLocalBoxSources",!0,!1,[this,"xbsjLocalBoxSources"],n.xbsjLocalBoxSources)]),new d.GroupProperty("Fog","Fog",[new d.BooleanProperty("sceneFogEnabled","sceneFogEnabled",!0,!1,[this,"sceneFogEnabled"],n.sceneFogEnabled),new d.NumberProperty("sceneFogDensity","sceneFogDensity",!0,!1,[this,"sceneFogDensity"],n.sceneFogDensity),new d.NumberProperty("sceneFogScreenSpaceErrorFactor","sceneFogScreenSpaceErrorFactor",!0,!1,[this,"sceneFogScreenSpaceErrorFactor"],n.sceneFogScreenSpaceErrorFactor),new d.NumberProperty("sceneFogMinimumBrightness","sceneFogMinimumBrightness",!0,!1,[this,"sceneFogMinimumBrightness"],n.sceneFogMinimumBrightness)]),new d.GroupProperty("Sscc","Sscc",[new d.BooleanProperty("sceneSsccEnableInputs","sceneSsccEnableInputs",!0,!1,[this,"sceneSsccEnableInputs"],n.sceneSsccEnableInputs),new d.BooleanProperty("sceneSsccEnableCollisionDetection","sceneSsccEnableCollisionDetection",!0,!1,[this,"sceneSsccEnableCollisionDetection"],n.sceneSsccEnableCollisionDetection)]),new d.GroupProperty("后处理","后处理",[new d.BooleanProperty("开启FXAA","开启FXAA",!0,!1,[this,"scenePpsfxaaEnabled"],n.scenePpsfxaaEnabled),new d.GroupProperty("环境遮蔽","环境遮蔽",[new d.BooleanProperty("Enabled","Enabled",!1,!1,[this,"scenePpsAmbientOcclusionEnabled"]),new d.BooleanProperty("AmbientOcclusionOnly","AmbientOcclusionOnly",!1,!1,[this,"scenePpsAmbientOcclusionAmbientOcclusionOnly"]),new d.NumberProperty("Intensity","Intensity",!1,!1,[this,"scenePpsAmbientOcclusionIntensity"]),new d.NumberProperty("Bias","Bias",!1,!1,[this,"scenePpsAmbientOcclusionBias"]),new d.NumberProperty("LengthCap","LengthCap",!1,!1,[this,"scenePpsAmbientOcclusionLengthCap"]),new d.NumberProperty("StepSize","StepSize",!1,!1,[this,"scenePpsAmbientOcclusionStepSize"]),new d.NumberProperty("BlurStepSize","BlurStepSize",!1,!1,[this,"scenePpsAmbientOcclusionBlurStepSize"])]),new d.GroupProperty("Bloom","Bloom",[new d.BooleanProperty("Enabled","Enabled",!1,!1,[this,"scenePpsBloomEnabled"]),new d.BooleanProperty("GlowOnly","GlowOnly",!1,!1,[this,"scenePpsBloomGlowOnly"]),new d.NumberProperty("Contrast","Contrast",!1,!1,[this,"scenePpsBloomContrast"]),new d.NumberProperty("Brightness","Brightness",!1,!1,[this,"scenePpsBloomBrightness"]),new d.NumberProperty("Delta","Delta",!1,!1,[this,"scenePpsBloomDelta"]),new d.NumberProperty("Sigma","Sigma",!1,!1,[this,"scenePpsBloomSigma"]),new d.NumberProperty("StepSize","StepSize",!1,!1,[this,"scenePpsBloomStepSize"])])]),new d.GroupProperty("调试","调试",[new d.BooleanProperty("sceneDebugShowFramesPerSecond","sceneDebugShowFramesPerSecond",!0,!1,[this,"sceneDebugShowFramesPerSecond"],n.sceneDebugShowFramesPerSecond),new d.BooleanProperty("sceneDebugShowCommands","sceneDebugShowCommands",!0,!1,[this,"sceneDebugShowCommands"],n.sceneDebugShowCommands),new d.BooleanProperty("sceneDebugShowFrustums","sceneDebugShowFrustums",!0,!1,[this,"sceneDebugShowFrustums"],n.sceneDebugShowFrustums),new d.BooleanProperty("sceneDebugShowFrustumPlanes","sceneDebugShowFrustumPlanes",!0,!1,[this,"sceneDebugShowFrustumPlanes"],n.sceneDebugShowFrustumPlanes),new d.NumberProperty("sceneDebugShowDepthFrustum","sceneDebugShowDepthFrustum",!0,!1,[this,"sceneDebugShowDepthFrustum"],n.sceneDebugShowDepthFrustum)])]),new d.GroupProperty("第一人称漫游","第一人称漫游",[new d.BooleanProperty("firstPersonKeyboardEnabled","firstPersonKeyboardEnabled",!1,!1,[this,"firstPersonKeyboardEnabled"]),new d.BooleanProperty("firstPersonMouseEnabled","firstPersonMouseEnabled",!1,!1,[this,"firstPersonMouseEnabled"]),new d.NumberProperty("firstPersonWalkingSpeed","运动速度，m/ms 米/毫秒",!1,!1,[this,"firstPersonWalkingSpeed"]),new d.BooleanProperty("firstPersonAlwaysWithCamera","firstPersonAlwaysWithCamera",!1,!1,[this,"firstPersonAlwaysWithCamera"]),new d.JsonProperty("firstPersonKeyStatusMap","firstPersonKeyStatusMap",!1,!1,[this,"firstPersonKeyStatusMap"],void 0,t.firstPersonKeyStatusMapReadMe)]),new d.GroupProperty("Inspector","Inspector",[new d.BooleanProperty("showCesiumInspector","showCesiumInspector",!0,!1,[this,"showCesiumInspector"],n.showCesiumInspector),new d.BooleanProperty("cesiumInspectorWireframe","cesiumInspectorWireframe",!0,!1,[this,"cesiumInspectorWireframe"],n.cesiumInspectorWireframe),new d.BooleanProperty("showCesium3DTilesInspector","showCesium3DTilesInspector",!0,!1,[this,"showCesium3DTilesInspector"],n.showCesium3DTilesInspector)])])],!1)},t.prototype.getCameraInfo=function(){if(this.viewer){var e=this.viewer.camera;return{position:(0,v.getCameraPosition)(e),rotation:(0,v.getCameraRotation)(e)}}},t.prototype.calcFlyToParam=function(e){if(this.getCameraInfo()&&this.viewer){var t=this.viewer.camera;t.positionWC;var n=(0,g.positionToCartesian)(e),r=y.Cartesian3.distance(t.positionWC,n),o=(0,v.getCameraRotation)(t),i=y.Cartesian3.subtract(n,t.positionWC,new y.Cartesian3);y.Cartesian3.normalize(i,i);var a=y.Cartesian3.cross(i,t.upWC,new y.Cartesian3);y.Cartesian3.normalize(a,a);var s=y.Cartesian3.cross(t.upWC,a,new y.Cartesian3);y.Cartesian3.normalize(s,s);var l=Math.acos((0,m.clamp)(y.Cartesian3.dot(s,i),0,1)),u=y.Cartesian3.cross(s,i,new y.Cartesian3);y.Cartesian3.normalize(u,u),y.Cartesian3.dot(a,u)>0&&(l=-l);var c=Math.acos((0,m.clamp)(y.Cartesian3.dot(s,t.directionWC),0,1)),p=y.Cartesian3.cross(s,t.directionWC,new y.Cartesian3);return y.Cartesian3.normalize(p,p),y.Cartesian3.dot(p,t.upWC)<0&&(c=-c),{distance:r,heading:o[0],pitch:o[1],flyDuration:0,hDelta:180*c/Math.PI,pDelta:180*l/Math.PI}}},t.prototype.flyTo=function(e,t,n,r,o,i){var a,s=null===(a=this.viewer)||void 0===a?void 0:a.camera;return s&&(0,v.czmFlyTo)(s,{position:e,viewDistance:t,rotation:n,duration:r,hdelta:o,pdelta:i})},t.prototype.capture=function(e,t,n){if(this.viewer)return(0,g.capture)(this.viewer.scene,e,t,n);console.warn("当前viewer还未初始化，无法截屏！")},t.prototype.pickGlobePosition=function(e){if(this.viewer)if(Array.isArray(e)&&2===e.length){var t=p(e,2),n=t[0],r=t[1],o=this.viewer.camera.getPickRay(new y.Cartesian2(n,r));if(o){var i=this.viewer.scene.globe.pick(o,this.viewer.scene);if(i){var a=y.Cartographic.fromCartesian(i);return[180*a.longitude/Math.PI,180*a.latitude/Math.PI,a.height]}console.log("this.viewer.scene.globe.pick undefined")}else console.log("this.viewer.camera.getPickRay error")}else console.error("pickPosition error: windowPos is not an array or length is not 2");else console.error("pickPosition error: !this.viewer")},t.prototype.pick=function(e,t){if(this.extensions)if(Array.isArray(e)&&2===e.length){var n=this.extensions.pickingManager;if(n)return n.pick(e,void 0,t)}else console.error("pick error: windowPos is not an array or length is not 2");else console.warn("pick warn: !this.extensions")},t.prototype.pickPosition=function(e){if(this.extensions)if(Array.isArray(e)&&2===e.length){var t=this.extensions.pickingManager;if(t)return t.pickPosition(e)}else console.error("pickPosition error: windowPos is not an array or length is not 2");else console.warn("pick warn: !this.extensions")},t.prototype.pickEllipsoid=function(e){var t=this.viewer;if(t)if(Array.isArray(e)&&2===e.length){var n=p(e,2),r=n[0],o=n[1],i=t.scene.camera.pickEllipsoid(new y.Cartesian2(r,o),t.scene.globe.ellipsoid);if(i){var a=y.Cartographic.fromCartesian(i);return[180*a.longitude/Math.PI,180*a.latitude/Math.PI,a.height]}console.log("viewer.scene.camera.pickEllipsoid undefined")}else console.error("pickEllipsoid error: windowPos is not an array or length is not 2")},t.prototype.changeNavigationMode=function(e,t,n,r,o,i){if(this.navigationMode=e,"Line"===e&&n){var a=d.ESSceneObject.getSceneObjById(n);if(!a)return;var s=a.points;if(!s)return;this.geoPolylinePathCameraController.positions=f([],p(s),!1),this.geoPolylinePathCameraController.speed=r,this.geoPolylinePathCameraController.loop=i,this.geoPolylinePathCameraController.offsetHeight=o,this.geoPolylinePathCameraController.playing=!0,this.geoPolylinePathCameraController.show=!0,this.geoPolylinePathCameraController.enabled||(this.geoPolylinePathCameraController.enabled=!0)}else this.geoPolylinePathCameraController.enabled=!1,this.geoPolylinePathCameraController.playing=!1,this.geoPolylinePathCameraController.show=!1,this.geoPolylinePathCameraController.currentTime=0},t.prototype.getTerrainHeight=function(e){var n=this.viewer;if(n){var r=y.Cartographic.fromDegrees(e[0],e[1],e[2],t.getHeightsScartchCarto);return n.scene.globe.getHeight(r)}},t.prototype.getViewDistance=function(e){var t=this.getCameraInfo();if(t)return(0,d.cartesianDistance)(t.position,e)},n=t,t.type=n.register("CzmViewer",n,{chsName:"Cesium视口",tags:["CzmViewer"],description:"通过Cesium实现的三维地球视口。"}),t.defaultCreateCesiumViewerFunc=O.defaultCreateCesiumViewerFunc,t.getCesiumIonToken=S.getCesiumIonToken,t.defaults=i(i({},d.Viewer.defaults),{ionAccessToken:y.Ion.defaultAccessToken,flashLighting:!1,resolutionScale:1,msaaSamples:1,sceneSplitPosition:0,sceneGlobeShow:!0,sceneGlobeDepthTestAgainstTerrain:!1,sceneGlobeEnableLighting:!1,sceneGlobeShadows:"RECEIVE_ONLY",sceneGlobeTerrainExaggeration:1,sceneGlobeUndergroundColor:[0,0,0,1],sceneGlobeUndergroundColorAlphaByDistance:[6378.137,0,1275627.4,1],sceneGlobeTranslucencyEnabled:!1,sceneGlobeTranslucencyBackFaceAlpha:1,sceneGlobeTranslucencyBackFaceAlphaByDistance:[6378.137,0,1275627.4,1],sceneGlobeTranslucencyFrontFaceAlpha:1,sceneGlobeTranslucencyFrontFaceAlphaByDistance:[6378.137,0,1275627.4,1],sceneGlobeTranslucencyRectangle:[-3.141592653589793,-1.5707963267948966,3.141592653589793,1.5707963267948966].map((function(e){return 180*e/Math.PI})),sceneSunShow:!0,sceneSunGlowFactor:1,sceneMoonShow:!0,sceneMoonTextureUrl:"${czm-path}/Assets/Textures/moonSmall.jpg",sceneMoonOnlySunLighting:!0,sceneSkyBoxSources:{positiveX:"${czm-path}/Assets/Textures/SkyBox/tycho2t3_80_px.jpg",negativeX:"${czm-path}/Assets/Textures/SkyBox/tycho2t3_80_mx.jpg",positiveY:"${czm-path}/Assets/Textures/SkyBox/tycho2t3_80_py.jpg",negativeY:"${czm-path}/Assets/Textures/SkyBox/tycho2t3_80_my.jpg",positiveZ:"${czm-path}/Assets/Textures/SkyBox/tycho2t3_80_pz.jpg",negativeZ:"${czm-path}/Assets/Textures/SkyBox/tycho2t3_80_mz.jpg"},xbsjLocalBoxSources:{positiveX:"${scene-manager-script-dir}/xe2-assets/scene-manager/images/skybox/east.jpg",negativeX:"${scene-manager-script-dir}/xe2-assets/scene-manager/images/skybox/west.jpg",positiveY:"${scene-manager-script-dir}/xe2-assets/scene-manager/images/skybox/bottom.jpg",negativeY:"${scene-manager-script-dir}/xe2-assets/scene-manager/images/skybox/top.jpg",positiveZ:"${scene-manager-script-dir}/xe2-assets/scene-manager/images/skybox/north.jpg",negativeZ:"${scene-manager-script-dir}/xe2-assets/scene-manager/images/skybox/south.jpg"},sceneFogEnabled:!0,sceneFogDensity:2e-4,sceneFogScreenSpaceErrorFactor:2,sceneFogMinimumBrightness:.03,sceneSsccEnableInputs:!0,sceneSsccEnableCollisionDetection:!0,scenePpsfxaaEnabled:!0,sceneDebugShowFramesPerSecond:!1,sceneDebugShowCommands:!1,sceneDebugShowFrustums:!1,sceneDebugShowFrustumPlanes:!1,sceneDebugShowDepthFrustum:1,showCesiumInspector:!1,cesiumInspectorWireframe:!1,showCesium3DTilesInspector:!1,clockCurrentTime:y.JulianDate.toDate(y.JulianDate.now()).getTime()}),t.firstPersonKeyStatusMapReadMe='\n    # keyCode\n    按键Code可以参见这里:  \n    https://developer.mozilla.org/zh-CN/docs/Web/API/KeyboardEvent/code  \n    # CameraActionType \n    相机动作类型目前定义有以下若干种： \n    WithCamera / MoveForward / MoveBackword / MoveRight / MoveLeft / MoveUp / MoveDown / SpeedUp / SpeedDown / SwitchAlwaysWithCamera /  \n    # 示例代码\n    ```\n    {\n        "ShiftLeft": "WithCamera",\n        "ShiftRight": "WithCamera",\n        "KeyW": "MoveForward",\n        "KeyS": "MoveBackword",\n        "KeyA": "MoveLeft",\n        "KeyD": "MoveRight",\n        "ArrowUp": "MoveForward",\n        "ArrowDown": "MoveBackword",\n        "ArrowLeft": "MoveLeft",\n        "ArrowRight": "MoveRight",\n        "KeyR": "SpeedUp",\n        "KeyF": "SpeedDown",\n        "KeyQ": "SwitchAlwaysWithCamera"\n    }\n    ```\n    ',t.getHeightsScartchCarto=new y.Cartographic,t}(d.Viewer);t.CzmViewer=j,function(e){e.createDefaultProps=function(){return i(i({},d.Viewer.createDefaultProps()),{createCesiumViewerFuncStr:void 0,ionAccessToken:void 0,flashLighting:void 0,resolutionScale:void 0,msaaSamples:void 0,shadows:!1,sceneSplitPosition:void 0,sceneGlobeShow:void 0,sceneGlobeDepthTestAgainstTerrain:void 0,sceneGlobeEnableLighting:void 0,sceneGlobeShadows:void 0,sceneGlobeTerrainExaggeration:1,sceneGlobeTerrainExaggerationRelativeHeight:0,sceneGlobeBackFaceCulling:!0,sceneGlobeShowSkirts:!0,sceneGlobeShowWaterEffect:!0,sceneGlobeBaseColor:(0,h.reactArray)([0,0,1,0]),sceneGlobeCartographicLimitRectangle:(0,h.reactArray)([-180,-90,180,90]),sceneGlobeClippingPlanes:(0,h.reactJson)(void 0),sceneGlobeUndergroundColor:(0,h.reactArrayWithUndefined)(void 0),sceneGlobeUndergroundColorAlphaByDistance:(0,h.reactArrayWithUndefined)(void 0),sceneGlobeTranslucencyEnabled:void 0,sceneGlobeTranslucencyBackFaceAlpha:void 0,sceneGlobeTranslucencyBackFaceAlphaByDistance:(0,h.reactArrayWithUndefined)(void 0),sceneGlobeTranslucencyFrontFaceAlpha:void 0,sceneGlobeTranslucencyFrontFaceAlphaByDistance:(0,h.reactArrayWithUndefined)(void 0),sceneGlobeTranslucencyRectangle:(0,h.reactArrayWithUndefined)(void 0),sceneSunShow:void 0,sceneSunGlowFactor:void 0,sceneMoonShow:void 0,sceneMoonTextureUrl:void 0,sceneMoonOnlySunLighting:void 0,sceneSkyBoxShow:!0,sceneSkyBoxSources:(0,h.reactJson)(e.defaults.sceneSkyBoxSources),xbsjUseBackground:!1,xbsjBackgroundImageUri:"",xbsjBackgroundColor:(0,h.reactArray)([1,1,1,1]),sceneSkyAtmosphereShow:!0,xbsjLocalBoxSources:(0,h.reactJsonWithUndefined)(void 0),sceneFogEnabled:void 0,sceneFogDensity:void 0,sceneFogScreenSpaceErrorFactor:void 0,sceneFogMinimumBrightness:void 0,sceneSsccEnableInputs:void 0,sceneSsccEnableCollisionDetection:void 0,scenePpsfxaaEnabled:void 0,scenePpsAmbientOcclusionEnabled:!1,scenePpsAmbientOcclusionAmbientOcclusionOnly:!1,scenePpsAmbientOcclusionIntensity:3,scenePpsAmbientOcclusionBias:.1,scenePpsAmbientOcclusionLengthCap:.03,scenePpsAmbientOcclusionStepSize:1,scenePpsAmbientOcclusionBlurStepSize:.86,scenePpsBloomEnabled:!1,scenePpsBloomGlowOnly:!1,scenePpsBloomContrast:128,scenePpsBloomBrightness:-.3,scenePpsBloomDelta:1,scenePpsBloomSigma:3.78,scenePpsBloomStepSize:5,sceneDebugShowFramesPerSecond:void 0,sceneDebugShowCommands:void 0,sceneDebugShowFrustums:void 0,sceneDebugShowFrustumPlanes:void 0,sceneDebugShowDepthFrustum:void 0,showCesiumInspector:void 0,cesiumInspectorWireframe:void 0,showCesium3DTilesInspector:void 0,navigationMode:"Map",firstPersonKeyboardEnabled:!1,firstPersonMouseEnabled:!1,firstPersonWalkingSpeed:1,firstPersonAlwaysWithCamera:!1,firstPersonKeyStatusMap:(0,h.reactJson)(g.KeyboardCameraController.defaultKeyStatusMap),clockCurrentTime:Date.now()})}}(j=t.CzmViewer||(t.CzmViewer={})),t.CzmViewer=j,(0,h.extendClassProps)(j.prototype,j.createDefaultProps)},94318:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fixForCesium1_83=void 0,t.fixForCesium1_83=function(){try{Cesium.SplitDirection=Cesium.SplitDirection||Cesium.ImagerySplitDirection}catch(e){}}},68821:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(2003)),s=n(69767),l=n(94318);(0,s.fixCameraFlight)(),(0,s.fixCameraLook)(),(0,s.fixDepthPlane)(),(0,l.fixForCesium1_83)(),(0,s.fixGoogleEarth)(),(0,s.fixLocalFile)(),(0,s.fixModelInitialRadius)(),(0,s.fixCesiumForGlobelLevel)(),a.Camera.DEFAULT_VIEW_RECTANGLE=a.Rectangle.fromDegrees(70,5,140,55)},96596:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},u=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.getZoomFromResolution=t.getCenterResolution=void 0;var c=i(n(2003));t.getCenterResolution=function(e){return a(this,void 0,void 0,(function(){var t,n,r,o,i,a,p,f,d,h,y,g,m;return s(this,(function(s){switch(s.label){case 0:return(t=e.viewer)?(n=t.canvas,r=n.width,o=n.height,(i=e.pickPosition([.5*r,.5*o]))?[4,i]:[2,void 0]):[2,void 0];case 1:return(a=s.sent())&&(p=(m=c.Cartesian3).fromDegrees.apply(m,u([],l(a),!1)))?(f=t.camera.positionWC,d=t.camera.directionWC,void 0===(h=t.camera.frustum.fovy)?[2,void 0]:(y=t.canvas.height,g=function(e,t,n,r,o){var i=c.Cartesian3.subtract(e,n,new c.Cartesian3),a=c.Cartesian3.dot(i,t);if(!(a<=0))return a*Math.tan(.5*r)*2/o}(p,d,f,h,y),[2,[g,a]])):[2,void 0]}}))}))};var p=2*c.Ellipsoid.WGS84.maximumRadius*Math.PI/512;t.getZoomFromResolution=function(e){return-Math.log2(e/p)}},75125:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(40984),t),o(n(21318),t)},10688:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCityBasePoint=void 0;var l=n(43938),u=n(98799),c=n(43938),p=n(19239),f=n(73911),d=function(e){function t(n){var r=e.call(this,n)||this;r._flyToEvent=r.disposeVar(new p.Event),r._pickedEvent=r.disposeVar(new p.Event),r._circleCustomPrimitive=r.disposeVar(new u.CzmCustomPrimitive),r._cylinderCustomPrimitive=r.disposeVar(new u.CzmCustomPrimitive),r._cylinderParticlesCustomPrimitive=r.disposeVar(new u.CzmCustomPrimitive);var o=r.circleCustomPrimitive;r.dispose(r.components.disposableAdd(o)),(0,f.setRectangleGeometry)(o,{width:120,height:120}),o.fragmentShaderSource="\n                in vec2 v_st;\n                uniform vec4 u_color;\n                void main()\n                {\n                    float d = length(v_st);\n                    float movingCircleD = fract(czm_frameNumber / 130.0);\n                    float alpha = step(d, .1) + step(.4, d) * step(d, .45) + step(.9, d) * step(d, 1.) + d * d * step(d, 1.);\n                    alpha += step(movingCircleD, d) * step(d, movingCircleD + .01);\n                    out_FragColor = vec4(u_color.rgb, alpha);\n                }\n            ";var i=r.cylinderCustomPrimitive;r.dispose(r.components.disposableAdd(i)),(0,f.setCylinderGeometry)(i,{segments:36,startRadius:10,stopRadius:2,height:260}),i.fragmentShaderSource="\n                in vec2 v_st;\n                uniform vec4 u_color;\n                void main()\n                {\n                    float powerRatio = fract(czm_frameNumber / 30.0) + 1.0;\n                    float alpha = pow(1.0 - v_st.t, powerRatio);\n                    out_FragColor = vec4(u_color.rgb, alpha*u_color.a);\n                }\n            ";var a=r.cylinderParticlesCustomPrimitive;r.dispose(r.components.disposableAdd(a)),(0,f.setCylinderGeometry)(a,{segments:36,startRadius:20,stopRadius:4,height:230}),a.uniformMap={u_color:[1,1,0,2],u_image:{type:"image",uri:t.defaultParticlesImageUri}},a.fragmentShaderSource="\n                in vec2 v_st;\n                uniform sampler2D u_image;\n                uniform vec4 u_color;\n                void main()\n                {\n                    float dt = fract(czm_frameNumber / 90.0);\n                    vec2 st = fract(vec2(1.0) + v_st - vec2(dt, dt));\n                    vec4 imageColor = texture(u_image, st);\n                    out_FragColor = imageColor * u_color;\n                    out_FragColor.a *= smoothstep(1., 0.8, v_st.t);\n                }\n            ",r.dispose((0,p.track)([o,"show"],[r,"show"])),r.dispose((0,p.track)([i,"show"],[r,"show"])),r.dispose((0,p.track)([a,"show"],[r,"show"])),r.dispose((0,p.track)([o,"position"],[r,"position"])),r.dispose((0,p.track)([i,"position"],[r,"position"])),r.dispose((0,p.track)([a,"position"],[r,"position"]));var s=r.disposeVar((0,l.createPositionEditingRefForComponent)([r,"position"],r.components));r.dispose((0,p.bind)(s,[r,"positionEditing"])),r.dispose((0,p.track)([o,"scale"],[r,"scale"])),r.dispose((0,p.track)([i,"scale"],[r,"scale"])),r.dispose((0,p.track)([a,"scale"],[r,"scale"]));var d={type:"image",uri:t.defaultParticlesImageUri},h=function(){var e,t,n;o.uniformMap={u_color:null!==(e=r.color)&&void 0!==e?e:[1,1,0,2]},i.uniformMap={u_color:null!==(t=r.color)&&void 0!==t?t:[1,1,0,2]},a.uniformMap={u_color:null!==(n=r.color)&&void 0!==n?n:[1,1,0,2],u_image:d}};return h(),r.dispose(r.colorChanged.disposableOn(h)),r.dispose(r.flyToEvent.disposableOn((function(e){i.flyTo(e)}))),r.dispose(o.pickedEvent.disposableOn((function(e){return r.pickedEvent.emit(new c.SceneObjectPickedInfo(r,e))}))),r.dispose(i.pickedEvent.disposableOn((function(e){return r.pickedEvent.emit(new c.SceneObjectPickedInfo(r,e))}))),r.dispose(a.pickedEvent.disposableOn((function(e){return r.pickedEvent.emit(new c.SceneObjectPickedInfo(r,e))}))),r.dispose((0,p.track)([o,"allowPicking"],[r,"allowPicking"])),r.dispose((0,p.track)([i,"allowPicking"],[r,"allowPicking"])),r.dispose((0,p.track)([a,"allowPicking"],[r,"allowPicking"])),r}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmCityBasePoint"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return i(i({},t.createDefaultProps()),y)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"circleCustomPrimitive",{get:function(){return this._circleCustomPrimitive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cylinderCustomPrimitive",{get:function(){return this._cylinderCustomPrimitive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cylinderParticlesCustomPrimitive",{get:function(){return this._cylinderParticlesCustomPrimitive},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(t){return s(s([],a(e.prototype.getProperties.call(this,t)),!1),[new c.GroupProperty("通用","通用",[new c.BooleanProperty("是否可见","是否可见",!0,!1,[this,"show"],!0),new c.PositionProperty("位置","位置",!0,!1,[this,"position"]),new c.BooleanProperty("位置编辑","位置编辑",!0,!1,[this,"positionEditing"],!1),new c.Number3Property("缩放","缩放",!0,!1,[this,"scale"],[1,1,1]),new c.ColorProperty("颜色","颜色",!0,!1,[this,"color"],[1,1,0,1])])],!1)},n=t,t.type=n.register("CzmCityBasePoint",n,{chsName:"城市基点(Czm)",tags:["CzmObjects","CityObjects","_ES_Impl_Cesium"],description:"城市基点(Czm)"}),t.defaultParticlesImageUri="${xe2-ue-objects-script-dir}/xe2-assets/xe2-objects/city/images/particles.png",t}(c.ESSceneObject);t.CzmCityBasePoint=d;var h={},y=(0,c.getDefaultComponentProps)(h);(0,c.extendComponentProps)(d.prototype,h),function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{show:void 0,position:(0,p.reactArrayWithUndefined)(void 0),positionEditing:void 0,scale:(0,p.reactArrayWithUndefined)(void 0),color:(0,p.reactArrayWithUndefined)(void 0),allowPicking:void 0})}}(d=t.CzmCityBasePoint||(t.CzmCityBasePoint={})),t.CzmCityBasePoint=d,(0,p.extendClassProps)(d.prototype,d.createDefaultProps)},36661:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CzmCityCylinderBillboard=void 0;var l=n(98799),u=n(43938),c=n(43938),p=n(19239),f=n(10070),d=n(73911),h=function(e){function t(n){var r,o=this;(o=e.call(this,n)||this)._flyToEvent=o.disposeVar(new p.Event),o._pickedEvent=o.disposeVar(new p.Event),o._cylinderCustomPrimitive=o.disposeVar(new l.CzmCustomPrimitive);var i=o.cylinderCustomPrimitive;o.dispose(o.components.disposableAdd(i));var a=function(){var e,t,n=(null!==(e=o.circumference)&&void 0!==e?e:200)/(2*Math.PI);(0,d.setCylinderGeometry)(i,{segments:36,startRadius:n,stopRadius:n,height:null!==(t=o.height)&&void 0!==t?t:100})};a();var s=o.disposeVar((0,p.createNextAnimateFrameEvent)(o.circumferenceChanged,o.heightChanged));o.dispose(s.disposableOn(a)),o.dispose((0,p.track)([i,"show"],[o,"show"])),o.dispose((0,p.track)([i,"position"],[o,"position"]));var h=o.disposeVar((0,u.createPositionEditingRefForComponent)([o,"position"],o.components));o.dispose((0,p.bind)(h,[o,"positionEditing"])),o.dispose((0,p.track)([i,"scale"],[o,"scale"]));var y={type:"image",uri:null!==(r=o.imageUri)&&void 0!==r?r:t.defaultImageUri};a=function(){var e;i.uniformMap={u_color:null!==(e=o.color)&&void 0!==e?e:[1,1,0,2],u_image:y}},a(),s=o.disposeVar((0,p.createNextAnimateFrameEvent)(o.colorChanged,o.imageUriChanged)),o.dispose(s.disposableOn(a)),o.dispose(o.flyToEvent.disposableOn((function(e){i.flyTo(e)}))),o.dispose(i.pickedEvent.disposableOn((function(e){return o.pickedEvent.emit(new c.SceneObjectPickedInfo(o,e))}))),o.dispose((0,p.track)([i,"allowPicking"],[o,"allowPicking"]));var g=o.disposeVar((0,f.createAnimateFrameWithStartValues)((function(e){var t,n=.001*e*(null!==(t=o.rotationSpeed)&&void 0!==t?t:10);n=(n%=360)<0?n+360:n,i.rotation=[n,0,0]})));return g.restart(),o}var n;return o(t,e),Object.defineProperty(t.prototype,"typeName",{get:function(){return"CzmCityCylinderBillboard"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultProps",{get:function(){return i(i({},t.createDefaultProps()),g)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){return this._innerGetJson()},set:function(e){this._innerSetJson(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),t.prototype.flyTo=function(e){this._flyToEvent.emit(e)},Object.defineProperty(t.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cylinderCustomPrimitive",{get:function(){return this._cylinderCustomPrimitive},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(n){return s(s([],a(e.prototype.getProperties.call(this,n)),!1),[new c.GroupProperty("通用","通用",[new c.BooleanProperty("是否可见","是否可见",!0,!1,[this,"show"],!0),new c.PositionProperty("位置","位置",!0,!1,[this,"position"]),new c.BooleanProperty("位置编辑","位置编辑",!0,!1,[this,"positionEditing"],!1),new c.Number3Property("缩放","缩放",!0,!1,[this,"scale"],[1,1,1]),new c.ColorProperty("颜色","颜色",!0,!1,[this,"color"],[1,1,0,1]),new c.StringProperty("图片路径","图片路径",!0,!1,[this,"imageUri"],t.defaultImageUri),new c.NumberProperty("周长","周长，注意单位是米, 默认200米",!0,!1,[this,"circumference"],200),new c.NumberProperty("高度","高度，注意单位是米，默认100米",!0,!1,[this,"height"],100),new c.NumberProperty("旋转速度","旋转速度，度/秒",!0,!1,[this,"rotationSpeed"],10)])],!1)},n=t,t.type=n.register("CzmCityCylinderBillboard",n,{chsName:"城市环形广告牌(Czm)",tags:["CzmObjects","CityObjects","_ES_Impl_Cesium"],description:"城市环形广告牌(Czm)"}),t.defaultImageUri="${xe2-ue-objects-script-dir}/xe2-assets/xe2-objects/city/images/circular2.png",t}(c.ESSceneObject);t.CzmCityCylinderBillboard=h;var y={},g=(0,c.getDefaultComponentProps)(y);(0,c.extendComponentProps)(h.prototype,y),function(e){e.createDefaultProps=function(){return i(i({},c.ESSceneObject.createDefaultProps()),{show:void 0,position:(0,p.reactArrayWithUndefined)(void 0),positionEditing:void 0,scale:(0,p.reactArrayWithUndefined)(void 0),color:(0,p.reactArrayWithUndefined)(void 0),allowPicking:void 0,imageUri:void 0,circumference:void 0,height:void 0,rotationSpeed:void 0})}}(h=t.CzmCityCylinderBillboard||(t.CzmCityCylinderBillboard={})),t.CzmCityCylinderBillboard=h,(0,p.extendClassProps)(h.prototype,h.createDefaultProps)},37057:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(10688),t),o(n(36661),t)},60401:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(37057),t),o(n(61018),t)},61018:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},50123:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMinMaxPosition=void 0;var r=n(19239);t.getMinMaxPosition=function(e){return{minPos:[(0,r.min)((0,r.objsIterator)(e,["0"])),(0,r.min)((0,r.objsIterator)(e,["1"])),(0,r.min)((0,r.objsIterator)(e,["2"]))],maxPos:[(0,r.max)((0,r.objsIterator)(e,["0"])),(0,r.max)((0,r.objsIterator)(e,["1"])),(0,r.max)((0,r.objsIterator)(e,["2"]))]}}},73911:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(50123),t),o(n(82186),t),o(n(83898),t)},82186:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.setCylinderGeometry=void 0;var i=n(50123);t.setCylinderGeometry=function(e,t){var n=360/t.segments,a=Math.PI/180*n,s=Math.floor(360/n),l=t.startRadius,u=t.stopRadius,c=t.height,p=o([],r(new Array(s+1).keys()),!1),f=p.map((function(e){return e*a})).map((function(e){return[l*Math.cos(e),l*Math.sin(e),0]})),d=p.map((function(e){return e*a})).map((function(e){return[u*Math.cos(e),u*Math.sin(e),c]})),h=o(o([],r(f),!1),r(d),!1),y=(0,i.getMinMaxPosition)(h),g=y.minPos,m=y.maxPos;e.boundingVolume={type:"LocalAxisedBoundingBox",data:{min:g,max:m}};var v=p.map((function(e){return[0,1,0]})).flat(),b=p.map((function(e){return[e/s,0]})).flat(),_=p.map((function(e){return[e/s,1]})).flat();e.attributes={position:{componentsPerAttribute:3,typedArray:new Float32Array(h.flat())},normal:{componentsPerAttribute:3,typedArray:new Float32Array(o(o([],r(v),!1),r(v),!1))},textureCoordinates:{componentsPerAttribute:2,typedArray:new Float32Array(o(o([],r(b),!1),r(_),!1))}};var w=o([],r(new Array(s).keys()),!1),P=w.map((function(e){return[e,e+s+1,e+s+2,e,e+s+2,e+1]})),C=w.map((function(e){return[e,e+s+2,e+s+1,e,e+1,e+s+2]})),O=o(o([],r(P),!1),r(C),!1).flat();e.indexTypedArray=new Uint16Array(O)}},83898:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRectangleGeometry=void 0,t.setRectangleGeometry=function(e,t){var n=t.width,r=t.height;e.boundingVolume={type:"LocalAxisedBoundingBox",data:{min:[.5*-n,.5*-r,0],max:[.5*n,.5*r,0]}},e.attributes={position:{componentsPerAttribute:3,typedArray:new Float32Array([-.5*n,-.5*r,0,.5*n,-.5*r,0,.5*n,.5*r,0,-.5*n,.5*r,0])},normal:{componentsPerAttribute:3,typedArray:new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1])},textureCoordinates:{componentsPerAttribute:2,typedArray:new Float32Array([-1,-1,1,-1,1,1,-1,1])}},e.indexTypedArray=new Uint16Array([0,1,2,0,2,3])}},24567:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),(0,n(10070).registerScript)(),o(n(99256),t),o(n(75125),t),o(n(98799),t),o(n(60401),t),window.XE2CZM=window.Cesium},24352:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BDImageryProvider:()=>l});var r=n(84853);function o(e,t){this.x=e||0,this.y=t||0,this.x=this.x,this.y=this.y}function i(e,t){isNaN(e)&&(e=decode64(e),e=isNaN(e)?0:e),"string"==typeof e&&(e=parseFloat(e)),isNaN(t)&&(t=decode64(t),t=isNaN(t)?0:t),"lat"==typeof e&&(t=parseFloat(t)),this.lng=e,this.lat=t}function a(){}function s(e){e=e||{},this._ellipsoid=Cesium.defaultValue(e.ellipsoid,Cesium.Ellipsoid.WGS84);var t=!0;Cesium.defined(e.wgs84)&&(t=e.wgs84),this._projection=new Cesium.WebMercatorProjection(this._ellipsoid);var n=new a;this._projection.project=function(e){var o={};return t?(o=r.wgs84togcj02(Cesium.Math.toDegrees(e.longitude),Cesium.Math.toDegrees(e.latitude)),o=r.gcj02tobd09(o[0],o[1])):o=r.gcj02tobd09(Cesium.Math.toDegrees(e.longitude),Cesium.Math.toDegrees(e.latitude)),o[0]=Math.min(o[0],180),o[0]=Math.max(o[0],-180),o[1]=Math.min(o[1],74.000022),o[1]=Math.max(o[1],-71.988531),o=n.lngLatToPoint(new i(o[0],o[1])),new Cesium.Cartesian2(o.x,o.y)},this._projection.unproject=function(e){var o=n.mercatorToLngLat(new i(e.x,e.y));return o[0]=(o[0]+180)%360-180,t?(o=r.bd09togcj02(o.lng,o.lat),o=r.gcj02towgs84(o[0],o[1])):o=r.bd09togcj02(o.lng,o.lat),new Cesium.Cartographic(Cesium.Math.toRadians(o[0]),Cesium.Math.toRadians(o[1]))},this._rectangleSouthwestInMeters=new Cesium.Cartesian2(-20037726.37,-11708041.66),this._rectangleNortheastInMeters=new Cesium.Cartesian2(20037726.37,12474104.17);var o=this._projection.unproject(this._rectangleSouthwestInMeters),s=this._projection.unproject(this._rectangleNortheastInMeters);this._rectangle=new Cesium.Rectangle(o.longitude,o.latitude,s.longitude,s.latitude),this.levelWidth=[];for(var l=0;l<19;l++)this.levelWidth[l]=256*Math.pow(2,18-l)}function l(e){this._url=e.url||"http://online2.map.bdimg.com/onlinelabel/?qt=tile&styles=pl&x={x}&y={y}&z={z}",this._tileWidth=256,this._tileHeight=256,this._maximumLevel=18,this._tilingScheme=new s(e),this._credit=void 0,this._rectangle=this._tilingScheme.rectangle,this._ready=!0}o.prototype.equals=function(e){return e&&e.x==this.x&&e.y==this.y},i.isInRange=function(e){return e&&e.lng<=180&&e.lng>=-180&&e.lat<=74&&e.lat>=-74},i.prototype.equals=function(e){return e&&this.lat==e.lat&&this.lng==e.lng},a.EARTHRADIUS=6370996.81,a.MCBAND=[12890594.86,8362377.87,5591021,3481989.83,1678043.12,0],a.LLBAND=[75,60,45,30,15,0],a.MC2LL=[[1.410526172116255e-8,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,17337981.2],[-7.435856389565537e-9,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,10260144.86],[-3.030883460898826e-8,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,6856817.37],[-1.981981304930552e-8,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,4482777.06],[3.09191371068437e-9,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,2555164.4],[2.890871144776878e-9,8983055095805407e-21,-3.068298e-8,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],a.LL2MC=[[-.0015702102444,111320.7020616939,0x60e374c3105a3,-0x24bb4115e2e164,0x5cc55543bb0ae8,-0x7ce070193f3784,0x5e7ca61ddf8150,-0x261a578d8b24d0,0x665d60f3742ca,82.5],[.0008277824516172526,111320.7020463578,647795574.6671607,-4082003173.641316,10774905663.51142,-15171875531.51559,12053065338.62167,-5124939663.577472,913311935.9512032,67.5],[.00337398766765,111320.7020202162,4481351.045890365,-23393751.19931662,79682215.47186455,-115964993.2797253,97236711.15602145,-43661946.33752821,8477230.501135234,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837.749470245,992013.7397791013,-1221952.21711287,1340652.697009075,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758.690035394,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]],a.getDistanceByMC=function(e,t){return e&&t&&(e=this.convertMC2LL(e))?(n=this.toRadians(e.lng),r=this.toRadians(e.lat),(t=this.convertMC2LL(t))?(o=this.toRadians(t.lng),i=this.toRadians(t.lat),this.getDistance(n,o,r,i)):0):0;var n,r,o,i},a.getDistanceByLL=function(e,t){return e&&t?(e.lng=this.getLoop(e.lng,-180,180),e.lat=this.getRange(e.lat,-74,74),t.lng=this.getLoop(t.lng,-180,180),t.lat=this.getRange(t.lat,-74,74),n=this.toRadians(e.lng),o=this.toRadians(e.lat),r=this.toRadians(t.lng),i=this.toRadians(t.lat),this.getDistance(n,r,o,i)):0;var n,r,o,i},a.convertMC2LL=function(e){var t,n;t=new i(Math.abs(e.lng),Math.abs(e.lat));for(var r=0;r<this.MCBAND.length;r++)if(t.lat>=this.MCBAND[r]){n=this.MC2LL[r];break}var o=this.convertor(e,n);return new i(o.lng.toFixed(6),o.lat.toFixed(6))},a.convertLL2MC=function(e){var t,n;e.lng=this.getLoop(e.lng,-180,180),e.lat=this.getRange(e.lat,-74,74),t=new i(e.lng,e.lat);for(var r=0;r<this.LLBAND.length;r++)if(t.lat>=this.LLBAND[r]){n=this.LL2MC[r];break}if(!n)for(r=this.LLBAND.length-1;r>=0;r--)if(t.lat<=-this.LLBAND[r]){n=this.LL2MC[r];break}var o=this.convertor(e,n);return new i(o.lng.toFixed(2),o.lat.toFixed(2))},a.convertor=function(e,t){if(e&&t){var n=t[0]+t[1]*Math.abs(e.lng),r=Math.abs(e.lat)/t[9],o=t[2]+t[3]*r+t[4]*r*r+t[5]*r*r*r+t[6]*r*r*r*r+t[7]*r*r*r*r*r+t[8]*r*r*r*r*r*r;return new i(n*=e.lng<0?-1:1,o*=e.lat<0?-1:1)}},a.getDistance=function(e,t,n,r){return this.EARTHRADIUS*Math.acos(Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos(t-e))},a.toRadians=function(e){return Math.PI*e/180},a.toDegrees=function(e){return 180*e/Math.PI},a.getRange=function(e,t,n){return null!=t&&(e=Math.max(e,t)),null!=n&&(e=Math.min(e,n)),e},a.getLoop=function(e,t,n){for(;e>n;)e-=n-t;for(;e<t;)e+=n-t;return e},a.prototype.lngLatToMercator=function(e){return a.convertLL2MC(e)},a.prototype.lngLatToPoint=function(e){var t=a.convertLL2MC(e);return new o(t.lng,t.lat)},a.prototype.mercatorToLngLat=function(e){return a.convertMC2LL(e)},a.prototype.PointToLngLat=function(e){var t=new i(e.x,e.y);return a.convertMC2LL(t)},a.prototype.PointToPixel=function(e,t,n,r,i){if(e){e=this.lngLatToMercator(e,i);var a=this.getZoomUnits(t);return new o(Math.round((e.lng-n.lng)/a+r[Twidth]/2),Math.round((n.lat-e.lat)/a+r[Theight]/2))}},a.prototype.PixelToPoint=function(e,t,n,r,o){if(e){var a=this.getZoomUnits(t),s=new i(n.lng+a*(e.x-r[Twidth]/2),n.lat-a*(e.y-r[Theight]/2));return this.mercatorToLngLat(s,o)}},a.prototype.getZoomUnits=function(e){return Math.pow(2,18-e)},Cesium.defineProperties(s.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},rectangle:{get:function(){return this._rectangle}},projection:{get:function(){return this._projection}}}),s.prototype.getNumberOfXTilesAtLevel=function(e){return.7*(1<<e)},s.prototype.getNumberOfYTilesAtLevel=function(e){return 1<<e},s.prototype.rectangleToNativeRectangle=function(e,t){var n=this._projection,r=n.project(Cesium.Rectangle.southwest(e)),o=n.project(Cesium.Rectangle.northeast(e));return Cesium.defined(t)?(t.west=r.x,t.south=r.y,t.east=o.x,t.north=o.y,t):new Cesium.Rectangle(r.x,r.y,o.x,o.y)},s.prototype.tileXYToNativeRectangle=function(e,t,n,r){var o=this.levelWidth[n],i=e*o,a=(e+1)*o,s=(1+(t=-t))*o,l=t*o;return Cesium.defined(r)?(r.west=i,r.south=l,r.east=a,r.north=s,r):new Cesium.Rectangle(i,l,a,s)},s.prototype.tileXYToRectangle=function(e,t,n,r){var o=this.tileXYToNativeRectangle(e,t,n,r),i=this._projection,a=i.unproject(new Cesium.Cartesian2(o.west,o.south)),s=i.unproject(new Cesium.Cartesian2(o.east,o.north));return o.west=a.longitude,o.south=a.latitude,o.east=s.longitude,o.north=s.latitude,o},s.prototype.positionToTileXY=function(e,t,n){var r=this._rectangle;if(Cesium.Rectangle.contains(r,e)){var o=this._projection.project(e);if(Cesium.defined(o)){var i=this.levelWidth[t],a=Math.floor(o.x/i),s=-Math.floor(o.y/i);return Cesium.defined(Cesium.result)?(n.x=a,n.y=s,n):new Cesium.Cartesian2(a,s)}}},Cesium.defineProperties(l.prototype,{url:{get:function(){return this._url}},token:{get:function(){return this._token}},proxy:{get:function(){return this._proxy}},tileWidth:{get:function(){if(!this._ready)throw new DeveloperError("tileWidth must not be called before the imagery provider is ready.");return this._tileWidth}},tileHeight:{get:function(){if(!this._ready)throw new DeveloperError("tileHeight must not be called before the imagery provider is ready.");return this._tileHeight}},maximumLevel:{get:function(){if(!this._ready)throw new DeveloperError("maximumLevel must not be called before the imagery provider is ready.");return this._maximumLevel}},minimumLevel:{get:function(){if(!this._ready)throw new DeveloperError("minimumLevel must not be called before the imagery provider is ready.");return 3}},tilingScheme:{get:function(){if(!this._ready)throw new DeveloperError("tilingScheme must not be called before the imagery provider is ready.");return this._tilingScheme}},rectangle:{get:function(){if(!this._ready)throw new DeveloperError("rectangle must not be called before the imagery provider is ready.");return this._rectangle}},tileDiscardPolicy:{get:function(){if(!this._ready)throw new DeveloperError("tileDiscardPolicy must not be called before the imagery provider is ready.");return this._tileDiscardPolicy}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}},credit:{get:function(){return this._credit}},usingPrecachedTiles:{get:function(){return this._useTiles}},hasAlphaChannel:{get:function(){return!0}},layers:{get:function(){return this._layers}}}),l.prototype.getTileCredits=function(e,t,n){},l.prototype.requestImage=function(e,t,n){if(!this._ready)throw new DeveloperError("requestImage must not be called before the imagery provider is ready.");var r=function(e,t,n,r){return e._url.replace("{x}",t).replace("{y}",-n).replace("{z}",r)}(this,e,t,n);return Cesium.ImageryProvider.loadImage(this,r)}},84853:(e,t,n)=>{"use strict";n.r(t),n.d(t,{bd09togcj02:()=>s,gcj02tobd09:()=>l,gcj02towgs84:()=>c,wgs84togcj02:()=>u});var r=52.35987755982988,o=3.141592653589793,i=6378245,a=.006693421622965943,s=function(e,t){var n=(e=+e)-.0065,o=(t=+t)-.006,i=Math.sqrt(n*n+o*o)-2e-5*Math.sin(o*r),a=Math.atan2(o,n)-3e-6*Math.cos(n*r);return[i*Math.cos(a),i*Math.sin(a)]},l=function(e,t){t=+t,e=+e;var n=Math.sqrt(e*e+t*t)+2e-5*Math.sin(t*r),o=Math.atan2(t,e)+3e-6*Math.cos(e*r);return[n*Math.cos(o)+.0065,n*Math.sin(o)+.006]},u=function(e,t){if(d(e=+e,t=+t))return[e,t];var n=p(e-105,t-35),r=f(e-105,t-35),s=t/180*o,l=Math.sin(s);l=1-a*l*l;var u=Math.sqrt(l);return n=180*n/(i*(1-a)/(l*u)*o),[e+(r=180*r/(i/u*Math.cos(s)*o)),t+n]},c=function(e,t){if(d(e=+e,t=+t))return[e,t];var n=p(e-105,t-35),r=f(e-105,t-35),s=t/180*o,l=Math.sin(s);l=1-a*l*l;var u=Math.sqrt(l);return n=180*n/(i*(1-a)/(l*u)*o),[2*e-(e+(r=180*r/(i/u*Math.cos(s)*o))),2*t-(t+n)]},p=function(e,t){var n=2*(e=+e)-100+3*(t=+t)+.2*t*t+.1*e*t+.2*Math.sqrt(Math.abs(e));return n+=2*(20*Math.sin(6*e*o)+20*Math.sin(2*e*o))/3,(n+=2*(20*Math.sin(t*o)+40*Math.sin(t/3*o))/3)+2*(160*Math.sin(t/12*o)+320*Math.sin(t*o/30))/3},f=function(e,t){var n=300+(e=+e)+2*(t=+t)+.1*e*e+.1*e*t+.1*Math.sqrt(Math.abs(e));return n+=2*(20*Math.sin(6*e*o)+20*Math.sin(2*e*o))/3,(n+=2*(20*Math.sin(e*o)+40*Math.sin(e/3*o))/3)+2*(150*Math.sin(e/12*o)+300*Math.sin(e/30*o))/3},d=function(e,t){return t=+t,!((e=+e)>73.66&&e<135.05&&t>3.86&&t<53.55)}},61630:function(e,t,n){var r,o,i;i=function(){var e,t={defaultRadius:40,defaultRenderer:"canvas2d",defaultGradient:{.25:"rgb(0,0,255)",.55:"rgb(0,255,0)",.85:"yellow",1:"rgb(255,0,0)"},defaultMaxOpacity:1,defaultMinOpacity:0,defaultBlur:.85,defaultXField:"x",defaultYField:"y",defaultValueField:"value",plugins:{}},n=function(){var e=function(e){this._coordinator={},this._data=[],this._radi=[],this._min=10,this._max=1,this._xField=e.xField||e.defaultXField,this._yField=e.yField||e.defaultYField,this._valueField=e.valueField||e.defaultValueField,e.radius&&(this._cfgRadius=e.radius)},n=t.defaultRadius;return e.prototype={_organiseData:function(e,t){var r=e[this._xField],o=e[this._yField],i=this._radi,a=this._data,s=this._max,l=this._min,u=e[this._valueField]||1,c=e.radius||this._cfgRadius||n;a[r]||(a[r]=[],i[r]=[]),a[r][o]?a[r][o]+=u:(a[r][o]=u,i[r][o]=c);var p=a[r][o];return p>s?(t?this.setDataMax(p):this._max=p,!1):p<l?(t?this.setDataMin(p):this._min=p,!1):{x:r,y:o,value:u,radius:c,min:l,max:s}},_unOrganizeData:function(){var e=[],t=this._data,n=this._radi;for(var r in t)for(var o in t[r])e.push({x:r,y:o,radius:n[r][o],value:t[r][o]});return{min:this._min,max:this._max,data:e}},_onExtremaChange:function(){this._coordinator.emit("extremachange",{min:this._min,max:this._max})},addData:function(){if(arguments[0].length>0)for(var e=arguments[0],t=e.length;t--;)this.addData.call(this,e[t]);else{var n=this._organiseData(arguments[0],!0);n&&(0===this._data.length&&(this._min=this._max=n.value),this._coordinator.emit("renderpartial",{min:this._min,max:this._max,data:[n]}))}return this},setData:function(e){var t=e.data,n=t.length;this._data=[],this._radi=[];for(var r=0;r<n;r++)this._organiseData(t[r],!1);return this._max=e.max,this._min=e.min||0,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},removeData:function(){},setDataMax:function(e){return this._max=e,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setDataMin:function(e){return this._min=e,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setCoordinator:function(e){this._coordinator=e},_getInternalData:function(){return{max:this._max,min:this._min,data:this._data,radi:this._radi}},getData:function(){return this._unOrganizeData()}},e}(),r=function(){var e=function(e){var t=e.gradient||e.defaultGradient,n=document.createElement("canvas"),r=n.getContext("2d");n.width=256,n.height=1;var o=r.createLinearGradient(0,0,256,1);for(var i in t)o.addColorStop(i,t[i]);return r.fillStyle=o,r.fillRect(0,0,256,1),r.getImageData(0,0,256,1).data},t=function(e,t){var n=document.createElement("canvas"),r=n.getContext("2d"),o=e,i=e;if(n.width=n.height=2*e,1==t)r.beginPath(),r.arc(o,i,e,0,2*Math.PI,!1),r.fillStyle="rgba(0,0,0,1)",r.fill();else{var a=r.createRadialGradient(o,i,e*t,o,i,e);a.addColorStop(0,"rgba(0,0,0,1)"),a.addColorStop(1,"rgba(0,0,0,0)"),r.fillStyle=a,r.fillRect(0,0,2*e,2*e)}return n};function n(t){var n=t.container,r=this.shadowCanvas=document.createElement("canvas"),o=this.canvas=t.canvas||document.createElement("canvas"),i=(this._renderBoundaries=[1e4,1e4,0,0],getComputedStyle(t.container)||{});o.className="heatmap-canvas",this._width=o.width=r.width=t.width||+i.width.replace(/px/,""),this._height=o.height=r.height=t.height||+i.height.replace(/px/,""),this.shadowCtx=r.getContext("2d"),this.ctx=o.getContext("2d"),o.style.cssText=r.style.cssText="position:absolute;left:0;top:0;",n.style.position="relative",n.appendChild(o),this._palette=e(t),this._templates={},this._setStyles(t)}return n.prototype={renderPartial:function(e){e.data.length>0&&(this._drawAlpha(e),this._colorize())},renderAll:function(e){this._clear(),e.data.length>0&&(this._drawAlpha(function(e){for(var t=[],n=e.min,r=e.max,o=e.radi,i=(e=e.data,Object.keys(e)),a=i.length;a--;)for(var s=i[a],l=Object.keys(e[s]),u=l.length;u--;){var c=l[u],p=e[s][c],f=o[s][c];t.push({x:s,y:c,value:p,radius:f})}return{min:n,max:r,data:t}}(e)),this._colorize())},_updateGradient:function(t){this._palette=e(t)},updateConfig:function(e){e.gradient&&this._updateGradient(e),this._setStyles(e)},setDimensions:function(e,t){this._width=e,this._height=t,this.canvas.width=this.shadowCanvas.width=e,this.canvas.height=this.shadowCanvas.height=t},_clear:function(){this.shadowCtx.clearRect(0,0,this._width,this._height),this.ctx.clearRect(0,0,this._width,this._height)},_setStyles:function(e){this._blur=0==e.blur?0:e.blur||e.defaultBlur,e.backgroundColor&&(this.canvas.style.backgroundColor=e.backgroundColor),this._width=this.canvas.width=this.shadowCanvas.width=e.width||this._width,this._height=this.canvas.height=this.shadowCanvas.height=e.height||this._height,this._opacity=255*(e.opacity||0),this._maxOpacity=255*(e.maxOpacity||e.defaultMaxOpacity),this._minOpacity=255*(e.minOpacity||e.defaultMinOpacity),this._useGradientOpacity=!!e.useGradientOpacity},_drawAlpha:function(e){for(var n=this._min=e.min,r=this._max=e.max,o=(e=e.data||[]).length,i=1-this._blur;o--;){var a,s=e[o],l=s.x,u=s.y,c=s.radius,p=Math.min(s.value,r),f=l-c,d=u-c,h=this.shadowCtx;this._templates[c]=a=t(c,i);var y=(p-n)/(r-n);h.globalAlpha=y<.01?.01:y,h.drawImage(a,f,d),f<this._renderBoundaries[0]&&(this._renderBoundaries[0]=f),d<this._renderBoundaries[1]&&(this._renderBoundaries[1]=d),f+2*c>this._renderBoundaries[2]&&(this._renderBoundaries[2]=f+2*c),d+2*c>this._renderBoundaries[3]&&(this._renderBoundaries[3]=d+2*c)}},_colorize:function(){var e=this._renderBoundaries[0],t=this._renderBoundaries[1],n=this._renderBoundaries[2]-e,r=this._renderBoundaries[3]-t,o=this._width,i=this._height,a=this._opacity,s=this._maxOpacity,l=this._minOpacity,u=this._useGradientOpacity;e<0&&(e=0),t<0&&(t=0),e+n>o&&(n=o-e),t+r>i&&(r=i-t);for(var c=this.shadowCtx.getImageData(e,t,n,r),p=c.data,f=p.length,d=this._palette,h=3;h<f;h+=4){var y,g=p[h],m=4*g;m&&(y=a>0?a:g<s?g<l?l:g:s,p[h-3]=d[m],p[h-2]=d[m+1],p[h-1]=d[m+2],p[h]=u?d[m+3]:y)}c.data=p,this.ctx.putImageData(c,e,t),this._renderBoundaries=[1e3,1e3,0,0]},getValueAt:function(e){var t=this.shadowCtx.getImageData(e.x,e.y,1,1).data[3],n=this._max,r=this._min;return Math.abs(n-r)*(t/255)>>0},getDataURL:function(){return this.canvas.toDataURL()}},n}(),o=(e=!1,"canvas2d"===t.defaultRenderer&&(e=r),e),i=function(){for(var e={},t=arguments.length,n=0;n<t;n++){var r=arguments[n];for(var o in r)e[o]=r[o]}return e},a=function(){var e=function(){function e(){this.cStore={}}return e.prototype={on:function(e,t,n){var r=this.cStore;r[e]||(r[e]=[]),r[e].push((function(e){return t.call(n,e)}))},emit:function(e,t){var n=this.cStore;if(n[e])for(var r=n[e].length,o=0;o<r;o++)(0,n[e][o])(t)}},e}(),r=function(e){var t=e._renderer,n=e._coordinator,r=e._store;n.on("renderpartial",t.renderPartial,t),n.on("renderall",t.renderAll,t),n.on("extremachange",(function(t){e._config.onExtremaChange&&e._config.onExtremaChange({min:t.min,max:t.max,gradient:e._config.gradient||e._config.defaultGradient})})),r.setCoordinator(n)};function a(){var a=this._config=i(t,arguments[0]||{});if(this._coordinator=new e,a.plugin){var s=a.plugin;if(!t.plugins[s])throw new Error("Plugin '"+s+"' not found. Maybe it was not registered.");var l=t.plugins[s];this._renderer=new l.renderer(a),this._store=new l.store(a)}else this._renderer=new o(a),this._store=new n(a);r(this)}return a.prototype={addData:function(){return this._store.addData.apply(this._store,arguments),this},removeData:function(){return this._store.removeData&&this._store.removeData.apply(this._store,arguments),this},setData:function(){return this._store.setData.apply(this._store,arguments),this},setDataMax:function(){return this._store.setDataMax.apply(this._store,arguments),this},setDataMin:function(){return this._store.setDataMin.apply(this._store,arguments),this},configure:function(e){return this._config=i(this._config,e),this._renderer.updateConfig(this._config),this._coordinator.emit("renderall",this._store._getInternalData()),this},repaint:function(){return this._coordinator.emit("renderall",this._store._getInternalData()),this},getData:function(){return this._store.getData()},getDataURL:function(){return this._renderer.getDataURL()},getValueAt:function(e){return this._store.getValueAt?this._store.getValueAt(e):this._renderer.getValueAt?this._renderer.getValueAt(e):null}},a}();return{create:function(e){return new a(e)},register:function(e,n){t.plugins[e]=n}}},e.exports?e.exports=i():void 0===(o="function"==typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=o)},95370:(e,t,n)=>{"use strict";async function r(e,t){const n=new Cesium.Viewer(e,{animation:!1,baseLayerPicker:!1,fullscreenButton:!1,geocoder:!1,homeButton:!1,infoBox:!1,sceneModePicker:!1,selectionIndicator:!1,timeline:!1,navigationHelpButton:!1,navigationInstructionsInitiallyVisible:!1,scene3DOnly:!0,msaaSamples:t.msaaSamples});return n.imageryLayers.removeAll(),n.extend(Cesium.viewerCesiumInspectorMixin),n.cesiumInspector.container.style.display="none",n.extend(Cesium.viewerCesium3DTilesInspectorMixin),n.cesium3DTilesInspector.container.style.display="none",n.cesium3DTilesInspector.viewModel.picking=!1,n.clock.currentTime=Cesium.JulianDate.fromDate(new Date("2022-04-19T20:00:53.10067292911116965Z")),n.scene.screenSpaceCameraController.lookEventTypes=[{eventType:Cesium.CameraEventType.RIGHT_DRAG},{eventType:Cesium.CameraEventType.RIGHT_DRAG,modifier:Cesium.KeyboardEventModifier.SHIFT}],n.scene.screenSpaceCameraController.zoomEventTypes=[Cesium.CameraEventType.WHEEL,Cesium.CameraEventType.PINCH],n.screenSpaceEventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK),n.screenSpaceEventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),n}n.r(t),n.d(t,{defaultCreateCesiumViewerFunc:()=>r})},69767:e=>{"use strict";e.exports=require("../xe2-base-cesium")},43938:e=>{"use strict";e.exports=require("../xe2-base-objects")},19239:e=>{"use strict";e.exports=require("../xe2-base-utils")},55114:e=>{"use strict";e.exports=require("../xe2-math")},10070:e=>{"use strict";e.exports=require("../xe2-utils")},2003:e=>{"use strict";e.exports=require("cesium")},10006:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});const r=134217729;function o(e,t,n,r,o){let i,a,s,l,u=t[0],c=r[0],p=0,f=0;c>u==c>-u?(i=u,u=t[++p]):(i=c,c=r[++f]);let d=0;if(p<e&&f<n)for(c>u==c>-u?(a=u+i,s=i-(a-u),u=t[++p]):(a=c+i,s=i-(a-c),c=r[++f]),i=a,0!==s&&(o[d++]=s);p<e&&f<n;)c>u==c>-u?(a=i+u,l=a-i,s=i-(a-l)+(u-l),u=t[++p]):(a=i+c,l=a-i,s=i-(a-l)+(c-l),c=r[++f]),i=a,0!==s&&(o[d++]=s);for(;p<e;)a=i+u,l=a-i,s=i-(a-l)+(u-l),u=t[++p],i=a,0!==s&&(o[d++]=s);for(;f<n;)a=i+c,l=a-i,s=i-(a-l)+(c-l),c=r[++f],i=a,0!==s&&(o[d++]=s);return 0===i&&0!==d||(o[d++]=i),d}function i(e){return new Float64Array(e)}const a=i(4),s=i(8),l=i(12),u=i(16),c=i(4);function p(e,t,n,i,p,f){const d=(t-f)*(n-p),h=(e-p)*(i-f),y=d-h,g=Math.abs(d+h);return Math.abs(y)>=33306690738754716e-32*g?y:-function(e,t,n,i,p,f,d){let h,y,g,m,v,b,_,w,P,C,O,x,S,E,j,T,M,A;const I=e-p,N=n-p,D=t-f,z=i-f;E=I*z,b=r*I,_=b-(b-I),w=I-_,b=r*z,P=b-(b-z),C=z-P,j=w*C-(E-_*P-w*P-_*C),T=D*N,b=r*D,_=b-(b-D),w=D-_,b=r*N,P=b-(b-N),C=N-P,M=w*C-(T-_*P-w*P-_*C),O=j-M,v=j-O,a[0]=j-(O+v)+(v-M),x=E+O,v=x-E,S=E-(x-v)+(O-v),O=S-T,v=S-O,a[1]=S-(O+v)+(v-T),A=x+O,v=A-x,a[2]=x-(A-v)+(O-v),a[3]=A;let R=function(e,t){let n=t[0];for(let e=1;e<4;e++)n+=t[e];return n}(0,a),k=22204460492503146e-32*d;if(R>=k||-R>=k)return R;if(v=e-I,h=e-(I+v)+(v-p),v=n-N,g=n-(N+v)+(v-p),v=t-D,y=t-(D+v)+(v-f),v=i-z,m=i-(z+v)+(v-f),0===h&&0===y&&0===g&&0===m)return R;if(k=11093356479670487e-47*d+33306690738754706e-32*Math.abs(R),R+=I*m+z*h-(D*g+N*y),R>=k||-R>=k)return R;E=h*z,b=r*h,_=b-(b-h),w=h-_,b=r*z,P=b-(b-z),C=z-P,j=w*C-(E-_*P-w*P-_*C),T=y*N,b=r*y,_=b-(b-y),w=y-_,b=r*N,P=b-(b-N),C=N-P,M=w*C-(T-_*P-w*P-_*C),O=j-M,v=j-O,c[0]=j-(O+v)+(v-M),x=E+O,v=x-E,S=E-(x-v)+(O-v),O=S-T,v=S-O,c[1]=S-(O+v)+(v-T),A=x+O,v=A-x,c[2]=x-(A-v)+(O-v),c[3]=A;const L=o(4,a,4,c,s);E=I*m,b=r*I,_=b-(b-I),w=I-_,b=r*m,P=b-(b-m),C=m-P,j=w*C-(E-_*P-w*P-_*C),T=D*g,b=r*D,_=b-(b-D),w=D-_,b=r*g,P=b-(b-g),C=g-P,M=w*C-(T-_*P-w*P-_*C),O=j-M,v=j-O,c[0]=j-(O+v)+(v-M),x=E+O,v=x-E,S=E-(x-v)+(O-v),O=S-T,v=S-O,c[1]=S-(O+v)+(v-T),A=x+O,v=A-x,c[2]=x-(A-v)+(O-v),c[3]=A;const F=o(L,s,4,c,l);E=h*m,b=r*h,_=b-(b-h),w=h-_,b=r*m,P=b-(b-m),C=m-P,j=w*C-(E-_*P-w*P-_*C),T=y*g,b=r*y,_=b-(b-y),w=y-_,b=r*g,P=b-(b-g),C=g-P,M=w*C-(T-_*P-w*P-_*C),O=j-M,v=j-O,c[0]=j-(O+v)+(v-M),x=E+O,v=x-E,S=E-(x-v)+(O-v),O=S-T,v=S-O,c[1]=S-(O+v)+(v-T),A=x+O,v=A-x,c[2]=x-(A-v)+(O-v),c[3]=A;const B=o(F,l,4,c,u);return u[B-1]}(e,t,n,i,p,f,g)}i(4),i(4),i(4),i(4),i(4),i(4),i(4),i(4),i(4),i(8),i(8),i(8),i(4),i(8),i(8),i(8),i(12),i(192),i(192),i(4),i(4),i(4),i(4),i(4),i(4),i(4),i(4),i(8),i(8),i(8),i(8),i(8),i(8),i(8),i(8),i(8),i(4),i(4),i(4),i(8),i(16),i(16),i(16),i(32),i(32),i(48),i(64),i(1152),i(1152),i(4),i(4),i(4),i(4),i(4),i(4),i(4),i(4),i(4),i(4),i(24),i(24),i(24),i(24),i(24),i(24),i(24),i(24),i(24),i(24),i(1152),i(1152),i(1152),i(1152),i(1152),i(2304),i(2304),i(3456),i(5760),i(8),i(8),i(8),i(16),i(24),i(48),i(48),i(96),i(192),i(384),i(384),i(384),i(768),i(96),i(96),i(96),i(1152);const f=Math.pow(2,-52),d=new Uint32Array(512);class h{static from(e,t=_,n=w){const r=e.length,o=new Float64Array(2*r);for(let i=0;i<r;i++){const r=e[i];o[2*i]=t(r),o[2*i+1]=n(r)}return new h(o)}constructor(e){const t=e.length>>1;if(t>0&&"number"!=typeof e[0])throw new Error("Expected coords to contain numbers.");this.coords=e;const n=Math.max(2*t-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:e,_hullPrev:t,_hullNext:n,_hullTri:r,_hullHash:o}=this,i=e.length>>1;let a=1/0,s=1/0,l=-1/0,u=-1/0;for(let t=0;t<i;t++){const n=e[2*t],r=e[2*t+1];n<a&&(a=n),r<s&&(s=r),n>l&&(l=n),r>u&&(u=r),this._ids[t]=t}const c=(a+l)/2,d=(s+u)/2;let h,g,b,_=1/0;for(let t=0;t<i;t++){const n=y(c,d,e[2*t],e[2*t+1]);n<_&&(h=t,_=n)}const w=e[2*h],P=e[2*h+1];_=1/0;for(let t=0;t<i;t++){if(t===h)continue;const n=y(w,P,e[2*t],e[2*t+1]);n<_&&n>0&&(g=t,_=n)}let C=e[2*g],O=e[2*g+1],x=1/0;for(let t=0;t<i;t++){if(t===h||t===g)continue;const n=m(w,P,C,O,e[2*t],e[2*t+1]);n<x&&(b=t,x=n)}let S=e[2*b],E=e[2*b+1];if(x===1/0){for(let t=0;t<i;t++)this._dists[t]=e[2*t]-e[0]||e[2*t+1]-e[1];v(this._ids,this._dists,0,i-1);const t=new Uint32Array(i);let n=0;for(let e=0,r=-1/0;e<i;e++){const o=this._ids[e];this._dists[o]>r&&(t[n++]=o,r=this._dists[o])}return this.hull=t.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(p(w,P,C,O,S,E)<0){const e=g,t=C,n=O;g=b,C=S,O=E,b=e,S=t,E=n}const j=function(e,t,n,r,o,i){const a=n-e,s=r-t,l=o-e,u=i-t,c=a*a+s*s,p=l*l+u*u,f=.5/(a*u-s*l);return{x:e+(u*c-s*p)*f,y:t+(a*p-l*c)*f}}(w,P,C,O,S,E);this._cx=j.x,this._cy=j.y;for(let t=0;t<i;t++)this._dists[t]=y(e[2*t],e[2*t+1],j.x,j.y);v(this._ids,this._dists,0,i-1),this._hullStart=h;let T=3;n[h]=t[b]=g,n[g]=t[h]=b,n[b]=t[g]=h,r[h]=0,r[g]=1,r[b]=2,o.fill(-1),o[this._hashKey(w,P)]=h,o[this._hashKey(C,O)]=g,o[this._hashKey(S,E)]=b,this.trianglesLen=0,this._addTriangle(h,g,b,-1,-1,-1);for(let i,a,s=0;s<this._ids.length;s++){const l=this._ids[s],u=e[2*l],c=e[2*l+1];if(s>0&&Math.abs(u-i)<=f&&Math.abs(c-a)<=f)continue;if(i=u,a=c,l===h||l===g||l===b)continue;let d=0;for(let e=0,t=this._hashKey(u,c);e<this._hashSize&&(d=o[(t+e)%this._hashSize],-1===d||d===n[d]);e++);d=t[d];let y,m=d;for(;y=n[m],p(u,c,e[2*m],e[2*m+1],e[2*y],e[2*y+1])>=0;)if(m=y,m===d){m=-1;break}if(-1===m)continue;let v=this._addTriangle(m,l,n[m],-1,-1,r[m]);r[l]=this._legalize(v+2),r[m]=v,T++;let _=n[m];for(;y=n[_],p(u,c,e[2*_],e[2*_+1],e[2*y],e[2*y+1])<0;)v=this._addTriangle(_,l,y,r[l],-1,r[_]),r[l]=this._legalize(v+2),n[_]=_,T--,_=y;if(m===d)for(;y=t[m],p(u,c,e[2*y],e[2*y+1],e[2*m],e[2*m+1])<0;)v=this._addTriangle(y,l,m,-1,r[m],r[y]),this._legalize(v+2),r[y]=v,n[m]=m,T--,m=y;this._hullStart=t[l]=m,n[m]=t[_]=l,n[l]=_,o[this._hashKey(u,c)]=l,o[this._hashKey(e[2*m],e[2*m+1])]=m}this.hull=new Uint32Array(T);for(let e=0,t=this._hullStart;e<T;e++)this.hull[e]=t,t=n[t];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(function(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:t,_halfedges:n,coords:r}=this;let o=0,i=0;for(;;){const a=n[e],s=e-e%3;if(i=s+(e+2)%3,-1===a){if(0===o)break;e=d[--o];continue}const l=a-a%3,u=s+(e+1)%3,c=l+(a+2)%3,p=t[i],f=t[e],h=t[u],y=t[c];if(g(r[2*p],r[2*p+1],r[2*f],r[2*f+1],r[2*h],r[2*h+1],r[2*y],r[2*y+1])){t[e]=y,t[a]=p;const r=n[c];if(-1===r){let t=this._hullStart;do{if(this._hullTri[t]===c){this._hullTri[t]=e;break}t=this._hullPrev[t]}while(t!==this._hullStart)}this._link(e,r),this._link(a,n[i]),this._link(i,c);const s=l+(a+1)%3;o<d.length&&(d[o++]=s)}else{if(0===o)break;e=d[--o]}}return i}_link(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}_addTriangle(e,t,n,r,o,i){const a=this.trianglesLen;return this._triangles[a]=e,this._triangles[a+1]=t,this._triangles[a+2]=n,this._link(a,r),this._link(a+1,o),this._link(a+2,i),this.trianglesLen+=3,a}}function y(e,t,n,r){const o=e-n,i=t-r;return o*o+i*i}function g(e,t,n,r,o,i,a,s){const l=e-a,u=t-s,c=n-a,p=r-s,f=o-a,d=i-s,h=c*c+p*p,y=f*f+d*d;return l*(p*y-h*d)-u*(c*y-h*f)+(l*l+u*u)*(c*d-p*f)<0}function m(e,t,n,r,o,i){const a=n-e,s=r-t,l=o-e,u=i-t,c=a*a+s*s,p=l*l+u*u,f=.5/(a*u-s*l),d=(u*c-s*p)*f,h=(a*p-l*c)*f;return d*d+h*h}function v(e,t,n,r){if(r-n<=20)for(let o=n+1;o<=r;o++){const r=e[o],i=t[r];let a=o-1;for(;a>=n&&t[e[a]]>i;)e[a+1]=e[a--];e[a+1]=r}else{let o=n+1,i=r;b(e,n+r>>1,o),t[e[n]]>t[e[r]]&&b(e,n,r),t[e[o]]>t[e[r]]&&b(e,o,r),t[e[n]]>t[e[o]]&&b(e,n,o);const a=e[o],s=t[a];for(;;){do{o++}while(t[e[o]]<s);do{i--}while(t[e[i]]>s);if(i<o)break;b(e,o,i)}e[n+1]=e[i],e[i]=a,r-o+1>=i-n?(v(e,t,o,r),v(e,t,n,i-1)):(v(e,t,n,i-1),v(e,t,o,r))}}function b(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function _(e){return e[0]}function w(e){return e[1]}},25214:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BufferOp:()=>wr,GeoJSONReader:()=>Et,GeoJSONWriter:()=>jt,OverlayOp:()=>No,UnionOp:()=>Go}),"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(e){if(null==this)throw new TypeError(this+" is not an object");var t=Object(this),n=Math.max(Math.min(t.length,9007199254740991),0)||0,r=1 in arguments&&parseInt(Number(arguments[1]),10)||0;r=r<0?Math.max(n+r,0):Math.min(r,n);var o=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(o=o<0?Math.max(n+arguments[2],0):Math.min(o,n);r<o;)t[r]=e,++r;return t},writable:!0}),Number.isFinite=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(e){return e!=e},Math.trunc=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};var r=function(){};r.prototype.interfaces_=function(){return[]},r.prototype.getClass=function(){return r},r.prototype.equalsWithTolerance=function(e,t,n){return Math.abs(e-t)<=n};var o=function(e){function t(t){e.call(this,t),this.name="IllegalArgumentException",this.message=t,this.stack=(new e).stack}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),i=function(){},a={MAX_VALUE:{configurable:!0}};i.isNaN=function(e){return Number.isNaN(e)},i.doubleToLongBits=function(e){return e},i.longBitsToDouble=function(e){return e},i.isInfinite=function(e){return!Number.isFinite(e)},a.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(i,a);var s=function(){},l=function(){},u=function(){};function c(){}var p=function e(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=e.NULL_ORDINATE;else if(1===arguments.length){var t=arguments[0];this.x=t.x,this.y=t.y,this.z=t.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=e.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},f={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};p.prototype.setOrdinate=function(e,t){switch(e){case p.X:this.x=t;break;case p.Y:this.y=t;break;case p.Z:this.z=t;break;default:throw new o("Invalid ordinate index: "+e)}},p.prototype.equals2D=function(){if(1===arguments.length){var e=arguments[0];return this.x===e.x&&this.y===e.y}if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!r.equalsWithTolerance(this.x,t.x,n)&&!!r.equalsWithTolerance(this.y,t.y,n)}},p.prototype.getOrdinate=function(e){switch(e){case p.X:return this.x;case p.Y:return this.y;case p.Z:return this.z}throw new o("Invalid ordinate index: "+e)},p.prototype.equals3D=function(e){return this.x===e.x&&this.y===e.y&&(this.z===e.z||i.isNaN(this.z))&&i.isNaN(e.z)},p.prototype.equals=function(e){return e instanceof p&&this.equals2D(e)},p.prototype.equalInZ=function(e,t){return r.equalsWithTolerance(this.z,e.z,t)},p.prototype.compareTo=function(e){var t=e;return this.x<t.x?-1:this.x>t.x?1:this.y<t.y?-1:this.y>t.y?1:0},p.prototype.clone=function(){},p.prototype.copy=function(){return new p(this)},p.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},p.prototype.distance3D=function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return Math.sqrt(t*t+n*n+r*r)},p.prototype.distance=function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},p.prototype.hashCode=function(){var e=17;return 37*(e=37*e+p.hashCode(this.x))+p.hashCode(this.y)},p.prototype.setCoordinate=function(e){this.x=e.x,this.y=e.y,this.z=e.z},p.prototype.interfaces_=function(){return[s,l,c]},p.prototype.getClass=function(){return p},p.hashCode=function(){if(1===arguments.length){var e=arguments[0],t=i.doubleToLongBits(e);return Math.trunc((t^t)>>>32)}},f.DimensionalComparator.get=function(){return d},f.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},f.NULL_ORDINATE.get=function(){return i.NaN},f.X.get=function(){return 0},f.Y.get=function(){return 1},f.Z.get=function(){return 2},Object.defineProperties(p,f);var d=function(e){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(2!==t&&3!==t)throw new o("only 2 or 3 dimensions may be specified");this._dimensionsToTest=t}};d.prototype.compare=function(e,t){var n=e,r=t,o=d.compare(n.x,r.x);if(0!==o)return o;var i=d.compare(n.y,r.y);return 0!==i?i:this._dimensionsToTest<=2?0:d.compare(n.z,r.z)},d.prototype.interfaces_=function(){return[u]},d.prototype.getClass=function(){return d},d.compare=function(e,t){return e<t?-1:e>t?1:i.isNaN(e)?i.isNaN(t)?0:-1:i.isNaN(t)?1:0};var h=function(){};h.prototype.create=function(){},h.prototype.interfaces_=function(){return[]},h.prototype.getClass=function(){return h};var y=function(){},g={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};y.prototype.interfaces_=function(){return[]},y.prototype.getClass=function(){return y},y.toLocationSymbol=function(e){switch(e){case y.EXTERIOR:return"e";case y.BOUNDARY:return"b";case y.INTERIOR:return"i";case y.NONE:return"-"}throw new o("Unknown location value: "+e)},g.INTERIOR.get=function(){return 0},g.BOUNDARY.get=function(){return 1},g.EXTERIOR.get=function(){return 2},g.NONE.get=function(){return-1},Object.defineProperties(y,g);var m=function(e,t){return e.interfaces_&&e.interfaces_().indexOf(t)>-1},v=function(){},b={LOG_10:{configurable:!0}};v.prototype.interfaces_=function(){return[]},v.prototype.getClass=function(){return v},v.log10=function(e){var t=Math.log(e);return i.isInfinite(t)||i.isNaN(t)?t:t/v.LOG_10},v.min=function(e,t,n,r){var o=e;return t<o&&(o=t),n<o&&(o=n),r<o&&(o=r),o},v.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],t=arguments[1],n=arguments[2];return e<t?t:e>n?n:e}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],o=arguments[1],i=arguments[2];return r<o?o:r>i?i:r}},v.wrap=function(e,t){return e<0?t- -e%t:e%t},v.max=function(){if(3===arguments.length){var e=arguments[0],t=arguments[1],n=arguments[2],r=e;return t>r&&(r=t),n>r&&(r=n),r}if(4===arguments.length){var o=arguments[0],i=arguments[1],a=arguments[2],s=arguments[3],l=o;return i>l&&(l=i),a>l&&(l=a),s>l&&(l=s),l}},v.average=function(e,t){return(e+t)/2},b.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(v,b);var _=function(e){this.str=e};_.prototype.append=function(e){this.str+=e},_.prototype.setCharAt=function(e,t){this.str=this.str.substr(0,e)+t+this.str.substr(e+1)},_.prototype.toString=function(e){return this.str};var w=function(e){this.value=e};w.prototype.intValue=function(){return this.value},w.prototype.compareTo=function(e){return this.value<e?-1:this.value>e?1:0},w.isNaN=function(e){return Number.isNaN(e)};var P=function(){};P.isWhitespace=function(e){return e<=32&&e>=0||127===e},P.toUpperCase=function(e){return e.toUpperCase()};var C=function e(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this.init(t)}else if(arguments[0]instanceof e){var n=arguments[0];this.init(n)}else if("string"==typeof arguments[0]){var r=arguments[0];e.call(this,e.parse(r))}}else if(2===arguments.length){var o=arguments[0],i=arguments[1];this.init(o,i)}},O={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};C.prototype.le=function(e){return(this._hi<e._hi||this._hi===e._hi)&&this._lo<=e._lo},C.prototype.extractSignificantDigits=function(e,t){var n=this.abs(),r=C.magnitude(n._hi),o=C.TEN.pow(r);(n=n.divide(o)).gt(C.TEN)?(n=n.divide(C.TEN),r+=1):n.lt(C.ONE)&&(n=n.multiply(C.TEN),r-=1);for(var i=r+1,a=new _,s=C.MAX_PRINT_DIGITS-1,l=0;l<=s;l++){e&&l===i&&a.append(".");var u=Math.trunc(n._hi);if(u<0)break;var c=!1,p=0;u>9?(c=!0,p="9"):p="0"+u,a.append(p),n=n.subtract(C.valueOf(u)).multiply(C.TEN),c&&n.selfAdd(C.TEN);var f=!0,d=C.magnitude(n._hi);if(d<0&&Math.abs(d)>=s-l&&(f=!1),!f)break}return t[0]=r,a.toString()},C.prototype.sqr=function(){return this.multiply(this)},C.prototype.doubleValue=function(){return this._hi+this._lo},C.prototype.subtract=function(){if(arguments[0]instanceof C){var e=arguments[0];return this.add(e.negate())}if("number"==typeof arguments[0]){var t=arguments[0];return this.add(-t)}},C.prototype.equals=function(){if(1===arguments.length){var e=arguments[0];return this._hi===e._hi&&this._lo===e._lo}},C.prototype.isZero=function(){return 0===this._hi&&0===this._lo},C.prototype.selfSubtract=function(){if(arguments[0]instanceof C){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e._hi,-e._lo)}if("number"==typeof arguments[0]){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t,0)}},C.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},C.prototype.min=function(e){return this.le(e)?this:e},C.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof C){var e=arguments[0];return this.selfDivide(e._hi,e._lo)}if("number"==typeof arguments[0]){var t=arguments[0];return this.selfDivide(t,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],o=null,i=null,a=null,s=null,l=null,u=null,c=null,p=null;return l=this._hi/n,p=(o=(u=C.SPLIT*l)-(o=u-l))*(a=(p=C.SPLIT*n)-(a=p-n))-(c=l*n)+o*(s=n-a)+(i=l-o)*a+i*s,p=l+(u=(this._hi-c-p+this._lo-l*r)/n),this._hi=p,this._lo=l-p+u,this}},C.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},C.prototype.divide=function(){if(arguments[0]instanceof C){var e=arguments[0],t=null,n=null,r=null,o=null,a=null,s=null,l=null,u=null;n=(a=this._hi/e._hi)-(t=(s=C.SPLIT*a)-(t=s-a)),u=t*(r=(u=C.SPLIT*e._hi)-(r=u-e._hi))-(l=a*e._hi)+t*(o=e._hi-r)+n*r+n*o;var c=u=a+(s=(this._hi-l-u+this._lo-a*e._lo)/e._hi),p=a-u+s;return new C(c,p)}if("number"==typeof arguments[0]){var f=arguments[0];return i.isNaN(f)?C.createNaN():C.copy(this).selfDivide(f,0)}},C.prototype.ge=function(e){return(this._hi>e._hi||this._hi===e._hi)&&this._lo>=e._lo},C.prototype.pow=function(e){if(0===e)return C.valueOf(1);var t=new C(this),n=C.valueOf(1),r=Math.abs(e);if(r>1)for(;r>0;)r%2==1&&n.selfMultiply(t),(r/=2)>0&&(t=t.sqr());else n=t;return e<0?n.reciprocal():n},C.prototype.ceil=function(){if(this.isNaN())return C.NaN;var e=Math.ceil(this._hi),t=0;return e===this._hi&&(t=Math.ceil(this._lo)),new C(e,t)},C.prototype.compareTo=function(e){var t=e;return this._hi<t._hi?-1:this._hi>t._hi?1:this._lo<t._lo?-1:this._lo>t._lo?1:0},C.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},C.prototype.setValue=function(){if(arguments[0]instanceof C){var e=arguments[0];return this.init(e),this}if("number"==typeof arguments[0]){var t=arguments[0];return this.init(t),this}},C.prototype.max=function(e){return this.ge(e)?this:e},C.prototype.sqrt=function(){if(this.isZero())return C.valueOf(0);if(this.isNegative())return C.NaN;var e=1/Math.sqrt(this._hi),t=this._hi*e,n=C.valueOf(t),r=this.subtract(n.sqr())._hi*(.5*e);return n.add(r)},C.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof C){var e=arguments[0];return this.selfAdd(e._hi,e._lo)}if("number"==typeof arguments[0]){var t=arguments[0],n=null,r=null,o=null,i=null,a=null,s=null;return i=(o=this._hi+t)-(a=o-this._hi),r=(s=(i=t-a+(this._hi-i))+this._lo)+(o-(n=o+s)),this._hi=n+r,this._lo=r+(n-this._hi),this}}else if(2===arguments.length){var l=arguments[0],u=arguments[1],c=null,p=null,f=null,d=null,h=null,y=null,g=null;d=this._hi+l,p=this._lo+u,h=d-(y=d-this._hi),f=p-(g=p-this._lo);var m=(c=d+(y=(h=l-y+(this._hi-h))+p))+(y=(f=u-g+(this._lo-f))+(y+(d-c))),v=y+(c-m);return this._hi=m,this._lo=v,this}},C.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof C){var e=arguments[0];return this.selfMultiply(e._hi,e._lo)}if("number"==typeof arguments[0]){var t=arguments[0];return this.selfMultiply(t,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],o=null,i=null,a=null,s=null,l=null,u=null;o=(l=C.SPLIT*this._hi)-this._hi,u=C.SPLIT*n,o=l-o,i=this._hi-o,a=u-n;var c=(l=this._hi*n)+(u=o*(a=u-a)-l+o*(s=n-a)+i*a+i*s+(this._hi*r+this._lo*n)),p=u+(o=l-c);return this._hi=c,this._lo=p,this}},C.prototype.selfSqr=function(){return this.selfMultiply(this)},C.prototype.floor=function(){if(this.isNaN())return C.NaN;var e=Math.floor(this._hi),t=0;return e===this._hi&&(t=Math.floor(this._lo)),new C(e,t)},C.prototype.negate=function(){return this.isNaN()?this:new C(-this._hi,-this._lo)},C.prototype.clone=function(){},C.prototype.multiply=function(){if(arguments[0]instanceof C){var e=arguments[0];return e.isNaN()?C.createNaN():C.copy(this).selfMultiply(e)}if("number"==typeof arguments[0]){var t=arguments[0];return i.isNaN(t)?C.createNaN():C.copy(this).selfMultiply(t,0)}},C.prototype.isNaN=function(){return i.isNaN(this._hi)},C.prototype.intValue=function(){return Math.trunc(this._hi)},C.prototype.toString=function(){var e=C.magnitude(this._hi);return e>=-3&&e<=20?this.toStandardNotation():this.toSciNotation()},C.prototype.toStandardNotation=function(){var e=this.getSpecialNumberString();if(null!==e)return e;var t=new Array(1).fill(null),n=this.extractSignificantDigits(!0,t),r=t[0]+1,o=n;if("."===n.charAt(0))o="0"+n;else if(r<0)o="0."+C.stringOfChar("0",-r)+n;else if(-1===n.indexOf(".")){var i=r-n.length;o=n+C.stringOfChar("0",i)+".0"}return this.isNegative()?"-"+o:o},C.prototype.reciprocal=function(){var e,t,n,r,o=null,i=null,a=null,s=null;e=(n=1/this._hi)-(o=(a=C.SPLIT*n)-(o=a-n)),i=(s=C.SPLIT*this._hi)-this._hi;var l=n+(a=(1-(r=n*this._hi)-(s=o*(i=s-i)-r+o*(t=this._hi-i)+e*i+e*t)-n*this._lo)/this._hi);return new C(l,n-l+a)},C.prototype.toSciNotation=function(){if(this.isZero())return C.SCI_NOT_ZERO;var e=this.getSpecialNumberString();if(null!==e)return e;var t=new Array(1).fill(null),n=this.extractSignificantDigits(!1,t),r=C.SCI_NOT_EXPONENT_CHAR+t[0];if("0"===n.charAt(0))throw new Error("Found leading zero: "+n);var o="";n.length>1&&(o=n.substring(1));var i=n.charAt(0)+"."+o;return this.isNegative()?"-"+i+r:i+r},C.prototype.abs=function(){return this.isNaN()?C.NaN:this.isNegative()?this.negate():new C(this)},C.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},C.prototype.lt=function(e){return(this._hi<e._hi||this._hi===e._hi)&&this._lo<e._lo},C.prototype.add=function(){if(arguments[0]instanceof C){var e=arguments[0];return C.copy(this).selfAdd(e)}if("number"==typeof arguments[0]){var t=arguments[0];return C.copy(this).selfAdd(t)}},C.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0]){var e=arguments[0];this._hi=e,this._lo=0}else if(arguments[0]instanceof C){var t=arguments[0];this._hi=t._hi,this._lo=t._lo}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._hi=n,this._lo=r}},C.prototype.gt=function(e){return(this._hi>e._hi||this._hi===e._hi)&&this._lo>e._lo},C.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},C.prototype.trunc=function(){return this.isNaN()?C.NaN:this.isPositive()?this.floor():this.ceil()},C.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},C.prototype.interfaces_=function(){return[c,s,l]},C.prototype.getClass=function(){return C},C.sqr=function(e){return C.valueOf(e).selfMultiply(e)},C.valueOf=function(){if("string"==typeof arguments[0]){var e=arguments[0];return C.parse(e)}if("number"==typeof arguments[0]){var t=arguments[0];return new C(t)}},C.sqrt=function(e){return C.valueOf(e).sqrt()},C.parse=function(e){for(var t=0,n=e.length;P.isWhitespace(e.charAt(t));)t++;var r=!1;if(t<n){var o=e.charAt(t);"-"!==o&&"+"!==o||(t++,"-"===o&&(r=!0))}for(var i=new C,a=0,s=0,l=0;!(t>=n);){var u=e.charAt(t);if(t++,P.isDigit(u)){var c=u-"0";i.selfMultiply(C.TEN),i.selfAdd(c),a++}else{if("."!==u){if("e"===u||"E"===u){var p=e.substring(t);try{l=w.parseInt(p)}catch(t){throw t instanceof Error?new Error("Invalid exponent "+p+" in string "+e):t}break}throw new Error("Unexpected character '"+u+"' at position "+t+" in string "+e)}s=a}}var f=i,d=a-s-l;if(0===d)f=i;else if(d>0){var h=C.TEN.pow(d);f=i.divide(h)}else if(d<0){var y=C.TEN.pow(-d);f=i.multiply(y)}return r?f.negate():f},C.createNaN=function(){return new C(i.NaN,i.NaN)},C.copy=function(e){return new C(e)},C.magnitude=function(e){var t=Math.abs(e),n=Math.log(t)/Math.log(10),r=Math.trunc(Math.floor(n));return 10*Math.pow(10,r)<=t&&(r+=1),r},C.stringOfChar=function(e,t){for(var n=new _,r=0;r<t;r++)n.append(e);return n.toString()},O.PI.get=function(){return new C(3.141592653589793,12246467991473532e-32)},O.TWO_PI.get=function(){return new C(6.283185307179586,24492935982947064e-32)},O.PI_2.get=function(){return new C(1.5707963267948966,6123233995736766e-32)},O.E.get=function(){return new C(2.718281828459045,14456468917292502e-32)},O.NaN.get=function(){return new C(i.NaN,i.NaN)},O.EPS.get=function(){return 123259516440783e-46},O.SPLIT.get=function(){return 134217729},O.MAX_PRINT_DIGITS.get=function(){return 32},O.TEN.get=function(){return C.valueOf(10)},O.ONE.get=function(){return C.valueOf(1)},O.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},O.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(C,O);var x=function(){},S={DP_SAFE_EPSILON:{configurable:!0}};x.prototype.interfaces_=function(){return[]},x.prototype.getClass=function(){return x},x.orientationIndex=function(e,t,n){var r=x.orientationIndexFilter(e,t,n);if(r<=1)return r;var o=C.valueOf(t.x).selfAdd(-e.x),i=C.valueOf(t.y).selfAdd(-e.y),a=C.valueOf(n.x).selfAdd(-t.x),s=C.valueOf(n.y).selfAdd(-t.y);return o.selfMultiply(s).selfSubtract(i.selfMultiply(a)).signum()},x.signOfDet2x2=function(e,t,n,r){return e.multiply(r).selfSubtract(t.multiply(n)).signum()},x.intersection=function(e,t,n,r){var o=C.valueOf(r.y).selfSubtract(n.y).selfMultiply(C.valueOf(t.x).selfSubtract(e.x)),i=C.valueOf(r.x).selfSubtract(n.x).selfMultiply(C.valueOf(t.y).selfSubtract(e.y)),a=o.subtract(i),s=C.valueOf(r.x).selfSubtract(n.x).selfMultiply(C.valueOf(e.y).selfSubtract(n.y)),l=C.valueOf(r.y).selfSubtract(n.y).selfMultiply(C.valueOf(e.x).selfSubtract(n.x)),u=s.subtract(l).selfDivide(a).doubleValue(),c=C.valueOf(e.x).selfAdd(C.valueOf(t.x).selfSubtract(e.x).selfMultiply(u)).doubleValue(),f=C.valueOf(t.x).selfSubtract(e.x).selfMultiply(C.valueOf(e.y).selfSubtract(n.y)),d=C.valueOf(t.y).selfSubtract(e.y).selfMultiply(C.valueOf(e.x).selfSubtract(n.x)),h=f.subtract(d).selfDivide(a).doubleValue(),y=C.valueOf(n.y).selfAdd(C.valueOf(r.y).selfSubtract(n.y).selfMultiply(h)).doubleValue();return new p(c,y)},x.orientationIndexFilter=function(e,t,n){var r=null,o=(e.x-n.x)*(t.y-n.y),i=(e.y-n.y)*(t.x-n.x),a=o-i;if(o>0){if(i<=0)return x.signum(a);r=o+i}else{if(!(o<0))return x.signum(a);if(i>=0)return x.signum(a);r=-o-i}var s=x.DP_SAFE_EPSILON*r;return a>=s||-a>=s?x.signum(a):2},x.signum=function(e){return e>0?1:e<0?-1:0},S.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(x,S);var E=function(){},j={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};j.X.get=function(){return 0},j.Y.get=function(){return 1},j.Z.get=function(){return 2},j.M.get=function(){return 3},E.prototype.setOrdinate=function(e,t,n){},E.prototype.size=function(){},E.prototype.getOrdinate=function(e,t){},E.prototype.getCoordinate=function(){},E.prototype.getCoordinateCopy=function(e){},E.prototype.getDimension=function(){},E.prototype.getX=function(e){},E.prototype.clone=function(){},E.prototype.expandEnvelope=function(e){},E.prototype.copy=function(){},E.prototype.getY=function(e){},E.prototype.toCoordinateArray=function(){},E.prototype.interfaces_=function(){return[l]},E.prototype.getClass=function(){return E},Object.defineProperties(E,j);var T=function(){},M=function(e){function t(){e.call(this,"Projective point not representable on the Cartesian plane.")}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(T),A=function(){};A.arraycopy=function(e,t,n,r,o){for(var i=0,a=t;a<t+o;a++)n[r+i]=e[a],i++},A.getProperty=function(e){return{"line.separator":"\n"}[e]};var I=function e(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var t=arguments[0];this.x=t.x,this.y=t.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this.x=n,this.y=r,this.w=1}else if(arguments[0]instanceof e&&arguments[1]instanceof e){var o=arguments[0],i=arguments[1];this.x=o.y*i.w-i.y*o.w,this.y=i.x*o.w-o.x*i.w,this.w=o.x*i.y-i.x*o.y}else if(arguments[0]instanceof p&&arguments[1]instanceof p){var a=arguments[0],s=arguments[1];this.x=a.y-s.y,this.y=s.x-a.x,this.w=a.x*s.y-s.x*a.y}}else if(3===arguments.length){var l=arguments[0],u=arguments[1],c=arguments[2];this.x=l,this.y=u,this.w=c}else if(4===arguments.length){var f=arguments[0],d=arguments[1],h=arguments[2],y=arguments[3],g=f.y-d.y,m=d.x-f.x,v=f.x*d.y-d.x*f.y,b=h.y-y.y,_=y.x-h.x,w=h.x*y.y-y.x*h.y;this.x=m*w-_*v,this.y=b*v-g*w,this.w=g*_-b*m}};I.prototype.getY=function(){var e=this.y/this.w;if(i.isNaN(e)||i.isInfinite(e))throw new M;return e},I.prototype.getX=function(){var e=this.x/this.w;if(i.isNaN(e)||i.isInfinite(e))throw new M;return e},I.prototype.getCoordinate=function(){var e=new p;return e.x=this.getX(),e.y=this.getY(),e},I.prototype.interfaces_=function(){return[]},I.prototype.getClass=function(){return I},I.intersection=function(e,t,n,r){var o=e.y-t.y,a=t.x-e.x,s=e.x*t.y-t.x*e.y,l=n.y-r.y,u=r.x-n.x,c=n.x*r.y-r.x*n.y,f=o*u-l*a,d=(a*c-u*s)/f,h=(l*s-o*c)/f;if(i.isNaN(d)||i.isInfinite(d)||i.isNaN(h)||i.isInfinite(h))throw new M;return new p(d,h)};var N=function e(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof p){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof e){var n=arguments[0];this.init(n)}}else if(2===arguments.length){var r=arguments[0],o=arguments[1];this.init(r.x,o.x,r.y,o.y)}else if(4===arguments.length){var i=arguments[0],a=arguments[1],s=arguments[2],l=arguments[3];this.init(i,a,s,l)}},D={serialVersionUID:{configurable:!0}};N.prototype.getArea=function(){return this.getWidth()*this.getHeight()},N.prototype.equals=function(e){if(!(e instanceof N))return!1;var t=e;return this.isNull()?t.isNull():this._maxx===t.getMaxX()&&this._maxy===t.getMaxY()&&this._minx===t.getMinX()&&this._miny===t.getMinY()},N.prototype.intersection=function(e){if(this.isNull()||e.isNull()||!this.intersects(e))return new N;var t=this._minx>e._minx?this._minx:e._minx,n=this._miny>e._miny?this._miny:e._miny,r=this._maxx<e._maxx?this._maxx:e._maxx,o=this._maxy<e._maxy?this._maxy:e._maxy;return new N(t,r,n,o)},N.prototype.isNull=function(){return this._maxx<this._minx},N.prototype.getMaxX=function(){return this._maxx},N.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof p){var e=arguments[0];return this.covers(e.x,e.y)}if(arguments[0]instanceof N){var t=arguments[0];return!this.isNull()&&!t.isNull()&&t.getMinX()>=this._minx&&t.getMaxX()<=this._maxx&&t.getMinY()>=this._miny&&t.getMaxY()<=this._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&n>=this._minx&&n<=this._maxx&&r>=this._miny&&r<=this._maxy}},N.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof N){var e=arguments[0];return!this.isNull()&&!e.isNull()&&!(e._minx>this._maxx||e._maxx<this._minx||e._miny>this._maxy||e._maxy<this._miny)}if(arguments[0]instanceof p){var t=arguments[0];return this.intersects(t.x,t.y)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||r>this._maxy||r<this._miny)}},N.prototype.getMinY=function(){return this._miny},N.prototype.getMinX=function(){return this._minx},N.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof p){var e=arguments[0];this.expandToInclude(e.x,e.y)}else if(arguments[0]instanceof N){var t=arguments[0];if(t.isNull())return null;this.isNull()?(this._minx=t.getMinX(),this._maxx=t.getMaxX(),this._miny=t.getMinY(),this._maxy=t.getMaxY()):(t._minx<this._minx&&(this._minx=t._minx),t._maxx>this._maxx&&(this._maxx=t._maxx),t._miny<this._miny&&(this._miny=t._miny),t._maxy>this._maxy&&(this._maxy=t._maxy))}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=r,this._maxy=r):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}},N.prototype.minExtent=function(){if(this.isNull())return 0;var e=this.getWidth(),t=this.getHeight();return e<t?e:t},N.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},N.prototype.compareTo=function(e){var t=e;return this.isNull()?t.isNull()?0:-1:t.isNull()?1:this._minx<t._minx?-1:this._minx>t._minx?1:this._miny<t._miny?-1:this._miny>t._miny?1:this._maxx<t._maxx?-1:this._maxx>t._maxx?1:this._maxy<t._maxy?-1:this._maxy>t._maxy?1:0},N.prototype.translate=function(e,t){if(this.isNull())return null;this.init(this.getMinX()+e,this.getMaxX()+e,this.getMinY()+t,this.getMaxY()+t)},N.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},N.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},N.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},N.prototype.maxExtent=function(){if(this.isNull())return 0;var e=this.getWidth(),t=this.getHeight();return e>t?e:t},N.prototype.expandBy=function(){if(1===arguments.length){var e=arguments[0];this.expandBy(e,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=t,this._maxx+=t,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},N.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof N){var e=arguments[0];return this.covers(e)}if(arguments[0]instanceof p){var t=arguments[0];return this.covers(t)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.covers(n,r)}},N.prototype.centre=function(){return this.isNull()?null:new p((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},N.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof p){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof N){var t=arguments[0];this._minx=t._minx,this._maxx=t._maxx,this._miny=t._miny,this._maxy=t._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var o=arguments[0],i=arguments[1],a=arguments[2],s=arguments[3];o<i?(this._minx=o,this._maxx=i):(this._minx=i,this._maxx=o),a<s?(this._miny=a,this._maxy=s):(this._miny=s,this._maxy=a)}},N.prototype.getMaxY=function(){return this._maxy},N.prototype.distance=function(e){if(this.intersects(e))return 0;var t=0;this._maxx<e._minx?t=e._minx-this._maxx:this._minx>e._maxx&&(t=this._minx-e._maxx);var n=0;return this._maxy<e._miny?n=e._miny-this._maxy:this._miny>e._maxy&&(n=this._miny-e._maxy),0===t?n:0===n?t:Math.sqrt(t*t+n*n)},N.prototype.hashCode=function(){var e=17;return 37*(e=37*(e=37*(e=37*e+p.hashCode(this._minx))+p.hashCode(this._maxx))+p.hashCode(this._miny))+p.hashCode(this._maxy)},N.prototype.interfaces_=function(){return[s,c]},N.prototype.getClass=function(){return N},N.intersects=function(){if(3===arguments.length){var e=arguments[0],t=arguments[1],n=arguments[2];return n.x>=(e.x<t.x?e.x:t.x)&&n.x<=(e.x>t.x?e.x:t.x)&&n.y>=(e.y<t.y?e.y:t.y)&&n.y<=(e.y>t.y?e.y:t.y)}if(4===arguments.length){var r=arguments[0],o=arguments[1],i=arguments[2],a=arguments[3],s=Math.min(i.x,a.x),l=Math.max(i.x,a.x),u=Math.min(r.x,o.x),c=Math.max(r.x,o.x);return!(u>l||c<s||(s=Math.min(i.y,a.y),l=Math.max(i.y,a.y),u=Math.min(r.y,o.y),c=Math.max(r.y,o.y),u>l||c<s))}},D.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(N,D);var z={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},R=function(e){this.geometryFactory=e||new wt};R.prototype.read=function(e){var t,n,r;e=e.replace(/[\n\r]/g," ");var o=z.typeStr.exec(e);if(-1!==e.search("EMPTY")&&((o=z.emptyTypeStr.exec(e))[2]=void 0),o&&(n=o[1].toLowerCase(),r=o[2],L[n]&&(t=L[n].apply(this,[r]))),void 0===t)throw new Error("Could not parse WKT "+e);return t},R.prototype.write=function(e){return this.extractGeometry(e)},R.prototype.extractGeometry=function(e){var t=e.getGeometryType().toLowerCase();if(!k[t])return null;var n=t.toUpperCase();return e.isEmpty()?n+" EMPTY":n+"("+k[t].apply(this,[e])+")"};var k={coordinate:function(e){return e.x+" "+e.y},point:function(e){return k.coordinate.call(this,e._coordinates._coordinates[0])},multipoint:function(e){for(var t=[],n=0,r=e._geometries.length;n<r;++n)t.push("("+k.point.apply(this,[e._geometries[n]])+")");return t.join(",")},linestring:function(e){for(var t=[],n=0,r=e._points._coordinates.length;n<r;++n)t.push(k.coordinate.apply(this,[e._points._coordinates[n]]));return t.join(",")},linearring:function(e){for(var t=[],n=0,r=e._points._coordinates.length;n<r;++n)t.push(k.coordinate.apply(this,[e._points._coordinates[n]]));return t.join(",")},multilinestring:function(e){for(var t=[],n=0,r=e._geometries.length;n<r;++n)t.push("("+k.linestring.apply(this,[e._geometries[n]])+")");return t.join(",")},polygon:function(e){var t=[];t.push("("+k.linestring.apply(this,[e._shell])+")");for(var n=0,r=e._holes.length;n<r;++n)t.push("("+k.linestring.apply(this,[e._holes[n]])+")");return t.join(",")},multipolygon:function(e){for(var t=[],n=0,r=e._geometries.length;n<r;++n)t.push("("+k.polygon.apply(this,[e._geometries[n]])+")");return t.join(",")},geometrycollection:function(e){for(var t=[],n=0,r=e._geometries.length;n<r;++n)t.push(this.extractGeometry(e._geometries[n]));return t.join(",")}},L={point:function(e){if(void 0===e)return this.geometryFactory.createPoint();var t=e.trim().split(z.spaces);return this.geometryFactory.createPoint(new p(Number.parseFloat(t[0]),Number.parseFloat(t[1])))},multipoint:function(e){var t;if(void 0===e)return this.geometryFactory.createMultiPoint();for(var n=e.trim().split(","),r=[],o=0,i=n.length;o<i;++o)t=n[o].replace(z.trimParens,"$1"),r.push(L.point.apply(this,[t]));return this.geometryFactory.createMultiPoint(r)},linestring:function(e){if(void 0===e)return this.geometryFactory.createLineString();for(var t,n=e.trim().split(","),r=[],o=0,i=n.length;o<i;++o)t=n[o].trim().split(z.spaces),r.push(new p(Number.parseFloat(t[0]),Number.parseFloat(t[1])));return this.geometryFactory.createLineString(r)},linearring:function(e){if(void 0===e)return this.geometryFactory.createLinearRing();for(var t,n=e.trim().split(","),r=[],o=0,i=n.length;o<i;++o)t=n[o].trim().split(z.spaces),r.push(new p(Number.parseFloat(t[0]),Number.parseFloat(t[1])));return this.geometryFactory.createLinearRing(r)},multilinestring:function(e){var t;if(void 0===e)return this.geometryFactory.createMultiLineString();for(var n=e.trim().split(z.parenComma),r=[],o=0,i=n.length;o<i;++o)t=n[o].replace(z.trimParens,"$1"),r.push(L.linestring.apply(this,[t]));return this.geometryFactory.createMultiLineString(r)},polygon:function(e){var t,n,r;if(void 0===e)return this.geometryFactory.createPolygon();for(var o,i=e.trim().split(z.parenComma),a=[],s=0,l=i.length;s<l;++s)t=i[s].replace(z.trimParens,"$1"),n=L.linestring.apply(this,[t]),r=this.geometryFactory.createLinearRing(n._points),0===s?o=r:a.push(r);return this.geometryFactory.createPolygon(o,a)},multipolygon:function(e){var t;if(void 0===e)return this.geometryFactory.createMultiPolygon();for(var n=e.trim().split(z.doubleParenComma),r=[],o=0,i=n.length;o<i;++o)t=n[o].replace(z.trimParens,"$1"),r.push(L.polygon.apply(this,[t]));return this.geometryFactory.createMultiPolygon(r)},geometrycollection:function(e){if(void 0===e)return this.geometryFactory.createGeometryCollection();for(var t=(e=e.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],r=0,o=t.length;r<o;++r)n.push(this.read(t[r]));return this.geometryFactory.createGeometryCollection(n)}},F=function(e){this.parser=new R(e)};F.prototype.write=function(e){return this.parser.write(e)},F.toLineString=function(e,t){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+e.x+" "+e.y+", "+t.x+" "+t.y+" )"};var B=function(e){function t(t){e.call(this,t),this.name="RuntimeException",this.message=t,this.stack=(new e).stack}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),V=function(e){function t(){if(e.call(this),0===arguments.length)e.call(this);else if(1===arguments.length){var t=arguments[0];e.call(this,t)}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(B),G=function(){};G.prototype.interfaces_=function(){return[]},G.prototype.getClass=function(){return G},G.shouldNeverReachHere=function(){if(0===arguments.length)G.shouldNeverReachHere(null);else if(1===arguments.length){var e=arguments[0];throw new V("Should never reach here"+(null!==e?": "+e:""))}},G.isTrue=function(){var e;if(1===arguments.length)G.isTrue(arguments[0],null);else if(2===arguments.length&&(e=arguments[1],!arguments[0]))throw null===e?new V:new V(e)},G.equals=function(){var e,t,n;if(2===arguments.length)G.equals(e=arguments[0],t=arguments[1],null);else if(3===arguments.length&&(e=arguments[0],n=arguments[2],!(t=arguments[1]).equals(e)))throw new V("Expected "+e+" but encountered "+t+(null!==n?": "+n:""))};var U=function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new p,this._intPt[1]=new p,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},W={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};U.prototype.getIndexAlongSegment=function(e,t){return this.computeIntLineIndex(),this._intLineIndex[e][t]},U.prototype.getTopologySummary=function(){var e=new _;return this.isEndPoint()&&e.append(" endpoint"),this._isProper&&e.append(" proper"),this.isCollinear()&&e.append(" collinear"),e.toString()},U.prototype.computeIntersection=function(e,t,n,r){this._inputLines[0][0]=e,this._inputLines[0][1]=t,this._inputLines[1][0]=n,this._inputLines[1][1]=r,this._result=this.computeIntersect(e,t,n,r)},U.prototype.getIntersectionNum=function(){return this._result},U.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var e=arguments[0],t=this.getEdgeDistance(e,0),n=this.getEdgeDistance(e,1);t>n?(this._intLineIndex[e][0]=0,this._intLineIndex[e][1]=1):(this._intLineIndex[e][0]=1,this._intLineIndex[e][1]=0)}},U.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},U.prototype.setPrecisionModel=function(e){this._precisionModel=e},U.prototype.isInteriorIntersection=function(){var e=this;if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],n=0;n<this._result;n++)if(!e._intPt[n].equals2D(e._inputLines[t][0])&&!e._intPt[n].equals2D(e._inputLines[t][1]))return!0;return!1}},U.prototype.getIntersection=function(e){return this._intPt[e]},U.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},U.prototype.hasIntersection=function(){return this._result!==U.NO_INTERSECTION},U.prototype.getEdgeDistance=function(e,t){return U.computeEdgeDistance(this._intPt[t],this._inputLines[e][0],this._inputLines[e][1])},U.prototype.isCollinear=function(){return this._result===U.COLLINEAR_INTERSECTION},U.prototype.toString=function(){return F.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+F.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},U.prototype.getEndpoint=function(e,t){return this._inputLines[e][t]},U.prototype.isIntersection=function(e){for(var t=0;t<this._result;t++)if(this._intPt[t].equals2D(e))return!0;return!1},U.prototype.getIntersectionAlongSegment=function(e,t){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[e][t]]},U.prototype.interfaces_=function(){return[]},U.prototype.getClass=function(){return U},U.computeEdgeDistance=function(e,t,n){var r=Math.abs(n.x-t.x),o=Math.abs(n.y-t.y),i=-1;if(e.equals(t))i=0;else if(e.equals(n))i=r>o?r:o;else{var a=Math.abs(e.x-t.x),s=Math.abs(e.y-t.y);0!==(i=r>o?a:s)||e.equals(t)||(i=Math.max(a,s))}return G.isTrue(!(0===i&&!e.equals(t)),"Bad distance calculation"),i},U.nonRobustComputeEdgeDistance=function(e,t,n){var r=e.x-t.x,o=e.y-t.y,i=Math.sqrt(r*r+o*o);return G.isTrue(!(0===i&&!e.equals(t)),"Invalid distance calculation"),i},W.DONT_INTERSECT.get=function(){return 0},W.DO_INTERSECT.get=function(){return 1},W.COLLINEAR.get=function(){return 2},W.NO_INTERSECTION.get=function(){return 0},W.POINT_INTERSECTION.get=function(){return 1},W.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(U,W);var J=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.isInSegmentEnvelopes=function(e){var t=new N(this._inputLines[0][0],this._inputLines[0][1]),n=new N(this._inputLines[1][0],this._inputLines[1][1]);return t.contains(e)&&n.contains(e)},t.prototype.computeIntersection=function(){if(3!==arguments.length)return e.prototype.computeIntersection.apply(this,arguments);var t=arguments[0],n=arguments[1],r=arguments[2];if(this._isProper=!1,N.intersects(n,r,t)&&0===Y.orientationIndex(n,r,t)&&0===Y.orientationIndex(r,n,t))return this._isProper=!0,(t.equals(n)||t.equals(r))&&(this._isProper=!1),this._result=e.POINT_INTERSECTION,null;this._result=e.NO_INTERSECTION},t.prototype.normalizeToMinimum=function(e,t,n,r,o){o.x=this.smallestInAbsValue(e.x,t.x,n.x,r.x),o.y=this.smallestInAbsValue(e.y,t.y,n.y,r.y),e.x-=o.x,e.y-=o.y,t.x-=o.x,t.y-=o.y,n.x-=o.x,n.y-=o.y,r.x-=o.x,r.y-=o.y},t.prototype.safeHCoordinateIntersection=function(e,n,r,o){var i=null;try{i=I.intersection(e,n,r,o)}catch(a){if(!(a instanceof M))throw a;i=t.nearestEndpoint(e,n,r,o)}return i},t.prototype.intersection=function(e,n,r,o){var i=this.intersectionWithNormalization(e,n,r,o);return this.isInSegmentEnvelopes(i)||(i=new p(t.nearestEndpoint(e,n,r,o))),null!==this._precisionModel&&this._precisionModel.makePrecise(i),i},t.prototype.smallestInAbsValue=function(e,t,n,r){var o=e,i=Math.abs(o);return Math.abs(t)<i&&(o=t,i=Math.abs(t)),Math.abs(n)<i&&(o=n,i=Math.abs(n)),Math.abs(r)<i&&(o=r),o},t.prototype.checkDD=function(e,t,n,r,o){var i=x.intersection(e,t,n,r),a=this.isInSegmentEnvelopes(i);A.out.println("DD in env = "+a+"  --------------------- "+i),o.distance(i)>1e-4&&A.out.println("Distance = "+o.distance(i))},t.prototype.intersectionWithNormalization=function(e,t,n,r){var o=new p(e),i=new p(t),a=new p(n),s=new p(r),l=new p;this.normalizeToEnvCentre(o,i,a,s,l);var u=this.safeHCoordinateIntersection(o,i,a,s);return u.x+=l.x,u.y+=l.y,u},t.prototype.computeCollinearIntersection=function(t,n,r,o){var i=N.intersects(t,n,r),a=N.intersects(t,n,o),s=N.intersects(r,o,t),l=N.intersects(r,o,n);return i&&a?(this._intPt[0]=r,this._intPt[1]=o,e.COLLINEAR_INTERSECTION):s&&l?(this._intPt[0]=t,this._intPt[1]=n,e.COLLINEAR_INTERSECTION):i&&s?(this._intPt[0]=r,this._intPt[1]=t,!r.equals(t)||a||l?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):i&&l?(this._intPt[0]=r,this._intPt[1]=n,!r.equals(n)||a||s?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):a&&s?(this._intPt[0]=o,this._intPt[1]=t,!o.equals(t)||i||l?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):a&&l?(this._intPt[0]=o,this._intPt[1]=n,!o.equals(n)||i||s?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):e.NO_INTERSECTION},t.prototype.normalizeToEnvCentre=function(e,t,n,r,o){var i=e.x<t.x?e.x:t.x,a=e.y<t.y?e.y:t.y,s=e.x>t.x?e.x:t.x,l=e.y>t.y?e.y:t.y,u=n.x<r.x?n.x:r.x,c=n.y<r.y?n.y:r.y,p=n.x>r.x?n.x:r.x,f=n.y>r.y?n.y:r.y,d=((i>u?i:u)+(s<p?s:p))/2,h=((a>c?a:c)+(l<f?l:f))/2;o.x=d,o.y=h,e.x-=o.x,e.y-=o.y,t.x-=o.x,t.y-=o.y,n.x-=o.x,n.y-=o.y,r.x-=o.x,r.y-=o.y},t.prototype.computeIntersect=function(t,n,r,o){if(this._isProper=!1,!N.intersects(t,n,r,o))return e.NO_INTERSECTION;var i=Y.orientationIndex(t,n,r),a=Y.orientationIndex(t,n,o);if(i>0&&a>0||i<0&&a<0)return e.NO_INTERSECTION;var s=Y.orientationIndex(r,o,t),l=Y.orientationIndex(r,o,n);return s>0&&l>0||s<0&&l<0?e.NO_INTERSECTION:0===i&&0===a&&0===s&&0===l?this.computeCollinearIntersection(t,n,r,o):(0===i||0===a||0===s||0===l?(this._isProper=!1,t.equals2D(r)||t.equals2D(o)?this._intPt[0]=t:n.equals2D(r)||n.equals2D(o)?this._intPt[0]=n:0===i?this._intPt[0]=new p(r):0===a?this._intPt[0]=new p(o):0===s?this._intPt[0]=new p(t):0===l&&(this._intPt[0]=new p(n))):(this._isProper=!0,this._intPt[0]=this.intersection(t,n,r,o)),e.POINT_INTERSECTION)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.nearestEndpoint=function(e,t,n,r){var o=e,i=Y.distancePointLine(e,n,r),a=Y.distancePointLine(t,n,r);return a<i&&(i=a,o=t),(a=Y.distancePointLine(n,e,t))<i&&(i=a,o=n),(a=Y.distancePointLine(r,e,t))<i&&(i=a,o=r),o},t}(U),H=function(){};H.prototype.interfaces_=function(){return[]},H.prototype.getClass=function(){return H},H.orientationIndex=function(e,t,n){var r=t.x-e.x,o=t.y-e.y,i=n.x-t.x,a=n.y-t.y;return H.signOfDet2x2(r,o,i,a)},H.signOfDet2x2=function(e,t,n,r){var o=null,i=null,a=null;if(o=1,0===e||0===r)return 0===t||0===n?0:t>0?n>0?-o:o:n>0?o:-o;if(0===t||0===n)return r>0?e>0?o:-o:e>0?-o:o;if(t>0?r>0?t<=r||(o=-o,i=e,e=n,n=i,i=t,t=r,r=i):t<=-r?(o=-o,n=-n,r=-r):(i=e,e=-n,n=i,i=t,t=-r,r=i):r>0?-t<=r?(o=-o,e=-e,t=-t):(i=-e,e=n,n=i,i=-t,t=r,r=i):t>=r?(e=-e,t=-t,n=-n,r=-r):(o=-o,i=-e,e=-n,n=i,i=-t,t=-r,r=i),e>0){if(!(n>0))return o;if(!(e<=n))return o}else{if(n>0)return-o;if(!(e>=n))return-o;o=-o,e=-e,n=-n}for(;;){if((r-=(a=Math.floor(n/e))*t)<0)return-o;if(r>t)return o;if(e>(n-=a*e)+n){if(t<r+r)return o}else{if(t>r+r)return-o;n=e-n,r=t-r,o=-o}if(0===r)return 0===n?0:-o;if(0===n)return o;if((t-=(a=Math.floor(e/n))*r)<0)return o;if(t>r)return-o;if(n>(e-=a*n)+e){if(r<t+t)return-o}else{if(r>t+t)return o;e=n-e,t=r-t,o=-o}if(0===t)return 0===e?0:o;if(0===e)return-o}};var q=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var e=arguments[0];this._p=e};q.prototype.countSegment=function(e,t){if(e.x<this._p.x&&t.x<this._p.x)return null;if(this._p.x===t.x&&this._p.y===t.y)return this._isPointOnSegment=!0,null;if(e.y===this._p.y&&t.y===this._p.y){var n=e.x,r=t.x;return n>r&&(n=t.x,r=e.x),this._p.x>=n&&this._p.x<=r&&(this._isPointOnSegment=!0),null}if(e.y>this._p.y&&t.y<=this._p.y||t.y>this._p.y&&e.y<=this._p.y){var o=e.x-this._p.x,i=e.y-this._p.y,a=t.x-this._p.x,s=t.y-this._p.y,l=H.signOfDet2x2(o,i,a,s);if(0===l)return this._isPointOnSegment=!0,null;s<i&&(l=-l),l>0&&this._crossingCount++}},q.prototype.isPointInPolygon=function(){return this.getLocation()!==y.EXTERIOR},q.prototype.getLocation=function(){return this._isPointOnSegment?y.BOUNDARY:this._crossingCount%2==1?y.INTERIOR:y.EXTERIOR},q.prototype.isOnSegment=function(){return this._isPointOnSegment},q.prototype.interfaces_=function(){return[]},q.prototype.getClass=function(){return q},q.locatePointInRing=function(){if(arguments[0]instanceof p&&m(arguments[1],E)){for(var e=arguments[0],t=arguments[1],n=new q(e),r=new p,o=new p,i=1;i<t.size();i++)if(t.getCoordinate(i,r),t.getCoordinate(i-1,o),n.countSegment(r,o),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof p&&arguments[1]instanceof Array){for(var a=arguments[0],s=arguments[1],l=new q(a),u=1;u<s.length;u++){var c=s[u],f=s[u-1];if(l.countSegment(c,f),l.isOnSegment())return l.getLocation()}return l.getLocation()}};var Y=function(){},X={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};Y.prototype.interfaces_=function(){return[]},Y.prototype.getClass=function(){return Y},Y.orientationIndex=function(e,t,n){return x.orientationIndex(e,t,n)},Y.signedArea=function(){if(arguments[0]instanceof Array){var e=arguments[0];if(e.length<3)return 0;for(var t=0,n=e[0].x,r=1;r<e.length-1;r++){var o=e[r].x-n,i=e[r+1].y,a=e[r-1].y;t+=o*(a-i)}return t/2}if(m(arguments[0],E)){var s=arguments[0],l=s.size();if(l<3)return 0;var u=new p,c=new p,f=new p;s.getCoordinate(0,c),s.getCoordinate(1,f);var d=c.x;f.x-=d;for(var h=0,y=1;y<l-1;y++)u.y=c.y,c.x=f.x,c.y=f.y,s.getCoordinate(y+1,f),f.x-=d,h+=c.x*(u.y-f.y);return h/2}},Y.distanceLineLine=function(e,t,n,r){if(e.equals(t))return Y.distancePointLine(e,n,r);if(n.equals(r))return Y.distancePointLine(r,e,t);var o=!1;if(N.intersects(e,t,n,r)){var i=(t.x-e.x)*(r.y-n.y)-(t.y-e.y)*(r.x-n.x);if(0===i)o=!0;else{var a=(e.y-n.y)*(r.x-n.x)-(e.x-n.x)*(r.y-n.y),s=((e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y))/i,l=a/i;(l<0||l>1||s<0||s>1)&&(o=!0)}}else o=!0;return o?v.min(Y.distancePointLine(e,n,r),Y.distancePointLine(t,n,r),Y.distancePointLine(n,e,t),Y.distancePointLine(r,e,t)):0},Y.isPointInRing=function(e,t){return Y.locatePointInRing(e,t)!==y.EXTERIOR},Y.computeLength=function(e){var t=e.size();if(t<=1)return 0;var n=0,r=new p;e.getCoordinate(0,r);for(var o=r.x,i=r.y,a=1;a<t;a++){e.getCoordinate(a,r);var s=r.x,l=r.y,u=s-o,c=l-i;n+=Math.sqrt(u*u+c*c),o=s,i=l}return n},Y.isCCW=function(e){var t=e.length-1;if(t<3)throw new o("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=e[0],r=0,i=1;i<=t;i++){var a=e[i];a.y>n.y&&(n=a,r=i)}var s=r;do{(s-=1)<0&&(s=t)}while(e[s].equals2D(n)&&s!==r);var l=r;do{l=(l+1)%t}while(e[l].equals2D(n)&&l!==r);var u=e[s],c=e[l];if(u.equals2D(n)||c.equals2D(n)||u.equals2D(c))return!1;var p=Y.computeOrientation(u,n,c);return 0===p?u.x>c.x:p>0},Y.locatePointInRing=function(e,t){return q.locatePointInRing(e,t)},Y.distancePointLinePerpendicular=function(e,t,n){var r=(n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y),o=((t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y))/r;return Math.abs(o)*Math.sqrt(r)},Y.computeOrientation=function(e,t,n){return Y.orientationIndex(e,t,n)},Y.distancePointLine=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];if(0===t.length)throw new o("Line array must contain at least one vertex");for(var n=e.distance(t[0]),r=0;r<t.length-1;r++){var i=Y.distancePointLine(e,t[r],t[r+1]);i<n&&(n=i)}return n}if(3===arguments.length){var a=arguments[0],s=arguments[1],l=arguments[2];if(s.x===l.x&&s.y===l.y)return a.distance(s);var u=(l.x-s.x)*(l.x-s.x)+(l.y-s.y)*(l.y-s.y),c=((a.x-s.x)*(l.x-s.x)+(a.y-s.y)*(l.y-s.y))/u;if(c<=0)return a.distance(s);if(c>=1)return a.distance(l);var p=((s.y-a.y)*(l.x-s.x)-(s.x-a.x)*(l.y-s.y))/u;return Math.abs(p)*Math.sqrt(u)}},Y.isOnLine=function(e,t){for(var n=new J,r=1;r<t.length;r++){var o=t[r-1],i=t[r];if(n.computeIntersection(e,o,i),n.hasIntersection())return!0}return!1},X.CLOCKWISE.get=function(){return-1},X.RIGHT.get=function(){return Y.CLOCKWISE},X.COUNTERCLOCKWISE.get=function(){return 1},X.LEFT.get=function(){return Y.COUNTERCLOCKWISE},X.COLLINEAR.get=function(){return 0},X.STRAIGHT.get=function(){return Y.COLLINEAR},Object.defineProperties(Y,X);var Z=function(){};Z.prototype.filter=function(e){},Z.prototype.interfaces_=function(){return[]},Z.prototype.getClass=function(){return Z};var K=function(){var e=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=e,this._SRID=e.getSRID()},Q={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};K.prototype.isGeometryCollection=function(){return this.getSortIndex()===K.SORTINDEX_GEOMETRYCOLLECTION},K.prototype.getFactory=function(){return this._factory},K.prototype.getGeometryN=function(e){return this},K.prototype.getArea=function(){return 0},K.prototype.isRectangle=function(){return!1},K.prototype.equals=function(){if(arguments[0]instanceof K){var e=arguments[0];return null!==e&&this.equalsTopo(e)}if(arguments[0]instanceof Object){var t=arguments[0];if(!(t instanceof K))return!1;var n=t;return this.equalsExact(n)}},K.prototype.equalsExact=function(e){return this===e||this.equalsExact(e,0)},K.prototype.geometryChanged=function(){this.apply(K.geometryChangedFilter)},K.prototype.geometryChangedAction=function(){this._envelope=null},K.prototype.equalsNorm=function(e){return null!==e&&this.norm().equalsExact(e.norm())},K.prototype.getLength=function(){return 0},K.prototype.getNumGeometries=function(){return 1},K.prototype.compareTo=function(){if(1===arguments.length){var e=arguments[0],t=e;return this.getSortIndex()!==t.getSortIndex()?this.getSortIndex()-t.getSortIndex():this.isEmpty()&&t.isEmpty()?0:this.isEmpty()?-1:t.isEmpty()?1:this.compareToSameClass(e)}if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,r)}},K.prototype.getUserData=function(){return this._userData},K.prototype.getSRID=function(){return this._SRID},K.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},K.prototype.checkNotGeometryCollection=function(e){if(e.getSortIndex()===K.SORTINDEX_GEOMETRYCOLLECTION)throw new o("This method does not support GeometryCollection arguments")},K.prototype.equal=function(e,t,n){return 0===n?e.equals(t):e.distance(t)<=n},K.prototype.norm=function(){var e=this.copy();return e.normalize(),e},K.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},K.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new N(this._envelope)},K.prototype.setSRID=function(e){this._SRID=e},K.prototype.setUserData=function(e){this._userData=e},K.prototype.compare=function(e,t){for(var n=e.iterator(),r=t.iterator();n.hasNext()&&r.hasNext();){var o=n.next(),i=r.next(),a=o.compareTo(i);if(0!==a)return a}return n.hasNext()?1:r.hasNext()?-1:0},K.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},K.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===K.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===K.SORTINDEX_MULTIPOINT||this.getSortIndex()===K.SORTINDEX_MULTILINESTRING||this.getSortIndex()===K.SORTINDEX_MULTIPOLYGON},K.prototype.interfaces_=function(){return[l,s,c]},K.prototype.getClass=function(){return K},K.hasNonEmptyElements=function(e){for(var t=0;t<e.length;t++)if(!e[t].isEmpty())return!0;return!1},K.hasNullElements=function(e){for(var t=0;t<e.length;t++)if(null===e[t])return!0;return!1},Q.serialVersionUID.get=function(){return 0x799ea46522854c00},Q.SORTINDEX_POINT.get=function(){return 0},Q.SORTINDEX_MULTIPOINT.get=function(){return 1},Q.SORTINDEX_LINESTRING.get=function(){return 2},Q.SORTINDEX_LINEARRING.get=function(){return 3},Q.SORTINDEX_MULTILINESTRING.get=function(){return 4},Q.SORTINDEX_POLYGON.get=function(){return 5},Q.SORTINDEX_MULTIPOLYGON.get=function(){return 6},Q.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},Q.geometryChangedFilter.get=function(){return $},Object.defineProperties(K,Q);var $=function(){};$.interfaces_=function(){return[Z]},$.filter=function(e){e.geometryChangedAction()};var ee=function(){};ee.prototype.filter=function(e){},ee.prototype.interfaces_=function(){return[]},ee.prototype.getClass=function(){return ee};var te=function(){},ne={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};te.prototype.isInBoundary=function(e){},te.prototype.interfaces_=function(){return[]},te.prototype.getClass=function(){return te},ne.Mod2BoundaryNodeRule.get=function(){return re},ne.EndPointBoundaryNodeRule.get=function(){return oe},ne.MultiValentEndPointBoundaryNodeRule.get=function(){return ie},ne.MonoValentEndPointBoundaryNodeRule.get=function(){return ae},ne.MOD2_BOUNDARY_RULE.get=function(){return new re},ne.ENDPOINT_BOUNDARY_RULE.get=function(){return new oe},ne.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new ie},ne.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new ae},ne.OGC_SFS_BOUNDARY_RULE.get=function(){return te.MOD2_BOUNDARY_RULE},Object.defineProperties(te,ne);var re=function(){};re.prototype.isInBoundary=function(e){return e%2==1},re.prototype.interfaces_=function(){return[te]},re.prototype.getClass=function(){return re};var oe=function(){};oe.prototype.isInBoundary=function(e){return e>0},oe.prototype.interfaces_=function(){return[te]},oe.prototype.getClass=function(){return oe};var ie=function(){};ie.prototype.isInBoundary=function(e){return e>1},ie.prototype.interfaces_=function(){return[te]},ie.prototype.getClass=function(){return ie};var ae=function(){};ae.prototype.isInBoundary=function(e){return 1===e},ae.prototype.interfaces_=function(){return[te]},ae.prototype.getClass=function(){return ae};var se=function(){};function le(e){this.message=e||""}se.prototype.add=function(){},se.prototype.addAll=function(){},se.prototype.isEmpty=function(){},se.prototype.iterator=function(){},se.prototype.size=function(){},se.prototype.toArray=function(){},se.prototype.remove=function(){},le.prototype=new Error,le.prototype.name="IndexOutOfBoundsException";var ue=function(){};ue.prototype.hasNext=function(){},ue.prototype.next=function(){},ue.prototype.remove=function(){};var ce=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(){},t.prototype.set=function(){},t.prototype.isEmpty=function(){},t}(se);function pe(e){this.message=e||""}pe.prototype=new Error,pe.prototype.name="NoSuchElementException";var fe=function(e){function t(){e.call(this),this.array_=[],arguments[0]instanceof se&&this.addAll(arguments[0])}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.ensureCapacity=function(){},t.prototype.interfaces_=function(){return[e,se]},t.prototype.add=function(e){return 1===arguments.length?this.array_.push(e):this.array_.splice(arguments[0],arguments[1]),!0},t.prototype.clear=function(){this.array_=[]},t.prototype.addAll=function(e){for(var t=e.iterator();t.hasNext();)this.add(t.next());return!0},t.prototype.set=function(e,t){var n=this.array_[e];return this.array_[e]=t,n},t.prototype.iterator=function(){return new de(this)},t.prototype.get=function(e){if(e<0||e>=this.size())throw new le;return this.array_[e]},t.prototype.isEmpty=function(){return 0===this.array_.length},t.prototype.size=function(){return this.array_.length},t.prototype.toArray=function(){for(var e=[],t=0,n=this.array_.length;t<n;t++)e.push(this.array_[t]);return e},t.prototype.remove=function(e){for(var t=!1,n=0,r=this.array_.length;n<r;n++)if(this.array_[n]===e){this.array_.splice(n,1),t=!0;break}return t},t}(ce),de=function(e){function t(t){e.call(this),this.arrayList_=t,this.position_=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new pe;return this.arrayList_.get(this.position_++)},t.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},t.prototype.set=function(e){return this.arrayList_.set(this.position_-1,e)},t.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},t}(ue),he=function(e){function t(){if(e.call(this),0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.ensureCapacity(t.length),this.add(t,!0)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.ensureCapacity(n.length),this.add(n,r)}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},t.prototype.getCoordinate=function(e){return this.get(e)},t.prototype.addAll=function(){var t=this;if(2===arguments.length){for(var n=arguments[0],r=arguments[1],o=!1,i=n.iterator();i.hasNext();)t.add(i.next(),r),o=!0;return o}return e.prototype.addAll.apply(this,arguments)},t.prototype.clone=function(){for(var t=e.prototype.clone.call(this),n=0;n<this.size();n++)t.add(n,this.get(n).copy());return t},t.prototype.toCoordinateArray=function(){return this.toArray(t.coordArrayType)},t.prototype.add=function(){var t=this;if(1===arguments.length){var n=arguments[0];e.prototype.add.call(this,n)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var r=arguments[0],o=arguments[1];return this.add(r,o,!0),!0}if(arguments[0]instanceof p&&"boolean"==typeof arguments[1]){var i=arguments[0],a=arguments[1];if(!a&&this.size()>=1){var s=this.get(this.size()-1);if(s.equals2D(i))return null}e.prototype.add.call(this,i)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var l=arguments[0],u=arguments[1];return this.add(l,u),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var c=arguments[0],f=arguments[1],d=arguments[2];if(d)for(var h=0;h<c.length;h++)t.add(c[h],f);else for(var y=c.length-1;y>=0;y--)t.add(c[y],f);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof p){var g=arguments[0],m=arguments[1],v=arguments[2];if(!v){var b=this.size();if(b>0){if(g>0){var _=this.get(g-1);if(_.equals2D(m))return null}if(g<b){var w=this.get(g);if(w.equals2D(m))return null}}}e.prototype.add.call(this,g,m)}}else if(4===arguments.length){var P=arguments[0],C=arguments[1],O=arguments[2],x=arguments[3],S=1;O>x&&(S=-1);for(var E=O;E!==x;E+=S)t.add(P[E],C);return!0}},t.prototype.closeRing=function(){this.size()>0&&this.add(new p(this.get(0)),!1)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},Object.defineProperties(t,n),t}(fe),ye=function(){},ge={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};ge.ForwardComparator.get=function(){return me},ge.BidirectionalComparator.get=function(){return ve},ge.coordArrayType.get=function(){return new Array(0).fill(null)},ye.prototype.interfaces_=function(){return[]},ye.prototype.getClass=function(){return ye},ye.isRing=function(e){return!(e.length<4||!e[0].equals2D(e[e.length-1]))},ye.ptNotInList=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(ye.indexOf(r,t)<0)return r}return null},ye.scroll=function(e,t){var n=ye.indexOf(t,e);if(n<0)return null;var r=new Array(e.length).fill(null);A.arraycopy(e,n,r,0,e.length-n),A.arraycopy(e,0,r,e.length-n,n),A.arraycopy(r,0,e,0,e.length)},ye.equals=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];if(e===t)return!0;if(null===e||null===t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].equals(t[n]))return!1;return!0}if(3===arguments.length){var r=arguments[0],o=arguments[1],i=arguments[2];if(r===o)return!0;if(null===r||null===o)return!1;if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(0!==i.compare(r[a],o[a]))return!1;return!0}},ye.intersection=function(e,t){for(var n=new he,r=0;r<e.length;r++)t.intersects(e[r])&&n.add(e[r],!0);return n.toCoordinateArray()},ye.hasRepeatedPoints=function(e){for(var t=1;t<e.length;t++)if(e[t-1].equals(e[t]))return!0;return!1},ye.removeRepeatedPoints=function(e){return ye.hasRepeatedPoints(e)?new he(e,!1).toCoordinateArray():e},ye.reverse=function(e){for(var t=e.length-1,n=Math.trunc(t/2),r=0;r<=n;r++){var o=e[r];e[r]=e[t-r],e[t-r]=o}},ye.removeNull=function(e){for(var t=0,n=0;n<e.length;n++)null!==e[n]&&t++;var r=new Array(t).fill(null);if(0===t)return r;for(var o=0,i=0;i<e.length;i++)null!==e[i]&&(r[o++]=e[i]);return r},ye.copyDeep=function(){if(1===arguments.length){for(var e=arguments[0],t=new Array(e.length).fill(null),n=0;n<e.length;n++)t[n]=new p(e[n]);return t}if(5===arguments.length)for(var r=arguments[0],o=arguments[1],i=arguments[2],a=arguments[3],s=arguments[4],l=0;l<s;l++)i[a+l]=new p(r[o+l])},ye.isEqualReversed=function(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=t[e.length-n-1];if(0!==r.compareTo(o))return!1}return!0},ye.envelope=function(e){for(var t=new N,n=0;n<e.length;n++)t.expandToInclude(e[n]);return t},ye.toCoordinateArray=function(e){return e.toArray(ye.coordArrayType)},ye.atLeastNCoordinatesOrNothing=function(e,t){return t.length>=e?t:[]},ye.indexOf=function(e,t){for(var n=0;n<t.length;n++)if(e.equals(t[n]))return n;return-1},ye.increasingDirection=function(e){for(var t=0;t<Math.trunc(e.length/2);t++){var n=e.length-1-t,r=e[t].compareTo(e[n]);if(0!==r)return r}return 1},ye.compare=function(e,t){for(var n=0;n<e.length&&n<t.length;){var r=e[n].compareTo(t[n]);if(0!==r)return r;n++}return n<t.length?-1:n<e.length?1:0},ye.minCoordinate=function(e){for(var t=null,n=0;n<e.length;n++)(null===t||t.compareTo(e[n])>0)&&(t=e[n]);return t},ye.extract=function(e,t,n){t=v.clamp(t,0,e.length);var r=(n=v.clamp(n,-1,e.length))-t+1;n<0&&(r=0),t>=e.length&&(r=0),n<t&&(r=0);var o=new Array(r).fill(null);if(0===r)return o;for(var i=0,a=t;a<=n;a++)o[i++]=e[a];return o},Object.defineProperties(ye,ge);var me=function(){};me.prototype.compare=function(e,t){return ye.compare(e,t)},me.prototype.interfaces_=function(){return[u]},me.prototype.getClass=function(){return me};var ve=function(){};ve.prototype.compare=function(e,t){var n=e,r=t;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;var o=ye.compare(n,r);return ye.isEqualReversed(n,r)?0:o},ve.prototype.OLDcompare=function(e,t){var n=e,r=t;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;for(var o=ye.increasingDirection(n),i=ye.increasingDirection(r),a=o>0?0:n.length-1,s=i>0?0:n.length-1,l=0;l<n.length;l++){var u=n[a].compareTo(r[s]);if(0!==u)return u;a+=o,s+=i}return 0},ve.prototype.interfaces_=function(){return[u]},ve.prototype.getClass=function(){return ve};var be=function(){};be.prototype.get=function(){},be.prototype.put=function(){},be.prototype.size=function(){},be.prototype.values=function(){},be.prototype.entrySet=function(){};var _e=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(be);function we(e){this.message=e||""}function Pe(){}we.prototype=new Error,we.prototype.name="OperationNotSupported",Pe.prototype=new se,Pe.prototype.contains=function(){};var Ce=function(e){function t(){e.call(this),this.array_=[],arguments[0]instanceof se&&this.addAll(arguments[0])}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.contains=function(e){for(var t=0,n=this.array_.length;t<n;t++)if(this.array_[t]===e)return!0;return!1},t.prototype.add=function(e){return!this.contains(e)&&(this.array_.push(e),!0)},t.prototype.addAll=function(e){for(var t=e.iterator();t.hasNext();)this.add(t.next());return!0},t.prototype.remove=function(e){throw new Error},t.prototype.size=function(){return this.array_.length},t.prototype.isEmpty=function(){return 0===this.array_.length},t.prototype.toArray=function(){for(var e=[],t=0,n=this.array_.length;t<n;t++)e.push(this.array_[t]);return e},t.prototype.iterator=function(){return new Oe(this)},t}(Pe),Oe=function(e){function t(t){e.call(this),this.hashSet_=t,this.position_=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new pe;return this.hashSet_.array_[this.position_++]},t.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},t.prototype.remove=function(){throw new we},t}(ue);function xe(e){return null===e?0:e.color}function Se(e){return null===e?null:e.parent}function Ee(e,t){null!==e&&(e.color=t)}function je(e){return null===e?null:e.left}function Te(e){return null===e?null:e.right}function Me(){this.root_=null,this.size_=0}Me.prototype=new _e,Me.prototype.get=function(e){for(var t=this.root_;null!==t;){var n=e.compareTo(t.key);if(n<0)t=t.left;else{if(!(n>0))return t.value;t=t.right}}return null},Me.prototype.put=function(e,t){if(null===this.root_)return this.root_={key:e,value:t,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,r,o=this.root_;do{if(n=o,(r=e.compareTo(o.key))<0)o=o.left;else{if(!(r>0)){var i=o.value;return o.value=t,i}o=o.right}}while(null!==o);var a={key:e,left:null,right:null,value:t,parent:n,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return r<0?n.left=a:n.right=a,this.fixAfterInsertion(a),this.size_++,null},Me.prototype.fixAfterInsertion=function(e){var t=this;for(e.color=1;null!=e&&e!==this.root_&&1===e.parent.color;)if(Se(e)===je(Se(Se(e)))){var n=Te(Se(Se(e)));1===xe(n)?(Ee(Se(e),0),Ee(n,0),Ee(Se(Se(e)),1),e=Se(Se(e))):(e===Te(Se(e))&&(e=Se(e),t.rotateLeft(e)),Ee(Se(e),0),Ee(Se(Se(e)),1),t.rotateRight(Se(Se(e))))}else{var r=je(Se(Se(e)));1===xe(r)?(Ee(Se(e),0),Ee(r,0),Ee(Se(Se(e)),1),e=Se(Se(e))):(e===je(Se(e))&&(e=Se(e),t.rotateRight(e)),Ee(Se(e),0),Ee(Se(Se(e)),1),t.rotateLeft(Se(Se(e))))}this.root_.color=0},Me.prototype.values=function(){var e=new fe,t=this.getFirstEntry();if(null!==t)for(e.add(t.value);null!==(t=Me.successor(t));)e.add(t.value);return e},Me.prototype.entrySet=function(){var e=new Ce,t=this.getFirstEntry();if(null!==t)for(e.add(t);null!==(t=Me.successor(t));)e.add(t);return e},Me.prototype.rotateLeft=function(e){if(null!=e){var t=e.right;e.right=t.left,null!=t.left&&(t.left.parent=e),t.parent=e.parent,null===e.parent?this.root_=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}},Me.prototype.rotateRight=function(e){if(null!=e){var t=e.left;e.left=t.right,null!=t.right&&(t.right.parent=e),t.parent=e.parent,null===e.parent?this.root_=t:e.parent.right===e?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}},Me.prototype.getFirstEntry=function(){var e=this.root_;if(null!=e)for(;null!=e.left;)e=e.left;return e},Me.successor=function(e){if(null===e)return null;if(null!==e.right){for(var t=e.right;null!==t.left;)t=t.left;return t}for(var n=e.parent,r=e;null!==n&&r===n.right;)r=n,n=n.parent;return n},Me.prototype.size=function(){return this.size_};var Ae=function(){};function Ie(){}function Ne(){this.array_=[],arguments[0]instanceof se&&this.addAll(arguments[0])}Ae.prototype.interfaces_=function(){return[]},Ae.prototype.getClass=function(){return Ae},Ie.prototype=new Pe,Ne.prototype=new Ie,Ne.prototype.contains=function(e){for(var t=0,n=this.array_.length;t<n;t++)if(0===this.array_[t].compareTo(e))return!0;return!1},Ne.prototype.add=function(e){if(this.contains(e))return!1;for(var t=0,n=this.array_.length;t<n;t++)if(1===this.array_[t].compareTo(e))return this.array_.splice(t,0,e),!0;return this.array_.push(e),!0},Ne.prototype.addAll=function(e){for(var t=e.iterator();t.hasNext();)this.add(t.next());return!0},Ne.prototype.remove=function(e){throw new we},Ne.prototype.size=function(){return this.array_.length},Ne.prototype.isEmpty=function(){return 0===this.array_.length},Ne.prototype.toArray=function(){for(var e=[],t=0,n=this.array_.length;t<n;t++)e.push(this.array_[t]);return e},Ne.prototype.iterator=function(){return new De(this)};var De=function(e){this.treeSet_=e,this.position_=0};De.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new pe;return this.treeSet_.array_[this.position_++]},De.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},De.prototype.remove=function(){throw new we};var ze=function(){};ze.sort=function(){var e,t,n,r,o=arguments[0];if(1===arguments.length)r=function(e,t){return e.compareTo(t)},o.sort(r);else if(2===arguments.length)n=arguments[1],r=function(e,t){return n.compare(e,t)},o.sort(r);else if(3===arguments.length){(t=o.slice(arguments[1],arguments[2])).sort();var i=o.slice(0,arguments[1]).concat(t,o.slice(arguments[2],o.length));for(o.splice(0,o.length),e=0;e<i.length;e++)o.push(i[e])}else if(4===arguments.length)for(t=o.slice(arguments[1],arguments[2]),n=arguments[3],r=function(e,t){return n.compare(e,t)},t.sort(r),i=o.slice(0,arguments[1]).concat(t,o.slice(arguments[2],o.length)),o.splice(0,o.length),e=0;e<i.length;e++)o.push(i[e])},ze.asList=function(e){for(var t=new fe,n=0,r=e.length;n<r;n++)t.add(e[n]);return t};var Re=function(){},ke={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};ke.P.get=function(){return 0},ke.L.get=function(){return 1},ke.A.get=function(){return 2},ke.FALSE.get=function(){return-1},ke.TRUE.get=function(){return-2},ke.DONTCARE.get=function(){return-3},ke.SYM_FALSE.get=function(){return"F"},ke.SYM_TRUE.get=function(){return"T"},ke.SYM_DONTCARE.get=function(){return"*"},ke.SYM_P.get=function(){return"0"},ke.SYM_L.get=function(){return"1"},ke.SYM_A.get=function(){return"2"},Re.prototype.interfaces_=function(){return[]},Re.prototype.getClass=function(){return Re},Re.toDimensionSymbol=function(e){switch(e){case Re.FALSE:return Re.SYM_FALSE;case Re.TRUE:return Re.SYM_TRUE;case Re.DONTCARE:return Re.SYM_DONTCARE;case Re.P:return Re.SYM_P;case Re.L:return Re.SYM_L;case Re.A:return Re.SYM_A}throw new o("Unknown dimension value: "+e)},Re.toDimensionValue=function(e){switch(P.toUpperCase(e)){case Re.SYM_FALSE:return Re.FALSE;case Re.SYM_TRUE:return Re.TRUE;case Re.SYM_DONTCARE:return Re.DONTCARE;case Re.SYM_P:return Re.P;case Re.SYM_L:return Re.L;case Re.SYM_A:return Re.A}throw new o("Unknown dimension symbol: "+e)},Object.defineProperties(Re,ke);var Le=function(){};Le.prototype.filter=function(e){},Le.prototype.interfaces_=function(){return[]},Le.prototype.getClass=function(){return Le};var Fe=function(){};Fe.prototype.filter=function(e,t){},Fe.prototype.isDone=function(){},Fe.prototype.isGeometryChanged=function(){},Fe.prototype.interfaces_=function(){return[]},Fe.prototype.getClass=function(){return Fe};var Be=function(e){function t(t,n){if(e.call(this,n),this._geometries=t||[],e.hasNullElements(this._geometries))throw new o("geometries must not contain null elements")}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){for(var e=new N,t=0;t<this._geometries.length;t++)e.expandToInclude(this._geometries[t].getEnvelopeInternal());return e},t.prototype.getGeometryN=function(e){return this._geometries[e]},t.prototype.getSortIndex=function(){return e.SORTINDEX_GEOMETRYCOLLECTION},t.prototype.getCoordinates=function(){for(var e=new Array(this.getNumPoints()).fill(null),t=-1,n=0;n<this._geometries.length;n++)for(var r=this._geometries[n].getCoordinates(),o=0;o<r.length;o++)e[++t]=r[o];return e},t.prototype.getArea=function(){for(var e=0,t=0;t<this._geometries.length;t++)e+=this._geometries[t].getArea();return e},t.prototype.equalsExact=function(){var t=this;if(2===arguments.length){var n=arguments[0],r=arguments[1];if(!this.isEquivalentClass(n))return!1;var o=n;if(this._geometries.length!==o._geometries.length)return!1;for(var i=0;i<this._geometries.length;i++)if(!t._geometries[i].equalsExact(o._geometries[i],r))return!1;return!0}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){for(var e=0;e<this._geometries.length;e++)this._geometries[e].normalize();ze.sort(this._geometries)},t.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},t.prototype.getBoundaryDimension=function(){for(var e=Re.FALSE,t=0;t<this._geometries.length;t++)e=Math.max(e,this._geometries[t].getBoundaryDimension());return e},t.prototype.getDimension=function(){for(var e=Re.FALSE,t=0;t<this._geometries.length;t++)e=Math.max(e,this._geometries[t].getDimension());return e},t.prototype.getLength=function(){for(var e=0,t=0;t<this._geometries.length;t++)e+=this._geometries[t].getLength();return e},t.prototype.getNumPoints=function(){for(var e=0,t=0;t<this._geometries.length;t++)e+=this._geometries[t].getNumPoints();return e},t.prototype.getNumGeometries=function(){return this._geometries.length},t.prototype.reverse=function(){for(var e=this._geometries.length,t=new Array(e).fill(null),n=0;n<this._geometries.length;n++)t[n]=this._geometries[n].reverse();return this.getFactory().createGeometryCollection(t)},t.prototype.compareToSameClass=function(){var e=this;if(1===arguments.length){var t=arguments[0],n=new Ne(ze.asList(this._geometries)),r=new Ne(ze.asList(t._geometries));return this.compare(n,r)}if(2===arguments.length){for(var o=arguments[0],i=arguments[1],a=o,s=this.getNumGeometries(),l=a.getNumGeometries(),u=0;u<s&&u<l;){var c=e.getGeometryN(u),p=a.getGeometryN(u),f=c.compareToSameClass(p,i);if(0!==f)return f;u++}return u<s?1:u<l?-1:0}},t.prototype.apply=function(){var e=this;if(m(arguments[0],ee))for(var t=arguments[0],n=0;n<this._geometries.length;n++)e._geometries[n].apply(t);else if(m(arguments[0],Fe)){var r=arguments[0];if(0===this._geometries.length)return null;for(var o=0;o<this._geometries.length&&(e._geometries[o].apply(r),!r.isDone());o++);r.isGeometryChanged()&&this.geometryChanged()}else if(m(arguments[0],Le)){var i=arguments[0];i.filter(this);for(var a=0;a<this._geometries.length;a++)e._geometries[a].apply(i)}else if(m(arguments[0],Z)){var s=arguments[0];s.filter(this);for(var l=0;l<this._geometries.length;l++)e._geometries[l].apply(s)}},t.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),G.shouldNeverReachHere(),null},t.prototype.clone=function(){var t=e.prototype.clone.call(this);t._geometries=new Array(this._geometries.length).fill(null);for(var n=0;n<this._geometries.length;n++)t._geometries[n]=this._geometries[n].clone();return t},t.prototype.getGeometryType=function(){return"GeometryCollection"},t.prototype.copy=function(){for(var e=new Array(this._geometries.length).fill(null),n=0;n<e.length;n++)e[n]=this._geometries[n].copy();return new t(e,this._factory)},t.prototype.isEmpty=function(){for(var e=0;e<this._geometries.length;e++)if(!this._geometries[e].isEmpty())return!1;return!0},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(t,n),t}(K),Ve=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return K.SORTINDEX_MULTILINESTRING},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!this.isEquivalentClass(t)&&e.prototype.equalsExact.call(this,t,n)}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return this.isClosed()?Re.FALSE:0},t.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var e=0;e<this._geometries.length;e++)if(!this._geometries[e].isClosed())return!1;return!0},t.prototype.getDimension=function(){return 1},t.prototype.reverse=function(){for(var e=this._geometries.length,t=new Array(e).fill(null),n=0;n<this._geometries.length;n++)t[e-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(t)},t.prototype.getBoundary=function(){return new Ge(this).getBoundary()},t.prototype.getGeometryType=function(){return"MultiLineString"},t.prototype.copy=function(){for(var e=new Array(this._geometries.length).fill(null),n=0;n<e.length;n++)e[n]=this._geometries[n].copy();return new t(e,this._factory)},t.prototype.interfaces_=function(){return[Ae]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(t,n),t}(Be),Ge=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var e=arguments[0],t=te.MOD2_BOUNDARY_RULE;this._geom=e,this._geomFact=e.getFactory(),this._bnRule=t}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=r}};Ge.prototype.boundaryMultiLineString=function(e){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var t=this.computeBoundaryCoordinates(e);return 1===t.length?this._geomFact.createPoint(t[0]):this._geomFact.createMultiPointFromCoords(t)},Ge.prototype.getBoundary=function(){return this._geom instanceof $e?this.boundaryLineString(this._geom):this._geom instanceof Ve?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Ge.prototype.boundaryLineString=function(e){return this._geom.isEmpty()?this.getEmptyMultiPoint():e.isClosed()?this._bnRule.isInBoundary(2)?e.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([e.getStartPoint(),e.getEndPoint()])},Ge.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Ge.prototype.computeBoundaryCoordinates=function(e){var t=this,n=new fe;this._endpointMap=new Me;for(var r=0;r<e.getNumGeometries();r++){var o=e.getGeometryN(r);0!==o.getNumPoints()&&(t.addEndpoint(o.getCoordinateN(0)),t.addEndpoint(o.getCoordinateN(o.getNumPoints()-1)))}for(var i=this._endpointMap.entrySet().iterator();i.hasNext();){var a=i.next(),s=a.getValue().count;t._bnRule.isInBoundary(s)&&n.add(a.getKey())}return ye.toCoordinateArray(n)},Ge.prototype.addEndpoint=function(e){var t=this._endpointMap.get(e);null===t&&(t=new Ue,this._endpointMap.put(e,t)),t.count++},Ge.prototype.interfaces_=function(){return[]},Ge.prototype.getClass=function(){return Ge},Ge.getBoundary=function(){if(1===arguments.length){var e=arguments[0],t=new Ge(e);return t.getBoundary()}if(2===arguments.length){var n=arguments[0],r=arguments[1],o=new Ge(n,r);return o.getBoundary()}};var Ue=function(){this.count=null};function We(){}function Je(){}Ue.prototype.interfaces_=function(){return[]},Ue.prototype.getClass=function(){return Ue};var He=function(){};function qe(){}function Ye(){}function Xe(){}var Ze=function(){},Ke={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Ze.prototype.interfaces_=function(){return[]},Ze.prototype.getClass=function(){return Ze},Ze.chars=function(e,t){for(var n=new Array(t).fill(null),r=0;r<t;r++)n[r]=e;return String(n)},Ze.getStackTrace=function(){if(1===arguments.length){var e=arguments[0],t=new qe,n=new We(t);return e.printStackTrace(n),t.toString()}if(2===arguments.length){for(var r=arguments[0],o=arguments[1],i="",a=new Je(Ze.getStackTrace(r)),s=new Xe(a),l=0;l<o;l++)try{i+=s.readLine()+Ze.NEWLINE}catch(e){if(!(e instanceof Ye))throw e;G.shouldNeverReachHere()}return i}},Ze.split=function(e,t){for(var n=t.length,r=new fe,o=""+e,i=o.indexOf(t);i>=0;){var a=o.substring(0,i);r.add(a),i=(o=o.substring(i+n)).indexOf(t)}o.length>0&&r.add(o);for(var s=new Array(r.size()).fill(null),l=0;l<s.length;l++)s[l]=r.get(l);return s},Ze.toString=function(){if(1===arguments.length){var e=arguments[0];return Ze.SIMPLE_ORDINATE_FORMAT.format(e)}},Ze.spaces=function(e){return Ze.chars(" ",e)},Ke.NEWLINE.get=function(){return A.getProperty("line.separator")},Ke.SIMPLE_ORDINATE_FORMAT.get=function(){return new He("0.#")},Object.defineProperties(Ze,Ke);var Qe=function(){};Qe.prototype.interfaces_=function(){return[]},Qe.prototype.getClass=function(){return Qe},Qe.copyCoord=function(e,t,n,r){for(var o=Math.min(e.getDimension(),n.getDimension()),i=0;i<o;i++)n.setOrdinate(r,i,e.getOrdinate(t,i))},Qe.isRing=function(e){var t=e.size();return 0===t||!(t<=3)&&e.getOrdinate(0,E.X)===e.getOrdinate(t-1,E.X)&&e.getOrdinate(0,E.Y)===e.getOrdinate(t-1,E.Y)},Qe.isEqual=function(e,t){var n=e.size();if(n!==t.size())return!1;for(var r=Math.min(e.getDimension(),t.getDimension()),o=0;o<n;o++)for(var a=0;a<r;a++){var s=e.getOrdinate(o,a),l=t.getOrdinate(o,a);if(!(e.getOrdinate(o,a)===t.getOrdinate(o,a)||i.isNaN(s)&&i.isNaN(l)))return!1}return!0},Qe.extend=function(e,t,n){var r=e.create(n,t.getDimension()),o=t.size();if(Qe.copy(t,0,r,0,o),o>0)for(var i=o;i<n;i++)Qe.copy(t,o-1,r,i,1);return r},Qe.reverse=function(e){for(var t=e.size()-1,n=Math.trunc(t/2),r=0;r<=n;r++)Qe.swap(e,r,t-r)},Qe.swap=function(e,t,n){if(t===n)return null;for(var r=0;r<e.getDimension();r++){var o=e.getOrdinate(t,r);e.setOrdinate(t,r,e.getOrdinate(n,r)),e.setOrdinate(n,r,o)}},Qe.copy=function(e,t,n,r,o){for(var i=0;i<o;i++)Qe.copyCoord(e,t+i,n,r+i)},Qe.toString=function(){if(1===arguments.length){var e=arguments[0],t=e.size();if(0===t)return"()";var n=e.getDimension(),r=new _;r.append("(");for(var o=0;o<t;o++){o>0&&r.append(" ");for(var i=0;i<n;i++)i>0&&r.append(","),r.append(Ze.toString(e.getOrdinate(o,i)))}return r.append(")"),r.toString()}},Qe.ensureValidRing=function(e,t){var n=t.size();return 0===n?t:n<=3?Qe.createClosedRing(e,t,4):t.getOrdinate(0,E.X)===t.getOrdinate(n-1,E.X)&&t.getOrdinate(0,E.Y)===t.getOrdinate(n-1,E.Y)?t:Qe.createClosedRing(e,t,n+1)},Qe.createClosedRing=function(e,t,n){var r=e.create(n,t.getDimension()),o=t.size();Qe.copy(t,0,r,0,o);for(var i=o;i<n;i++)Qe.copy(t,0,r,i,1);return r};var $e=function(e){function t(t,n){e.call(this,n),this._points=null,this.init(t)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new N:this._points.expandEnvelope(new N)},t.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},t.prototype.getSortIndex=function(){return e.SORTINDEX_LINESTRING},t.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},t.prototype.equalsExact=function(){var t=this;if(2===arguments.length){var n=arguments[0],r=arguments[1];if(!this.isEquivalentClass(n))return!1;var o=n;if(this._points.size()!==o._points.size())return!1;for(var i=0;i<this._points.size();i++)if(!t.equal(t._points.getCoordinate(i),o._points.getCoordinate(i),r))return!1;return!0}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){for(var e=this,t=0;t<Math.trunc(this._points.size()/2);t++){var n=e._points.size()-1-t;if(!e._points.getCoordinate(t).equals(e._points.getCoordinate(n)))return e._points.getCoordinate(t).compareTo(e._points.getCoordinate(n))>0&&Qe.reverse(e._points),null}},t.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},t.prototype.getBoundaryDimension=function(){return this.isClosed()?Re.FALSE:0},t.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},t.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},t.prototype.getDimension=function(){return 1},t.prototype.getLength=function(){return Y.computeLength(this._points)},t.prototype.getNumPoints=function(){return this._points.size()},t.prototype.reverse=function(){var e=this._points.copy();return Qe.reverse(e),this.getFactory().createLineString(e)},t.prototype.compareToSameClass=function(){var e=this;if(1===arguments.length){for(var t=arguments[0],n=t,r=0,o=0;r<this._points.size()&&o<n._points.size();){var i=e._points.getCoordinate(r).compareTo(n._points.getCoordinate(o));if(0!==i)return i;r++,o++}return r<this._points.size()?1:o<n._points.size()?-1:0}if(2===arguments.length){var a=arguments[0],s=arguments[1],l=a;return s.compare(this._points,l._points)}},t.prototype.apply=function(){var e=this;if(m(arguments[0],ee))for(var t=arguments[0],n=0;n<this._points.size();n++)t.filter(e._points.getCoordinate(n));else if(m(arguments[0],Fe)){var r=arguments[0];if(0===this._points.size())return null;for(var o=0;o<this._points.size()&&(r.filter(e._points,o),!r.isDone());o++);r.isGeometryChanged()&&this.geometryChanged()}else if(m(arguments[0],Le)){var i=arguments[0];i.filter(this)}else if(m(arguments[0],Z)){var a=arguments[0];a.filter(this)}},t.prototype.getBoundary=function(){return new Ge(this).getBoundary()},t.prototype.isEquivalentClass=function(e){return e instanceof t},t.prototype.clone=function(){var t=e.prototype.clone.call(this);return t._points=this._points.clone(),t},t.prototype.getCoordinateN=function(e){return this._points.getCoordinate(e)},t.prototype.getGeometryType=function(){return"LineString"},t.prototype.copy=function(){return new t(this._points.copy(),this._factory)},t.prototype.getCoordinateSequence=function(){return this._points},t.prototype.isEmpty=function(){return 0===this._points.size()},t.prototype.init=function(e){if(null===e&&(e=this.getFactory().getCoordinateSequenceFactory().create([])),1===e.size())throw new o("Invalid number of points in LineString (found "+e.size()+" - must be 0 or >= 2)");this._points=e},t.prototype.isCoordinate=function(e){for(var t=0;t<this._points.size();t++)if(this._points.getCoordinate(t).equals(e))return!0;return!1},t.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},t.prototype.getPointN=function(e){return this.getFactory().createPoint(this._points.getCoordinate(e))},t.prototype.interfaces_=function(){return[Ae]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(t,n),t}(K),et=function(){};et.prototype.interfaces_=function(){return[]},et.prototype.getClass=function(){return et};var tt=function(e){function t(t,n){e.call(this,n),this._coordinates=t||null,this.init(this._coordinates)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new N;var e=new N;return e.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),e},t.prototype.getSortIndex=function(){return e.SORTINDEX_POINT},t.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!this.isEquivalentClass(t)&&(!(!this.isEmpty()||!t.isEmpty())||this.isEmpty()===t.isEmpty()&&this.equal(t.getCoordinate(),this.getCoordinate(),n))}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){},t.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},t.prototype.getBoundaryDimension=function(){return Re.FALSE},t.prototype.getDimension=function(){return 0},t.prototype.getNumPoints=function(){return this.isEmpty()?0:1},t.prototype.reverse=function(){return this.copy()},t.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},t.prototype.compareToSameClass=function(){if(1===arguments.length){var e=arguments[0],t=e;return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length){var n=arguments[0],r=arguments[1],o=n;return r.compare(this._coordinates,o._coordinates)}},t.prototype.apply=function(){if(m(arguments[0],ee)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this.getCoordinate())}else if(m(arguments[0],Fe)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this._coordinates,0),t.isGeometryChanged()&&this.geometryChanged()}else if(m(arguments[0],Le)){var n=arguments[0];n.filter(this)}else if(m(arguments[0],Z)){var r=arguments[0];r.filter(this)}},t.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},t.prototype.clone=function(){var t=e.prototype.clone.call(this);return t._coordinates=this._coordinates.clone(),t},t.prototype.getGeometryType=function(){return"Point"},t.prototype.copy=function(){return new t(this._coordinates.copy(),this._factory)},t.prototype.getCoordinateSequence=function(){return this._coordinates},t.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},t.prototype.isEmpty=function(){return 0===this._coordinates.size()},t.prototype.init=function(e){null===e&&(e=this.getFactory().getCoordinateSequenceFactory().create([])),G.isTrue(e.size()<=1),this._coordinates=e},t.prototype.isSimple=function(){return!0},t.prototype.interfaces_=function(){return[et]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(t,n),t}(K),nt=function(){};nt.prototype.interfaces_=function(){return[]},nt.prototype.getClass=function(){return nt};var rt=function(e){function t(t,n,r){if(e.call(this,r),this._shell=null,this._holes=null,null===t&&(t=this.getFactory().createLinearRing()),null===n&&(n=[]),e.hasNullElements(n))throw new o("holes must not contain null elements");if(t.isEmpty()&&e.hasNonEmptyElements(n))throw new o("shell is empty but holes are not");this._shell=t,this._holes=n}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},t.prototype.getSortIndex=function(){return e.SORTINDEX_POLYGON},t.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var e=new Array(this.getNumPoints()).fill(null),t=-1,n=this._shell.getCoordinates(),r=0;r<n.length;r++)e[++t]=n[r];for(var o=0;o<this._holes.length;o++)for(var i=this._holes[o].getCoordinates(),a=0;a<i.length;a++)e[++t]=i[a];return e},t.prototype.getArea=function(){var e=0;e+=Math.abs(Y.signedArea(this._shell.getCoordinateSequence()));for(var t=0;t<this._holes.length;t++)e-=Math.abs(Y.signedArea(this._holes[t].getCoordinateSequence()));return e},t.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var e=this._shell.getCoordinateSequence(),t=this.getEnvelopeInternal(),n=0;n<5;n++){var r=e.getX(n);if(r!==t.getMinX()&&r!==t.getMaxX())return!1;var o=e.getY(n);if(o!==t.getMinY()&&o!==t.getMaxY())return!1}for(var i=e.getX(0),a=e.getY(0),s=1;s<=4;s++){var l=e.getX(s),u=e.getY(s);if(l!==i==(u!==a))return!1;i=l,a=u}return!0},t.prototype.equalsExact=function(){var t=this;if(2===arguments.length){var n=arguments[0],r=arguments[1];if(!this.isEquivalentClass(n))return!1;var o=n,i=this._shell,a=o._shell;if(!i.equalsExact(a,r))return!1;if(this._holes.length!==o._holes.length)return!1;for(var s=0;s<this._holes.length;s++)if(!t._holes[s].equalsExact(o._holes[s],r))return!1;return!0}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){var e=this;if(0===arguments.length){this.normalize(this._shell,!0);for(var t=0;t<this._holes.length;t++)e.normalize(e._holes[t],!1);ze.sort(this._holes)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];if(n.isEmpty())return null;var o=new Array(n.getCoordinates().length-1).fill(null);A.arraycopy(n.getCoordinates(),0,o,0,o.length);var i=ye.minCoordinate(n.getCoordinates());ye.scroll(o,i),A.arraycopy(o,0,n.getCoordinates(),0,o.length),n.getCoordinates()[o.length]=o[0],Y.isCCW(n.getCoordinates())===r&&ye.reverse(n.getCoordinates())}},t.prototype.getCoordinate=function(){return this._shell.getCoordinate()},t.prototype.getNumInteriorRing=function(){return this._holes.length},t.prototype.getBoundaryDimension=function(){return 1},t.prototype.getDimension=function(){return 2},t.prototype.getLength=function(){var e=0;e+=this._shell.getLength();for(var t=0;t<this._holes.length;t++)e+=this._holes[t].getLength();return e},t.prototype.getNumPoints=function(){for(var e=this._shell.getNumPoints(),t=0;t<this._holes.length;t++)e+=this._holes[t].getNumPoints();return e},t.prototype.reverse=function(){var e=this.copy();e._shell=this._shell.copy().reverse(),e._holes=new Array(this._holes.length).fill(null);for(var t=0;t<this._holes.length;t++)e._holes[t]=this._holes[t].copy().reverse();return e},t.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},t.prototype.compareToSameClass=function(){var e=this;if(1===arguments.length){var t=arguments[0],n=this._shell,r=t._shell;return n.compareToSameClass(r)}if(2===arguments.length){var o=arguments[0],i=arguments[1],a=o,s=this._shell,l=a._shell,u=s.compareToSameClass(l,i);if(0!==u)return u;for(var c=this.getNumInteriorRing(),p=a.getNumInteriorRing(),f=0;f<c&&f<p;){var d=e.getInteriorRingN(f),h=a.getInteriorRingN(f),y=d.compareToSameClass(h,i);if(0!==y)return y;f++}return f<c?1:f<p?-1:0}},t.prototype.apply=function(e){var t=this;if(m(e,ee)){this._shell.apply(e);for(var n=0;n<this._holes.length;n++)t._holes[n].apply(e)}else if(m(e,Fe)){if(this._shell.apply(e),!e.isDone())for(var r=0;r<this._holes.length&&(t._holes[r].apply(e),!e.isDone());r++);e.isGeometryChanged()&&this.geometryChanged()}else if(m(e,Le))e.filter(this);else if(m(e,Z)){e.filter(this),this._shell.apply(e);for(var o=0;o<this._holes.length;o++)t._holes[o].apply(e)}},t.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var e=new Array(this._holes.length+1).fill(null);e[0]=this._shell;for(var t=0;t<this._holes.length;t++)e[t+1]=this._holes[t];return e.length<=1?this.getFactory().createLinearRing(e[0].getCoordinateSequence()):this.getFactory().createMultiLineString(e)},t.prototype.clone=function(){var t=e.prototype.clone.call(this);t._shell=this._shell.clone(),t._holes=new Array(this._holes.length).fill(null);for(var n=0;n<this._holes.length;n++)t._holes[n]=this._holes[n].clone();return t},t.prototype.getGeometryType=function(){return"Polygon"},t.prototype.copy=function(){for(var e=this._shell.copy(),n=new Array(this._holes.length).fill(null),r=0;r<n.length;r++)n[r]=this._holes[r].copy();return new t(e,n,this._factory)},t.prototype.getExteriorRing=function(){return this._shell},t.prototype.isEmpty=function(){return this._shell.isEmpty()},t.prototype.getInteriorRingN=function(e){return this._holes[e]},t.prototype.interfaces_=function(){return[nt]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(t,n),t}(K),ot=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return K.SORTINDEX_MULTIPOINT},t.prototype.isValid=function(){return!0},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!this.isEquivalentClass(t)&&e.prototype.equalsExact.call(this,t,n)}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getCoordinate=function(){if(1===arguments.length){var t=arguments[0];return this._geometries[t].getCoordinate()}return e.prototype.getCoordinate.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return Re.FALSE},t.prototype.getDimension=function(){return 0},t.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},t.prototype.getGeometryType=function(){return"MultiPoint"},t.prototype.copy=function(){for(var e=new Array(this._geometries.length).fill(null),n=0;n<e.length;n++)e[n]=this._geometries[n].copy();return new t(e,this._factory)},t.prototype.interfaces_=function(){return[et]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(t,n),t}(Be),it=function(e){function t(t,n){t instanceof p&&n instanceof wt&&(t=n.getCoordinateSequenceFactory().create(t)),e.call(this,t,n),this.validateConstruction()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return K.SORTINDEX_LINEARRING},t.prototype.getBoundaryDimension=function(){return Re.FALSE},t.prototype.isClosed=function(){return!!this.isEmpty()||e.prototype.isClosed.call(this)},t.prototype.reverse=function(){var e=this._points.copy();return Qe.reverse(e),this.getFactory().createLinearRing(e)},t.prototype.validateConstruction=function(){if(!this.isEmpty()&&!e.prototype.isClosed.call(this))throw new o("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<t.MINIMUM_VALID_SIZE)throw new o("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},t.prototype.getGeometryType=function(){return"LinearRing"},t.prototype.copy=function(){return new t(this._points.copy(),this._factory)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(t,n),t}($e),at=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return K.SORTINDEX_MULTIPOLYGON},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!this.isEquivalentClass(t)&&e.prototype.equalsExact.call(this,t,n)}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return 1},t.prototype.getDimension=function(){return 2},t.prototype.reverse=function(){for(var e=this._geometries.length,t=new Array(e).fill(null),n=0;n<this._geometries.length;n++)t[n]=this._geometries[n].reverse();return this.getFactory().createMultiPolygon(t)},t.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var e=new fe,t=0;t<this._geometries.length;t++)for(var n=this._geometries[t].getBoundary(),r=0;r<n.getNumGeometries();r++)e.add(n.getGeometryN(r));var o=new Array(e.size()).fill(null);return this.getFactory().createMultiLineString(e.toArray(o))},t.prototype.getGeometryType=function(){return"MultiPolygon"},t.prototype.copy=function(){for(var e=new Array(this._geometries.length).fill(null),n=0;n<e.length;n++)e[n]=this._geometries[n].copy();return new t(e,this._factory)},t.prototype.interfaces_=function(){return[nt]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(t,n),t}(Be),st=function(e){this._factory=e||null,this._isUserDataCopied=!1},lt={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};st.prototype.setCopyUserData=function(e){this._isUserDataCopied=e},st.prototype.edit=function(e,t){if(null===e)return null;var n=this.editInternal(e,t);return this._isUserDataCopied&&n.setUserData(e.getUserData()),n},st.prototype.editInternal=function(e,t){return null===this._factory&&(this._factory=e.getFactory()),e instanceof Be?this.editGeometryCollection(e,t):e instanceof rt?this.editPolygon(e,t):e instanceof tt||e instanceof $e?t.edit(e,this._factory):(G.shouldNeverReachHere("Unsupported Geometry class: "+e.getClass().getName()),null)},st.prototype.editGeometryCollection=function(e,t){for(var n=t.edit(e,this._factory),r=new fe,o=0;o<n.getNumGeometries();o++){var i=this.edit(n.getGeometryN(o),t);null===i||i.isEmpty()||r.add(i)}return n.getClass()===ot?this._factory.createMultiPoint(r.toArray([])):n.getClass()===Ve?this._factory.createMultiLineString(r.toArray([])):n.getClass()===at?this._factory.createMultiPolygon(r.toArray([])):this._factory.createGeometryCollection(r.toArray([]))},st.prototype.editPolygon=function(e,t){var n=t.edit(e,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var r=this.edit(n.getExteriorRing(),t);if(null===r||r.isEmpty())return this._factory.createPolygon();for(var o=new fe,i=0;i<n.getNumInteriorRing();i++){var a=this.edit(n.getInteriorRingN(i),t);null===a||a.isEmpty()||o.add(a)}return this._factory.createPolygon(r,o.toArray([]))},st.prototype.interfaces_=function(){return[]},st.prototype.getClass=function(){return st},st.GeometryEditorOperation=function(){},lt.NoOpGeometryOperation.get=function(){return ut},lt.CoordinateOperation.get=function(){return ct},lt.CoordinateSequenceOperation.get=function(){return pt},Object.defineProperties(st,lt);var ut=function(){};ut.prototype.edit=function(e,t){return e},ut.prototype.interfaces_=function(){return[st.GeometryEditorOperation]},ut.prototype.getClass=function(){return ut};var ct=function(){};ct.prototype.edit=function(e,t){var n=this.editCoordinates(e.getCoordinates(),e);return null===n?e:e instanceof it?t.createLinearRing(n):e instanceof $e?t.createLineString(n):e instanceof tt?n.length>0?t.createPoint(n[0]):t.createPoint():e},ct.prototype.interfaces_=function(){return[st.GeometryEditorOperation]},ct.prototype.getClass=function(){return ct};var pt=function(){};pt.prototype.edit=function(e,t){return e instanceof it?t.createLinearRing(this.edit(e.getCoordinateSequence(),e)):e instanceof $e?t.createLineString(this.edit(e.getCoordinateSequence(),e)):e instanceof tt?t.createPoint(this.edit(e.getCoordinateSequence(),e)):e},pt.prototype.interfaces_=function(){return[st.GeometryEditorOperation]},pt.prototype.getClass=function(){return pt};var ft=function(){var e=this;if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var n=0;n<t;n++)e._coordinates[n]=new p}else if(m(arguments[0],E)){var r=arguments[0];if(null===r)return this._coordinates=new Array(0).fill(null),null;this._dimension=r.getDimension(),this._coordinates=new Array(r.size()).fill(null);for(var o=0;o<this._coordinates.length;o++)e._coordinates[o]=r.getCoordinateCopy(o)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var i=arguments[0],a=arguments[1];this._coordinates=i,this._dimension=a,null===i&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var s=arguments[0],l=arguments[1];this._coordinates=new Array(s).fill(null),this._dimension=l;for(var u=0;u<s;u++)e._coordinates[u]=new p}},dt={serialVersionUID:{configurable:!0}};ft.prototype.setOrdinate=function(e,t,n){switch(t){case E.X:this._coordinates[e].x=n;break;case E.Y:this._coordinates[e].y=n;break;case E.Z:this._coordinates[e].z=n;break;default:throw new o("invalid ordinateIndex")}},ft.prototype.size=function(){return this._coordinates.length},ft.prototype.getOrdinate=function(e,t){switch(t){case E.X:return this._coordinates[e].x;case E.Y:return this._coordinates[e].y;case E.Z:return this._coordinates[e].z}return i.NaN},ft.prototype.getCoordinate=function(){if(1===arguments.length){var e=arguments[0];return this._coordinates[e]}if(2===arguments.length){var t=arguments[0],n=arguments[1];n.x=this._coordinates[t].x,n.y=this._coordinates[t].y,n.z=this._coordinates[t].z}},ft.prototype.getCoordinateCopy=function(e){return new p(this._coordinates[e])},ft.prototype.getDimension=function(){return this._dimension},ft.prototype.getX=function(e){return this._coordinates[e].x},ft.prototype.clone=function(){for(var e=new Array(this.size()).fill(null),t=0;t<this._coordinates.length;t++)e[t]=this._coordinates[t].clone();return new ft(e,this._dimension)},ft.prototype.expandEnvelope=function(e){for(var t=0;t<this._coordinates.length;t++)e.expandToInclude(this._coordinates[t]);return e},ft.prototype.copy=function(){for(var e=new Array(this.size()).fill(null),t=0;t<this._coordinates.length;t++)e[t]=this._coordinates[t].copy();return new ft(e,this._dimension)},ft.prototype.toString=function(){if(this._coordinates.length>0){var e=new _(17*this._coordinates.length);e.append("("),e.append(this._coordinates[0]);for(var t=1;t<this._coordinates.length;t++)e.append(", "),e.append(this._coordinates[t]);return e.append(")"),e.toString()}return"()"},ft.prototype.getY=function(e){return this._coordinates[e].y},ft.prototype.toCoordinateArray=function(){return this._coordinates},ft.prototype.interfaces_=function(){return[E,c]},ft.prototype.getClass=function(){return ft},dt.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(ft,dt);var ht=function(){},yt={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};ht.prototype.readResolve=function(){return ht.instance()},ht.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];return new ft(e)}if(m(arguments[0],E)){var t=arguments[0];return new ft(t)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return r>3&&(r=3),r<2?new ft(n):new ft(n,r)}},ht.prototype.interfaces_=function(){return[h,c]},ht.prototype.getClass=function(){return ht},ht.instance=function(){return ht.instanceObject},yt.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},yt.instanceObject.get=function(){return new ht},Object.defineProperties(ht,yt);var gt=function(e){function t(){e.call(this),this.map_=new Map}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return this.map_.get(e)||null},t.prototype.put=function(e,t){return this.map_.set(e,t),t},t.prototype.values=function(){for(var e=new fe,t=this.map_.values(),n=t.next();!n.done;)e.add(n.value),n=t.next();return e},t.prototype.entrySet=function(){var e=new Ce;return this.map_.entries().forEach((function(t){return e.add(t)})),e},t.prototype.size=function(){return this.map_.size()},t}(be),mt=function e(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=e.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof bt){var t=arguments[0];this._modelType=t,t===e.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=e.FIXED,this.setScale(n)}else if(arguments[0]instanceof e){var r=arguments[0];this._modelType=r._modelType,this._scale=r._scale}},vt={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};mt.prototype.equals=function(e){if(!(e instanceof mt))return!1;var t=e;return this._modelType===t._modelType&&this._scale===t._scale},mt.prototype.compareTo=function(e){var t=e,n=this.getMaximumSignificantDigits(),r=t.getMaximumSignificantDigits();return new w(n).compareTo(new w(r))},mt.prototype.getScale=function(){return this._scale},mt.prototype.isFloating=function(){return this._modelType===mt.FLOATING||this._modelType===mt.FLOATING_SINGLE},mt.prototype.getType=function(){return this._modelType},mt.prototype.toString=function(){var e="UNKNOWN";return this._modelType===mt.FLOATING?e="Floating":this._modelType===mt.FLOATING_SINGLE?e="Floating-Single":this._modelType===mt.FIXED&&(e="Fixed (Scale="+this.getScale()+")"),e},mt.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var e=arguments[0];return i.isNaN(e)||this._modelType===mt.FLOATING_SINGLE?e:this._modelType===mt.FIXED?Math.round(e*this._scale)/this._scale:e}if(arguments[0]instanceof p){var t=arguments[0];if(this._modelType===mt.FLOATING)return null;t.x=this.makePrecise(t.x),t.y=this.makePrecise(t.y)}},mt.prototype.getMaximumSignificantDigits=function(){var e=16;return this._modelType===mt.FLOATING?e=16:this._modelType===mt.FLOATING_SINGLE?e=6:this._modelType===mt.FIXED&&(e=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),e},mt.prototype.setScale=function(e){this._scale=Math.abs(e)},mt.prototype.interfaces_=function(){return[c,s]},mt.prototype.getClass=function(){return mt},mt.mostPrecise=function(e,t){return e.compareTo(t)>=0?e:t},vt.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},vt.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(mt,vt);var bt=function e(t){this._name=t||null,e.nameToTypeMap.put(t,this)},_t={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};bt.prototype.readResolve=function(){return bt.nameToTypeMap.get(this._name)},bt.prototype.toString=function(){return this._name},bt.prototype.interfaces_=function(){return[c]},bt.prototype.getClass=function(){return bt},_t.serialVersionUID.get=function(){return-552860263173159e4},_t.nameToTypeMap.get=function(){return new gt},Object.defineProperties(bt,_t),mt.Type=bt,mt.FIXED=new bt("FIXED"),mt.FLOATING=new bt("FLOATING"),mt.FLOATING_SINGLE=new bt("FLOATING SINGLE");var wt=function e(){this._precisionModel=new mt,this._SRID=0,this._coordinateSequenceFactory=e.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?m(arguments[0],h)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof mt&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},Pt={serialVersionUID:{configurable:!0}};wt.prototype.toGeometry=function(e){return e.isNull()?this.createPoint(null):e.getMinX()===e.getMaxX()&&e.getMinY()===e.getMaxY()?this.createPoint(new p(e.getMinX(),e.getMinY())):e.getMinX()===e.getMaxX()||e.getMinY()===e.getMaxY()?this.createLineString([new p(e.getMinX(),e.getMinY()),new p(e.getMaxX(),e.getMaxY())]):this.createPolygon(this.createLinearRing([new p(e.getMinX(),e.getMinY()),new p(e.getMinX(),e.getMaxY()),new p(e.getMaxX(),e.getMaxY()),new p(e.getMaxX(),e.getMinY()),new p(e.getMinX(),e.getMinY())]),null)},wt.prototype.createLineString=function(e){return e?e instanceof Array?new $e(this.getCoordinateSequenceFactory().create(e),this):m(e,E)?new $e(e,this):void 0:new $e(this.getCoordinateSequenceFactory().create([]),this)},wt.prototype.createMultiLineString=function(){if(0===arguments.length)return new Ve(null,this);if(1===arguments.length){var e=arguments[0];return new Ve(e,this)}},wt.prototype.buildGeometry=function(e){for(var t=null,n=!1,r=!1,o=e.iterator();o.hasNext();){var i=o.next(),a=i.getClass();null===t&&(t=a),a!==t&&(n=!0),i.isGeometryCollectionOrDerived()&&(r=!0)}if(null===t)return this.createGeometryCollection();if(n||r)return this.createGeometryCollection(wt.toGeometryArray(e));var s=e.iterator().next();if(e.size()>1){if(s instanceof rt)return this.createMultiPolygon(wt.toPolygonArray(e));if(s instanceof $e)return this.createMultiLineString(wt.toLineStringArray(e));if(s instanceof tt)return this.createMultiPoint(wt.toPointArray(e));G.shouldNeverReachHere("Unhandled class: "+s.getClass().getName())}return s},wt.prototype.createMultiPointFromCoords=function(e){return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)},wt.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof p){var e=arguments[0];return this.createPoint(null!==e?this.getCoordinateSequenceFactory().create([e]):null)}if(m(arguments[0],E)){var t=arguments[0];return new tt(t,this)}}},wt.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},wt.prototype.createPolygon=function(){if(0===arguments.length)return new rt(null,null,this);if(1===arguments.length){if(m(arguments[0],E)){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Array){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof it){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length){var r=arguments[0],o=arguments[1];return new rt(r,o,this)}},wt.prototype.getSRID=function(){return this._SRID},wt.prototype.createGeometryCollection=function(){if(0===arguments.length)return new Be(null,this);if(1===arguments.length){var e=arguments[0];return new Be(e,this)}},wt.prototype.createGeometry=function(e){return new st(this).edit(e,{edit:function(){if(2===arguments.length){var e=arguments[0];return this._coordinateSequenceFactory.create(e)}}})},wt.prototype.getPrecisionModel=function(){return this._precisionModel},wt.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];return this.createLinearRing(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(m(arguments[0],E)){var t=arguments[0];return new it(t,this)}}},wt.prototype.createMultiPolygon=function(){if(0===arguments.length)return new at(null,this);if(1===arguments.length){var e=arguments[0];return new at(e,this)}},wt.prototype.createMultiPoint=function(){var e=this;if(0===arguments.length)return new ot(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new ot(t,this)}if(arguments[0]instanceof Array){var n=arguments[0];return this.createMultiPoint(null!==n?this.getCoordinateSequenceFactory().create(n):null)}if(m(arguments[0],E)){var r=arguments[0];if(null===r)return this.createMultiPoint(new Array(0).fill(null));for(var o=new Array(r.size()).fill(null),i=0;i<r.size();i++){var a=e.getCoordinateSequenceFactory().create(1,r.getDimension());Qe.copy(r,i,a,0,1),o[i]=e.createPoint(a)}return this.createMultiPoint(o)}}},wt.prototype.interfaces_=function(){return[c]},wt.prototype.getClass=function(){return wt},wt.toMultiPolygonArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},wt.toGeometryArray=function(e){if(null===e)return null;var t=new Array(e.size()).fill(null);return e.toArray(t)},wt.getDefaultCoordinateSequenceFactory=function(){return ht.instance()},wt.toMultiLineStringArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},wt.toLineStringArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},wt.toMultiPointArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},wt.toLinearRingArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},wt.toPointArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},wt.toPolygonArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},wt.createPointFromInternalCoord=function(e,t){return t.getPrecisionModel().makePrecise(e),t.getFactory().createPoint(e)},Pt.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(wt,Pt);var Ct=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],Ot=function(e){this.geometryFactory=e||new wt};Ot.prototype.read=function(e){var t,n=(t="string"==typeof e?JSON.parse(e):e).type;if(!xt[n])throw new Error("Unknown GeoJSON type: "+t.type);return-1!==Ct.indexOf(n)?xt[n].apply(this,[t.coordinates]):"GeometryCollection"===n?xt[n].apply(this,[t.geometries]):xt[n].apply(this,[t])},Ot.prototype.write=function(e){var t=e.getGeometryType();if(!St[t])throw new Error("Geometry is not supported");return St[t].apply(this,[e])};var xt={Feature:function(e){var t={};for(var n in e)t[n]=e[n];if(e.geometry){var r=e.geometry.type;if(!xt[r])throw new Error("Unknown GeoJSON type: "+e.type);t.geometry=this.read(e.geometry)}return e.bbox&&(t.bbox=xt.bbox.apply(this,[e.bbox])),t},FeatureCollection:function(e){var t={};if(e.features){t.features=[];for(var n=0;n<e.features.length;++n)t.features.push(this.read(e.features[n]))}return e.bbox&&(t.bbox=this.parse.bbox.apply(this,[e.bbox])),t},coordinates:function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];t.push(new p(r[0],r[1]))}return t},bbox:function(e){return this.geometryFactory.createLinearRing([new p(e[0],e[1]),new p(e[2],e[1]),new p(e[2],e[3]),new p(e[0],e[3]),new p(e[0],e[1])])},Point:function(e){var t=new p(e[0],e[1]);return this.geometryFactory.createPoint(t)},MultiPoint:function(e){for(var t=[],n=0;n<e.length;++n)t.push(xt.Point.apply(this,[e[n]]));return this.geometryFactory.createMultiPoint(t)},LineString:function(e){var t=xt.coordinates.apply(this,[e]);return this.geometryFactory.createLineString(t)},MultiLineString:function(e){for(var t=[],n=0;n<e.length;++n)t.push(xt.LineString.apply(this,[e[n]]));return this.geometryFactory.createMultiLineString(t)},Polygon:function(e){for(var t=xt.coordinates.apply(this,[e[0]]),n=this.geometryFactory.createLinearRing(t),r=[],o=1;o<e.length;++o){var i=e[o],a=xt.coordinates.apply(this,[i]),s=this.geometryFactory.createLinearRing(a);r.push(s)}return this.geometryFactory.createPolygon(n,r)},MultiPolygon:function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];t.push(xt.Polygon.apply(this,[r]))}return this.geometryFactory.createMultiPolygon(t)},GeometryCollection:function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];t.push(this.read(r))}return this.geometryFactory.createGeometryCollection(t)}},St={coordinate:function(e){return[e.x,e.y]},Point:function(e){return{type:"Point",coordinates:St.coordinate.apply(this,[e.getCoordinate()])}},MultiPoint:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var r=e._geometries[n],o=St.Point.apply(this,[r]);t.push(o.coordinates)}return{type:"MultiPoint",coordinates:t}},LineString:function(e){for(var t=[],n=e.getCoordinates(),r=0;r<n.length;++r){var o=n[r];t.push(St.coordinate.apply(this,[o]))}return{type:"LineString",coordinates:t}},MultiLineString:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var r=e._geometries[n],o=St.LineString.apply(this,[r]);t.push(o.coordinates)}return{type:"MultiLineString",coordinates:t}},Polygon:function(e){var t=[],n=St.LineString.apply(this,[e._shell]);t.push(n.coordinates);for(var r=0;r<e._holes.length;++r){var o=e._holes[r],i=St.LineString.apply(this,[o]);t.push(i.coordinates)}return{type:"Polygon",coordinates:t}},MultiPolygon:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var r=e._geometries[n],o=St.Polygon.apply(this,[r]);t.push(o.coordinates)}return{type:"MultiPolygon",coordinates:t}},GeometryCollection:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var r=e._geometries[n],o=r.getGeometryType();t.push(St[o].apply(this,[r]))}return{type:"GeometryCollection",geometries:t}}},Et=function(e){this.geometryFactory=e||new wt,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Ot(this.geometryFactory)};Et.prototype.read=function(e){var t=this.parser.read(e);return this.precisionModel.getType()===mt.FIXED&&this.reducePrecision(t),t},Et.prototype.reducePrecision=function(e){var t,n;if(e.coordinate)this.precisionModel.makePrecise(e.coordinate);else if(e.points)for(t=0,n=e.points.length;t<n;t++)this.precisionModel.makePrecise(e.points[t]);else if(e.geometries)for(t=0,n=e.geometries.length;t<n;t++)this.reducePrecision(e.geometries[t])};var jt=function(){this.parser=new Ot(this.geometryFactory)};jt.prototype.write=function(e){return this.parser.write(e)};var Tt=function(){},Mt={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};function At(e){this.message=e||""}function It(){this.array_=[]}Tt.prototype.interfaces_=function(){return[]},Tt.prototype.getClass=function(){return Tt},Tt.opposite=function(e){return e===Tt.LEFT?Tt.RIGHT:e===Tt.RIGHT?Tt.LEFT:e},Mt.ON.get=function(){return 0},Mt.LEFT.get=function(){return 1},Mt.RIGHT.get=function(){return 2},Object.defineProperties(Tt,Mt),At.prototype=new Error,At.prototype.name="EmptyStackException",It.prototype=new ce,It.prototype.add=function(e){return this.array_.push(e),!0},It.prototype.get=function(e){if(e<0||e>=this.size())throw new Error;return this.array_[e]},It.prototype.push=function(e){return this.array_.push(e),e},It.prototype.pop=function(e){if(0===this.array_.length)throw new At;return this.array_.pop()},It.prototype.peek=function(){if(0===this.array_.length)throw new At;return this.array_[this.array_.length-1]},It.prototype.empty=function(){return 0===this.array_.length},It.prototype.isEmpty=function(){return this.empty()},It.prototype.search=function(e){return this.array_.indexOf(e)},It.prototype.size=function(){return this.array_.length},It.prototype.toArray=function(){for(var e=[],t=0,n=this.array_.length;t<n;t++)e.push(this.array_[t]);return e};var Nt=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Nt.prototype.getCoordinate=function(){return this._minCoord},Nt.prototype.getRightmostSide=function(e,t){var n=this.getRightmostSideOfSegment(e,t);return n<0&&(n=this.getRightmostSideOfSegment(e,t-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(e)),n},Nt.prototype.findRightmostEdgeAtVertex=function(){var e=this._minDe.getEdge().getCoordinates();G.isTrue(this._minIndex>0&&this._minIndex<e.length,"rightmost point expected to be interior vertex of edge");var t=e[this._minIndex-1],n=e[this._minIndex+1],r=Y.computeOrientation(this._minCoord,n,t),o=!1;(t.y<this._minCoord.y&&n.y<this._minCoord.y&&r===Y.COUNTERCLOCKWISE||t.y>this._minCoord.y&&n.y>this._minCoord.y&&r===Y.CLOCKWISE)&&(o=!0),o&&(this._minIndex=this._minIndex-1)},Nt.prototype.getRightmostSideOfSegment=function(e,t){var n=e.getEdge().getCoordinates();if(t<0||t+1>=n.length)return-1;if(n[t].y===n[t+1].y)return-1;var r=Tt.LEFT;return n[t].y<n[t+1].y&&(r=Tt.RIGHT),r},Nt.prototype.getEdge=function(){return this._orientedDe},Nt.prototype.checkForRightmostCoordinate=function(e){for(var t=this,n=e.getEdge().getCoordinates(),r=0;r<n.length-1;r++)(null===t._minCoord||n[r].x>t._minCoord.x)&&(t._minDe=e,t._minIndex=r,t._minCoord=n[r])},Nt.prototype.findRightmostEdgeAtNode=function(){var e=this._minDe.getNode().getEdges();this._minDe=e.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},Nt.prototype.findEdge=function(e){for(var t=e.iterator();t.hasNext();){var n=t.next();n.isForward()&&this.checkForRightmostCoordinate(n)}G.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Tt.LEFT&&(this._orientedDe=this._minDe.getSym())},Nt.prototype.interfaces_=function(){return[]},Nt.prototype.getClass=function(){return Nt};var Dt=function(e){function t(n,r){e.call(this,t.msgWithCoord(n,r)),this.pt=r?new p(r):null,this.name="TopologyException"}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getCoordinate=function(){return this.pt},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.msgWithCoord=function(e,t){return t?e:e+" [ "+t+" ]"},t}(B),zt=function(){this.array_=[]};zt.prototype.addLast=function(e){this.array_.push(e)},zt.prototype.removeFirst=function(){return this.array_.shift()},zt.prototype.isEmpty=function(){return 0===this.array_.length};var Rt=function(){this._finder=null,this._dirEdgeList=new fe,this._nodes=new fe,this._rightMostCoord=null,this._env=null,this._finder=new Nt};Rt.prototype.clearVisitedEdges=function(){for(var e=this._dirEdgeList.iterator();e.hasNext();)e.next().setVisited(!1)},Rt.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Rt.prototype.computeNodeDepth=function(e){for(var t=null,n=e.getEdges().iterator();n.hasNext();){var r=n.next();if(r.isVisited()||r.getSym().isVisited()){t=r;break}}if(null===t)throw new Dt("unable to find edge to compute depths at "+e.getCoordinate());e.getEdges().computeDepths(t);for(var o=e.getEdges().iterator();o.hasNext();){var i=o.next();i.setVisited(!0),this.copySymDepths(i)}},Rt.prototype.computeDepth=function(e){this.clearVisitedEdges();var t=this._finder.getEdge();t.setEdgeDepths(Tt.RIGHT,e),this.copySymDepths(t),this.computeDepths(t)},Rt.prototype.create=function(e){this.addReachable(e),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Rt.prototype.findResultEdges=function(){for(var e=this._dirEdgeList.iterator();e.hasNext();){var t=e.next();t.getDepth(Tt.RIGHT)>=1&&t.getDepth(Tt.LEFT)<=0&&!t.isInteriorAreaEdge()&&t.setInResult(!0)}},Rt.prototype.computeDepths=function(e){var t=new Ce,n=new zt,r=e.getNode();for(n.addLast(r),t.add(r),e.setVisited(!0);!n.isEmpty();){var o=n.removeFirst();t.add(o),this.computeNodeDepth(o);for(var i=o.getEdges().iterator();i.hasNext();){var a=i.next().getSym();if(!a.isVisited()){var s=a.getNode();t.contains(s)||(n.addLast(s),t.add(s))}}}},Rt.prototype.compareTo=function(e){var t=e;return this._rightMostCoord.x<t._rightMostCoord.x?-1:this._rightMostCoord.x>t._rightMostCoord.x?1:0},Rt.prototype.getEnvelope=function(){if(null===this._env){for(var e=new N,t=this._dirEdgeList.iterator();t.hasNext();)for(var n=t.next().getEdge().getCoordinates(),r=0;r<n.length-1;r++)e.expandToInclude(n[r]);this._env=e}return this._env},Rt.prototype.addReachable=function(e){var t=new It;for(t.add(e);!t.empty();){var n=t.pop();this.add(n,t)}},Rt.prototype.copySymDepths=function(e){var t=e.getSym();t.setDepth(Tt.LEFT,e.getDepth(Tt.RIGHT)),t.setDepth(Tt.RIGHT,e.getDepth(Tt.LEFT))},Rt.prototype.add=function(e,t){e.setVisited(!0),this._nodes.add(e);for(var n=e.getEdges().iterator();n.hasNext();){var r=n.next();this._dirEdgeList.add(r);var o=r.getSym().getNode();o.isVisited()||t.push(o)}},Rt.prototype.getNodes=function(){return this._nodes},Rt.prototype.getDirectedEdges=function(){return this._dirEdgeList},Rt.prototype.interfaces_=function(){return[s]},Rt.prototype.getClass=function(){return Rt};var kt=function e(){var t=this;if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var n=arguments[0];this.init(n.length)}else if(Number.isInteger(arguments[0])){var r=arguments[0];this.init(1),this.location[Tt.ON]=r}else if(arguments[0]instanceof e){var o=arguments[0];if(this.init(o.location.length),null!==o)for(var i=0;i<this.location.length;i++)t.location[i]=o.location[i]}}else if(3===arguments.length){var a=arguments[0],s=arguments[1],l=arguments[2];this.init(3),this.location[Tt.ON]=a,this.location[Tt.LEFT]=s,this.location[Tt.RIGHT]=l}};kt.prototype.setAllLocations=function(e){for(var t=0;t<this.location.length;t++)this.location[t]=e},kt.prototype.isNull=function(){for(var e=0;e<this.location.length;e++)if(this.location[e]!==y.NONE)return!1;return!0},kt.prototype.setAllLocationsIfNull=function(e){for(var t=0;t<this.location.length;t++)this.location[t]===y.NONE&&(this.location[t]=e)},kt.prototype.isLine=function(){return 1===this.location.length},kt.prototype.merge=function(e){if(e.location.length>this.location.length){var t=new Array(3).fill(null);t[Tt.ON]=this.location[Tt.ON],t[Tt.LEFT]=y.NONE,t[Tt.RIGHT]=y.NONE,this.location=t}for(var n=0;n<this.location.length;n++)this.location[n]===y.NONE&&n<e.location.length&&(this.location[n]=e.location[n])},kt.prototype.getLocations=function(){return this.location},kt.prototype.flip=function(){if(this.location.length<=1)return null;var e=this.location[Tt.LEFT];this.location[Tt.LEFT]=this.location[Tt.RIGHT],this.location[Tt.RIGHT]=e},kt.prototype.toString=function(){var e=new _;return this.location.length>1&&e.append(y.toLocationSymbol(this.location[Tt.LEFT])),e.append(y.toLocationSymbol(this.location[Tt.ON])),this.location.length>1&&e.append(y.toLocationSymbol(this.location[Tt.RIGHT])),e.toString()},kt.prototype.setLocations=function(e,t,n){this.location[Tt.ON]=e,this.location[Tt.LEFT]=t,this.location[Tt.RIGHT]=n},kt.prototype.get=function(e){return e<this.location.length?this.location[e]:y.NONE},kt.prototype.isArea=function(){return this.location.length>1},kt.prototype.isAnyNull=function(){for(var e=0;e<this.location.length;e++)if(this.location[e]===y.NONE)return!0;return!1},kt.prototype.setLocation=function(){if(1===arguments.length){var e=arguments[0];this.setLocation(Tt.ON,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.location[t]=n}},kt.prototype.init=function(e){this.location=new Array(e).fill(null),this.setAllLocations(y.NONE)},kt.prototype.isEqualOnSide=function(e,t){return this.location[t]===e.location[t]},kt.prototype.allPositionsEqual=function(e){for(var t=0;t<this.location.length;t++)if(this.location[t]!==e)return!1;return!0},kt.prototype.interfaces_=function(){return[]},kt.prototype.getClass=function(){return kt};var Lt=function e(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var t=arguments[0];this.elt[0]=new kt(t),this.elt[1]=new kt(t)}else if(arguments[0]instanceof e){var n=arguments[0];this.elt[0]=new kt(n.elt[0]),this.elt[1]=new kt(n.elt[1])}}else if(2===arguments.length){var r=arguments[0],o=arguments[1];this.elt[0]=new kt(y.NONE),this.elt[1]=new kt(y.NONE),this.elt[r].setLocation(o)}else if(3===arguments.length){var i=arguments[0],a=arguments[1],s=arguments[2];this.elt[0]=new kt(i,a,s),this.elt[1]=new kt(i,a,s)}else if(4===arguments.length){var l=arguments[0],u=arguments[1],c=arguments[2],p=arguments[3];this.elt[0]=new kt(y.NONE,y.NONE,y.NONE),this.elt[1]=new kt(y.NONE,y.NONE,y.NONE),this.elt[l].setLocations(u,c,p)}};Lt.prototype.getGeometryCount=function(){var e=0;return this.elt[0].isNull()||e++,this.elt[1].isNull()||e++,e},Lt.prototype.setAllLocations=function(e,t){this.elt[e].setAllLocations(t)},Lt.prototype.isNull=function(e){return this.elt[e].isNull()},Lt.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var e=arguments[0];this.setAllLocationsIfNull(0,e),this.setAllLocationsIfNull(1,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.elt[t].setAllLocationsIfNull(n)}},Lt.prototype.isLine=function(e){return this.elt[e].isLine()},Lt.prototype.merge=function(e){for(var t=this,n=0;n<2;n++)null===t.elt[n]&&null!==e.elt[n]?t.elt[n]=new kt(e.elt[n]):t.elt[n].merge(e.elt[n])},Lt.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},Lt.prototype.getLocation=function(){if(1===arguments.length){var e=arguments[0];return this.elt[e].get(Tt.ON)}if(2===arguments.length){var t=arguments[0],n=arguments[1];return this.elt[t].get(n)}},Lt.prototype.toString=function(){var e=new _;return null!==this.elt[0]&&(e.append("A:"),e.append(this.elt[0].toString())),null!==this.elt[1]&&(e.append(" B:"),e.append(this.elt[1].toString())),e.toString()},Lt.prototype.isArea=function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var e=arguments[0];return this.elt[e].isArea()}},Lt.prototype.isAnyNull=function(e){return this.elt[e].isAnyNull()},Lt.prototype.setLocation=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];this.elt[e].setLocation(Tt.ON,t)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];this.elt[n].setLocation(r,o)}},Lt.prototype.isEqualOnSide=function(e,t){return this.elt[0].isEqualOnSide(e.elt[0],t)&&this.elt[1].isEqualOnSide(e.elt[1],t)},Lt.prototype.allPositionsEqual=function(e,t){return this.elt[e].allPositionsEqual(t)},Lt.prototype.toLine=function(e){this.elt[e].isArea()&&(this.elt[e]=new kt(this.elt[e].location[0]))},Lt.prototype.interfaces_=function(){return[]},Lt.prototype.getClass=function(){return Lt},Lt.toLineLabel=function(e){for(var t=new Lt(y.NONE),n=0;n<2;n++)t.setLocation(n,e.getLocation(n));return t};var Ft=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new fe,this._pts=new fe,this._label=new Lt(y.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new fe,this._geometryFactory=null;var e=arguments[0],t=arguments[1];this._geometryFactory=t,this.computePoints(e),this.computeRing()};Ft.prototype.computeRing=function(){if(null!==this._ring)return null;for(var e=new Array(this._pts.size()).fill(null),t=0;t<this._pts.size();t++)e[t]=this._pts.get(t);this._ring=this._geometryFactory.createLinearRing(e),this._isHole=Y.isCCW(this._ring.getCoordinates())},Ft.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},Ft.prototype.computePoints=function(e){var t=this;this._startDe=e;var n=e,r=!0;do{if(null===n)throw new Dt("Found null DirectedEdge");if(n.getEdgeRing()===t)throw new Dt("Directed Edge visited twice during ring-building at "+n.getCoordinate());t._edges.add(n);var o=n.getLabel();G.isTrue(o.isArea()),t.mergeLabel(o),t.addPoints(n.getEdge(),n.isForward(),r),r=!1,t.setEdgeRing(n,t),n=t.getNext(n)}while(n!==this._startDe)},Ft.prototype.getLinearRing=function(){return this._ring},Ft.prototype.getCoordinate=function(e){return this._pts.get(e)},Ft.prototype.computeMaxNodeDegree=function(){var e=this;this._maxNodeDegree=0;var t=this._startDe;do{var n=t.getNode().getEdges().getOutgoingDegree(e);n>e._maxNodeDegree&&(e._maxNodeDegree=n),t=e.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},Ft.prototype.addPoints=function(e,t,n){var r=e.getCoordinates();if(t){var o=1;n&&(o=0);for(var i=o;i<r.length;i++)this._pts.add(r[i])}else{var a=r.length-2;n&&(a=r.length-1);for(var s=a;s>=0;s--)this._pts.add(r[s])}},Ft.prototype.isHole=function(){return this._isHole},Ft.prototype.setInResult=function(){var e=this._startDe;do{e.getEdge().setInResult(!0),e=e.getNext()}while(e!==this._startDe)},Ft.prototype.containsPoint=function(e){var t=this.getLinearRing();if(!t.getEnvelopeInternal().contains(e))return!1;if(!Y.isPointInRing(e,t.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(e))return!1;return!0},Ft.prototype.addHole=function(e){this._holes.add(e)},Ft.prototype.isShell=function(){return null===this._shell},Ft.prototype.getLabel=function(){return this._label},Ft.prototype.getEdges=function(){return this._edges},Ft.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},Ft.prototype.getShell=function(){return this._shell},Ft.prototype.mergeLabel=function(){if(1===arguments.length){var e=arguments[0];this.mergeLabel(e,0),this.mergeLabel(e,1)}else if(2===arguments.length){var t=arguments[0],n=arguments[1],r=t.getLocation(n,Tt.RIGHT);if(r===y.NONE)return null;if(this._label.getLocation(n)===y.NONE)return this._label.setLocation(n,r),null}},Ft.prototype.setShell=function(e){this._shell=e,null!==e&&e.addHole(this)},Ft.prototype.toPolygon=function(e){for(var t=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)t[n]=this._holes.get(n).getLinearRing();return e.createPolygon(this.getLinearRing(),t)},Ft.prototype.interfaces_=function(){return[]},Ft.prototype.getClass=function(){return Ft};var Bt=function(e){function t(){var t=arguments[0],n=arguments[1];e.call(this,t,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setEdgeRing=function(e,t){e.setMinEdgeRing(t)},t.prototype.getNext=function(e){return e.getNextMin()},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Ft),Vt=function(e){function t(){var t=arguments[0],n=arguments[1];e.call(this,t,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.buildMinimalRings=function(){var e=new fe,t=this._startDe;do{if(null===t.getMinEdgeRing()){var n=new Bt(t,this._geometryFactory);e.add(n)}t=t.getNext()}while(t!==this._startDe);return e},t.prototype.setEdgeRing=function(e,t){e.setEdgeRing(t)},t.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var e=this._startDe;do{e.getNode().getEdges().linkMinimalDirectedEdges(this),e=e.getNext()}while(e!==this._startDe)},t.prototype.getNext=function(e){return e.getNext()},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Ft),Gt=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this._label=e}};Gt.prototype.setVisited=function(e){this._isVisited=e},Gt.prototype.setInResult=function(e){this._isInResult=e},Gt.prototype.isCovered=function(){return this._isCovered},Gt.prototype.isCoveredSet=function(){return this._isCoveredSet},Gt.prototype.setLabel=function(e){this._label=e},Gt.prototype.getLabel=function(){return this._label},Gt.prototype.setCovered=function(e){this._isCovered=e,this._isCoveredSet=!0},Gt.prototype.updateIM=function(e){G.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(e)},Gt.prototype.isInResult=function(){return this._isInResult},Gt.prototype.isVisited=function(){return this._isVisited},Gt.prototype.interfaces_=function(){return[]},Gt.prototype.getClass=function(){return Gt};var Ut=function(e){function t(){e.call(this),this._coord=null,this._edges=null;var t=arguments[0],n=arguments[1];this._coord=t,this._edges=n,this._label=new Lt(0,y.NONE)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.isIncidentEdgeInResult=function(){for(var e=this.getEdges().getEdges().iterator();e.hasNext();)if(e.next().getEdge().isInResult())return!0;return!1},t.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},t.prototype.getCoordinate=function(){return this._coord},t.prototype.print=function(e){e.println("node "+this._coord+" lbl: "+this._label)},t.prototype.computeIM=function(e){},t.prototype.computeMergedLocation=function(e,t){var n=y.NONE;if(n=this._label.getLocation(t),!e.isNull(t)){var r=e.getLocation(t);n!==y.BOUNDARY&&(n=r)}return n},t.prototype.setLabel=function(){if(2!==arguments.length)return e.prototype.setLabel.apply(this,arguments);var t=arguments[0],n=arguments[1];null===this._label?this._label=new Lt(t,n):this._label.setLocation(t,n)},t.prototype.getEdges=function(){return this._edges},t.prototype.mergeLabel=function(){var e=this;if(arguments[0]instanceof t){var n=arguments[0];this.mergeLabel(n._label)}else if(arguments[0]instanceof Lt)for(var r=arguments[0],o=0;o<2;o++){var i=e.computeMergedLocation(r,o),a=e._label.getLocation(o);a===y.NONE&&e._label.setLocation(o,i)}},t.prototype.add=function(e){this._edges.insert(e),e.setNode(this)},t.prototype.setLabelBoundary=function(e){if(null===this._label)return null;var t=y.NONE;null!==this._label&&(t=this._label.getLocation(e));var n=null;n=t===y.BOUNDARY?y.INTERIOR:y.BOUNDARY,this._label.setLocation(e,n)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Gt),Wt=function(){this.nodeMap=new Me,this.nodeFact=null;var e=arguments[0];this.nodeFact=e};Wt.prototype.find=function(e){return this.nodeMap.get(e)},Wt.prototype.addNode=function(){if(arguments[0]instanceof p){var e=arguments[0],t=this.nodeMap.get(e);return null===t&&(t=this.nodeFact.createNode(e),this.nodeMap.put(e,t)),t}if(arguments[0]instanceof Ut){var n=arguments[0],r=this.nodeMap.get(n.getCoordinate());return null===r?(this.nodeMap.put(n.getCoordinate(),n),n):(r.mergeLabel(n),r)}},Wt.prototype.print=function(e){for(var t=this.iterator();t.hasNext();)t.next().print(e)},Wt.prototype.iterator=function(){return this.nodeMap.values().iterator()},Wt.prototype.values=function(){return this.nodeMap.values()},Wt.prototype.getBoundaryNodes=function(e){for(var t=new fe,n=this.iterator();n.hasNext();){var r=n.next();r.getLabel().getLocation(e)===y.BOUNDARY&&t.add(r)}return t},Wt.prototype.add=function(e){var t=e.getCoordinate();this.addNode(t).add(e)},Wt.prototype.interfaces_=function(){return[]},Wt.prototype.getClass=function(){return Wt};var Jt=function(){},Ht={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};Jt.prototype.interfaces_=function(){return[]},Jt.prototype.getClass=function(){return Jt},Jt.isNorthern=function(e){return e===Jt.NE||e===Jt.NW},Jt.isOpposite=function(e,t){return e!==t&&2==(e-t+4)%4},Jt.commonHalfPlane=function(e,t){if(e===t)return e;if(2==(e-t+4)%4)return-1;var n=e<t?e:t;return 0===n&&3===(e>t?e:t)?3:n},Jt.isInHalfPlane=function(e,t){return t===Jt.SE?e===Jt.SE||e===Jt.SW:e===t||e===t+1},Jt.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],t=arguments[1];if(0===e&&0===t)throw new o("Cannot compute the quadrant for point ( "+e+", "+t+" )");return e>=0?t>=0?Jt.NE:Jt.SE:t>=0?Jt.NW:Jt.SW}if(arguments[0]instanceof p&&arguments[1]instanceof p){var n=arguments[0],r=arguments[1];if(r.x===n.x&&r.y===n.y)throw new o("Cannot compute the quadrant for two identical points "+n);return r.x>=n.x?r.y>=n.y?Jt.NE:Jt.SE:r.y>=n.y?Jt.NW:Jt.SW}},Ht.NE.get=function(){return 0},Ht.NW.get=function(){return 1},Ht.SW.get=function(){return 2},Ht.SE.get=function(){return 3},Object.defineProperties(Jt,Ht);var qt=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var e=arguments[0];this._edge=e}else if(3===arguments.length){var t=arguments[0],n=arguments[1],r=arguments[2],o=null;this._edge=t,this.init(n,r),this._label=o}else if(4===arguments.length){var i=arguments[0],a=arguments[1],s=arguments[2],l=arguments[3];this._edge=i,this.init(a,s),this._label=l}};qt.prototype.compareDirection=function(e){return this._dx===e._dx&&this._dy===e._dy?0:this._quadrant>e._quadrant?1:this._quadrant<e._quadrant?-1:Y.computeOrientation(e._p0,e._p1,this._p1)},qt.prototype.getDy=function(){return this._dy},qt.prototype.getCoordinate=function(){return this._p0},qt.prototype.setNode=function(e){this._node=e},qt.prototype.print=function(e){var t=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),r=n.lastIndexOf("."),o=n.substring(r+1);e.print("  "+o+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label)},qt.prototype.compareTo=function(e){var t=e;return this.compareDirection(t)},qt.prototype.getDirectedCoordinate=function(){return this._p1},qt.prototype.getDx=function(){return this._dx},qt.prototype.getLabel=function(){return this._label},qt.prototype.getEdge=function(){return this._edge},qt.prototype.getQuadrant=function(){return this._quadrant},qt.prototype.getNode=function(){return this._node},qt.prototype.toString=function(){var e=Math.atan2(this._dy,this._dx),t=this.getClass().getName(),n=t.lastIndexOf(".");return"  "+t.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label},qt.prototype.computeLabel=function(e){},qt.prototype.init=function(e,t){this._p0=e,this._p1=t,this._dx=t.x-e.x,this._dy=t.y-e.y,this._quadrant=Jt.quadrant(this._dx,this._dy),G.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},qt.prototype.interfaces_=function(){return[s]},qt.prototype.getClass=function(){return qt};var Yt=function(e){function t(){var t=arguments[0],n=arguments[1];if(e.call(this,t),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(t.getCoordinate(0),t.getCoordinate(1));else{var r=t.getNumPoints()-1;this.init(t.getCoordinate(r),t.getCoordinate(r-1))}this.computeDirectedLabel()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getNextMin=function(){return this._nextMin},t.prototype.getDepth=function(e){return this._depth[e]},t.prototype.setVisited=function(e){this._isVisited=e},t.prototype.computeDirectedLabel=function(){this._label=new Lt(this._edge.getLabel()),this._isForward||this._label.flip()},t.prototype.getNext=function(){return this._next},t.prototype.setDepth=function(e,t){if(-999!==this._depth[e]&&this._depth[e]!==t)throw new Dt("assigned depths do not match",this.getCoordinate());this._depth[e]=t},t.prototype.isInteriorAreaEdge=function(){for(var e=this,t=!0,n=0;n<2;n++)e._label.isArea(n)&&e._label.getLocation(n,Tt.LEFT)===y.INTERIOR&&e._label.getLocation(n,Tt.RIGHT)===y.INTERIOR||(t=!1);return t},t.prototype.setNextMin=function(e){this._nextMin=e},t.prototype.print=function(t){e.prototype.print.call(this,t),t.print(" "+this._depth[Tt.LEFT]+"/"+this._depth[Tt.RIGHT]),t.print(" ("+this.getDepthDelta()+")"),this._isInResult&&t.print(" inResult")},t.prototype.setMinEdgeRing=function(e){this._minEdgeRing=e},t.prototype.isLineEdge=function(){var e=this._label.isLine(0)||this._label.isLine(1),t=!this._label.isArea(0)||this._label.allPositionsEqual(0,y.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,y.EXTERIOR);return e&&t&&n},t.prototype.setEdgeRing=function(e){this._edgeRing=e},t.prototype.getMinEdgeRing=function(){return this._minEdgeRing},t.prototype.getDepthDelta=function(){var e=this._edge.getDepthDelta();return this._isForward||(e=-e),e},t.prototype.setInResult=function(e){this._isInResult=e},t.prototype.getSym=function(){return this._sym},t.prototype.isForward=function(){return this._isForward},t.prototype.getEdge=function(){return this._edge},t.prototype.printEdge=function(e){this.print(e),e.print(" "),this._isForward?this._edge.print(e):this._edge.printReverse(e)},t.prototype.setSym=function(e){this._sym=e},t.prototype.setVisitedEdge=function(e){this.setVisited(e),this._sym.setVisited(e)},t.prototype.setEdgeDepths=function(e,t){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var r=1;e===Tt.LEFT&&(r=-1);var o=Tt.opposite(e),i=t+n*r;this.setDepth(e,t),this.setDepth(o,i)},t.prototype.getEdgeRing=function(){return this._edgeRing},t.prototype.isInResult=function(){return this._isInResult},t.prototype.setNext=function(e){this._next=e},t.prototype.isVisited=function(){return this._isVisited},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.depthFactor=function(e,t){return e===y.EXTERIOR&&t===y.INTERIOR?1:e===y.INTERIOR&&t===y.EXTERIOR?-1:0},t}(qt),Xt=function(){};Xt.prototype.createNode=function(e){return new Ut(e,null)},Xt.prototype.interfaces_=function(){return[]},Xt.prototype.getClass=function(){return Xt};var Zt=function(){if(this._edges=new fe,this._nodes=null,this._edgeEndList=new fe,0===arguments.length)this._nodes=new Wt(new Xt);else if(1===arguments.length){var e=arguments[0];this._nodes=new Wt(e)}};Zt.prototype.printEdges=function(e){e.println("Edges:");for(var t=0;t<this._edges.size();t++){e.println("edge "+t+":");var n=this._edges.get(t);n.print(e),n.eiList.print(e)}},Zt.prototype.find=function(e){return this._nodes.find(e)},Zt.prototype.addNode=function(){if(arguments[0]instanceof Ut){var e=arguments[0];return this._nodes.addNode(e)}if(arguments[0]instanceof p){var t=arguments[0];return this._nodes.addNode(t)}},Zt.prototype.getNodeIterator=function(){return this._nodes.iterator()},Zt.prototype.linkResultDirectedEdges=function(){for(var e=this._nodes.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()},Zt.prototype.debugPrintln=function(e){A.out.println(e)},Zt.prototype.isBoundaryNode=function(e,t){var n=this._nodes.find(t);if(null===n)return!1;var r=n.getLabel();return null!==r&&r.getLocation(e)===y.BOUNDARY},Zt.prototype.linkAllDirectedEdges=function(){for(var e=this._nodes.iterator();e.hasNext();)e.next().getEdges().linkAllDirectedEdges()},Zt.prototype.matchInSameDirection=function(e,t,n,r){return!!e.equals(n)&&Y.computeOrientation(e,t,r)===Y.COLLINEAR&&Jt.quadrant(e,t)===Jt.quadrant(n,r)},Zt.prototype.getEdgeEnds=function(){return this._edgeEndList},Zt.prototype.debugPrint=function(e){A.out.print(e)},Zt.prototype.getEdgeIterator=function(){return this._edges.iterator()},Zt.prototype.findEdgeInSameDirection=function(e,t){for(var n=this,r=0;r<this._edges.size();r++){var o=n._edges.get(r),i=o.getCoordinates();if(n.matchInSameDirection(e,t,i[0],i[1]))return o;if(n.matchInSameDirection(e,t,i[i.length-1],i[i.length-2]))return o}return null},Zt.prototype.insertEdge=function(e){this._edges.add(e)},Zt.prototype.findEdgeEnd=function(e){for(var t=this.getEdgeEnds().iterator();t.hasNext();){var n=t.next();if(n.getEdge()===e)return n}return null},Zt.prototype.addEdges=function(e){for(var t=this,n=e.iterator();n.hasNext();){var r=n.next();t._edges.add(r);var o=new Yt(r,!0),i=new Yt(r,!1);o.setSym(i),i.setSym(o),t.add(o),t.add(i)}},Zt.prototype.add=function(e){this._nodes.add(e),this._edgeEndList.add(e)},Zt.prototype.getNodes=function(){return this._nodes.values()},Zt.prototype.findEdge=function(e,t){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),o=r.getCoordinates();if(e.equals(o[0])&&t.equals(o[1]))return r}return null},Zt.prototype.interfaces_=function(){return[]},Zt.prototype.getClass=function(){return Zt},Zt.linkResultDirectedEdges=function(e){for(var t=e.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()};var Kt=function(){this._geometryFactory=null,this._shellList=new fe;var e=arguments[0];this._geometryFactory=e};Kt.prototype.sortShellsAndHoles=function(e,t,n){for(var r=e.iterator();r.hasNext();){var o=r.next();o.isHole()?n.add(o):t.add(o)}},Kt.prototype.computePolygons=function(e){for(var t=new fe,n=e.iterator();n.hasNext();){var r=n.next().toPolygon(this._geometryFactory);t.add(r)}return t},Kt.prototype.placeFreeHoles=function(e,t){for(var n=t.iterator();n.hasNext();){var r=n.next();if(null===r.getShell()){var o=this.findEdgeRingContaining(r,e);if(null===o)throw new Dt("unable to assign hole to a shell",r.getCoordinate(0));r.setShell(o)}}},Kt.prototype.buildMinimalEdgeRings=function(e,t,n){for(var r=new fe,o=e.iterator();o.hasNext();){var i=o.next();if(i.getMaxNodeDegree()>2){i.linkDirectedEdgesForMinimalEdgeRings();var a=i.buildMinimalRings(),s=this.findShell(a);null!==s?(this.placePolygonHoles(s,a),t.add(s)):n.addAll(a)}else r.add(i)}return r},Kt.prototype.containsPoint=function(e){for(var t=this._shellList.iterator();t.hasNext();)if(t.next().containsPoint(e))return!0;return!1},Kt.prototype.buildMaximalEdgeRings=function(e){for(var t=new fe,n=e.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&r.getLabel().isArea()&&null===r.getEdgeRing()){var o=new Vt(r,this._geometryFactory);t.add(o),o.setInResult()}}return t},Kt.prototype.placePolygonHoles=function(e,t){for(var n=t.iterator();n.hasNext();){var r=n.next();r.isHole()&&r.setShell(e)}},Kt.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},Kt.prototype.findEdgeRingContaining=function(e,t){for(var n=e.getLinearRing(),r=n.getEnvelopeInternal(),o=n.getCoordinateN(0),i=null,a=null,s=t.iterator();s.hasNext();){var l=s.next(),u=l.getLinearRing(),c=u.getEnvelopeInternal();null!==i&&(a=i.getLinearRing().getEnvelopeInternal());var p=!1;c.contains(r)&&Y.isPointInRing(o,u.getCoordinates())&&(p=!0),p&&(null===i||a.contains(c))&&(i=l)}return i},Kt.prototype.findShell=function(e){for(var t=0,n=null,r=e.iterator();r.hasNext();){var o=r.next();o.isHole()||(n=o,t++)}return G.isTrue(t<=1,"found two shells in MinimalEdgeRing list"),n},Kt.prototype.add=function(){if(1===arguments.length){var e=arguments[0];this.add(e.getEdgeEnds(),e.getNodes())}else if(2===arguments.length){var t=arguments[0],n=arguments[1];Zt.linkResultDirectedEdges(n);var r=this.buildMaximalEdgeRings(t),o=new fe,i=this.buildMinimalEdgeRings(r,this._shellList,o);this.sortShellsAndHoles(i,this._shellList,o),this.placeFreeHoles(this._shellList,o)}},Kt.prototype.interfaces_=function(){return[]},Kt.prototype.getClass=function(){return Kt};var Qt=function(){};Qt.prototype.getBounds=function(){},Qt.prototype.interfaces_=function(){return[]},Qt.prototype.getClass=function(){return Qt};var $t=function(){this._bounds=null,this._item=null;var e=arguments[0],t=arguments[1];this._bounds=e,this._item=t};$t.prototype.getItem=function(){return this._item},$t.prototype.getBounds=function(){return this._bounds},$t.prototype.interfaces_=function(){return[Qt,c]},$t.prototype.getClass=function(){return $t};var en=function(){this._size=null,this._items=null,this._size=0,this._items=new fe,this._items.add(null)};en.prototype.poll=function(){if(this.isEmpty())return null;var e=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),e},en.prototype.size=function(){return this._size},en.prototype.reorder=function(e){for(var t=this,n=null,r=this._items.get(e);2*e<=this._size&&((n=2*e)!==t._size&&t._items.get(n+1).compareTo(t._items.get(n))<0&&n++,t._items.get(n).compareTo(r)<0);e=n)t._items.set(e,t._items.get(n));this._items.set(e,r)},en.prototype.clear=function(){this._size=0,this._items.clear()},en.prototype.isEmpty=function(){return 0===this._size},en.prototype.add=function(e){this._items.add(null),this._size+=1;var t=this._size;for(this._items.set(0,e);e.compareTo(this._items.get(Math.trunc(t/2)))<0;t/=2)this._items.set(t,this._items.get(Math.trunc(t/2)));this._items.set(t,e)},en.prototype.interfaces_=function(){return[]},en.prototype.getClass=function(){return en};var tn=function(){};tn.prototype.visitItem=function(e){},tn.prototype.interfaces_=function(){return[]},tn.prototype.getClass=function(){return tn};var nn=function(){};nn.prototype.insert=function(e,t){},nn.prototype.remove=function(e,t){},nn.prototype.query=function(){},nn.prototype.interfaces_=function(){return[]},nn.prototype.getClass=function(){return nn};var rn=function(){if(this._childBoundables=new fe,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this._level=e}},on={serialVersionUID:{configurable:!0}};rn.prototype.getLevel=function(){return this._level},rn.prototype.size=function(){return this._childBoundables.size()},rn.prototype.getChildBoundables=function(){return this._childBoundables},rn.prototype.addChildBoundable=function(e){G.isTrue(null===this._bounds),this._childBoundables.add(e)},rn.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},rn.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},rn.prototype.interfaces_=function(){return[Qt,c]},rn.prototype.getClass=function(){return rn},on.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(rn,on);var an=function(){};an.reverseOrder=function(){return{compare:function(e,t){return t.compareTo(e)}}},an.min=function(e){return an.sort(e),e.get(0)},an.sort=function(e,t){var n=e.toArray();t?ze.sort(n,t):ze.sort(n);for(var r=e.iterator(),o=0,i=n.length;o<i;o++)r.next(),r.set(n[o])},an.singletonList=function(e){var t=new fe;return t.add(e),t};var sn=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var e=arguments[0],t=arguments[1],n=arguments[2];this._boundable1=e,this._boundable2=t,this._itemDistance=n,this._distance=this.distance()};sn.prototype.expandToQueue=function(e,t){var n=sn.isComposite(this._boundable1),r=sn.isComposite(this._boundable2);if(n&&r)return sn.area(this._boundable1)>sn.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,e,t),null):(this.expand(this._boundable2,this._boundable1,e,t),null);if(n)return this.expand(this._boundable1,this._boundable2,e,t),null;if(r)return this.expand(this._boundable2,this._boundable1,e,t),null;throw new o("neither boundable is composite")},sn.prototype.isLeaves=function(){return!(sn.isComposite(this._boundable1)||sn.isComposite(this._boundable2))},sn.prototype.compareTo=function(e){var t=e;return this._distance<t._distance?-1:this._distance>t._distance?1:0},sn.prototype.expand=function(e,t,n,r){for(var o=e.getChildBoundables().iterator();o.hasNext();){var i=o.next(),a=new sn(i,t,this._itemDistance);a.getDistance()<r&&n.add(a)}},sn.prototype.getBoundable=function(e){return 0===e?this._boundable1:this._boundable2},sn.prototype.getDistance=function(){return this._distance},sn.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},sn.prototype.interfaces_=function(){return[s]},sn.prototype.getClass=function(){return sn},sn.area=function(e){return e.getBounds().getArea()},sn.isComposite=function(e){return e instanceof rn};var ln=function e(){if(this._root=null,this._built=!1,this._itemBoundables=new fe,this._nodeCapacity=null,0===arguments.length){var t=e.DEFAULT_NODE_CAPACITY;this._nodeCapacity=t}else if(1===arguments.length){var n=arguments[0];G.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}},un={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};ln.prototype.getNodeCapacity=function(){return this._nodeCapacity},ln.prototype.lastNode=function(e){return e.get(e.size()-1)},ln.prototype.size=function(){var e=this;if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=arguments[0],n=0,r=t.getChildBoundables().iterator();r.hasNext();){var o=r.next();o instanceof rn?n+=e.size(o):o instanceof $t&&(n+=1)}return n}},ln.prototype.removeItem=function(e,t){for(var n=null,r=e.getChildBoundables().iterator();r.hasNext();){var o=r.next();o instanceof $t&&o.getItem()===t&&(n=o)}return null!==n&&(e.getChildBoundables().remove(n),!0)},ln.prototype.itemsTree=function(){var e=this;if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new fe:t}if(1===arguments.length){for(var n=arguments[0],r=new fe,o=n.getChildBoundables().iterator();o.hasNext();){var i=o.next();if(i instanceof rn){var a=e.itemsTree(i);null!==a&&r.add(a)}else i instanceof $t?r.add(i.getItem()):G.shouldNeverReachHere()}return r.size()<=0?null:r}},ln.prototype.insert=function(e,t){G.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new $t(e,t))},ln.prototype.boundablesAtLevel=function(){var e=this;if(1===arguments.length){var t=arguments[0],n=new fe;return this.boundablesAtLevel(t,this._root,n),n}if(3===arguments.length){var r=arguments[0],o=arguments[1],i=arguments[2];if(G.isTrue(r>-2),o.getLevel()===r)return i.add(o),null;for(var a=o.getChildBoundables().iterator();a.hasNext();){var s=a.next();s instanceof rn?e.boundablesAtLevel(r,s,i):(G.isTrue(s instanceof $t),-1===r&&i.add(s))}return null}},ln.prototype.query=function(){var e=this;if(1===arguments.length){var t=arguments[0];this.build();var n=new fe;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,n),n}if(2===arguments.length){var r=arguments[0],o=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),r)&&this.query(r,this._root,o)}else if(3===arguments.length)if(m(arguments[2],tn)&&arguments[0]instanceof Object&&arguments[1]instanceof rn)for(var i=arguments[0],a=arguments[1],s=arguments[2],l=a.getChildBoundables(),u=0;u<l.size();u++){var c=l.get(u);e.getIntersectsOp().intersects(c.getBounds(),i)&&(c instanceof rn?e.query(i,c,s):c instanceof $t?s.visitItem(c.getItem()):G.shouldNeverReachHere())}else if(m(arguments[2],ce)&&arguments[0]instanceof Object&&arguments[1]instanceof rn)for(var p=arguments[0],f=arguments[1],d=arguments[2],h=f.getChildBoundables(),y=0;y<h.size();y++){var g=h.get(y);e.getIntersectsOp().intersects(g.getBounds(),p)&&(g instanceof rn?e.query(p,g,d):g instanceof $t?d.add(g.getItem()):G.shouldNeverReachHere())}},ln.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},ln.prototype.getRoot=function(){return this.build(),this._root},ln.prototype.remove=function(){var e=this;if(2===arguments.length){var t=arguments[0],n=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,n)}if(3===arguments.length){var r=arguments[0],o=arguments[1],i=arguments[2],a=this.removeItem(o,i);if(a)return!0;for(var s=null,l=o.getChildBoundables().iterator();l.hasNext();){var u=l.next();if(e.getIntersectsOp().intersects(u.getBounds(),r)&&u instanceof rn&&(a=e.remove(r,u,i))){s=u;break}}return null!==s&&s.getChildBoundables().isEmpty()&&o.getChildBoundables().remove(s),a}},ln.prototype.createHigherLevels=function(e,t){G.isTrue(!e.isEmpty());var n=this.createParentBoundables(e,t+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,t+1)},ln.prototype.depth=function(){var e=this;if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=arguments[0],n=0,r=t.getChildBoundables().iterator();r.hasNext();){var o=r.next();if(o instanceof rn){var i=e.depth(o);i>n&&(n=i)}}return n+1}},ln.prototype.createParentBoundables=function(e,t){var n=this;G.isTrue(!e.isEmpty());var r=new fe;r.add(this.createNode(t));var o=new fe(e);an.sort(o,this.getComparator());for(var i=o.iterator();i.hasNext();){var a=i.next();n.lastNode(r).getChildBoundables().size()===n.getNodeCapacity()&&r.add(n.createNode(t)),n.lastNode(r).addChildBoundable(a)}return r},ln.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},ln.prototype.interfaces_=function(){return[c]},ln.prototype.getClass=function(){return ln},ln.compareDoubles=function(e,t){return e>t?1:e<t?-1:0},un.IntersectsOp.get=function(){return cn},un.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},un.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(ln,un);var cn=function(){},pn=function(){};pn.prototype.distance=function(e,t){},pn.prototype.interfaces_=function(){return[]},pn.prototype.getClass=function(){return pn};var fn=function(e){function t(n){n=n||t.DEFAULT_NODE_CAPACITY,e.call(this,n)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return t.prototype.createParentBoundablesFromVerticalSlices=function(e,t){G.isTrue(e.length>0);for(var n=new fe,r=0;r<e.length;r++)n.addAll(this.createParentBoundablesFromVerticalSlice(e[r],t));return n},t.prototype.createNode=function(e){return new dn(e)},t.prototype.size=function(){return 0===arguments.length?e.prototype.size.call(this):e.prototype.size.apply(this,arguments)},t.prototype.insert=function(){if(2!==arguments.length)return e.prototype.insert.apply(this,arguments);var t=arguments[0],n=arguments[1];if(t.isNull())return null;e.prototype.insert.call(this,t,n)},t.prototype.getIntersectsOp=function(){return t.intersectsOp},t.prototype.verticalSlices=function(e,t){for(var n=Math.trunc(Math.ceil(e.size()/t)),r=new Array(t).fill(null),o=e.iterator(),i=0;i<t;i++){r[i]=new fe;for(var a=0;o.hasNext()&&a<n;){var s=o.next();r[i].add(s),a++}}return r},t.prototype.query=function(){if(1===arguments.length){var t=arguments[0];return e.prototype.query.call(this,t)}if(2===arguments.length){var n=arguments[0],r=arguments[1];e.prototype.query.call(this,n,r)}else if(3===arguments.length)if(m(arguments[2],tn)&&arguments[0]instanceof Object&&arguments[1]instanceof rn){var o=arguments[0],i=arguments[1],a=arguments[2];e.prototype.query.call(this,o,i,a)}else if(m(arguments[2],ce)&&arguments[0]instanceof Object&&arguments[1]instanceof rn){var s=arguments[0],l=arguments[1],u=arguments[2];e.prototype.query.call(this,s,l,u)}},t.prototype.getComparator=function(){return t.yComparator},t.prototype.createParentBoundablesFromVerticalSlice=function(t,n){return e.prototype.createParentBoundables.call(this,t,n)},t.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];return e.prototype.remove.call(this,t,n)}return e.prototype.remove.apply(this,arguments)},t.prototype.depth=function(){return 0===arguments.length?e.prototype.depth.call(this):e.prototype.depth.apply(this,arguments)},t.prototype.createParentBoundables=function(e,n){G.isTrue(!e.isEmpty());var r=Math.trunc(Math.ceil(e.size()/this.getNodeCapacity())),o=new fe(e);an.sort(o,t.xComparator);var i=this.verticalSlices(o,Math.trunc(Math.ceil(Math.sqrt(r))));return this.createParentBoundablesFromVerticalSlices(i,n)},t.prototype.nearestNeighbour=function(){if(1===arguments.length){if(m(arguments[0],pn)){var e=arguments[0],n=new sn(this.getRoot(),this.getRoot(),e);return this.nearestNeighbour(n)}if(arguments[0]instanceof sn){var r=arguments[0];return this.nearestNeighbour(r,i.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof t&&m(arguments[1],pn)){var o=arguments[0],a=arguments[1],s=new sn(this.getRoot(),o.getRoot(),a);return this.nearestNeighbour(s)}if(arguments[0]instanceof sn&&"number"==typeof arguments[1]){var l=arguments[0],u=arguments[1],c=u,p=null,f=new en;for(f.add(l);!f.isEmpty()&&c>0;){var d=f.poll(),h=d.getDistance();if(h>=c)break;d.isLeaves()?(c=h,p=d):d.expandToQueue(f,c)}return[p.getBoundable(0).getItem(),p.getBoundable(1).getItem()]}}else if(3===arguments.length){var y=arguments[0],g=arguments[1],v=arguments[2],b=new $t(y,g),_=new sn(this.getRoot(),b,v);return this.nearestNeighbour(_)[0]}},t.prototype.interfaces_=function(){return[nn,c]},t.prototype.getClass=function(){return t},t.centreX=function(e){return t.avg(e.getMinX(),e.getMaxX())},t.avg=function(e,t){return(e+t)/2},t.centreY=function(e){return t.avg(e.getMinY(),e.getMaxY())},n.STRtreeNode.get=function(){return dn},n.serialVersionUID.get=function(){return 0x39920f7d5f261e0},n.xComparator.get=function(){return{interfaces_:function(){return[u]},compare:function(n,r){return e.compareDoubles(t.centreX(n.getBounds()),t.centreX(r.getBounds()))}}},n.yComparator.get=function(){return{interfaces_:function(){return[u]},compare:function(n,r){return e.compareDoubles(t.centreY(n.getBounds()),t.centreY(r.getBounds()))}}},n.intersectsOp.get=function(){return{interfaces_:function(){return[e.IntersectsOp]},intersects:function(e,t){return e.intersects(t)}}},n.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(t,n),t}(ln),dn=function(e){function t(){var t=arguments[0];e.call(this,t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.computeBounds=function(){for(var e=null,t=this.getChildBoundables().iterator();t.hasNext();){var n=t.next();null===e?e=new N(n.getBounds()):e.expandToInclude(n.getBounds())}return e},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(rn),hn=function(){};hn.prototype.interfaces_=function(){return[]},hn.prototype.getClass=function(){return hn},hn.relativeSign=function(e,t){return e<t?-1:e>t?1:0},hn.compare=function(e,t,n){if(t.equals2D(n))return 0;var r=hn.relativeSign(t.x,n.x),o=hn.relativeSign(t.y,n.y);switch(e){case 0:return hn.compareValue(r,o);case 1:return hn.compareValue(o,r);case 2:return hn.compareValue(o,-r);case 3:return hn.compareValue(-r,o);case 4:return hn.compareValue(-r,-o);case 5:return hn.compareValue(-o,-r);case 6:return hn.compareValue(-o,r);case 7:return hn.compareValue(r,-o)}return G.shouldNeverReachHere("invalid octant value"),0},hn.compareValue=function(e,t){return e<0?-1:e>0?1:t<0?-1:t>0?1:0};var yn=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3];this._segString=e,this.coord=new p(t),this.segmentIndex=n,this._segmentOctant=r,this._isInterior=!t.equals2D(e.getCoordinate(n))};yn.prototype.getCoordinate=function(){return this.coord},yn.prototype.print=function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex)},yn.prototype.compareTo=function(e){var t=e;return this.segmentIndex<t.segmentIndex?-1:this.segmentIndex>t.segmentIndex?1:this.coord.equals2D(t.coord)?0:hn.compare(this._segmentOctant,this.coord,t.coord)},yn.prototype.isEndPoint=function(e){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===e},yn.prototype.isInterior=function(){return this._isInterior},yn.prototype.interfaces_=function(){return[s]},yn.prototype.getClass=function(){return yn};var gn=function(){this._nodeMap=new Me,this._edge=null;var e=arguments[0];this._edge=e};gn.prototype.getSplitCoordinates=function(){var e=new he;this.addEndpoints();for(var t=this.iterator(),n=t.next();t.hasNext();){var r=t.next();this.addEdgeCoordinates(n,r,e),n=r}return e.toCoordinateArray()},gn.prototype.addCollapsedNodes=function(){var e=new fe;this.findCollapsesFromInsertedNodes(e),this.findCollapsesFromExistingVertices(e);for(var t=e.iterator();t.hasNext();){var n=t.next().intValue();this.add(this._edge.getCoordinate(n),n)}},gn.prototype.print=function(e){e.println("Intersections:");for(var t=this.iterator();t.hasNext();)t.next().print(e)},gn.prototype.findCollapsesFromExistingVertices=function(e){for(var t=0;t<this._edge.size()-2;t++){var n=this._edge.getCoordinate(t),r=this._edge.getCoordinate(t+2);n.equals2D(r)&&e.add(new w(t+1))}},gn.prototype.addEdgeCoordinates=function(e,t,n){var r=this._edge.getCoordinate(t.segmentIndex),o=t.isInterior()||!t.coord.equals2D(r);n.add(new p(e.coord),!1);for(var i=e.segmentIndex+1;i<=t.segmentIndex;i++)n.add(this._edge.getCoordinate(i));o&&n.add(new p(t.coord))},gn.prototype.iterator=function(){return this._nodeMap.values().iterator()},gn.prototype.addSplitEdges=function(e){this.addEndpoints(),this.addCollapsedNodes();for(var t=this.iterator(),n=t.next();t.hasNext();){var r=t.next(),o=this.createSplitEdge(n,r);e.add(o),n=r}},gn.prototype.findCollapseIndex=function(e,t,n){if(!e.coord.equals2D(t.coord))return!1;var r=t.segmentIndex-e.segmentIndex;return t.isInterior()||r--,1===r&&(n[0]=e.segmentIndex+1,!0)},gn.prototype.findCollapsesFromInsertedNodes=function(e){for(var t=new Array(1).fill(null),n=this.iterator(),r=n.next();n.hasNext();){var o=n.next();this.findCollapseIndex(r,o,t)&&e.add(new w(t[0])),r=o}},gn.prototype.getEdge=function(){return this._edge},gn.prototype.addEndpoints=function(){var e=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(e),e)},gn.prototype.createSplitEdge=function(e,t){var n=t.segmentIndex-e.segmentIndex+2,r=this._edge.getCoordinate(t.segmentIndex),o=t.isInterior()||!t.coord.equals2D(r);o||n--;var i=new Array(n).fill(null),a=0;i[a++]=new p(e.coord);for(var s=e.segmentIndex+1;s<=t.segmentIndex;s++)i[a++]=this._edge.getCoordinate(s);return o&&(i[a]=new p(t.coord)),new _n(i,this._edge.getData())},gn.prototype.add=function(e,t){var n=new yn(this._edge,e,t,this._edge.getSegmentOctant(t)),r=this._nodeMap.get(n);return null!==r?(G.isTrue(r.coord.equals2D(e),"Found equal nodes with different coordinates"),r):(this._nodeMap.put(n,n),n)},gn.prototype.checkSplitEdgesCorrectness=function(e){var t=this._edge.getCoordinates(),n=e.get(0).getCoordinate(0);if(!n.equals2D(t[0]))throw new B("bad split edge start point at "+n);var r=e.get(e.size()-1).getCoordinates(),o=r[r.length-1];if(!o.equals2D(t[t.length-1]))throw new B("bad split edge end point at "+o)},gn.prototype.interfaces_=function(){return[]},gn.prototype.getClass=function(){return gn};var mn=function(){};mn.prototype.interfaces_=function(){return[]},mn.prototype.getClass=function(){return mn},mn.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],t=arguments[1];if(0===e&&0===t)throw new o("Cannot compute the octant for point ( "+e+", "+t+" )");var n=Math.abs(e),r=Math.abs(t);return e>=0?t>=0?n>=r?0:1:n>=r?7:6:t>=0?n>=r?3:2:n>=r?4:5}if(arguments[0]instanceof p&&arguments[1]instanceof p){var i=arguments[0],a=arguments[1],s=a.x-i.x,l=a.y-i.y;if(0===s&&0===l)throw new o("Cannot compute the octant for two identical points "+i);return mn.octant(s,l)}};var vn=function(){};vn.prototype.getCoordinates=function(){},vn.prototype.size=function(){},vn.prototype.getCoordinate=function(e){},vn.prototype.isClosed=function(){},vn.prototype.setData=function(e){},vn.prototype.getData=function(){},vn.prototype.interfaces_=function(){return[]},vn.prototype.getClass=function(){return vn};var bn=function(){};bn.prototype.addIntersection=function(e,t){},bn.prototype.interfaces_=function(){return[vn]},bn.prototype.getClass=function(){return bn};var _n=function(){this._nodeList=new gn(this),this._pts=null,this._data=null;var e=arguments[0],t=arguments[1];this._pts=e,this._data=t};_n.prototype.getCoordinates=function(){return this._pts},_n.prototype.size=function(){return this._pts.length},_n.prototype.getCoordinate=function(e){return this._pts[e]},_n.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},_n.prototype.getSegmentOctant=function(e){return e===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(e),this.getCoordinate(e+1))},_n.prototype.setData=function(e){this._data=e},_n.prototype.safeOctant=function(e,t){return e.equals2D(t)?0:mn.octant(e,t)},_n.prototype.getData=function(){return this._data},_n.prototype.addIntersection=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];this.addIntersectionNode(e,t)}else if(4===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[3],i=new p(n.getIntersection(o));this.addIntersection(i,r)}},_n.prototype.toString=function(){return F.toLineString(new ft(this._pts))},_n.prototype.getNodeList=function(){return this._nodeList},_n.prototype.addIntersectionNode=function(e,t){var n=t,r=n+1;if(r<this._pts.length){var o=this._pts[r];e.equals2D(o)&&(n=r)}return this._nodeList.add(e,n)},_n.prototype.addIntersections=function(e,t,n){for(var r=0;r<e.getIntersectionNum();r++)this.addIntersection(e,t,n,r)},_n.prototype.interfaces_=function(){return[bn]},_n.prototype.getClass=function(){return _n},_n.getNodedSubstrings=function(){if(1===arguments.length){var e=arguments[0],t=new fe;return _n.getNodedSubstrings(e,t),t}if(2===arguments.length)for(var n=arguments[0],r=arguments[1],o=n.iterator();o.hasNext();){var i=o.next();i.getNodeList().addSplitEdges(r)}};var wn=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new p,this.p1=new p;else if(1===arguments.length){var e=arguments[0];this.p0=new p(e.p0),this.p1=new p(e.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var t=arguments[0],n=arguments[1],r=arguments[2],o=arguments[3];this.p0=new p(t,n),this.p1=new p(r,o)}},Pn={serialVersionUID:{configurable:!0}};wn.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},wn.prototype.orientationIndex=function(){if(arguments[0]instanceof wn){var e=arguments[0],t=Y.orientationIndex(this.p0,this.p1,e.p0),n=Y.orientationIndex(this.p0,this.p1,e.p1);return t>=0&&n>=0||t<=0&&n<=0?Math.max(t,n):0}if(arguments[0]instanceof p){var r=arguments[0];return Y.orientationIndex(this.p0,this.p1,r)}},wn.prototype.toGeometry=function(e){return e.createLineString([this.p0,this.p1])},wn.prototype.isVertical=function(){return this.p0.x===this.p1.x},wn.prototype.equals=function(e){if(!(e instanceof wn))return!1;var t=e;return this.p0.equals(t.p0)&&this.p1.equals(t.p1)},wn.prototype.intersection=function(e){var t=new J;return t.computeIntersection(this.p0,this.p1,e.p0,e.p1),t.hasIntersection()?t.getIntersection(0):null},wn.prototype.project=function(){if(arguments[0]instanceof p){var e=arguments[0];if(e.equals(this.p0)||e.equals(this.p1))return new p(e);var t=this.projectionFactor(e),n=new p;return n.x=this.p0.x+t*(this.p1.x-this.p0.x),n.y=this.p0.y+t*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof wn){var r=arguments[0],o=this.projectionFactor(r.p0),i=this.projectionFactor(r.p1);if(o>=1&&i>=1)return null;if(o<=0&&i<=0)return null;var a=this.project(r.p0);o<0&&(a=this.p0),o>1&&(a=this.p1);var s=this.project(r.p1);return i<0&&(s=this.p0),i>1&&(s=this.p1),new wn(a,s)}},wn.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},wn.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},wn.prototype.getCoordinate=function(e){return 0===e?this.p0:this.p1},wn.prototype.distancePerpendicular=function(e){return Y.distancePointLinePerpendicular(e,this.p0,this.p1)},wn.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},wn.prototype.midPoint=function(){return wn.midPoint(this.p0,this.p1)},wn.prototype.projectionFactor=function(e){if(e.equals(this.p0))return 0;if(e.equals(this.p1))return 1;var t=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,r=t*t+n*n;return r<=0?i.NaN:((e.x-this.p0.x)*t+(e.y-this.p0.y)*n)/r},wn.prototype.closestPoints=function(e){var t=this.intersection(e);if(null!==t)return[t,t];var n=new Array(2).fill(null),r=i.MAX_VALUE,o=null,a=this.closestPoint(e.p0);r=a.distance(e.p0),n[0]=a,n[1]=e.p0;var s=this.closestPoint(e.p1);(o=s.distance(e.p1))<r&&(r=o,n[0]=s,n[1]=e.p1);var l=e.closestPoint(this.p0);(o=l.distance(this.p0))<r&&(r=o,n[0]=this.p0,n[1]=l);var u=e.closestPoint(this.p1);return(o=u.distance(this.p1))<r&&(r=o,n[0]=this.p1,n[1]=u),n},wn.prototype.closestPoint=function(e){var t=this.projectionFactor(e);return t>0&&t<1?this.project(e):this.p0.distance(e)<this.p1.distance(e)?this.p0:this.p1},wn.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},wn.prototype.getLength=function(){return this.p0.distance(this.p1)},wn.prototype.compareTo=function(e){var t=e,n=this.p0.compareTo(t.p0);return 0!==n?n:this.p1.compareTo(t.p1)},wn.prototype.reverse=function(){var e=this.p0;this.p0=this.p1,this.p1=e},wn.prototype.equalsTopo=function(e){return this.p0.equals(e.p0)&&(this.p1.equals(e.p1)||this.p0.equals(e.p1))&&this.p1.equals(e.p0)},wn.prototype.lineIntersection=function(e){try{return I.intersection(this.p0,this.p1,e.p0,e.p1)}catch(e){if(!(e instanceof M))throw e}return null},wn.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},wn.prototype.pointAlongOffset=function(e,t){var n=this.p0.x+e*(this.p1.x-this.p0.x),r=this.p0.y+e*(this.p1.y-this.p0.y),o=this.p1.x-this.p0.x,i=this.p1.y-this.p0.y,a=Math.sqrt(o*o+i*i),s=0,l=0;if(0!==t){if(a<=0)throw new Error("Cannot compute offset from zero-length line segment");s=t*o/a,l=t*i/a}return new p(n-l,r+s)},wn.prototype.setCoordinates=function(){if(1===arguments.length){var e=arguments[0];this.setCoordinates(e.p0,e.p1)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.p0.x=t.x,this.p0.y=t.y,this.p1.x=n.x,this.p1.y=n.y}},wn.prototype.segmentFraction=function(e){var t=this.projectionFactor(e);return t<0?t=0:(t>1||i.isNaN(t))&&(t=1),t},wn.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},wn.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},wn.prototype.distance=function(){if(arguments[0]instanceof wn){var e=arguments[0];return Y.distanceLineLine(this.p0,this.p1,e.p0,e.p1)}if(arguments[0]instanceof p){var t=arguments[0];return Y.distancePointLine(t,this.p0,this.p1)}},wn.prototype.pointAlong=function(e){var t=new p;return t.x=this.p0.x+e*(this.p1.x-this.p0.x),t.y=this.p0.y+e*(this.p1.y-this.p0.y),t},wn.prototype.hashCode=function(){var e=i.doubleToLongBits(this.p0.x);e^=31*i.doubleToLongBits(this.p0.y);var t=Math.trunc(e)^Math.trunc(e>>32),n=i.doubleToLongBits(this.p1.x);return n^=31*i.doubleToLongBits(this.p1.y),t^Math.trunc(n)^Math.trunc(n>>32)},wn.prototype.interfaces_=function(){return[s,c]},wn.prototype.getClass=function(){return wn},wn.midPoint=function(e,t){return new p((e.x+t.x)/2,(e.y+t.y)/2)},Pn.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(wn,Pn);var Cn=function(){this.tempEnv1=new N,this.tempEnv2=new N,this._overlapSeg1=new wn,this._overlapSeg2=new wn};Cn.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3];e.getLineSegment(t,this._overlapSeg1),n.getLineSegment(r,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},Cn.prototype.interfaces_=function(){return[]},Cn.prototype.getClass=function(){return Cn};var On=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3];this._pts=e,this._start=t,this._end=n,this._context=r};On.prototype.getLineSegment=function(e,t){t.p0=this._pts[e],t.p1=this._pts[e+1]},On.prototype.computeSelect=function(e,t,n,r){var o=this._pts[t],i=this._pts[n];if(r.tempEnv1.init(o,i),n-t==1)return r.select(this,t),null;if(!e.intersects(r.tempEnv1))return null;var a=Math.trunc((t+n)/2);t<a&&this.computeSelect(e,t,a,r),a<n&&this.computeSelect(e,a,n,r)},On.prototype.getCoordinates=function(){for(var e=new Array(this._end-this._start+1).fill(null),t=0,n=this._start;n<=this._end;n++)e[t++]=this._pts[n];return e},On.prototype.computeOverlaps=function(e,t){this.computeOverlapsInternal(this._start,this._end,e,e._start,e._end,t)},On.prototype.setId=function(e){this._id=e},On.prototype.select=function(e,t){this.computeSelect(e,this._start,this._end,t)},On.prototype.getEnvelope=function(){if(null===this._env){var e=this._pts[this._start],t=this._pts[this._end];this._env=new N(e,t)}return this._env},On.prototype.getEndIndex=function(){return this._end},On.prototype.getStartIndex=function(){return this._start},On.prototype.getContext=function(){return this._context},On.prototype.getId=function(){return this._id},On.prototype.computeOverlapsInternal=function(e,t,n,r,o,i){var a=this._pts[e],s=this._pts[t],l=n._pts[r],u=n._pts[o];if(t-e==1&&o-r==1)return i.overlap(this,e,n,r),null;if(i.tempEnv1.init(a,s),i.tempEnv2.init(l,u),!i.tempEnv1.intersects(i.tempEnv2))return null;var c=Math.trunc((e+t)/2),p=Math.trunc((r+o)/2);e<c&&(r<p&&this.computeOverlapsInternal(e,c,n,r,p,i),p<o&&this.computeOverlapsInternal(e,c,n,p,o,i)),c<t&&(r<p&&this.computeOverlapsInternal(c,t,n,r,p,i),p<o&&this.computeOverlapsInternal(c,t,n,p,o,i))},On.prototype.interfaces_=function(){return[]},On.prototype.getClass=function(){return On};var xn=function(){};xn.prototype.interfaces_=function(){return[]},xn.prototype.getClass=function(){return xn},xn.getChainStartIndices=function(e){var t=0,n=new fe;n.add(new w(t));do{var r=xn.findChainEnd(e,t);n.add(new w(r)),t=r}while(t<e.length-1);return xn.toIntArray(n)},xn.findChainEnd=function(e,t){for(var n=t;n<e.length-1&&e[n].equals2D(e[n+1]);)n++;if(n>=e.length-1)return e.length-1;for(var r=Jt.quadrant(e[n],e[n+1]),o=t+1;o<e.length&&(e[o-1].equals2D(e[o])||Jt.quadrant(e[o-1],e[o])===r);)o++;return o-1},xn.getChains=function(){if(1===arguments.length){var e=arguments[0];return xn.getChains(e,null)}if(2===arguments.length){for(var t=arguments[0],n=arguments[1],r=new fe,o=xn.getChainStartIndices(t),i=0;i<o.length-1;i++){var a=new On(t,o[i],o[i+1],n);r.add(a)}return r}},xn.toIntArray=function(e){for(var t=new Array(e.size()).fill(null),n=0;n<t.length;n++)t[n]=e.get(n).intValue();return t};var Sn=function(){};Sn.prototype.computeNodes=function(e){},Sn.prototype.getNodedSubstrings=function(){},Sn.prototype.interfaces_=function(){return[]},Sn.prototype.getClass=function(){return Sn};var En=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setSegmentIntersector(e)}};En.prototype.setSegmentIntersector=function(e){this._segInt=e},En.prototype.interfaces_=function(){return[Sn]},En.prototype.getClass=function(){return En};var jn=function(e){function t(t){t?e.call(this,t):e.call(this),this._monoChains=new fe,this._index=new fn,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={SegmentOverlapAction:{configurable:!0}};return t.prototype.getMonotoneChains=function(){return this._monoChains},t.prototype.getNodedSubstrings=function(){return _n.getNodedSubstrings(this._nodedSegStrings)},t.prototype.getIndex=function(){return this._index},t.prototype.add=function(e){for(var t=this,n=xn.getChains(e.getCoordinates(),e).iterator();n.hasNext();){var r=n.next();r.setId(t._idCounter++),t._index.insert(r.getEnvelope(),r),t._monoChains.add(r)}},t.prototype.computeNodes=function(e){this._nodedSegStrings=e;for(var t=e.iterator();t.hasNext();)this.add(t.next());this.intersectChains()},t.prototype.intersectChains=function(){for(var e=this,t=new Tn(this._segInt),n=this._monoChains.iterator();n.hasNext();)for(var r=n.next(),o=e._index.query(r.getEnvelope()).iterator();o.hasNext();){var i=o.next();if(i.getId()>r.getId()&&(r.computeOverlaps(i,t),e._nOverlaps++),e._segInt.isDone())return null}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},n.SegmentOverlapAction.get=function(){return Tn},Object.defineProperties(t,n),t}(En),Tn=function(e){function t(){e.call(this),this._si=null;var t=arguments[0];this._si=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.overlap=function(){if(4!==arguments.length)return e.prototype.overlap.apply(this,arguments);var t=arguments[0],n=arguments[1],r=arguments[2],o=arguments[3],i=t.getContext(),a=r.getContext();this._si.processIntersections(i,n,a,o)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Cn),Mn=function e(){if(this._quadrantSegments=e.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=e.CAP_ROUND,this._joinStyle=e.JOIN_ROUND,this._mitreLimit=e.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=e.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setQuadrantSegments(t)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(r)}else if(4===arguments.length){var o=arguments[0],i=arguments[1],a=arguments[2],s=arguments[3];this.setQuadrantSegments(o),this.setEndCapStyle(i),this.setJoinStyle(a),this.setMitreLimit(s)}},An={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Mn.prototype.getEndCapStyle=function(){return this._endCapStyle},Mn.prototype.isSingleSided=function(){return this._isSingleSided},Mn.prototype.setQuadrantSegments=function(e){this._quadrantSegments=e,0===this._quadrantSegments&&(this._joinStyle=Mn.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Mn.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),e<=0&&(this._quadrantSegments=1),this._joinStyle!==Mn.JOIN_ROUND&&(this._quadrantSegments=Mn.DEFAULT_QUADRANT_SEGMENTS)},Mn.prototype.getJoinStyle=function(){return this._joinStyle},Mn.prototype.setJoinStyle=function(e){this._joinStyle=e},Mn.prototype.setSimplifyFactor=function(e){this._simplifyFactor=e<0?0:e},Mn.prototype.getSimplifyFactor=function(){return this._simplifyFactor},Mn.prototype.getQuadrantSegments=function(){return this._quadrantSegments},Mn.prototype.setEndCapStyle=function(e){this._endCapStyle=e},Mn.prototype.getMitreLimit=function(){return this._mitreLimit},Mn.prototype.setMitreLimit=function(e){this._mitreLimit=e},Mn.prototype.setSingleSided=function(e){this._isSingleSided=e},Mn.prototype.interfaces_=function(){return[]},Mn.prototype.getClass=function(){return Mn},Mn.bufferDistanceError=function(e){var t=Math.PI/2/e;return 1-Math.cos(t/2)},An.CAP_ROUND.get=function(){return 1},An.CAP_FLAT.get=function(){return 2},An.CAP_SQUARE.get=function(){return 3},An.JOIN_ROUND.get=function(){return 1},An.JOIN_MITRE.get=function(){return 2},An.JOIN_BEVEL.get=function(){return 3},An.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},An.DEFAULT_MITRE_LIMIT.get=function(){return 5},An.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(Mn,An);var In=function(e){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=Y.COUNTERCLOCKWISE,this._inputLine=e||null},Nn={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};In.prototype.isDeletable=function(e,t,n,r){var o=this._inputLine[e],i=this._inputLine[t],a=this._inputLine[n];return!!this.isConcave(o,i,a)&&!!this.isShallow(o,i,a,r)&&this.isShallowSampled(o,i,e,n,r)},In.prototype.deleteShallowConcavities=function(){for(var e=this,t=1,n=this.findNextNonDeletedIndex(t),r=this.findNextNonDeletedIndex(n),o=!1;r<this._inputLine.length;){var i=!1;e.isDeletable(t,n,r,e._distanceTol)&&(e._isDeleted[n]=In.DELETE,i=!0,o=!0),t=i?r:n,n=e.findNextNonDeletedIndex(t),r=e.findNextNonDeletedIndex(n)}return o},In.prototype.isShallowConcavity=function(e,t,n,r){return Y.computeOrientation(e,t,n)===this._angleOrientation&&Y.distancePointLine(t,e,n)<r},In.prototype.isShallowSampled=function(e,t,n,r,o){var i=Math.trunc((r-n)/In.NUM_PTS_TO_CHECK);i<=0&&(i=1);for(var a=n;a<r;a+=i)if(!this.isShallow(e,t,this._inputLine[a],o))return!1;return!0},In.prototype.isConcave=function(e,t,n){return Y.computeOrientation(e,t,n)===this._angleOrientation},In.prototype.simplify=function(e){this._distanceTol=Math.abs(e),e<0&&(this._angleOrientation=Y.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var t=!1;do{t=this.deleteShallowConcavities()}while(t);return this.collapseLine()},In.prototype.findNextNonDeletedIndex=function(e){for(var t=e+1;t<this._inputLine.length&&this._isDeleted[t]===In.DELETE;)t++;return t},In.prototype.isShallow=function(e,t,n,r){return Y.distancePointLine(t,e,n)<r},In.prototype.collapseLine=function(){for(var e=new he,t=0;t<this._inputLine.length;t++)this._isDeleted[t]!==In.DELETE&&e.add(this._inputLine[t]);return e.toCoordinateArray()},In.prototype.interfaces_=function(){return[]},In.prototype.getClass=function(){return In},In.simplify=function(e,t){return new In(e).simplify(t)},Nn.INIT.get=function(){return 0},Nn.DELETE.get=function(){return 1},Nn.KEEP.get=function(){return 1},Nn.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(In,Nn);var Dn=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new fe},zn={COORDINATE_ARRAY_TYPE:{configurable:!0}};Dn.prototype.getCoordinates=function(){return this._ptList.toArray(Dn.COORDINATE_ARRAY_TYPE)},Dn.prototype.setPrecisionModel=function(e){this._precisionModel=e},Dn.prototype.addPt=function(e){var t=new p(e);if(this._precisionModel.makePrecise(t),this.isRedundant(t))return null;this._ptList.add(t)},Dn.prototype.revere=function(){},Dn.prototype.addPts=function(e,t){if(t)for(var n=0;n<e.length;n++)this.addPt(e[n]);else for(var r=e.length-1;r>=0;r--)this.addPt(e[r])},Dn.prototype.isRedundant=function(e){if(this._ptList.size()<1)return!1;var t=this._ptList.get(this._ptList.size()-1);return e.distance(t)<this._minimimVertexDistance},Dn.prototype.toString=function(){return(new wt).createLineString(this.getCoordinates()).toString()},Dn.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var e=new p(this._ptList.get(0)),t=this._ptList.get(this._ptList.size()-1);if(e.equals(t))return null;this._ptList.add(e)},Dn.prototype.setMinimumVertexDistance=function(e){this._minimimVertexDistance=e},Dn.prototype.interfaces_=function(){return[]},Dn.prototype.getClass=function(){return Dn},zn.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(Dn,zn);var Rn=function(){},kn={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Rn.prototype.interfaces_=function(){return[]},Rn.prototype.getClass=function(){return Rn},Rn.toDegrees=function(e){return 180*e/Math.PI},Rn.normalize=function(e){for(;e>Math.PI;)e-=Rn.PI_TIMES_2;for(;e<=-Math.PI;)e+=Rn.PI_TIMES_2;return e},Rn.angle=function(){if(1===arguments.length){var e=arguments[0];return Math.atan2(e.y,e.x)}if(2===arguments.length){var t=arguments[0],n=arguments[1],r=n.x-t.x,o=n.y-t.y;return Math.atan2(o,r)}},Rn.isAcute=function(e,t,n){var r=e.x-t.x,o=e.y-t.y;return r*(n.x-t.x)+o*(n.y-t.y)>0},Rn.isObtuse=function(e,t,n){var r=e.x-t.x,o=e.y-t.y;return r*(n.x-t.x)+o*(n.y-t.y)<0},Rn.interiorAngle=function(e,t,n){var r=Rn.angle(t,e),o=Rn.angle(t,n);return Math.abs(o-r)},Rn.normalizePositive=function(e){if(e<0){for(;e<0;)e+=Rn.PI_TIMES_2;e>=Rn.PI_TIMES_2&&(e=0)}else{for(;e>=Rn.PI_TIMES_2;)e-=Rn.PI_TIMES_2;e<0&&(e=0)}return e},Rn.angleBetween=function(e,t,n){var r=Rn.angle(t,e),o=Rn.angle(t,n);return Rn.diff(r,o)},Rn.diff=function(e,t){var n=null;return(n=e<t?t-e:e-t)>Math.PI&&(n=2*Math.PI-n),n},Rn.toRadians=function(e){return e*Math.PI/180},Rn.getTurn=function(e,t){var n=Math.sin(t-e);return n>0?Rn.COUNTERCLOCKWISE:n<0?Rn.CLOCKWISE:Rn.NONE},Rn.angleBetweenOriented=function(e,t,n){var r=Rn.angle(t,e),o=Rn.angle(t,n)-r;return o<=-Math.PI?o+Rn.PI_TIMES_2:o>Math.PI?o-Rn.PI_TIMES_2:o},kn.PI_TIMES_2.get=function(){return 2*Math.PI},kn.PI_OVER_2.get=function(){return Math.PI/2},kn.PI_OVER_4.get=function(){return Math.PI/4},kn.COUNTERCLOCKWISE.get=function(){return Y.COUNTERCLOCKWISE},kn.CLOCKWISE.get=function(){return Y.CLOCKWISE},kn.NONE.get=function(){return Y.COLLINEAR},Object.defineProperties(Rn,kn);var Ln=function e(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new wn,this._seg1=new wn,this._offset0=new wn,this._offset1=new wn,this._side=0,this._hasNarrowConcaveAngle=!1;var t=arguments[0],n=arguments[1],r=arguments[2];this._precisionModel=t,this._bufParams=n,this._li=new J,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===Mn.JOIN_ROUND&&(this._closingSegLengthFactor=e.MAX_CLOSING_SEG_LEN_FACTOR),this.init(r)},Fn={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};Ln.prototype.addNextSegment=function(e,t){if(this._s0=this._s1,this._s1=this._s2,this._s2=e,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=Y.computeOrientation(this._s0,this._s1,this._s2),r=n===Y.CLOCKWISE&&this._side===Tt.LEFT||n===Y.COUNTERCLOCKWISE&&this._side===Tt.RIGHT;0===n?this.addCollinear(t):r?this.addOutsideTurn(n,t):this.addInsideTurn(n,t)},Ln.prototype.addLineEndCap=function(e,t){var n=new wn(e,t),r=new wn;this.computeOffsetSegment(n,Tt.LEFT,this._distance,r);var o=new wn;this.computeOffsetSegment(n,Tt.RIGHT,this._distance,o);var i=t.x-e.x,a=t.y-e.y,s=Math.atan2(a,i);switch(this._bufParams.getEndCapStyle()){case Mn.CAP_ROUND:this._segList.addPt(r.p1),this.addFilletArc(t,s+Math.PI/2,s-Math.PI/2,Y.CLOCKWISE,this._distance),this._segList.addPt(o.p1);break;case Mn.CAP_FLAT:this._segList.addPt(r.p1),this._segList.addPt(o.p1);break;case Mn.CAP_SQUARE:var l=new p;l.x=Math.abs(this._distance)*Math.cos(s),l.y=Math.abs(this._distance)*Math.sin(s);var u=new p(r.p1.x+l.x,r.p1.y+l.y),c=new p(o.p1.x+l.x,o.p1.y+l.y);this._segList.addPt(u),this._segList.addPt(c)}},Ln.prototype.getCoordinates=function(){return this._segList.getCoordinates()},Ln.prototype.addMitreJoin=function(e,t,n,r){var o=!0,i=null;try{i=I.intersection(t.p0,t.p1,n.p0,n.p1),(r<=0?1:i.distance(e)/Math.abs(r))>this._bufParams.getMitreLimit()&&(o=!1)}catch(e){if(!(e instanceof M))throw e;i=new p(0,0),o=!1}o?this._segList.addPt(i):this.addLimitedMitreJoin(t,n,r,this._bufParams.getMitreLimit())},Ln.prototype.addFilletCorner=function(e,t,n,r,o){var i=t.x-e.x,a=t.y-e.y,s=Math.atan2(a,i),l=n.x-e.x,u=n.y-e.y,c=Math.atan2(u,l);r===Y.CLOCKWISE?s<=c&&(s+=2*Math.PI):s>=c&&(s-=2*Math.PI),this._segList.addPt(t),this.addFilletArc(e,s,c,r,o),this._segList.addPt(n)},Ln.prototype.addOutsideTurn=function(e,t){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*Ln.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Mn.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Mn.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(t&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,e,this._distance),this._segList.addPt(this._offset1.p0))},Ln.prototype.createSquare=function(e){this._segList.addPt(new p(e.x+this._distance,e.y+this._distance)),this._segList.addPt(new p(e.x+this._distance,e.y-this._distance)),this._segList.addPt(new p(e.x-this._distance,e.y-this._distance)),this._segList.addPt(new p(e.x-this._distance,e.y+this._distance)),this._segList.closeRing()},Ln.prototype.addSegments=function(e,t){this._segList.addPts(e,t)},Ln.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},Ln.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},Ln.prototype.initSideSegments=function(e,t,n){this._s1=e,this._s2=t,this._side=n,this._seg1.setCoordinates(e,t),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},Ln.prototype.addLimitedMitreJoin=function(e,t,n,r){var o=this._seg0.p1,i=Rn.angle(o,this._seg0.p0),a=Rn.angleBetweenOriented(this._seg0.p0,o,this._seg1.p1)/2,s=Rn.normalize(i+a),l=Rn.normalize(s+Math.PI),u=r*n,c=n-u*Math.abs(Math.sin(a)),f=o.x+u*Math.cos(l),d=o.y+u*Math.sin(l),h=new p(f,d),y=new wn(o,h),g=y.pointAlongOffset(1,c),m=y.pointAlongOffset(1,-c);this._side===Tt.LEFT?(this._segList.addPt(g),this._segList.addPt(m)):(this._segList.addPt(m),this._segList.addPt(g))},Ln.prototype.computeOffsetSegment=function(e,t,n,r){var o=t===Tt.LEFT?1:-1,i=e.p1.x-e.p0.x,a=e.p1.y-e.p0.y,s=Math.sqrt(i*i+a*a),l=o*n*i/s,u=o*n*a/s;r.p0.x=e.p0.x-u,r.p0.y=e.p0.y+l,r.p1.x=e.p1.x-u,r.p1.y=e.p1.y+l},Ln.prototype.addFilletArc=function(e,t,n,r,o){var i=r===Y.CLOCKWISE?-1:1,a=Math.abs(t-n),s=Math.trunc(a/this._filletAngleQuantum+.5);if(s<1)return null;for(var l=a/s,u=0,c=new p;u<a;){var f=t+i*u;c.x=e.x+o*Math.cos(f),c.y=e.y+o*Math.sin(f),this._segList.addPt(c),u+=l}},Ln.prototype.addInsideTurn=function(e,t){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*Ln.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new p((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var r=new p((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},Ln.prototype.createCircle=function(e){var t=new p(e.x+this._distance,e.y);this._segList.addPt(t),this.addFilletArc(e,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},Ln.prototype.addBevelJoin=function(e,t){this._segList.addPt(e.p1),this._segList.addPt(t.p0)},Ln.prototype.init=function(e){this._distance=e,this._maxCurveSegmentError=e*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Dn,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(e*Ln.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},Ln.prototype.addCollinear=function(e){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===Mn.JOIN_BEVEL||this._bufParams.getJoinStyle()===Mn.JOIN_MITRE?(e&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,Y.CLOCKWISE,this._distance))},Ln.prototype.closeRing=function(){this._segList.closeRing()},Ln.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},Ln.prototype.interfaces_=function(){return[]},Ln.prototype.getClass=function(){return Ln},Fn.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},Fn.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},Fn.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},Fn.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(Ln,Fn);var Bn=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var e=arguments[0],t=arguments[1];this._precisionModel=e,this._bufParams=t};Bn.prototype.getOffsetCurve=function(e,t){if(this._distance=t,0===t)return null;var n=t<0,r=Math.abs(t),o=this.getSegGen(r);e.length<=1?this.computePointCurve(e[0],o):this.computeOffsetCurve(e,n,o);var i=o.getCoordinates();return n&&ye.reverse(i),i},Bn.prototype.computeSingleSidedBufferCurve=function(e,t,n){var r=this.simplifyTolerance(this._distance);if(t){n.addSegments(e,!0);var o=In.simplify(e,-r),i=o.length-1;n.initSideSegments(o[i],o[i-1],Tt.LEFT),n.addFirstSegment();for(var a=i-2;a>=0;a--)n.addNextSegment(o[a],!0)}else{n.addSegments(e,!1);var s=In.simplify(e,r),l=s.length-1;n.initSideSegments(s[0],s[1],Tt.LEFT),n.addFirstSegment();for(var u=2;u<=l;u++)n.addNextSegment(s[u],!0)}n.addLastSegment(),n.closeRing()},Bn.prototype.computeRingBufferCurve=function(e,t,n){var r=this.simplifyTolerance(this._distance);t===Tt.RIGHT&&(r=-r);var o=In.simplify(e,r),i=o.length-1;n.initSideSegments(o[i-1],o[0],t);for(var a=1;a<=i;a++){var s=1!==a;n.addNextSegment(o[a],s)}n.closeRing()},Bn.prototype.computeLineBufferCurve=function(e,t){var n=this.simplifyTolerance(this._distance),r=In.simplify(e,n),o=r.length-1;t.initSideSegments(r[0],r[1],Tt.LEFT);for(var i=2;i<=o;i++)t.addNextSegment(r[i],!0);t.addLastSegment(),t.addLineEndCap(r[o-1],r[o]);var a=In.simplify(e,-n),s=a.length-1;t.initSideSegments(a[s],a[s-1],Tt.LEFT);for(var l=s-2;l>=0;l--)t.addNextSegment(a[l],!0);t.addLastSegment(),t.addLineEndCap(a[1],a[0]),t.closeRing()},Bn.prototype.computePointCurve=function(e,t){switch(this._bufParams.getEndCapStyle()){case Mn.CAP_ROUND:t.createCircle(e);break;case Mn.CAP_SQUARE:t.createSquare(e)}},Bn.prototype.getLineCurve=function(e,t){if(this._distance=t,t<0&&!this._bufParams.isSingleSided())return null;if(0===t)return null;var n=Math.abs(t),r=this.getSegGen(n);if(e.length<=1)this.computePointCurve(e[0],r);else if(this._bufParams.isSingleSided()){var o=t<0;this.computeSingleSidedBufferCurve(e,o,r)}else this.computeLineBufferCurve(e,r);return r.getCoordinates()},Bn.prototype.getBufferParameters=function(){return this._bufParams},Bn.prototype.simplifyTolerance=function(e){return e*this._bufParams.getSimplifyFactor()},Bn.prototype.getRingCurve=function(e,t,n){if(this._distance=n,e.length<=2)return this.getLineCurve(e,n);if(0===n)return Bn.copyCoordinates(e);var r=this.getSegGen(n);return this.computeRingBufferCurve(e,t,r),r.getCoordinates()},Bn.prototype.computeOffsetCurve=function(e,t,n){var r=this.simplifyTolerance(this._distance);if(t){var o=In.simplify(e,-r),i=o.length-1;n.initSideSegments(o[i],o[i-1],Tt.LEFT),n.addFirstSegment();for(var a=i-2;a>=0;a--)n.addNextSegment(o[a],!0)}else{var s=In.simplify(e,r),l=s.length-1;n.initSideSegments(s[0],s[1],Tt.LEFT),n.addFirstSegment();for(var u=2;u<=l;u++)n.addNextSegment(s[u],!0)}n.addLastSegment()},Bn.prototype.getSegGen=function(e){return new Ln(this._precisionModel,this._bufParams,e)},Bn.prototype.interfaces_=function(){return[]},Bn.prototype.getClass=function(){return Bn},Bn.copyCoordinates=function(e){for(var t=new Array(e.length).fill(null),n=0;n<t.length;n++)t[n]=new p(e[n]);return t};var Vn=function(){this._subgraphs=null,this._seg=new wn,this._cga=new Y;var e=arguments[0];this._subgraphs=e},Gn={DepthSegment:{configurable:!0}};Vn.prototype.findStabbedSegments=function(){var e=this;if(1===arguments.length){for(var t=arguments[0],n=new fe,r=this._subgraphs.iterator();r.hasNext();){var o=r.next(),i=o.getEnvelope();t.y<i.getMinY()||t.y>i.getMaxY()||e.findStabbedSegments(t,o.getDirectedEdges(),n)}return n}if(3===arguments.length)if(m(arguments[2],ce)&&arguments[0]instanceof p&&arguments[1]instanceof Yt)for(var a=arguments[0],s=arguments[1],l=arguments[2],u=s.getEdge().getCoordinates(),c=0;c<u.length-1;c++){e._seg.p0=u[c],e._seg.p1=u[c+1],e._seg.p0.y>e._seg.p1.y&&e._seg.reverse();var f=Math.max(e._seg.p0.x,e._seg.p1.x);if(!(f<a.x||e._seg.isHorizontal()||a.y<e._seg.p0.y||a.y>e._seg.p1.y||Y.computeOrientation(e._seg.p0,e._seg.p1,a)===Y.RIGHT)){var d=s.getDepth(Tt.LEFT);e._seg.p0.equals(u[c])||(d=s.getDepth(Tt.RIGHT));var h=new Un(e._seg,d);l.add(h)}}else if(m(arguments[2],ce)&&arguments[0]instanceof p&&m(arguments[1],ce))for(var y=arguments[0],g=arguments[1],v=arguments[2],b=g.iterator();b.hasNext();){var _=b.next();_.isForward()&&e.findStabbedSegments(y,_,v)}},Vn.prototype.getDepth=function(e){var t=this.findStabbedSegments(e);return 0===t.size()?0:an.min(t)._leftDepth},Vn.prototype.interfaces_=function(){return[]},Vn.prototype.getClass=function(){return Vn},Gn.DepthSegment.get=function(){return Un},Object.defineProperties(Vn,Gn);var Un=function(){this._upwardSeg=null,this._leftDepth=null;var e=arguments[0],t=arguments[1];this._upwardSeg=new wn(e),this._leftDepth=t};Un.prototype.compareTo=function(e){var t=e;if(this._upwardSeg.minX()>=t._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=t._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(t._upwardSeg);return 0!==n||0!=(n=-1*t._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(t._upwardSeg)},Un.prototype.compareX=function(e,t){var n=e.p0.compareTo(t.p0);return 0!==n?n:e.p1.compareTo(t.p1)},Un.prototype.toString=function(){return this._upwardSeg.toString()},Un.prototype.interfaces_=function(){return[s]},Un.prototype.getClass=function(){return Un};var Wn=function(e,t,n){this.p0=e||null,this.p1=t||null,this.p2=n||null};Wn.prototype.area=function(){return Wn.area(this.p0,this.p1,this.p2)},Wn.prototype.signedArea=function(){return Wn.signedArea(this.p0,this.p1,this.p2)},Wn.prototype.interpolateZ=function(e){if(null===e)throw new o("Supplied point is null.");return Wn.interpolateZ(e,this.p0,this.p1,this.p2)},Wn.prototype.longestSideLength=function(){return Wn.longestSideLength(this.p0,this.p1,this.p2)},Wn.prototype.isAcute=function(){return Wn.isAcute(this.p0,this.p1,this.p2)},Wn.prototype.circumcentre=function(){return Wn.circumcentre(this.p0,this.p1,this.p2)},Wn.prototype.area3D=function(){return Wn.area3D(this.p0,this.p1,this.p2)},Wn.prototype.centroid=function(){return Wn.centroid(this.p0,this.p1,this.p2)},Wn.prototype.inCentre=function(){return Wn.inCentre(this.p0,this.p1,this.p2)},Wn.prototype.interfaces_=function(){return[]},Wn.prototype.getClass=function(){return Wn},Wn.area=function(e,t,n){return Math.abs(((n.x-e.x)*(t.y-e.y)-(t.x-e.x)*(n.y-e.y))/2)},Wn.signedArea=function(e,t,n){return((n.x-e.x)*(t.y-e.y)-(t.x-e.x)*(n.y-e.y))/2},Wn.det=function(e,t,n,r){return e*r-t*n},Wn.interpolateZ=function(e,t,n,r){var o=t.x,i=t.y,a=n.x-o,s=r.x-o,l=n.y-i,u=r.y-i,c=a*u-s*l,p=e.x-o,f=e.y-i,d=(u*p-s*f)/c,h=(-l*p+a*f)/c;return t.z+d*(n.z-t.z)+h*(r.z-t.z)},Wn.longestSideLength=function(e,t,n){var r=e.distance(t),o=t.distance(n),i=n.distance(e),a=r;return o>a&&(a=o),i>a&&(a=i),a},Wn.isAcute=function(e,t,n){return!!Rn.isAcute(e,t,n)&&!!Rn.isAcute(t,n,e)&&!!Rn.isAcute(n,e,t)},Wn.circumcentre=function(e,t,n){var r=n.x,o=n.y,i=e.x-r,a=e.y-o,s=t.x-r,l=t.y-o,u=2*Wn.det(i,a,s,l),c=Wn.det(a,i*i+a*a,l,s*s+l*l),f=Wn.det(i,i*i+a*a,s,s*s+l*l);return new p(r-c/u,o+f/u)},Wn.perpendicularBisector=function(e,t){var n=t.x-e.x,r=t.y-e.y,o=new I(e.x+n/2,e.y+r/2,1),i=new I(e.x-r+n/2,e.y+n+r/2,1);return new I(o,i)},Wn.angleBisector=function(e,t,n){var r=t.distance(e),o=r/(r+t.distance(n)),i=n.x-e.x,a=n.y-e.y;return new p(e.x+o*i,e.y+o*a)},Wn.area3D=function(e,t,n){var r=t.x-e.x,o=t.y-e.y,i=t.z-e.z,a=n.x-e.x,s=n.y-e.y,l=n.z-e.z,u=o*l-i*s,c=i*a-r*l,p=r*s-o*a,f=u*u+c*c+p*p;return Math.sqrt(f)/2},Wn.centroid=function(e,t,n){var r=(e.x+t.x+n.x)/3,o=(e.y+t.y+n.y)/3;return new p(r,o)},Wn.inCentre=function(e,t,n){var r=t.distance(n),o=e.distance(n),i=e.distance(t),a=r+o+i,s=(r*e.x+o*t.x+i*n.x)/a,l=(r*e.y+o*t.y+i*n.y)/a;return new p(s,l)};var Jn=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new fe;var e=arguments[0],t=arguments[1],n=arguments[2];this._inputGeom=e,this._distance=t,this._curveBuilder=n};Jn.prototype.addPoint=function(e){if(this._distance<=0)return null;var t=e.getCoordinates(),n=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(n,y.EXTERIOR,y.INTERIOR)},Jn.prototype.addPolygon=function(e){var t=this,n=this._distance,r=Tt.LEFT;this._distance<0&&(n=-this._distance,r=Tt.RIGHT);var o=e.getExteriorRing(),i=ye.removeRepeatedPoints(o.getCoordinates());if(this._distance<0&&this.isErodedCompletely(o,this._distance))return null;if(this._distance<=0&&i.length<3)return null;this.addPolygonRing(i,n,r,y.EXTERIOR,y.INTERIOR);for(var a=0;a<e.getNumInteriorRing();a++){var s=e.getInteriorRingN(a),l=ye.removeRepeatedPoints(s.getCoordinates());t._distance>0&&t.isErodedCompletely(s,-t._distance)||t.addPolygonRing(l,n,Tt.opposite(r),y.INTERIOR,y.EXTERIOR)}},Jn.prototype.isTriangleErodedCompletely=function(e,t){var n=new Wn(e[0],e[1],e[2]),r=n.inCentre();return Y.distancePointLine(r,n.p0,n.p1)<Math.abs(t)},Jn.prototype.addLineString=function(e){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var t=ye.removeRepeatedPoints(e.getCoordinates()),n=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(n,y.EXTERIOR,y.INTERIOR)},Jn.prototype.addCurve=function(e,t,n){if(null===e||e.length<2)return null;var r=new _n(e,new Lt(0,y.BOUNDARY,t,n));this._curveList.add(r)},Jn.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},Jn.prototype.addPolygonRing=function(e,t,n,r,o){if(0===t&&e.length<it.MINIMUM_VALID_SIZE)return null;var i=r,a=o;e.length>=it.MINIMUM_VALID_SIZE&&Y.isCCW(e)&&(i=o,a=r,n=Tt.opposite(n));var s=this._curveBuilder.getRingCurve(e,n,t);this.addCurve(s,i,a)},Jn.prototype.add=function(e){if(e.isEmpty())return null;e instanceof rt?this.addPolygon(e):e instanceof $e?this.addLineString(e):e instanceof tt?this.addPoint(e):(e instanceof ot||e instanceof Ve||e instanceof at||e instanceof Be)&&this.addCollection(e)},Jn.prototype.isErodedCompletely=function(e,t){var n=e.getCoordinates();if(n.length<4)return t<0;if(4===n.length)return this.isTriangleErodedCompletely(n,t);var r=e.getEnvelopeInternal(),o=Math.min(r.getHeight(),r.getWidth());return t<0&&2*Math.abs(t)>o},Jn.prototype.addCollection=function(e){for(var t=0;t<e.getNumGeometries();t++){var n=e.getGeometryN(t);this.add(n)}},Jn.prototype.interfaces_=function(){return[]},Jn.prototype.getClass=function(){return Jn};var Hn=function(){};Hn.prototype.locate=function(e){},Hn.prototype.interfaces_=function(){return[]},Hn.prototype.getClass=function(){return Hn};var qn=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var e=arguments[0];this._parent=e,this._atStart=!0,this._index=0,this._max=e.getNumGeometries()};qn.prototype.next=function(){if(this._atStart)return this._atStart=!1,qn.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new pe;var e=this._parent.getGeometryN(this._index++);return e instanceof Be?(this._subcollectionIterator=new qn(e),this._subcollectionIterator.next()):e},qn.prototype.remove=function(){throw new Error(this.getClass().getName())},qn.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},qn.prototype.interfaces_=function(){return[ue]},qn.prototype.getClass=function(){return qn},qn.isAtomic=function(e){return!(e instanceof Be)};var Yn=function(){this._geom=null;var e=arguments[0];this._geom=e};Yn.prototype.locate=function(e){return Yn.locate(e,this._geom)},Yn.prototype.interfaces_=function(){return[Hn]},Yn.prototype.getClass=function(){return Yn},Yn.isPointInRing=function(e,t){return!!t.getEnvelopeInternal().intersects(e)&&Y.isPointInRing(e,t.getCoordinates())},Yn.containsPointInPolygon=function(e,t){if(t.isEmpty())return!1;var n=t.getExteriorRing();if(!Yn.isPointInRing(e,n))return!1;for(var r=0;r<t.getNumInteriorRing();r++){var o=t.getInteriorRingN(r);if(Yn.isPointInRing(e,o))return!1}return!0},Yn.containsPoint=function(e,t){if(t instanceof rt)return Yn.containsPointInPolygon(e,t);if(t instanceof Be)for(var n=new qn(t);n.hasNext();){var r=n.next();if(r!==t&&Yn.containsPoint(e,r))return!0}return!1},Yn.locate=function(e,t){return t.isEmpty()?y.EXTERIOR:Yn.containsPoint(e,t)?y.INTERIOR:y.EXTERIOR};var Xn=function(){this._edgeMap=new Me,this._edgeList=null,this._ptInAreaLocation=[y.NONE,y.NONE]};Xn.prototype.getNextCW=function(e){this.getEdges();var t=this._edgeList.indexOf(e),n=t-1;return 0===t&&(n=this._edgeList.size()-1),this._edgeList.get(n)},Xn.prototype.propagateSideLabels=function(e){for(var t=y.NONE,n=this.iterator();n.hasNext();){var r=n.next().getLabel();r.isArea(e)&&r.getLocation(e,Tt.LEFT)!==y.NONE&&(t=r.getLocation(e,Tt.LEFT))}if(t===y.NONE)return null;for(var o=t,i=this.iterator();i.hasNext();){var a=i.next(),s=a.getLabel();if(s.getLocation(e,Tt.ON)===y.NONE&&s.setLocation(e,Tt.ON,o),s.isArea(e)){var l=s.getLocation(e,Tt.LEFT),u=s.getLocation(e,Tt.RIGHT);if(u!==y.NONE){if(u!==o)throw new Dt("side location conflict",a.getCoordinate());l===y.NONE&&G.shouldNeverReachHere("found single null side (at "+a.getCoordinate()+")"),o=l}else G.isTrue(s.getLocation(e,Tt.LEFT)===y.NONE,"found single null side"),s.setLocation(e,Tt.RIGHT,o),s.setLocation(e,Tt.LEFT,o)}}},Xn.prototype.getCoordinate=function(){var e=this.iterator();return e.hasNext()?e.next().getCoordinate():null},Xn.prototype.print=function(e){A.out.println("EdgeEndStar:   "+this.getCoordinate());for(var t=this.iterator();t.hasNext();)t.next().print(e)},Xn.prototype.isAreaLabelsConsistent=function(e){return this.computeEdgeEndLabels(e.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},Xn.prototype.checkAreaLabelsConsistent=function(e){var t=this.getEdges();if(t.size()<=0)return!0;var n=t.size()-1,r=t.get(n).getLabel().getLocation(e,Tt.LEFT);G.isTrue(r!==y.NONE,"Found unlabelled area edge");for(var o=r,i=this.iterator();i.hasNext();){var a=i.next().getLabel();G.isTrue(a.isArea(e),"Found non-area edge");var s=a.getLocation(e,Tt.LEFT),l=a.getLocation(e,Tt.RIGHT);if(s===l)return!1;if(l!==o)return!1;o=s}return!0},Xn.prototype.findIndex=function(e){this.iterator();for(var t=0;t<this._edgeList.size();t++)if(this._edgeList.get(t)===e)return t;return-1},Xn.prototype.iterator=function(){return this.getEdges().iterator()},Xn.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new fe(this._edgeMap.values())),this._edgeList},Xn.prototype.getLocation=function(e,t,n){return this._ptInAreaLocation[e]===y.NONE&&(this._ptInAreaLocation[e]=Yn.locate(t,n[e].getGeometry())),this._ptInAreaLocation[e]},Xn.prototype.toString=function(){var e=new _;e.append("EdgeEndStar:   "+this.getCoordinate()),e.append("\n");for(var t=this.iterator();t.hasNext();){var n=t.next();e.append(n),e.append("\n")}return e.toString()},Xn.prototype.computeEdgeEndLabels=function(e){for(var t=this.iterator();t.hasNext();)t.next().computeLabel(e)},Xn.prototype.computeLabelling=function(e){this.computeEdgeEndLabels(e[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var t=[!1,!1],n=this.iterator();n.hasNext();)for(var r=n.next().getLabel(),o=0;o<2;o++)r.isLine(o)&&r.getLocation(o)===y.BOUNDARY&&(t[o]=!0);for(var i=this.iterator();i.hasNext();)for(var a=i.next(),s=a.getLabel(),l=0;l<2;l++)if(s.isAnyNull(l)){var u=y.NONE;if(t[l])u=y.EXTERIOR;else{var c=a.getCoordinate();u=this.getLocation(l,c,e)}s.setAllLocationsIfNull(l,u)}},Xn.prototype.getDegree=function(){return this._edgeMap.size()},Xn.prototype.insertEdgeEnd=function(e,t){this._edgeMap.put(e,t),this._edgeList=null},Xn.prototype.interfaces_=function(){return[]},Xn.prototype.getClass=function(){return Xn};var Zn=function(e){function t(){e.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.linkResultDirectedEdges=function(){var e=this;this.getResultAreaEdges();for(var t=null,n=null,r=this._SCANNING_FOR_INCOMING,o=0;o<this._resultAreaEdgeList.size();o++){var i=e._resultAreaEdgeList.get(o),a=i.getSym();if(i.getLabel().isArea())switch(null===t&&i.isInResult()&&(t=i),r){case e._SCANNING_FOR_INCOMING:if(!a.isInResult())continue;n=a,r=e._LINKING_TO_OUTGOING;break;case e._LINKING_TO_OUTGOING:if(!i.isInResult())continue;n.setNext(i),r=e._SCANNING_FOR_INCOMING}}if(r===this._LINKING_TO_OUTGOING){if(null===t)throw new Dt("no outgoing dirEdge found",this.getCoordinate());G.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),n.setNext(t)}},t.prototype.insert=function(e){var t=e;this.insertEdgeEnd(t,t)},t.prototype.getRightmostEdge=function(){var e=this.getEdges(),t=e.size();if(t<1)return null;var n=e.get(0);if(1===t)return n;var r=e.get(t-1),o=n.getQuadrant(),i=r.getQuadrant();return Jt.isNorthern(o)&&Jt.isNorthern(i)?n:Jt.isNorthern(o)||Jt.isNorthern(i)?0!==n.getDy()?n:0!==r.getDy()?r:(G.shouldNeverReachHere("found two horizontal edges incident on node"),null):r},t.prototype.print=function(e){A.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var t=this.iterator();t.hasNext();){var n=t.next();e.print("out "),n.print(e),e.println(),e.print("in "),n.getSym().print(e),e.println()}},t.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new fe;for(var e=this.iterator();e.hasNext();){var t=e.next();(t.isInResult()||t.getSym().isInResult())&&this._resultAreaEdgeList.add(t)}return this._resultAreaEdgeList},t.prototype.updateLabelling=function(e){for(var t=this.iterator();t.hasNext();){var n=t.next().getLabel();n.setAllLocationsIfNull(0,e.getLocation(0)),n.setAllLocationsIfNull(1,e.getLocation(1))}},t.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var e=null,t=null,n=this._edgeList.size()-1;n>=0;n--){var r=this._edgeList.get(n),o=r.getSym();null===t&&(t=o),null!==e&&o.setNext(e),e=r}t.setNext(e)},t.prototype.computeDepths=function(){var e=this;if(1===arguments.length){var t=arguments[0],n=this.findIndex(t),r=t.getDepth(Tt.LEFT),o=t.getDepth(Tt.RIGHT),i=this.computeDepths(n+1,this._edgeList.size(),r),a=this.computeDepths(0,n,i);if(a!==o)throw new Dt("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var s=arguments[0],l=arguments[1],u=arguments[2],c=u,p=s;p<l;p++){var f=e._edgeList.get(p);f.setEdgeDepths(Tt.RIGHT,c),c=f.getDepth(Tt.LEFT)}return c}},t.prototype.mergeSymLabels=function(){for(var e=this.iterator();e.hasNext();){var t=e.next();t.getLabel().merge(t.getSym().getLabel())}},t.prototype.linkMinimalDirectedEdges=function(e){for(var t=this,n=null,r=null,o=this._SCANNING_FOR_INCOMING,i=this._resultAreaEdgeList.size()-1;i>=0;i--){var a=t._resultAreaEdgeList.get(i),s=a.getSym();switch(null===n&&a.getEdgeRing()===e&&(n=a),o){case t._SCANNING_FOR_INCOMING:if(s.getEdgeRing()!==e)continue;r=s,o=t._LINKING_TO_OUTGOING;break;case t._LINKING_TO_OUTGOING:if(a.getEdgeRing()!==e)continue;r.setNextMin(a),o=t._SCANNING_FOR_INCOMING}}o===this._LINKING_TO_OUTGOING&&(G.isTrue(null!==n,"found null for first outgoing dirEdge"),G.isTrue(n.getEdgeRing()===e,"unable to link last incoming dirEdge"),r.setNextMin(n))},t.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var e=0,t=this.iterator();t.hasNext();){var n=t.next();n.isInResult()&&e++}return e}if(1===arguments.length){for(var r=arguments[0],o=0,i=this.iterator();i.hasNext();){var a=i.next();a.getEdgeRing()===r&&o++}return o}},t.prototype.getLabel=function(){return this._label},t.prototype.findCoveredLineEdges=function(){for(var e=y.NONE,t=this.iterator();t.hasNext();){var n=t.next(),r=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){e=y.INTERIOR;break}if(r.isInResult()){e=y.EXTERIOR;break}}}if(e===y.NONE)return null;for(var o=e,i=this.iterator();i.hasNext();){var a=i.next(),s=a.getSym();a.isLineEdge()?a.getEdge().setCovered(o===y.INTERIOR):(a.isInResult()&&(o=y.EXTERIOR),s.isInResult()&&(o=y.INTERIOR))}},t.prototype.computeLabelling=function(t){e.prototype.computeLabelling.call(this,t),this._label=new Lt(y.NONE);for(var n=this.iterator();n.hasNext();)for(var r=n.next().getEdge().getLabel(),o=0;o<2;o++){var i=r.getLocation(o);i!==y.INTERIOR&&i!==y.BOUNDARY||this._label.setLocation(o,y.INTERIOR)}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Xn),Kn=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createNode=function(e){return new Ut(e,new Zn)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Xt),Qn=function e(){this._pts=null,this._orientation=null;var t=arguments[0];this._pts=t,this._orientation=e.orientation(t)};Qn.prototype.compareTo=function(e){var t=e;return Qn.compareOriented(this._pts,this._orientation,t._pts,t._orientation)},Qn.prototype.interfaces_=function(){return[s]},Qn.prototype.getClass=function(){return Qn},Qn.orientation=function(e){return 1===ye.increasingDirection(e)},Qn.compareOriented=function(e,t,n,r){for(var o=t?1:-1,i=r?1:-1,a=t?e.length:-1,s=r?n.length:-1,l=t?0:e.length-1,u=r?0:n.length-1;;){var c=e[l].compareTo(n[u]);if(0!==c)return c;var p=(l+=o)===a,f=(u+=i)===s;if(p&&!f)return-1;if(!p&&f)return 1;if(p&&f)return 0}};var $n=function(){this._edges=new fe,this._ocaMap=new Me};$n.prototype.print=function(e){e.print("MULTILINESTRING ( ");for(var t=0;t<this._edges.size();t++){var n=this._edges.get(t);t>0&&e.print(","),e.print("(");for(var r=n.getCoordinates(),o=0;o<r.length;o++)o>0&&e.print(","),e.print(r[o].x+" "+r[o].y);e.println(")")}e.print(")  ")},$n.prototype.addAll=function(e){for(var t=e.iterator();t.hasNext();)this.add(t.next())},$n.prototype.findEdgeIndex=function(e){for(var t=0;t<this._edges.size();t++)if(this._edges.get(t).equals(e))return t;return-1},$n.prototype.iterator=function(){return this._edges.iterator()},$n.prototype.getEdges=function(){return this._edges},$n.prototype.get=function(e){return this._edges.get(e)},$n.prototype.findEqualEdge=function(e){var t=new Qn(e.getCoordinates());return this._ocaMap.get(t)},$n.prototype.add=function(e){this._edges.add(e);var t=new Qn(e.getCoordinates());this._ocaMap.put(t,e)},$n.prototype.interfaces_=function(){return[]},$n.prototype.getClass=function(){return $n};var er=function(){};er.prototype.processIntersections=function(e,t,n,r){},er.prototype.isDone=function(){},er.prototype.interfaces_=function(){return[]},er.prototype.getClass=function(){return er};var tr=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var e=arguments[0];this._li=e};tr.prototype.isTrivialIntersection=function(e,t,n,r){if(e===n&&1===this._li.getIntersectionNum()){if(tr.isAdjacentSegments(t,r))return!0;if(e.isClosed()){var o=e.size()-1;if(0===t&&r===o||0===r&&t===o)return!0}}return!1},tr.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},tr.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},tr.prototype.getLineIntersector=function(){return this._li},tr.prototype.hasProperIntersection=function(){return this._hasProper},tr.prototype.processIntersections=function(e,t,n,r){if(e===n&&t===r)return null;this.numTests++;var o=e.getCoordinates()[t],i=e.getCoordinates()[t+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(o,i,a,s),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(e,t,n,r)||(this._hasIntersection=!0,e.addIntersections(this._li,t,0),n.addIntersections(this._li,r,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},tr.prototype.hasIntersection=function(){return this._hasIntersection},tr.prototype.isDone=function(){return!1},tr.prototype.hasInteriorIntersection=function(){return this._hasInterior},tr.prototype.interfaces_=function(){return[er]},tr.prototype.getClass=function(){return tr},tr.isAdjacentSegments=function(e,t){return 1===Math.abs(e-t)};var nr=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var e=arguments[0],t=arguments[1],n=arguments[2];this.coord=new p(e),this.segmentIndex=t,this.dist=n};nr.prototype.getSegmentIndex=function(){return this.segmentIndex},nr.prototype.getCoordinate=function(){return this.coord},nr.prototype.print=function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex),e.println(" dist = "+this.dist)},nr.prototype.compareTo=function(e){var t=e;return this.compare(t.segmentIndex,t.dist)},nr.prototype.isEndPoint=function(e){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===e},nr.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},nr.prototype.getDistance=function(){return this.dist},nr.prototype.compare=function(e,t){return this.segmentIndex<e?-1:this.segmentIndex>e?1:this.dist<t?-1:this.dist>t?1:0},nr.prototype.interfaces_=function(){return[s]},nr.prototype.getClass=function(){return nr};var rr=function(){this._nodeMap=new Me,this.edge=null;var e=arguments[0];this.edge=e};rr.prototype.print=function(e){e.println("Intersections:");for(var t=this.iterator();t.hasNext();)t.next().print(e)},rr.prototype.iterator=function(){return this._nodeMap.values().iterator()},rr.prototype.addSplitEdges=function(e){this.addEndpoints();for(var t=this.iterator(),n=t.next();t.hasNext();){var r=t.next(),o=this.createSplitEdge(n,r);e.add(o),n=r}},rr.prototype.addEndpoints=function(){var e=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[e],e,0)},rr.prototype.createSplitEdge=function(e,t){var n=t.segmentIndex-e.segmentIndex+2,r=this.edge.pts[t.segmentIndex],o=t.dist>0||!t.coord.equals2D(r);o||n--;var i=new Array(n).fill(null),a=0;i[a++]=new p(e.coord);for(var s=e.segmentIndex+1;s<=t.segmentIndex;s++)i[a++]=this.edge.pts[s];return o&&(i[a]=t.coord),new lr(i,new Lt(this.edge._label))},rr.prototype.add=function(e,t,n){var r=new nr(e,t,n),o=this._nodeMap.get(r);return null!==o?o:(this._nodeMap.put(r,r),r)},rr.prototype.isIntersection=function(e){for(var t=this.iterator();t.hasNext();)if(t.next().coord.equals(e))return!0;return!1},rr.prototype.interfaces_=function(){return[]},rr.prototype.getClass=function(){return rr};var or=function(){};or.prototype.getChainStartIndices=function(e){var t=0,n=new fe;n.add(new w(t));do{var r=this.findChainEnd(e,t);n.add(new w(r)),t=r}while(t<e.length-1);return or.toIntArray(n)},or.prototype.findChainEnd=function(e,t){for(var n=Jt.quadrant(e[t],e[t+1]),r=t+1;r<e.length&&Jt.quadrant(e[r-1],e[r])===n;)r++;return r-1},or.prototype.interfaces_=function(){return[]},or.prototype.getClass=function(){return or},or.toIntArray=function(e){for(var t=new Array(e.size()).fill(null),n=0;n<t.length;n++)t[n]=e.get(n).intValue();return t};var ir=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new N,this.env2=new N;var e=arguments[0];this.e=e,this.pts=e.getCoordinates();var t=new or;this.startIndex=t.getChainStartIndices(this.pts)};ir.prototype.getCoordinates=function(){return this.pts},ir.prototype.getMaxX=function(e){var t=this.pts[this.startIndex[e]].x,n=this.pts[this.startIndex[e+1]].x;return t>n?t:n},ir.prototype.getMinX=function(e){var t=this.pts[this.startIndex[e]].x,n=this.pts[this.startIndex[e+1]].x;return t<n?t:n},ir.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3];this.computeIntersectsForChain(this.startIndex[e],this.startIndex[e+1],t,t.startIndex[n],t.startIndex[n+1],r)}else if(6===arguments.length){var o=arguments[0],i=arguments[1],a=arguments[2],s=arguments[3],l=arguments[4],u=arguments[5],c=this.pts[o],p=this.pts[i],f=a.pts[s],d=a.pts[l];if(i-o==1&&l-s==1)return u.addIntersections(this.e,o,a.e,s),null;if(this.env1.init(c,p),this.env2.init(f,d),!this.env1.intersects(this.env2))return null;var h=Math.trunc((o+i)/2),y=Math.trunc((s+l)/2);o<h&&(s<y&&this.computeIntersectsForChain(o,h,a,s,y,u),y<l&&this.computeIntersectsForChain(o,h,a,y,l,u)),h<i&&(s<y&&this.computeIntersectsForChain(h,i,a,s,y,u),y<l&&this.computeIntersectsForChain(h,i,a,y,l,u))}},ir.prototype.getStartIndexes=function(){return this.startIndex},ir.prototype.computeIntersects=function(e,t){for(var n=0;n<this.startIndex.length-1;n++)for(var r=0;r<e.startIndex.length-1;r++)this.computeIntersectsForChain(n,e,r,t)},ir.prototype.interfaces_=function(){return[]},ir.prototype.getClass=function(){return ir};var ar=function e(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var t=0;t<2;t++)for(var n=0;n<3;n++)this._depth[t][n]=e.NULL_VALUE},sr={NULL_VALUE:{configurable:!0}};ar.prototype.getDepth=function(e,t){return this._depth[e][t]},ar.prototype.setDepth=function(e,t,n){this._depth[e][t]=n},ar.prototype.isNull=function(){var e=this;if(0===arguments.length){for(var t=0;t<2;t++)for(var n=0;n<3;n++)if(e._depth[t][n]!==ar.NULL_VALUE)return!1;return!0}if(1===arguments.length){var r=arguments[0];return this._depth[r][1]===ar.NULL_VALUE}if(2===arguments.length){var o=arguments[0],i=arguments[1];return this._depth[o][i]===ar.NULL_VALUE}},ar.prototype.normalize=function(){for(var e=this,t=0;t<2;t++)if(!e.isNull(t)){var n=e._depth[t][1];e._depth[t][2]<n&&(n=e._depth[t][2]),n<0&&(n=0);for(var r=1;r<3;r++){var o=0;e._depth[t][r]>n&&(o=1),e._depth[t][r]=o}}},ar.prototype.getDelta=function(e){return this._depth[e][Tt.RIGHT]-this._depth[e][Tt.LEFT]},ar.prototype.getLocation=function(e,t){return this._depth[e][t]<=0?y.EXTERIOR:y.INTERIOR},ar.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},ar.prototype.add=function(){var e=this;if(1===arguments.length)for(var t=arguments[0],n=0;n<2;n++)for(var r=1;r<3;r++){var o=t.getLocation(n,r);o!==y.EXTERIOR&&o!==y.INTERIOR||(e.isNull(n,r)?e._depth[n][r]=ar.depthAtLocation(o):e._depth[n][r]+=ar.depthAtLocation(o))}else if(3===arguments.length){var i=arguments[0],a=arguments[1],s=arguments[2];s===y.INTERIOR&&this._depth[i][a]++}},ar.prototype.interfaces_=function(){return[]},ar.prototype.getClass=function(){return ar},ar.depthAtLocation=function(e){return e===y.EXTERIOR?0:e===y.INTERIOR?1:ar.NULL_VALUE},sr.NULL_VALUE.get=function(){return-1},Object.defineProperties(ar,sr);var lr=function(e){function t(){if(e.call(this),this.pts=null,this._env=null,this.eiList=new rr(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new ar,this._depthDelta=0,1===arguments.length){var n=arguments[0];t.call(this,n,null)}else if(2===arguments.length){var r=arguments[0],o=arguments[1];this.pts=r,this._label=o}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDepth=function(){return this._depth},t.prototype.getCollapsedEdge=function(){var e=new Array(2).fill(null);return e[0]=this.pts[0],e[1]=this.pts[1],new t(e,Lt.toLineLabel(this._label))},t.prototype.isIsolated=function(){return this._isIsolated},t.prototype.getCoordinates=function(){return this.pts},t.prototype.setIsolated=function(e){this._isIsolated=e},t.prototype.setName=function(e){this._name=e},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;if(this.pts.length!==n.pts.length)return!1;for(var r=!0,o=!0,i=this.pts.length,a=0;a<this.pts.length;a++)if(this.pts[a].equals2D(n.pts[a])||(r=!1),this.pts[a].equals2D(n.pts[--i])||(o=!1),!r&&!o)return!1;return!0},t.prototype.getCoordinate=function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var e=arguments[0];return this.pts[e]}},t.prototype.print=function(e){e.print("edge "+this._name+": "),e.print("LINESTRING (");for(var t=0;t<this.pts.length;t++)t>0&&e.print(","),e.print(this.pts[t].x+" "+this.pts[t].y);e.print(")  "+this._label+" "+this._depthDelta)},t.prototype.computeIM=function(e){t.updateIM(this._label,e)},t.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},t.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},t.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},t.prototype.getDepthDelta=function(){return this._depthDelta},t.prototype.getNumPoints=function(){return this.pts.length},t.prototype.printReverse=function(e){e.print("edge "+this._name+": ");for(var t=this.pts.length-1;t>=0;t--)e.print(this.pts[t]+" ");e.println("")},t.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new ir(this)),this._mce},t.prototype.getEnvelope=function(){if(null===this._env){this._env=new N;for(var e=0;e<this.pts.length;e++)this._env.expandToInclude(this.pts[e])}return this._env},t.prototype.addIntersection=function(e,t,n,r){var o=new p(e.getIntersection(r)),i=t,a=e.getEdgeDistance(n,r),s=i+1;if(s<this.pts.length){var l=this.pts[s];o.equals2D(l)&&(i=s,a=0)}this.eiList.add(o,i,a)},t.prototype.toString=function(){var e=new _;e.append("edge "+this._name+": "),e.append("LINESTRING (");for(var t=0;t<this.pts.length;t++)t>0&&e.append(","),e.append(this.pts[t].x+" "+this.pts[t].y);return e.append(")  "+this._label+" "+this._depthDelta),e.toString()},t.prototype.isPointwiseEqual=function(e){if(this.pts.length!==e.pts.length)return!1;for(var t=0;t<this.pts.length;t++)if(!this.pts[t].equals2D(e.pts[t]))return!1;return!0},t.prototype.setDepthDelta=function(e){this._depthDelta=e},t.prototype.getEdgeIntersectionList=function(){return this.eiList},t.prototype.addIntersections=function(e,t,n){for(var r=0;r<e.getIntersectionNum();r++)this.addIntersection(e,t,n,r)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.updateIM=function(){if(2!==arguments.length)return e.prototype.updateIM.apply(this,arguments);var t=arguments[0],n=arguments[1];n.setAtLeastIfValid(t.getLocation(0,Tt.ON),t.getLocation(1,Tt.ON),1),t.isArea()&&(n.setAtLeastIfValid(t.getLocation(0,Tt.LEFT),t.getLocation(1,Tt.LEFT),2),n.setAtLeastIfValid(t.getLocation(0,Tt.RIGHT),t.getLocation(1,Tt.RIGHT),2))},t}(Gt),ur=function(e){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new $n,this._bufParams=e||null};ur.prototype.setWorkingPrecisionModel=function(e){this._workingPrecisionModel=e},ur.prototype.insertUniqueEdge=function(e){var t=this._edgeList.findEqualEdge(e);if(null!==t){var n=t.getLabel(),r=e.getLabel();t.isPointwiseEqual(e)||(r=new Lt(e.getLabel())).flip(),n.merge(r);var o=ur.depthDelta(r),i=t.getDepthDelta()+o;t.setDepthDelta(i)}else this._edgeList.add(e),e.setDepthDelta(ur.depthDelta(e.getLabel()))},ur.prototype.buildSubgraphs=function(e,t){for(var n=new fe,r=e.iterator();r.hasNext();){var o=r.next(),i=o.getRightmostCoordinate(),a=new Vn(n).getDepth(i);o.computeDepth(a),o.findResultEdges(),n.add(o),t.add(o.getDirectedEdges(),o.getNodes())}},ur.prototype.createSubgraphs=function(e){for(var t=new fe,n=e.getNodes().iterator();n.hasNext();){var r=n.next();if(!r.isVisited()){var o=new Rt;o.create(r),t.add(o)}}return an.sort(t,an.reverseOrder()),t},ur.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},ur.prototype.getNoder=function(e){if(null!==this._workingNoder)return this._workingNoder;var t=new jn,n=new J;return n.setPrecisionModel(e),t.setSegmentIntersector(new tr(n)),t},ur.prototype.buffer=function(e,t){var n=this._workingPrecisionModel;null===n&&(n=e.getPrecisionModel()),this._geomFact=e.getFactory();var r=new Bn(n,this._bufParams),o=new Jn(e,t,r).getCurves();if(o.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(o,n),this._graph=new Zt(new Kn),this._graph.addEdges(this._edgeList.getEdges());var i=this.createSubgraphs(this._graph),a=new Kt(this._geomFact);this.buildSubgraphs(i,a);var s=a.getPolygons();return s.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(s)},ur.prototype.computeNodedEdges=function(e,t){var n=this.getNoder(t);n.computeNodes(e);for(var r=n.getNodedSubstrings().iterator();r.hasNext();){var o=r.next(),i=o.getCoordinates();if(2!==i.length||!i[0].equals2D(i[1])){var a=o.getData(),s=new lr(o.getCoordinates(),new Lt(a));this.insertUniqueEdge(s)}}},ur.prototype.setNoder=function(e){this._workingNoder=e},ur.prototype.interfaces_=function(){return[]},ur.prototype.getClass=function(){return ur},ur.depthDelta=function(e){var t=e.getLocation(0,Tt.LEFT),n=e.getLocation(0,Tt.RIGHT);return t===y.INTERIOR&&n===y.EXTERIOR?1:t===y.EXTERIOR&&n===y.INTERIOR?-1:0},ur.convertSegStrings=function(e){for(var t=new wt,n=new fe;e.hasNext();){var r=e.next(),o=t.createLineString(r.getCoordinates());n.add(o)}return t.buildGeometry(n)};var cr=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var e=arguments[0],t=arguments[1];this._noder=e,this._scaleFactor=t,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2],i=arguments[3];this._noder=n,this._scaleFactor=r,this._offsetX=o,this._offsetY=i,this._isScaled=!this.isIntegerPrecision()}};cr.prototype.rescale=function(){var e=this;if(m(arguments[0],se))for(var t=arguments[0],n=t.iterator();n.hasNext();){var r=n.next();e.rescale(r.getCoordinates())}else if(arguments[0]instanceof Array){for(var o=arguments[0],i=0;i<o.length;i++)o[i].x=o[i].x/e._scaleFactor+e._offsetX,o[i].y=o[i].y/e._scaleFactor+e._offsetY;2===o.length&&o[0].equals2D(o[1])&&A.out.println(o)}},cr.prototype.scale=function(){var e=this;if(m(arguments[0],se)){for(var t=arguments[0],n=new fe,r=t.iterator();r.hasNext();){var o=r.next();n.add(new _n(e.scale(o.getCoordinates()),o.getData()))}return n}if(arguments[0]instanceof Array){for(var i=arguments[0],a=new Array(i.length).fill(null),s=0;s<i.length;s++)a[s]=new p(Math.round((i[s].x-e._offsetX)*e._scaleFactor),Math.round((i[s].y-e._offsetY)*e._scaleFactor),i[s].z);var l=ye.removeRepeatedPoints(a);return l}},cr.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},cr.prototype.getNodedSubstrings=function(){var e=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(e),e},cr.prototype.computeNodes=function(e){var t=e;this._isScaled&&(t=this.scale(e)),this._noder.computeNodes(t)},cr.prototype.interfaces_=function(){return[Sn]},cr.prototype.getClass=function(){return cr};var pr=function(){this._li=new J,this._segStrings=null;var e=arguments[0];this._segStrings=e},fr={fact:{configurable:!0}};pr.prototype.checkEndPtVertexIntersections=function(){var e=this;if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var n=t.next(),r=n.getCoordinates();e.checkEndPtVertexIntersections(r[0],e._segStrings),e.checkEndPtVertexIntersections(r[r.length-1],e._segStrings)}else if(2===arguments.length)for(var o=arguments[0],i=arguments[1],a=i.iterator();a.hasNext();)for(var s=a.next(),l=s.getCoordinates(),u=1;u<l.length-1;u++)if(l[u].equals(o))throw new B("found endpt/interior pt intersection at index "+u+" :pt "+o)},pr.prototype.checkInteriorIntersections=function(){var e=this;if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var n=t.next(),r=this._segStrings.iterator();r.hasNext();){var o=r.next();e.checkInteriorIntersections(n,o)}else if(2===arguments.length)for(var i=arguments[0],a=arguments[1],s=i.getCoordinates(),l=a.getCoordinates(),u=0;u<s.length-1;u++)for(var c=0;c<l.length-1;c++)e.checkInteriorIntersections(i,u,a,c);else if(4===arguments.length){var p=arguments[0],f=arguments[1],d=arguments[2],h=arguments[3];if(p===d&&f===h)return null;var y=p.getCoordinates()[f],g=p.getCoordinates()[f+1],m=d.getCoordinates()[h],v=d.getCoordinates()[h+1];if(this._li.computeIntersection(y,g,m,v),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,y,g)||this.hasInteriorIntersection(this._li,m,v)))throw new B("found non-noded intersection at "+y+"-"+g+" and "+m+"-"+v)}},pr.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},pr.prototype.checkCollapses=function(){var e=this;if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var n=t.next();e.checkCollapses(n)}else if(1===arguments.length)for(var r=arguments[0],o=r.getCoordinates(),i=0;i<o.length-2;i++)e.checkCollapse(o[i],o[i+1],o[i+2])},pr.prototype.hasInteriorIntersection=function(e,t,n){for(var r=0;r<e.getIntersectionNum();r++){var o=e.getIntersection(r);if(!o.equals(t)&&!o.equals(n))return!0}return!1},pr.prototype.checkCollapse=function(e,t,n){if(e.equals(n))throw new B("found non-noded collapse at "+pr.fact.createLineString([e,t,n]))},pr.prototype.interfaces_=function(){return[]},pr.prototype.getClass=function(){return pr},fr.fact.get=function(){return new wt},Object.defineProperties(pr,fr);var dr=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var e=arguments[0],t=arguments[1],n=arguments[2];if(this._originalPt=e,this._pt=e,this._scaleFactor=t,this._li=n,t<=0)throw new o("Scale factor must be non-zero");1!==t&&(this._pt=new p(this.scale(e.x),this.scale(e.y)),this._p0Scaled=new p,this._p1Scaled=new p),this.initCorners(this._pt)},hr={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};dr.prototype.intersectsScaled=function(e,t){var n=Math.min(e.x,t.x),r=Math.max(e.x,t.x),o=Math.min(e.y,t.y),i=Math.max(e.y,t.y),a=this._maxx<n||this._minx>r||this._maxy<o||this._miny>i;if(a)return!1;var s=this.intersectsToleranceSquare(e,t);return G.isTrue(!(a&&s),"Found bad envelope test"),s},dr.prototype.initCorners=function(e){var t=.5;this._minx=e.x-t,this._maxx=e.x+t,this._miny=e.y-t,this._maxy=e.y+t,this._corner[0]=new p(this._maxx,this._maxy),this._corner[1]=new p(this._minx,this._maxy),this._corner[2]=new p(this._minx,this._miny),this._corner[3]=new p(this._maxx,this._miny)},dr.prototype.intersects=function(e,t){return 1===this._scaleFactor?this.intersectsScaled(e,t):(this.copyScaled(e,this._p0Scaled),this.copyScaled(t,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},dr.prototype.scale=function(e){return Math.round(e*this._scaleFactor)},dr.prototype.getCoordinate=function(){return this._originalPt},dr.prototype.copyScaled=function(e,t){t.x=this.scale(e.x),t.y=this.scale(e.y)},dr.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var e=dr.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new N(this._originalPt.x-e,this._originalPt.x+e,this._originalPt.y-e,this._originalPt.y+e)}return this._safeEnv},dr.prototype.intersectsPixelClosure=function(e,t){return this._li.computeIntersection(e,t,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},dr.prototype.intersectsToleranceSquare=function(e,t){var n=!1,r=!1;return this._li.computeIntersection(e,t,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(e,t,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(e,t,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(e,t,this._corner[3],this._corner[0]),this._li.isProper()||n&&r||e.equals(this._pt)||t.equals(this._pt)))))},dr.prototype.addSnappedNode=function(e,t){var n=e.getCoordinate(t),r=e.getCoordinate(t+1);return!!this.intersects(n,r)&&(e.addIntersection(this.getCoordinate(),t),!0)},dr.prototype.interfaces_=function(){return[]},dr.prototype.getClass=function(){return dr},hr.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(dr,hr);var yr=function(){this.tempEnv1=new N,this.selectedSegment=new wn};yr.prototype.select=function(){if(1===arguments.length);else if(2===arguments.length){var e=arguments[0],t=arguments[1];e.getLineSegment(t,this.selectedSegment),this.select(this.selectedSegment)}},yr.prototype.interfaces_=function(){return[]},yr.prototype.getClass=function(){return yr};var gr=function(){this._index=null;var e=arguments[0];this._index=e},mr={HotPixelSnapAction:{configurable:!0}};gr.prototype.snap=function(){if(1===arguments.length){var e=arguments[0];return this.snap(e,null,-1)}if(3===arguments.length){var t=arguments[0],n=arguments[1],r=arguments[2],o=t.getSafeEnvelope(),i=new vr(t,n,r);return this._index.query(o,{interfaces_:function(){return[tn]},visitItem:function(e){e.select(o,i)}}),i.isNodeAdded()}},gr.prototype.interfaces_=function(){return[]},gr.prototype.getClass=function(){return gr},mr.HotPixelSnapAction.get=function(){return vr},Object.defineProperties(gr,mr);var vr=function(e){function t(){e.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var t=arguments[0],n=arguments[1],r=arguments[2];this._hotPixel=t,this._parentEdge=n,this._hotPixelVertexIndex=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.isNodeAdded=function(){return this._isNodeAdded},t.prototype.select=function(){if(2!==arguments.length)return e.prototype.select.apply(this,arguments);var t=arguments[0],n=arguments[1],r=t.getContext();if(null!==this._parentEdge&&r===this._parentEdge&&n===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(r,n)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(yr),br=function(){this._li=null,this._interiorIntersections=null;var e=arguments[0];this._li=e,this._interiorIntersections=new fe};br.prototype.processIntersections=function(e,t,n,r){if(e===n&&t===r)return null;var o=e.getCoordinates()[t],i=e.getCoordinates()[t+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];if(this._li.computeIntersection(o,i,a,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var l=0;l<this._li.getIntersectionNum();l++)this._interiorIntersections.add(this._li.getIntersection(l));e.addIntersections(this._li,t,0),n.addIntersections(this._li,r,1)}},br.prototype.isDone=function(){return!1},br.prototype.getInteriorIntersections=function(){return this._interiorIntersections},br.prototype.interfaces_=function(){return[er]},br.prototype.getClass=function(){return br};var _r=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var e=arguments[0];this._pm=e,this._li=new J,this._li.setPrecisionModel(e),this._scaleFactor=e.getScale()};_r.prototype.checkCorrectness=function(e){var t=_n.getNodedSubstrings(e),n=new pr(t);try{n.checkValid()}catch(e){if(!(e instanceof T))throw e;e.printStackTrace()}},_r.prototype.getNodedSubstrings=function(){return _n.getNodedSubstrings(this._nodedSegStrings)},_r.prototype.snapRound=function(e,t){var n=this.findInteriorIntersections(e,t);this.computeIntersectionSnaps(n),this.computeVertexSnaps(e)},_r.prototype.findInteriorIntersections=function(e,t){var n=new br(t);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(e),n.getInteriorIntersections()},_r.prototype.computeVertexSnaps=function(){var e=this;if(m(arguments[0],se))for(var t=arguments[0],n=t.iterator();n.hasNext();){var r=n.next();e.computeVertexSnaps(r)}else if(arguments[0]instanceof _n)for(var o=arguments[0],i=o.getCoordinates(),a=0;a<i.length;a++){var s=new dr(i[a],e._scaleFactor,e._li),l=e._pointSnapper.snap(s,o,a);l&&o.addIntersection(i[a],a)}},_r.prototype.computeNodes=function(e){this._nodedSegStrings=e,this._noder=new jn,this._pointSnapper=new gr(this._noder.getIndex()),this.snapRound(e,this._li)},_r.prototype.computeIntersectionSnaps=function(e){for(var t=this,n=e.iterator();n.hasNext();){var r=n.next(),o=new dr(r,t._scaleFactor,t._li);t._pointSnapper.snap(o)}},_r.prototype.interfaces_=function(){return[Sn]},_r.prototype.getClass=function(){return _r};var wr=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Mn,this._resultGeometry=null,this._saveException=null,1===arguments.length){var e=arguments[0];this._argGeom=e}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this._argGeom=t,this._bufParams=n}},Pr={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};wr.prototype.bufferFixedPrecision=function(e){var t=new cr(new _r(new mt(1)),e.getScale()),n=new ur(this._bufParams);n.setWorkingPrecisionModel(e),n.setNoder(t),this._resultGeometry=n.buffer(this._argGeom,this._distance)},wr.prototype.bufferReducedPrecision=function(){var e=this;if(0===arguments.length){for(var t=wr.MAX_PRECISION_DIGITS;t>=0;t--){try{e.bufferReducedPrecision(t)}catch(t){if(!(t instanceof Dt))throw t;e._saveException=t}if(null!==e._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=arguments[0],r=wr.precisionScaleFactor(this._argGeom,this._distance,n),o=new mt(r);this.bufferFixedPrecision(o)}},wr.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var e=this._argGeom.getFactory().getPrecisionModel();e.getType()===mt.FIXED?this.bufferFixedPrecision(e):this.bufferReducedPrecision()},wr.prototype.setQuadrantSegments=function(e){this._bufParams.setQuadrantSegments(e)},wr.prototype.bufferOriginalPrecision=function(){try{var e=new ur(this._bufParams);this._resultGeometry=e.buffer(this._argGeom,this._distance)}catch(e){if(!(e instanceof B))throw e;this._saveException=e}},wr.prototype.getResultGeometry=function(e){return this._distance=e,this.computeGeometry(),this._resultGeometry},wr.prototype.setEndCapStyle=function(e){this._bufParams.setEndCapStyle(e)},wr.prototype.interfaces_=function(){return[]},wr.prototype.getClass=function(){return wr},wr.bufferOp=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1],n=new wr(e),r=n.getResultGeometry(t);return r}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof K&&"number"==typeof arguments[1]){var o=arguments[0],i=arguments[1],a=arguments[2],s=new wr(o);s.setQuadrantSegments(a);var l=s.getResultGeometry(i);return l}if(arguments[2]instanceof Mn&&arguments[0]instanceof K&&"number"==typeof arguments[1]){var u=arguments[0],c=arguments[1],p=arguments[2],f=new wr(u,p),d=f.getResultGeometry(c);return d}}else if(4===arguments.length){var h=arguments[0],y=arguments[1],g=arguments[2],m=arguments[3],v=new wr(h);v.setQuadrantSegments(g),v.setEndCapStyle(m);var b=v.getResultGeometry(y);return b}},wr.precisionScaleFactor=function(e,t,n){var r=e.getEnvelopeInternal(),o=v.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY()))+2*(t>0?t:0),i=n-Math.trunc(Math.log(o)/Math.log(10)+1);return Math.pow(10,i)},Pr.CAP_ROUND.get=function(){return Mn.CAP_ROUND},Pr.CAP_BUTT.get=function(){return Mn.CAP_FLAT},Pr.CAP_FLAT.get=function(){return Mn.CAP_FLAT},Pr.CAP_SQUARE.get=function(){return Mn.CAP_SQUARE},Pr.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(wr,Pr);var Cr=function(){this._pt=[new p,new p],this._distance=i.NaN,this._isNull=!0};Cr.prototype.getCoordinates=function(){return this._pt},Cr.prototype.getCoordinate=function(e){return this._pt[e]},Cr.prototype.setMinimum=function(){if(1===arguments.length){var e=arguments[0];this.setMinimum(e._pt[0],e._pt[1])}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(t,n),null;var r=t.distance(n);r<this._distance&&this.initialize(t,n,r)}},Cr.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var e=arguments[0],t=arguments[1];this._pt[0].setCoordinate(e),this._pt[1].setCoordinate(t),this._distance=e.distance(t),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=o,this._isNull=!1}},Cr.prototype.getDistance=function(){return this._distance},Cr.prototype.setMaximum=function(){if(1===arguments.length){var e=arguments[0];this.setMaximum(e._pt[0],e._pt[1])}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(t,n),null;var r=t.distance(n);r>this._distance&&this.initialize(t,n,r)}},Cr.prototype.interfaces_=function(){return[]},Cr.prototype.getClass=function(){return Cr};var Or=function(){};Or.prototype.interfaces_=function(){return[]},Or.prototype.getClass=function(){return Or},Or.computeDistance=function(){if(arguments[2]instanceof Cr&&arguments[0]instanceof $e&&arguments[1]instanceof p)for(var e=arguments[0],t=arguments[1],n=arguments[2],r=e.getCoordinates(),o=new wn,i=0;i<r.length-1;i++){o.setCoordinates(r[i],r[i+1]);var a=o.closestPoint(t);n.setMinimum(a,t)}else if(arguments[2]instanceof Cr&&arguments[0]instanceof rt&&arguments[1]instanceof p){var s=arguments[0],l=arguments[1],u=arguments[2];Or.computeDistance(s.getExteriorRing(),l,u);for(var c=0;c<s.getNumInteriorRing();c++)Or.computeDistance(s.getInteriorRingN(c),l,u)}else if(arguments[2]instanceof Cr&&arguments[0]instanceof K&&arguments[1]instanceof p){var f=arguments[0],d=arguments[1],h=arguments[2];if(f instanceof $e)Or.computeDistance(f,d,h);else if(f instanceof rt)Or.computeDistance(f,d,h);else if(f instanceof Be)for(var y=f,g=0;g<y.getNumGeometries();g++){var m=y.getGeometryN(g);Or.computeDistance(m,d,h)}else h.setMinimum(f.getCoordinate(),d)}else if(arguments[2]instanceof Cr&&arguments[0]instanceof wn&&arguments[1]instanceof p){var v=arguments[0],b=arguments[1],_=arguments[2],w=v.closestPoint(b);_.setMinimum(w,b)}};var xr=function(e){this._maxPtDist=new Cr,this._inputGeom=e||null},Sr={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};xr.prototype.computeMaxMidpointDistance=function(e){var t=new jr(this._inputGeom);e.apply(t),this._maxPtDist.setMaximum(t.getMaxPointDistance())},xr.prototype.computeMaxVertexDistance=function(e){var t=new Er(this._inputGeom);e.apply(t),this._maxPtDist.setMaximum(t.getMaxPointDistance())},xr.prototype.findDistance=function(e){return this.computeMaxVertexDistance(e),this.computeMaxMidpointDistance(e),this._maxPtDist.getDistance()},xr.prototype.getDistancePoints=function(){return this._maxPtDist},xr.prototype.interfaces_=function(){return[]},xr.prototype.getClass=function(){return xr},Sr.MaxPointDistanceFilter.get=function(){return Er},Sr.MaxMidpointDistanceFilter.get=function(){return jr},Object.defineProperties(xr,Sr);var Er=function(e){this._maxPtDist=new Cr,this._minPtDist=new Cr,this._geom=e||null};Er.prototype.filter=function(e){this._minPtDist.initialize(),Or.computeDistance(this._geom,e,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Er.prototype.getMaxPointDistance=function(){return this._maxPtDist},Er.prototype.interfaces_=function(){return[ee]},Er.prototype.getClass=function(){return Er};var jr=function(e){this._maxPtDist=new Cr,this._minPtDist=new Cr,this._geom=e||null};jr.prototype.filter=function(e,t){if(0===t)return null;var n=e.getCoordinate(t-1),r=e.getCoordinate(t),o=new p((n.x+r.x)/2,(n.y+r.y)/2);this._minPtDist.initialize(),Or.computeDistance(this._geom,o,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},jr.prototype.isDone=function(){return!1},jr.prototype.isGeometryChanged=function(){return!1},jr.prototype.getMaxPointDistance=function(){return this._maxPtDist},jr.prototype.interfaces_=function(){return[Fe]},jr.prototype.getClass=function(){return jr};var Tr=function(e){this._comps=e||null};Tr.prototype.filter=function(e){e instanceof rt&&this._comps.add(e)},Tr.prototype.interfaces_=function(){return[Le]},Tr.prototype.getClass=function(){return Tr},Tr.getPolygons=function(){if(1===arguments.length){var e=arguments[0];return Tr.getPolygons(e,new fe)}if(2===arguments.length){var t=arguments[0],n=arguments[1];return t instanceof rt?n.add(t):t instanceof Be&&t.apply(new Tr(n)),n}};var Mr=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var e=arguments[0];this._lines=e}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this._lines=t,this._isForcedToLineString=n}};Mr.prototype.filter=function(e){if(this._isForcedToLineString&&e instanceof it){var t=e.getFactory().createLineString(e.getCoordinateSequence());return this._lines.add(t),null}e instanceof $e&&this._lines.add(e)},Mr.prototype.setForceToLineString=function(e){this._isForcedToLineString=e},Mr.prototype.interfaces_=function(){return[Z]},Mr.prototype.getClass=function(){return Mr},Mr.getGeometry=function(){if(1===arguments.length){var e=arguments[0];return e.getFactory().buildGeometry(Mr.getLines(e))}if(2===arguments.length){var t=arguments[0],n=arguments[1];return t.getFactory().buildGeometry(Mr.getLines(t,n))}},Mr.getLines=function(){if(1===arguments.length){var e=arguments[0];return Mr.getLines(e,!1)}if(2===arguments.length){if(m(arguments[0],se)&&m(arguments[1],se)){for(var t=arguments[0],n=arguments[1],r=t.iterator();r.hasNext();){var o=r.next();Mr.getLines(o,n)}return n}if(arguments[0]instanceof K&&"boolean"==typeof arguments[1]){var i=arguments[0],a=arguments[1],s=new fe;return i.apply(new Mr(s,a)),s}if(arguments[0]instanceof K&&m(arguments[1],se)){var l=arguments[0],u=arguments[1];return l instanceof $e?u.add(l):l.apply(new Mr(u)),u}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&m(arguments[0],se)&&m(arguments[1],se)){for(var c=arguments[0],p=arguments[1],f=arguments[2],d=c.iterator();d.hasNext();){var h=d.next();Mr.getLines(h,p,f)}return p}if("boolean"==typeof arguments[2]&&arguments[0]instanceof K&&m(arguments[1],se)){var y=arguments[0],g=arguments[1],v=arguments[2];return y.apply(new Mr(g,v)),g}}};var Ar=function(){if(this._boundaryRule=te.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(null===e)throw new o("Rule must be non-null");this._boundaryRule=e}};Ar.prototype.locateInternal=function(){var e=this;if(arguments[0]instanceof p&&arguments[1]instanceof rt){var t=arguments[0],n=arguments[1];if(n.isEmpty())return y.EXTERIOR;var r=n.getExteriorRing(),o=this.locateInPolygonRing(t,r);if(o===y.EXTERIOR)return y.EXTERIOR;if(o===y.BOUNDARY)return y.BOUNDARY;for(var i=0;i<n.getNumInteriorRing();i++){var a=n.getInteriorRingN(i),s=e.locateInPolygonRing(t,a);if(s===y.INTERIOR)return y.EXTERIOR;if(s===y.BOUNDARY)return y.BOUNDARY}return y.INTERIOR}if(arguments[0]instanceof p&&arguments[1]instanceof $e){var l=arguments[0],u=arguments[1];if(!u.getEnvelopeInternal().intersects(l))return y.EXTERIOR;var c=u.getCoordinates();return u.isClosed()||!l.equals(c[0])&&!l.equals(c[c.length-1])?Y.isOnLine(l,c)?y.INTERIOR:y.EXTERIOR:y.BOUNDARY}if(arguments[0]instanceof p&&arguments[1]instanceof tt){var f=arguments[0],d=arguments[1],h=d.getCoordinate();return h.equals2D(f)?y.INTERIOR:y.EXTERIOR}},Ar.prototype.locateInPolygonRing=function(e,t){return t.getEnvelopeInternal().intersects(e)?Y.locatePointInRing(e,t.getCoordinates()):y.EXTERIOR},Ar.prototype.intersects=function(e,t){return this.locate(e,t)!==y.EXTERIOR},Ar.prototype.updateLocationInfo=function(e){e===y.INTERIOR&&(this._isIn=!0),e===y.BOUNDARY&&this._numBoundaries++},Ar.prototype.computeLocation=function(e,t){var n=this;if(t instanceof tt&&this.updateLocationInfo(this.locateInternal(e,t)),t instanceof $e)this.updateLocationInfo(this.locateInternal(e,t));else if(t instanceof rt)this.updateLocationInfo(this.locateInternal(e,t));else if(t instanceof Ve)for(var r=t,o=0;o<r.getNumGeometries();o++){var i=r.getGeometryN(o);n.updateLocationInfo(n.locateInternal(e,i))}else if(t instanceof at)for(var a=t,s=0;s<a.getNumGeometries();s++){var l=a.getGeometryN(s);n.updateLocationInfo(n.locateInternal(e,l))}else if(t instanceof Be)for(var u=new qn(t);u.hasNext();){var c=u.next();c!==t&&n.computeLocation(e,c)}},Ar.prototype.locate=function(e,t){return t.isEmpty()?y.EXTERIOR:t instanceof $e||t instanceof rt?this.locateInternal(e,t):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(e,t),this._boundaryRule.isInBoundary(this._numBoundaries)?y.BOUNDARY:this._numBoundaries>0||this._isIn?y.INTERIOR:y.EXTERIOR)},Ar.prototype.interfaces_=function(){return[]},Ar.prototype.getClass=function(){return Ar};var Ir=function e(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length){var t=arguments[0],n=arguments[1];e.call(this,t,e.INSIDE_AREA,n)}else if(3===arguments.length){var r=arguments[0],o=arguments[1],i=arguments[2];this._component=r,this._segIndex=o,this._pt=i}},Nr={INSIDE_AREA:{configurable:!0}};Ir.prototype.isInsideArea=function(){return this._segIndex===Ir.INSIDE_AREA},Ir.prototype.getCoordinate=function(){return this._pt},Ir.prototype.getGeometryComponent=function(){return this._component},Ir.prototype.getSegmentIndex=function(){return this._segIndex},Ir.prototype.interfaces_=function(){return[]},Ir.prototype.getClass=function(){return Ir},Nr.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Ir,Nr);var Dr=function(e){this._pts=e||null};Dr.prototype.filter=function(e){e instanceof tt&&this._pts.add(e)},Dr.prototype.interfaces_=function(){return[Le]},Dr.prototype.getClass=function(){return Dr},Dr.getPoints=function(){if(1===arguments.length){var e=arguments[0];return e instanceof tt?an.singletonList(e):Dr.getPoints(e,new fe)}if(2===arguments.length){var t=arguments[0],n=arguments[1];return t instanceof tt?n.add(t):t instanceof Be&&t.apply(new Dr(n)),n}};var zr=function(){this._locations=null;var e=arguments[0];this._locations=e};zr.prototype.filter=function(e){(e instanceof tt||e instanceof $e||e instanceof rt)&&this._locations.add(new Ir(e,0,e.getCoordinate()))},zr.prototype.interfaces_=function(){return[Le]},zr.prototype.getClass=function(){return zr},zr.getLocations=function(e){var t=new fe;return e.apply(new zr(t)),t};var Rr=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new Ar,this._minDistanceLocation=null,this._minDistance=i.MAX_VALUE,2===arguments.length){var e=arguments[0],t=arguments[1];this._geom=[e,t],this._terminateDistance=0}else if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=n,this._geom[1]=r,this._terminateDistance=o}};Rr.prototype.computeContainmentDistance=function(){var e=this;if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var n=arguments[0],r=arguments[1],o=1-n,i=Tr.getPolygons(this._geom[n]);if(i.size()>0){var a=zr.getLocations(this._geom[o]);if(this.computeContainmentDistance(a,i,r),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[o]=r[0],this._minDistanceLocation[n]=r[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&m(arguments[0],ce)&&m(arguments[1],ce)){for(var s=arguments[0],l=arguments[1],u=arguments[2],c=0;c<s.size();c++)for(var p=s.get(c),f=0;f<l.size();f++)if(e.computeContainmentDistance(p,l.get(f),u),e._minDistance<=e._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Ir&&arguments[1]instanceof rt){var d=arguments[0],h=arguments[1],g=arguments[2],v=d.getCoordinate();if(y.EXTERIOR!==this._ptLocator.locate(v,h))return this._minDistance=0,g[0]=d,g[1]=new Ir(h,v),null}},Rr.prototype.computeMinDistanceLinesPoints=function(e,t,n){for(var r=this,o=0;o<e.size();o++)for(var i=e.get(o),a=0;a<t.size();a++){var s=t.get(a);if(r.computeMinDistance(i,s,n),r._minDistance<=r._terminateDistance)return null}},Rr.prototype.computeFacetDistance=function(){var e=new Array(2).fill(null),t=Mr.getLines(this._geom[0]),n=Mr.getLines(this._geom[1]),r=Dr.getPoints(this._geom[0]),o=Dr.getPoints(this._geom[1]);return this.computeMinDistanceLines(t,n,e),this.updateMinDistance(e,!1),this._minDistance<=this._terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistanceLinesPoints(t,o,e),this.updateMinDistance(e,!1),this._minDistance<=this._terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistanceLinesPoints(n,r,e),this.updateMinDistance(e,!0),this._minDistance<=this._terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistancePoints(r,o,e),void this.updateMinDistance(e,!1))))},Rr.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Rr.prototype.updateMinDistance=function(e,t){if(null===e[0])return null;t?(this._minDistanceLocation[0]=e[1],this._minDistanceLocation[1]=e[0]):(this._minDistanceLocation[0]=e[0],this._minDistanceLocation[1]=e[1])},Rr.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Rr.prototype.computeMinDistance=function(){var e=this;if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof $e&&arguments[1]instanceof tt){var t=arguments[0],n=arguments[1],r=arguments[2];if(t.getEnvelopeInternal().distance(n.getEnvelopeInternal())>this._minDistance)return null;for(var o=t.getCoordinates(),i=n.getCoordinate(),a=0;a<o.length-1;a++){var s=Y.distancePointLine(i,o[a],o[a+1]);if(s<e._minDistance){e._minDistance=s;var l=new wn(o[a],o[a+1]),u=l.closestPoint(i);r[0]=new Ir(t,a,u),r[1]=new Ir(n,0,i)}if(e._minDistance<=e._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof $e&&arguments[1]instanceof $e){var c=arguments[0],p=arguments[1],f=arguments[2];if(c.getEnvelopeInternal().distance(p.getEnvelopeInternal())>this._minDistance)return null;for(var d=c.getCoordinates(),h=p.getCoordinates(),y=0;y<d.length-1;y++)for(var g=0;g<h.length-1;g++){var m=Y.distanceLineLine(d[y],d[y+1],h[g],h[g+1]);if(m<e._minDistance){e._minDistance=m;var v=new wn(d[y],d[y+1]),b=new wn(h[g],h[g+1]),_=v.closestPoints(b);f[0]=new Ir(c,y,_[0]),f[1]=new Ir(p,g,_[1])}if(e._minDistance<=e._terminateDistance)return null}}},Rr.prototype.computeMinDistancePoints=function(e,t,n){for(var r=this,o=0;o<e.size();o++)for(var i=e.get(o),a=0;a<t.size();a++){var s=t.get(a),l=i.getCoordinate().distance(s.getCoordinate());if(l<r._minDistance&&(r._minDistance=l,n[0]=new Ir(i,0,i.getCoordinate()),n[1]=new Ir(s,0,s.getCoordinate())),r._minDistance<=r._terminateDistance)return null}},Rr.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new o("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Rr.prototype.computeMinDistanceLines=function(e,t,n){for(var r=this,o=0;o<e.size();o++)for(var i=e.get(o),a=0;a<t.size();a++){var s=t.get(a);if(r.computeMinDistance(i,s,n),r._minDistance<=r._terminateDistance)return null}},Rr.prototype.interfaces_=function(){return[]},Rr.prototype.getClass=function(){return Rr},Rr.distance=function(e,t){return new Rr(e,t).distance()},Rr.isWithinDistance=function(e,t,n){return new Rr(e,t,n).distance()<=n},Rr.nearestPoints=function(e,t){return new Rr(e,t).nearestPoints()};var kr=function(){this._pt=[new p,new p],this._distance=i.NaN,this._isNull=!0};kr.prototype.getCoordinates=function(){return this._pt},kr.prototype.getCoordinate=function(e){return this._pt[e]},kr.prototype.setMinimum=function(){if(1===arguments.length){var e=arguments[0];this.setMinimum(e._pt[0],e._pt[1])}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(t,n),null;var r=t.distance(n);r<this._distance&&this.initialize(t,n,r)}},kr.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var e=arguments[0],t=arguments[1];this._pt[0].setCoordinate(e),this._pt[1].setCoordinate(t),this._distance=e.distance(t),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=o,this._isNull=!1}},kr.prototype.toString=function(){return F.toLineString(this._pt[0],this._pt[1])},kr.prototype.getDistance=function(){return this._distance},kr.prototype.setMaximum=function(){if(1===arguments.length){var e=arguments[0];this.setMaximum(e._pt[0],e._pt[1])}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(t,n),null;var r=t.distance(n);r>this._distance&&this.initialize(t,n,r)}},kr.prototype.interfaces_=function(){return[]},kr.prototype.getClass=function(){return kr};var Lr=function(){};Lr.prototype.interfaces_=function(){return[]},Lr.prototype.getClass=function(){return Lr},Lr.computeDistance=function(){if(arguments[2]instanceof kr&&arguments[0]instanceof $e&&arguments[1]instanceof p)for(var e=arguments[0],t=arguments[1],n=arguments[2],r=new wn,o=e.getCoordinates(),i=0;i<o.length-1;i++){r.setCoordinates(o[i],o[i+1]);var a=r.closestPoint(t);n.setMinimum(a,t)}else if(arguments[2]instanceof kr&&arguments[0]instanceof rt&&arguments[1]instanceof p){var s=arguments[0],l=arguments[1],u=arguments[2];Lr.computeDistance(s.getExteriorRing(),l,u);for(var c=0;c<s.getNumInteriorRing();c++)Lr.computeDistance(s.getInteriorRingN(c),l,u)}else if(arguments[2]instanceof kr&&arguments[0]instanceof K&&arguments[1]instanceof p){var f=arguments[0],d=arguments[1],h=arguments[2];if(f instanceof $e)Lr.computeDistance(f,d,h);else if(f instanceof rt)Lr.computeDistance(f,d,h);else if(f instanceof Be)for(var y=f,g=0;g<y.getNumGeometries();g++){var m=y.getGeometryN(g);Lr.computeDistance(m,d,h)}else h.setMinimum(f.getCoordinate(),d)}else if(arguments[2]instanceof kr&&arguments[0]instanceof wn&&arguments[1]instanceof p){var v=arguments[0],b=arguments[1],_=arguments[2],w=v.closestPoint(b);_.setMinimum(w,b)}};var Fr=function(){this._g0=null,this._g1=null,this._ptDist=new kr,this._densifyFrac=0;var e=arguments[0],t=arguments[1];this._g0=e,this._g1=t},Br={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Fr.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Fr.prototype.setDensifyFraction=function(e){if(e>1||e<=0)throw new o("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=e},Fr.prototype.compute=function(e,t){this.computeOrientedDistance(e,t,this._ptDist),this.computeOrientedDistance(t,e,this._ptDist)},Fr.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Fr.prototype.computeOrientedDistance=function(e,t,n){var r=new Vr(t);if(e.apply(r),n.setMaximum(r.getMaxPointDistance()),this._densifyFrac>0){var o=new Gr(t,this._densifyFrac);e.apply(o),n.setMaximum(o.getMaxPointDistance())}},Fr.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Fr.prototype.interfaces_=function(){return[]},Fr.prototype.getClass=function(){return Fr},Fr.distance=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1],n=new Fr(e,t);return n.distance()}if(3===arguments.length){var r=arguments[0],o=arguments[1],i=arguments[2],a=new Fr(r,o);return a.setDensifyFraction(i),a.distance()}},Br.MaxPointDistanceFilter.get=function(){return Vr},Br.MaxDensifiedByFractionDistanceFilter.get=function(){return Gr},Object.defineProperties(Fr,Br);var Vr=function(){this._maxPtDist=new kr,this._minPtDist=new kr,this._euclideanDist=new Lr,this._geom=null;var e=arguments[0];this._geom=e};Vr.prototype.filter=function(e){this._minPtDist.initialize(),Lr.computeDistance(this._geom,e,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Vr.prototype.getMaxPointDistance=function(){return this._maxPtDist},Vr.prototype.interfaces_=function(){return[ee]},Vr.prototype.getClass=function(){return Vr};var Gr=function(){this._maxPtDist=new kr,this._minPtDist=new kr,this._geom=null,this._numSubSegs=0;var e=arguments[0],t=arguments[1];this._geom=e,this._numSubSegs=Math.trunc(Math.round(1/t))};Gr.prototype.filter=function(e,t){var n=this;if(0===t)return null;for(var r=e.getCoordinate(t-1),o=e.getCoordinate(t),i=(o.x-r.x)/this._numSubSegs,a=(o.y-r.y)/this._numSubSegs,s=0;s<this._numSubSegs;s++){var l=r.x+s*i,u=r.y+s*a,c=new p(l,u);n._minPtDist.initialize(),Lr.computeDistance(n._geom,c,n._minPtDist),n._maxPtDist.setMaximum(n._minPtDist)}},Gr.prototype.isDone=function(){return!1},Gr.prototype.isGeometryChanged=function(){return!1},Gr.prototype.getMaxPointDistance=function(){return this._maxPtDist},Gr.prototype.interfaces_=function(){return[Fe]},Gr.prototype.getClass=function(){return Gr};var Ur=function(e,t,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=e||null,this._bufDistance=t||null,this._result=n||null},Wr={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};Ur.prototype.checkMaximumDistance=function(e,t,n){var r=new Fr(t,e);if(r.setDensifyFraction(.25),this._maxDistanceFound=r.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var o=r.getCoordinates();this._errorLocation=o[1],this._errorIndicator=e.getFactory().createLineString(o),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+F.toLineString(o[0],o[1])+")"}},Ur.prototype.isValid=function(){var e=Math.abs(this._bufDistance),t=Ur.MAX_DISTANCE_DIFF_FRAC*e;return this._minValidDistance=e-t,this._maxValidDistance=e+t,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),Ur.VERBOSE&&A.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},Ur.prototype.checkNegativeValid=function(){if(!(this._input instanceof rt||this._input instanceof at||this._input instanceof Be))return null;var e=this.getPolygonLines(this._input);if(this.checkMinimumDistance(e,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(e,this._result,this._maxValidDistance)},Ur.prototype.getErrorIndicator=function(){return this._errorIndicator},Ur.prototype.checkMinimumDistance=function(e,t,n){var r=new Rr(e,t,n);if(this._minDistanceFound=r.distance(),this._minDistanceFound<n){this._isValid=!1;var o=r.nearestPoints();this._errorLocation=r.nearestPoints()[1],this._errorIndicator=e.getFactory().createLineString(o),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+F.toLineString(o[0],o[1])+" )"}},Ur.prototype.checkPositiveValid=function(){var e=this._result.getBoundary();if(this.checkMinimumDistance(this._input,e,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,e,this._maxValidDistance)},Ur.prototype.getErrorLocation=function(){return this._errorLocation},Ur.prototype.getPolygonLines=function(e){for(var t=new fe,n=new Mr(t),r=Tr.getPolygons(e).iterator();r.hasNext();)r.next().apply(n);return e.getFactory().buildGeometry(t)},Ur.prototype.getErrorMessage=function(){return this._errMsg},Ur.prototype.interfaces_=function(){return[]},Ur.prototype.getClass=function(){return Ur},Wr.VERBOSE.get=function(){return!1},Wr.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Ur,Wr);var Jr=function(e,t,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=e||null,this._distance=t||null,this._result=n||null},Hr={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};Jr.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},Jr.prototype.checkEnvelope=function(){if(this._distance<0)return null;var e=this._distance*Jr.MAX_ENV_DIFF_FRAC;0===e&&(e=.001);var t=new N(this._input.getEnvelopeInternal());t.expandBy(this._distance);var n=new N(this._result.getEnvelopeInternal());n.expandBy(e),n.contains(t)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report("Envelope")},Jr.prototype.checkDistance=function(){var e=new Ur(this._input,this._distance,this._result);e.isValid()||(this._isValid=!1,this._errorMsg=e.getErrorMessage(),this._errorLocation=e.getErrorLocation(),this._errorIndicator=e.getErrorIndicator()),this.report("Distance")},Jr.prototype.checkArea=function(){var e=this._input.getArea(),t=this._result.getArea();this._distance>0&&e>t&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&e<t&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},Jr.prototype.checkPolygonal=function(){this._result instanceof rt||this._result instanceof at||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},Jr.prototype.getErrorIndicator=function(){return this._errorIndicator},Jr.prototype.getErrorLocation=function(){return this._errorLocation},Jr.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},Jr.prototype.report=function(e){if(!Jr.VERBOSE)return null;A.out.println("Check "+e+": "+(this._isValid?"passed":"FAILED"))},Jr.prototype.getErrorMessage=function(){return this._errorMsg},Jr.prototype.interfaces_=function(){return[]},Jr.prototype.getClass=function(){return Jr},Jr.isValidMsg=function(e,t,n){var r=new Jr(e,t,n);return r.isValid()?null:r.getErrorMessage()},Jr.isValid=function(e,t,n){return!!new Jr(e,t,n).isValid()},Hr.VERBOSE.get=function(){return!1},Hr.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Jr,Hr);var qr=function(){this._pts=null,this._data=null;var e=arguments[0],t=arguments[1];this._pts=e,this._data=t};qr.prototype.getCoordinates=function(){return this._pts},qr.prototype.size=function(){return this._pts.length},qr.prototype.getCoordinate=function(e){return this._pts[e]},qr.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},qr.prototype.getSegmentOctant=function(e){return e===this._pts.length-1?-1:mn.octant(this.getCoordinate(e),this.getCoordinate(e+1))},qr.prototype.setData=function(e){this._data=e},qr.prototype.getData=function(){return this._data},qr.prototype.toString=function(){return F.toLineString(new ft(this._pts))},qr.prototype.interfaces_=function(){return[vn]},qr.prototype.getClass=function(){return qr};var Yr=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new fe,this._intersectionCount=0,this._keepIntersections=!0;var e=arguments[0];this._li=e,this._interiorIntersection=null};Yr.prototype.getInteriorIntersection=function(){return this._interiorIntersection},Yr.prototype.setCheckEndSegmentsOnly=function(e){this._isCheckEndSegmentsOnly=e},Yr.prototype.getIntersectionSegments=function(){return this._intSegments},Yr.prototype.count=function(){return this._intersectionCount},Yr.prototype.getIntersections=function(){return this._intersections},Yr.prototype.setFindAllIntersections=function(e){this._findAllIntersections=e},Yr.prototype.setKeepIntersections=function(e){this._keepIntersections=e},Yr.prototype.processIntersections=function(e,t,n,r){if(!this._findAllIntersections&&this.hasIntersection())return null;if(e===n&&t===r)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(e,t)&&!this.isEndSegment(n,r))return null;var o=e.getCoordinates()[t],i=e.getCoordinates()[t+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(o,i,a,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=o,this._intSegments[1]=i,this._intSegments[2]=a,this._intSegments[3]=s,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},Yr.prototype.isEndSegment=function(e,t){return 0===t||t>=e.size()-2},Yr.prototype.hasIntersection=function(){return null!==this._interiorIntersection},Yr.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},Yr.prototype.interfaces_=function(){return[er]},Yr.prototype.getClass=function(){return Yr},Yr.createAllIntersectionsFinder=function(e){var t=new Yr(e);return t.setFindAllIntersections(!0),t},Yr.createAnyIntersectionFinder=function(e){return new Yr(e)},Yr.createIntersectionCounter=function(e){var t=new Yr(e);return t.setFindAllIntersections(!0),t.setKeepIntersections(!1),t};var Xr=function(){this._li=new J,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var e=arguments[0];this._segStrings=e};Xr.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},Xr.prototype.getIntersections=function(){return this._segInt.getIntersections()},Xr.prototype.isValid=function(){return this.execute(),this._isValid},Xr.prototype.setFindAllIntersections=function(e){this._findAllIntersections=e},Xr.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new Yr(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var e=new jn;if(e.setSegmentIntersector(this._segInt),e.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},Xr.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Dt(this.getErrorMessage(),this._segInt.getInteriorIntersection())},Xr.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var e=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+F.toLineString(e[0],e[1])+" and "+F.toLineString(e[2],e[3])},Xr.prototype.interfaces_=function(){return[]},Xr.prototype.getClass=function(){return Xr},Xr.computeIntersections=function(e){var t=new Xr(e);return t.setFindAllIntersections(!0),t.isValid(),t.getIntersections()};var Zr=function e(){this._nv=null;var t=arguments[0];this._nv=new Xr(e.toSegmentStrings(t))};Zr.prototype.checkValid=function(){this._nv.checkValid()},Zr.prototype.interfaces_=function(){return[]},Zr.prototype.getClass=function(){return Zr},Zr.toSegmentStrings=function(e){for(var t=new fe,n=e.iterator();n.hasNext();){var r=n.next();t.add(new qr(r.getCoordinates(),r))}return t},Zr.checkValid=function(e){new Zr(e).checkValid()};var Kr=function(e){this._mapOp=e};Kr.prototype.map=function(e){for(var t=new fe,n=0;n<e.getNumGeometries();n++){var r=this._mapOp.map(e.getGeometryN(n));r.isEmpty()||t.add(r)}return e.getFactory().createGeometryCollection(wt.toGeometryArray(t))},Kr.prototype.interfaces_=function(){return[]},Kr.prototype.getClass=function(){return Kr},Kr.map=function(e,t){return new Kr(t).map(e)};var Qr=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new fe,this._resultLineList=new fe;var e=arguments[0],t=arguments[1],n=arguments[2];this._op=e,this._geometryFactory=t,this._ptLocator=n};Qr.prototype.collectLines=function(e){for(var t=this,n=this._op.getGraph().getEdgeEnds().iterator();n.hasNext();){var r=n.next();t.collectLineEdge(r,e,t._lineEdgesList),t.collectBoundaryTouchEdge(r,e,t._lineEdgesList)}},Qr.prototype.labelIsolatedLine=function(e,t){var n=this._ptLocator.locate(e.getCoordinate(),this._op.getArgGeometry(t));e.getLabel().setLocation(t,n)},Qr.prototype.build=function(e){return this.findCoveredLineEdges(),this.collectLines(e),this.buildLines(e),this._resultLineList},Qr.prototype.collectLineEdge=function(e,t,n){var r=e.getLabel(),o=e.getEdge();e.isLineEdge()&&(e.isVisited()||!No.isResultOfOp(r,t)||o.isCovered()||(n.add(o),e.setVisitedEdge(!0)))},Qr.prototype.findCoveredLineEdges=function(){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();)e.next().getEdges().findCoveredLineEdges();for(var t=this._op.getGraph().getEdgeEnds().iterator();t.hasNext();){var n=t.next(),r=n.getEdge();if(n.isLineEdge()&&!r.isCoveredSet()){var o=this._op.isCoveredByA(n.getCoordinate());r.setCovered(o)}}},Qr.prototype.labelIsolatedLines=function(e){for(var t=e.iterator();t.hasNext();){var n=t.next(),r=n.getLabel();n.isIsolated()&&(r.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},Qr.prototype.buildLines=function(e){for(var t=this._lineEdgesList.iterator();t.hasNext();){var n=t.next(),r=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(r),n.setInResult(!0)}},Qr.prototype.collectBoundaryTouchEdge=function(e,t,n){var r=e.getLabel();return e.isLineEdge()||e.isVisited()||e.isInteriorAreaEdge()||e.getEdge().isInResult()?null:(G.isTrue(!(e.isInResult()||e.getSym().isInResult())||!e.getEdge().isInResult()),void(No.isResultOfOp(r,t)&&t===No.INTERSECTION&&(n.add(e.getEdge()),e.setVisitedEdge(!0))))},Qr.prototype.interfaces_=function(){return[]},Qr.prototype.getClass=function(){return Qr};var $r=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new fe;var e=arguments[0],t=arguments[1];this._op=e,this._geometryFactory=t};$r.prototype.filterCoveredNodeToPoint=function(e){var t=e.getCoordinate();if(!this._op.isCoveredByLA(t)){var n=this._geometryFactory.createPoint(t);this._resultPointList.add(n)}},$r.prototype.extractNonCoveredResultNodes=function(e){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();){var n=t.next();if(!(n.isInResult()||n.isIncidentEdgeInResult()||0!==n.getEdges().getDegree()&&e!==No.INTERSECTION)){var r=n.getLabel();No.isResultOfOp(r,e)&&this.filterCoveredNodeToPoint(n)}}},$r.prototype.build=function(e){return this.extractNonCoveredResultNodes(e),this._resultPointList},$r.prototype.interfaces_=function(){return[]},$r.prototype.getClass=function(){return $r};var eo=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};eo.prototype.transformPoint=function(e,t){return this._factory.createPoint(this.transformCoordinates(e.getCoordinateSequence(),e))},eo.prototype.transformPolygon=function(e,t){var n=!0,r=this.transformLinearRing(e.getExteriorRing(),e);null!==r&&r instanceof it&&!r.isEmpty()||(n=!1);for(var o=new fe,i=0;i<e.getNumInteriorRing();i++){var a=this.transformLinearRing(e.getInteriorRingN(i),e);null===a||a.isEmpty()||(a instanceof it||(n=!1),o.add(a))}if(n)return this._factory.createPolygon(r,o.toArray([]));var s=new fe;return null!==r&&s.add(r),s.addAll(o),this._factory.buildGeometry(s)},eo.prototype.createCoordinateSequence=function(e){return this._factory.getCoordinateSequenceFactory().create(e)},eo.prototype.getInputGeometry=function(){return this._inputGeom},eo.prototype.transformMultiLineString=function(e,t){for(var n=new fe,r=0;r<e.getNumGeometries();r++){var o=this.transformLineString(e.getGeometryN(r),e);null!==o&&(o.isEmpty()||n.add(o))}return this._factory.buildGeometry(n)},eo.prototype.transformCoordinates=function(e,t){return this.copy(e)},eo.prototype.transformLineString=function(e,t){return this._factory.createLineString(this.transformCoordinates(e.getCoordinateSequence(),e))},eo.prototype.transformMultiPoint=function(e,t){for(var n=new fe,r=0;r<e.getNumGeometries();r++){var o=this.transformPoint(e.getGeometryN(r),e);null!==o&&(o.isEmpty()||n.add(o))}return this._factory.buildGeometry(n)},eo.prototype.transformMultiPolygon=function(e,t){for(var n=new fe,r=0;r<e.getNumGeometries();r++){var o=this.transformPolygon(e.getGeometryN(r),e);null!==o&&(o.isEmpty()||n.add(o))}return this._factory.buildGeometry(n)},eo.prototype.copy=function(e){return e.copy()},eo.prototype.transformGeometryCollection=function(e,t){for(var n=new fe,r=0;r<e.getNumGeometries();r++){var o=this.transform(e.getGeometryN(r));null!==o&&(this._pruneEmptyGeometry&&o.isEmpty()||n.add(o))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(wt.toGeometryArray(n)):this._factory.buildGeometry(n)},eo.prototype.transform=function(e){if(this._inputGeom=e,this._factory=e.getFactory(),e instanceof tt)return this.transformPoint(e,null);if(e instanceof ot)return this.transformMultiPoint(e,null);if(e instanceof it)return this.transformLinearRing(e,null);if(e instanceof $e)return this.transformLineString(e,null);if(e instanceof Ve)return this.transformMultiLineString(e,null);if(e instanceof rt)return this.transformPolygon(e,null);if(e instanceof at)return this.transformMultiPolygon(e,null);if(e instanceof Be)return this.transformGeometryCollection(e,null);throw new o("Unknown Geometry subtype: "+e.getClass().getName())},eo.prototype.transformLinearRing=function(e,t){var n=this.transformCoordinates(e.getCoordinateSequence(),e);if(null===n)return this._factory.createLinearRing(null);var r=n.size();return r>0&&r<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},eo.prototype.interfaces_=function(){return[]},eo.prototype.getClass=function(){return eo};var to=function e(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new wn,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof $e&&"number"==typeof arguments[1]){var t=arguments[0],n=arguments[1];e.call(this,t.getCoordinates(),n)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var r=arguments[0],o=arguments[1];this._srcPts=r,this._isClosed=e.isClosed(r),this._snapTolerance=o}};to.prototype.snapVertices=function(e,t){for(var n=this._isClosed?e.size()-1:e.size(),r=0;r<n;r++){var o=e.get(r),i=this.findSnapForVertex(o,t);null!==i&&(e.set(r,new p(i)),0===r&&this._isClosed&&e.set(e.size()-1,new p(i)))}},to.prototype.findSnapForVertex=function(e,t){for(var n=0;n<t.length;n++){if(e.equals2D(t[n]))return null;if(e.distance(t[n])<this._snapTolerance)return t[n]}return null},to.prototype.snapTo=function(e){var t=new he(this._srcPts);return this.snapVertices(t,e),this.snapSegments(t,e),t.toCoordinateArray()},to.prototype.snapSegments=function(e,t){if(0===t.length)return null;var n=t.length;t[0].equals2D(t[t.length-1])&&(n=t.length-1);for(var r=0;r<n;r++){var o=t[r],i=this.findSegmentIndexToSnap(o,e);i>=0&&e.add(i+1,new p(o),!1)}},to.prototype.findSegmentIndexToSnap=function(e,t){for(var n=this,r=i.MAX_VALUE,o=-1,a=0;a<t.size()-1;a++){if(n._seg.p0=t.get(a),n._seg.p1=t.get(a+1),n._seg.p0.equals2D(e)||n._seg.p1.equals2D(e)){if(n._allowSnappingToSourceVertices)continue;return-1}var s=n._seg.distance(e);s<n._snapTolerance&&s<r&&(r=s,o=a)}return o},to.prototype.setAllowSnappingToSourceVertices=function(e){this._allowSnappingToSourceVertices=e},to.prototype.interfaces_=function(){return[]},to.prototype.getClass=function(){return to},to.isClosed=function(e){return!(e.length<=1)&&e[0].equals2D(e[e.length-1])};var no=function(e){this._srcGeom=e||null},ro={SNAP_PRECISION_FACTOR:{configurable:!0}};no.prototype.snapTo=function(e,t){var n=this.extractTargetCoordinates(e);return new oo(t,n).transform(this._srcGeom)},no.prototype.snapToSelf=function(e,t){var n=this.extractTargetCoordinates(this._srcGeom),r=new oo(e,n,!0).transform(this._srcGeom),o=r;return t&&m(o,nt)&&(o=r.buffer(0)),o},no.prototype.computeSnapTolerance=function(e){return this.computeMinimumSegmentLength(e)/10},no.prototype.extractTargetCoordinates=function(e){for(var t=new Ne,n=e.getCoordinates(),r=0;r<n.length;r++)t.add(n[r]);return t.toArray(new Array(0).fill(null))},no.prototype.computeMinimumSegmentLength=function(e){for(var t=i.MAX_VALUE,n=0;n<e.length-1;n++){var r=e[n].distance(e[n+1]);r<t&&(t=r)}return t},no.prototype.interfaces_=function(){return[]},no.prototype.getClass=function(){return no},no.snap=function(e,t,n){var r=new Array(2).fill(null),o=new no(e);r[0]=o.snapTo(t,n);var i=new no(t);return r[1]=i.snapTo(r[0],n),r},no.computeOverlaySnapTolerance=function(){if(1===arguments.length){var e=arguments[0],t=no.computeSizeBasedSnapTolerance(e),n=e.getPrecisionModel();if(n.getType()===mt.FIXED){var r=1/n.getScale()*2/1.415;r>t&&(t=r)}return t}if(2===arguments.length){var o=arguments[0],i=arguments[1];return Math.min(no.computeOverlaySnapTolerance(o),no.computeOverlaySnapTolerance(i))}},no.computeSizeBasedSnapTolerance=function(e){var t=e.getEnvelopeInternal();return Math.min(t.getHeight(),t.getWidth())*no.SNAP_PRECISION_FACTOR},no.snapToSelf=function(e,t,n){return new no(e).snapToSelf(t,n)},ro.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(no,ro);var oo=function(e){function t(t,n,r){e.call(this),this._snapTolerance=t||null,this._snapPts=n||null,this._isSelfSnap=void 0!==r&&r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.snapLine=function(e,t){var n=new to(e,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(t)},t.prototype.transformCoordinates=function(e,t){var n=e.toCoordinateArray(),r=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(r)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(eo),io=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};io.prototype.getCommon=function(){return i.longBitsToDouble(this._commonBits)},io.prototype.add=function(e){var t=i.doubleToLongBits(e);return this._isFirst?(this._commonBits=t,this._commonSignExp=io.signExpBits(this._commonBits),this._isFirst=!1,null):io.signExpBits(t)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=io.numCommonMostSigMantissaBits(this._commonBits,t),void(this._commonBits=io.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},io.prototype.toString=function(){if(1===arguments.length){var e=arguments[0],t=i.longBitsToDouble(e),n=i.toBinaryString(e),r="0000000000000000000000000000000000000000000000000000000000000000"+n,o=r.substring(r.length-64),a=o.substring(0,1)+"  "+o.substring(1,12)+"(exp) "+o.substring(12)+" [ "+t+" ]";return a}},io.prototype.interfaces_=function(){return[]},io.prototype.getClass=function(){return io},io.getBit=function(e,t){return 0!=(e&1<<t)?1:0},io.signExpBits=function(e){return e>>52},io.zeroLowerBits=function(e,t){return e&~((1<<t)-1)},io.numCommonMostSigMantissaBits=function(e,t){for(var n=0,r=52;r>=0;r--){if(io.getBit(e,r)!==io.getBit(t,r))return n;n++}return 52};var ao=function(){this._commonCoord=null,this._ccFilter=new lo},so={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};ao.prototype.addCommonBits=function(e){var t=new uo(this._commonCoord);e.apply(t),e.geometryChanged()},ao.prototype.removeCommonBits=function(e){if(0===this._commonCoord.x&&0===this._commonCoord.y)return e;var t=new p(this._commonCoord);t.x=-t.x,t.y=-t.y;var n=new uo(t);return e.apply(n),e.geometryChanged(),e},ao.prototype.getCommonCoordinate=function(){return this._commonCoord},ao.prototype.add=function(e){e.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},ao.prototype.interfaces_=function(){return[]},ao.prototype.getClass=function(){return ao},so.CommonCoordinateFilter.get=function(){return lo},so.Translater.get=function(){return uo},Object.defineProperties(ao,so);var lo=function(){this._commonBitsX=new io,this._commonBitsY=new io};lo.prototype.filter=function(e){this._commonBitsX.add(e.x),this._commonBitsY.add(e.y)},lo.prototype.getCommonCoordinate=function(){return new p(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},lo.prototype.interfaces_=function(){return[ee]},lo.prototype.getClass=function(){return lo};var uo=function(){this.trans=null;var e=arguments[0];this.trans=e};uo.prototype.filter=function(e,t){var n=e.getOrdinate(t,0)+this.trans.x,r=e.getOrdinate(t,1)+this.trans.y;e.setOrdinate(t,0,n),e.setOrdinate(t,1,r)},uo.prototype.isDone=function(){return!1},uo.prototype.isGeometryChanged=function(){return!0},uo.prototype.interfaces_=function(){return[Fe]},uo.prototype.getClass=function(){return uo};var co=function(e,t){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=e,this._geom[1]=t,this.computeSnapTolerance()};co.prototype.selfSnap=function(e){return new no(e).snapTo(e,this._snapTolerance)},co.prototype.removeCommonBits=function(e){this._cbr=new ao,this._cbr.add(e[0]),this._cbr.add(e[1]);var t=new Array(2).fill(null);return t[0]=this._cbr.removeCommonBits(e[0].copy()),t[1]=this._cbr.removeCommonBits(e[1].copy()),t},co.prototype.prepareResult=function(e){return this._cbr.addCommonBits(e),e},co.prototype.getResultGeometry=function(e){var t=this.snap(this._geom),n=No.overlayOp(t[0],t[1],e);return this.prepareResult(n)},co.prototype.checkValid=function(e){e.isValid()||A.out.println("Snapped geometry is invalid")},co.prototype.computeSnapTolerance=function(){this._snapTolerance=no.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},co.prototype.snap=function(e){var t=this.removeCommonBits(e);return no.snap(t[0],t[1],this._snapTolerance)},co.prototype.interfaces_=function(){return[]},co.prototype.getClass=function(){return co},co.overlayOp=function(e,t,n){return new co(e,t).getResultGeometry(n)},co.union=function(e,t){return co.overlayOp(e,t,No.UNION)},co.intersection=function(e,t){return co.overlayOp(e,t,No.INTERSECTION)},co.symDifference=function(e,t){return co.overlayOp(e,t,No.SYMDIFFERENCE)},co.difference=function(e,t){return co.overlayOp(e,t,No.DIFFERENCE)};var po=function(e,t){this._geom=new Array(2).fill(null),this._geom[0]=e,this._geom[1]=t};po.prototype.getResultGeometry=function(e){var t=null,n=!1,r=null;try{t=No.overlayOp(this._geom[0],this._geom[1],e),n=!0}catch(e){if(!(e instanceof B))throw e;r=e}if(!n)try{t=co.overlayOp(this._geom[0],this._geom[1],e)}catch(e){throw e instanceof B?r:e}return t},po.prototype.interfaces_=function(){return[]},po.prototype.getClass=function(){return po},po.overlayOp=function(e,t,n){return new po(e,t).getResultGeometry(n)},po.union=function(e,t){return po.overlayOp(e,t,No.UNION)},po.intersection=function(e,t){return po.overlayOp(e,t,No.INTERSECTION)},po.symDifference=function(e,t){return po.overlayOp(e,t,No.SYMDIFFERENCE)},po.difference=function(e,t){return po.overlayOp(e,t,No.DIFFERENCE)};var fo=function(){this.mce=null,this.chainIndex=null;var e=arguments[0],t=arguments[1];this.mce=e,this.chainIndex=t};fo.prototype.computeIntersections=function(e,t){this.mce.computeIntersectsForChain(this.chainIndex,e.mce,e.chainIndex,t)},fo.prototype.interfaces_=function(){return[]},fo.prototype.getClass=function(){return fo};var ho=function e(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var t=arguments[0],n=arguments[1];this._eventType=e.DELETE,this._xValue=t,this._insertEvent=n}else if(3===arguments.length){var r=arguments[0],o=arguments[1],i=arguments[2];this._eventType=e.INSERT,this._label=r,this._xValue=o,this._obj=i}},yo={INSERT:{configurable:!0},DELETE:{configurable:!0}};ho.prototype.isDelete=function(){return this._eventType===ho.DELETE},ho.prototype.setDeleteEventIndex=function(e){this._deleteEventIndex=e},ho.prototype.getObject=function(){return this._obj},ho.prototype.compareTo=function(e){var t=e;return this._xValue<t._xValue?-1:this._xValue>t._xValue?1:this._eventType<t._eventType?-1:this._eventType>t._eventType?1:0},ho.prototype.getInsertEvent=function(){return this._insertEvent},ho.prototype.isInsert=function(){return this._eventType===ho.INSERT},ho.prototype.isSameLabel=function(e){return null!==this._label&&this._label===e._label},ho.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},ho.prototype.interfaces_=function(){return[s]},ho.prototype.getClass=function(){return ho},yo.INSERT.get=function(){return 1},yo.DELETE.get=function(){return 2},Object.defineProperties(ho,yo);var go=function(){};go.prototype.interfaces_=function(){return[]},go.prototype.getClass=function(){return go};var mo=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var e=arguments[0],t=arguments[1],n=arguments[2];this._li=e,this._includeProper=t,this._recordIsolated=n};mo.prototype.isTrivialIntersection=function(e,t,n,r){if(e===n&&1===this._li.getIntersectionNum()){if(mo.isAdjacentSegments(t,r))return!0;if(e.isClosed()){var o=e.getNumPoints()-1;if(0===t&&r===o||0===r&&t===o)return!0}}return!1},mo.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},mo.prototype.setIsDoneIfProperInt=function(e){this._isDoneWhenProperInt=e},mo.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},mo.prototype.isBoundaryPointInternal=function(e,t){for(var n=t.iterator();n.hasNext();){var r=n.next().getCoordinate();if(e.isIntersection(r))return!0}return!1},mo.prototype.hasProperIntersection=function(){return this._hasProper},mo.prototype.hasIntersection=function(){return this._hasIntersection},mo.prototype.isDone=function(){return this._isDone},mo.prototype.isBoundaryPoint=function(e,t){return!(null===t||!this.isBoundaryPointInternal(e,t[0])&&!this.isBoundaryPointInternal(e,t[1]))},mo.prototype.setBoundaryNodes=function(e,t){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=e,this._bdyNodes[1]=t},mo.prototype.addIntersections=function(e,t,n,r){if(e===n&&t===r)return null;this.numTests++;var o=e.getCoordinates()[t],i=e.getCoordinates()[t+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(o,i,a,s),this._li.hasIntersection()&&(this._recordIsolated&&(e.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(e,t,n,r)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(e.addIntersections(this._li,t,0),n.addIntersections(this._li,r,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},mo.prototype.interfaces_=function(){return[]},mo.prototype.getClass=function(){return mo},mo.isAdjacentSegments=function(e,t){return 1===Math.abs(e-t)};var vo=function(e){function t(){e.call(this),this.events=new fe,this.nOverlaps=null}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.prepareEvents=function(){an.sort(this.events);for(var e=0;e<this.events.size();e++){var t=this.events.get(e);t.isDelete()&&t.getInsertEvent().setDeleteEventIndex(e)}},t.prototype.computeIntersections=function(){var e=this;if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var n=0;n<this.events.size();n++){var r=e.events.get(n);if(r.isInsert()&&e.processOverlaps(n,r.getDeleteEventIndex(),r,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof mo&&m(arguments[0],ce)&&m(arguments[1],ce)){var o=arguments[0],i=arguments[1],a=arguments[2];this.addEdges(o,o),this.addEdges(i,i),this.computeIntersections(a)}else if("boolean"==typeof arguments[2]&&m(arguments[0],ce)&&arguments[1]instanceof mo){var s=arguments[0],l=arguments[1],u=arguments[2];u?this.addEdges(s,null):this.addEdges(s),this.computeIntersections(l)}},t.prototype.addEdge=function(e,t){for(var n=e.getMonotoneChainEdge(),r=n.getStartIndexes(),o=0;o<r.length-1;o++){var i=new fo(n,o),a=new ho(t,n.getMinX(o),i);this.events.add(a),this.events.add(new ho(n.getMaxX(o),a))}},t.prototype.processOverlaps=function(e,t,n,r){for(var o=n.getObject(),i=e;i<t;i++){var a=this.events.get(i);if(a.isInsert()){var s=a.getObject();n.isSameLabel(a)||(o.computeIntersections(s,r),this.nOverlaps++)}}},t.prototype.addEdges=function(){var e=this;if(1===arguments.length)for(var t=arguments[0],n=t.iterator();n.hasNext();){var r=n.next();e.addEdge(r,r)}else if(2===arguments.length)for(var o=arguments[0],i=arguments[1],a=o.iterator();a.hasNext();){var s=a.next();e.addEdge(s,i)}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(go),bo=function(){this._min=i.POSITIVE_INFINITY,this._max=i.NEGATIVE_INFINITY},_o={NodeComparator:{configurable:!0}};bo.prototype.getMin=function(){return this._min},bo.prototype.intersects=function(e,t){return!(this._min>t||this._max<e)},bo.prototype.getMax=function(){return this._max},bo.prototype.toString=function(){return F.toLineString(new p(this._min,0),new p(this._max,0))},bo.prototype.interfaces_=function(){return[]},bo.prototype.getClass=function(){return bo},_o.NodeComparator.get=function(){return wo},Object.defineProperties(bo,_o);var wo=function(){};wo.prototype.compare=function(e,t){var n=e,r=t,o=(n._min+n._max)/2,i=(r._min+r._max)/2;return o<i?-1:o>i?1:0},wo.prototype.interfaces_=function(){return[u]},wo.prototype.getClass=function(){return wo};var Po=function(e){function t(){e.call(this),this._item=null;var t=arguments[0],n=arguments[1],r=arguments[2];this._min=t,this._max=n,this._item=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.query=function(e,t,n){if(!this.intersects(e,t))return null;n.visitItem(this._item)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(bo),Co=function(e){function t(){e.call(this),this._node1=null,this._node2=null;var t=arguments[0],n=arguments[1];this._node1=t,this._node2=n,this.buildExtent(this._node1,this._node2)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.buildExtent=function(e,t){this._min=Math.min(e._min,t._min),this._max=Math.max(e._max,t._max)},t.prototype.query=function(e,t,n){if(!this.intersects(e,t))return null;null!==this._node1&&this._node1.query(e,t,n),null!==this._node2&&this._node2.query(e,t,n)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(bo),Oo=function(){this._leaves=new fe,this._root=null,this._level=0};Oo.prototype.buildTree=function(){an.sort(this._leaves,new bo.NodeComparator);for(var e=this._leaves,t=null,n=new fe;;){if(this.buildLevel(e,n),1===n.size())return n.get(0);t=e,e=n,n=t}},Oo.prototype.insert=function(e,t,n){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new Po(e,t,n))},Oo.prototype.query=function(e,t,n){this.init(),this._root.query(e,t,n)},Oo.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},Oo.prototype.printNode=function(e){A.out.println(F.toLineString(new p(e._min,this._level),new p(e._max,this._level)))},Oo.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},Oo.prototype.buildLevel=function(e,t){this._level++,t.clear();for(var n=0;n<e.size();n+=2){var r=e.get(n);if(null===(n+1<e.size()?e.get(n):null))t.add(r);else{var o=new Co(e.get(n),e.get(n+1));t.add(o)}}},Oo.prototype.interfaces_=function(){return[]},Oo.prototype.getClass=function(){return Oo};var xo=function(){this._items=new fe};xo.prototype.visitItem=function(e){this._items.add(e)},xo.prototype.getItems=function(){return this._items},xo.prototype.interfaces_=function(){return[tn]},xo.prototype.getClass=function(){return xo};var So=function(){this._index=null;var e=arguments[0];if(!m(e,nt))throw new o("Argument must be Polygonal");this._index=new To(e)},Eo={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};So.prototype.locate=function(e){var t=new q(e),n=new jo(t);return this._index.query(e.y,e.y,n),t.getLocation()},So.prototype.interfaces_=function(){return[Hn]},So.prototype.getClass=function(){return So},Eo.SegmentVisitor.get=function(){return jo},Eo.IntervalIndexedGeometry.get=function(){return To},Object.defineProperties(So,Eo);var jo=function(){this._counter=null;var e=arguments[0];this._counter=e};jo.prototype.visitItem=function(e){var t=e;this._counter.countSegment(t.getCoordinate(0),t.getCoordinate(1))},jo.prototype.interfaces_=function(){return[tn]},jo.prototype.getClass=function(){return jo};var To=function(){this._index=new Oo;var e=arguments[0];this.init(e)};To.prototype.init=function(e){for(var t=Mr.getLines(e).iterator();t.hasNext();){var n=t.next().getCoordinates();this.addLine(n)}},To.prototype.addLine=function(e){for(var t=1;t<e.length;t++){var n=new wn(e[t-1],e[t]),r=Math.min(n.p0.y,n.p1.y),o=Math.max(n.p0.y,n.p1.y);this._index.insert(r,o,n)}},To.prototype.query=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1],n=new xo;return this._index.query(e,t,n),n.getItems()}if(3===arguments.length){var r=arguments[0],o=arguments[1],i=arguments[2];this._index.query(r,o,i)}},To.prototype.interfaces_=function(){return[]},To.prototype.getClass=function(){return To};var Mo=function(e){function t(){if(e.call(this),this._parentGeom=null,this._lineEdgeMap=new gt,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new Ar,2===arguments.length){var t=arguments[0],n=arguments[1],r=te.OGC_SFS_BOUNDARY_RULE;this._argIndex=t,this._parentGeom=n,this._boundaryNodeRule=r,null!==n&&this.add(n)}else if(3===arguments.length){var o=arguments[0],i=arguments[1],a=arguments[2];this._argIndex=o,this._parentGeom=i,this._boundaryNodeRule=a,null!==i&&this.add(i)}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.insertBoundaryPoint=function(e,n){var r=this._nodes.addNode(n).getLabel(),o=1;r.getLocation(e,Tt.ON)===y.BOUNDARY&&o++;var i=t.determineBoundary(this._boundaryNodeRule,o);r.setLocation(e,i)},t.prototype.computeSelfNodes=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];return this.computeSelfNodes(e,t,!1)}if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2],i=new mo(n,!0,!1);i.setIsDoneIfProperInt(o);var a=this.createEdgeSetIntersector(),s=this._parentGeom instanceof it||this._parentGeom instanceof rt||this._parentGeom instanceof at,l=r||!s;return a.computeIntersections(this._edges,i,l),this.addSelfIntersectionNodes(this._argIndex),i}},t.prototype.computeSplitEdges=function(e){for(var t=this._edges.iterator();t.hasNext();)t.next().eiList.addSplitEdges(e)},t.prototype.computeEdgeIntersections=function(e,t,n){var r=new mo(t,n,!0);return r.setBoundaryNodes(this.getBoundaryNodes(),e.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,e._edges,r),r},t.prototype.getGeometry=function(){return this._parentGeom},t.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},t.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},t.prototype.addPoint=function(){if(arguments[0]instanceof tt){var e=arguments[0],t=e.getCoordinate();this.insertPoint(this._argIndex,t,y.INTERIOR)}else if(arguments[0]instanceof p){var n=arguments[0];this.insertPoint(this._argIndex,n,y.INTERIOR)}},t.prototype.addPolygon=function(e){this.addPolygonRing(e.getExteriorRing(),y.EXTERIOR,y.INTERIOR);for(var t=0;t<e.getNumInteriorRing();t++){var n=e.getInteriorRingN(t);this.addPolygonRing(n,y.INTERIOR,y.EXTERIOR)}},t.prototype.addEdge=function(e){this.insertEdge(e);var t=e.getCoordinates();this.insertPoint(this._argIndex,t[0],y.BOUNDARY),this.insertPoint(this._argIndex,t[t.length-1],y.BOUNDARY)},t.prototype.addLineString=function(e){var t=ye.removeRepeatedPoints(e.getCoordinates());if(t.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=t[0],null;var n=new lr(t,new Lt(this._argIndex,y.INTERIOR));this._lineEdgeMap.put(e,n),this.insertEdge(n),G.isTrue(t.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,t[0]),this.insertBoundaryPoint(this._argIndex,t[t.length-1])},t.prototype.getInvalidPoint=function(){return this._invalidPoint},t.prototype.getBoundaryPoints=function(){for(var e=this.getBoundaryNodes(),t=new Array(e.size()).fill(null),n=0,r=e.iterator();r.hasNext();){var o=r.next();t[n++]=o.getCoordinate().copy()}return t},t.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},t.prototype.addSelfIntersectionNode=function(e,t,n){if(this.isBoundaryNode(e,t))return null;n===y.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(e,t):this.insertPoint(e,t,n)},t.prototype.addPolygonRing=function(e,t,n){if(e.isEmpty())return null;var r=ye.removeRepeatedPoints(e.getCoordinates());if(r.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=r[0],null;var o=t,i=n;Y.isCCW(r)&&(o=n,i=t);var a=new lr(r,new Lt(this._argIndex,y.BOUNDARY,o,i));this._lineEdgeMap.put(e,a),this.insertEdge(a),this.insertPoint(this._argIndex,r[0],y.BOUNDARY)},t.prototype.insertPoint=function(e,t,n){var r=this._nodes.addNode(t),o=r.getLabel();null===o?r._label=new Lt(e,n):o.setLocation(e,n)},t.prototype.createEdgeSetIntersector=function(){return new vo},t.prototype.addSelfIntersectionNodes=function(e){for(var t=this._edges.iterator();t.hasNext();)for(var n=t.next(),r=n.getLabel().getLocation(e),o=n.eiList.iterator();o.hasNext();){var i=o.next();this.addSelfIntersectionNode(e,i.coord,r)}},t.prototype.add=function(){if(1!==arguments.length)return e.prototype.add.apply(this,arguments);var t=arguments[0];if(t.isEmpty())return null;if(t instanceof at&&(this._useBoundaryDeterminationRule=!1),t instanceof rt)this.addPolygon(t);else if(t instanceof $e)this.addLineString(t);else if(t instanceof tt)this.addPoint(t);else if(t instanceof ot)this.addCollection(t);else if(t instanceof Ve)this.addCollection(t);else if(t instanceof at)this.addCollection(t);else{if(!(t instanceof Be))throw new Error(t.getClass().getName());this.addCollection(t)}},t.prototype.addCollection=function(e){for(var t=0;t<e.getNumGeometries();t++){var n=e.getGeometryN(t);this.add(n)}},t.prototype.locate=function(e){return m(this._parentGeom,nt)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new So(this._parentGeom)),this._areaPtLocator.locate(e)):this._ptLocator.locate(e,this._parentGeom)},t.prototype.findEdge=function(){if(1===arguments.length){var t=arguments[0];return this._lineEdgeMap.get(t)}return e.prototype.findEdge.apply(this,arguments)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.determineBoundary=function(e,t){return e.isInBoundary(t)?y.BOUNDARY:y.INTERIOR},t}(Zt),Ao=function(){if(this._li=new J,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var e=arguments[0];this.setComputationPrecision(e.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new Mo(0,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1],r=te.OGC_SFS_BOUNDARY_RULE;t.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(t.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Mo(0,t,r),this._arg[1]=new Mo(1,n,r)}else if(3===arguments.length){var o=arguments[0],i=arguments[1],a=arguments[2];o.getPrecisionModel().compareTo(i.getPrecisionModel())>=0?this.setComputationPrecision(o.getPrecisionModel()):this.setComputationPrecision(i.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Mo(0,o,a),this._arg[1]=new Mo(1,i,a)}};Ao.prototype.getArgGeometry=function(e){return this._arg[e].getGeometry()},Ao.prototype.setComputationPrecision=function(e){this._resultPrecisionModel=e,this._li.setPrecisionModel(this._resultPrecisionModel)},Ao.prototype.interfaces_=function(){return[]},Ao.prototype.getClass=function(){return Ao};var Io=function(){};Io.prototype.interfaces_=function(){return[]},Io.prototype.getClass=function(){return Io},Io.map=function(){if(arguments[0]instanceof K&&m(arguments[1],Io.MapOp)){for(var e=arguments[0],t=arguments[1],n=new fe,r=0;r<e.getNumGeometries();r++){var o=t.map(e.getGeometryN(r));null!==o&&n.add(o)}return e.getFactory().buildGeometry(n)}if(m(arguments[0],se)&&m(arguments[1],Io.MapOp)){for(var i=arguments[0],a=arguments[1],s=new fe,l=i.iterator();l.hasNext();){var u=l.next(),c=a.map(u);null!==c&&s.add(c)}return s}},Io.MapOp=function(){};var No=function(e){function t(){var t=arguments[0],n=arguments[1];e.call(this,t,n),this._ptLocator=new Ar,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new $n,this._resultPolyList=new fe,this._resultLineList=new fe,this._resultPointList=new fe,this._graph=new Zt(new Kn),this._geomFact=t.getFactory()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.insertUniqueEdge=function(e){var t=this._edgeList.findEqualEdge(e);if(null!==t){var n=t.getLabel(),r=e.getLabel();t.isPointwiseEqual(e)||(r=new Lt(e.getLabel())).flip();var o=t.getDepth();o.isNull()&&o.add(n),o.add(r),n.merge(r)}else this._edgeList.add(e)},t.prototype.getGraph=function(){return this._graph},t.prototype.cancelDuplicateResultEdges=function(){for(var e=this._graph.getEdgeEnds().iterator();e.hasNext();){var t=e.next(),n=t.getSym();t.isInResult()&&n.isInResult()&&(t.setInResult(!1),n.setInResult(!1))}},t.prototype.isCoveredByLA=function(e){return!!this.isCovered(e,this._resultLineList)||!!this.isCovered(e,this._resultPolyList)},t.prototype.computeGeometry=function(e,n,r,o){var i=new fe;return i.addAll(e),i.addAll(n),i.addAll(r),i.isEmpty()?t.createEmptyResult(o,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(i)},t.prototype.mergeSymLabels=function(){for(var e=this._graph.getNodes().iterator();e.hasNext();)e.next().getEdges().mergeSymLabels()},t.prototype.isCovered=function(e,t){for(var n=t.iterator();n.hasNext();){var r=n.next();if(this._ptLocator.locate(e,r)!==y.EXTERIOR)return!0}return!1},t.prototype.replaceCollapsedEdges=function(){for(var e=new fe,t=this._edgeList.iterator();t.hasNext();){var n=t.next();n.isCollapsed()&&(t.remove(),e.add(n.getCollapsedEdge()))}this._edgeList.addAll(e)},t.prototype.updateNodeLabelling=function(){for(var e=this._graph.getNodes().iterator();e.hasNext();){var t=e.next(),n=t.getEdges().getLabel();t.getLabel().merge(n)}},t.prototype.getResultGeometry=function(e){return this.computeOverlay(e),this._resultGeom},t.prototype.insertUniqueEdges=function(e){for(var t=e.iterator();t.hasNext();){var n=t.next();this.insertUniqueEdge(n)}},t.prototype.computeOverlay=function(e){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var t=new fe;this._arg[0].computeSplitEdges(t),this._arg[1].computeSplitEdges(t),this.insertUniqueEdges(t),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Zr.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(e),this.cancelDuplicateResultEdges();var n=new Kt(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var r=new Qr(this,this._geomFact,this._ptLocator);this._resultLineList=r.build(e);var o=new $r(this,this._geomFact,this._ptLocator);this._resultPointList=o.build(e),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,e)},t.prototype.labelIncompleteNode=function(e,t){var n=this._ptLocator.locate(e.getCoordinate(),this._arg[t].getGeometry());e.getLabel().setLocation(t,n)},t.prototype.copyPoints=function(e){for(var t=this._arg[e].getNodeIterator();t.hasNext();){var n=t.next();this._graph.addNode(n.getCoordinate()).setLabel(e,n.getLabel().getLocation(e))}},t.prototype.findResultAreaEdges=function(e){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var r=n.next(),o=r.getLabel();o.isArea()&&!r.isInteriorAreaEdge()&&t.isResultOfOp(o.getLocation(0,Tt.RIGHT),o.getLocation(1,Tt.RIGHT),e)&&r.setInResult(!0)}},t.prototype.computeLabelsFromDepths=function(){for(var e=this._edgeList.iterator();e.hasNext();){var t=e.next(),n=t.getLabel(),r=t.getDepth();if(!r.isNull()){r.normalize();for(var o=0;o<2;o++)n.isNull(o)||!n.isArea()||r.isNull(o)||(0===r.getDelta(o)?n.toLine(o):(G.isTrue(!r.isNull(o,Tt.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(o,Tt.LEFT,r.getLocation(o,Tt.LEFT)),G.isTrue(!r.isNull(o,Tt.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(o,Tt.RIGHT,r.getLocation(o,Tt.RIGHT))))}}},t.prototype.computeLabelling=function(){for(var e=this._graph.getNodes().iterator();e.hasNext();)e.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},t.prototype.labelIncompleteNodes=function(){for(var e=this._graph.getNodes().iterator();e.hasNext();){var t=e.next(),n=t.getLabel();t.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(t,0):this.labelIncompleteNode(t,1)),t.getEdges().updateLabelling(n)}},t.prototype.isCoveredByA=function(e){return!!this.isCovered(e,this._resultPolyList)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Ao);No.overlayOp=function(e,t,n){return new No(e,t).getResultGeometry(n)},No.intersection=function(e,t){if(e.isEmpty()||t.isEmpty())return No.createEmptyResult(No.INTERSECTION,e,t,e.getFactory());if(e.isGeometryCollection()){var n=t;return Kr.map(e,{interfaces_:function(){return[Io.MapOp]},map:function(e){return e.intersection(n)}})}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),po.overlayOp(e,t,No.INTERSECTION)},No.symDifference=function(e,t){if(e.isEmpty()||t.isEmpty()){if(e.isEmpty()&&t.isEmpty())return No.createEmptyResult(No.SYMDIFFERENCE,e,t,e.getFactory());if(e.isEmpty())return t.copy();if(t.isEmpty())return e.copy()}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),po.overlayOp(e,t,No.SYMDIFFERENCE)},No.resultDimension=function(e,t,n){var r=t.getDimension(),o=n.getDimension(),i=-1;switch(e){case No.INTERSECTION:i=Math.min(r,o);break;case No.UNION:i=Math.max(r,o);break;case No.DIFFERENCE:i=r;break;case No.SYMDIFFERENCE:i=Math.max(r,o)}return i},No.createEmptyResult=function(e,t,n,r){var o=null;switch(No.resultDimension(e,t,n)){case-1:o=r.createGeometryCollection(new Array(0).fill(null));break;case 0:o=r.createPoint();break;case 1:o=r.createLineString();break;case 2:o=r.createPolygon()}return o},No.difference=function(e,t){return e.isEmpty()?No.createEmptyResult(No.DIFFERENCE,e,t,e.getFactory()):t.isEmpty()?e.copy():(e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),po.overlayOp(e,t,No.DIFFERENCE))},No.isResultOfOp=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1],n=e.getLocation(0),r=e.getLocation(1);return No.isResultOfOp(n,r,t)}if(3===arguments.length){var o=arguments[0],i=arguments[1],a=arguments[2];switch(o===y.BOUNDARY&&(o=y.INTERIOR),i===y.BOUNDARY&&(i=y.INTERIOR),a){case No.INTERSECTION:return o===y.INTERIOR&&i===y.INTERIOR;case No.UNION:return o===y.INTERIOR||i===y.INTERIOR;case No.DIFFERENCE:return o===y.INTERIOR&&i!==y.INTERIOR;case No.SYMDIFFERENCE:return o===y.INTERIOR&&i!==y.INTERIOR||o!==y.INTERIOR&&i===y.INTERIOR}return!1}},No.INTERSECTION=1,No.UNION=2,No.DIFFERENCE=3,No.SYMDIFFERENCE=4;var Do=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new Ar,this._seg=new wn;var e=arguments[0],t=arguments[1];this._g=e,this._boundaryDistanceTolerance=t,this._linework=this.extractLinework(e)};Do.prototype.isWithinToleranceOfBoundary=function(e){for(var t=this,n=0;n<this._linework.getNumGeometries();n++)for(var r=t._linework.getGeometryN(n).getCoordinateSequence(),o=0;o<r.size()-1;o++)if(r.getCoordinate(o,t._seg.p0),r.getCoordinate(o+1,t._seg.p1),t._seg.distance(e)<=t._boundaryDistanceTolerance)return!0;return!1},Do.prototype.getLocation=function(e){return this.isWithinToleranceOfBoundary(e)?y.BOUNDARY:this._ptLocator.locate(e,this._g)},Do.prototype.extractLinework=function(e){var t=new zo;e.apply(t);var n=t.getLinework(),r=wt.toLineStringArray(n);return e.getFactory().createMultiLineString(r)},Do.prototype.interfaces_=function(){return[]},Do.prototype.getClass=function(){return Do};var zo=function(){this._linework=null,this._linework=new fe};zo.prototype.getLinework=function(){return this._linework},zo.prototype.filter=function(e){if(e instanceof rt){var t=e;this._linework.add(t.getExteriorRing());for(var n=0;n<t.getNumInteriorRing();n++)this._linework.add(t.getInteriorRingN(n))}},zo.prototype.interfaces_=function(){return[Le]},zo.prototype.getClass=function(){return zo};var Ro=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var e=arguments[0];this._g=e};Ro.prototype.extractPoints=function(e,t,n){for(var r=e.getCoordinates(),o=0;o<r.length-1;o++)this.computeOffsetPoints(r[o],r[o+1],t,n)},Ro.prototype.setSidesToGenerate=function(e,t){this._doLeft=e,this._doRight=t},Ro.prototype.getPoints=function(e){for(var t=new fe,n=Mr.getLines(this._g).iterator();n.hasNext();){var r=n.next();this.extractPoints(r,e,t)}return t},Ro.prototype.computeOffsetPoints=function(e,t,n,r){var o=t.x-e.x,i=t.y-e.y,a=Math.sqrt(o*o+i*i),s=n*o/a,l=n*i/a,u=(t.x+e.x)/2,c=(t.y+e.y)/2;if(this._doLeft){var f=new p(u-l,c+s);r.add(f)}if(this._doRight){var d=new p(u+l,c-s);r.add(d)}},Ro.prototype.interfaces_=function(){return[]},Ro.prototype.getClass=function(){return Ro};var ko=function e(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=e.TOLERANCE,this._testCoords=new fe;var t=arguments[0],n=arguments[1],r=arguments[2];this._boundaryDistanceTolerance=e.computeBoundaryDistanceTolerance(t,n),this._geom=[t,n,r],this._locFinder=[new Do(this._geom[0],this._boundaryDistanceTolerance),new Do(this._geom[1],this._boundaryDistanceTolerance),new Do(this._geom[2],this._boundaryDistanceTolerance)]},Lo={TOLERANCE:{configurable:!0}};ko.prototype.reportResult=function(e,t,n){A.out.println("Overlay result invalid - A:"+y.toLocationSymbol(t[0])+" B:"+y.toLocationSymbol(t[1])+" expected:"+(n?"i":"e")+" actual:"+y.toLocationSymbol(t[2]))},ko.prototype.isValid=function(e){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(e)},ko.prototype.checkValid=function(){var e=this;if(1===arguments.length){for(var t=arguments[0],n=0;n<this._testCoords.size();n++){var r=e._testCoords.get(n);if(!e.checkValid(t,r))return e._invalidLocation=r,!1}return!0}if(2===arguments.length){var o=arguments[0],i=arguments[1];return this._location[0]=this._locFinder[0].getLocation(i),this._location[1]=this._locFinder[1].getLocation(i),this._location[2]=this._locFinder[2].getLocation(i),!!ko.hasLocation(this._location,y.BOUNDARY)||this.isValidResult(o,this._location)}},ko.prototype.addTestPts=function(e){var t=new Ro(e);this._testCoords.addAll(t.getPoints(5*this._boundaryDistanceTolerance))},ko.prototype.isValidResult=function(e,t){var n=No.isResultOfOp(t[0],t[1],e),r=!(n^t[2]===y.INTERIOR);return r||this.reportResult(e,t,n),r},ko.prototype.getInvalidLocation=function(){return this._invalidLocation},ko.prototype.interfaces_=function(){return[]},ko.prototype.getClass=function(){return ko},ko.hasLocation=function(e,t){for(var n=0;n<3;n++)if(e[n]===t)return!0;return!1},ko.computeBoundaryDistanceTolerance=function(e,t){return Math.min(no.computeSizeBasedSnapTolerance(e),no.computeSizeBasedSnapTolerance(t))},ko.isValid=function(e,t,n,r){return new ko(e,t,r).isValid(n)},Lo.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(ko,Lo);var Fo=function e(t){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=e.extractFactory(t),this._inputGeoms=t};Fo.prototype.extractElements=function(e,t){if(null===e)return null;for(var n=0;n<e.getNumGeometries();n++){var r=e.getGeometryN(n);this._skipEmpty&&r.isEmpty()||t.add(r)}},Fo.prototype.combine=function(){for(var e=new fe,t=this._inputGeoms.iterator();t.hasNext();){var n=t.next();this.extractElements(n,e)}return 0===e.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(e)},Fo.prototype.interfaces_=function(){return[]},Fo.prototype.getClass=function(){return Fo},Fo.combine=function(){if(1===arguments.length){var e=arguments[0],t=new Fo(e);return t.combine()}if(2===arguments.length){var n=arguments[0],r=arguments[1],o=new Fo(Fo.createList(n,r));return o.combine()}if(3===arguments.length){var i=arguments[0],a=arguments[1],s=arguments[2],l=new Fo(Fo.createList(i,a,s));return l.combine()}},Fo.extractFactory=function(e){return e.isEmpty()?null:e.iterator().next().getFactory()},Fo.createList=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1],n=new fe;return n.add(e),n.add(t),n}if(3===arguments.length){var r=arguments[0],o=arguments[1],i=arguments[2],a=new fe;return a.add(r),a.add(o),a.add(i),a}};var Bo=function(){this._inputPolys=null,this._geomFactory=null;var e=arguments[0];this._inputPolys=e,null===this._inputPolys&&(this._inputPolys=new fe)},Vo={STRTREE_NODE_CAPACITY:{configurable:!0}};Bo.prototype.reduceToGeometries=function(e){for(var t=new fe,n=e.iterator();n.hasNext();){var r=n.next(),o=null;m(r,ce)?o=this.unionTree(r):r instanceof K&&(o=r),t.add(o)}return t},Bo.prototype.extractByEnvelope=function(e,t,n){for(var r=new fe,o=0;o<t.getNumGeometries();o++){var i=t.getGeometryN(o);i.getEnvelopeInternal().intersects(e)?r.add(i):n.add(i)}return this._geomFactory.buildGeometry(r)},Bo.prototype.unionOptimized=function(e,t){var n=e.getEnvelopeInternal(),r=t.getEnvelopeInternal();if(!n.intersects(r))return Fo.combine(e,t);if(e.getNumGeometries()<=1&&t.getNumGeometries()<=1)return this.unionActual(e,t);var o=n.intersection(r);return this.unionUsingEnvelopeIntersection(e,t,o)},Bo.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var e=new fn(Bo.STRTREE_NODE_CAPACITY),t=this._inputPolys.iterator();t.hasNext();){var n=t.next();e.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var r=e.itemsTree();return this.unionTree(r)},Bo.prototype.binaryUnion=function(){if(1===arguments.length){var e=arguments[0];return this.binaryUnion(e,0,e.size())}if(3===arguments.length){var t=arguments[0],n=arguments[1],r=arguments[2];if(r-n<=1){var o=Bo.getGeometry(t,n);return this.unionSafe(o,null)}if(r-n==2)return this.unionSafe(Bo.getGeometry(t,n),Bo.getGeometry(t,n+1));var i=Math.trunc((r+n)/2),a=this.binaryUnion(t,n,i),s=this.binaryUnion(t,i,r);return this.unionSafe(a,s)}},Bo.prototype.repeatedUnion=function(e){for(var t=null,n=e.iterator();n.hasNext();){var r=n.next();t=null===t?r.copy():t.union(r)}return t},Bo.prototype.unionSafe=function(e,t){return null===e&&null===t?null:null===e?t.copy():null===t?e.copy():this.unionOptimized(e,t)},Bo.prototype.unionActual=function(e,t){return Bo.restrictToPolygons(e.union(t))},Bo.prototype.unionTree=function(e){var t=this.reduceToGeometries(e);return this.binaryUnion(t)},Bo.prototype.unionUsingEnvelopeIntersection=function(e,t,n){var r=new fe,o=this.extractByEnvelope(n,e,r),i=this.extractByEnvelope(n,t,r),a=this.unionActual(o,i);return r.add(a),Fo.combine(r)},Bo.prototype.bufferUnion=function(){if(1===arguments.length){var e=arguments[0],t=e.get(0).getFactory(),n=t.buildGeometry(e),r=n.buffer(0);return r}if(2===arguments.length){var o=arguments[0],i=arguments[1],a=o.getFactory(),s=a.createGeometryCollection([o,i]),l=s.buffer(0);return l}},Bo.prototype.interfaces_=function(){return[]},Bo.prototype.getClass=function(){return Bo},Bo.restrictToPolygons=function(e){if(m(e,nt))return e;var t=Tr.getPolygons(e);return 1===t.size()?t.get(0):e.getFactory().createMultiPolygon(wt.toPolygonArray(t))},Bo.getGeometry=function(e,t){return t>=e.size()?null:e.get(t)},Bo.union=function(e){return new Bo(e).union()},Vo.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(Bo,Vo);var Go=function(){};Go.prototype.interfaces_=function(){return[]},Go.prototype.getClass=function(){return Go},Go.union=function(e,t){if(e.isEmpty()||t.isEmpty()){if(e.isEmpty()&&t.isEmpty())return No.createEmptyResult(No.UNION,e,t,e.getFactory());if(e.isEmpty())return t.copy();if(t.isEmpty())return e.copy()}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),po.overlayOp(e,t,No.UNION)}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.j=319;var r=n(24567);module.exports=r})();