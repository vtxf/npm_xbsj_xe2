/*! For license information please see xe2-base-objects.js.LICENSE.txt */
var XE2;(()=>{var t={25913:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(51208)),i=r(n(93737)),s=r(n(31013)),a=n(84102),u=n(10611);e.default=function(t,e,n){void 0===n&&(n={});for(var r=u.getGeom(t).coordinates,c=0,l=0;l<r.length&&!(e>=c&&l===r.length-1);l++){if(c>=e){var p=e-c;if(p){var f=o.default(r[l],r[l-1])-180;return i.default(r[l],p,f,n)}return a.point(r[l])}c+=s.default(r[l],r[l+1],n)}return a.point(r[r.length-1])}},8517:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(51208)),i=n(84102),s=r(n(16912));e.default=function(t,e,n,r){if(void 0===r&&(r={}),!i.isObject(r))throw new Error("options is invalid");if(!t)throw new Error("startPoint is required");if(!e)throw new Error("midPoint is required");if(!n)throw new Error("endPoint is required");var a=t,u=e,c=n,l=i.bearingToAzimuth(!0!==r.mercator?o.default(a,u):s.default(a,u)),p=i.bearingToAzimuth(!0!==r.mercator?o.default(c,u):s.default(c,u)),f=Math.abs(l-p);return!0===r.explementary?360-f:f}},41070:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(31540),o=6378137;function i(t){var e=0;if(t&&t.length>0){e+=Math.abs(s(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(s(t[n]))}return e}function s(t){var e,n,r,i,s,u,c=0,l=t.length;if(l>2){for(u=0;u<l;u++)u===l-2?(r=l-2,i=l-1,s=0):u===l-1?(r=l-1,i=0,s=1):(r=u,i=u+1,s=u+2),e=t[r],n=t[i],c+=(a(t[s][0])-a(e[0]))*Math.sin(a(n[1]));c=c*o*o/2}return c}function a(t){return t*Math.PI/180}e.default=function(t){return r.geomReduce(t,(function(t,e){return t+function(t){var e,n=0;switch(t.type){case"Polygon":return i(t.coordinates);case"MultiPolygon":for(e=0;e<t.coordinates.length;e++)n+=i(t.coordinates[e]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(e)}),0)}},30173:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(84102),o=n(10611),i=n(41383);function s(t,e){for(var n=[],r=0,o=t;r<o.length;r++){var s=o[r],a=i.polygonclip(s,e);a.length>0&&(a[0][0]===a[a.length-1][0]&&a[0][1]===a[a.length-1][1]||a.push(a[0]),a.length>=4&&n.push(a))}return n}e.default=function(t,e){var n=o.getGeom(t),a=n.type,u="Feature"===t.type?t.properties:{},c=n.coordinates;switch(a){case"LineString":case"MultiLineString":var l=[];return"LineString"===a&&(c=[c]),c.forEach((function(t){i.lineclip(t,e,l)})),1===l.length?r.lineString(l[0],u):r.multiLineString(l,u);case"Polygon":return r.polygon(s(c,e),u);case"MultiPolygon":return r.multiPolygon(c.map((function(t){return s(t,e)})),u);default:throw new Error("geometry "+a+" not supported")}}},41383:(t,e)=>{"use strict";function n(t,e,n,r){return 8&n?[t[0]+(e[0]-t[0])*(r[3]-t[1])/(e[1]-t[1]),r[3]]:4&n?[t[0]+(e[0]-t[0])*(r[1]-t[1])/(e[1]-t[1]),r[1]]:2&n?[r[2],t[1]+(e[1]-t[1])*(r[2]-t[0])/(e[0]-t[0])]:1&n?[r[0],t[1]+(e[1]-t[1])*(r[0]-t[0])/(e[0]-t[0])]:null}function r(t,e){var n=0;return t[0]<e[0]?n|=1:t[0]>e[2]&&(n|=2),t[1]<e[1]?n|=4:t[1]>e[3]&&(n|=8),n}Object.defineProperty(e,"__esModule",{value:!0}),e.lineclip=function(t,e,o){var i,s,a,u,c,l=t.length,p=r(t[0],e),f=[];for(o||(o=[]),i=1;i<l;i++){for(u=t[i-1],s=a=r(c=t[i],e);;){if(!(p|s)){f.push(u),s!==a?(f.push(c),i<l-1&&(o.push(f),f=[])):i===l-1&&f.push(c);break}if(p&s)break;p?p=r(u=n(u,c,p,e),e):s=r(c=n(u,c,s,e),e)}p=a}return f.length&&o.push(f),o},e.polygonclip=function(t,e){var o,i,s,a,u,c,l;for(i=1;i<=8;i*=2){for(o=[],a=!(r(s=t[t.length-1],e)&i),u=0;u<t.length;u++)(l=!(r(c=t[u],e)&i))!==a&&o.push(n(s,c,i,e)),l&&o.push(c),s=c,a=l;if(!(t=o).length)break}return o}},13652:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(84102);e.default=function(t,e){void 0===e&&(e={});var n=Number(t[0]),o=Number(t[1]),i=Number(t[2]),s=Number(t[3]);if(6===t.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var a=[n,o],u=[n,s],c=[i,s],l=[i,o];return r.polygon([[a,l,c,u,a]],e.properties,{bbox:t,id:e.id})}},9705:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(31540);function o(t){var e=[1/0,1/0,-1/0,-1/0];return r.coordEach(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}o.default=o,e.default=o},51208:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(84102),o=n(10611);e.default=function t(e,n,i){if(void 0===i&&(i={}),!0===i.final)return function(e,n){var r=t(n,e);return(r+180)%360}(e,n);var s=o.getCoord(e),a=o.getCoord(n),u=r.degreesToRadians(s[0]),c=r.degreesToRadians(a[0]),l=r.degreesToRadians(s[1]),p=r.degreesToRadians(a[1]),f=Math.sin(c-u)*Math.cos(p),h=Math.cos(l)*Math.sin(p)-Math.sin(l)*Math.cos(p)*Math.cos(c-u);return r.radiansToDegrees(Math.atan2(f,h))}},97478:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(84102),i=n(10611),s=r(n(50915));e.default=function(t,e){void 0===e&&(e={});for(var n=e.resolution||1e4,r=e.sharpness||.85,a=[],u=i.getGeom(t).coordinates.map((function(t){return{x:t[0],y:t[1]}})),c=new s.default({duration:n,points:u,sharpness:r}),l=function(t){var e=c.pos(t);Math.floor(t/100)%2==0&&a.push([e.x,e.y])},p=0;p<c.duration;p+=10)l(p);return l(c.duration),o.lineString(a,e.properties)}},50915:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(e=0;e<this.length-1;e++){var n=this.points[e],r=this.points[e+1];this.centers.push({x:(n.x+r.x)/2,y:(n.y+r.y)/2,z:(n.z+r.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),e=0;e<this.centers.length-1;e++){var o=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,i=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,s=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+o),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+i),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+s)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+o),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+i),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+s)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}return t.prototype.cacheSteps=function(t){var e=[],n=this.pos(0);e.push(0);for(var r=0;r<this.duration;r+=10){var o=this.pos(r);Math.sqrt((o.x-n.x)*(o.x-n.x)+(o.y-n.y)*(o.y-n.y)+(o.z-n.z)*(o.z-n.z))>t&&(e.push(r),n=o)}return e},t.prototype.vector=function(t){var e=this.pos(t+10),n=this.pos(t-10);return{angle:180*Math.atan2(e.y-n.y,e.x-n.x)/3.14,speed:Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y)+(n.z-e.z)*(n.z-e.z))}},t.prototype.pos=function(t){var e=t-this.delay;e<0&&(e=0),e>this.duration&&(e=this.duration-1);var n=e/this.duration;if(n>=1)return this.points[this.length-1];var r=Math.floor((this.points.length-1)*n);return function(t,e,n,r,o){var i=function(t){var e=t*t;return[e*t,3*e*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}(t);return{x:o.x*i[0]+r.x*i[1]+n.x*i[2]+e.x*i[3],y:o.y*i[0]+r.y*i[1]+n.y*i[2]+e.y*i[3],z:o.z*i[0]+r.z*i[1]+n.z*i[2]+e.z*i[3]}}((this.length-1)*n-r,this.points[r],this.controls[r][1],this.controls[r+1][0],this.points[r+1])},t}();e.default=n},3809:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(10611);e.default=function(t){for(var e,n,o=r.getCoords(t),i=0,s=1;s<o.length;)e=n||o[0],i+=((n=o[s])[0]-e[0])*(n[1]+e[1]),s++;return i>0}},72584:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(9705)),i=r(n(88147)),s=r(n(72793)),a=n(10611);function u(t,e){var n,r=!1;for(n=0;n<t.coordinates.length;n++)if(g(t.coordinates[n],e.coordinates)){r=!0;break}return r}function c(t,e){for(var n=0,r=e.coordinates;n<r.length;n++){for(var o=r[n],i=!1,s=0,a=t.coordinates;s<a.length;s++)if(g(o,a[s])){i=!0;break}if(!i)return!1}return!0}function l(t,e){for(var n=!1,r=0,o=e.coordinates;r<o.length;r++){var i=o[r];if(s.default(i,t,{ignoreEndVertices:!0})&&(n=!0),!s.default(i,t))return!1}return!!n}function p(t,e){for(var n=0,r=e.coordinates;n<r.length;n++){var o=r[n];if(!i.default(o,t,{ignoreBoundary:!0}))return!1}return!0}function f(t,e){for(var n=!1,r=0,o=e.coordinates;r<o.length;r++){var i=o[r];if(s.default({type:"Point",coordinates:i},t,{ignoreEndVertices:!0})&&(n=!0),!s.default({type:"Point",coordinates:i},t,{ignoreEndVertices:!1}))return!1}return n}function h(t,e){var n=!1,r=0;if(!y(o.default(t),o.default(e)))return!1;for(;r<e.coordinates.length-1;r++){var s=v(e.coordinates[r],e.coordinates[r+1]);if(i.default({type:"Point",coordinates:s},t,{ignoreBoundary:!0})){n=!0;break}}return n}function d(t,e){if("Feature"===t.type&&null===t.geometry)return!1;if("Feature"===e.type&&null===e.geometry)return!1;if(!y(o.default(t),o.default(e)))return!1;for(var n=0,r=a.getGeom(e).coordinates;n<r.length;n++)for(var s=0,u=r[n];s<u.length;s++){var c=u[s];if(!i.default(c,t))return!1}return!0}function y(t,e){return!(t[0]>e[0]||t[2]<e[2]||t[1]>e[1]||t[3]<e[3])}function g(t,e){return t[0]===e[0]&&t[1]===e[1]}function v(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}e.default=function(t,e){var n=a.getGeom(t),r=a.getGeom(e),o=n.type,y=r.type,v=n.coordinates,b=r.coordinates;switch(o){case"Point":if("Point"===y)return g(v,b);throw new Error("feature2 "+y+" geometry not supported");case"MultiPoint":switch(y){case"Point":return u(n,r);case"MultiPoint":return c(n,r);default:throw new Error("feature2 "+y+" geometry not supported")}case"LineString":switch(y){case"Point":return s.default(r,n,{ignoreEndVertices:!0});case"LineString":return f(n,r);case"MultiPoint":return l(n,r);default:throw new Error("feature2 "+y+" geometry not supported")}case"Polygon":switch(y){case"Point":return i.default(r,n,{ignoreBoundary:!0});case"LineString":return h(n,r);case"Polygon":return d(n,r);case"MultiPoint":return p(n,r);default:throw new Error("feature2 "+y+" geometry not supported")}default:throw new Error("feature1 "+o+" geometry not supported")}},e.isPointInMultiPoint=u,e.isMultiPointInMultiPoint=c,e.isMultiPointOnLine=l,e.isMultiPointInPoly=p,e.isLineOnLine=f,e.isLineInPoly=h,e.isPolyInPoly=d,e.doBBoxOverlap=y,e.compareCoords=g,e.getMidpoint=v},17656:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(73663)),i=n(97383),s=r(n(88147)),a=n(10611),u=n(84102);function c(t,e){for(var n=!1,r=!1,o=t.coordinates.length,i=0;i<o&&!n&&!r;){for(var s=0;s<e.coordinates.length-1;s++){var a=!0;0!==s&&s!==e.coordinates.length-2||(a=!1),f(e.coordinates[s],e.coordinates[s+1],t.coordinates[i],a)?n=!0:r=!0}i++}return n&&r}function l(t,e){var n=i.polygonToLine(e);return o.default(t,n).features.length>0}function p(t,e){for(var n=!1,r=!1,o=t.coordinates.length,i=0;i<o&&(!n||!r);i++)s.default(u.point(t.coordinates[i]),e)?n=!0:r=!0;return r&&n}function f(t,e,n,r){var o=n[0]-t[0],i=n[1]-t[1],s=e[0]-t[0],a=e[1]-t[1];return 0==o*a-i*s&&(r?Math.abs(s)>=Math.abs(a)?s>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:a>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1]:Math.abs(s)>=Math.abs(a)?s>0?t[0]<n[0]&&n[0]<e[0]:e[0]<n[0]&&n[0]<t[0]:a>0?t[1]<n[1]&&n[1]<e[1]:e[1]<n[1]&&n[1]<t[1])}e.default=function(t,e){var n=a.getGeom(t),r=a.getGeom(e),i=n.type,s=r.type;switch(i){case"MultiPoint":switch(s){case"LineString":return c(n,r);case"Polygon":return p(n,r);default:throw new Error("feature2 "+s+" geometry not supported")}case"LineString":switch(s){case"MultiPoint":return c(r,n);case"LineString":return function(t,e){if(o.default(t,e).features.length>0)for(var n=0;n<t.coordinates.length-1;n++)for(var r=0;r<e.coordinates.length-1;r++){var i=!0;if(0!==r&&r!==e.coordinates.length-2||(i=!1),f(t.coordinates[n],t.coordinates[n+1],e.coordinates[r],i))return!0}return!1}(n,r);case"Polygon":return l(n,r);default:throw new Error("feature2 "+s+" geometry not supported")}case"Polygon":switch(s){case"MultiPoint":return p(r,n);case"LineString":return l(r,n);default:throw new Error("feature2 "+s+" geometry not supported")}default:throw new Error("feature1 "+i+" geometry not supported")}}},55883:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(88147)),i=r(n(73663)),s=n(31540),a=r(n(97383));function u(t,e){for(var n=0;n<t.coordinates.length-1;n++)if(l(t.coordinates[n],t.coordinates[n+1],e.coordinates))return!0;return!1}function c(t,e){for(var n=0,r=e.coordinates;n<r.length;n++){var s=r[n];if(o.default(s,t))return!0}return i.default(e,a.default(t)).features.length>0}function l(t,e,n){var r=n[0]-t[0],o=n[1]-t[1],i=e[0]-t[0],s=e[1]-t[1];return 0==r*s-o*i&&(Math.abs(i)>=Math.abs(s)?i>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:s>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1])}e.default=function(t,e){var n=!0;return s.flattenEach(t,(function(t){s.flattenEach(e,(function(e){if(!1===n)return!1;n=function(t,e){switch(t.type){case"Point":switch(e.type){case"Point":return s=t.coordinates,l=e.coordinates,!(s[0]===l[0]&&s[1]===l[1]);case"LineString":return!u(e,t);case"Polygon":return!o.default(t,e)}break;case"LineString":switch(e.type){case"Point":return!u(t,e);case"LineString":return n=t,r=e,!(i.default(n,r).features.length>0);case"Polygon":return!c(e,t)}break;case"Polygon":switch(e.type){case"Point":return!o.default(e,t);case"LineString":return!c(t,e);case"Polygon":return!function(t,e){for(var n=0,r=t.coordinates[0];n<r.length;n++){var s=r[n];if(o.default(s,e))return!0}for(var u=0,c=e.coordinates[0];u<c.length;u++){var l=c[u];if(o.default(l,t))return!0}return i.default(a.default(t),a.default(e)).features.length>0}(e,t)}}var n,r,s,l;return!1}(t.geometry,e.geometry)}))})),n}},39482:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(29657)),i=r(n(71435)),s=n(10611);e.default=function(t,e){return s.getGeom(t).type===s.getGeom(e).type&&new o.default({precision:6}).compare(i.default(t),i.default(e))}},84255:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(55883)),i=n(31540);e.default=function(t,e){var n=!1;return i.flattenEach(t,(function(t){i.flattenEach(e,(function(e){if(!0===n)return!0;n=!o.default(t.geometry,e.geometry)}))})),n}},57612:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(31540),i=n(10611),s=r(n(90273)),a=r(n(73663)),u=r(n(29657));e.default=function(t,e){var n=i.getGeom(t),r=i.getGeom(e),c=n.type,l=r.type;if("MultiPoint"===c&&"MultiPoint"!==l||("LineString"===c||"MultiLineString"===c)&&"LineString"!==l&&"MultiLineString"!==l||("Polygon"===c||"MultiPolygon"===c)&&"Polygon"!==l&&"MultiPolygon"!==l)throw new Error("features must be of the same type");if("Point"===c)throw new Error("Point geometry not supported");if(new u.default({precision:6}).compare(t,e))return!1;var p=0;switch(c){case"MultiPoint":for(var f=0;f<n.coordinates.length;f++)for(var h=0;h<r.coordinates.length;h++){var d=n.coordinates[f],y=r.coordinates[h];if(d[0]===y[0]&&d[1]===y[1])return!0}return!1;case"LineString":case"MultiLineString":o.segmentEach(t,(function(t){o.segmentEach(e,(function(e){s.default(t,e).features.length&&p++}))}));break;case"Polygon":case"MultiPolygon":o.segmentEach(t,(function(t){o.segmentEach(e,(function(e){a.default(t,e).features.length&&p++}))}))}return p>0}},24840:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(71435)),i=r(n(54590)),s=r(n(16912)),a=n(84102);function u(t,e){return a.bearingToAzimuth(s.default(t[0],t[1]))===a.bearingToAzimuth(s.default(e[0],e[1]))}function c(t,e){if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error("Invalid GeoJSON object for "+e)}e.default=function(t,e){if(!t)throw new Error("line1 is required");if(!e)throw new Error("line2 is required");if("LineString"!==c(t,"line1"))throw new Error("line1 must be a LineString");if("LineString"!==c(e,"line2"))throw new Error("line2 must be a LineString");for(var n=i.default(o.default(t)).features,r=i.default(o.default(e)).features,s=0;s<n.length;s++){var a=n[s].geometry.coordinates;if(!r[s])break;if(!u(a,r[s].geometry.coordinates))return!1}return!0}},88147:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(10611);function o(t,e,n){var r=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var o=0,i=e.length-1;o<e.length;i=o++){var s=e[o][0],a=e[o][1],u=e[i][0],c=e[i][1];if(t[1]*(s-u)+a*(u-t[0])+c*(t[0]-s)==0&&(s-t[0])*(u-t[0])<=0&&(a-t[1])*(c-t[1])<=0)return!n;a>t[1]!=c>t[1]&&t[0]<(u-s)*(t[1]-a)/(c-a)+s&&(r=!r)}return r}e.default=function(t,e,n){if(void 0===n&&(n={}),!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var i=r.getCoord(t),s=r.getGeom(e),a=s.type,u=e.bbox,c=s.coordinates;if(u&&!1===function(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}(i,u))return!1;"Polygon"===a&&(c=[c]);for(var l=!1,p=0;p<c.length&&!l;p++)if(o(i,c[p][0],n.ignoreBoundary)){for(var f=!1,h=1;h<c[p].length&&!f;)o(i,c[p][h],!n.ignoreBoundary)&&(f=!0),h++;f||(l=!0)}return l}},72793:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(10611);function o(t,e,n,r,o){var i=n[0],s=n[1],a=t[0],u=t[1],c=e[0],l=e[1],p=c-a,f=l-u,h=(n[0]-a)*f-(n[1]-u)*p;if(null!==o){if(Math.abs(h)>o)return!1}else if(0!==h)return!1;return r?"start"===r?Math.abs(p)>=Math.abs(f)?p>0?a<i&&i<=c:c<=i&&i<a:f>0?u<s&&s<=l:l<=s&&s<u:"end"===r?Math.abs(p)>=Math.abs(f)?p>0?a<=i&&i<c:c<i&&i<=a:f>0?u<=s&&s<l:l<s&&s<=u:"both"===r&&(Math.abs(p)>=Math.abs(f)?p>0?a<i&&i<c:c<i&&i<a:f>0?u<s&&s<l:l<s&&s<u):Math.abs(p)>=Math.abs(f)?p>0?a<=i&&i<=c:c<=i&&i<=a:f>0?u<=s&&s<=l:l<=s&&s<=u}e.default=function(t,e,n){void 0===n&&(n={});for(var i=r.getCoord(t),s=r.getCoords(e),a=0;a<s.length-1;a++){var u=!1;if(n.ignoreEndVertices&&(0===a&&(u="start"),a===s.length-2&&(u="end"),0===a&&a+1===s.length-1&&(u="both")),o(s[a],s[a+1],i,u,void 0===n.epsilon?null:n.epsilon))return!0}return!1}},45184:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(9705)),i=r(n(72793)),s=r(n(88147)),a=n(10611);function u(t,e){return!(t[0]>e[0]||t[2]<e[2]||t[1]>e[1]||t[3]<e[3])}function c(t,e){return t[0]===e[0]&&t[1]===e[1]}e.default=function(t,e){var n=a.getGeom(t),r=a.getGeom(e),l=n.type,p=r.type;switch(l){case"Point":switch(p){case"MultiPoint":return function(t,e){var n,r=!1;for(n=0;n<e.coordinates.length;n++)if(c(e.coordinates[n],t.coordinates)){r=!0;break}return r}(n,r);case"LineString":return i.default(n,r,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return s.default(n,r,{ignoreBoundary:!0});default:throw new Error("feature2 "+p+" geometry not supported")}case"MultiPoint":switch(p){case"MultiPoint":return function(t,e){for(var n=0;n<t.coordinates.length;n++){for(var r=!1,o=0;o<e.coordinates.length;o++)c(t.coordinates[n],e.coordinates[o])&&(r=!0);if(!r)return!1}return!0}(n,r);case"LineString":return function(t,e){for(var n=!1,r=0;r<t.coordinates.length;r++){if(!i.default(t.coordinates[r],e))return!1;n||(n=i.default(t.coordinates[r],e,{ignoreEndVertices:!0}))}return n}(n,r);case"Polygon":case"MultiPolygon":return function(t,e){for(var n=!0,r=!1,o=0;o<t.coordinates.length;o++){if(!(r=s.default(t.coordinates[1],e))){n=!1;break}r=s.default(t.coordinates[1],e,{ignoreBoundary:!0})}return n&&r}(n,r);default:throw new Error("feature2 "+p+" geometry not supported")}case"LineString":switch(p){case"LineString":return function(t,e){for(var n=0;n<t.coordinates.length;n++)if(!i.default(t.coordinates[n],e))return!1;return!0}(n,r);case"Polygon":case"MultiPolygon":return function(t,e){var n,r;if(!u(o.default(e),o.default(t)))return!1;for(var i=!1,a=0;a<t.coordinates.length-1;a++){if(!s.default(t.coordinates[a],e))return!1;if(i||(i=s.default(t.coordinates[a],e,{ignoreBoundary:!0})),!i){var c=(n=t.coordinates[a],r=t.coordinates[a+1],[(n[0]+r[0])/2,(n[1]+r[1])/2]);i=s.default(c,e,{ignoreBoundary:!0})}}return i}(n,r);default:throw new Error("feature2 "+p+" geometry not supported")}case"Polygon":switch(p){case"Polygon":case"MultiPolygon":return function(t,e){var n=o.default(t);if(!u(o.default(e),n))return!1;for(var r=0;r<t.coordinates[0].length;r++)if(!s.default(t.coordinates[0][r],e))return!1;return!0}(n,r);default:throw new Error("feature2 "+p+" geometry not supported")}default:throw new Error("feature1 "+l+" geometry not supported")}}},35419:(t,e,n)=>{"use strict";var r=n(78230),o=n(20675),i=n(31540),s=n(41688),a=n(84102);function u(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var c=u(r);function l(t,e,n){var r=(n=n||{}).units||"kilometers",o=n.steps||8;if(!t)throw new Error("geojson is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof o)throw new Error("steps must be an number");if(void 0===e)throw new Error("radius is required");if(o<=0)throw new Error("steps must be greater than 0");var s=[];switch(t.type){case"GeometryCollection":return i.geomEach(t,(function(t){var n=p(t,e,r,o);n&&s.push(n)})),a.featureCollection(s);case"FeatureCollection":return i.featureEach(t,(function(t){var n=p(t,e,r,o);n&&i.featureEach(n,(function(t){t&&s.push(t)}))})),a.featureCollection(s)}return p(t,e,r,o)}function p(t,e,n,r){var u=t.properties||{},l="Feature"===t.type?t.geometry:t;if("GeometryCollection"===l.type){var y=[];return i.geomEach(t,(function(t){var o=p(t,e,n,r);o&&y.push(o)})),a.featureCollection(y)}var g=function(t){var e=c.default(t).geometry.coordinates,n=[-e[0],-e[1]];return s.geoAzimuthalEquidistant().rotate(n).scale(a.earthRadius)}(l),v={type:l.type,coordinates:h(l.coordinates,g)},b=(new o.GeoJSONReader).read(v),m=a.radiansToLength(a.lengthToRadians(e,n),"meters"),_=o.BufferOp.bufferOp(b,m,r);if(!f((_=(new o.GeoJSONWriter).write(_)).coordinates)){var P={type:_.type,coordinates:d(_.coordinates,g)};return a.feature(P,u)}}function f(t){return Array.isArray(t[0])?f(t[0]):isNaN(t[0])}function h(t,e){return"object"!=typeof t[0]?e(t):t.map((function(t){return h(t,e)}))}function d(t,e){return"object"!=typeof t[0]?e.invert(t):t.map((function(t){return d(t,e)}))}t.exports=l,t.exports.default=l},76320:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(31540),o=n(84102);e.default=function(t,e){void 0===e&&(e={});var n=0,i=0,s=0;return r.geomEach(t,(function(t,a,u){var c=e.weight?null==u?void 0:u[e.weight]:void 0;if(c=null==c?1:c,!o.isNumber(c))throw new Error("weight value must be a number for feature index "+a);(c=Number(c))>0&&r.coordEach(t,(function(t){n+=t[0]*c,i+=t[1]*c,s+=c}))})),o.point([n/s,i/s],e.properties,e)}},12935:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(76320)),i=r(n(31013)),s=r(n(66338)),a=n(84102),u=n(31540);function c(t,e,n,r,o){var s=r.tolerance||.001,l=0,p=0,f=0,h=0;if(u.featureEach(n,(function(e){var n,r=null===(n=e.properties)||void 0===n?void 0:n.weight,o=null==r?1:r;if(o=Number(o),!a.isNumber(o))throw new Error("weight value must be a number");if(o>0){h+=1;var s=o*i.default(e,t);0===s&&(s=1);var u=o/s;l+=e.geometry.coordinates[0]*u,p+=e.geometry.coordinates[1]*u,f+=u}})),h<1)throw new Error("no features to measure");var d=l/f,y=p/f;return 1===h||0===o||Math.abs(d-e[0])<s&&Math.abs(y-e[1])<s?a.point([d,y],{medianCandidates:r.medianCandidates}):(r.medianCandidates.push([d,y]),c([d,y],t,n,r,o-1))}e.default=function(t,e){if(void 0===e&&(e={}),e=e||{},!a.isObject(e))throw new Error("options is invalid");var n=e.counter||10;if(!a.isNumber(n))throw new Error("counter must be a number");var r=e.weight,i=o.default(t,{weight:e.weight}),l=a.featureCollection([]);u.featureEach(t,(function(t){var e;l.features.push(s.default(t,{properties:{weight:null===(e=t.properties)||void 0===e?void 0:e[r]}}))}));var p={tolerance:e.tolerance,medianCandidates:[]};return c(i.geometry.coordinates,[0,0],l,p,n)}},25084:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(77382)),i=r(n(66338)),s=n(84102),a=n(10611),u=n(31540);e.default=function t(e,n){switch(void 0===n&&(n={}),a.getType(e)){case"Point":return s.point(a.getCoord(e),n.properties);case"Polygon":var r=[];u.coordEach(e,(function(t){r.push(t)}));var c,l,p,f,h,d,y,g,v=i.default(e,{properties:n.properties}),b=v.geometry.coordinates,m=0,_=0,P=0,w=r.map((function(t){return[t[0]-b[0],t[1]-b[1]]}));for(c=0;c<r.length-1;c++)f=(l=w[c])[0],d=l[1],h=(p=w[c+1])[0],P+=g=f*(y=p[1])-h*d,m+=(f+h)*g,_+=(d+y)*g;if(0===P)return v;var E=1/(.5*P*6);return s.point([b[0]+E*m,b[1]+E*_],n.properties);default:var x=o.default(e);return x?t(x,{properties:n.properties}):i.default(e,{properties:n.properties})}}},78230:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(9705)),i=n(84102);e.default=function(t,e){void 0===e&&(e={});var n=o.default(t),r=(n[0]+n[2])/2,s=(n[1]+n[3])/2;return i.point([r,s],e.properties,e)}},66338:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(31540),o=n(84102);e.default=function(t,e){void 0===e&&(e={});var n=0,i=0,s=0;return r.coordEach(t,(function(t){n+=t[0],i+=t[1],s++}),!0),o.point([n/s,i/s],e.properties)}},90265:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(93737)),i=n(84102);e.default=function(t,e,n){void 0===n&&(n={});for(var r=n.steps||64,s=n.properties?n.properties:!Array.isArray(t)&&"Feature"===t.type&&t.properties?t.properties:{},a=[],u=0;u<r;u++)a.push(o.default(t,e,-360*u/r,n).geometry.coordinates);return a.push(a[0]),i.polygon([a],s)}},71435:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(84102),o=n(10611);function i(t){var e=o.getCoords(t);if(2===e.length&&!s(e[0],e[1]))return e;var n=[],r=e.length-1,i=n.length;n.push(e[0]);for(var u=1;u<r;u++){var c=n[n.length-1];e[u][0]===c[0]&&e[u][1]===c[1]||(n.push(e[u]),(i=n.length)>2&&a(n[i-3],n[i-1],n[i-2])&&n.splice(n.length-2,1))}if(n.push(e[e.length-1]),i=n.length,s(e[0],e[e.length-1])&&i<4)throw new Error("invalid polygon");return a(n[i-3],n[i-1],n[i-2])&&n.splice(n.length-2,1),n}function s(t,e){return t[0]===e[0]&&t[1]===e[1]}function a(t,e,n){var r=n[0],o=n[1],i=t[0],s=t[1],a=e[0],u=e[1],c=a-i,l=u-s;return 0==(r-i)*l-(o-s)*c&&(Math.abs(c)>=Math.abs(l)?c>0?i<=r&&r<=a:a<=r&&r<=i:l>0?s<=o&&o<=u:u<=o&&o<=s)}e.default=function(t,e){void 0===e&&(e={});var n="object"==typeof e?e.mutate:e;if(!t)throw new Error("geojson is required");var s=o.getType(t),a=[];switch(s){case"LineString":a=i(t);break;case"MultiLineString":case"Polygon":o.getCoords(t).forEach((function(t){a.push(i(t))}));break;case"MultiPolygon":o.getCoords(t).forEach((function(t){var e=[];t.forEach((function(t){e.push(i(t))})),a.push(e)}));break;case"Point":return t;case"MultiPoint":var u={};o.getCoords(t).forEach((function(t){var e=t.join("-");Object.prototype.hasOwnProperty.call(u,e)||(a.push(t),u[e]=!0)}));break;default:throw new Error(s+" geometry not supported")}return t.coordinates?!0===n?(t.coordinates=a,t):{type:s,coordinates:a}:!0===n?(t.geometry.coordinates=a,t):r.feature({type:s,coordinates:a},t.properties,{bbox:t.bbox,id:t.id})}},76565:(t,e)=>{"use strict";function n(t){var e={type:"Feature"};return Object.keys(t).forEach((function(n){switch(n){case"type":case"properties":case"geometry":return;default:e[n]=t[n]}})),e.properties=r(t.properties),e.geometry=o(t.geometry),e}function r(t){var e={};return t?(Object.keys(t).forEach((function(n){var o=t[n];"object"==typeof o?null===o?e[n]=null:Array.isArray(o)?e[n]=o.map((function(t){return t})):e[n]=r(o):e[n]=o})),e):e}function o(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),"GeometryCollection"===t.type?(e.geometries=t.geometries.map((function(t){return o(t)})),e):(e.coordinates=i(t.coordinates),e)}function i(t){var e=t;return"object"!=typeof e[0]?e.slice():e.map((function(t){return i(t)}))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return n(t);case"FeatureCollection":return function(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach((function(n){switch(n){case"type":case"features":return;default:e[n]=t[n]}})),e.features=t.features.map((function(t){return n(t)})),e}(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return o(t);default:throw new Error("unknown GeoJSON type")}}},61495:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(76565)),i=r(n(31013)),s=n(31540),a=n(84102),u=r(n(52606));e.default=function(t,e,n){void 0===n&&(n={}),!0!==n.mutate&&(t=o.default(t)),n.minPoints=n.minPoints||3;var r=new u.default.DBSCAN,c=r.run(s.coordAll(t),a.convertLength(e,n.units),n.minPoints,i.default),l=-1;return c.forEach((function(e){l++,e.forEach((function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.cluster=l,n.properties.dbscan="core"}))})),r.noise.forEach((function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.cluster?n.properties.dbscan="edge":n.properties.dbscan="noise"})),t}},56398:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(76565)),i=n(31540),s=r(n(21160));e.default=function(t,e){void 0===e&&(e={});var n=t.features.length;e.numberOfClusters=e.numberOfClusters||Math.round(Math.sqrt(n/2)),e.numberOfClusters>n&&(e.numberOfClusters=n),!0!==e.mutate&&(t=o.default(t));var r=i.coordAll(t),a=r.slice(0,e.numberOfClusters),u=s.default(r,e.numberOfClusters,a),c={};return u.centroids.forEach((function(t,e){c[e]=t})),i.featureEach(t,(function(t,e){var n=u.idxs[e];t.properties.cluster=n,t.properties.centroid=c[n]})),t}},53140:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(31540),o=n(84102);function i(t,e,n){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(null==e)throw new Error("property is required");for(var r=s(t,e),i=Object.keys(r),a=0;a<i.length;a++){for(var u=i[a],c=r[u],l=[],p=0;p<c.length;p++)l.push(t.features[c[p]]);n(o.featureCollection(l),u,a)}}function s(t,e){var n={};return r.featureEach(t,(function(t,r){var o=t.properties||{};if(Object.prototype.hasOwnProperty.call(o,String(e))){var i=o[e];Object.prototype.hasOwnProperty.call(n,i)?n[i].push(r):n[i]=[r]}})),n}function a(t,e){if(void 0===t)return!1;var n=typeof e;if("number"===n||"string"===n)return Object.prototype.hasOwnProperty.call(t,e);if(Array.isArray(e)){for(var r=0;r<e.length;r++)if(!a(t,e[r]))return!1;return!0}return u(t,e)}function u(t,e){for(var n=Object.keys(e),r=0;r<n.length;r++){var o=n[r];if(t[o]!==e[o])return!1}return!0}e.getCluster=function(t,e){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(null==e)throw new Error("filter is required");var n=[];return r.featureEach(t,(function(t){a(t.properties,e)&&n.push(t)})),o.featureCollection(n)},e.clusterEach=i,e.clusterReduce=function(t,e,n,r){var o=r;return i(t,e,(function(t,e,i){o=0===i&&void 0===r?t:n(o,t,e,i)})),o},e.createBins=s,e.applyFilter=a,e.propertiesContainsFilter=u,e.filterProperties=function(t,e){if(!e)return{};if(!e.length)return{};for(var n={},r=0;r<e.length;r++){var o=e[r];Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n}},70305:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(9705)),i=r(n(88147)),s=r(n(67));e.default=function(t,e,n,r){var a=s.default(6),u=e.features.map((function(t){var e;return{minX:t.geometry.coordinates[0],minY:t.geometry.coordinates[1],maxX:t.geometry.coordinates[0],maxY:t.geometry.coordinates[1],property:null===(e=t.properties)||void 0===e?void 0:e[n]}}));return a.load(u),t.features.forEach((function(t){t.properties||(t.properties={});var e=o.default(t),n=a.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}),s=[];n.forEach((function(e){i.default([e.minX,e.minY],t)&&s.push(e.property)})),t.properties[r]=s})),t}},27269:function(t){t.exports=function(){"use strict";function t(n,r,o,i,s){for(;i>o;){if(i-o>600){var a=i-o+1,u=r-o+1,c=Math.log(a),l=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*l*(a-l)/a)*(u-a/2<0?-1:1);t(n,r,Math.max(o,Math.floor(r-u*l/a+p)),Math.min(i,Math.floor(r+(a-u)*l/a+p)),s)}var f=n[r],h=o,d=i;for(e(n,o,r),s(n[i],f)>0&&e(n,o,i);h<d;){for(e(n,h,d),h++,d--;s(n[h],f)<0;)h++;for(;s(n[d],f)>0;)d--}0===s(n[o],f)?e(n,o,d):e(n,++d,i),d<=r&&(o=d+1),r<=d&&(i=d-1)}}function e(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function n(t,e){return t<e?-1:t>e?1:0}return function(e,r,o,i,s){t(e,r,o||0,i||e.length-1,s||n)}}()},67:(t,e,n)=>{"use strict";t.exports=o,t.exports.default=o;var r=n(27269);function o(t,e){if(!(this instanceof o))return new o(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function i(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function s(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,r,o){o||(o=y(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var i,s=e;s<n;s++)i=t.children[s],u(o,t.leaf?r(i):i);return o}function u(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function c(t,e){return t.minX-e.minX}function l(t,e){return t.minY-e.minY}function p(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function f(t){return t.maxX-t.minX+(t.maxY-t.minY)}function h(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function d(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function y(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(t,e,n,o,i){for(var s,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=o||(s=e+Math.ceil((n-e)/o/2)*o,r(t,s,e,n,i),a.push(e,s,s,n))}o.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!d(t,e))return n;for(var o,i,s,a,u=[];e;){for(o=0,i=e.children.length;o<i;o++)s=e.children[o],d(t,a=e.leaf?r(s):s)&&(e.leaf?n.push(s):h(t,a)?this._all(s,n):u.push(s));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!d(t,e))return!1;for(var r,o,i,s,a=[];e;){for(r=0,o=e.children.length;r<o;r++)if(i=e.children[r],d(t,s=e.leaf?n(i):i)){if(e.leaf||h(t,s))return!0;a.push(i)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var o=this.data;this.data=r,r=o}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=y([]),this},remove:function(t,e){if(!t)return this;for(var n,r,o,s,a=this.data,u=this.toBBox(t),c=[],l=[];a||c.length;){if(a||(a=c.pop(),r=c[c.length-1],n=l.pop(),s=!0),a.leaf&&-1!==(o=i(t,a.children,e)))return a.children.splice(o,1),c.push(a),this._condense(c),this;s||a.leaf||!h(a,u)?r?(n++,a=r.children[n],s=!1):a=null:(c.push(a),l.push(n),n=0,r=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:c,compareMinY:l,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var o,i=n-e+1,a=this._maxEntries;if(i<=a)return s(o=y(t.slice(e,n+1)),this.toBBox),o;r||(r=Math.ceil(Math.log(i)/Math.log(a)),a=Math.ceil(i/Math.pow(a,r-1))),(o=y([])).leaf=!1,o.height=r;var u,c,l,p,f=Math.ceil(i/a),h=f*Math.ceil(Math.sqrt(a));for(g(t,e,n,h,this.compareMinX),u=e;u<=n;u+=h)for(g(t,u,l=Math.min(u+h-1,n),f,this.compareMinY),c=u;c<=l;c+=f)p=Math.min(c+f-1,l),o.children.push(this._build(t,c,p,r-1));return s(o,this.toBBox),o},_chooseSubtree:function(t,e,n,r){for(var o,i,s,a,u,c,l,f,h,d;r.push(e),!e.leaf&&r.length-1!==n;){for(l=f=1/0,o=0,i=e.children.length;o<i;o++)u=p(s=e.children[o]),h=t,d=s,(c=(Math.max(d.maxX,h.maxX)-Math.min(d.minX,h.minX))*(Math.max(d.maxY,h.maxY)-Math.min(d.minY,h.minY))-u)<f?(f=c,l=u<l?u:l,a=s):c===f&&u<l&&(l=u,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var r=this.toBBox,o=n?t:r(t),i=[],s=this._chooseSubtree(o,this.data,e,i);for(s.children.push(t),u(s,o);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(o,i,e)},_split:function(t,e){var n=t[e],r=n.children.length,o=this._minEntries;this._chooseSplitAxis(n,o,r);var i=this._chooseSplitIndex(n,o,r),a=y(n.children.splice(i,n.children.length-i));a.height=n.height,a.leaf=n.leaf,s(n,this.toBBox),s(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=y([t,e]),this.data.height=t.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,o,i,s,u,c,l,f,h,d,y,g,v,b;for(c=l=1/0,r=e;r<=n-e;r++)h=o=a(t,0,r,this.toBBox),d=i=a(t,r,n,this.toBBox),void 0,void 0,void 0,void 0,y=Math.max(h.minX,d.minX),g=Math.max(h.minY,d.minY),v=Math.min(h.maxX,d.maxX),b=Math.min(h.maxY,d.maxY),s=Math.max(0,v-y)*Math.max(0,b-g),u=p(o)+p(i),s<c?(c=s,f=r,l=u<l?u:l):s===c&&u<l&&(l=u,f=r);return f},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:c,o=t.leaf?this.compareMinY:l;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,o)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var o,i,s=this.toBBox,c=a(t,0,e,s),l=a(t,n-e,n,s),p=f(c)+f(l);for(o=e;o<n-e;o++)i=t.children[o],u(c,t.leaf?s(i):i),p+=f(c);for(o=n-e-1;o>=e;o--)i=t.children[o],u(l,t.leaf?s(i):i),p+=f(l);return p},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)u(e[r],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():s(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},28141:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(84102),o=n(31540);e.default=function(t){var e={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}};return o.featureEach(t,(function(t){var n,r,o,i;switch(null===(i=t.geometry)||void 0===i?void 0:i.type){case"Point":e.MultiPoint.coordinates.push(t.geometry.coordinates),e.MultiPoint.properties.push(t.properties);break;case"MultiPoint":(n=e.MultiPoint.coordinates).push.apply(n,t.geometry.coordinates),e.MultiPoint.properties.push(t.properties);break;case"LineString":e.MultiLineString.coordinates.push(t.geometry.coordinates),e.MultiLineString.properties.push(t.properties);break;case"MultiLineString":(r=e.MultiLineString.coordinates).push.apply(r,t.geometry.coordinates),e.MultiLineString.properties.push(t.properties);break;case"Polygon":e.MultiPolygon.coordinates.push(t.geometry.coordinates),e.MultiPolygon.properties.push(t.properties);break;case"MultiPolygon":(o=e.MultiPolygon.coordinates).push.apply(o,t.geometry.coordinates),e.MultiPolygon.properties.push(t.properties)}})),r.featureCollection(Object.keys(e).filter((function(t){return e[t].coordinates.length})).sort().map((function(t){var n={type:t,coordinates:e[t].coordinates},o={collectedProperties:e[t].properties};return r.feature(n,o)})))}},68538:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(31013)),i=n(84102),s=n(31540),a=r(n(18829)),u=r(n(85878));e.default=function(t,e){void 0===e&&(e={});var n=e.maxEdge||1/0,r=function(t){var e=[],n={};return s.featureEach(t,(function(t){if(t.geometry){var r=t.geometry.coordinates.join("-");Object.prototype.hasOwnProperty.call(n,r)||(e.push(t),n[r]=!0)}})),i.featureCollection(e)}(t),c=a.default(r);if(c.features=c.features.filter((function(t){var r=t.geometry.coordinates[0][0],i=t.geometry.coordinates[0][1],s=t.geometry.coordinates[0][2],a=o.default(r,i,e),u=o.default(i,s,e),c=o.default(r,s,e);return a<=n&&u<=n&&c<=n})),c.features.length<1)return null;var l=u.default(c);return 1===l.coordinates.length&&(l.coordinates=l.coordinates[0],l.type="Polygon"),i.feature(l)}},85878:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(76565)),i=n(84102),s=n(10611),a=n(31540),u=r(n(44692)),c=r(n(12387));e.default=function(t,e){if(void 0===e&&(e={}),e=e||{},!i.isObject(e))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==s.getType(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=o.default(t));var r=function(t){var e={};a.flattenEach(t,(function(t){e[t.geometry.type]=!0}));var n=Object.keys(e);return 1===n.length?n[0]:null}(t);if(!r)throw new Error("geojson must be homogenous");var l=t;switch(r){case"LineString":return u.default(l,e);case"Polygon":return c.default(l,e);default:throw new Error(r+" is not supported")}}},44692:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(76565)),i=n(84102),s=n(10611),a=n(31540);function u(t){return t[0].toString()+","+t[1].toString()}e.default=function(t,e){if(void 0===e&&(e={}),e=e||{},!i.isObject(e))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==s.getType(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=o.default(t));var r=[],c=a.lineReduce(t,(function(t,e){return function(t,e){var n,r=t.geometry.coordinates,o=e.geometry.coordinates,s=u(r[0]),a=u(r[r.length-1]),c=u(o[0]),l=u(o[o.length-1]);if(s===l)n=o.concat(r.slice(1));else if(c===a)n=r.concat(o.slice(1));else if(s===c)n=r.slice(1).reverse().concat(o);else{if(a!==l)return null;n=r.concat(o.reverse().slice(1))}return i.lineString(n)}(t,e)||(r.push(t),e)}));return c&&r.push(c),r.length?1===r.length?r[0]:i.multiLineString(r.map((function(t){return t.coordinates}))):null}},12387:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(76565)),i=n(84102),s=n(10611),a=n(31540),u=n(18146),c=n(24255);e.default=function(t,e){if(void 0===e&&(e={}),"FeatureCollection"!==s.getType(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==e.mutate&&void 0!==e.mutate||(t=o.default(t));var n=[];a.flattenEach(t,(function(t){n.push(t.geometry)}));var r=c.topology({geoms:i.geometryCollection(n).geometry});return u.merge(r,r.objects.geoms.geometries)}},77382:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(84102),i=n(31540),s=r(n(72273));e.default=function(t,e){void 0===e&&(e={}),e.concavity=e.concavity||1/0;var n=[];if(i.coordEach(t,(function(t){n.push([t[0],t[1]])})),!n.length)return null;var r=s.default(n,e.concavity);return r.length>3?o.polygon([r]):null}},93737:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(84102),o=n(10611);e.default=function(t,e,n,i){void 0===i&&(i={});var s=o.getCoord(t),a=r.degreesToRadians(s[0]),u=r.degreesToRadians(s[1]),c=r.degreesToRadians(n),l=r.lengthToRadians(e,i.units),p=Math.asin(Math.sin(u)*Math.cos(l)+Math.cos(u)*Math.sin(l)*Math.cos(c)),f=a+Math.atan2(Math.sin(c)*Math.sin(l)*Math.cos(u),Math.cos(l)-Math.sin(u)*Math.sin(p)),h=r.radiansToDegrees(f),d=r.radiansToDegrees(p);return r.point([h,d],i.properties)}},68727:(t,e,n)=>{"use strict";var r=n(32676),o=n(84102),i=n(10611);function s(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var a=s(r);function u(t,e){var n=i.getGeom(t),r=i.getGeom(e),s=t.properties||{},u=a.default.difference(n.coordinates,r.coordinates);return 0===u.length?null:1===u.length?o.polygon(u[0],s):o.multiPolygon(u,s)}t.exports=u,t.exports.default=u},52407:(t,e,n)=>{"use strict";var r=n(84102),o=n(10611),i=n(31540),s=n(24288),a=n(32676);function u(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var c=u(s),l=u(a);function p(t,e){if(e=e||{},!r.isObject(e))throw new Error("options is invalid");var n=e.propertyName;o.collectionOf(t,"Polygon","dissolve");var s=[];if(!e.propertyName)return c.default(r.multiPolygon(l.default.union.apply(null,t.features.map((function(t){return t.geometry.coordinates})))));var a={};i.featureEach(t,(function(t){Object.prototype.hasOwnProperty.call(a,t.properties[n])||(a[t.properties[n]]=[]),a[t.properties[n]].push(t)}));for(var u=Object.keys(a),p=0;p<u.length;p++){var f=r.multiPolygon(l.default.union.apply(null,a[u[p]].map((function(t){return t.geometry.coordinates}))));f.properties[n]=u[p],s.push(f)}return c.default(r.featureCollection(s))}t.exports=p,t.exports.default=p},35366:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(66338)),i=n(10611),s=n(31540);function a(t,e,n){void 0===n&&(n=2);var r=i.getCoord(t),o=i.getCoord(e),s=r[0]-o[0],a=r[1]-o[1];return 1===n?Math.abs(s)+Math.abs(a):Math.pow(Math.pow(s,n)+Math.pow(a,n),1/n)}e.pNormDistance=a,e.default=function(t,e){var n=(e=e||{}).threshold||1e4,r=e.p||2,i=e.binary||!1,u=e.alpha||-1,c=e.standardization||!1,l=[];s.featureEach(t,(function(t){l.push(o.default(t))}));for(var p=[],f=0;f<l.length;f++)p[f]=[];for(f=0;f<l.length;f++)for(var h=f;h<l.length;h++){f===h&&(p[f][h]=0);var d=a(l[f],l[h],r);p[f][h]=d,p[h][f]=d}for(f=0;f<l.length;f++)for(h=0;h<l.length;h++)0!==(d=p[f][h])&&(p[f][h]=i?d<=n?1:0:d<=n?Math.pow(d,u):0);if(c)for(f=0;f<l.length;f++){var y=p[f].reduce((function(t,e){return t+e}),0);for(h=0;h<l.length;h++)p[f][h]=p[f][h]/y}return p}},31013:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(10611),o=n(84102);e.default=function(t,e,n){void 0===n&&(n={});var i=r.getCoord(t),s=r.getCoord(e),a=o.degreesToRadians(s[1]-i[1]),u=o.degreesToRadians(s[0]-i[0]),c=o.degreesToRadians(i[1]),l=o.degreesToRadians(s[1]),p=Math.pow(Math.sin(a/2),2)+Math.pow(Math.sin(u/2),2)*Math.cos(c)*Math.cos(l);return o.radiansToLength(2*Math.atan2(Math.sqrt(p),Math.sqrt(1-p)),n.units)}},61211:(t,e,n)=>{"use strict";var r=n(84102),o=n(62054),i=n(90067),s=n(10611);function a(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var u=a(o),c=a(i);function l(t,e,n,o){var i=(o=o||{}).steps||64,a=o.units||"kilometers",l=o.angle||0,f=o.pivot||t,h=o.properties||t.properties||{};if(!t)throw new Error("center is required");if(!e)throw new Error("xSemiAxis is required");if(!n)throw new Error("ySemiAxis is required");if(!r.isObject(o))throw new Error("options must be an object");if(!r.isNumber(i))throw new Error("steps must be a number");if(!r.isNumber(l))throw new Error("angle must be a number");var d=s.getCoord(t);if("degrees"===a)var y=r.degreesToRadians(l);else e=u.default(t,e,90,{units:a}),n=u.default(t,n,0,{units:a}),e=s.getCoord(e)[0]-d[0],n=s.getCoord(n)[1]-d[1];for(var g=[],v=0;v<i;v+=1){var b=-360*v/i,m=e*n/Math.sqrt(Math.pow(n,2)+Math.pow(e,2)*Math.pow(p(b),2)),_=e*n/Math.sqrt(Math.pow(e,2)+Math.pow(n,2)/Math.pow(p(b),2));if(b<-90&&b>=-270&&(m=-m),b<-180&&b>=-360&&(_=-_),"degrees"===a){var P=m*Math.cos(y)+_*Math.sin(y),w=_*Math.cos(y)-m*Math.sin(y);m=P,_=w}g.push([m+d[0],_+d[1]])}return g.push(g[0]),"degrees"===a?r.polygon([g],h):c.default(r.polygon([g],h),l,{pivot:f})}function p(t){var e=t*Math.PI/180;return Math.tan(e)}t.exports=l,t.exports.default=l},19062:(t,e,n)=>{"use strict";var r=n(9705),o=n(13652);function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var s=i(r),a=i(o);function u(t){return a.default(s.default(t))}t.exports=u,t.exports.default=u},63922:(t,e,n)=>{"use strict";var r=n(31540),o=n(84102);function i(t){var e=[];return"FeatureCollection"===t.type?r.featureEach(t,(function(t){r.coordEach(t,(function(n){e.push(o.point(n,t.properties))}))})):r.coordEach(t,(function(n){e.push(o.point(n,t.properties))})),o.featureCollection(e)}t.exports=i,t.exports.default=i},24288:(t,e,n)=>{"use strict";var r=n(31540),o=n(84102);function i(t){if(!t)throw new Error("geojson is required");var e=[];return r.flattenEach(t,(function(t){e.push(t)})),o.featureCollection(e)}t.exports=i,t.exports.default=i},37970:(t,e,n)=>{"use strict";var r=n(31540),o=n(84102);function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var s=i(n(76565));function a(t,e){if(e=e||{},!o.isObject(e))throw new Error("options is invalid");var n=e.mutate;if(!t)throw new Error("geojson is required");return!1!==n&&void 0!==n||(t=s.default(t)),r.coordEach(t,(function(t){var e=t[0],n=t[1];t[0]=n,t[1]=e})),t}t.exports=a,t.exports.default=a},25422:(t,e,n)=>{"use strict";var r=n(10611),o=Math.PI/180,i=180/Math.PI,s=function(t,e){this.lon=t,this.lat=e,this.x=o*t,this.y=o*e};s.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},s.prototype.antipode=function(){var t=-1*this.lat,e=this.lon<0?180+this.lon:-1*(180-this.lon);return new s(e,t)};var a=function(){this.coords=[],this.length=0};a.prototype.move_to=function(t){this.length++,this.coords.push(t)};var u=function(t){this.properties=t||{},this.geometries=[]};u.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var t=[],e=0;e<this.geometries.length;e++)t.push(this.geometries[e].coords);return{geometry:{type:"MultiLineString",coordinates:t},type:"Feature",properties:this.properties}},u.prototype.wkt=function(){for(var t="",e="LINESTRING(",n=function(t){e+=t[0]+" "+t[1]+","},r=0;r<this.geometries.length;r++){if(0===this.geometries[r].coords.length)return"LINESTRING(empty)";this.geometries[r].coords.forEach(n),t+=e.substring(0,e.length-1)+")"}return t};var c=function(t,e,n){if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new s(t.x,t.y),this.end=new s(e.x,e.y),this.properties=n||{};var r=this.start.x-this.end.x,o=this.start.y-this.end.y,i=Math.pow(Math.sin(o/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(r/2),2);if(this.g=2*Math.asin(Math.sqrt(i)),this.g===Math.PI)throw new Error("it appears "+t.view()+" and "+e.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+t+" and "+e)};function l(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var o=n.properties,i=n.npoints,s=n.offset;return t=r.getCoord(t),e=r.getCoord(e),o=o||{},i=i||100,s=s||10,new c({x:t[0],y:t[1]},{x:e[0],y:e[1]},o).Arc(i,{offset:s}).json()}c.prototype.interpolate=function(t){var e=Math.sin((1-t)*this.g)/Math.sin(this.g),n=Math.sin(t*this.g)/Math.sin(this.g),r=e*Math.cos(this.start.y)*Math.cos(this.start.x)+n*Math.cos(this.end.y)*Math.cos(this.end.x),o=e*Math.cos(this.start.y)*Math.sin(this.start.x)+n*Math.cos(this.end.y)*Math.sin(this.end.x),s=e*Math.sin(this.start.y)+n*Math.sin(this.end.y),a=i*Math.atan2(s,Math.sqrt(Math.pow(r,2)+Math.pow(o,2)));return[i*Math.atan2(o,r),a]},c.prototype.Arc=function(t,e){var n=[];if(!t||t<=2)n.push([this.start.lon,this.start.lat]),n.push([this.end.lon,this.end.lat]);else for(var r=1/(t-1),o=0;o<t;++o){var i=r*o,s=this.interpolate(i);n.push(s)}for(var c=!1,l=0,p=e&&e.offset?e.offset:10,f=180-p,h=-180+p,d=360-p,y=1;y<n.length;++y){var g=n[y-1][0],v=n[y][0],b=Math.abs(v-g);b>d&&(v>f&&g<h||g>f&&v<h)?c=!0:b>l&&(l=b)}var m=[];if(c&&l<p){var _=[];m.push(_);for(var P=0;P<n.length;++P){var w=parseFloat(n[P][0]);if(P>0&&Math.abs(w-n[P-1][0])>d){var E=parseFloat(n[P-1][0]),x=parseFloat(n[P-1][1]),O=parseFloat(n[P][0]),C=parseFloat(n[P][1]);if(E>-180&&E<h&&180===O&&P+1<n.length&&n[P-1][0]>-180&&n[P-1][0]<h){_.push([-180,n[P][1]]),P++,_.push([n[P][0],n[P][1]]);continue}if(E>f&&E<180&&-180===O&&P+1<n.length&&n[P-1][0]>f&&n[P-1][0]<180){_.push([180,n[P][1]]),P++,_.push([n[P][0],n[P][1]]);continue}if(E<h&&O>f){var S=E;E=O,O=S;var M=x;x=C,C=M}if(E>f&&O<h&&(O+=360),E<=180&&O>=180&&E<O){var j=(180-E)/(O-E),N=j*C+(1-j)*x;_.push([n[P-1][0]>f?180:-180,N]),(_=[]).push([n[P-1][0]>f?-180:180,N]),m.push(_)}else _=[],m.push(_);_.push([w,n[P][1]])}else _.push([n[P][0],n[P][1]])}}else{var I=[];m.push(I);for(var T=0;T<n.length;++T)I.push([n[T][0],n[T][1]])}for(var A=new u(this.properties),D=0;D<m.length;++D){var R=new a;A.geometries.push(R);for(var k=m[D],L=0;L<k.length;++L)R.move_to(k[L])}return A},t.exports=l,t.exports.default=l},84102:(t,e)=>{"use strict";function n(t,e,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}function r(t,e,r){if(void 0===r&&(r={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!h(t[0])||!h(t[1]))throw new Error("coordinates must contain numbers");return n({type:"Point",coordinates:t},e,r)}function o(t,e,r){void 0===r&&(r={});for(var o=0,i=t;o<i.length;o++){var s=i[o];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<s[s.length-1].length;a++)if(s[s.length-1][a]!==s[0][a])throw new Error("First and last Position are not equivalent.")}return n({type:"Polygon",coordinates:t},e,r)}function i(t,e,r){if(void 0===r&&(r={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return n({type:"LineString",coordinates:t},e,r)}function s(t,e){void 0===e&&(e={});var n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function a(t,e,r){return void 0===r&&(r={}),n({type:"MultiLineString",coordinates:t},e,r)}function u(t,e,r){return void 0===r&&(r={}),n({type:"MultiPoint",coordinates:t},e,r)}function c(t,e,r){return void 0===r&&(r={}),n({type:"MultiPolygon",coordinates:t},e,r)}function l(t,n){void 0===n&&(n="kilometers");var r=e.factors[n];if(!r)throw new Error(n+" units is invalid");return t*r}function p(t,n){void 0===n&&(n="kilometers");var r=e.factors[n];if(!r)throw new Error(n+" units is invalid");return t/r}function f(t){return t%(2*Math.PI)*180/Math.PI}function h(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.earthRadius=6371008.8,e.factors={centimeters:100*e.earthRadius,centimetres:100*e.earthRadius,degrees:e.earthRadius/111325,feet:3.28084*e.earthRadius,inches:39.37*e.earthRadius,kilometers:e.earthRadius/1e3,kilometres:e.earthRadius/1e3,meters:e.earthRadius,metres:e.earthRadius,miles:e.earthRadius/1609.344,millimeters:1e3*e.earthRadius,millimetres:1e3*e.earthRadius,nauticalmiles:e.earthRadius/1852,radians:1,yards:1.0936*e.earthRadius},e.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/e.earthRadius,yards:1.0936133},e.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},e.feature=n,e.geometry=function(t,e,n){switch(void 0===n&&(n={}),t){case"Point":return r(e).geometry;case"LineString":return i(e).geometry;case"Polygon":return o(e).geometry;case"MultiPoint":return u(e).geometry;case"MultiLineString":return a(e).geometry;case"MultiPolygon":return c(e).geometry;default:throw new Error(t+" is invalid")}},e.point=r,e.points=function(t,e,n){return void 0===n&&(n={}),s(t.map((function(t){return r(t,e)})),n)},e.polygon=o,e.polygons=function(t,e,n){return void 0===n&&(n={}),s(t.map((function(t){return o(t,e)})),n)},e.lineString=i,e.lineStrings=function(t,e,n){return void 0===n&&(n={}),s(t.map((function(t){return i(t,e)})),n)},e.featureCollection=s,e.multiLineString=a,e.multiPoint=u,e.multiPolygon=c,e.geometryCollection=function(t,e,r){return void 0===r&&(r={}),n({type:"GeometryCollection",geometries:t},e,r)},e.round=function(t,e){if(void 0===e&&(e=0),e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n},e.radiansToLength=l,e.lengthToRadians=p,e.lengthToDegrees=function(t,e){return f(p(t,e))},e.bearingToAzimuth=function(t){var e=t%360;return e<0&&(e+=360),e},e.radiansToDegrees=f,e.degreesToRadians=function(t){return t%360*Math.PI/180},e.convertLength=function(t,e,n){if(void 0===e&&(e="kilometers"),void 0===n&&(n="kilometers"),!(t>=0))throw new Error("length must be a positive number");return l(p(t,e),n)},e.convertArea=function(t,n,r){if(void 0===n&&(n="meters"),void 0===r&&(r="kilometers"),!(t>=0))throw new Error("area must be a positive number");var o=e.areaFactors[n];if(!o)throw new Error("invalid original units");var i=e.areaFactors[r];if(!i)throw new Error("invalid final units");return t/o*i},e.isNumber=h,e.isObject=function(t){return!!t&&t.constructor===Object},e.validateBBox=function(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach((function(t){if(!h(t))throw new Error("bbox must only contain numbers")}))},e.validateId=function(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}},45621:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(31013)),i=r(n(74170)),s=n(84102);function a(t,e,n,r,o,i){for(var a=[],u=0;u<6;u++){var c=t[0]+e*o[u],l=t[1]+n*i[u];a.push([c,l])}return a.push(a[0].slice()),s.polygon([a],r)}function u(t,e,n,r,o,i){for(var a=[],u=0;u<6;u++){var c=[];c.push(t),c.push([t[0]+e*o[u],t[1]+n*i[u]]),c.push([t[0]+e*o[(u+1)%6],t[1]+n*i[(u+1)%6]]),c.push(t),a.push(s.polygon([c],r))}return a}e.default=function(t,e,n){void 0===n&&(n={});var r=JSON.stringify(n.properties||{}),c=t[0],l=t[1],p=t[2],f=t[3],h=(l+f)/2,d=(c+p)/2,y=2*e/o.default([c,h],[p,h],n)*(p-c),g=2*e/o.default([d,l],[d,f],n)*(f-l),v=y/2,b=2*v,m=Math.sqrt(3)/2*g,_=p-c,P=f-l,w=3/4*b,E=m,x=(_-b)/(b-v/2),O=Math.floor(x),C=(O*w-v/2-_)/2-v/2+w/2,S=Math.floor((P-m)/m),M=(P-S*m)/2,j=S*m-P>m/2;j&&(M-=m/4);for(var N=[],I=[],T=0;T<6;T++){var A=2*Math.PI/6*T;N.push(Math.cos(A)),I.push(Math.sin(A))}for(var D=[],R=0;R<=O;R++)for(var k=0;k<=S;k++){var L=R%2==1;if(!(0===k&&L||0===k&&j)){var G=R*w+c-C,F=k*E+l+M;if(L&&(F-=m/2),!0===n.triangles)u([G,F],y/2,g/2,JSON.parse(r),N,I).forEach((function(t){n.mask?i.default(n.mask,t)&&D.push(t):D.push(t)}));else{var V=a([G,F],y/2,g/2,JSON.parse(r),N,I);n.mask?i.default(n.mask,V)&&D.push(V):D.push(V)}}}return s.featureCollection(D)}},25566:(t,e,n)=>{"use strict";var r=n(9705),o=n(45621),i=n(36813),s=n(31013),a=n(66338),u=n(45434),c=n(4686),l=n(76565),p=n(84102),f=n(31540),h=n(10611);function d(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var y=d(r),g=d(o),v=d(i),b=d(s),m=d(a),_=d(u),P=d(c),w=d(l);function E(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.gridType,o=n.property,i=n.weight;if(!t)throw new Error("points is required");if(h.collectionOf(t,"Point","input must contain Points"),!e)throw new Error("cellSize is required");if(void 0!==i&&"number"!=typeof i)throw new Error("weight must be a number");o=o||"elevation",r=r||"square",i=i||1;var s,a=y.default(t);switch(r){case"point":case"points":s=v.default(a,e,n);break;case"square":case"squares":s=_.default(a,e,n);break;case"hex":case"hexes":s=g.default(a,e,n);break;case"triangle":case"triangles":s=P.default(a,e,n);break;default:throw new Error("invalid gridType")}var u=[];return f.featureEach(s,(function(e){var s=0,a=0;f.featureEach(t,(function(t){var u,c="point"===r?e:m.default(e),l=b.default(c,t,n);if(void 0!==o&&(u=t.properties[o]),void 0===u&&(u=t.geometry.coordinates[2]),void 0===u)throw new Error("zValue is missing");0===l&&(s=u);var p=1/Math.pow(l,i);a+=p,s+=p*u}));var c=w.default(e);c.properties[o]=s/a,u.push(c)})),p.featureCollection(u)}t.exports=E,t.exports.default=E},74170:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(84102),i=n(10611),s=r(n(32676));e.default=function(t,e,n){void 0===n&&(n={});var r=i.getGeom(t),a=i.getGeom(e),u=s.default.intersection(r.coordinates,a.coordinates);return 0===u.length?null:1===u.length?o.polygon(u[0],n.properties):o.multiPolygon(u,n.properties)}},10611:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(84102);e.getCoord=function(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")},e.getCoords=function(t){if(Array.isArray(t))return t;if("Feature"===t.type){if(null!==t.geometry)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")},e.containsNumber=function t(e){if(e.length>1&&r.isNumber(e[0])&&r.isNumber(e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return t(e[0]);throw new Error("coordinates must only contain numbers")},e.geojsonType=function(t,e,n){if(!e||!n)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.type)},e.featureOf=function(t,e,n){if(!t)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)},e.collectionOf=function(t,e,n){if(!t)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var r=0,o=t.features;r<o.length;r++){var i=o[r];if(!i||"Feature"!==i.type||!i.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!i.geometry||i.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+i.geometry.type)}},e.getGeom=function(t){return"Feature"===t.type?t.geometry:t},e.getType=function(t,e){return"FeatureCollection"===t.type?"FeatureCollection":"GeometryCollection"===t.type?"GeometryCollection":"Feature"===t.type&&null!==t.geometry?t.geometry.type:t.type}},77406:(t,e,n)=>{"use strict";var r=n(9705),o=n(41070),i=n(88147),s=n(63922),a=n(10611),u=n(84102),c=n(27418),l=n(31540);function p(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var f=p(r),h=p(o),d=p(i),y=p(s),g=p(c);var v={successCallback:null,verbose:!1,polygons:!1},b={};function m(t,e,n,r){r=r||{};for(var o=Object.keys(v),i=0;i<o.length;i++){var s=o[i],a=r[s];a=null!=a?a:v[s],b[s]=a}b.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+e+":"+(e+n)+"]");var u,c=function(t,e,n){for(var r=t.length-1,o=t[0].length-1,i={rows:r,cols:o,cells:[]},s=e+Math.abs(n),a=0;a<r;++a){i.cells[a]=[];for(var u=0;u<o;++u){var c=0,l=t[a+1][u],p=t[a+1][u+1],f=t[a][u+1],h=t[a][u];if(!(isNaN(l)||isNaN(p)||isNaN(f)||isNaN(h))){c|=l<e?0:l>s?128:64,c|=p<e?0:p>s?32:16,c|=f<e?0:f>s?8:4;var d=+(c|=h<e?0:h>s?2:1),y=0;if(17===c||18===c||33===c||34===c||38===c||68===c||72===c||98===c||102===c||132===c||136===c||137===c||152===c||153===c){var g=(l+p+f+h)/4;y=g>s?2:g<e?0:1,34===c?1===y?c=35:0===y&&(c=136):136===c?1===y?(c=35,y=4):0===y&&(c=34):17===c?1===y?(c=155,y=4):0===y&&(c=153):68===c?1===y?(c=103,y=4):0===y&&(c=102):153===c?1===y&&(c=155):102===c?1===y&&(c=103):152===c?y<2&&(c=156,y=1):137===c?y<2&&(c=139,y=1):98===c?y<2&&(c=99,y=1):38===c?y<2&&(c=39,y=1):18===c?y>0?(c=156,y=4):c=152:33===c?y>0?(c=139,y=4):c=137:72===c?y>0?(c=99,y=4):c=98:132===c&&(y>0?(c=39,y=4):c=38)}if(0!=c&&170!=c){var v,b,m,_,P,w,E,x;v=b=m=_=P=w=E=x=.5;var O=[];1===c?(m=1-ct(e,f,h),x=1-ct(e,l,h),O.push(rt[c])):169===c?(m=ct(s,h,f),x=ct(s,h,l),O.push(rt[c])):4===c?(w=1-ct(e,p,f),_=ct(e,h,f),O.push(et[c])):166===c?(w=ct(s,f,p),_=1-ct(s,f,h),O.push(et[c])):16===c?(P=ct(e,f,p),b=ct(e,l,p),O.push(tt[c])):154===c?(P=1-ct(s,p,f),b=1-ct(s,p,l),O.push(tt[c])):64===c?(E=ct(e,h,l),v=1-ct(e,p,l),O.push(it[c])):106===c?(E=1-ct(s,l,h),v=ct(s,l,p),O.push(it[c])):168===c?(_=ct(s,h,f),m=ct(e,h,f),x=ct(e,h,l),E=ct(s,h,l),O.push(nt[c]),O.push(rt[c])):2===c?(_=1-ct(e,f,h),m=1-ct(s,f,h),x=1-ct(s,l,h),E=1-ct(e,l,h),O.push(nt[c]),O.push(rt[c])):162===c?(P=ct(s,f,p),w=ct(e,f,p),_=1-ct(e,f,h),m=1-ct(s,f,h),O.push(nt[c]),O.push(rt[c])):8===c?(P=1-ct(e,p,f),w=1-ct(s,p,f),_=ct(s,h,f),m=ct(e,h,f),O.push(tt[c]),O.push(et[c])):138===c?(P=1-ct(e,p,f),w=1-ct(s,p,f),v=1-ct(s,p,l),b=1-ct(e,p,l),O.push(tt[c]),O.push(et[c])):32===c?(P=ct(s,f,p),w=ct(e,f,p),v=ct(e,l,p),b=ct(s,l,p),O.push(tt[c]),O.push(et[c])):42===c?(x=1-ct(s,l,h),E=1-ct(e,l,h),v=ct(e,l,p),b=ct(s,l,p),O.push(ot[c]),O.push(it[c])):128===c&&(x=ct(e,h,l),E=ct(s,h,l),v=1-ct(s,p,l),b=1-ct(e,p,l),O.push(ot[c]),O.push(it[c])),5===c?(w=1-ct(e,p,f),x=1-ct(e,l,h),O.push(et[c])):165===c?(w=ct(s,f,p),x=ct(s,h,l),O.push(et[c])):20===c?(_=ct(e,h,f),b=ct(e,l,p),O.push(nt[c])):150===c?(_=1-ct(s,f,h),b=1-ct(s,p,l),O.push(nt[c])):80===c?(P=ct(e,f,p),E=ct(e,h,l),O.push(tt[c])):90===c?(P=1-ct(s,p,f),E=1-ct(s,l,h),O.push(tt[c])):65===c?(m=1-ct(e,f,h),v=1-ct(e,p,l),O.push(rt[c])):105===c?(m=ct(s,h,f),v=ct(s,l,p),O.push(rt[c])):160===c?(P=ct(s,f,p),w=ct(e,f,p),x=ct(e,h,l),E=ct(s,h,l),O.push(tt[c]),O.push(et[c])):10===c?(P=1-ct(e,p,f),w=1-ct(s,p,f),x=1-ct(s,l,h),E=1-ct(e,l,h),O.push(tt[c]),O.push(et[c])):130===c?(_=1-ct(e,f,h),m=1-ct(s,f,h),v=1-ct(s,p,l),b=1-ct(e,p,l),O.push(nt[c]),O.push(rt[c])):40===c?(_=ct(s,h,f),m=ct(e,h,f),v=ct(e,l,p),b=ct(s,l,p),O.push(nt[c]),O.push(rt[c])):101===c?(w=ct(s,f,p),v=ct(s,l,p),O.push(et[c])):69===c?(w=1-ct(e,p,f),v=1-ct(e,p,l),O.push(et[c])):149===c?(x=ct(s,h,l),b=1-ct(s,p,l),O.push(ot[c])):21===c?(x=1-ct(e,l,h),b=ct(e,l,p),O.push(ot[c])):86===c?(_=1-ct(s,f,h),E=1-ct(s,l,h),O.push(nt[c])):84===c?(_=ct(e,h,f),E=ct(e,h,l),O.push(nt[c])):89===c?(P=1-ct(s,p,f),m=ct(s,h,f),O.push(rt[c])):81===c?(P=ct(e,f,p),m=1-ct(e,f,h),O.push(rt[c])):96===c?(P=ct(s,f,p),w=ct(e,f,p),E=ct(e,h,l),v=ct(s,l,p),O.push(tt[c]),O.push(et[c])):74===c?(P=1-ct(e,p,f),w=1-ct(s,p,f),E=1-ct(s,l,h),v=1-ct(e,p,l),O.push(tt[c]),O.push(et[c])):24===c?(P=1-ct(s,p,f),_=ct(s,h,f),m=ct(e,h,f),b=ct(e,l,p),O.push(tt[c]),O.push(rt[c])):146===c?(P=ct(e,f,p),_=1-ct(e,f,h),m=1-ct(s,f,h),b=1-ct(s,p,l),O.push(tt[c]),O.push(rt[c])):6===c?(w=1-ct(e,p,f),_=1-ct(s,f,h),x=1-ct(s,l,h),E=1-ct(e,l,h),O.push(et[c]),O.push(nt[c])):164===c?(w=ct(s,f,p),_=ct(e,h,f),x=ct(e,h,l),E=ct(s,h,l),O.push(et[c]),O.push(nt[c])):129===c?(m=1-ct(e,f,h),x=ct(s,h,l),v=1-ct(s,p,l),b=1-ct(e,p,l),O.push(rt[c]),O.push(ot[c])):41===c?(m=ct(s,h,f),x=1-ct(e,l,h),v=ct(e,l,p),b=ct(s,l,p),O.push(rt[c]),O.push(ot[c])):66===c?(_=1-ct(e,f,h),m=1-ct(s,f,h),E=1-ct(s,l,h),v=1-ct(e,p,l),O.push(nt[c]),O.push(rt[c])):104===c?(_=ct(s,h,f),m=ct(e,h,f),E=ct(e,h,l),v=ct(s,l,p),O.push(rt[c]),O.push(st[c])):144===c?(P=ct(e,f,p),x=ct(e,h,l),E=ct(s,h,l),b=1-ct(s,p,l),O.push(tt[c]),O.push(it[c])):26===c?(P=1-ct(s,p,f),x=1-ct(s,l,h),E=1-ct(e,l,h),b=ct(e,l,p),O.push(tt[c]),O.push(it[c])):36===c?(w=ct(s,f,p),_=ct(e,h,f),v=ct(e,l,p),b=ct(s,l,p),O.push(et[c]),O.push(nt[c])):134===c?(w=1-ct(e,p,f),_=1-ct(s,f,h),v=1-ct(s,p,l),b=1-ct(e,p,l),O.push(et[c]),O.push(nt[c])):9===c?(P=1-ct(e,p,f),w=1-ct(s,p,f),m=ct(s,h,f),x=1-ct(e,l,h),O.push(tt[c]),O.push(et[c])):161===c?(P=ct(s,f,p),w=ct(e,f,p),m=1-ct(e,f,h),x=ct(s,h,l),O.push(tt[c]),O.push(et[c])):37===c?(w=ct(s,f,p),x=1-ct(e,l,h),v=ct(e,l,p),b=ct(s,l,p),O.push(et[c]),O.push(ot[c])):133===c?(w=1-ct(e,p,f),x=ct(s,h,l),v=1-ct(s,p,l),b=1-ct(e,p,l),O.push(et[c]),O.push(ot[c])):148===c?(_=ct(e,h,f),x=ct(e,h,l),E=ct(s,h,l),b=1-ct(s,p,l),O.push(nt[c]),O.push(it[c])):22===c?(_=1-ct(s,f,h),x=1-ct(s,l,h),E=1-ct(e,l,h),b=ct(e,l,p),O.push(nt[c]),O.push(it[c])):82===c?(P=ct(e,f,p),_=1-ct(e,f,h),m=1-ct(s,f,h),E=1-ct(s,l,h),O.push(tt[c]),O.push(rt[c])):88===c?(P=1-ct(s,p,f),_=ct(s,h,f),m=ct(e,h,f),E=ct(e,h,l),O.push(tt[c]),O.push(rt[c])):73===c?(P=1-ct(e,p,f),w=1-ct(s,p,f),m=ct(s,h,f),v=1-ct(e,p,l),O.push(tt[c]),O.push(et[c])):97===c?(P=ct(s,f,p),w=ct(e,f,p),m=1-ct(e,f,h),v=ct(s,l,p),O.push(tt[c]),O.push(et[c])):145===c?(P=ct(e,f,p),m=1-ct(e,f,h),x=ct(s,h,l),b=1-ct(s,p,l),O.push(tt[c]),O.push(ot[c])):25===c?(P=1-ct(s,p,f),m=ct(s,h,f),x=1-ct(e,l,h),b=ct(e,l,p),O.push(tt[c]),O.push(ot[c])):70===c?(w=1-ct(e,p,f),_=1-ct(s,f,h),E=1-ct(s,l,h),v=1-ct(e,p,l),O.push(et[c]),O.push(nt[c])):100===c?(w=ct(s,f,p),_=ct(e,h,f),E=ct(e,h,l),v=ct(s,l,p),O.push(et[c]),O.push(nt[c])):34===c?(0===y?(P=1-ct(e,p,f),w=1-ct(s,p,f),_=ct(s,h,f),m=ct(e,h,f),x=ct(e,h,l),E=ct(s,h,l),v=1-ct(s,p,l),b=1-ct(e,p,l)):(P=ct(s,f,p),w=ct(e,f,p),_=1-ct(e,f,h),m=1-ct(s,f,h),x=1-ct(s,l,h),E=1-ct(e,l,h),v=ct(e,l,p),b=ct(s,l,p)),O.push(tt[c]),O.push(et[c]),O.push(ot[c]),O.push(it[c])):35===c?(4===y?(P=1-ct(e,p,f),w=1-ct(s,p,f),_=ct(s,h,f),m=ct(e,h,f),x=ct(e,h,l),E=ct(s,h,l),v=1-ct(s,p,l),b=1-ct(e,p,l)):(P=ct(s,f,p),w=ct(e,f,p),_=1-ct(e,f,h),m=1-ct(s,f,h),x=1-ct(s,l,h),E=1-ct(e,l,h),v=ct(e,l,p),b=ct(s,l,p)),O.push(tt[c]),O.push(et[c]),O.push(rt[c]),O.push(it[c])):136===c?(0===y?(P=ct(s,f,p),w=ct(e,f,p),_=1-ct(e,f,h),m=1-ct(s,f,h),x=1-ct(s,l,h),E=1-ct(e,l,h),v=ct(e,l,p),b=ct(s,l,p)):(P=1-ct(e,p,f),w=1-ct(s,p,f),_=ct(s,h,f),m=ct(e,h,f),x=ct(e,h,l),E=ct(s,h,l),v=1-ct(s,p,l),b=1-ct(e,p,l)),O.push(tt[c]),O.push(et[c]),O.push(ot[c]),O.push(it[c])):153===c?(0===y?(P=ct(e,f,p),m=1-ct(e,f,h),x=1-ct(e,l,h),b=ct(e,l,p)):(P=1-ct(s,p,f),m=ct(s,h,f),x=ct(s,h,l),b=1-ct(s,p,l)),O.push(tt[c]),O.push(rt[c])):102===c?(0===y?(w=1-ct(e,p,f),_=ct(e,h,f),E=ct(e,h,l),v=1-ct(e,p,l)):(w=ct(s,f,p),_=1-ct(s,f,h),E=1-ct(s,l,h),v=ct(s,l,p)),O.push(et[c]),O.push(it[c])):155===c?(4===y?(P=ct(e,f,p),m=1-ct(e,f,h),x=1-ct(e,l,h),b=ct(e,l,p)):(P=1-ct(s,p,f),m=ct(s,h,f),x=ct(s,h,l),b=1-ct(s,p,l)),O.push(tt[c]),O.push(ot[c])):103===c?(4===y?(w=1-ct(e,p,f),_=ct(e,h,f),E=ct(e,h,l),v=1-ct(e,p,l)):(w=ct(s,f,p),_=1-ct(s,f,h),E=1-ct(s,l,h),v=ct(s,l,p)),O.push(et[c]),O.push(nt[c])):152===c?(0===y?(P=ct(e,f,p),_=1-ct(e,f,h),m=1-ct(s,f,h),x=1-ct(s,l,h),E=1-ct(e,l,h),b=ct(e,l,p)):(P=1-ct(s,p,f),_=ct(s,h,f),m=ct(e,h,f),x=ct(e,h,l),E=ct(s,h,l),b=1-ct(s,p,l)),O.push(tt[c]),O.push(nt[c]),O.push(rt[c])):156===c?(4===y?(P=ct(e,f,p),_=1-ct(e,f,h),m=1-ct(s,f,h),x=1-ct(s,l,h),E=1-ct(e,l,h),b=ct(e,l,p)):(P=1-ct(s,p,f),_=ct(s,h,f),m=ct(e,h,f),x=ct(e,h,l),E=ct(s,h,l),b=1-ct(s,p,l)),O.push(tt[c]),O.push(rt[c]),O.push(it[c])):137===c?(0===y?(P=ct(s,f,p),w=ct(e,f,p),m=1-ct(e,f,h),x=1-ct(e,l,h),v=ct(e,l,p),b=ct(s,l,p)):(P=1-ct(e,p,f),w=1-ct(s,p,f),m=ct(s,h,f),x=ct(s,h,l),v=1-ct(s,p,l),b=1-ct(e,p,l)),O.push(tt[c]),O.push(et[c]),O.push(rt[c])):139===c?(4===y?(P=ct(s,f,p),w=ct(e,f,p),m=1-ct(e,f,h),x=1-ct(e,l,h),v=ct(e,l,p),b=ct(s,l,p)):(P=1-ct(e,p,f),w=1-ct(s,p,f),m=ct(s,h,f),x=ct(s,h,l),v=1-ct(s,p,l),b=1-ct(e,p,l)),O.push(tt[c]),O.push(et[c]),O.push(ot[c])):98===c?(0===y?(P=1-ct(e,p,f),w=1-ct(s,p,f),_=ct(s,h,f),m=ct(e,h,f),E=ct(e,h,l),v=1-ct(e,p,l)):(P=ct(s,f,p),w=ct(e,f,p),_=1-ct(e,f,h),m=1-ct(s,f,h),E=1-ct(s,l,h),v=ct(s,l,p)),O.push(tt[c]),O.push(et[c]),O.push(it[c])):99===c?(4===y?(P=1-ct(e,p,f),w=1-ct(s,p,f),_=ct(s,h,f),m=ct(e,h,f),E=ct(e,h,l),v=1-ct(e,p,l)):(P=ct(s,f,p),w=ct(e,f,p),_=1-ct(e,f,h),m=1-ct(s,f,h),E=1-ct(s,l,h),v=ct(s,l,p)),O.push(tt[c]),O.push(et[c]),O.push(rt[c])):38===c?(0===y?(w=1-ct(e,p,f),_=ct(e,h,f),x=ct(e,h,l),E=ct(s,h,l),v=1-ct(s,p,l),b=1-ct(e,p,l)):(w=ct(s,f,p),_=1-ct(s,f,h),x=1-ct(s,l,h),E=1-ct(e,l,h),v=ct(e,l,p),b=ct(s,l,p)),O.push(et[c]),O.push(ot[c]),O.push(it[c])):39===c?(4===y?(w=1-ct(e,p,f),_=ct(e,h,f),x=ct(e,h,l),E=ct(s,h,l),v=1-ct(s,p,l),b=1-ct(e,p,l)):(w=ct(s,f,p),_=1-ct(s,f,h),x=1-ct(s,l,h),E=1-ct(e,l,h),v=ct(e,l,p),b=ct(s,l,p)),O.push(et[c]),O.push(nt[c]),O.push(it[c])):85===c&&(P=1,w=0,_=1,m=0,x=0,E=1,v=0,b=1),(v<0||v>1||b<0||b>1||P<0||P>1||_<0||_>1||x<0||x>1||E<0||E>1)&&console.log("MarchingSquaresJS-isoBands: "+c+" "+d+" "+l+","+p+","+f+","+h+" "+y+" "+v+" "+b+" "+P+" "+w+" "+_+" "+m+" "+x+" "+E),i.cells[a][u]={cval:c,cval_real:d,flipped:y,topleft:v,topright:b,righttop:P,rightbottom:w,bottomright:_,bottomleft:m,leftbottom:x,lefttop:E,edges:O}}}}}return i}(t,e,n);return b.polygons?(b.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),u=function(t){var e=[],n=0;return t.cells.forEach((function(t,r){t.forEach((function(t,o){if(void 0!==t){var i=ut[t.cval](t);"object"==typeof i&&lt(i)?"object"==typeof i[0]&&lt(i[0])?"object"==typeof i[0][0]&&lt(i[0][0])?i.forEach((function(t){t.forEach((function(t){t[0]+=o,t[1]+=r})),e[n++]=t})):(i.forEach((function(t){t[0]+=o,t[1]+=r})),e[n++]=i):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}}))})),e}(c)):(b.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),u=function(t){for(var e=[],n=t.rows,r=t.cols,o=[],i=0;i<n;i++)for(var s=0;s<r;s++)if(void 0!==t.cells[i][s]&&t.cells[i][s].edges.length>0){var a=ft(t.cells[i][s]),u=null,c=s,l=i;null!==a&&o.push([a.p[0]+c,a.p[1]+l]);do{if(null===(u=ht(t.cells[l][c],a.x,a.y,a.o)))break;if(o.push([u.p[0]+c,u.p[1]+l]),c+=u.x,a=u,(l+=u.y)<0||l>=n||c<0||c>=r||void 0===t.cells[l][c]){var p=pt(t,c-=u.x,l-=u.y,u.x,u.y,u.o);if(null===p)break;p.path.forEach((function(t){o.push(t)})),c=p.i,l=p.j,a=p}}while(void 0!==t.cells[l][c]&&t.cells[l][c].edges.length>0);e.push(o),o=[],t.cells[i][s].edges.length>0&&s--}return e}(c)),"function"==typeof b.successCallback&&b.successCallback(u),u}var _=64,P=16,w=[],E=[],x=[],O=[],C=[],S=[],M=[],j=[],N=[],I=[],T=[],A=[],D=[],R=[],k=[],L=[],G=[],F=[],V=[],B=[],z=[],U=[],q=[],W=[];M[85]=I[85]=-1,j[85]=T[85]=0,N[85]=A[85]=1,V[85]=U[85]=1,B[85]=q[85]=0,z[85]=W[85]=1,w[85]=O[85]=0,E[85]=C[85]=-1,x[85]=k[85]=0,L[85]=D[85]=0,G[85]=R[85]=1,S[85]=F[85]=1,U[1]=U[169]=0,q[1]=q[169]=-1,W[1]=W[169]=0,D[1]=D[169]=-1,R[1]=R[169]=0,k[1]=k[169]=0,I[4]=I[166]=0,T[4]=T[166]=-1,A[4]=A[166]=1,L[4]=L[166]=1,G[4]=G[166]=0,F[4]=F[166]=0,M[16]=M[154]=0,j[16]=j[154]=1,N[16]=N[154]=1,O[16]=O[154]=1,C[16]=C[154]=0,S[16]=S[154]=1,V[64]=V[106]=0,B[64]=B[106]=1,z[64]=z[106]=0,w[64]=w[106]=-1,E[64]=E[106]=0,x[64]=x[106]=1,V[2]=V[168]=0,B[2]=B[168]=-1,z[2]=z[168]=1,U[2]=U[168]=0,q[2]=q[168]=-1,W[2]=W[168]=0,D[2]=D[168]=-1,R[2]=R[168]=0,k[2]=k[168]=0,L[2]=L[168]=-1,G[2]=G[168]=0,F[2]=F[168]=1,M[8]=M[162]=0,j[8]=j[162]=-1,N[8]=N[162]=0,I[8]=I[162]=0,T[8]=T[162]=-1,A[8]=A[162]=1,D[8]=D[162]=1,R[8]=R[162]=0,k[8]=k[162]=1,L[8]=L[162]=1,G[8]=G[162]=0,F[8]=F[162]=0,M[32]=M[138]=0,j[32]=j[138]=1,N[32]=N[138]=1,I[32]=I[138]=0,T[32]=T[138]=1,A[32]=A[138]=0,w[32]=w[138]=1,E[32]=E[138]=0,x[32]=x[138]=0,O[32]=O[138]=1,C[32]=C[138]=0,S[32]=S[138]=1,U[128]=U[42]=0,q[128]=q[42]=1,W[128]=W[42]=1,V[128]=V[42]=0,B[128]=B[42]=1,z[128]=z[42]=0,w[128]=w[42]=-1,E[128]=E[42]=0,x[128]=x[42]=1,O[128]=O[42]=-1,C[128]=C[42]=0,S[128]=S[42]=0,I[5]=I[165]=-1,T[5]=T[165]=0,A[5]=A[165]=0,U[5]=U[165]=1,q[5]=q[165]=0,W[5]=W[165]=0,L[20]=L[150]=0,G[20]=G[150]=1,F[20]=F[150]=1,O[20]=O[150]=0,C[20]=C[150]=-1,S[20]=S[150]=1,M[80]=M[90]=-1,j[80]=j[90]=0,N[80]=N[90]=1,V[80]=V[90]=1,B[80]=B[90]=0,z[80]=z[90]=1,D[65]=D[105]=0,R[65]=R[105]=1,k[65]=k[105]=0,w[65]=w[105]=0,E[65]=E[105]=-1,x[65]=x[105]=0,M[160]=M[10]=-1,j[160]=j[10]=0,N[160]=N[10]=1,I[160]=I[10]=-1,T[160]=T[10]=0,A[160]=A[10]=0,U[160]=U[10]=1,q[160]=q[10]=0,W[160]=W[10]=0,V[160]=V[10]=1,B[160]=B[10]=0,z[160]=z[10]=1,L[130]=L[40]=0,G[130]=G[40]=1,F[130]=F[40]=1,D[130]=D[40]=0,R[130]=R[40]=1,k[130]=k[40]=0,w[130]=w[40]=0,E[130]=E[40]=-1,x[130]=x[40]=0,O[130]=O[40]=0,C[130]=C[40]=-1,S[130]=S[40]=1,I[37]=I[133]=0,T[37]=T[133]=1,A[37]=A[133]=1,U[37]=U[133]=0,q[37]=q[133]=1,W[37]=W[133]=0,w[37]=w[133]=-1,E[37]=E[133]=0,x[37]=x[133]=0,O[37]=O[133]=1,C[37]=C[133]=0,S[37]=S[133]=0,L[148]=L[22]=-1,G[148]=G[22]=0,F[148]=F[22]=0,U[148]=U[22]=0,q[148]=q[22]=-1,W[148]=W[22]=1,V[148]=V[22]=0,B[148]=B[22]=1,z[148]=z[22]=1,O[148]=O[22]=-1,C[148]=C[22]=0,S[148]=S[22]=1,M[82]=M[88]=0,j[82]=j[88]=-1,N[82]=N[88]=1,L[82]=L[88]=1,G[82]=G[88]=0,F[82]=F[88]=1,D[82]=D[88]=-1,R[82]=R[88]=0,k[82]=k[88]=1,V[82]=V[88]=0,B[82]=B[88]=-1,z[82]=z[88]=0,M[73]=M[97]=0,j[73]=j[97]=1,N[73]=N[97]=0,I[73]=I[97]=0,T[73]=T[97]=-1,A[73]=A[97]=0,D[73]=D[97]=1,R[73]=R[97]=0,k[73]=k[97]=0,w[73]=w[97]=1,E[73]=E[97]=0,x[73]=x[97]=1,M[145]=M[25]=0,j[145]=j[25]=-1,N[145]=N[25]=0,D[145]=D[25]=1,R[145]=R[25]=0,k[145]=k[25]=1,U[145]=U[25]=0,q[145]=q[25]=1,W[145]=W[25]=1,O[145]=O[25]=-1,C[145]=C[25]=0,S[145]=S[25]=0,I[70]=I[100]=0,T[70]=T[100]=1,A[70]=A[100]=0,L[70]=L[100]=-1,G[70]=G[100]=0,F[70]=F[100]=1,V[70]=V[100]=0,B[70]=B[100]=-1,z[70]=z[100]=1,w[70]=w[100]=1,E[70]=E[100]=0,x[70]=x[100]=0,I[101]=I[69]=0,T[101]=T[69]=1,A[101]=A[69]=0,w[101]=w[69]=1,E[101]=E[69]=0,x[101]=x[69]=0,U[149]=U[21]=0,q[149]=q[21]=1,W[149]=W[21]=1,O[149]=O[21]=-1,C[149]=C[21]=0,S[149]=S[21]=0,L[86]=L[84]=-1,G[86]=G[84]=0,F[86]=F[84]=1,V[86]=V[84]=0,B[86]=B[84]=-1,z[86]=z[84]=1,M[89]=M[81]=0,j[89]=j[81]=-1,N[89]=N[81]=0,D[89]=D[81]=1,R[89]=R[81]=0,k[89]=k[81]=1,M[96]=M[74]=0,j[96]=j[74]=1,N[96]=N[74]=0,I[96]=I[74]=-1,T[96]=T[74]=0,A[96]=A[74]=1,V[96]=V[74]=1,B[96]=B[74]=0,z[96]=z[74]=0,w[96]=w[74]=1,E[96]=E[74]=0,x[96]=x[74]=1,M[24]=M[146]=0,j[24]=j[146]=-1,N[24]=N[146]=1,L[24]=L[146]=1,G[24]=G[146]=0,F[24]=F[146]=1,D[24]=D[146]=0,R[24]=R[146]=1,k[24]=k[146]=1,O[24]=O[146]=0,C[24]=C[146]=-1,S[24]=S[146]=0,I[6]=I[164]=-1,T[6]=T[164]=0,A[6]=A[164]=1,L[6]=L[164]=-1,G[6]=G[164]=0,F[6]=F[164]=0,U[6]=U[164]=0,q[6]=q[164]=-1,W[6]=W[164]=1,V[6]=V[164]=1,B[6]=B[164]=0,z[6]=z[164]=0,D[129]=D[41]=0,R[129]=R[41]=1,k[129]=k[41]=1,U[129]=U[41]=0,q[129]=q[41]=1,W[129]=W[41]=0,w[129]=w[41]=-1,E[129]=E[41]=0,x[129]=x[41]=0,O[129]=O[41]=0,C[129]=C[41]=-1,S[129]=S[41]=0,L[66]=L[104]=0,G[66]=G[104]=1,F[66]=F[104]=0,D[66]=D[104]=-1,R[66]=R[104]=0,k[66]=k[104]=1,V[66]=V[104]=0,B[66]=B[104]=-1,z[66]=z[104]=0,w[66]=w[104]=0,E[66]=E[104]=-1,x[66]=x[104]=1,M[144]=M[26]=-1,j[144]=j[26]=0,N[144]=N[26]=0,U[144]=U[26]=1,q[144]=q[26]=0,W[144]=W[26]=1,V[144]=V[26]=0,B[144]=B[26]=1,z[144]=z[26]=1,O[144]=O[26]=-1,C[144]=C[26]=0,S[144]=S[26]=1,I[36]=I[134]=0,T[36]=T[134]=1,A[36]=A[134]=1,L[36]=L[134]=0,G[36]=G[134]=1,F[36]=F[134]=0,w[36]=w[134]=0,E[36]=E[134]=-1,x[36]=x[134]=1,O[36]=O[134]=1,C[36]=C[134]=0,S[36]=S[134]=0,M[9]=M[161]=-1,j[9]=j[161]=0,N[9]=N[161]=0,I[9]=I[161]=0,T[9]=T[161]=-1,A[9]=A[161]=0,D[9]=D[161]=1,R[9]=R[161]=0,k[9]=k[161]=0,U[9]=U[161]=1,q[9]=q[161]=0,W[9]=W[161]=1,M[136]=0,j[136]=1,N[136]=1,I[136]=0,T[136]=1,A[136]=0,L[136]=-1,G[136]=0,F[136]=1,D[136]=-1,R[136]=0,k[136]=0,U[136]=0,q[136]=-1,W[136]=0,V[136]=0,B[136]=-1,z[136]=1,w[136]=1,E[136]=0,x[136]=0,O[136]=1,C[136]=0,S[136]=1,M[34]=0,j[34]=-1,N[34]=0,I[34]=0,T[34]=-1,A[34]=1,L[34]=1,G[34]=0,F[34]=0,D[34]=1,R[34]=0,k[34]=1,U[34]=0,q[34]=1,W[34]=1,V[34]=0,B[34]=1,z[34]=0,w[34]=-1,E[34]=0,x[34]=1,O[34]=-1,C[34]=0,S[34]=0,M[35]=0,j[35]=1,N[35]=1,I[35]=0,T[35]=-1,A[35]=1,L[35]=1,G[35]=0,F[35]=0,D[35]=-1,R[35]=0,k[35]=0,U[35]=0,q[35]=-1,W[35]=0,V[35]=0,B[35]=1,z[35]=0,w[35]=-1,E[35]=0,x[35]=1,O[35]=1,C[35]=0,S[35]=1,M[153]=0,j[153]=1,N[153]=1,D[153]=-1,R[153]=0,k[153]=0,U[153]=0,q[153]=-1,W[153]=0,O[153]=1,C[153]=0,S[153]=1,I[102]=0,T[102]=-1,A[102]=1,L[102]=1,G[102]=0,F[102]=0,V[102]=0,B[102]=1,z[102]=0,w[102]=-1,E[102]=0,x[102]=1,M[155]=0,j[155]=-1,N[155]=0,D[155]=1,R[155]=0,k[155]=1,U[155]=0,q[155]=1,W[155]=1,O[155]=-1,C[155]=0,S[155]=0,I[103]=0,T[103]=1,A[103]=0,L[103]=-1,G[103]=0,F[103]=1,V[103]=0,B[103]=-1,z[103]=1,w[103]=1,E[103]=0,x[103]=0,M[152]=0,j[152]=1,N[152]=1,L[152]=-1,G[152]=0,F[152]=1,D[152]=-1,R[152]=0,k[152]=0,U[152]=0,q[152]=-1,W[152]=0,V[152]=0,B[152]=-1,z[152]=1,O[152]=1,C[152]=0,S[152]=1,M[156]=0,j[156]=-1,N[156]=1,L[156]=1,G[156]=0,F[156]=1,D[156]=-1,R[156]=0,k[156]=0,U[156]=0,q[156]=-1,W[156]=0,V[156]=0,B[156]=1,z[156]=1,O[156]=-1,C[156]=0,S[156]=1,M[137]=0,j[137]=1,N[137]=1,I[137]=0,T[137]=1,A[137]=0,D[137]=-1,R[137]=0,k[137]=0,U[137]=0,q[137]=-1,W[137]=0,w[137]=1,E[137]=0,x[137]=0,O[137]=1,C[137]=0,S[137]=1,M[139]=0,j[139]=1,N[139]=1,I[139]=0,T[139]=-1,A[139]=0,D[139]=1,R[139]=0,k[139]=0,U[139]=0,q[139]=1,W[139]=0,w[139]=-1,E[139]=0,x[139]=0,O[139]=1,C[139]=0,S[139]=1,M[98]=0,j[98]=-1,N[98]=0,I[98]=0,T[98]=-1,A[98]=1,L[98]=1,G[98]=0,F[98]=0,D[98]=1,R[98]=0,k[98]=1,V[98]=0,B[98]=1,z[98]=0,w[98]=-1,E[98]=0,x[98]=1,M[99]=0,j[99]=1,N[99]=0,I[99]=0,T[99]=-1,A[99]=1,L[99]=1,G[99]=0,F[99]=0,D[99]=-1,R[99]=0,k[99]=1,V[99]=0,B[99]=-1,z[99]=0,w[99]=1,E[99]=0,x[99]=1,I[38]=0,T[38]=-1,A[38]=1,L[38]=1,G[38]=0,F[38]=0,U[38]=0,q[38]=1,W[38]=1,V[38]=0,B[38]=1,z[38]=0,w[38]=-1,E[38]=0,x[38]=1,O[38]=-1,C[38]=0,S[38]=0,I[39]=0,T[39]=1,A[39]=1,L[39]=-1,G[39]=0,F[39]=0,U[39]=0,q[39]=-1,W[39]=1,V[39]=0,B[39]=1,z[39]=0,w[39]=-1,E[39]=0,x[39]=1,O[39]=1,C[39]=0,S[39]=0;var J=function(t){return[[t.bottomleft,0],[0,0],[0,t.leftbottom]]},X=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0]]},Y=function(t){return[[t.topright,1],[1,1],[1,t.righttop]]},H=function(t){return[[0,t.lefttop],[0,1],[t.topleft,1]]},Z=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop]]},Q=function(t){return[[t.bottomright,0],[t.bottomleft,0],[1,t.righttop],[1,t.rightbottom]]},$=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.topleft,1],[t.topright,1]]},K=function(t){return[[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},tt=[],et=[],nt=[],rt=[],ot=[],it=[],st=[],at=[];rt[1]=ot[1]=18,rt[169]=ot[169]=18,nt[4]=et[4]=12,nt[166]=et[166]=12,tt[16]=at[16]=4,tt[154]=at[154]=4,it[64]=st[64]=22,it[106]=st[106]=22,nt[2]=it[2]=17,rt[2]=ot[2]=18,nt[168]=it[168]=17,rt[168]=ot[168]=18,tt[8]=rt[8]=9,et[8]=nt[8]=12,tt[162]=rt[162]=9,et[162]=nt[162]=12,tt[32]=at[32]=4,et[32]=st[32]=1,tt[138]=at[138]=4,et[138]=st[138]=1,ot[128]=at[128]=21,it[128]=st[128]=22,ot[42]=at[42]=21,it[42]=st[42]=22,et[5]=ot[5]=14,et[165]=ot[165]=14,nt[20]=at[20]=6,nt[150]=at[150]=6,tt[80]=it[80]=11,tt[90]=it[90]=11,rt[65]=st[65]=3,rt[105]=st[105]=3,tt[160]=it[160]=11,et[160]=ot[160]=14,tt[10]=it[10]=11,et[10]=ot[10]=14,nt[130]=at[130]=6,rt[130]=st[130]=3,nt[40]=at[40]=6,rt[40]=st[40]=3,et[101]=st[101]=1,et[69]=st[69]=1,ot[149]=at[149]=21,ot[21]=at[21]=21,nt[86]=it[86]=17,nt[84]=it[84]=17,tt[89]=rt[89]=9,tt[81]=rt[81]=9,tt[96]=st[96]=0,et[96]=it[96]=15,tt[74]=st[74]=0,et[74]=it[74]=15,tt[24]=nt[24]=8,rt[24]=at[24]=7,tt[146]=nt[146]=8,rt[146]=at[146]=7,et[6]=it[6]=15,nt[6]=ot[6]=16,et[164]=it[164]=15,nt[164]=ot[164]=16,rt[129]=at[129]=7,ot[129]=st[129]=20,rt[41]=at[41]=7,ot[41]=st[41]=20,nt[66]=st[66]=2,rt[66]=it[66]=19,nt[104]=st[104]=2,rt[104]=it[104]=19,tt[144]=ot[144]=10,it[144]=at[144]=23,tt[26]=ot[26]=10,it[26]=at[26]=23,et[36]=at[36]=5,nt[36]=st[36]=2,et[134]=at[134]=5,nt[134]=st[134]=2,tt[9]=ot[9]=10,et[9]=rt[9]=13,tt[161]=ot[161]=10,et[161]=rt[161]=13,et[37]=at[37]=5,ot[37]=st[37]=20,et[133]=at[133]=5,ot[133]=st[133]=20,nt[148]=ot[148]=16,it[148]=at[148]=23,nt[22]=ot[22]=16,it[22]=at[22]=23,tt[82]=nt[82]=8,rt[82]=it[82]=19,tt[88]=nt[88]=8,rt[88]=it[88]=19,tt[73]=st[73]=0,et[73]=rt[73]=13,tt[97]=st[97]=0,et[97]=rt[97]=13,tt[145]=rt[145]=9,ot[145]=at[145]=21,tt[25]=rt[25]=9,ot[25]=at[25]=21,et[70]=st[70]=1,nt[70]=it[70]=17,et[100]=st[100]=1,nt[100]=it[100]=17,tt[34]=rt[34]=9,et[34]=nt[34]=12,ot[34]=at[34]=21,it[34]=st[34]=22,tt[136]=at[136]=4,et[136]=st[136]=1,nt[136]=it[136]=17,rt[136]=ot[136]=18,tt[35]=at[35]=4,et[35]=nt[35]=12,rt[35]=ot[35]=18,it[35]=st[35]=22,tt[153]=at[153]=4,rt[153]=ot[153]=18,et[102]=nt[102]=12,it[102]=st[102]=22,tt[155]=rt[155]=9,ot[155]=at[155]=23,et[103]=st[103]=1,nt[103]=it[103]=17,tt[152]=at[152]=4,nt[152]=it[152]=17,rt[152]=ot[152]=18,tt[156]=nt[156]=8,rt[156]=ot[156]=18,it[156]=at[156]=23,tt[137]=at[137]=4,et[137]=st[137]=1,rt[137]=ot[137]=18,tt[139]=at[139]=4,et[139]=rt[139]=13,ot[139]=st[139]=20,tt[98]=rt[98]=9,et[98]=nt[98]=12,it[98]=st[98]=22,tt[99]=st[99]=0,et[99]=nt[99]=12,rt[99]=it[99]=19,et[38]=nt[38]=12,ot[38]=at[38]=21,it[38]=st[38]=22,et[39]=at[39]=5,nt[39]=ot[39]=16,it[39]=st[39]=22;var ut=[];function ct(t,e,n){return(t-e)/(n-e)}function lt(t){return t.constructor.toString().indexOf("Array")>-1}function pt(t,e,n,r,o,i){for(var s=t.cells[n][e],a=s.cval_real,u=e+r,c=n+o,l=[],p=!1;!p;){if(void 0===t.cells[c]||void 0===t.cells[c][u])if(c-=o,u-=r,a=(s=t.cells[c][u]).cval_real,-1===o)if(0===i)if(1&a)l.push([u,c]),r=-1,o=0,i=0;else{if(!(4&a)){l.push([u+s.bottomright,c]),r=0,o=1,i=1,p=!0;break}l.push([u+1,c]),r=1,o=0,i=0}else{if(!(1&a)){if(4&a){l.push([u+s.bottomright,c]),r=0,o=1,i=1,p=!0;break}l.push([u+s.bottomleft,c]),r=0,o=1,i=0,p=!0;break}l.push([u,c]),r=-1,o=0,i=0}else if(1===o)if(0===i){if(!(a&P)){if(a&_){l.push([u+s.topleft,c+1]),r=0,o=-1,i=0,p=!0;break}l.push([u+s.topright,c+1]),r=0,o=-1,i=1,p=!0;break}l.push([u+1,c+1]),r=1,o=0,i=1}else l.push([u+1,c+1]),r=1,o=0,i=1;else if(-1===r)if(0===i){if(!(a&_)){if(1&a){l.push([u,c+s.leftbottom]),r=1,o=0,i=0,p=!0;break}l.push([u,c+s.lefttop]),r=1,o=0,i=1,p=!0;break}l.push([u,c+1]),r=0,o=1,i=0}else{if(!(a&_)){console.log("MarchingSquaresJS-isoBands: wtf");break}l.push([u,c+1]),r=0,o=1,i=0}else{if(1!==r){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(0===i){if(!(4&a)){l.push([u+1,c+s.rightbottom]),r=-1,o=0,i=0,p=!0;break}l.push([u+1,c]),r=0,o=-1,i=1}else{if(!(4&a)){if(a&P){l.push([u+1,c+s.righttop]),r=-1,o=0,i=1;break}l.push([u+1,c+s.rightbottom]),r=-1,o=0,i=0,p=!0;break}l.push([u+1,c]),r=0,o=-1,i=1}}else if(a=(s=t.cells[c][u]).cval_real,-1===r)if(0===i)if(void 0!==t.cells[c-1]&&void 0!==t.cells[c-1][u])r=0,o=-1,i=1;else{if(!(1&a)){l.push([u+s.bottomright,c]),r=0,o=1,i=1,p=!0;break}l.push([u,c])}else{if(!(a&_)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+u+","+c);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(1===r){if(0===i){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[c+1]&&void 0!==t.cells[c+1][u])r=0,o=1,i=0;else{if(!(a&P)){l.push([u+s.topleft,c+1]),r=0,o=-1,i=0,p=!0;break}l.push([u+1,c+1]),r=1,o=0,i=1}}else if(-1===o){if(1!==i){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[c][u+1])r=1,o=0,i=1;else{if(!(4&a)){l.push([u+1,c+s.righttop]),r=-1,o=0,i=1,p=!0;break}l.push([u+1,c]),r=0,o=-1,i=1}}else{if(1!==o){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(0!==i){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[c][u-1])r=-1,o=0,i=0;else{if(!(a&_)){l.push([u,c+s.leftbottom]),r=1,o=0,i=0,p=!0;break}l.push([u,c+1]),r=0,o=1,i=0}}if(c+=o,(u+=r)===e&&c===n)break}return{path:l,i:u,j:c,x:r,y:o,o:i}}function ft(t){if(t.edges.length>0){var e=t.edges[t.edges.length-1],n=t.cval_real;switch(e){case 0:return n&P?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 1:return 4&n?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 2:return 4&n?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 3:return 1&n?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 4:return n&P?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 5:return 4&n?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 6:return 4&n?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 7:return 1&n?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 8:return 4&n?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.righttop],x:-1,y:0,o:1};case 9:return 1&n?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 10:return 1&n?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.righttop],x:-1,y:0,o:1};case 11:return n&_?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 12:return 4&n?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 13:return 1&n?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 14:return 1&n?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 15:return n&_?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 16:return 4&n?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 17:return n&_?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 18:return 1&n?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 19:return n&_?{p:[t.bottomleft,0],x:0,y:1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 20:return n&_?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 21:return n&P?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.topright,1],x:0,y:-1,o:1};case 22:return n&_?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 23:return n&P?{p:[0,t.lefttop],x:1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t)}}return null}function ht(t,e,n,r){var o,i,s,a,u,c=t.cval;switch(e){case-1:0===r?(o=et[c],s=I[c],a=T[c],u=A[c]):(o=tt[c],s=M[c],a=j[c],u=N[c]);break;case 1:0===r?(o=ot[c],s=U[c],a=q[c],u=W[c]):(o=it[c],s=V[c],a=B[c],u=z[c]);break;default:switch(n){case-1:0===r?(o=st[c],s=w[c],a=E[c],u=x[c]):(o=at[c],s=O[c],a=C[c],u=S[c]);break;case 1:0===r?(o=rt[c],s=D[c],a=R[c],u=k[c]):(o=nt[c],s=L[c],a=G[c],u=F[c])}}if(i=t.edges.indexOf(o),void 0===t.edges[i])return null;switch(function(t,e){delete t.edges[e];for(var n=e+1;n<t.edges.length;n++)t.edges[n-1]=t.edges[n];t.edges.pop()}(t,i),c=t.cval_real,o){case 0:c&P?(e=t.topleft,n=1):(e=1,n=t.righttop);break;case 1:4&c?(e=1,n=t.rightbottom):(e=t.topleft,n=1);break;case 2:4&c?(e=t.topleft,n=1):(e=t.bottomright,n=0);break;case 3:1&c?(e=t.bottomleft,n=0):(e=t.topleft,n=1);break;case 4:c&P?(e=t.topright,n=1):(e=1,n=t.righttop);break;case 5:4&c?(e=1,n=t.rightbottom):(e=t.topright,n=1);break;case 6:4&c?(e=t.topright,n=1):(e=t.bottomright,n=0);break;case 7:1&c?(e=t.bottomleft,n=0):(e=t.topright,n=1);break;case 8:4&c?(e=1,n=t.righttop):(e=t.bottomright,n=0);break;case 9:1&c?(e=t.bottomleft,n=0):(e=1,n=t.righttop);break;case 10:1&c?(e=1,n=t.righttop):(e=0,n=t.leftbottom);break;case 11:c&_?(e=0,n=t.lefttop):(e=1,n=t.righttop);break;case 12:4&c?(e=1,n=t.rightbottom):(e=t.bottomright,n=0);break;case 13:1&c?(e=t.bottomleft,n=0):(e=1,n=t.rightbottom);break;case 14:1&c?(e=1,n=t.rightbottom):(e=0,n=t.leftbottom);break;case 15:c&_?(e=0,n=t.lefttop):(e=1,n=t.rightbottom);break;case 16:4&c?(e=0,n=t.leftbottom):(e=t.bottomright,n=0);break;case 17:c&_?(e=0,n=t.lefttop):(e=t.bottomright,n=0);break;case 18:1&c?(e=t.bottomleft,n=0):(e=0,n=t.leftbottom);break;case 19:c&_?(e=0,n=t.lefttop):(e=t.bottomleft,n=0);break;case 20:c&_?(e=0,n=t.leftbottom):(e=t.topleft,n=1);break;case 21:c&P?(e=t.topright,n=1):(e=0,n=t.leftbottom);break;case 22:c&_?(e=0,n=t.lefttop):(e=t.topleft,n=1);break;case 23:c&P?(e=t.topright,n=1):(e=0,n=t.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t),null}return void 0!==e&&void 0!==n&&void 0!==s&&void 0!==a&&void 0!==u||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(t),console.log(e+" "+n+" "+s+" "+a+" "+u)),{p:[e,n],x:s,y:a,o:u}}function dt(t,e,n){if(n=n||{},!u.isObject(n))throw new Error("options is invalid");var r=n.zProperty||"elevation",o=n.commonProperties||{},i=n.breaksProperties||[];if(a.collectionOf(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks is not an Array");if(!u.isObject(o))throw new Error("commonProperties is not an Object");if(!Array.isArray(i))throw new Error("breaksProperties is not an Array");var s=function(t,e){if(e=e||{},!u.isObject(e))throw new Error("options is invalid");var n=e.zProperty||"elevation",r=e.flip,o=e.flags;a.collectionOf(t,"Point","input must contain Points");for(var i=function(t,e){var n={};return l.featureEach(t,(function(t){var e=a.getCoords(t)[1];n[e]||(n[e]=[]),n[e].push(t)})),Object.keys(n).map((function(t){return n[t].sort((function(t,e){return a.getCoords(t)[0]-a.getCoords(e)[0]}))})).sort((function(t,n){return e?a.getCoords(t[0])[1]-a.getCoords(n[0])[1]:a.getCoords(n[0])[1]-a.getCoords(t[0])[1]}))}(t,r),s=[],c=0;c<i.length;c++){for(var p=i[c],f=[],h=0;h<p.length;h++){var d=p[h];d.properties[n]?f.push(d.properties[n]):f.push(0),!0===o&&(d.properties.matrixPosition=[c,h])}s.push(f)}return s}(t,{zProperty:r,flip:!0}),c=function(t,e,n){for(var r=[],o=1;o<e.length;o++){var i=+e[o-1],s=+e[o],a=gt(yt(m(t,i,s-i))),u={};u.groupedRings=a,u[n]=i+"-"+s,r.push(u)}return r}(s,e,r);c=function(t,e,n){var r=f.default(n),o=r[2]-r[0],i=r[3]-r[1],s=r[0],a=r[1],u=e[0].length-1,c=e.length-1,l=o/u,p=i/c,h=function(t){t[0]=t[0]*l+s,t[1]=t[1]*p+a};return t.forEach((function(t){t.groupedRings.forEach((function(t){t.forEach((function(t){t.forEach(h)}))}))})),t}(c,s,t);var p=c.map((function(t,e){if(i[e]&&!u.isObject(i[e]))throw new Error("Each mappedProperty is required to be an Object");var n=g.default({},o,i[e]);return n[r]=t[r],u.multiPolygon(t.groupedRings,n)}));return u.featureCollection(p)}function yt(t){var e=[],n=[];t.forEach((function(t){var r=h.default(u.polygon([t]));n.push(r),e.push({ring:t,area:r})})),n.sort((function(t,e){return e-t}));var r=[];return n.forEach((function(t){for(var n=0;n<e.length;n++)if(e[n].area===t){r.push(e[n].ring),e.splice(n,1);break}})),r}function gt(t){for(var e=t.map((function(t){return{lrCoordinates:t,grouped:!1}})),n=[];!bt(e);)for(var r=0;r<e.length;r++)if(!e[r].grouped){var o=[];o.push(e[r].lrCoordinates),e[r].grouped=!0;for(var i=u.polygon([e[r].lrCoordinates]),s=r+1;s<e.length;s++)e[s].grouped||vt(u.polygon([e[s].lrCoordinates]),i)&&(o.push(e[s].lrCoordinates),e[s].grouped=!0);n.push(o)}return n}function vt(t,e){for(var n=y.default(t),r=0;r<n.features.length;r++)if(!d.default(n.features[r],e))return!1;return!0}function bt(t){for(var e=0;e<t.length;e++)if(!1===t[e].grouped)return!1;return!0}ut[1]=ut[169]=J,ut[4]=ut[166]=X,ut[16]=ut[154]=Y,ut[64]=ut[106]=H,ut[168]=ut[2]=Z,ut[162]=ut[8]=Q,ut[138]=ut[32]=$,ut[42]=ut[128]=K,ut[5]=ut[165]=function(t){return[[0,0],[0,t.leftbottom],[1,t.rightbottom],[1,0]]},ut[20]=ut[150]=function(t){return[[1,0],[t.bottomright,0],[t.topright,1],[1,1]]},ut[80]=ut[90]=function(t){return[[1,1],[1,t.righttop],[0,t.lefttop],[0,1]]},ut[65]=ut[105]=function(t){return[[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},ut[160]=ut[10]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.leftbottom],[0,t.lefttop]]},ut[130]=ut[40]=function(t){return[[t.topleft,1],[t.topright,1],[t.bottomright,0],[t.bottomleft,0]]},ut[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},ut[101]=ut[69]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,1],[t.topleft,1]]},ut[149]=ut[21]=function(t){return[[t.topright,1],[1,1],[1,0],[0,0],[0,t.leftbottom]]},ut[86]=ut[84]=function(t){return[[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[1,1]]},ut[89]=ut[81]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,1]]},ut[96]=ut[74]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.lefttop],[0,1],[t.topleft,1]]},ut[24]=ut[146]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[t.topright,1]]},ut[6]=ut[164]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop]]},ut[129]=ut[41]=function(t){return[[t.topright,1],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1]]},ut[66]=ut[104]=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},ut[144]=ut[26]=function(t){return[[1,1],[1,t.righttop],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},ut[36]=ut[134]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[t.topleft,1],[t.topright,1]]},ut[9]=ut[161]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom]]},ut[37]=ut[133]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},ut[148]=ut[22]=function(t){return[[1,1],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},ut[82]=ut[88]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1]]},ut[73]=ut[97]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},ut[145]=ut[25]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},ut[70]=ut[100]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},ut[34]=function(t){return[K(t),Q(t)]},ut[35]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},ut[136]=function(t){return[$(t),Z(t)]},ut[153]=function(t){return[Y(t),J(t)]},ut[102]=function(t){return[X(t),H(t)]},ut[155]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},ut[103]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},ut[152]=function(t){return[Y(t),Z(t)]},ut[156]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},ut[137]=function(t){return[$(t),J(t)]},ut[139]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},ut[98]=function(t){return[Q(t),H(t)]},ut[99]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},ut[38]=function(t){return[X(t),K(t)]},ut[39]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},t.exports=dt,t.exports.default=dt},7928:(t,e,n)=>{"use strict";var r=n(9705),o=n(31540),i=n(10611),s=n(84102),a=n(27418);function u(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var c=u(r),l=u(a),p={successCallback:null,verbose:!1},f={};function h(t,e,n){n=n||{};for(var r=Object.keys(p),o=0;o<r.length;o++){var i=r[o],s=n[i];s=null!=s?s:p[i],f[i]=s}f.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+e);var a,u,c,l=(a=function(t,e){for(var n=t.length-1,r=t[0].length-1,o={rows:n,cols:r,cells:[]},i=0;i<n;++i){o.cells[i]=[];for(var s=0;s<r;++s){var a=0,u=t[i+1][s],c=t[i+1][s+1],l=t[i][s+1],p=t[i][s];if(!(isNaN(u)||isNaN(c)||isNaN(l)||isNaN(p))){a|=u>=e?8:0,a|=c>=e?4:0,a|=l>=e?2:0;var f,h,y,g,v=!1;if(5==(a|=p>=e?1:0)||10===a){var b=(u+c+l+p)/4;5===a&&b<e?(a=10,v=!0):10===a&&b<e&&(a=5,v=!0)}0!==a&&15!==a&&(f=h=y=g=.5,1===a?(y=1-d(e,u,p),h=1-d(e,l,p)):2===a?(h=d(e,p,l),g=1-d(e,c,l)):3===a?(y=1-d(e,u,p),g=1-d(e,c,l)):4===a?(f=d(e,u,c),g=d(e,l,c)):5===a?(f=d(e,u,c),g=d(e,l,c),h=1-d(e,l,p),y=1-d(e,u,p)):6===a?(h=d(e,p,l),f=d(e,u,c)):7===a?(y=1-d(e,u,p),f=d(e,u,c)):8===a?(y=d(e,p,u),f=1-d(e,c,u)):9===a?(h=1-d(e,l,p),f=1-d(e,c,u)):10===a?(f=1-d(e,c,u),g=1-d(e,c,l),h=d(e,p,l),y=d(e,p,u)):11===a?(f=1-d(e,c,u),g=1-d(e,c,l)):12===a?(y=d(e,p,u),g=d(e,l,c)):13===a?(h=1-d(e,l,p),g=d(e,l,c)):14===a?(y=d(e,p,u),h=d(e,p,l)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+a),o.cells[i][s]={cval:a,flipped:v,top:f,right:g,bottom:h,left:y})}}}return o}(t,e),u=[],c=0,1e-7,a.cells.forEach((function(t,e){t.forEach((function(t,n){if(void 0!==t&&5!==(f=t).cval&&10!==f.cval&&!y(t)){var r=function(t,e,n){var r,o,i=t.length,s=[],a=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],u=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],c=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],l=t[e][n],p=l.cval,f=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"][p],h=v(l,f);s.push([n+h[0],e+h[1]]),h=v(l,f=c[p]),s.push([n+h[0],e+h[1]]),g(l);for(var d=n+a[p],y=e+u[p],b=p;d>=0&&y>=0&&y<i&&(d!=n||y!=e)&&void 0!==(l=t[y][d]);){if(0===(p=l.cval)||15===p)return{path:s,info:"mergeable"};f=c[p],r=a[p],o=u[p],5!==p&&10!==p||(5===p?l.flipped?-1===u[b]?(f="left",r=-1,o=0):(f="right",r=1,o=0):-1===a[b]&&(f="bottom",r=0,o=-1):10===p&&(l.flipped?-1===a[b]?(f="top",r=0,o=1):(f="bottom",r=0,o=-1):1===u[b]&&(f="left",r=-1,o=0))),h=v(l,f),s.push([d+h[0],y+h[1]]),g(l),d+=r,y+=o,b=p}return{path:s,info:"closed"}}(a.cells,e,n),o=!1;if("mergeable"===r.info)for(var i=r.path[r.path.length-1][0],s=r.path[r.path.length-1][1],l=c-1;l>=0;l--)if(Math.abs(u[l][0][0]-i)<=1e-7&&Math.abs(u[l][0][1]-s)<=1e-7){for(var p=r.path.length-2;p>=0;--p)u[l].unshift(r.path[p]);o=!0;break}o||(u[c++]=r.path)}var f}))})),u);return"function"==typeof f.successCallback&&f.successCallback(l),l}function d(t,e,n){return(t-e)/(n-e)}function y(t){return 0===t.cval||15===t.cval}function g(t){y(t)||5===t.cval||10===t.cval||(t.cval=15)}function v(t,e){return"top"===e?[t.top,1]:"bottom"===e?[t.bottom,0]:"right"===e?[1,t.right]:"left"===e?[0,t.left]:void 0}function b(t,e,n){if(n=n||{},!s.isObject(n))throw new Error("options is invalid");var r=n.zProperty||"elevation",a=n.commonProperties||{},u=n.breaksProperties||[];if(i.collectionOf(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks must be an Array");if(!s.isObject(a))throw new Error("commonProperties must be an Object");if(!Array.isArray(u))throw new Error("breaksProperties must be an Array");var p=function(t,e){if(e=e||{},!s.isObject(e))throw new Error("options is invalid");var n=e.zProperty||"elevation",r=e.flip,a=e.flags;i.collectionOf(t,"Point","input must contain Points");for(var u=function(t,e){var n={};return o.featureEach(t,(function(t){var e=i.getCoords(t)[1];n[e]||(n[e]=[]),n[e].push(t)})),Object.keys(n).map((function(t){return n[t].sort((function(t,e){return i.getCoords(t)[0]-i.getCoords(e)[0]}))})).sort((function(t,n){return e?i.getCoords(t[0])[1]-i.getCoords(n[0])[1]:i.getCoords(n[0])[1]-i.getCoords(t[0])[1]}))}(t,r),c=[],l=0;l<u.length;l++){for(var p=u[l],f=[],h=0;h<p.length;h++){var d=p[h];d.properties[n]?f.push(d.properties[n]):f.push(0),!0===a&&(d.properties.matrixPosition=[l,h])}c.push(f)}return c}(t,{zProperty:r,flip:!0}),f=function(t,e,n,r,o){for(var i=[],a=1;a<e.length;a++){var u=+e[a],c=l.default({},r,o[a]);c[n]=u;var p=s.multiLineString(h(t,u),c);i.push(p)}return i}(p,e,r,a,u),d=function(t,e,n){var r=c.default(n),i=r[2]-r[0],s=r[3]-r[1],a=r[0],u=r[1],l=e[0].length-1,p=e.length-1,f=i/l,h=s/p,d=function(t){t[0]=t[0]*f+a,t[1]=t[1]*h+u};return t.forEach((function(t){o.coordEach(t,d)})),t}(f,p,t);return s.featureCollection(d)}t.exports=b,t.exports.default=b},81641:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(84102);e.default=function(t){var e,n,o={type:"FeatureCollection",features:[]};if("LineString"===(n="Feature"===t.type?t.geometry:t).type)e=[n.coordinates];else if("MultiLineString"===n.type)e=n.coordinates;else if("MultiPolygon"===n.type)e=[].concat.apply([],n.coordinates);else{if("Polygon"!==n.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");e=n.coordinates}return e.forEach((function(t){e.forEach((function(e){for(var n=0;n<t.length-1;n++)for(var i=n;i<e.length-1;i++){if(t===e){if(1===Math.abs(n-i))continue;if(0===n&&i===t.length-2&&t[n][0]===t[t.length-1][0]&&t[n][1]===t[t.length-1][1])continue}var s=(a=t[n][0],u=t[n][1],c=t[n+1][0],l=t[n+1][1],p=e[i][0],f=e[i][1],h=e[i+1][0],d=e[i+1][1],y=void 0,g=void 0,v=void 0,b=void 0,m=void 0,m={x:null,y:null,onLine1:!1,onLine2:!1},0==(y=(d-f)*(c-a)-(h-p)*(l-u))?null!==m.x&&null!==m.y&&m:(b=(c-a)*(g=u-f)-(l-u)*(v=a-p),g=((h-p)*g-(d-f)*v)/y,v=b/y,m.x=a+g*(c-a),m.y=u+g*(l-u),g>=0&&g<=1&&(m.onLine1=!0),v>=0&&v<=1&&(m.onLine2=!0),!(!m.onLine1||!m.onLine2)&&[m.x,m.y]));s&&o.features.push(r.point([s[0],s[1]]))}var a,u,c,l,p,f,h,d,y,g,v,b,m}))})),o}},10091:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(31013)),i=n(31540);e.default=function(t,e){return void 0===e&&(e={}),i.segmentReduce(t,(function(t,n){var r=n.geometry.coordinates;return t+o.default(r[0],r[1],e)}),0)}},67272:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(90265)),i=r(n(93737)),s=n(84102);function a(t){var e=t%360;return e<0&&(e+=360),e}e.default=function(t,e,n,r,u){void 0===u&&(u={});var c=u.steps||64,l=a(n),p=a(r),f=Array.isArray(t)||"Feature"!==t.type?{}:t.properties;if(l===p)return s.lineString(o.default(t,e,u).geometry.coordinates[0],f);for(var h=l,d=l<p?p:p+360,y=h,g=[],v=0;y<d;)g.push(i.default(t,e,y,u).geometry.coordinates),y=h+360*++v/c;return y>d&&g.push(i.default(t,e,d,u).geometry.coordinates),s.lineString(g,f)}},39632:(t,e,n)=>{"use strict";var r=n(10091),o=n(51378),i=n(31540),s=n(84102);function a(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var u=a(r),c=a(o);function l(t,e,n){if(n=n||{},!s.isObject(n))throw new Error("options is invalid");var r=n.units,o=n.reverse;if(!t)throw new Error("geojson is required");if(e<=0)throw new Error("segmentLength must be greater than 0");var a=[];return i.flattenEach(t,(function(t){o&&(t.geometry.coordinates=t.geometry.coordinates.reverse()),function(t,e,n,r){var o=u.default(t,{units:n});if(o<=e)return r(t);var i=o/e;Number.isInteger(i)||(i=Math.floor(i)+1);for(var s=0;s<i;s++)r(c.default(t,e*s,e*(s+1),{units:n}))}(t,e,r,(function(t){a.push(t)}))})),s.featureCollection(a)}t.exports=l,t.exports.default=l},73663:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(84102),i=n(10611),s=r(n(54590)),a=n(31540),u=r(n(51787));function c(t,e){var n=i.getCoords(t),r=i.getCoords(e);if(2!==n.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==r.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var s=n[0][0],a=n[0][1],u=n[1][0],c=n[1][1],l=r[0][0],p=r[0][1],f=r[1][0],h=r[1][1],d=(h-p)*(u-s)-(f-l)*(c-a);if(0===d)return null;var y=((f-l)*(a-p)-(h-p)*(s-l))/d,g=((u-s)*(a-p)-(c-a)*(s-l))/d;if(y>=0&&y<=1&&g>=0&&g<=1){var v=s+y*(u-s),b=a+y*(c-a);return o.point([v,b])}return null}e.default=function(t,e){var n={},r=[];if("LineString"===t.type&&(t=o.feature(t)),"LineString"===e.type&&(e=o.feature(e)),"Feature"===t.type&&"Feature"===e.type&&null!==t.geometry&&null!==e.geometry&&"LineString"===t.geometry.type&&"LineString"===e.geometry.type&&2===t.geometry.coordinates.length&&2===e.geometry.coordinates.length){var l=c(t,e);return l&&r.push(l),o.featureCollection(r)}var p=u.default();return p.load(s.default(e)),a.featureEach(s.default(t),(function(t){a.featureEach(p.search(t),(function(e){var o=c(t,e);if(o){var s=i.getCoords(o).join(",");n[s]||(n[s]=!0,r.push(o))}}))})),o.featureCollection(r)}},15668:(t,e,n)=>{"use strict";var r=n(31540),o=n(10611),i=n(84102);function s(t){var e=t[0],n=t[1];return[n[0]-e[0],n[1]-e[1]]}function a(t,e){return t[0]*e[1]-e[0]*t[1]}function u(t,e,n){if(n=n||{},!i.isObject(n))throw new Error("options is invalid");var s=n.units;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("distance is required");var a=o.getType(t),u=t.properties;switch(a){case"LineString":return c(t,e,s);case"MultiLineString":var l=[];return r.flattenEach(t,(function(t){l.push(c(t,e,s).geometry.coordinates)})),i.multiLineString(l,u);default:throw new Error("geometry "+a+" is not supported")}}function c(t,e,n){var r=[],u=i.lengthToDegrees(e,n),c=o.getCoords(t),l=[];return c.forEach((function(t,e){if(e!==c.length-1){var n=(h=t,d=c[e+1],y=u,g=Math.sqrt((h[0]-d[0])*(h[0]-d[0])+(h[1]-d[1])*(h[1]-d[1])),v=h[0]+y*(d[1]-h[1])/g,b=d[0]+y*(d[1]-h[1])/g,[[v,h[1]+y*(h[0]-d[0])/g],[b,d[1]+y*(h[0]-d[0])/g]]);if(r.push(n),e>0){var o=r[e-1],i=!function(t,e){return 0===a(s(t),s(e))}(p=n,f=o)&&function(t,e){var n,r,o=t[0],i=s(t),u=e[0],c=s(e),l=a(i,c),p=function(t,e){return[t[0]+e[0],t[1]+e[1]]}(o,function(t,e){return[t*e[0],t*e[1]]}(a((r=o,[(n=u)[0]-r[0],n[1]-r[1]]),c)/l,i));return p}(p,f);!1!==i&&(o[1]=i,n[0]=i),l.push(o[0]),e===c.length-2&&(l.push(n[0]),l.push(n[1]))}2===c.length&&(l.push(n[0]),l.push(n[1]))}var p,f,h,d,y,g,v,b})),i.lineString(l,t.properties)}t.exports=u,t.exports.default=u},90273:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(51787)),i=r(n(54590)),s=r(n(13807)),a=r(n(72793)),u=n(10611),c=n(31540),l=n(84102),p=r(n(10251));function f(t,e){var n=u.getCoords(e),r=u.getCoords(t),o=r[0],i=r[r.length-1],s=t.geometry.coordinates;return p.default(n[0],o)?s.unshift(n[1]):p.default(n[0],i)?s.push(n[1]):p.default(n[1],o)?s.unshift(n[0]):p.default(n[1],i)&&s.push(n[0]),t}e.default=function(t,e,n){if(void 0===n&&(n={}),n=n||{},!l.isObject(n))throw new Error("options is invalid");var r,h=n.tolerance||0,d=[],y=o.default(),g=i.default(t);return y.load(g),c.segmentEach(e,(function(t){var e=!1;t&&(c.featureEach(y.search(t),(function(n){if(!1===e){var o=u.getCoords(t).sort(),i=u.getCoords(n).sort();p.default(o,i)||(0===h?a.default(o[0],n)&&a.default(o[1],n):s.default(n,o[0]).properties.dist<=h&&s.default(n,o[1]).properties.dist<=h)?(e=!0,r=r?f(r,t):t):(0===h?a.default(i[0],t)&&a.default(i[1],t):s.default(t,i[0]).properties.dist<=h&&s.default(t,i[1]).properties.dist<=h)&&(r=r?f(r,n):n)}})),!1===e&&r&&(d.push(r),r=void 0))})),r&&d.push(r),l.featureCollection(d)}},54590:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(84102),o=n(10611),i=n(31540);e.default=function(t){if(!t)throw new Error("geojson is required");var e=[];return i.flattenEach(t,(function(t){!function(t,e){var n=[],i=t.geometry;if(null!==i){switch(i.type){case"Polygon":n=o.getCoords(i);break;case"LineString":n=[o.getCoords(i)]}n.forEach((function(n){var o=function(t,e){var n=[];return t.reduce((function(t,o){var i,s,a,u,c,l,p=r.lineString([t,o],e);return p.bbox=(s=o,a=(i=t)[0],u=i[1],[a<(c=s[0])?a:c,u<(l=s[1])?u:l,a>c?a:c,u>l?u:l]),n.push(p),o})),n}(n,t.properties);o.forEach((function(t){t.id=e.length,e.push(t)}))}))}}(t,e)})),r.featureCollection(e)}},51378:(t,e,n)=>{"use strict";var r=n(51208),o=n(31013),i=n(93737),s=n(84102);function a(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var u=a(r),c=a(o),l=a(i);function p(t,e,n,r){if(r=r||{},!s.isObject(r))throw new Error("options is invalid");var o,i=[];if("Feature"===t.type)o=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");o=t.coordinates}for(var a,p,f,h=o.length,d=0,y=0;y<o.length&&!(e>=d&&y===o.length-1);y++){if(d>e&&0===i.length){if(!(a=e-d))return i.push(o[y]),s.lineString(i);p=u.default(o[y],o[y-1])-180,f=l.default(o[y],a,p,r),i.push(f.geometry.coordinates)}if(d>=n)return(a=n-d)?(p=u.default(o[y],o[y-1])-180,f=l.default(o[y],a,p,r),i.push(f.geometry.coordinates),s.lineString(i)):(i.push(o[y]),s.lineString(i));if(d>=e&&i.push(o[y]),y===o.length-1)return s.lineString(i);d+=c.default(o[y],o[y+1],r)}if(d<e&&o.length===h)throw new Error("Start position is beyond line");var g=o[o.length-1];return s.lineString([g,g])}t.exports=p,t.exports.default=p},74792:(t,e,n)=>{"use strict";var r=n(10611),o=n(84102);function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var s=i(n(13807));function a(t,e,n){var i=r.getCoords(n);if("LineString"!==r.getType(n))throw new Error("line must be a LineString");for(var a,u=s.default(n,t),c=s.default(n,e),l=[(a=u.properties.index<=c.properties.index?[u,c]:[c,u])[0].geometry.coordinates],p=a[0].properties.index+1;p<a[1].properties.index+1;p++)l.push(i[p]);return l.push(a[1].geometry.coordinates),o.lineString(l,n.properties)}t.exports=a,t.exports.default=a},7477:(t,e,n)=>{"use strict";var r=n(51787),o=n(55077),i=n(9705),s=n(15608),a=n(54590),u=n(73663),c=n(13807),l=n(10611),p=n(31540),f=n(84102);function h(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var d=h(r),y=h(o),g=h(i),v=h(s),b=h(a),m=h(u),_=h(c);function P(t,e){if(!t)throw new Error("line is required");if(!e)throw new Error("splitter is required");var n=l.getType(t),r=l.getType(e);if("LineString"!==n)throw new Error("line must be LineString");if("FeatureCollection"===r)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===r)throw new Error("splitter cannot be a GeometryCollection");var o=v.default(e,{precision:7});switch(r){case"Point":return E(t,o);case"MultiPoint":return w(t,o);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return w(t,m.default(t,o))}}function w(t,e){var n=[],r=d.default();return p.flattenEach(e,(function(e){if(n.forEach((function(t,e){t.id=e})),n.length){var o=r.search(e);if(o.features.length){var i=x(e,o);n=n.filter((function(t){return t.id!==i.id})),r.remove(i),p.featureEach(E(i,e),(function(t){n.push(t),r.insert(t)}))}}else(n=E(t,e).features).forEach((function(t){t.bbox||(t.bbox=y.default(g.default(t)))})),r.load(f.featureCollection(n))})),f.featureCollection(n)}function E(t,e){var n=[],r=l.getCoords(t)[0],o=l.getCoords(t)[t.geometry.coordinates.length-1];if(O(r,l.getCoord(e))||O(o,l.getCoord(e)))return f.featureCollection([t]);var i=d.default(),s=b.default(t);i.load(s);var a=i.search(e);if(!a.features.length)return f.featureCollection([t]);var u=x(e,a),c=[r],h=p.featureReduce(s,(function(t,r,o){var i=l.getCoords(r)[1],s=l.getCoord(e);return o===u.id?(t.push(s),n.push(f.lineString(t)),O(s,i)?[s]:[s,i]):(t.push(i),t)}),c);return h.length>1&&n.push(f.lineString(h)),f.featureCollection(n)}function x(t,e){if(!e.features.length)throw new Error("lines must contain features");if(1===e.features.length)return e.features[0];var n,r=1/0;return p.featureEach(e,(function(e){var o=_.default(e,t).properties.dist;o<r&&(n=e,r=o)})),n}function O(t,e){return t[0]===e[0]&&t[1]===e[1]}t.exports=P,t.exports.default=P},41933:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(9705)),i=n(10611),s=n(84102),a=r(n(76565));function u(t,e,n,r){e=e||("Feature"===t.type?t.properties:{});var a=i.getGeom(t),u=a.coordinates,l=a.type;if(!u.length)throw new Error("line must contain coordinates");switch(l){case"LineString":return n&&(u=c(u)),s.polygon([u],e);case"MultiLineString":var p=[],f=0;return u.forEach((function(t){if(n&&(t=c(t)),r){var e=(a=(i=o.default(s.lineString(t)))[0],u=i[1],l=i[2],h=i[3],Math.abs(a-l)*Math.abs(u-h));e>f?(p.unshift(t),f=e):p.push(t)}else p.push(t);var i,a,u,l,h})),s.polygon(p,e);default:throw new Error("geometry type "+l+" is not supported")}}function c(t){var e=t[0],n=e[0],r=e[1],o=t[t.length-1],i=o[0],s=o[1];return n===i&&r===s||t.push(e),t}e.default=function(t,e){var n,r,o;void 0===e&&(e={});var c=e.properties,l=null===(n=e.autoComplete)||void 0===n||n,p=null===(r=e.orderCoords)||void 0===r||r;if(null!==(o=e.mutate)&&void 0!==o&&o||(t=a.default(t)),"FeatureCollection"===t.type){var f=[];return t.features.forEach((function(t){f.push(i.getCoords(u(t,{},l,p)))})),s.multiPolygon(f,c)}return u(t,c,l,p)}},60482:(t,e,n)=>{"use strict";var r=n(84102);function o(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var i=o(n(32676));function s(t,e){var n,o=function(t){var e=t&&t.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]];return r.polygon(e)}(e);return("FeatureCollection"===t.type?a(2===(n=t).features.length?i.default.union(n.features[0].geometry.coordinates,n.features[1].geometry.coordinates):i.default.union.apply(i.default,n.features.map((function(t){return t.geometry.coordinates})))):a(i.default.union(t.geometry.coordinates))).geometry.coordinates.forEach((function(t){o.geometry.coordinates.push(t[0])})),o}function a(t){return r.multiPolygon(t)}t.exports=s,t.exports.default=s},31540:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(84102);function o(t,e,n){if(null!==t)for(var r,i,s,a,u,c,l,p,f=0,h=0,d=t.type,y="FeatureCollection"===d,g="Feature"===d,v=y?t.features.length:1,b=0;b<v;b++){u=(p=!!(l=y?t.features[b].geometry:g?t.geometry:t)&&"GeometryCollection"===l.type)?l.geometries.length:1;for(var m=0;m<u;m++){var _=0,P=0;if(null!==(a=p?l.geometries[m]:l)){c=a.coordinates;var w=a.type;switch(f=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===e(c,h,b,_,P))return!1;h++,_++;break;case"LineString":case"MultiPoint":for(r=0;r<c.length;r++){if(!1===e(c[r],h,b,_,P))return!1;h++,"MultiPoint"===w&&_++}"LineString"===w&&_++;break;case"Polygon":case"MultiLineString":for(r=0;r<c.length;r++){for(i=0;i<c[r].length-f;i++){if(!1===e(c[r][i],h,b,_,P))return!1;h++}"MultiLineString"===w&&_++,"Polygon"===w&&P++}"Polygon"===w&&_++;break;case"MultiPolygon":for(r=0;r<c.length;r++){for(P=0,i=0;i<c[r].length;i++){for(s=0;s<c[r][i].length-f;s++){if(!1===e(c[r][i][s],h,b,_,P))return!1;h++}P++}_++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)if(!1===o(a.geometries[r],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length&&!1!==e(t.features[n].properties,n);n++);break;case"Feature":e(t.properties,0)}}function s(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length&&!1!==e(t.features[n],n);n++);}function a(t,e){var n,r,o,i,s,a,u,c,l,p,f=0,h="FeatureCollection"===t.type,d="Feature"===t.type,y=h?t.features.length:1;for(n=0;n<y;n++){for(a=h?t.features[n].geometry:d?t.geometry:t,c=h?t.features[n].properties:d?t.properties:{},l=h?t.features[n].bbox:d?t.bbox:void 0,p=h?t.features[n].id:d?t.id:void 0,s=(u=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,o=0;o<s;o++)if(null!==(i=u?a.geometries[o]:a))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(i,f,c,l,p))return!1;break;case"GeometryCollection":for(r=0;r<i.geometries.length;r++)if(!1===e(i.geometries[r],f,c,l,p))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,f,c,l,p))return!1;f++}}function u(t,e){a(t,(function(t,n,o,i,s){var a,u=null===t?null:t.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return!1!==e(r.feature(t,o,{bbox:i,id:s}),n,0)&&void 0}switch(u){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}for(var c=0;c<t.coordinates.length;c++){var l={type:a,coordinates:t.coordinates[c]};if(!1===e(r.feature(l,o),n,c))return!1}}))}function c(t,e){u(t,(function(t,n,i){var s=0;if(t.geometry){var a=t.geometry.type;if("Point"!==a&&"MultiPoint"!==a){var u,c=0,l=0,p=0;return!1!==o(t,(function(o,a,f,h,d){if(void 0===u||n>c||h>l||d>p)return u=o,c=n,l=h,p=d,void(s=0);var y=r.lineString([u,o],t.properties);if(!1===e(y,n,i,d,s))return!1;s++,u=o}))&&void 0}}}))}function l(t,e){if(!t)throw new Error("geojson is required");u(t,(function(t,n,o){if(null!==t.geometry){var i=t.geometry.type,s=t.geometry.coordinates;switch(i){case"LineString":if(!1===e(t,n,o,0,0))return!1;break;case"Polygon":for(var a=0;a<s.length;a++)if(!1===e(r.lineString(s[a],t.properties),n,o,a))return!1}}}))}e.coordAll=function(t){var e=[];return o(t,(function(t){e.push(t)})),e},e.coordEach=o,e.coordReduce=function(t,e,n,r){var i=n;return o(t,(function(t,r,o,s,a){i=0===r&&void 0===n?t:e(i,t,r,o,s,a)}),r),i},e.featureEach=s,e.featureReduce=function(t,e,n){var r=n;return s(t,(function(t,o){r=0===o&&void 0===n?t:e(r,t,o)})),r},e.findPoint=function(t,e){if(e=e||{},!r.isObject(e))throw new Error("options is invalid");var n,o=e.featureIndex||0,i=e.multiFeatureIndex||0,s=e.geometryIndex||0,a=e.coordIndex||0,u=e.properties;switch(t.type){case"FeatureCollection":o<0&&(o=t.features.length+o),u=u||t.features[o].properties,n=t.features[o].geometry;break;case"Feature":u=u||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var c=n.coordinates;switch(n.type){case"Point":return r.point(c,u,e);case"MultiPoint":return i<0&&(i=c.length+i),r.point(c[i],u,e);case"LineString":return a<0&&(a=c.length+a),r.point(c[a],u,e);case"Polygon":return s<0&&(s=c.length+s),a<0&&(a=c[s].length+a),r.point(c[s][a],u,e);case"MultiLineString":return i<0&&(i=c.length+i),a<0&&(a=c[i].length+a),r.point(c[i][a],u,e);case"MultiPolygon":return i<0&&(i=c.length+i),s<0&&(s=c[i].length+s),a<0&&(a=c[i][s].length-a),r.point(c[i][s][a],u,e)}throw new Error("geojson is invalid")},e.findSegment=function(t,e){if(e=e||{},!r.isObject(e))throw new Error("options is invalid");var n,o=e.featureIndex||0,i=e.multiFeatureIndex||0,s=e.geometryIndex||0,a=e.segmentIndex||0,u=e.properties;switch(t.type){case"FeatureCollection":o<0&&(o=t.features.length+o),u=u||t.features[o].properties,n=t.features[o].geometry;break;case"Feature":u=u||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var c=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return a<0&&(a=c.length+a-1),r.lineString([c[a],c[a+1]],u,e);case"Polygon":return s<0&&(s=c.length+s),a<0&&(a=c[s].length+a-1),r.lineString([c[s][a],c[s][a+1]],u,e);case"MultiLineString":return i<0&&(i=c.length+i),a<0&&(a=c[i].length+a-1),r.lineString([c[i][a],c[i][a+1]],u,e);case"MultiPolygon":return i<0&&(i=c.length+i),s<0&&(s=c[i].length+s),a<0&&(a=c[i][s].length-a-1),r.lineString([c[i][s][a],c[i][s][a+1]],u,e)}throw new Error("geojson is invalid")},e.flattenEach=u,e.flattenReduce=function(t,e,n){var r=n;return u(t,(function(t,o,i){r=0===o&&0===i&&void 0===n?t:e(r,t,o,i)})),r},e.geomEach=a,e.geomReduce=function(t,e,n){var r=n;return a(t,(function(t,o,i,s,a){r=0===o&&void 0===n?t:e(r,t,o,i,s,a)})),r},e.lineEach=l,e.lineReduce=function(t,e,n){var r=n;return l(t,(function(t,o,i,s){r=0===o&&void 0===n?t:e(r,t,o,i,s)})),r},e.propEach=i,e.propReduce=function(t,e,n){var r=n;return i(t,(function(t,o){r=0===o&&void 0===n?t:e(r,t,o)})),r},e.segmentEach=c,e.segmentReduce=function(t,e,n){var r=n,o=!1;return c(t,(function(t,i,s,a,u){r=!1===o&&void 0===n?t:e(r,t,i,s,a,u),o=!0})),r}},99034:(t,e,n)=>{"use strict";var r=n(51208),o=n(93737),i=n(31013);function s(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var a=s(r),u=s(o),c=s(i);function l(t,e){var n=c.default(t,e),r=a.default(t,e);return u.default(t,n/2,r)}t.exports=l,t.exports.default=l},10920:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(35366)),i=n(31540);function s(t){for(var e=0,n=0,r=t;n<r.length;n++)e+=r[n];return e/t.length}e.default=function(t,e){var n=e.inputField,r=e.threshold||1e5,a=e.p||2,u=e.binary||!1,c=e.alpha||-1,l=e.standardization||!0,p=o.default(t,{alpha:c,binary:u,p:a,standardization:l,threshold:r}),f=[];i.featureEach(t,(function(t){var e=t.properties||{};f.push(e[n])}));for(var h=s(f),d=function(t){for(var e=s(t),n=0,r=0,o=t;r<o.length;r++){var i=o[r];n+=Math.pow(i-e,2)}return n/t.length}(f),y=0,g=0,v=0,b=0,m=p.length,_=0;_<m;_++){for(var P=0,w=0;w<m;w++)y+=p[_][w]*(f[_]-h)*(f[w]-h),g+=p[_][w],v+=Math.pow(p[_][w]+p[w][_],2),P+=p[_][w]+p[w][_];b+=Math.pow(P,2)}var E=y/g/d,x=-1/(m-1),O=(m*m*(v*=.5)-m*b+g*g*3)/((m-1)*(m+1)*(g*g))-x*x,C=Math.sqrt(O);return{expectedMoranIndex:x,moranIndex:E,stdNorm:C,zNorm:(E-x)/C}}},13807:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(51208)),i=r(n(31013)),s=r(n(93737)),a=r(n(73663)),u=n(31540),c=n(84102),l=n(10611);e.default=function(t,e,n){void 0===n&&(n={});var r=c.point([1/0,1/0],{dist:1/0}),p=0;return u.flattenEach(t,(function(t){for(var u=l.getCoords(t),f=0;f<u.length-1;f++){var h=c.point(u[f]);h.properties.dist=i.default(e,h,n);var d=c.point(u[f+1]);d.properties.dist=i.default(e,d,n);var y=i.default(h,d,n),g=Math.max(h.properties.dist,d.properties.dist),v=o.default(h,d),b=s.default(e,g,v+90,n),m=s.default(e,g,v-90,n),_=a.default(c.lineString([b.geometry.coordinates,m.geometry.coordinates]),c.lineString([h.geometry.coordinates,d.geometry.coordinates])),P=null;_.features.length>0&&((P=_.features[0]).properties.dist=i.default(e,P,n),P.properties.location=p+i.default(h,P,n)),h.properties.dist<r.properties.dist&&((r=h).properties.index=f,r.properties.location=p),d.properties.dist<r.properties.dist&&((r=d).properties.index=f+1,r.properties.location=p+y),P&&P.properties.dist<r.properties.dist&&((r=P).properties.index=f),p+=y}})),r}},82059:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(10611),i=n(31540),s=r(n(63892)),a=r(n(27418));e.default=function(t,e,n){void 0===n&&(n={});var r=n.units,u=n.properties||{},c=function(t){var e=[];switch(t.geometry?t.geometry.type:t.type){case"GeometryCollection":return i.geomEach(t,(function(t){"Point"===t.type&&e.push({type:"Feature",properties:{},geometry:t})})),{type:"FeatureCollection",features:e};case"FeatureCollection":return t.features=t.features.filter((function(t){return"Point"===t.geometry.type})),t;default:throw new Error("points must be a Point Collection")}}(t);if(!c.features.length)throw new Error("points must contain features");if(!e)throw new Error("line is required");if("LineString"!==o.getType(e))throw new Error("line must be a LineString");var l=1/0,p=null;return i.featureEach(c,(function(t){var n=s.default(t,e,{units:r});n<l&&(l=n,p=t)})),p&&(p.properties=a.default({dist:l},p.properties,u)),p}},66379:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(76565)),i=r(n(31013)),s=n(31540);e.default=function(t,e){if(!t)throw new Error("targetPoint is required");if(!e)throw new Error("points is required");var n,r=1/0,a=0;return s.featureEach(e,(function(e,n){var o=i.default(t,e);o<r&&(a=n,r=o)})),(n=o.default(e.features[a])).properties.featureIndex=a,n.properties.distanceToPoint=r,n}},63377:(t,e,n)=>{"use strict";var r=n(10611);function o(t,e){var n=r.getCoord(t),o=r.getGeom(e).coordinates[0];if(o.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var i=e.properties||{},s=i.a,a=i.b,u=i.c,c=n[0],l=n[1],p=o[0][0],f=o[0][1],h=void 0!==s?s:o[0][2],d=o[1][0],y=o[1][1],g=void 0!==a?a:o[1][2],v=o[2][0],b=o[2][1],m=void 0!==u?u:o[2][2];return(m*(c-p)*(l-y)+h*(c-d)*(l-b)+g*(c-v)*(l-f)-g*(c-p)*(l-b)-m*(c-d)*(l-f)-h*(c-v)*(l-y))/((c-p)*(l-y)+(c-d)*(l-b)+(c-v)*(l-f)-(c-p)*(l-b)-(c-d)*(l-f)-(c-v)*(l-y))}t.exports=o,t.exports.default=o},36813:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(45184)),i=r(n(31013)),s=n(84102);e.default=function(t,e,n){void 0===n&&(n={}),n.mask&&!n.units&&(n.units="kilometers");for(var r=[],a=t[0],u=t[1],c=t[2],l=t[3],p=e/i.default([a,u],[c,u],n)*(c-a),f=e/i.default([a,u],[a,l],n)*(l-u),h=c-a,d=l-u,y=Math.floor(h/p),g=(d-Math.floor(d/f)*f)/2,v=a+(h-y*p)/2;v<=c;){for(var b=u+g;b<=l;){var m=s.point([v,b],n.properties);n.mask?o.default(m,n.mask)&&r.push(m):r.push(m),b+=f}v+=p}return s.featureCollection(r)}},55771:(t,e,n)=>{"use strict";var r=n(63922),o=n(78230),i=n(66379),s=n(88147),a=n(84102);function u(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var c=u(r),l=u(o),p=u(i),f=u(s);function h(t){for(var e=function(t){return"FeatureCollection"!==t.type?"Feature"!==t.type?a.featureCollection([a.feature(t)]):a.featureCollection([t]):t}(t),n=l.default(e),r=!1,o=0;!r&&o<e.features.length;){var i,s=e.features[o].geometry,u=!1;if("Point"===s.type)n.geometry.coordinates[0]===s.coordinates[0]&&n.geometry.coordinates[1]===s.coordinates[1]&&(r=!0);else if("MultiPoint"===s.type){var h=!1;for(i=0;!h&&i<s.coordinates.length;)n.geometry.coordinates[0]===s.coordinates[i][0]&&n.geometry.coordinates[1]===s.coordinates[i][1]&&(r=!0,h=!0),i++}else if("LineString"===s.type)for(i=0;!u&&i<s.coordinates.length-1;)d(n.geometry.coordinates[0],n.geometry.coordinates[1],s.coordinates[i][0],s.coordinates[i][1],s.coordinates[i+1][0],s.coordinates[i+1][1])&&(u=!0,r=!0),i++;else if("MultiLineString"===s.type)for(var y=0;y<s.coordinates.length;){u=!1,i=0;for(var g=s.coordinates[y];!u&&i<g.length-1;)d(n.geometry.coordinates[0],n.geometry.coordinates[1],g[i][0],g[i][1],g[i+1][0],g[i+1][1])&&(u=!0,r=!0),i++;y++}else"Polygon"!==s.type&&"MultiPolygon"!==s.type||f.default(n,s)&&(r=!0);o++}if(r)return n;var v=a.featureCollection([]);for(o=0;o<e.features.length;o++)v.features=v.features.concat(c.default(e.features[o]).features);return a.point(p.default(n,v).geometry.coordinates)}function d(t,e,n,r,o,i){return Math.sqrt((o-n)*(o-n)+(i-r)*(i-r))===Math.sqrt((t-n)*(t-n)+(e-r)*(e-r))+Math.sqrt((o-t)*(o-t)+(i-e)*(i-e))}t.exports=h,t.exports.default=h},63892:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(31013)),i=n(84102),s=n(10611),a=n(31540),u=r(n(6213));function c(t,e){return t[0]*e[0]+t[1]*e[1]}function l(t,e,n){return"planar"===n.method?u.default(t,e,n):o.default(t,e,n)}e.default=function(t,e,n){if(void 0===n&&(n={}),n.method||(n.method="geodesic"),n.units||(n.units="kilometers"),!t)throw new Error("pt is required");if(Array.isArray(t)?t=i.point(t):"Point"===t.type?t=i.feature(t):s.featureOf(t,"Point","point"),!e)throw new Error("line is required");Array.isArray(e)?e=i.lineString(e):"LineString"===e.type?e=i.feature(e):s.featureOf(e,"LineString","line");var r=1/0,o=t.geometry.coordinates;return a.segmentEach(e,(function(t){var e=t.geometry.coordinates[0],i=t.geometry.coordinates[1],s=function(t,e,n,r){var o=[n[0]-e[0],n[1]-e[1]],i=c([t[0]-e[0],t[1]-e[1]],o);if(i<=0)return l(t,e,{method:r.method,units:"degrees"});var s=c(o,o);if(s<=i)return l(t,n,{method:r.method,units:"degrees"});var a=i/s;return l(t,[e[0]+a*o[0],e[1]+a*o[1]],{method:r.method,units:"degrees"})}(o,e,i,n);s<r&&(r=s)})),i.convertLength(r,"degrees",n.units)}},187:(t,e,n)=>{"use strict";var r=n(88147),o=n(84102),i=n(31540);function s(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var a=s(r);function u(t,e){var n=[];return i.featureEach(t,(function(t){var r=!1;if("Point"===t.geometry.type)i.geomEach(e,(function(e){a.default(t,e)&&(r=!0)})),r&&n.push(t);else{if("MultiPoint"!==t.geometry.type)throw new Error("Input geometry must be a Point or MultiPoint");var s=[];i.geomEach(e,(function(e){i.coordEach(t,(function(t){a.default(t,e)&&(r=!0,s.push(t))}))})),r&&n.push(o.multiPoint(s))}})),o.featureCollection(n)}t.exports=u,t.exports.default=u},84978:(t,e,n)=>{"use strict";var r=n(31540),o=n(84102);function i(t,e){var n=[],i=e.iterations||1;if(!t)throw new Error("inputPolys is required");return r.geomEach(t,(function(t,e,r){var u,c,l;switch(t.type){case"Polygon":u=[[]];for(var p=0;p<i;p++)l=[[]],c=t,p>0&&(c=o.polygon(u).geometry),s(c,l),u=l.slice(0);n.push(o.polygon(u,r));break;case"MultiPolygon":u=[[[]]];for(var f=0;f<i;f++)l=[[[]]],c=t,f>0&&(c=o.multiPolygon(u).geometry),a(c,l),u=l.slice(0);n.push(o.multiPolygon(u,r));break;default:throw new Error("geometry is invalid, must be Polygon or MultiPolygon")}})),o.featureCollection(n)}function s(t,e){var n=0,o=0;r.coordEach(t,(function(r,i,s,a,u){u>n&&(n=u,o=i,e.push([]));var c=i-o,l=t.coordinates[u][c+1],p=r[0],f=r[1],h=l[0],d=l[1];e[u].push([.75*p+.25*h,.75*f+.25*d]),e[u].push([.25*p+.75*h,.25*f+.75*d])}),!0),e.forEach((function(t){t.push(t[0])}))}function a(t,e){var n=0,o=0,i=0;r.coordEach(t,(function(r,s,a,u,c){u>i&&(i=u,o=s,e.push([[]])),c>n&&(n=c,o=s,e[u].push([]));var l=s-o,p=t.coordinates[u][c][l+1],f=r[0],h=r[1],d=p[0],y=p[1];e[u][c].push([.75*f+.25*d,.75*h+.25*y]),e[u][c].push([.25*f+.75*d,.25*h+.75*y])}),!0),e.forEach((function(t){t.forEach((function(t){t.push(t[0])}))}))}t.exports=i,t.exports.default=i},5215:(t,e,n)=>{"use strict";var r=n(10611),o=n(84102),i=n(9705),s=n(63922),a=n(66379);function u(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var c=u(i),l=u(s),p=u(a);function f(t,e){var n,i,s,a,u=r.getCoords(t),f=r.getCoords(e),y=c.default(e),g=0,v=null;switch(u[0]>y[0]&&u[0]<y[2]&&u[1]>y[1]&&u[1]<y[3]&&(g=(v=p.default(t,l.default(e))).properties.featureIndex),r.getType(e)){case"Polygon":n=f[0][g],i=f[0][0],null!==v&&v.geometry.coordinates[1]<u[1]&&(i=f[0][g]),a=d(f[0][0],f[0][f[0].length-1],u);var b=h(f[0],u,a,s,n,i);n=b[0],i=b[1];break;case"MultiPolygon":for(var m=0,_=0,P=0,w=0;w<f[0].length;w++){m=w;for(var E=!1,x=0;x<f[0][w].length;x++){if(_=x,P===g){E=!0;break}P++}if(E)break}n=f[0][m][_],i=f[0][m][_],a=d(f[0][0][0],f[0][0][f[0][0].length-1],u),f.forEach((function(t){var e=h(t[0],u,a,s,n,i);n=e[0],i=e[1]}))}return o.featureCollection([o.point(n),o.point(i)])}function h(t,e,n,r,o,i){for(var s=0;s<t.length;s++){var a=t[s],u=t[s+1];s===t.length-1&&(u=t[0]),r=d(a,u,e),n<=0&&r>0?d(e,a,o)<0||(o=a):n>0&&r<=0&&(d(e,a,i)>0||(i=a)),n=r}return[o,i]}function d(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])}t.exports=f,t.exports.default=f},97383:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(84102),o=n(10611);function i(t,e){return void 0===e&&(e={}),a(o.getGeom(t).coordinates,e.properties?e.properties:"Feature"===t.type?t.properties:{})}function s(t,e){void 0===e&&(e={});var n=o.getGeom(t).coordinates,i=e.properties?e.properties:"Feature"===t.type?t.properties:{},s=[];return n.forEach((function(t){s.push(a(t,i))})),r.featureCollection(s)}function a(t,e){return t.length>1?r.multiLineString(t,e):r.lineString(t[0],e)}e.default=function(t,e){void 0===e&&(e={});var n=o.getGeom(t);switch(e.properties||"Feature"!==t.type||(e.properties=t.properties),n.type){case"Polygon":return i(n,e);case"MultiPolygon":return s(n,e);default:throw new Error("invalid poly")}},e.polygonToLine=i,e.multiPolygonToLine=s,e.coordsToLine=a},24312:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(84102),i=r(n(77254)),s=r(n(36467));e.default=function(t){var e=i.default.fromGeoJson(t);e.deleteDangles(),e.deleteCutEdges();var n=[],r=[];return e.getEdgeRings().filter((function(t){return t.isValid()})).forEach((function(t){t.isHole()?n.push(t):r.push(t)})),n.forEach((function(t){s.default.findEdgeRingContaining(t,r)&&r.push(t)})),o.featureCollection(r.map((function(t){return t.toPolygon()})))}},95344:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(84102),o=n(34772),i=function(){function t(t,e){this.from=t,this.to=e,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return t.prototype.getSymetric=function(){return this.symetric||(this.symetric=new t(this.to,this.from),this.symetric.symetric=this),this.symetric},t.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},t.prototype.isEqual=function(t){return this.from.id===t.from.id&&this.to.id===t.to.id},t.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},t.prototype.toLineString=function(){return r.lineString([this.from.coordinates,this.to.coordinates])},t.prototype.compareTo=function(t){return o.orientationIndex(t.from.coordinates,t.to.coordinates,this.to.coordinates)},t}();e.default=i},36467:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(34772),i=n(84102),s=r(n(19062)),a=r(n(88147)),u=function(){function t(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return t.prototype.push=function(t){this.edges.push(t),this.polygon=this.envelope=void 0},t.prototype.get=function(t){return this.edges[t]},Object.defineProperty(t.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.edges.forEach(t)},t.prototype.map=function(t){return this.edges.map(t)},t.prototype.some=function(t){return this.edges.some(t)},t.prototype.isValid=function(){return!0},t.prototype.isHole=function(){var t=this,e=this.edges.reduce((function(e,n,r){return n.from.coordinates[1]>t.edges[e].from.coordinates[1]&&(e=r),e}),0),n=(0===e?this.length:e)-1,r=(e+1)%this.length,i=o.orientationIndex(this.edges[n].from.coordinates,this.edges[e].from.coordinates,this.edges[r].from.coordinates);return 0===i?this.edges[n].from.coordinates[0]>this.edges[r].from.coordinates[0]:i>0},t.prototype.toMultiPoint=function(){return i.multiPoint(this.edges.map((function(t){return t.from.coordinates})))},t.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var t=this.edges.map((function(t){return t.from.coordinates}));return t.push(this.edges[0].from.coordinates),this.polygon=i.polygon([t])},t.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=s.default(this.toPolygon())},t.findEdgeRingContaining=function(t,e){var n,r,s=t.getEnvelope();return e.forEach((function(e){var a=e.getEnvelope();if(r&&(n=r.getEnvelope()),!o.envelopeIsEqual(a,s)&&o.envelopeContains(a,s)){for(var u=t.map((function(t){return t.from.coordinates})),c=void 0,l=function(t){e.some((function(e){return o.coordinatesEqual(t,e.from.coordinates)}))||(c=t)},p=0,f=u;p<f.length;p++)l(f[p]);c&&e.inside(i.point(c))&&(r&&!o.envelopeContains(n,a)||(r=e))}})),r},t.prototype.inside=function(t){return a.default(t,this.toPolygon())},t}();e.default=u},77254:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(23424)),i=r(n(95344)),s=r(n(36467)),a=n(31540),u=n(10611),c=function(){function t(){this.edges=[],this.nodes={}}return t.fromGeoJson=function(e){!function(t){if(!t)throw new Error("No geojson passed");if("FeatureCollection"!==t.type&&"GeometryCollection"!==t.type&&"MultiLineString"!==t.type&&"LineString"!==t.type&&"Feature"!==t.type)throw new Error("Invalid input type '"+t.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(e);var n=new t;return a.flattenEach(e,(function(t){u.featureOf(t,"LineString","Graph::fromGeoJson"),a.coordReduce(t,(function(t,e){if(t){var r=n.getNode(t),o=n.getNode(e);n.addEdge(r,o)}return e}))})),n},t.prototype.getNode=function(t){var e=o.default.buildId(t),n=this.nodes[e];return n||(n=this.nodes[e]=new o.default(t)),n},t.prototype.addEdge=function(t,e){var n=new i.default(t,e),r=n.getSymetric();this.edges.push(n),this.edges.push(r)},t.prototype.deleteDangles=function(){var t=this;Object.keys(this.nodes).map((function(e){return t.nodes[e]})).forEach((function(e){return t._removeIfDangle(e)}))},t.prototype._removeIfDangle=function(t){var e=this;if(t.innerEdges.length<=1){var n=t.getOuterEdges().map((function(t){return t.to}));this.removeNode(t),n.forEach((function(t){return e._removeIfDangle(t)}))}},t.prototype.deleteCutEdges=function(){var t=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach((function(e){e.label===e.symetric.label&&(t.removeEdge(e.symetric),t.removeEdge(e))}))},t.prototype._computeNextCWEdges=function(t){var e=this;void 0===t?Object.keys(this.nodes).forEach((function(t){return e._computeNextCWEdges(e.nodes[t])})):t.getOuterEdges().forEach((function(e,n){t.getOuterEdge((0===n?t.getOuterEdges().length:n)-1).symetric.next=e}))},t.prototype._computeNextCCWEdges=function(t,e){for(var n,r,o=t.getOuterEdges(),i=o.length-1;i>=0;--i){var s=o[i],a=s.symetric,u=void 0,c=void 0;s.label===e&&(u=s),a.label===e&&(c=a),u&&c&&(c&&(r=c),u&&(r&&(r.next=u,r=void 0),n||(n=u)))}r&&(r.next=n)},t.prototype._findLabeledEdgeRings=function(){var t=[],e=0;return this.edges.forEach((function(n){if(!(n.label>=0)){t.push(n);var r=n;do{r.label=e,r=r.next}while(!n.isEqual(r));e++}})),t},t.prototype.getEdgeRings=function(){var t=this;this._computeNextCWEdges(),this.edges.forEach((function(t){t.label=void 0})),this._findLabeledEdgeRings().forEach((function(e){t._findIntersectionNodes(e).forEach((function(n){t._computeNextCCWEdges(n,e.label)}))}));var e=[];return this.edges.forEach((function(n){n.ring||e.push(t._findEdgeRing(n))})),e},t.prototype._findIntersectionNodes=function(t){var e=[],n=t,r=function(){var r=0;n.from.getOuterEdges().forEach((function(e){e.label===t.label&&++r})),r>1&&e.push(n.from),n=n.next};do{r()}while(!t.isEqual(n));return e},t.prototype._findEdgeRing=function(t){var e=t,n=new s.default;do{n.push(e),e.ring=n,e=e.next}while(!t.isEqual(e));return n},t.prototype.removeNode=function(t){var e=this;t.getOuterEdges().forEach((function(t){return e.removeEdge(t)})),t.innerEdges.forEach((function(t){return e.removeEdge(t)})),delete this.nodes[t.id]},t.prototype.removeEdge=function(t){this.edges=this.edges.filter((function(e){return!e.isEqual(t)})),t.deleteEdge()},t}();e.default=c},23424:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(34772),o=function(){function t(e){this.id=t.buildId(e),this.coordinates=e,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return t.buildId=function(t){return t.join(",")},t.prototype.removeInnerEdge=function(t){this.innerEdges=this.innerEdges.filter((function(e){return e.from.id!==t.from.id}))},t.prototype.removeOuterEdge=function(t){this.outerEdges=this.outerEdges.filter((function(e){return e.to.id!==t.to.id}))},t.prototype.addOuterEdge=function(t){this.outerEdges.push(t),this.outerEdgesSorted=!1},t.prototype.sortOuterEdges=function(){var t=this;this.outerEdgesSorted||(this.outerEdges.sort((function(e,n){var o=e.to,i=n.to;if(o.coordinates[0]-t.coordinates[0]>=0&&i.coordinates[0]-t.coordinates[0]<0)return 1;if(o.coordinates[0]-t.coordinates[0]<0&&i.coordinates[0]-t.coordinates[0]>=0)return-1;if(o.coordinates[0]-t.coordinates[0]==0&&i.coordinates[0]-t.coordinates[0]==0)return o.coordinates[1]-t.coordinates[1]>=0||i.coordinates[1]-t.coordinates[1]>=0?o.coordinates[1]-i.coordinates[1]:i.coordinates[1]-o.coordinates[1];var s=r.orientationIndex(t.coordinates,o.coordinates,i.coordinates);return s<0?1:s>0?-1:Math.pow(o.coordinates[0]-t.coordinates[0],2)+Math.pow(o.coordinates[1]-t.coordinates[1],2)-(Math.pow(i.coordinates[0]-t.coordinates[0],2)+Math.pow(i.coordinates[1]-t.coordinates[1],2))})),this.outerEdgesSorted=!0)},t.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},t.prototype.getOuterEdge=function(t){return this.sortOuterEdges(),this.outerEdges[t]},t.prototype.addInnerEdge=function(t){this.innerEdges.push(t)},t}();e.default=o},34772:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(88147)),i=n(84102);e.orientationIndex=function(t,e,n){var r,o=e[0]-t[0],i=e[1]-t[1],s=n[0]-e[0];return((r=o*(n[1]-e[1])-s*i)>0)-(r<0)||+r},e.envelopeIsEqual=function(t,e){var n=t.geometry.coordinates[0].map((function(t){return t[0]})),r=t.geometry.coordinates[0].map((function(t){return t[1]})),o=e.geometry.coordinates[0].map((function(t){return t[0]})),i=e.geometry.coordinates[0].map((function(t){return t[1]}));return Math.max.apply(null,n)===Math.max.apply(null,o)&&Math.max.apply(null,r)===Math.max.apply(null,i)&&Math.min.apply(null,n)===Math.min.apply(null,o)&&Math.min.apply(null,r)===Math.min.apply(null,i)},e.envelopeContains=function(t,e){return e.geometry.coordinates[0].every((function(e){return o.default(i.point(e),t)}))},e.coordinatesEqual=function(t,e){return t[0]===e[0]&&t[1]===e[1]}},20981:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(31540),i=n(84102),s=r(n(76565));function a(t,e,n){void 0===n&&(n={});var r=(n=n||{}).mutate;if(!t)throw new Error("geojson is required");return Array.isArray(t)&&i.isNumber(t[0])?t="mercator"===e?u(t):c(t):(!0!==r&&(t=s.default(t)),o.coordEach(t,(function(t){var n="mercator"===e?u(t):c(t);t[0]=n[0],t[1]=n[1]}))),t}function u(t){var e,n=Math.PI/180,r=6378137,o=20037508.342789244,i=[r*(Math.abs(t[0])<=180?t[0]:t[0]-360*((e=t[0])<0?-1:e>0?1:0))*n,r*Math.log(Math.tan(.25*Math.PI+.5*t[1]*n))];return i[0]>o&&(i[0]=o),i[0]<-o&&(i[0]=-o),i[1]>o&&(i[1]=o),i[1]<-o&&(i[1]=-o),i}function c(t){var e=180/Math.PI,n=6378137;return[t[0]*e/n,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/n)))*e]}e.toMercator=function(t,e){return void 0===e&&(e={}),a(t,"mercator",e)},e.toWgs84=function(t,e){return void 0===e&&(e={}),a(t,"wgs84",e)}},16295:function(t,e,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r};Object.defineProperty(e,"__esModule",{value:!0});var o=n(84102);function i(t){return Array.isArray(t)?a(t):t&&t.bbox?a(t.bbox):[360*s(),180*s()]}function s(){return Math.random()-.5}function a(t){return[Math.random()*(t[2]-t[0])+t[0],Math.random()*(t[3]-t[1])+t[1]]}e.randomPosition=i,e.randomPoint=function(t,e){void 0===e&&(e={}),null==t&&(t=1);for(var n=[],r=0;r<t;r++)n.push(o.point(i(e.bbox)));return o.featureCollection(n)},e.randomPolygon=function(t,e){void 0===e&&(e={}),null==t&&(t=1),o.isNumber(e.num_vertices)&&void 0!==e.num_vertices||(e.num_vertices=10),o.isNumber(e.max_radial_length)&&void 0!==e.max_radial_length||(e.max_radial_length=10);for(var n=[],s=function(t){var s,a=[],u=r(Array(e.num_vertices+1)).map(Math.random);u.forEach((function(t,e,n){n[e]=e>0?t+n[e-1]:t})),u.forEach((function(t){t=2*t*Math.PI/u[u.length-1];var n=Math.random();a.push([n*(e.max_radial_length||10)*Math.sin(t),n*(e.max_radial_length||10)*Math.cos(t)])})),a[a.length-1]=a[0],a=a.map((s=i(e.bbox),function(t){return[t[0]+s[0],t[1]+s[1]]})),n.push(o.polygon([a]))},a=0;a<t;a++)s();return o.featureCollection(n)},e.randomLineString=function(t,e){if(void 0===e&&(e={}),e=e||{},!o.isObject(e))throw new Error("options is invalid");var n=e.bbox,r=e.num_vertices,s=e.max_length,a=e.max_rotation;null==t&&(t=1),(!o.isNumber(r)||void 0===r||r<2)&&(r=10),o.isNumber(s)&&void 0!==s||(s=1e-4),o.isNumber(a)&&void 0!==a||(a=Math.PI/8);for(var u=[],c=0;c<t;c++){for(var l=[i(n)],p=0;p<r-1;p++){var f=(0===p?2*Math.random()*Math.PI:Math.tan((l[p][1]-l[p-1][1])/(l[p][0]-l[p-1][0])))+(Math.random()-.5)*a*2,h=Math.random()*s;l.push([l[p][0]+h*Math.cos(f),l[p][1]+h*Math.sin(f)])}u.push(o.lineString(l))}return o.featureCollection(u)}},54131:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(84255)),i=r(n(31013)),s=n(84102);e.default=function(t,e,n,r){void 0===r&&(r={});for(var a=[],u=t[0],c=t[1],l=t[2],p=t[3],f=e/i.default([u,c],[l,c],r)*(l-u),h=n/i.default([u,c],[u,p],r)*(p-c),d=l-u,y=p-c,g=Math.floor(d/f),v=Math.floor(y/h),b=(y-v*h)/2,m=u+(d-g*f)/2,_=0;_<g;_++){for(var P=c+b,w=0;w<v;w++){var E=s.polygon([[[m,P],[m,P+h],[m+f,P+h],[m+f,P],[m,P]]],r.properties);r.mask?o.default(r.mask,E)&&a.push(E):a.push(E),P+=h}m+=f}return s.featureCollection(a)}},51138:(t,e,n)=>{"use strict";var r=n(76565),o=n(3809),i=n(31540),s=n(10611),a=n(84102);function u(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var c=u(r),l=u(o);function p(t,e){if(e=e||{},!a.isObject(e))throw new Error("options is invalid");var n=e.reverse||!1,r=e.mutate||!1;if(!t)throw new Error("<geojson> is required");if("boolean"!=typeof n)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof r)throw new Error("<mutate> must be a boolean");!1===r&&(t=c.default(t));var o=[];switch(t.type){case"GeometryCollection":return i.geomEach(t,(function(t){f(t,n)})),t;case"FeatureCollection":return i.featureEach(t,(function(t){i.featureEach(f(t,n),(function(t){o.push(t)}))})),a.featureCollection(o)}return f(t,n)}function f(t,e){switch("Feature"===t.type?t.geometry.type:t.type){case"GeometryCollection":return i.geomEach(t,(function(t){f(t,e)})),t;case"LineString":return h(s.getCoords(t),e),t;case"Polygon":return d(s.getCoords(t),e),t;case"MultiLineString":return s.getCoords(t).forEach((function(t){h(t,e)})),t;case"MultiPolygon":return s.getCoords(t).forEach((function(t){d(t,e)})),t;case"Point":case"MultiPoint":return t}}function h(t,e){l.default(t)===e&&t.reverse()}function d(t,e){l.default(t[0])!==e&&t[0].reverse();for(var n=1;n<t.length;n++)l.default(t[n])===e&&t[n].reverse()}t.exports=p,t.exports.default=p},16912:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(84102),o=n(10611);function i(t,e){var n=r.degreesToRadians(t[1]),o=r.degreesToRadians(e[1]),i=r.degreesToRadians(e[0]-t[0]);i>Math.PI&&(i-=2*Math.PI),i<-Math.PI&&(i+=2*Math.PI);var s=Math.log(Math.tan(o/2+Math.PI/4)/Math.tan(n/2+Math.PI/4)),a=Math.atan2(i,s);return(r.radiansToDegrees(a)+360)%360}e.default=function(t,e,n){var r;return void 0===n&&(n={}),(r=n.final?i(o.getCoord(e),o.getCoord(t)):i(o.getCoord(t),o.getCoord(e)))>180?-(360-r):r}},62054:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(84102),o=n(10611);e.default=function(t,e,n,i){void 0===i&&(i={});var s=e<0,a=r.convertLength(Math.abs(e),i.units,"meters");s&&(a=-Math.abs(a));var u=o.getCoord(t),c=function(t,e,n,o){var i=e/(o=void 0===o?r.earthRadius:Number(o)),s=t[0]*Math.PI/180,a=r.degreesToRadians(t[1]),u=r.degreesToRadians(n),c=i*Math.cos(u),l=a+c;Math.abs(l)>Math.PI/2&&(l=l>0?Math.PI-l:-Math.PI-l);var p=Math.log(Math.tan(l/2+Math.PI/4)/Math.tan(a/2+Math.PI/4)),f=Math.abs(p)>1e-11?c/p:Math.cos(a);return[(180*(s+i*Math.sin(u)/f)/Math.PI+540)%360-180,180*l/Math.PI]}(u,a,n);return c[0]+=c[0]-u[0]>180?-360:u[0]-c[0]>180?360:0,r.point(c,i.properties)}},6213:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(84102),o=n(10611);e.default=function(t,e,n){void 0===n&&(n={});var i=o.getCoord(t),s=o.getCoord(e);s[0]+=s[0]-i[0]>180?-360:i[0]-s[0]>180?360:0;var a=function(t,e,n){var o=n=void 0===n?r.earthRadius:Number(n),i=t[1]*Math.PI/180,s=e[1]*Math.PI/180,a=s-i,u=Math.abs(e[0]-t[0])*Math.PI/180;u>Math.PI&&(u-=2*Math.PI);var c=Math.log(Math.tan(s/2+Math.PI/4)/Math.tan(i/2+Math.PI/4)),l=Math.abs(c)>1e-11?a/c:Math.cos(i);return Math.sqrt(a*a+l*l*u*u)*o}(i,s);return r.convertLength(a,"meters",n.units)}},3503:(t,e,n)=>{"use strict";var r=n(84102);function o(t,e){if(!t)throw new Error("featurecollection is required");if(null==e)throw new Error("num is required");if("number"!=typeof e)throw new Error("num must be a number");return r.featureCollection(function(t,e){for(var n,r,o=t.slice(0),i=t.length,s=i-e;i-- >s;)n=o[r=Math.floor((i+1)*Math.random())],o[r]=o[i],o[i]=n;return o.slice(s)}(t.features,e))}t.exports=o,t.exports.default=o},81674:(t,e,n)=>{"use strict";var r=n(90265),o=n(67272),i=n(31540),s=n(84102),a=n(10611);function u(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var c=u(r),l=u(o);function p(t,e,n,r,o){if(o=o||{},!s.isObject(o))throw new Error("options is invalid");var u=o.properties;if(!t)throw new Error("center is required");if(null==n)throw new Error("bearing1 is required");if(null==r)throw new Error("bearing2 is required");if(!e)throw new Error("radius is required");if("object"!=typeof o)throw new Error("options must be an object");if(f(n)===f(r))return c.default(t,e,o);var p=a.getCoords(t),h=l.default(t,e,n,r,o),d=[[p]];return i.coordEach(h,(function(t){d[0].push(t)})),d[0].push(p),s.polygon(d,u)}function f(t){var e=t%360;return e<0&&(e+=360),e}t.exports=p,t.exports.default=p},93550:(t,e,n)=>{"use strict";var r=n(9705),o=n(88147),i=n(31013),s=n(67517),a=n(71435),u=n(13652),c=n(10611),l=n(84102);function p(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var f=p(r),h=p(o),d=p(i),y=p(s),g=p(a),v=p(u);function b(t){for(var e=t,n=[];e.parent;)n.unshift(e),e=e.parent;return n}var m={search:function(t,e,n,r){t.cleanDirty();var o=(r=r||{}).heuristic||m.heuristics.manhattan,i=r.closest||!1,s=new w((function(t){return t.f})),a=e;for(e.h=o(e,n),s.push(e);s.size()>0;){var u=s.pop();if(u===n)return b(u);u.closed=!0;for(var c=t.neighbors(u),l=0,p=c.length;l<p;++l){var f=c[l];if(!f.closed&&!f.isWall()){var h=u.g+f.getCost(u),d=f.visited;(!d||h<f.g)&&(f.visited=!0,f.parent=u,f.h=f.h||o(f,n),f.g=h,f.f=f.g+f.h,t.markDirty(f),i&&(f.h<a.h||f.h===a.h&&f.g<a.g)&&(a=f),d?s.rescoreElement(f):s.push(f))}}}return i?b(a):[]},heuristics:{manhattan:function(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},diagonal:function(t,e){var n=Math.sqrt(2),r=Math.abs(e.x-t.x),o=Math.abs(e.y-t.y);return 1*(r+o)+(n-2)*Math.min(r,o)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=null}};function _(t,e){e=e||{},this.nodes=[],this.diagonal=!!e.diagonal,this.grid=[];for(var n=0;n<t.length;n++){this.grid[n]=[];for(var r=0,o=t[n];r<o.length;r++){var i=new P(n,r,o[r]);this.grid[n][r]=i,this.nodes.push(i)}}this.init()}function P(t,e,n){this.x=t,this.y=e,this.weight=n}function w(t){this.content=[],this.scoreFunction=t}function E(t,e,n){if(n=n||{},!l.isObject(n))throw new Error("options is invalid");var r=n.resolution,o=n.minDistance,i=n.obstacles||l.featureCollection([]);if(!t)throw new Error("start is required");if(!e)throw new Error("end is required");if(r&&!l.isNumber(r)||r<=0)throw new Error("options.resolution must be a number, greater than 0");if(o)throw new Error("options.minDistance is not yet implemented");var s=c.getCoord(t),a=c.getCoord(e);switch(t=l.point(s),e=l.point(a),c.getType(i)){case"FeatureCollection":if(0===i.features.length)return l.lineString([s,a]);break;case"Polygon":i=l.featureCollection([l.feature(c.getGeom(i))]);break;default:throw new Error("invalid obstacles")}var u=i;u.features.push(t),u.features.push(e);var p=f.default(y.default(v.default(f.default(u)),1.15));r||(r=d.default([p[0],p[1]],[p[2],p[1]],n)/100),u.features.pop(),u.features.pop();for(var h=p[0],b=p[1],P=p[2],w=p[3],E=r/d.default([h,b],[P,b],n)*(P-h),O=r/d.default([h,b],[h,w],n)*(w-b),C=P-h,S=w-b,M=Math.floor(C/E),j=Math.floor(S/O),N=(C-M*E)/2,I=[],T=[],A=[],D=[],R=1/0,k=1/0,L=w-(S-j*O)/2,G=0;L>=b;){for(var F=[],V=[],B=h+N,z=0;B<=P;){var U=l.point([B,L]),q=x(U,i);F.push(q?0:1),V.push(B+"|"+L);var W=d.default(U,t);!q&&W<R&&(R=W,A={x:z,y:G});var J=d.default(U,e);!q&&J<k&&(k=J,D={x:z,y:G}),B+=E,z++}T.push(F),I.push(V),L-=O,G++}var X=new _(T,{diagonal:!0}),Y=X.grid[A.y][A.x],H=X.grid[D.y][D.x],Z=m.search(X,Y,H),Q=[s];return Z.forEach((function(t){var e=I[t.x][t.y].split("|");Q.push([+e[0],+e[1]])})),Q.push(a),g.default(l.lineString(Q))}function x(t,e){for(var n=0;n<e.features.length;n++)if(h.default(t,e.features[n]))return!0;return!1}_.prototype.init=function(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)m.cleanNode(this.nodes[t])},_.prototype.cleanDirty=function(){for(var t=0;t<this.dirtyNodes.length;t++)m.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]},_.prototype.markDirty=function(t){this.dirtyNodes.push(t)},_.prototype.neighbors=function(t){var e=[],n=t.x,r=t.y,o=this.grid;return o[n-1]&&o[n-1][r]&&e.push(o[n-1][r]),o[n+1]&&o[n+1][r]&&e.push(o[n+1][r]),o[n]&&o[n][r-1]&&e.push(o[n][r-1]),o[n]&&o[n][r+1]&&e.push(o[n][r+1]),this.diagonal&&(o[n-1]&&o[n-1][r-1]&&e.push(o[n-1][r-1]),o[n+1]&&o[n+1][r-1]&&e.push(o[n+1][r-1]),o[n-1]&&o[n-1][r+1]&&e.push(o[n-1][r+1]),o[n+1]&&o[n+1][r+1]&&e.push(o[n+1][r+1])),e},_.prototype.toString=function(){for(var t,e,n,r,o=[],i=this.grid,s=0,a=i.length;s<a;s++){for(t=[],n=0,r=(e=i[s]).length;n<r;n++)t.push(e[n].weight);o.push(t.join(" "))}return o.join("\n")},P.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},P.prototype.getCost=function(t){return t&&t.x!==this.x&&t.y!==this.y?1.41421*this.weight:this.weight},P.prototype.isWall=function(){return 0===this.weight},w.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t},remove:function(t){var e=this.content.indexOf(t),n=this.content.pop();e!==this.content.length-1&&(this.content[e]=n,this.scoreFunction(n)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){for(var e=this.content[t];t>0;){var n=(t+1>>1)-1,r=this.content[n];if(!(this.scoreFunction(e)<this.scoreFunction(r)))break;this.content[n]=e,this.content[t]=r,t=n}},bubbleUp:function(t){for(var e=this.content.length,n=this.content[t],r=this.scoreFunction(n);;){var o,i=t+1<<1,s=i-1,a=null;if(s<e){var u=this.content[s];(o=this.scoreFunction(u))<r&&(a=s)}if(i<e){var c=this.content[i];this.scoreFunction(c)<(null===a?r:o)&&(a=i)}if(null===a)break;this.content[t]=this.content[a],this.content[a]=n,t=a}}},t.exports=E,t.exports.default=E},57191:(t,e,n)=>{"use strict";var r=n(71435),o=n(76565),i=n(31540),s=n(84102);function a(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var u=a(r),c=a(o);function l(t,e,n){var r=e.x,o=e.y,i=n.x-r,s=n.y-o;if(0!==i||0!==s){var a=((t.x-r)*i+(t.y-o)*s)/(i*i+s*s);a>1?(r=n.x,o=n.y):a>0&&(r+=i*a,o+=s*a)}return(i=t.x-r)*i+(s=t.y-o)*s}function p(t,e,n,r,o){for(var i,s=r,a=e+1;a<n;a++){var u=l(t[a],t[e],t[n]);u>s&&(i=a,s=u)}s>r&&(i-e>1&&p(t,e,i,r,o),o.push(t[i]),n-i>1&&p(t,i,n,r,o))}function f(t,e){var n=t.length-1,r=[t[0]];return p(t,0,n,e,r),r.push(t[n]),r}function h(t,e,n){if(t.length<=2)return t;var r=void 0!==e?e*e:1;return t=n?t:function(t,e){for(var n,r,o,i,s,a=t[0],u=[a],c=1,l=t.length;c<l;c++)o=a,void 0,void 0,(i=(r=n=t[c]).x-o.x)*i+(s=r.y-o.y)*s>e&&(u.push(n),a=n);return a!==n&&u.push(n),u}(t,r),f(t,r)}function d(t,e){if(e=e||{},!s.isObject(e))throw new Error("options is invalid");var n=void 0!==e.tolerance?e.tolerance:1,r=e.highQuality||!1,o=e.mutate||!1;if(!t)throw new Error("geojson is required");if(n&&n<0)throw new Error("invalid tolerance");return!0!==o&&(t=c.default(t)),i.geomEach(t,(function(t){!function(t,e,n){var r=t.type;if("Point"===r||"MultiPoint"===r)return t;u.default(t,!0);var o=t.coordinates;switch(r){case"LineString":t.coordinates=y(o,e,n);break;case"MultiLineString":t.coordinates=o.map((function(t){return y(t,e,n)}));break;case"Polygon":t.coordinates=g(o,e,n);break;case"MultiPolygon":t.coordinates=o.map((function(t){return g(t,e,n)}))}}(t,n,r)})),t}function y(t,e,n){return h(t.map((function(t){return{x:t[0],y:t[1],z:t[2]}})),e,n).map((function(t){return t.z?[t.x,t.y,t.z]:[t.x,t.y]}))}function g(t,e,n){return t.map((function(t){var r=t.map((function(t){return{x:t[0],y:t[1]}}));if(r.length<4)throw new Error("invalid polygon");for(var o=h(r,e,n).map((function(t){return[t.x,t.y]}));!v(o);)o=h(r,e-=.01*e,n).map((function(t){return[t.x,t.y]}));return o[o.length-1][0]===o[0][0]&&o[o.length-1][1]===o[0][1]||o.push(o[0]),o}))}function v(t){return!(t.length<3||3===t.length&&t[2][0]===t[0][0]&&t[2][1]===t[0][1])}t.exports=d,t.exports.default=d},45434:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(54131));e.default=function(t,e,n){return void 0===n&&(n={}),o.default(t,e,e,n)}},55077:(t,e,n)=>{"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var o=r(n(31013));function i(t){var e=t[0],n=t[1],r=t[2],i=t[3];if(o.default(t.slice(0,2),[r,n])>=o.default(t.slice(0,2),[e,i])){var s=(n+i)/2;return[e,s-(r-e)/2,r,s+(r-e)/2]}var a=(e+r)/2;return[a-(i-n)/2,n,a+(i-n)/2,i]}t.exports=i,t.exports.default=i},73955:(t,e,n)=>{"use strict";var r=n(31540),o=n(10611),i=n(84102),s=n(76320),a=n(187),u=n(61211);function c(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var l=c(s),p=c(a),f=c(u);function h(t,e){if(e=e||{},!i.isObject(e))throw new Error("options is invalid");var n=e.steps||64,s=e.weight,a=e.properties||{};if(!i.isNumber(n))throw new Error("steps must be a number");if(!i.isObject(a))throw new Error("properties must be a number");var u=r.coordAll(t).length,c=l.default(t,{weight:s}),h=0,y=0,g=0;r.featureEach(t,(function(t){var e=t.properties[s]||1,n=d(o.getCoords(t),o.getCoords(c));h+=Math.pow(n.x,2)*e,y+=Math.pow(n.y,2)*e,g+=n.x*n.y*e}));var v=h-y,b=Math.sqrt(Math.pow(v,2)+4*Math.pow(g,2)),m=2*g,_=Math.atan((v+b)/m),P=180*_/Math.PI,w=0,E=0,x=0;r.featureEach(t,(function(t){var e=t.properties[s]||1,n=d(o.getCoords(t),o.getCoords(c));w+=Math.pow(n.x*Math.cos(_)-n.y*Math.sin(_),2)*e,E+=Math.pow(n.x*Math.sin(_)+n.y*Math.cos(_),2)*e,x+=e}));var O=Math.sqrt(2*w/x),C=Math.sqrt(2*E/x),S=f.default(c,O,C,{units:"degrees",angle:P,steps:n,properties:a}),M=p.default(t,i.featureCollection([S])),j={meanCenterCoordinates:o.getCoords(c),semiMajorAxis:O,semiMinorAxis:C,numberOfFeatures:u,angle:P,percentageWithinEllipse:100*r.coordAll(M).length/u};return S.properties.standardDeviationalEllipse=j,S}function d(t,e){return{x:t[0]-e[0],y:t[1]-e[1]}}t.exports=h,t.exports.default=h},32015:(t,e,n)=>{"use strict";var r=n(88147),o=n(76565),i=n(31540);function s(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var a=s(r),u=s(o);function c(t,e,n,r){return t=u.default(t),e=u.default(e),i.featureEach(t,(function(t){t.properties||(t.properties={}),i.featureEach(e,(function(e){void 0===t.properties[r]&&a.default(t,e)&&(t.properties[r]=e.properties[n])}))})),t}t.exports=c,t.exports.default=c},95845:(t,e,n)=>{"use strict";var r=n(9187),o=n(84102);function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var s=i(r);function a(t){if(!t.geometry||"Polygon"!==t.geometry.type&&"MultiPolygon"!==t.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var e={type:"FeatureCollection",features:[]};return"Polygon"===t.geometry.type?e.features=u(t.geometry.coordinates):t.geometry.coordinates.forEach((function(t){e.features=e.features.concat(u(t))})),e}function u(t){var e=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,o=0;o<t.length;o++){for(var i=0;i<t[o].length;i++)for(var s=0;s<e;s++)n.vertices.push(t[o][i][s]);o>0&&(r+=t[o-1].length,n.holes.push(r))}return n}(t),n=s.default(e.vertices,e.holes,2),r=[],i=[];n.forEach((function(t,r){var o=n[r];i.push([e.vertices[2*o],e.vertices[2*o+1]])}));for(var a=0;a<i.length;a+=3){var u=i.slice(a,a+3);u.push(i[a]),r.push(o.polygon([u]))}return r}t.exports=a,t.exports.default=a},18829:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(84102);e.default=function(t,e){var n=!1;return r.featureCollection(function(t){if(t.length<3)return[];t.sort(i);for(var e,n,r,a,u,c,l=t.length-1,p=t[l].x,f=t[0].x,h=t[l].y,d=h;l--;)t[l].y<h&&(h=t[l].y),t[l].y>d&&(d=t[l].y);var y,g=f-p,v=d-h,b=g>v?g:v,m=.5*(f+p),_=.5*(d+h),P=[new o({__sentinel:!0,x:m-20*b,y:_-b},{__sentinel:!0,x:m,y:_+20*b},{__sentinel:!0,x:m+20*b,y:_-b})],w=[],E=[];for(l=t.length;l--;){for(E.length=0,y=P.length;y--;)(g=t[l].x-P[y].x)>0&&g*g>P[y].r?(w.push(P[y]),P.splice(y,1)):g*g+(v=t[l].y-P[y].y)*v>P[y].r||(E.push(P[y].a,P[y].b,P[y].b,P[y].c,P[y].c,P[y].a),P.splice(y,1));for(s(E),y=E.length;y;)n=E[--y],e=E[--y],r=t[l],a=n.x-e.x,u=n.y-e.y,c=2*(a*(r.y-n.y)-u*(r.x-n.x)),Math.abs(c)>1e-12&&P.push(new o(e,n,r))}for(Array.prototype.push.apply(w,P),l=w.length;l--;)(w[l].a.__sentinel||w[l].b.__sentinel||w[l].c.__sentinel)&&w.splice(l,1);return w}(t.features.map((function(t){var r={x:t.geometry.coordinates[0],y:t.geometry.coordinates[1]};return e?r.z=t.properties[e]:3===t.geometry.coordinates.length&&(n=!0,r.z=t.geometry.coordinates[2]),r}))).map((function(t){var e=[t.a.x,t.a.y],o=[t.b.x,t.b.y],i=[t.c.x,t.c.y],s={};return n?(e.push(t.a.z),o.push(t.b.z),i.push(t.c.z)):s={a:t.a.z,b:t.b.z,c:t.c.z},r.polygon([[e,o,i,e]],s)})))};var o=function(t,e,n){this.a=t,this.b=e,this.c=n;var r,o,i=e.x-t.x,s=e.y-t.y,a=n.x-t.x,u=n.y-t.y,c=i*(t.x+e.x)+s*(t.y+e.y),l=a*(t.x+n.x)+u*(t.y+n.y),p=2*(i*(n.y-e.y)-s*(n.x-e.x));this.x=(u*c-s*l)/p,this.y=(i*l-a*c)/p,r=this.x-t.x,o=this.y-t.y,this.r=r*r+o*o};function i(t,e){return e.x-t.x}function s(t){var e,n,r,o,i,s=t.length;t:for(;s;)for(n=t[--s],e=t[--s],r=s;r;)if(i=t[--r],e===(o=t[--r])&&n===i||e===i&&n===o){t.splice(s,2),t.splice(r,2),s-=2;continue t}}},90067:(t,e,n)=>{"use strict";var r=n(66338),o=n(16912),i=n(6213),s=n(62054),a=n(76565),u=n(31540),c=n(10611),l=n(84102);function p(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var f=p(r),h=p(o),d=p(i),y=p(s),g=p(a);function v(t,e,n){if(n=n||{},!l.isObject(n))throw new Error("options is invalid");var r=n.pivot,o=n.mutate;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("angle is required");return 0===e||(r||(r=f.default(t)),!1!==o&&void 0!==o||(t=g.default(t)),u.coordEach(t,(function(t){var n=h.default(r,t)+e,o=d.default(r,t),i=c.getCoords(y.default(r,o,n));t[0]=i[0],t[1]=i[1]}))),t}t.exports=v,t.exports.default=v},67517:(t,e,n)=>{"use strict";var r=n(76565),o=n(78230),i=n(66338),s=n(9705),a=n(16912),u=n(6213),c=n(62054),l=n(31540),p=n(84102),f=n(10611);function h(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var d=h(r),y=h(o),g=h(i),v=h(s),b=h(a),m=h(u),_=h(c);function P(t,e,n){if(n=n||{},!p.isObject(n))throw new Error("options is invalid");var r=n.origin,o=n.mutate;if(!t)throw new Error("geojson required");if("number"!=typeof e||0===e)throw new Error("invalid factor");var i=Array.isArray(r)||"object"==typeof r;return!0!==o&&(t=d.default(t)),"FeatureCollection"!==t.type||i?w(t,e,r):(l.featureEach(t,(function(n,o){t.features[o]=w(n,e,r)})),t)}function w(t,e,n){var r="Point"===f.getType(t);return n=function(t,e){if(null==e&&(e="centroid"),Array.isArray(e)||"object"==typeof e)return f.getCoord(e);var n=t.bbox?t.bbox:v.default(t),r=n[0],o=n[1],i=n[2],s=n[3];switch(e){case"sw":case"southwest":case"westsouth":case"bottomleft":return p.point([r,o]);case"se":case"southeast":case"eastsouth":case"bottomright":return p.point([i,o]);case"nw":case"northwest":case"westnorth":case"topleft":return p.point([r,s]);case"ne":case"northeast":case"eastnorth":case"topright":return p.point([i,s]);case"center":return y.default(t);case void 0:case null:case"centroid":return g.default(t);default:throw new Error("invalid origin")}}(t,n),1===e||r||l.coordEach(t,(function(t){var r=m.default(n,t),o=b.default(n,t),i=r*e,s=f.getCoords(_.default(n,i,o));t[0]=s[0],t[1]=s[1],3===t.length&&(t[2]*=e)})),t}t.exports=P,t.exports.default=P},92418:(t,e,n)=>{"use strict";var r=n(31540),o=n(84102),i=n(10611),s=n(76565),a=n(62054);function u(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var c=u(s),l=u(a);function p(t,e,n,s){if(s=s||{},!o.isObject(s))throw new Error("options is invalid");var a=s.units,u=s.zTranslation,p=s.mutate;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("distance is required");if(u&&"number"!=typeof u&&isNaN(u))throw new Error("zTranslation is not a number");if(u=void 0!==u?u:0,0===e&&0===u)return t;if(null==n||isNaN(n))throw new Error("direction is required");return e<0&&(e=-e,n+=180),!1!==p&&void 0!==p||(t=c.default(t)),r.coordEach(t,(function(t){var r=i.getCoords(l.default(t,e,n,{units:a}));t[0]=r[0],t[1]=r[1],u&&3===t.length&&(t[2]+=u)})),t}t.exports=p,t.exports.default=p},4686:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(31013)),i=r(n(74170)),s=n(84102);e.default=function(t,e,n){void 0===n&&(n={});for(var r=[],a=e/o.default([t[0],t[1]],[t[2],t[1]],n)*(t[2]-t[0]),u=e/o.default([t[0],t[1]],[t[0],t[3]],n)*(t[3]-t[1]),c=0,l=t[0];l<=t[2];){for(var p=0,f=t[1];f<=t[3];){var h=null,d=null;c%2==0&&p%2==0?(h=s.polygon([[[l,f],[l,f+u],[l+a,f],[l,f]]],n.properties),d=s.polygon([[[l,f+u],[l+a,f+u],[l+a,f],[l,f+u]]],n.properties)):c%2==0&&p%2==1?(h=s.polygon([[[l,f],[l+a,f+u],[l+a,f],[l,f]]],n.properties),d=s.polygon([[[l,f],[l,f+u],[l+a,f+u],[l,f]]],n.properties)):p%2==0&&c%2==1?(h=s.polygon([[[l,f],[l,f+u],[l+a,f+u],[l,f]]],n.properties),d=s.polygon([[[l,f],[l+a,f+u],[l+a,f],[l,f]]],n.properties)):p%2==1&&c%2==1&&(h=s.polygon([[[l,f],[l,f+u],[l+a,f],[l,f]]],n.properties),d=s.polygon([[[l,f+u],[l+a,f+u],[l+a,f],[l,f+u]]],n.properties)),n.mask?(i.default(n.mask,h)&&r.push(h),i.default(n.mask,d)&&r.push(d)):(r.push(h),r.push(d)),f+=u,p++}c++,l+=a}return s.featureCollection(r)}},15608:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(31540);e.default=function(t,e){void 0===e&&(e={});var n=e.precision,o=e.coordinates,i=e.mutate;if(n=null==n||isNaN(n)?6:n,o=null==o||isNaN(o)?3:o,!t)throw new Error("<geojson> is required");if("number"!=typeof n)throw new Error("<precision> must be a number");if("number"!=typeof o)throw new Error("<coordinates> must be a number");!1!==i&&void 0!==i||(t=JSON.parse(JSON.stringify(t)));var s=Math.pow(10,n);return r.coordEach(t,(function(t){!function(t,e,n){t.length>n&&t.splice(n,t.length);for(var r=0;r<t.length;r++)t[r]=Math.round(t[r]*e)/e}(t,s,o)})),t}},38347:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7928),o=n(77382),i=n(187),s=n(68538),a=n(70305),u=n(37970),c=n(57191),l=n(97478),p=n(32015),f=n(3503),h=n(19062),d=n(55077),y=n(90265),g=n(99034),v=n(78230),b=n(25084),m=n(66338),_=n(28141),P=n(31013),w=n(63922),E=n(9705),x=n(95845),O=n(13652),C=n(88147),S=n(66379),M=n(13807),j=n(82059),N=n(63377),I=n(18829),T=n(51208),A=n(93737),D=n(81641),R=n(55771),k=n(41070),L=n(25913),G=n(10091),F=n(74792),V=n(51378),B=n(36813),z=n(15608),U=n(24288),q=n(73663),W=n(39632),J=n(94404),X=n(25422),Y=n(54590),H=n(7477),Z=n(67272),Q=n(97383),$=n(41933),K=n(30173),tt=n(90273),et=n(81674),nt=n(16912),rt=n(6213),ot=n(62054),it=n(5215),st=n(51138),at=n(77406),ut=n(90067),ct=n(67517),lt=n(92418),pt=n(15668),ft=n(24312),ht=n(55883),dt=n(72584),yt=n(17656),gt=n(3809),vt=n(57612),bt=n(72793),mt=n(39482),_t=n(45184),Pt=n(84255),wt=n(76565),Et=n(71435),xt=n(61495),Ot=n(56398),Ct=n(63892),St=n(24840),Mt=n(93550),jt=n(62276),Nt=n(61211),It=n(76320),Tt=n(12935),At=n(73955),Dt=n(8517),Rt=n(84978),kt=n(10920),Lt=n(35366),Gt=n(20981),Ft=n(16295),Vt=n(53140),Bt=n(84102),zt=n(10611),Ut=n(31540),qt=n(68727),Wt=n(35419),Jt=n(71959),Xt=n(74170),Yt=n(52407),Ht=n(45621),Zt=n(60482),Qt=n(45434),$t=n(4686),Kt=n(25566);function te(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}function ee(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}})),e.default=t,Object.freeze(e)}var ne=te(r),re=te(o),oe=te(i),ie=te(s),se=te(a),ae=te(u),ue=te(c),ce=te(l),le=te(p),pe=te(f),fe=te(h),he=te(d),de=te(y),ye=te(g),ge=te(v),ve=te(b),be=te(m),me=te(_),_e=te(P),Pe=te(w),we=te(E),Ee=te(x),xe=te(O),Oe=te(C),Ce=te(S),Se=te(M),Me=te(j),je=te(N),Ne=te(I),Ie=te(T),Te=te(A),Ae=te(D),De=te(R),Re=te(k),ke=te(L),Le=te(G),Ge=te(F),Fe=te(V),Ve=te(B),Be=te(z),ze=te(U),Ue=te(q),qe=te(W),We=te(J),Je=te(X),Xe=te(Y),Ye=te(H),He=te(Z),Ze=te(Q),Qe=te($),$e=te(K),Ke=te(tt),tn=te(et),en=te(nt),nn=te(rt),rn=te(ot),on=te(it),sn=te(st),an=te(at),un=te(ut),cn=te(ct),ln=te(lt),pn=te(pt),fn=te(ft),hn=te(ht),dn=te(dt),yn=te(yt),gn=te(gt),vn=te(vt),bn=te(bt),mn=te(mt),_n=te(_t),Pn=te(Pt),wn=te(wt),En=te(Et),xn=te(xt),On=te(Ot),Cn=te(Ct),Sn=te(St),Mn=te(Mt),jn=te(jt),Nn=te(Nt),In=te(It),Tn=te(Tt),An=te(At),Dn=te(Dt),Rn=te(Rt),kn=te(kt),Ln=te(Lt),Gn=ee(Gt),Fn=ee(Ft),Vn=ee(Vt),Bn=ee(Bt),zn=ee(zt),Un=ee(Ut),qn=te(qt),Wn=te(Wt),Jn=te(Jt),Xn=te(Xt),Yn=te(Yt),Hn=te(Ht),Zn=te(Zt),Qn=te(Qt),$n=te($t),Kn=te(Kt);Object.keys(Gt).forEach((function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return Gt[t]}})})),Object.keys(Ft).forEach((function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return Ft[t]}})})),Object.keys(Vt).forEach((function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return Vt[t]}})})),Object.keys(Bt).forEach((function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return Bt[t]}})})),Object.keys(zt).forEach((function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return zt[t]}})})),Object.keys(Ut).forEach((function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return Ut[t]}})})),Object.defineProperty(e,"isolines",{enumerable:!0,get:function(){return ne.default}}),Object.defineProperty(e,"convex",{enumerable:!0,get:function(){return re.default}}),Object.defineProperty(e,"pointsWithinPolygon",{enumerable:!0,get:function(){return oe.default}}),Object.defineProperty(e,"within",{enumerable:!0,get:function(){return oe.default}}),Object.defineProperty(e,"concave",{enumerable:!0,get:function(){return ie.default}}),Object.defineProperty(e,"collect",{enumerable:!0,get:function(){return se.default}}),Object.defineProperty(e,"flip",{enumerable:!0,get:function(){return ae.default}}),Object.defineProperty(e,"simplify",{enumerable:!0,get:function(){return ue.default}}),Object.defineProperty(e,"bezier",{enumerable:!0,get:function(){return ce.default}}),Object.defineProperty(e,"bezierSpline",{enumerable:!0,get:function(){return ce.default}}),Object.defineProperty(e,"tag",{enumerable:!0,get:function(){return le.default}}),Object.defineProperty(e,"sample",{enumerable:!0,get:function(){return pe.default}}),Object.defineProperty(e,"envelope",{enumerable:!0,get:function(){return fe.default}}),Object.defineProperty(e,"square",{enumerable:!0,get:function(){return he.default}}),Object.defineProperty(e,"circle",{enumerable:!0,get:function(){return de.default}}),Object.defineProperty(e,"midpoint",{enumerable:!0,get:function(){return ye.default}}),Object.defineProperty(e,"center",{enumerable:!0,get:function(){return ge.default}}),Object.defineProperty(e,"centerOfMass",{enumerable:!0,get:function(){return ve.default}}),Object.defineProperty(e,"centroid",{enumerable:!0,get:function(){return be.default}}),Object.defineProperty(e,"combine",{enumerable:!0,get:function(){return me.default}}),Object.defineProperty(e,"distance",{enumerable:!0,get:function(){return _e.default}}),Object.defineProperty(e,"explode",{enumerable:!0,get:function(){return Pe.default}}),Object.defineProperty(e,"bbox",{enumerable:!0,get:function(){return we.default}}),Object.defineProperty(e,"tesselate",{enumerable:!0,get:function(){return Ee.default}}),Object.defineProperty(e,"bboxPolygon",{enumerable:!0,get:function(){return xe.default}}),Object.defineProperty(e,"booleanPointInPolygon",{enumerable:!0,get:function(){return Oe.default}}),Object.defineProperty(e,"inside",{enumerable:!0,get:function(){return Oe.default}}),Object.defineProperty(e,"nearest",{enumerable:!0,get:function(){return Ce.default}}),Object.defineProperty(e,"nearestPoint",{enumerable:!0,get:function(){return Ce.default}}),Object.defineProperty(e,"nearestPointOnLine",{enumerable:!0,get:function(){return Se.default}}),Object.defineProperty(e,"pointOnLine",{enumerable:!0,get:function(){return Se.default}}),Object.defineProperty(e,"nearestPointToLine",{enumerable:!0,get:function(){return Me.default}}),Object.defineProperty(e,"planepoint",{enumerable:!0,get:function(){return je.default}}),Object.defineProperty(e,"tin",{enumerable:!0,get:function(){return Ne.default}}),Object.defineProperty(e,"bearing",{enumerable:!0,get:function(){return Ie.default}}),Object.defineProperty(e,"destination",{enumerable:!0,get:function(){return Te.default}}),Object.defineProperty(e,"kinks",{enumerable:!0,get:function(){return Ae.default}}),Object.defineProperty(e,"pointOnFeature",{enumerable:!0,get:function(){return De.default}}),Object.defineProperty(e,"pointOnSurface",{enumerable:!0,get:function(){return De.default}}),Object.defineProperty(e,"area",{enumerable:!0,get:function(){return Re.default}}),Object.defineProperty(e,"along",{enumerable:!0,get:function(){return ke.default}}),Object.defineProperty(e,"length",{enumerable:!0,get:function(){return Le.default}}),Object.defineProperty(e,"lineDistance",{enumerable:!0,get:function(){return Le.default}}),Object.defineProperty(e,"lineSlice",{enumerable:!0,get:function(){return Ge.default}}),Object.defineProperty(e,"lineSliceAlong",{enumerable:!0,get:function(){return Fe.default}}),Object.defineProperty(e,"pointGrid",{enumerable:!0,get:function(){return Ve.default}}),Object.defineProperty(e,"truncate",{enumerable:!0,get:function(){return Be.default}}),Object.defineProperty(e,"flatten",{enumerable:!0,get:function(){return ze.default}}),Object.defineProperty(e,"lineIntersect",{enumerable:!0,get:function(){return Ue.default}}),Object.defineProperty(e,"lineChunk",{enumerable:!0,get:function(){return qe.default}}),Object.defineProperty(e,"unkinkPolygon",{enumerable:!0,get:function(){return We.default}}),Object.defineProperty(e,"greatCircle",{enumerable:!0,get:function(){return Je.default}}),Object.defineProperty(e,"lineSegment",{enumerable:!0,get:function(){return Xe.default}}),Object.defineProperty(e,"lineSplit",{enumerable:!0,get:function(){return Ye.default}}),Object.defineProperty(e,"lineArc",{enumerable:!0,get:function(){return He.default}}),Object.defineProperty(e,"polygonToLine",{enumerable:!0,get:function(){return Ze.default}}),Object.defineProperty(e,"polygonToLineString",{enumerable:!0,get:function(){return Ze.default}}),Object.defineProperty(e,"lineStringToPolygon",{enumerable:!0,get:function(){return Qe.default}}),Object.defineProperty(e,"lineToPolygon",{enumerable:!0,get:function(){return Qe.default}}),Object.defineProperty(e,"bboxClip",{enumerable:!0,get:function(){return $e.default}}),Object.defineProperty(e,"lineOverlap",{enumerable:!0,get:function(){return Ke.default}}),Object.defineProperty(e,"sector",{enumerable:!0,get:function(){return tn.default}}),Object.defineProperty(e,"rhumbBearing",{enumerable:!0,get:function(){return en.default}}),Object.defineProperty(e,"rhumbDistance",{enumerable:!0,get:function(){return nn.default}}),Object.defineProperty(e,"rhumbDestination",{enumerable:!0,get:function(){return rn.default}}),Object.defineProperty(e,"polygonTangents",{enumerable:!0,get:function(){return on.default}}),Object.defineProperty(e,"rewind",{enumerable:!0,get:function(){return sn.default}}),Object.defineProperty(e,"isobands",{enumerable:!0,get:function(){return an.default}}),Object.defineProperty(e,"transformRotate",{enumerable:!0,get:function(){return un.default}}),Object.defineProperty(e,"transformScale",{enumerable:!0,get:function(){return cn.default}}),Object.defineProperty(e,"transformTranslate",{enumerable:!0,get:function(){return ln.default}}),Object.defineProperty(e,"lineOffset",{enumerable:!0,get:function(){return pn.default}}),Object.defineProperty(e,"polygonize",{enumerable:!0,get:function(){return fn.default}}),Object.defineProperty(e,"booleanDisjoint",{enumerable:!0,get:function(){return hn.default}}),Object.defineProperty(e,"booleanContains",{enumerable:!0,get:function(){return dn.default}}),Object.defineProperty(e,"booleanCrosses",{enumerable:!0,get:function(){return yn.default}}),Object.defineProperty(e,"booleanClockwise",{enumerable:!0,get:function(){return gn.default}}),Object.defineProperty(e,"booleanOverlap",{enumerable:!0,get:function(){return vn.default}}),Object.defineProperty(e,"booleanPointOnLine",{enumerable:!0,get:function(){return bn.default}}),Object.defineProperty(e,"booleanEqual",{enumerable:!0,get:function(){return mn.default}}),Object.defineProperty(e,"booleanWithin",{enumerable:!0,get:function(){return _n.default}}),Object.defineProperty(e,"booleanIntersects",{enumerable:!0,get:function(){return Pn.default}}),Object.defineProperty(e,"clone",{enumerable:!0,get:function(){return wn.default}}),Object.defineProperty(e,"cleanCoords",{enumerable:!0,get:function(){return En.default}}),Object.defineProperty(e,"clustersDbscan",{enumerable:!0,get:function(){return xn.default}}),Object.defineProperty(e,"clustersKmeans",{enumerable:!0,get:function(){return On.default}}),Object.defineProperty(e,"pointToLineDistance",{enumerable:!0,get:function(){return Cn.default}}),Object.defineProperty(e,"booleanParallel",{enumerable:!0,get:function(){return Sn.default}}),Object.defineProperty(e,"shortestPath",{enumerable:!0,get:function(){return Mn.default}}),Object.defineProperty(e,"voronoi",{enumerable:!0,get:function(){return jn.default}}),Object.defineProperty(e,"ellipse",{enumerable:!0,get:function(){return Nn.default}}),Object.defineProperty(e,"centerMean",{enumerable:!0,get:function(){return In.default}}),Object.defineProperty(e,"centerMedian",{enumerable:!0,get:function(){return Tn.default}}),Object.defineProperty(e,"standardDeviationalEllipse",{enumerable:!0,get:function(){return An.default}}),Object.defineProperty(e,"angle",{enumerable:!0,get:function(){return Dn.default}}),Object.defineProperty(e,"polygonSmooth",{enumerable:!0,get:function(){return Rn.default}}),Object.defineProperty(e,"moranIndex",{enumerable:!0,get:function(){return kn.default}}),Object.defineProperty(e,"distanceWeight",{enumerable:!0,get:function(){return Ln.default}}),e.projection=Gn,e.random=Fn,e.clusters=Vn,Object.defineProperty(e,"bearingToAngle",{enumerable:!0,get:function(){return Bt.bearingToAzimuth}}),Object.defineProperty(e,"convertDistance",{enumerable:!0,get:function(){return Bt.convertLength}}),Object.defineProperty(e,"degrees2radians",{enumerable:!0,get:function(){return Bt.degreesToRadians}}),Object.defineProperty(e,"distanceToDegrees",{enumerable:!0,get:function(){return Bt.lengthToDegrees}}),Object.defineProperty(e,"distanceToRadians",{enumerable:!0,get:function(){return Bt.lengthToRadians}}),e.helpers=Bn,Object.defineProperty(e,"radians2degrees",{enumerable:!0,get:function(){return Bt.radiansToDegrees}}),Object.defineProperty(e,"radiansToDistance",{enumerable:!0,get:function(){return Bt.radiansToLength}}),e.invariant=zn,e.meta=Un,Object.defineProperty(e,"difference",{enumerable:!0,get:function(){return qn.default}}),Object.defineProperty(e,"buffer",{enumerable:!0,get:function(){return Wn.default}}),Object.defineProperty(e,"union",{enumerable:!0,get:function(){return Jn.default}}),Object.defineProperty(e,"intersect",{enumerable:!0,get:function(){return Xn.default}}),Object.defineProperty(e,"dissolve",{enumerable:!0,get:function(){return Yn.default}}),Object.defineProperty(e,"hexGrid",{enumerable:!0,get:function(){return Hn.default}}),Object.defineProperty(e,"mask",{enumerable:!0,get:function(){return Zn.default}}),Object.defineProperty(e,"squareGrid",{enumerable:!0,get:function(){return Qn.default}}),Object.defineProperty(e,"triangleGrid",{enumerable:!0,get:function(){return $n.default}}),Object.defineProperty(e,"interpolate",{enumerable:!0,get:function(){return Kn.default}})},71959:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(32676)),i=n(10611),s=n(84102);e.default=function(t,e,n){void 0===n&&(n={});var r=i.getGeom(t),a=i.getGeom(e),u=o.default.union(r.coordinates,a.coordinates);return 0===u.length?null:1===u.length?s.polygon(u[0],n.properties):s.multiPolygon(u,n.properties)}},94404:(t,e,n)=>{"use strict";var r=n(31540),o=n(84102),i=n(64860),s=n(41070),a=n(88147);function u(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var c=u(i),l=u(s),p=u(a);function f(t,e){if(!t||!e)return!1;if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!f(t[n],e[n]))return!1}else if(t[n]!==e[n])return!1;return!0}function h(t){if("Feature"!=t.type)throw new Error("The input must a geojson object of type Feature");if(void 0===t.geometry||null==t.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=t.geometry.type)throw new Error("The input must be a geojson Polygon");for(var e=t.geometry.coordinates.length,n=[],r=0;r<e;r++){var i=t.geometry.coordinates[r];b(i[0],i[i.length-1])||i.push(i[0]),n.push.apply(n,i.slice(0,i.length-1))}if(!function(t){for(var e={},n=1,r=0,o=t.length;r<o;++r){if(Object.prototype.hasOwnProperty.call(e,t[r])){n=0;break}e[t[r]]=1}return n}(n))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var s=n.length,a=function(t,e,n){if("Polygon"!==t.geometry.type)throw new Error("The input feature must be a Polygon");void 0===n&&(n=1);var r=t.geometry.coordinates,o=[],i={};if(n){for(var s=[],a=0;a<r.length;a++)for(var u=0;u<r[a].length-1;u++)s.push(v(a,u));var l=c.default();l.load(s)}for(var p=0;p<r.length;p++)for(var h=0;h<r[p].length-1;h++)if(n)l.search(v(p,h)).forEach((function(t){var e=t.ring,n=t.edge;g(p,h,e,n)}));else for(var d=0;d<r.length;d++)for(var y=0;y<r[d].length-1;y++)g(p,h,d,y);return e||(o={type:"Feature",geometry:{type:"MultiPoint",coordinates:o}}),o;function g(t,n,s,a){var u,c,l=r[t][n],p=r[t][n+1],h=r[s][a],d=r[s][a+1],y=function(t,e,n,r){if(f(t,n)||f(t,r)||f(e,n)||f(r,n))return null;var o=t[0],i=t[1],s=e[0],a=e[1],u=n[0],c=n[1],l=r[0],p=r[1],h=(o-s)*(c-p)-(i-a)*(u-l);return 0===h?null:[((o*a-i*s)*(u-l)-(o-s)*(u*p-c*l))/h,((o*a-i*s)*(c-p)-(i-a)*(u*p-c*l))/h]}(l,p,h,d);if(null!==y&&(u=p[0]!==l[0]?(y[0]-l[0])/(p[0]-l[0]):(y[1]-l[1])/(p[1]-l[1]),c=d[0]!==h[0]?(y[0]-h[0])/(d[0]-h[0]):(y[1]-h[1])/(d[1]-h[1]),!(u>=1||u<=0||c>=1||c<=0))){var g=y,v=!i[g];v&&(i[g]=!0),e?o.push(e(y,t,n,l,p,u,s,a,h,d,c,v)):o.push(y)}}function v(t,e){var n,o,i,s,a=r[t][e],u=r[t][e+1];return a[0]<u[0]?(n=a[0],o=u[0]):(n=u[0],o=a[0]),a[1]<u[1]?(i=a[1],s=u[1]):(i=u[1],s=a[1]),{minX:n,minY:i,maxX:o,maxY:s,ring:t,edge:e}}}(t,(function(t,e,n,r,o,i,s,a,u,c,l,p){return[t,e,n,r,o,i,s,a,u,c,l,p]})),u=a.length;if(0==u){var h=[];for(r=0;r<e;r++)h.push(o.polygon([t.geometry.coordinates[r]],{parent:-1,winding:v(t.geometry.coordinates[r])}));var _=o.featureCollection(h);return X(),Y(),_}var P=[],w=[];for(r=0;r<e;r++){P.push([]);for(var E=0;E<t.geometry.coordinates[r].length-1;E++)P[r].push([new d(t.geometry.coordinates[r][m(E+1,t.geometry.coordinates[r].length-1)],1,[r,E],[r,m(E+1,t.geometry.coordinates[r].length-1)],void 0)]),w.push(new y(t.geometry.coordinates[r][E],[r,m(E-1,t.geometry.coordinates[r].length-1)],[r,E],void 0,void 0,!1,!0))}for(r=0;r<u;r++)P[a[r][1]][a[r][2]].push(new d(a[r][0],a[r][5],[a[r][1],a[r][2]],[a[r][6],a[r][7]],void 0)),a[r][11]&&w.push(new y(a[r][0],[a[r][1],a[r][2]],[a[r][6],a[r][7]],void 0,void 0,!0,!0));var x=w.length;for(r=0;r<P.length;r++)for(E=0;E<P[r].length;E++)P[r][E].sort((function(t,e){return t.param<e.param?-1:1}));var O=[];for(r=0;r<x;r++)O.push({minX:w[r].coord[0],minY:w[r].coord[1],maxX:w[r].coord[0],maxY:w[r].coord[1],index:r});var C=c.default();for(C.load(O),r=0;r<P.length;r++)for(E=0;E<P[r].length;E++)for(var S=0;S<P[r][E].length;S++){j=S==P[r][E].length-1?P[r][m(E+1,t.geometry.coordinates[r].length-1)][0].coord:P[r][E][S+1].coord;var M=C.search({minX:j[0],minY:j[1],maxX:j[0],maxY:j[1]})[0];P[r][E][S].nxtIsectAlongEdgeIn=M.index}for(r=0;r<P.length;r++)for(E=0;E<P[r].length;E++)for(S=0;S<P[r][E].length;S++){var j=P[r][E][S].coord,N=(M=C.search({minX:j[0],minY:j[1],maxX:j[0],maxY:j[1]})[0]).index;N<s?w[N].nxtIsectAlongRingAndEdge2=P[r][E][S].nxtIsectAlongEdgeIn:b(w[N].ringAndEdge1,P[r][E][S].ringAndEdgeIn)?w[N].nxtIsectAlongRingAndEdge1=P[r][E][S].nxtIsectAlongEdgeIn:w[N].nxtIsectAlongRingAndEdge2=P[r][E][S].nxtIsectAlongEdgeIn}var I=[];for(r=0,E=0;E<e;E++){var T=r;for(S=0;S<t.geometry.coordinates[E].length-1;S++)w[r].coord[0]<w[T].coord[0]&&(T=r),r++;var A=w[T].nxtIsectAlongRingAndEdge2;for(S=0;S<w.length;S++)if(w[S].nxtIsectAlongRingAndEdge1==T||w[S].nxtIsectAlongRingAndEdge2==T){var D=S;break}var R=g([w[D].coord,w[T].coord,w[A].coord],!0)?1:-1;I.push({isect:T,parent:-1,winding:R})}for(I.sort((function(t,e){return w[t.isect].coord>w[e.isect].coord?-1:1})),h=[];I.length>0;){var k=I.pop(),L=k.isect,G=k.parent,F=k.winding,V=h.length,B=[w[L].coord],z=L;if(w[L].ringAndEdge1Walkable)var U=w[L].ringAndEdge1,q=w[L].nxtIsectAlongRingAndEdge1;else U=w[L].ringAndEdge2,q=w[L].nxtIsectAlongRingAndEdge2;for(;!b(w[L].coord,w[q].coord);){B.push(w[q].coord);var W=void 0;for(r=0;r<I.length;r++)if(I[r].isect==q){W=r;break}if(null!=W&&I.splice(W,1),b(U,w[q].ringAndEdge1)){if(U=w[q].ringAndEdge2,w[q].ringAndEdge2Walkable=!1,w[q].ringAndEdge1Walkable){var J={isect:q};g([w[z].coord,w[q].coord,w[w[q].nxtIsectAlongRingAndEdge2].coord],1==F)?(J.parent=G,J.winding=-F):(J.parent=V,J.winding=F),I.push(J)}z=q,q=w[q].nxtIsectAlongRingAndEdge2}else U=w[q].ringAndEdge1,w[q].ringAndEdge1Walkable=!1,w[q].ringAndEdge2Walkable&&(J={isect:q},g([w[z].coord,w[q].coord,w[w[q].nxtIsectAlongRingAndEdge1].coord],1==F)?(J.parent=G,J.winding=-F):(J.parent=V,J.winding=F),I.push(J)),z=q,q=w[q].nxtIsectAlongRingAndEdge1}B.push(w[q].coord),h.push(o.polygon([B],{index:V,parent:G,winding:F,netWinding:void 0}))}function X(){for(var t=[],e=0;e<_.features.length;e++)-1==_.features[e].properties.parent&&t.push(e);if(t.length>1)for(e=0;e<t.length;e++){for(var n=-1,r=0;r<_.features.length;r++)t[e]!=r&&p.default(_.features[t[e]].geometry.coordinates[0][0],_.features[r],{ignoreBoundary:!0})&&l.default(_.features[r])<1/0&&(n=r);_.features[t[e]].properties.parent=n}}function Y(){for(var t=0;t<_.features.length;t++)if(-1==_.features[t].properties.parent){var e=_.features[t].properties.winding;_.features[t].properties.netWinding=e,H(t,e)}}function H(t,e){for(var n=0;n<_.features.length;n++)if(_.features[n].properties.parent==t){var r=e+_.features[n].properties.winding;_.features[n].properties.netWinding=r,H(n,r)}}return _=o.featureCollection(h),X(),Y(),_}var d=function(t,e,n,r,o){this.coord=t,this.param=e,this.ringAndEdgeIn=n,this.ringAndEdgeOut=r,this.nxtIsectAlongEdgeIn=o},y=function(t,e,n,r,o,i,s){this.coord=t,this.ringAndEdge1=e,this.ringAndEdge2=n,this.nxtIsectAlongRingAndEdge1=r,this.nxtIsectAlongRingAndEdge2=o,this.ringAndEdge1Walkable=i,this.ringAndEdge2Walkable=s};function g(t,e){if(void 0===e&&(e=!0),3!=t.length)throw new Error("This function requires an array of three points [x,y]");return(t[1][0]-t[0][0])*(t[2][1]-t[0][1])-(t[1][1]-t[0][1])*(t[2][0]-t[0][0])>=0==e}function v(t){for(var e=0,n=0;n<t.length-1;n++)t[n][0]<t[e][0]&&(e=n);if(g([t[m(e-1,t.length-1)],t[e],t[m(e+1,t.length-1)]],!0))var r=1;else r=-1;return r}function b(t,e){if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!b(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0}function m(t,e){return(t%e+e)%e}function _(t){var e=[];return r.flattenEach(t,(function(t){"Polygon"===t.geometry.type&&r.featureEach(h(t),(function(n){e.push(o.polygon(n.geometry.coordinates,t.properties))}))})),o.featureCollection(e)}t.exports=_,t.exports.default=_},19538:function(t){t.exports=function(){"use strict";function t(n,r,o,i,s){for(;i>o;){if(i-o>600){var a=i-o+1,u=r-o+1,c=Math.log(a),l=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*l*(a-l)/a)*(u-a/2<0?-1:1);t(n,r,Math.max(o,Math.floor(r-u*l/a+p)),Math.min(i,Math.floor(r+(a-u)*l/a+p)),s)}var f=n[r],h=o,d=i;for(e(n,o,r),s(n[i],f)>0&&e(n,o,i);h<d;){for(e(n,h,d),h++,d--;s(n[h],f)<0;)h++;for(;s(n[d],f)>0;)d--}0===s(n[o],f)?e(n,o,d):e(n,++d,i),d<=r&&(o=d+1),r<=d&&(i=d-1)}}function e(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function n(t,e){return t<e?-1:t>e?1:0}return function(e,r,o,i,s){t(e,r,o||0,i||e.length-1,s||n)}}()},64860:(t,e,n)=>{"use strict";t.exports=o,t.exports.default=o;var r=n(19538);function o(t,e){if(!(this instanceof o))return new o(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function i(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function s(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,r,o){o||(o=y(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var i,s=e;s<n;s++)i=t.children[s],u(o,t.leaf?r(i):i);return o}function u(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function c(t,e){return t.minX-e.minX}function l(t,e){return t.minY-e.minY}function p(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function f(t){return t.maxX-t.minX+(t.maxY-t.minY)}function h(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function d(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function y(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(t,e,n,o,i){for(var s,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=o||(s=e+Math.ceil((n-e)/o/2)*o,r(t,s,e,n,i),a.push(e,s,s,n))}o.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!d(t,e))return n;for(var o,i,s,a,u=[];e;){for(o=0,i=e.children.length;o<i;o++)s=e.children[o],d(t,a=e.leaf?r(s):s)&&(e.leaf?n.push(s):h(t,a)?this._all(s,n):u.push(s));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!d(t,e))return!1;for(var r,o,i,s,a=[];e;){for(r=0,o=e.children.length;r<o;r++)if(i=e.children[r],d(t,s=e.leaf?n(i):i)){if(e.leaf||h(t,s))return!0;a.push(i)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var o=this.data;this.data=r,r=o}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=y([]),this},remove:function(t,e){if(!t)return this;for(var n,r,o,s,a=this.data,u=this.toBBox(t),c=[],l=[];a||c.length;){if(a||(a=c.pop(),r=c[c.length-1],n=l.pop(),s=!0),a.leaf&&-1!==(o=i(t,a.children,e)))return a.children.splice(o,1),c.push(a),this._condense(c),this;s||a.leaf||!h(a,u)?r?(n++,a=r.children[n],s=!1):a=null:(c.push(a),l.push(n),n=0,r=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:c,compareMinY:l,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var o,i=n-e+1,a=this._maxEntries;if(i<=a)return s(o=y(t.slice(e,n+1)),this.toBBox),o;r||(r=Math.ceil(Math.log(i)/Math.log(a)),a=Math.ceil(i/Math.pow(a,r-1))),(o=y([])).leaf=!1,o.height=r;var u,c,l,p,f=Math.ceil(i/a),h=f*Math.ceil(Math.sqrt(a));for(g(t,e,n,h,this.compareMinX),u=e;u<=n;u+=h)for(g(t,u,l=Math.min(u+h-1,n),f,this.compareMinY),c=u;c<=l;c+=f)p=Math.min(c+f-1,l),o.children.push(this._build(t,c,p,r-1));return s(o,this.toBBox),o},_chooseSubtree:function(t,e,n,r){for(var o,i,s,a,u,c,l,f,h,d;r.push(e),!e.leaf&&r.length-1!==n;){for(l=f=1/0,o=0,i=e.children.length;o<i;o++)u=p(s=e.children[o]),h=t,d=s,(c=(Math.max(d.maxX,h.maxX)-Math.min(d.minX,h.minX))*(Math.max(d.maxY,h.maxY)-Math.min(d.minY,h.minY))-u)<f?(f=c,l=u<l?u:l,a=s):c===f&&u<l&&(l=u,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var r=this.toBBox,o=n?t:r(t),i=[],s=this._chooseSubtree(o,this.data,e,i);for(s.children.push(t),u(s,o);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(o,i,e)},_split:function(t,e){var n=t[e],r=n.children.length,o=this._minEntries;this._chooseSplitAxis(n,o,r);var i=this._chooseSplitIndex(n,o,r),a=y(n.children.splice(i,n.children.length-i));a.height=n.height,a.leaf=n.leaf,s(n,this.toBBox),s(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=y([t,e]),this.data.height=t.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,o,i,s,u,c,l,f,h,d,y,g,v,b;for(c=l=1/0,r=e;r<=n-e;r++)h=o=a(t,0,r,this.toBBox),d=i=a(t,r,n,this.toBBox),void 0,void 0,void 0,void 0,y=Math.max(h.minX,d.minX),g=Math.max(h.minY,d.minY),v=Math.min(h.maxX,d.maxX),b=Math.min(h.maxY,d.maxY),s=Math.max(0,v-y)*Math.max(0,b-g),u=p(o)+p(i),s<c?(c=s,f=r,l=u<l?u:l):s===c&&u<l&&(l=u,f=r);return f},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:c,o=t.leaf?this.compareMinY:l;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,o)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var o,i,s=this.toBBox,c=a(t,0,e,s),l=a(t,n-e,n,s),p=f(c)+f(l);for(o=e;o<n-e;o++)i=t.children[o],u(c,t.leaf?s(i):i),p+=f(c);for(o=n-e-1;o>=e;o--)i=t.children[o],u(l,t.leaf?s(i):i),p+=f(l);return p},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)u(e[r],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():s(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},62276:(t,e,n)=>{"use strict";var r=n(84102),o=n(10611),i=n(71704);function s(t){return(t=t.slice()).push(t[0]),r.polygon([t])}function a(t,e){if(e=e||{},!r.isObject(e))throw new Error("options is invalid");var n=e.bbox||[-180,-85,180,85];if(!t)throw new Error("points is required");if(!Array.isArray(n))throw new Error("bbox is invalid");return o.collectionOf(t,"Point","points"),r.featureCollection(i.voronoi().x((function(t){return t.geometry.coordinates[0]})).y((function(t){return t.geometry.coordinates[1]})).extent([[n[0],n[1]],[n[2],n[3]]]).polygons(t.features).map(s))}t.exports=a,t.exports.default=a},21924:(t,e,n)=>{"use strict";var r=n(40210),o=n(55559),i=o(r("String.prototype.indexOf"));t.exports=function(t,e){var n=r(t,!!e);return"function"==typeof n&&i(t,".prototype.")>-1?o(n):n}},55559:(t,e,n)=>{"use strict";var r=n(58612),o=n(40210),i=o("%Function.prototype.apply%"),s=o("%Function.prototype.call%"),a=o("%Reflect.apply%",!0)||r.call(s,i),u=o("%Object.getOwnPropertyDescriptor%",!0),c=o("%Object.defineProperty%",!0),l=o("%Math.max%");if(c)try{c({},"a",{value:1})}catch(t){c=null}t.exports=function(t){var e=a(r,s,arguments);if(u&&c){var n=u(e,"length");n.configurable&&c(e,"length",{value:1+l(0,t.length-(arguments.length-1))})}return e};var p=function(){return a(r,i,arguments)};c?c(t.exports,"apply",{value:p}):t.exports.apply=p},72273:(t,e,n)=>{"use strict";var r=n(82582),o=n(43842),i=n(26960),s=n(88639).orient2d;function a(t,e,n){e=Math.max(0,void 0===e?2:e),n=n||0;var o=function(t){for(var e=t[0],n=t[0],r=t[0],o=t[0],s=0;s<t.length;s++){var a=t[s];a[0]<e[0]&&(e=a),a[0]>r[0]&&(r=a),a[1]<n[1]&&(n=a),a[1]>o[1]&&(o=a)}var u=[e,n,r,o],c=u.slice();for(s=0;s<t.length;s++)i(t[s],u)||c.push(t[s]);return function(t){t.sort(m);for(var e=[],n=0;n<t.length;n++){for(;e.length>=2&&h(e[e.length-2],e[e.length-1],t[n])<=0;)e.pop();e.push(t[n])}for(var r=[],o=t.length-1;o>=0;o--){for(;r.length>=2&&h(r[r.length-2],r[r.length-1],t[o])<=0;)r.pop();r.push(t[o])}return r.pop(),e.pop(),e.concat(r)}(c)}(t),s=new r(16);s.toBBox=function(t){return{minX:t[0],minY:t[1],maxX:t[0],maxY:t[1]}},s.compareMinX=function(t,e){return t[0]-e[0]},s.compareMinY=function(t,e){return t[1]-e[1]},s.load(t);for(var a,c=[],l=0;l<o.length;l++){var p=o[l];s.remove(p),a=y(p,a),c.push(a)}var f=new r(16);for(l=0;l<c.length;l++)f.insert(d(c[l]));for(var v=e*e,b=n*n;c.length;){var _=c.shift(),P=_.p,w=_.next.p,E=g(P,w);if(!(E<b)){var x=E/v;(p=u(s,_.prev.p,P,w,_.next.next.p,x,f))&&Math.min(g(p,P),g(p,w))<=x&&(c.push(_),c.push(y(p,_)),s.remove(p),f.remove(_),f.insert(d(_)),f.insert(d(_.next)))}}_=a;var O=[];do{O.push(_.p),_=_.next}while(_!==a);return O.push(_.p),O}function u(t,e,n,r,i,s,a){for(var u=new o([],c),p=t.data;p;){for(var h=0;h<p.children.length;h++){var d=p.children[h],y=p.leaf?v(d,n,r):l(n,r,d);y>s||u.push({node:d,dist:y})}for(;u.length&&!u.peek().node.children;){var g=u.pop(),b=g.node,m=v(b,e,n),_=v(b,r,i);if(g.dist<m&&g.dist<_&&f(n,b,a)&&f(r,b,a))return b}(p=u.pop())&&(p=p.node)}return null}function c(t,e){return t.dist-e.dist}function l(t,e,n){if(p(t,n)||p(e,n))return 0;var r=b(t[0],t[1],e[0],e[1],n.minX,n.minY,n.maxX,n.minY);if(0===r)return 0;var o=b(t[0],t[1],e[0],e[1],n.minX,n.minY,n.minX,n.maxY);if(0===o)return 0;var i=b(t[0],t[1],e[0],e[1],n.maxX,n.minY,n.maxX,n.maxY);if(0===i)return 0;var s=b(t[0],t[1],e[0],e[1],n.minX,n.maxY,n.maxX,n.maxY);return 0===s?0:Math.min(r,o,i,s)}function p(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function f(t,e,n){for(var r,o,i,s,a=Math.min(t[0],e[0]),u=Math.min(t[1],e[1]),c=Math.max(t[0],e[0]),l=Math.max(t[1],e[1]),p=n.search({minX:a,minY:u,maxX:c,maxY:l}),f=0;f<p.length;f++)if(r=p[f].p,o=p[f].next.p,i=t,r!==(s=e)&&o!==i&&h(r,o,i)>0!=h(r,o,s)>0&&h(i,s,r)>0!=h(i,s,o)>0)return!1;return!0}function h(t,e,n){return s(t[0],t[1],e[0],e[1],n[0],n[1])}function d(t){var e=t.p,n=t.next.p;return t.minX=Math.min(e[0],n[0]),t.minY=Math.min(e[1],n[1]),t.maxX=Math.max(e[0],n[0]),t.maxY=Math.max(e[1],n[1]),t}function y(t,e){var n={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(n.next=e.next,n.prev=e,e.next.prev=n,e.next=n):(n.prev=n,n.next=n),n}function g(t,e){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function v(t,e,n){var r=e[0],o=e[1],i=n[0]-r,s=n[1]-o;if(0!==i||0!==s){var a=((t[0]-r)*i+(t[1]-o)*s)/(i*i+s*s);a>1?(r=n[0],o=n[1]):a>0&&(r+=i*a,o+=s*a)}return(i=t[0]-r)*i+(s=t[1]-o)*s}function b(t,e,n,r,o,i,s,a){var u,c,l,p,f=n-t,h=r-e,d=s-o,y=a-i,g=t-o,v=e-i,b=f*f+h*h,m=f*d+h*y,_=d*d+y*y,P=f*g+h*v,w=d*g+y*v,E=b*_-m*m,x=E,O=E;0===E?(c=0,x=1,p=w,O=_):(p=b*w-m*P,(c=m*w-_*P)<0?(c=0,p=w,O=_):c>x&&(c=x,p=w+m,O=_)),p<0?(p=0,-P<0?c=0:-P>b?c=x:(c=-P,x=b)):p>O&&(p=O,-P+m<0?c=0:-P+m>b?c=x:(c=-P+m,x=b));var C=(1-(l=0===p?0:p/O))*o+l*s-((1-(u=0===c?0:c/x))*t+u*n),S=(1-l)*i+l*a-((1-u)*e+u*r);return C*C+S*S}function m(t,e){return t[0]===e[0]?t[1]-e[1]:t[0]-e[0]}o.default&&(o=o.default),t.exports=a,t.exports.default=a},41688:(t,e,n)=>{"use strict";function r(){return new o}function o(){this.reset()}n.r(e),n.d(e,{geoAlbers:()=>Pr,geoAlbersUsa:()=>wr,geoArea:()=>Y,geoAzimuthalEqualArea:()=>Cr,geoAzimuthalEqualAreaRaw:()=>Or,geoAzimuthalEquidistant:()=>Mr,geoAzimuthalEquidistantRaw:()=>Sr,geoBounds:()=>Vt,geoCentroid:()=>te,geoCircle:()=>pe,geoClipExtent:()=>xe,geoConicConformal:()=>Dr,geoConicConformalRaw:()=>Ar,geoConicEqualArea:()=>_r,geoConicEqualAreaRaw:()=>mr,geoConicEquidistant:()=>Gr,geoConicEquidistantRaw:()=>Lr,geoContains:()=>Xe,geoDistance:()=>Ge,geoEquirectangular:()=>kr,geoEquirectangularRaw:()=>Rr,geoGnomonic:()=>Vr,geoGnomonicRaw:()=>Fr,geoGraticule:()=>Ze,geoGraticule10:()=>Qe,geoIdentity:()=>zr,geoInterpolate:()=>$e,geoLength:()=>Re,geoMercator:()=>Nr,geoMercatorRaw:()=>jr,geoNaturalEarth1:()=>qr,geoNaturalEarth1Raw:()=>Ur,geoOrthographic:()=>Jr,geoOrthographicRaw:()=>Wr,geoPath:()=>nr,geoProjection:()=>gr,geoProjectionMutator:()=>vr,geoRotation:()=>ue,geoStereographic:()=>Yr,geoStereographicRaw:()=>Xr,geoStream:()=>R,geoTransform:()=>ur,geoTransverseMercator:()=>Zr,geoTransverseMercatorRaw:()=>Hr}),o.prototype={constructor:o,reset:function(){this.s=this.t=0},add:function(t){s(i,t,this.t),s(this,i.s,this.s),this.s?this.t+=i.t:this.s=i.t},valueOf:function(){return this.s}};var i=new o;function s(t,e,n){var r=t.s=e+n,o=r-e,i=r-o;t.t=e-i+(n-o)}var a=1e-6,u=Math.PI,c=u/2,l=u/4,p=2*u,f=180/u,h=u/180,d=Math.abs,y=Math.atan,g=Math.atan2,v=Math.cos,b=Math.ceil,m=Math.exp,_=(Math.floor,Math.log),P=Math.pow,w=Math.sin,E=Math.sign||function(t){return t>0?1:t<0?-1:0},x=Math.sqrt,O=Math.tan;function C(t){return t>1?0:t<-1?u:Math.acos(t)}function S(t){return t>1?c:t<-1?-c:Math.asin(t)}function M(t){return(t=w(t/2))*t}function j(){}function N(t,e){t&&T.hasOwnProperty(t.type)&&T[t.type](t,e)}var I={Feature:function(t,e){N(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,o=n.length;++r<o;)N(n[r].geometry,e)}},T={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){A(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)A(n[r],e,0)},Polygon:function(t,e){D(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)D(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,o=n.length;++r<o;)N(n[r],e)}};function A(t,e,n){var r,o=-1,i=t.length-n;for(e.lineStart();++o<i;)r=t[o],e.point(r[0],r[1],r[2]);e.lineEnd()}function D(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)A(t[n],e,1);e.polygonEnd()}function R(t,e){t&&I.hasOwnProperty(t.type)?I[t.type](t,e):N(t,e)}var k,L,G,F,V,B=r(),z=r(),U={point:j,lineStart:j,lineEnd:j,polygonStart:function(){B.reset(),U.lineStart=q,U.lineEnd=W},polygonEnd:function(){var t=+B;z.add(t<0?p+t:t),this.lineStart=this.lineEnd=this.point=j},sphere:function(){z.add(p)}};function q(){U.point=J}function W(){X(k,L)}function J(t,e){U.point=X,k=t,L=e,G=t*=h,F=v(e=(e*=h)/2+l),V=w(e)}function X(t,e){var n=(t*=h)-G,r=n>=0?1:-1,o=r*n,i=v(e=(e*=h)/2+l),s=w(e),a=V*s,u=F*i+a*v(o),c=a*r*w(o);B.add(g(c,u)),G=t,F=i,V=s}function Y(t){return z.reset(),R(t,U),2*z}function H(t){return[g(t[1],t[0]),S(t[2])]}function Z(t){var e=t[0],n=t[1],r=v(n);return[r*v(e),r*w(e),w(n)]}function Q(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function $(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function K(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function tt(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function et(t){var e=x(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var nt,rt,ot,it,st,at,ut,ct,lt,pt,ft,ht,dt,yt,gt,vt,bt,mt,_t,Pt,wt,Et,xt,Ot,Ct,St,Mt=r(),jt={point:Nt,lineStart:Tt,lineEnd:At,polygonStart:function(){jt.point=Dt,jt.lineStart=Rt,jt.lineEnd=kt,Mt.reset(),U.polygonStart()},polygonEnd:function(){U.polygonEnd(),jt.point=Nt,jt.lineStart=Tt,jt.lineEnd=At,B<0?(nt=-(ot=180),rt=-(it=90)):Mt>a?it=90:Mt<-a&&(rt=-90),pt[0]=nt,pt[1]=ot}};function Nt(t,e){lt.push(pt=[nt=t,ot=t]),e<rt&&(rt=e),e>it&&(it=e)}function It(t,e){var n=Z([t*h,e*h]);if(ct){var r=$(ct,n),o=$([r[1],-r[0],0],r);et(o),o=H(o);var i,s=t-st,a=s>0?1:-1,u=o[0]*f*a,c=d(s)>180;c^(a*st<u&&u<a*t)?(i=o[1]*f)>it&&(it=i):c^(a*st<(u=(u+360)%360-180)&&u<a*t)?(i=-o[1]*f)<rt&&(rt=i):(e<rt&&(rt=e),e>it&&(it=e)),c?t<st?Lt(nt,t)>Lt(nt,ot)&&(ot=t):Lt(t,ot)>Lt(nt,ot)&&(nt=t):ot>=nt?(t<nt&&(nt=t),t>ot&&(ot=t)):t>st?Lt(nt,t)>Lt(nt,ot)&&(ot=t):Lt(t,ot)>Lt(nt,ot)&&(nt=t)}else lt.push(pt=[nt=t,ot=t]);e<rt&&(rt=e),e>it&&(it=e),ct=n,st=t}function Tt(){jt.point=It}function At(){pt[0]=nt,pt[1]=ot,jt.point=Nt,ct=null}function Dt(t,e){if(ct){var n=t-st;Mt.add(d(n)>180?n+(n>0?360:-360):n)}else at=t,ut=e;U.point(t,e),It(t,e)}function Rt(){U.lineStart()}function kt(){Dt(at,ut),U.lineEnd(),d(Mt)>a&&(nt=-(ot=180)),pt[0]=nt,pt[1]=ot,ct=null}function Lt(t,e){return(e-=t)<0?e+360:e}function Gt(t,e){return t[0]-e[0]}function Ft(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function Vt(t){var e,n,r,o,i,s,a;if(it=ot=-(nt=rt=1/0),lt=[],R(t,jt),n=lt.length){for(lt.sort(Gt),e=1,i=[r=lt[0]];e<n;++e)Ft(r,(o=lt[e])[0])||Ft(r,o[1])?(Lt(r[0],o[1])>Lt(r[0],r[1])&&(r[1]=o[1]),Lt(o[0],r[1])>Lt(r[0],r[1])&&(r[0]=o[0])):i.push(r=o);for(s=-1/0,e=0,r=i[n=i.length-1];e<=n;r=o,++e)o=i[e],(a=Lt(r[1],o[0]))>s&&(s=a,nt=o[0],ot=r[1])}return lt=pt=null,nt===1/0||rt===1/0?[[NaN,NaN],[NaN,NaN]]:[[nt,rt],[ot,it]]}var Bt,zt,Ut={sphere:j,point:qt,lineStart:Jt,lineEnd:Ht,polygonStart:function(){Ut.lineStart=Zt,Ut.lineEnd=Qt},polygonEnd:function(){Ut.lineStart=Jt,Ut.lineEnd=Ht}};function qt(t,e){t*=h;var n=v(e*=h);Wt(n*v(t),n*w(t),w(e))}function Wt(t,e,n){++ft,dt+=(t-dt)/ft,yt+=(e-yt)/ft,gt+=(n-gt)/ft}function Jt(){Ut.point=Xt}function Xt(t,e){t*=h;var n=v(e*=h);Ot=n*v(t),Ct=n*w(t),St=w(e),Ut.point=Yt,Wt(Ot,Ct,St)}function Yt(t,e){t*=h;var n=v(e*=h),r=n*v(t),o=n*w(t),i=w(e),s=g(x((s=Ct*i-St*o)*s+(s=St*r-Ot*i)*s+(s=Ot*o-Ct*r)*s),Ot*r+Ct*o+St*i);ht+=s,vt+=s*(Ot+(Ot=r)),bt+=s*(Ct+(Ct=o)),mt+=s*(St+(St=i)),Wt(Ot,Ct,St)}function Ht(){Ut.point=qt}function Zt(){Ut.point=$t}function Qt(){Kt(Et,xt),Ut.point=qt}function $t(t,e){Et=t,xt=e,t*=h,e*=h,Ut.point=Kt;var n=v(e);Ot=n*v(t),Ct=n*w(t),St=w(e),Wt(Ot,Ct,St)}function Kt(t,e){t*=h;var n=v(e*=h),r=n*v(t),o=n*w(t),i=w(e),s=Ct*i-St*o,a=St*r-Ot*i,u=Ot*o-Ct*r,c=x(s*s+a*a+u*u),l=S(c),p=c&&-l/c;_t+=p*s,Pt+=p*a,wt+=p*u,ht+=l,vt+=l*(Ot+(Ot=r)),bt+=l*(Ct+(Ct=o)),mt+=l*(St+(St=i)),Wt(Ot,Ct,St)}function te(t){ft=ht=dt=yt=gt=vt=bt=mt=_t=Pt=wt=0,R(t,Ut);var e=_t,n=Pt,r=wt,o=e*e+n*n+r*r;return o<1e-12&&(e=vt,n=bt,r=mt,ht<a&&(e=dt,n=yt,r=gt),(o=e*e+n*n+r*r)<1e-12)?[NaN,NaN]:[g(n,e)*f,S(r/x(o))*f]}function ee(t){return function(){return t}}function ne(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function re(t,e){return[t>u?t-p:t<-u?t+p:t,e]}function oe(t,e,n){return(t%=p)?e||n?ne(se(t),ae(e,n)):se(t):e||n?ae(e,n):re}function ie(t){return function(e,n){return[(e+=t)>u?e-p:e<-u?e+p:e,n]}}function se(t){var e=ie(t);return e.invert=ie(-t),e}function ae(t,e){var n=v(t),r=w(t),o=v(e),i=w(e);function s(t,e){var s=v(e),a=v(t)*s,u=w(t)*s,c=w(e),l=c*n+a*r;return[g(u*o-l*i,a*n-c*r),S(l*o+u*i)]}return s.invert=function(t,e){var s=v(e),a=v(t)*s,u=w(t)*s,c=w(e),l=c*o-u*i;return[g(u*o+c*i,a*n+l*r),S(l*n-a*r)]},s}function ue(t){function e(e){return(e=t(e[0]*h,e[1]*h))[0]*=f,e[1]*=f,e}return t=oe(t[0]*h,t[1]*h,t.length>2?t[2]*h:0),e.invert=function(e){return(e=t.invert(e[0]*h,e[1]*h))[0]*=f,e[1]*=f,e},e}function ce(t,e,n,r,o,i){if(n){var s=v(e),a=w(e),u=r*n;null==o?(o=e+r*p,i=e-u/2):(o=le(s,o),i=le(s,i),(r>0?o<i:o>i)&&(o+=r*p));for(var c,l=o;r>0?l>i:l<i;l-=u)c=H([s,-a*v(l),-a*w(l)]),t.point(c[0],c[1])}}function le(t,e){(e=Z(e))[0]-=t,et(e);var n=C(-e[1]);return((-e[2]<0?-n:n)+p-a)%p}function pe(){var t,e,n=ee([0,0]),r=ee(90),o=ee(6),i={point:function(n,r){t.push(n=e(n,r)),n[0]*=f,n[1]*=f}};function s(){var s=n.apply(this,arguments),a=r.apply(this,arguments)*h,u=o.apply(this,arguments)*h;return t=[],e=oe(-s[0]*h,-s[1]*h,0).invert,ce(i,a,u,1),s={type:"Polygon",coordinates:[t]},t=e=null,s}return s.center=function(t){return arguments.length?(n="function"==typeof t?t:ee([+t[0],+t[1]]),s):n},s.radius=function(t){return arguments.length?(r="function"==typeof t?t:ee(+t),s):r},s.precision=function(t){return arguments.length?(o="function"==typeof t?t:ee(+t),s):o},s}function fe(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:j,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function he(t,e){return d(t[0]-e[0])<a&&d(t[1]-e[1])<a}function de(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function ye(t,e,n,r,o){var i,s,a=[],u=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],s=t[e];if(he(r,s)){for(o.lineStart(),i=0;i<e;++i)o.point((r=t[i])[0],r[1]);o.lineEnd()}else a.push(n=new de(r,t,null,!0)),u.push(n.o=new de(r,null,n,!1)),a.push(n=new de(s,t,null,!1)),u.push(n.o=new de(s,null,n,!0))}})),a.length){for(u.sort(e),ge(a),ge(u),i=0,s=u.length;i<s;++i)u[i].e=n=!n;for(var c,l,p=a[0];;){for(var f=p,h=!0;f.v;)if((f=f.n)===p)return;c=f.z,o.lineStart();do{if(f.v=f.o.v=!0,f.e){if(h)for(i=0,s=c.length;i<s;++i)o.point((l=c[i])[0],l[1]);else r(f.x,f.n.x,1,o);f=f.n}else{if(h)for(c=f.p.z,i=c.length-1;i>=0;--i)o.point((l=c[i])[0],l[1]);else r(f.x,f.p.x,-1,o);f=f.p}c=(f=f.o).z,h=!h}while(!f.v);o.lineEnd()}}}function ge(t){if(e=t.length){for(var e,n,r=0,o=t[0];++r<e;)o.n=n=t[r],n.p=o,o=n;o.n=n=t[0],n.p=o}}function ve(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}re.invert=re,1===(Bt=ve).length&&(zt=Bt,Bt=function(t,e){return ve(zt(t),e)});var be=Array.prototype;function me(t){for(var e,n,r,o=t.length,i=-1,s=0;++i<o;)s+=t[i].length;for(n=new Array(s);--o>=0;)for(e=(r=t[o]).length;--e>=0;)n[--s]=r[e];return n}function _e(t,e,n){t=+t,e=+e,n=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((e-t)/n)),i=new Array(o);++r<o;)i[r]=t+r*n;return i}be.slice,be.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var Pe=1e9,we=-Pe;function Ee(t,e,n,r){function o(o,i){return t<=o&&o<=n&&e<=i&&i<=r}function i(o,i,a,u){var l=0,p=0;if(null==o||(l=s(o,a))!==(p=s(i,a))||c(o,i)<0^a>0)do{u.point(0===l||3===l?t:n,l>1?r:e)}while((l=(l+a+4)%4)!==p);else u.point(i[0],i[1])}function s(r,o){return d(r[0]-t)<a?o>0?0:3:d(r[0]-n)<a?o>0?2:1:d(r[1]-e)<a?o>0?1:0:o>0?3:2}function u(t,e){return c(t.x,e.x)}function c(t,e){var n=s(t,1),r=s(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){var a,c,l,p,f,h,d,y,g,v,b,m=s,_=fe(),P={point:w,lineStart:function(){P.point=E,c&&c.push(l=[]),v=!0,g=!1,d=y=NaN},lineEnd:function(){a&&(E(p,f),h&&g&&_.rejoin(),a.push(_.result())),P.point=w,g&&m.lineEnd()},polygonStart:function(){m=_,a=[],c=[],b=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,o=c.length;n<o;++n)for(var i,s,a=c[n],u=1,l=a.length,p=a[0],f=p[0],h=p[1];u<l;++u)i=f,s=h,f=(p=a[u])[0],h=p[1],s<=r?h>r&&(f-i)*(r-s)>(h-s)*(t-i)&&++e:h<=r&&(f-i)*(r-s)<(h-s)*(t-i)&&--e;return e}(),n=b&&e,o=(a=me(a)).length;(n||o)&&(s.polygonStart(),n&&(s.lineStart(),i(null,null,1,s),s.lineEnd()),o&&ye(a,u,e,i,s),s.polygonEnd()),m=s,a=c=l=null}};function w(t,e){o(t,e)&&m.point(t,e)}function E(i,s){var a=o(i,s);if(c&&l.push([i,s]),v)p=i,f=s,h=a,v=!1,a&&(m.lineStart(),m.point(i,s));else if(a&&g)m.point(i,s);else{var u=[d=Math.max(we,Math.min(Pe,d)),y=Math.max(we,Math.min(Pe,y))],_=[i=Math.max(we,Math.min(Pe,i)),s=Math.max(we,Math.min(Pe,s))];!function(t,e,n,r,o,i){var s,a=t[0],u=t[1],c=0,l=1,p=e[0]-a,f=e[1]-u;if(s=n-a,p||!(s>0)){if(s/=p,p<0){if(s<c)return;s<l&&(l=s)}else if(p>0){if(s>l)return;s>c&&(c=s)}if(s=o-a,p||!(s<0)){if(s/=p,p<0){if(s>l)return;s>c&&(c=s)}else if(p>0){if(s<c)return;s<l&&(l=s)}if(s=r-u,f||!(s>0)){if(s/=f,f<0){if(s<c)return;s<l&&(l=s)}else if(f>0){if(s>l)return;s>c&&(c=s)}if(s=i-u,f||!(s<0)){if(s/=f,f<0){if(s>l)return;s>c&&(c=s)}else if(f>0){if(s<c)return;s<l&&(l=s)}return c>0&&(t[0]=a+c*p,t[1]=u+c*f),l<1&&(e[0]=a+l*p,e[1]=u+l*f),!0}}}}}(u,_,t,e,n,r)?a&&(m.lineStart(),m.point(i,s),b=!1):(g||(m.lineStart(),m.point(u[0],u[1])),m.point(_[0],_[1]),a||m.lineEnd(),b=!1)}d=i,y=s,g=a}return P}}function xe(){var t,e,n,r=0,o=0,i=960,s=500;return n={stream:function(n){return t&&e===n?t:t=Ee(r,o,i,s)(e=n)},extent:function(a){return arguments.length?(r=+a[0][0],o=+a[0][1],i=+a[1][0],s=+a[1][1],t=e=null,n):[[r,o],[i,s]]}}}var Oe=r();function Ce(t,e){var n=e[0],r=e[1],o=[w(n),-v(n),0],i=0,s=0;Oe.reset();for(var c=0,f=t.length;c<f;++c)if(d=(h=t[c]).length)for(var h,d,y=h[d-1],b=y[0],m=y[1]/2+l,_=w(m),P=v(m),E=0;E<d;++E,b=O,_=M,P=j,y=x){var x=h[E],O=x[0],C=x[1]/2+l,M=w(C),j=v(C),N=O-b,I=N>=0?1:-1,T=I*N,A=T>u,D=_*M;if(Oe.add(g(D*I*w(T),P*j+D*v(T))),i+=A?N+I*p:N,A^b>=n^O>=n){var R=$(Z(y),Z(x));et(R);var k=$(o,R);et(k);var L=(A^N>=0?-1:1)*S(k[2]);(r>L||r===L&&(R[0]||R[1]))&&(s+=A^N>=0?1:-1)}}return(i<-a||i<a&&Oe<-a)^1&s}var Se,Me,je,Ne=r(),Ie={sphere:j,point:j,lineStart:function(){Ie.point=Ae,Ie.lineEnd=Te},lineEnd:j,polygonStart:j,polygonEnd:j};function Te(){Ie.point=Ie.lineEnd=j}function Ae(t,e){Se=t*=h,Me=w(e*=h),je=v(e),Ie.point=De}function De(t,e){t*=h;var n=w(e*=h),r=v(e),o=d(t-Se),i=v(o),s=r*w(o),a=je*n-Me*r*i,u=Me*n+je*r*i;Ne.add(g(x(s*s+a*a),u)),Se=t,Me=n,je=r}function Re(t){return Ne.reset(),R(t,Ie),+Ne}var ke=[null,null],Le={type:"LineString",coordinates:ke};function Ge(t,e){return ke[0]=t,ke[1]=e,Re(Le)}var Fe={Feature:function(t,e){return Be(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,o=n.length;++r<o;)if(Be(n[r].geometry,e))return!0;return!1}},Ve={Sphere:function(){return!0},Point:function(t,e){return ze(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)if(ze(n[r],e))return!0;return!1},LineString:function(t,e){return Ue(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)if(Ue(n[r],e))return!0;return!1},Polygon:function(t,e){return qe(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)if(qe(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,o=n.length;++r<o;)if(Be(n[r],e))return!0;return!1}};function Be(t,e){return!(!t||!Ve.hasOwnProperty(t.type))&&Ve[t.type](t,e)}function ze(t,e){return 0===Ge(t,e)}function Ue(t,e){var n=Ge(t[0],t[1]);return Ge(t[0],e)+Ge(e,t[1])<=n+a}function qe(t,e){return!!Ce(t.map(We),Je(e))}function We(t){return(t=t.map(Je)).pop(),t}function Je(t){return[t[0]*h,t[1]*h]}function Xe(t,e){return(t&&Fe.hasOwnProperty(t.type)?Fe[t.type]:Be)(t,e)}function Ye(t,e,n){var r=_e(t,e-a,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function He(t,e,n){var r=_e(t,e-a,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function Ze(){var t,e,n,r,o,i,s,u,c,l,p,f,h=10,y=h,g=90,v=360,m=2.5;function _(){return{type:"MultiLineString",coordinates:P()}}function P(){return _e(b(r/g)*g,n,g).map(p).concat(_e(b(u/v)*v,s,v).map(f)).concat(_e(b(e/h)*h,t,h).filter((function(t){return d(t%g)>a})).map(c)).concat(_e(b(i/y)*y,o,y).filter((function(t){return d(t%v)>a})).map(l))}return _.lines=function(){return P().map((function(t){return{type:"LineString",coordinates:t}}))},_.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(f(s).slice(1),p(n).reverse().slice(1),f(u).reverse().slice(1))]}},_.extent=function(t){return arguments.length?_.extentMajor(t).extentMinor(t):_.extentMinor()},_.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],u=+t[0][1],s=+t[1][1],r>n&&(t=r,r=n,n=t),u>s&&(t=u,u=s,s=t),_.precision(m)):[[r,u],[n,s]]},_.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],i=+n[0][1],o=+n[1][1],e>t&&(n=e,e=t,t=n),i>o&&(n=i,i=o,o=n),_.precision(m)):[[e,i],[t,o]]},_.step=function(t){return arguments.length?_.stepMajor(t).stepMinor(t):_.stepMinor()},_.stepMajor=function(t){return arguments.length?(g=+t[0],v=+t[1],_):[g,v]},_.stepMinor=function(t){return arguments.length?(h=+t[0],y=+t[1],_):[h,y]},_.precision=function(a){return arguments.length?(m=+a,c=Ye(i,o,90),l=He(e,t,m),p=Ye(u,s,90),f=He(r,n,m),_):m},_.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Qe(){return Ze()()}function $e(t,e){var n=t[0]*h,r=t[1]*h,o=e[0]*h,i=e[1]*h,s=v(r),a=w(r),u=v(i),c=w(i),l=s*v(n),p=s*w(n),d=u*v(o),y=u*w(o),b=2*S(x(M(i-r)+s*u*M(o-n))),m=w(b),_=b?function(t){var e=w(t*=b)/m,n=w(b-t)/m,r=n*l+e*d,o=n*p+e*y,i=n*a+e*c;return[g(o,r)*f,g(i,x(r*r+o*o))*f]}:function(){return[n*f,r*f]};return _.distance=b,_}function Ke(t){return t}var tn,en,nn,rn,on=r(),sn=r(),an={point:j,lineStart:j,lineEnd:j,polygonStart:function(){an.lineStart=un,an.lineEnd=pn},polygonEnd:function(){an.lineStart=an.lineEnd=an.point=j,on.add(d(sn)),sn.reset()},result:function(){var t=on/2;return on.reset(),t}};function un(){an.point=cn}function cn(t,e){an.point=ln,tn=nn=t,en=rn=e}function ln(t,e){sn.add(rn*t-nn*e),nn=t,rn=e}function pn(){ln(tn,en)}const fn=an;var hn=1/0,dn=hn,yn=-hn,gn=yn,vn={point:function(t,e){t<hn&&(hn=t),t>yn&&(yn=t),e<dn&&(dn=e),e>gn&&(gn=e)},lineStart:j,lineEnd:j,polygonStart:j,polygonEnd:j,result:function(){var t=[[hn,dn],[yn,gn]];return yn=gn=-(dn=hn=1/0),t}};const bn=vn;var mn,_n,Pn,wn,En=0,xn=0,On=0,Cn=0,Sn=0,Mn=0,jn=0,Nn=0,In=0,Tn={point:An,lineStart:Dn,lineEnd:Ln,polygonStart:function(){Tn.lineStart=Gn,Tn.lineEnd=Fn},polygonEnd:function(){Tn.point=An,Tn.lineStart=Dn,Tn.lineEnd=Ln},result:function(){var t=In?[jn/In,Nn/In]:Mn?[Cn/Mn,Sn/Mn]:On?[En/On,xn/On]:[NaN,NaN];return En=xn=On=Cn=Sn=Mn=jn=Nn=In=0,t}};function An(t,e){En+=t,xn+=e,++On}function Dn(){Tn.point=Rn}function Rn(t,e){Tn.point=kn,An(Pn=t,wn=e)}function kn(t,e){var n=t-Pn,r=e-wn,o=x(n*n+r*r);Cn+=o*(Pn+t)/2,Sn+=o*(wn+e)/2,Mn+=o,An(Pn=t,wn=e)}function Ln(){Tn.point=An}function Gn(){Tn.point=Vn}function Fn(){Bn(mn,_n)}function Vn(t,e){Tn.point=Bn,An(mn=Pn=t,_n=wn=e)}function Bn(t,e){var n=t-Pn,r=e-wn,o=x(n*n+r*r);Cn+=o*(Pn+t)/2,Sn+=o*(wn+e)/2,Mn+=o,jn+=(o=wn*t-Pn*e)*(Pn+t),Nn+=o*(wn+e),In+=3*o,An(Pn=t,wn=e)}const zn=Tn;function Un(t){this._context=t}Un.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,p)}},result:j};var qn,Wn,Jn,Xn,Yn,Hn=r(),Zn={point:j,lineStart:function(){Zn.point=Qn},lineEnd:function(){qn&&$n(Wn,Jn),Zn.point=j},polygonStart:function(){qn=!0},polygonEnd:function(){qn=null},result:function(){var t=+Hn;return Hn.reset(),t}};function Qn(t,e){Zn.point=$n,Wn=Xn=t,Jn=Yn=e}function $n(t,e){Xn-=t,Yn-=e,Hn.add(x(Xn*Xn+Yn*Yn)),Xn=t,Yn=e}const Kn=Zn;function tr(){this._string=[]}function er(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function nr(t,e){var n,r,o=4.5;function i(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),R(t,n(r))),r.result()}return i.area=function(t){return R(t,n(fn)),fn.result()},i.measure=function(t){return R(t,n(Kn)),Kn.result()},i.bounds=function(t){return R(t,n(bn)),bn.result()},i.centroid=function(t){return R(t,n(zn)),zn.result()},i.projection=function(e){return arguments.length?(n=null==e?(t=null,Ke):(t=e).stream,i):t},i.context=function(t){return arguments.length?(r=null==t?(e=null,new tr):new Un(e=t),"function"!=typeof o&&r.pointRadius(o),i):e},i.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),i):o},i.projection(t).context(e)}function rr(t,e,n,r){return function(o,i){var s,a,u,c=e(i),l=o.invert(r[0],r[1]),p=fe(),f=e(p),h=!1,d={point:y,lineStart:v,lineEnd:b,polygonStart:function(){d.point=m,d.lineStart=_,d.lineEnd=P,a=[],s=[]},polygonEnd:function(){d.point=y,d.lineStart=v,d.lineEnd=b,a=me(a);var t=Ce(s,l);a.length?(h||(i.polygonStart(),h=!0),ye(a,ir,t,n,i)):t&&(h||(i.polygonStart(),h=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),h&&(i.polygonEnd(),h=!1),a=s=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function y(e,n){var r=o(e,n);t(e=r[0],n=r[1])&&i.point(e,n)}function g(t,e){var n=o(t,e);c.point(n[0],n[1])}function v(){d.point=g,c.lineStart()}function b(){d.point=y,c.lineEnd()}function m(t,e){u.push([t,e]);var n=o(t,e);f.point(n[0],n[1])}function _(){f.lineStart(),u=[]}function P(){m(u[0][0],u[0][1]),f.lineEnd();var t,e,n,r,o=f.clean(),c=p.result(),l=c.length;if(u.pop(),s.push(u),u=null,l)if(1&o){if((e=(n=c[0]).length-1)>0){for(h||(i.polygonStart(),h=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else l>1&&2&o&&c.push(c.pop().concat(c.shift())),a.push(c.filter(or))}return d}}function or(t){return t.length>1}function ir(t,e){return((t=t.x)[0]<0?t[1]-c-a:c-t[1])-((e=e.x)[0]<0?e[1]-c-a:c-e[1])}tr.prototype={_radius:4.5,_circle:er(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=er(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};const sr=rr((function(){return!0}),(function(t){var e,n=NaN,r=NaN,o=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(i,s){var l=i>0?u:-u,p=d(i-n);d(p-u)<a?(t.point(n,r=(r+s)/2>0?c:-c),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(l,r),t.point(i,r),e=0):o!==l&&p>=u&&(d(n-o)<a&&(n-=o*a),d(i-l)<a&&(i-=l*a),r=function(t,e,n,r){var o,i,s=w(t-n);return d(s)>a?y((w(e)*(i=v(r))*w(n)-w(r)*(o=v(e))*w(t))/(o*i*s)):(e+r)/2}(n,r,i,s),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(l,r),e=0),t.point(n=i,r=s),o=l},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var o;if(null==t)o=n*c,r.point(-u,o),r.point(0,o),r.point(u,o),r.point(u,0),r.point(u,-o),r.point(0,-o),r.point(-u,-o),r.point(-u,0),r.point(-u,o);else if(d(t[0]-e[0])>a){var i=t[0]<e[0]?u:-u;o=n*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(e[0],e[1])}),[-u,-c]);function ar(t,e){var n=v(t),r=n>0,o=d(n)>a;function i(t,e){return v(t)*v(e)>n}function s(t,e,r){var o=[1,0,0],i=$(Z(t),Z(e)),s=Q(i,i),c=i[0],l=s-c*c;if(!l)return!r&&t;var p=n*s/l,f=-n*c/l,h=$(o,i),y=tt(o,p);K(y,tt(i,f));var g=h,v=Q(y,g),b=Q(g,g),m=v*v-b*(Q(y,y)-1);if(!(m<0)){var _=x(m),P=tt(g,(-v-_)/b);if(K(P,y),P=H(P),!r)return P;var w,E=t[0],O=e[0],C=t[1],S=e[1];O<E&&(w=E,E=O,O=w);var M=O-E,j=d(M-u)<a;if(!j&&S<C&&(w=C,C=S,S=w),j||M<a?j?C+S>0^P[1]<(d(P[0]-E)<a?C:S):C<=P[1]&&P[1]<=S:M>u^(E<=P[0]&&P[0]<=O)){var N=tt(g,(-v+_)/b);return K(N,y),[P,H(N)]}}}function c(e,n){var o=r?t:u-t,i=0;return e<-o?i|=1:e>o&&(i|=2),n<-o?i|=4:n>o&&(i|=8),i}return rr(i,(function(t){var e,n,l,p,f;return{lineStart:function(){p=l=!1,f=1},point:function(h,d){var y,g=[h,d],v=i(h,d),b=r?v?0:c(h,d):v?c(h+(h<0?u:-u),d):0;if(!e&&(p=l=v)&&t.lineStart(),v!==l&&(!(y=s(e,g))||he(e,y)||he(g,y))&&(g[0]+=a,g[1]+=a,v=i(g[0],g[1])),v!==l)f=0,v?(t.lineStart(),y=s(g,e),t.point(y[0],y[1])):(y=s(e,g),t.point(y[0],y[1]),t.lineEnd()),e=y;else if(o&&e&&r^v){var m;b&n||!(m=s(g,e,!0))||(f=0,r?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!v||e&&he(e,g)||t.point(g[0],g[1]),e=g,l=v,n=b},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return f|(p&&l)<<1}}}),(function(n,r,o,i){ce(i,t,e,o,n,r)}),r?[0,-t]:[-u,t-u])}function ur(t){return{stream:cr(t)}}function cr(t){return function(e){var n=new lr;for(var r in t)n[r]=t[r];return n.stream=e,n}}function lr(){}function pr(t,e,n){var r=e[1][0]-e[0][0],o=e[1][1]-e[0][1],i=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=i&&t.clipExtent(null),R(n,t.stream(bn));var s=bn.result(),a=Math.min(r/(s[1][0]-s[0][0]),o/(s[1][1]-s[0][1])),u=+e[0][0]+(r-a*(s[1][0]+s[0][0]))/2,c=+e[0][1]+(o-a*(s[1][1]+s[0][1]))/2;return null!=i&&t.clipExtent(i),t.scale(150*a).translate([u,c])}function fr(t,e,n){return pr(t,[[0,0],e],n)}lr.prototype={constructor:lr,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var hr=v(30*h);function dr(t,e){return+e?function(t,e){function n(r,o,i,s,u,c,l,p,f,h,y,v,b,m){var _=l-r,P=p-o,w=_*_+P*P;if(w>4*e&&b--){var E=s+h,O=u+y,C=c+v,M=x(E*E+O*O+C*C),j=S(C/=M),N=d(d(C)-1)<a||d(i-f)<a?(i+f)/2:g(O,E),I=t(N,j),T=I[0],A=I[1],D=T-r,R=A-o,k=P*D-_*R;(k*k/w>e||d((_*D+P*R)/w-.5)>.3||s*h+u*y+c*v<hr)&&(n(r,o,i,s,u,c,T,A,N,E/=M,O/=M,C,b,m),m.point(T,A),n(T,A,N,E,O,C,l,p,f,h,y,v,b,m))}}return function(e){var r,o,i,s,a,u,c,l,p,f,h,d,y={point:g,lineStart:v,lineEnd:m,polygonStart:function(){e.polygonStart(),y.lineStart=_},polygonEnd:function(){e.polygonEnd(),y.lineStart=v}};function g(n,r){n=t(n,r),e.point(n[0],n[1])}function v(){l=NaN,y.point=b,e.lineStart()}function b(r,o){var i=Z([r,o]),s=t(r,o);n(l,p,c,f,h,d,l=s[0],p=s[1],c=r,f=i[0],h=i[1],d=i[2],16,e),e.point(l,p)}function m(){y.point=g,e.lineEnd()}function _(){v(),y.point=P,y.lineEnd=w}function P(t,e){b(r=t,e),o=l,i=p,s=f,a=h,u=d,y.point=b}function w(){n(l,p,c,f,h,d,o,i,r,s,a,u,16,e),y.lineEnd=m,m()}return y}}(t,e):function(t){return cr({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var yr=cr({point:function(t,e){this.stream.point(t*h,e*h)}});function gr(t){return vr((function(){return t}))()}function vr(t){var e,n,r,o,i,s,a,u,c,l,p=150,d=480,y=250,g=0,v=0,b=0,m=0,_=0,P=null,w=sr,E=null,O=Ke,C=.5,S=dr(N,C);function M(t){return[(t=i(t[0]*h,t[1]*h))[0]*p+n,r-t[1]*p]}function j(t){return(t=i.invert((t[0]-n)/p,(r-t[1])/p))&&[t[0]*f,t[1]*f]}function N(t,o){return[(t=e(t,o))[0]*p+n,r-t[1]*p]}function I(){i=ne(o=oe(b,m,_),e);var t=e(g,v);return n=d-t[0]*p,r=y+t[1]*p,T()}function T(){return c=l=null,M}return M.stream=function(t){return c&&l===t?c:c=yr(w(o,S(O(l=t))))},M.clipAngle=function(t){return arguments.length?(w=+t?ar(P=t*h,6*h):(P=null,sr),T()):P*f},M.clipExtent=function(t){return arguments.length?(O=null==t?(E=s=a=u=null,Ke):Ee(E=+t[0][0],s=+t[0][1],a=+t[1][0],u=+t[1][1]),T()):null==E?null:[[E,s],[a,u]]},M.scale=function(t){return arguments.length?(p=+t,I()):p},M.translate=function(t){return arguments.length?(d=+t[0],y=+t[1],I()):[d,y]},M.center=function(t){return arguments.length?(g=t[0]%360*h,v=t[1]%360*h,I()):[g*f,v*f]},M.rotate=function(t){return arguments.length?(b=t[0]%360*h,m=t[1]%360*h,_=t.length>2?t[2]%360*h:0,I()):[b*f,m*f,_*f]},M.precision=function(t){return arguments.length?(S=dr(N,C=t*t),T()):x(C)},M.fitExtent=function(t,e){return pr(M,t,e)},M.fitSize=function(t,e){return fr(M,t,e)},function(){return e=t.apply(this,arguments),M.invert=e.invert&&j,I()}}function br(t){var e=0,n=u/3,r=vr(t),o=r(e,n);return o.parallels=function(t){return arguments.length?r(e=t[0]*h,n=t[1]*h):[e*f,n*f]},o}function mr(t,e){var n=w(t),r=(n+w(e))/2;if(d(r)<a)return function(t){var e=v(t);function n(t,n){return[t*e,w(n)/e]}return n.invert=function(t,n){return[t/e,S(n*e)]},n}(t);var o=1+n*(2*r-n),i=x(o)/r;function s(t,e){var n=x(o-2*r*w(e))/r;return[n*w(t*=r),i-n*v(t)]}return s.invert=function(t,e){var n=i-e;return[g(t,d(n))/r*E(n),S((o-(t*t+n*n)*r*r)/(2*r))]},s}function _r(){return br(mr).scale(155.424).center([0,33.6442])}function Pr(){return _r().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function wr(){var t,e,n,r,o,i,s=Pr(),u=_r().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=_r().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,e){i=[t,e]}};function p(t){var e=t[0],s=t[1];return i=null,n.point(e,s),i||(r.point(e,s),i)||(o.point(e,s),i)}function f(){return t=e=null,p}return p.invert=function(t){var e=s.scale(),n=s.translate(),r=(t[0]-n[0])/e,o=(t[1]-n[1])/e;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?u:o>=.166&&o<.234&&r>=-.214&&r<-.115?c:s).invert(t)},p.stream=function(n){return t&&e===n?t:(r=[s.stream(e=n),u.stream(n),c.stream(n)],o=r.length,t={point:function(t,e){for(var n=-1;++n<o;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<o;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<o;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<o;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<o;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<o;)r[t].polygonEnd()}});var r,o},p.precision=function(t){return arguments.length?(s.precision(t),u.precision(t),c.precision(t),f()):s.precision()},p.scale=function(t){return arguments.length?(s.scale(t),u.scale(.35*t),c.scale(t),p.translate(s.translate())):s.scale()},p.translate=function(t){if(!arguments.length)return s.translate();var e=s.scale(),i=+t[0],p=+t[1];return n=s.translate(t).clipExtent([[i-.455*e,p-.238*e],[i+.455*e,p+.238*e]]).stream(l),r=u.translate([i-.307*e,p+.201*e]).clipExtent([[i-.425*e+a,p+.12*e+a],[i-.214*e-a,p+.234*e-a]]).stream(l),o=c.translate([i-.205*e,p+.212*e]).clipExtent([[i-.214*e+a,p+.166*e+a],[i-.115*e-a,p+.234*e-a]]).stream(l),f()},p.fitExtent=function(t,e){return pr(p,t,e)},p.fitSize=function(t,e){return fr(p,t,e)},p.scale(1070)}function Er(t){return function(e,n){var r=v(e),o=v(n),i=t(r*o);return[i*o*w(e),i*w(n)]}}function xr(t){return function(e,n){var r=x(e*e+n*n),o=t(r),i=w(o),s=v(o);return[g(e*i,r*s),S(r&&n*i/r)]}}var Or=Er((function(t){return x(2/(1+t))}));function Cr(){return gr(Or).scale(124.75).clipAngle(179.999)}Or.invert=xr((function(t){return 2*S(t/2)}));var Sr=Er((function(t){return(t=C(t))&&t/w(t)}));function Mr(){return gr(Sr).scale(79.4188).clipAngle(179.999)}function jr(t,e){return[t,_(O((c+e)/2))]}function Nr(){return Ir(jr).scale(961/p)}function Ir(t){var e,n,r,o=gr(t),i=o.center,s=o.scale,a=o.translate,c=o.clipExtent,l=null;function p(){var i=u*s(),a=o(ue(o.rotate()).invert([0,0]));return c(null==l?[[a[0]-i,a[1]-i],[a[0]+i,a[1]+i]]:t===jr?[[Math.max(a[0]-i,l),e],[Math.min(a[0]+i,n),r]]:[[l,Math.max(a[1]-i,e)],[n,Math.min(a[1]+i,r)]])}return o.scale=function(t){return arguments.length?(s(t),p()):s()},o.translate=function(t){return arguments.length?(a(t),p()):a()},o.center=function(t){return arguments.length?(i(t),p()):i()},o.clipExtent=function(t){return arguments.length?(null==t?l=e=n=r=null:(l=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),p()):null==l?null:[[l,e],[n,r]]},p()}function Tr(t){return O((c+t)/2)}function Ar(t,e){var n=v(t),r=t===e?w(t):_(n/v(e))/_(Tr(e)/Tr(t)),o=n*P(Tr(t),r)/r;if(!r)return jr;function i(t,e){o>0?e<-c+a&&(e=-c+a):e>c-a&&(e=c-a);var n=o/P(Tr(e),r);return[n*w(r*t),o-n*v(r*t)]}return i.invert=function(t,e){var n=o-e,i=E(r)*x(t*t+n*n);return[g(t,d(n))/r*E(n),2*y(P(o/i,1/r))-c]},i}function Dr(){return br(Ar).scale(109.5).parallels([30,30])}function Rr(t,e){return[t,e]}function kr(){return gr(Rr).scale(152.63)}function Lr(t,e){var n=v(t),r=t===e?w(t):(n-v(e))/(e-t),o=n/r+t;if(d(r)<a)return Rr;function i(t,e){var n=o-e,i=r*t;return[n*w(i),o-n*v(i)]}return i.invert=function(t,e){var n=o-e;return[g(t,d(n))/r*E(n),o-E(r)*x(t*t+n*n)]},i}function Gr(){return br(Lr).scale(131.154).center([0,13.9389])}function Fr(t,e){var n=v(e),r=v(t)*n;return[n*w(t)/r,w(e)/r]}function Vr(){return gr(Fr).scale(144.049).clipAngle(60)}function Br(t,e,n,r){return 1===t&&1===e&&0===n&&0===r?Ke:cr({point:function(o,i){this.stream.point(o*t+n,i*e+r)}})}function zr(){var t,e,n,r,o,i,s=1,a=0,u=0,c=1,l=1,p=Ke,f=null,h=Ke;function d(){return r=o=null,i}return i={stream:function(t){return r&&o===t?r:r=p(h(o=t))},clipExtent:function(r){return arguments.length?(h=null==r?(f=t=e=n=null,Ke):Ee(f=+r[0][0],t=+r[0][1],e=+r[1][0],n=+r[1][1]),d()):null==f?null:[[f,t],[e,n]]},scale:function(t){return arguments.length?(p=Br((s=+t)*c,s*l,a,u),d()):s},translate:function(t){return arguments.length?(p=Br(s*c,s*l,a=+t[0],u=+t[1]),d()):[a,u]},reflectX:function(t){return arguments.length?(p=Br(s*(c=t?-1:1),s*l,a,u),d()):c<0},reflectY:function(t){return arguments.length?(p=Br(s*c,s*(l=t?-1:1),a,u),d()):l<0},fitExtent:function(t,e){return pr(i,t,e)},fitSize:function(t,e){return fr(i,t,e)}}}function Ur(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function qr(){return gr(Ur).scale(175.295)}function Wr(t,e){return[v(e)*w(t),w(e)]}function Jr(){return gr(Wr).scale(249.5).clipAngle(90.000001)}function Xr(t,e){var n=v(e),r=1+v(t)*n;return[n*w(t)/r,w(e)/r]}function Yr(){return gr(Xr).scale(250).clipAngle(142)}function Hr(t,e){return[_(O((c+e)/2)),-t]}function Zr(){var t=Ir(Hr),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)}Sr.invert=xr((function(t){return t})),jr.invert=function(t,e){return[t,2*y(m(e))-c]},Rr.invert=Rr,Fr.invert=xr(y),Ur.invert=function(t,e){var n,r=e,o=25;do{var i=r*r,s=i*i;r-=n=(r*(1.007226+i*(.015085+s*(.028874*i-.044475-.005916*s)))-e)/(1.007226+i*(.045255+s*(.259866*i-.311325-.005916*11*s)))}while(d(n)>a&&--o>0);return[t/(.8707+(i=r*r)*(i*(i*i*i*(.003971-.001529*i)-.013791)-.131979)),r]},Wr.invert=xr(S),Xr.invert=xr((function(t){return 2*y(t)})),Hr.invert=function(t,e){return[-e,2*y(m(t))-c]}},71704:(t,e,n)=>{"use strict";function r(t){return function(){return t}}function o(t){return t[0]}function i(t){return t[1]}function s(){this._=null}function a(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function u(t,e){var n=e,r=e.R,o=n.U;o?o.L===n?o.L=r:o.R=r:t._=r,r.U=o,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function c(t,e){var n=e,r=e.L,o=n.U;o?o.L===n?o.L=r:o.R=r:t._=r,r.U=o,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function l(t){for(;t.L;)t=t.L;return t}n.r(e),n.d(e,{voronoi:()=>B}),s.prototype={constructor:s,insert:function(t,e){var n,r,o;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=l(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(o=r.R)&&o.C?(n.C=o.C=!1,r.C=!0,t=r):(t===n.R&&(u(this,n),n=(t=n).U),n.C=!1,r.C=!0,c(this,r)):(o=r.L)&&o.C?(n.C=o.C=!1,r.C=!0,t=r):(t===n.L&&(c(this,n),n=(t=n).U),n.C=!1,r.C=!0,u(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,o=t.U,i=t.L,s=t.R;if(n=i?s?l(s):i:s,o?o.L===t?o.L=n:o.R=n:this._=n,i&&s?(r=n.C,n.C=t.C,n.L=i,i.U=n,n!==s?(o=n.U,n.U=t.U,t=n.R,o.L=t,n.R=s,s.U=n):(n.U=o,o=n,t=n.R)):(r=t.C,t=n),t&&(t.U=o),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===o.L){if((e=o.R).C&&(e.C=!1,o.C=!0,u(this,o),e=o.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,c(this,e),e=o.R),e.C=o.C,o.C=e.R.C=!1,u(this,o),t=this._;break}}else if((e=o.L).C&&(e.C=!1,o.C=!0,c(this,o),e=o.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,u(this,e),e=o.L),e.C=o.C,o.C=e.L.C=!1,c(this,o),t=this._;break}e.C=!0,t=o,o=o.U}while(!t.C);t&&(t.C=!1)}}};const p=s;function f(t,e,n,r){var o=[null,null],i=k.push(o)-1;return o.left=t,o.right=e,n&&d(o,t,e,n),r&&d(o,e,t,r),D[t.index].halfedges.push(i),D[e.index].halfedges.push(i),o}function h(t,e,n){var r=[e,n];return r.left=t,r}function d(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function y(t,e,n,r,o){var i,s=t[0],a=t[1],u=s[0],c=s[1],l=0,p=1,f=a[0]-u,h=a[1]-c;if(i=e-u,f||!(i>0)){if(i/=f,f<0){if(i<l)return;i<p&&(p=i)}else if(f>0){if(i>p)return;i>l&&(l=i)}if(i=r-u,f||!(i<0)){if(i/=f,f<0){if(i>p)return;i>l&&(l=i)}else if(f>0){if(i<l)return;i<p&&(p=i)}if(i=n-c,h||!(i>0)){if(i/=h,h<0){if(i<l)return;i<p&&(p=i)}else if(h>0){if(i>p)return;i>l&&(l=i)}if(i=o-c,h||!(i<0)){if(i/=h,h<0){if(i>p)return;i>l&&(l=i)}else if(h>0){if(i<l)return;i<p&&(p=i)}return!(l>0||p<1)||(l>0&&(t[0]=[u+l*f,c+l*h]),p<1&&(t[1]=[u+p*f,c+p*h]),!0)}}}}}function g(t,e,n,r,o){var i=t[1];if(i)return!0;var s,a,u=t[0],c=t.left,l=t.right,p=c[0],f=c[1],h=l[0],d=l[1],y=(p+h)/2,g=(f+d)/2;if(d===f){if(y<e||y>=r)return;if(p>h){if(u){if(u[1]>=o)return}else u=[y,n];i=[y,o]}else{if(u){if(u[1]<n)return}else u=[y,o];i=[y,n]}}else if(a=g-(s=(p-h)/(d-f))*y,s<-1||s>1)if(p>h){if(u){if(u[1]>=o)return}else u=[(n-a)/s,n];i=[(o-a)/s,o]}else{if(u){if(u[1]<n)return}else u=[(o-a)/s,o];i=[(n-a)/s,n]}else if(f<d){if(u){if(u[0]>=r)return}else u=[e,s*e+a];i=[r,s*r+a]}else{if(u){if(u[0]<e)return}else u=[r,s*r+a];i=[e,s*e+a]}return t[0]=u,t[1]=i,!0}function v(t,e){var n=t.site,r=e.left,o=e.right;return n===o&&(o=r,r=n),o?Math.atan2(o[1]-r[1],o[0]-r[0]):(n===r?(r=e[1],o=e[0]):(r=e[0],o=e[1]),Math.atan2(r[0]-o[0],o[1]-r[1]))}function b(t,e){return e[+(e.left!==t.site)]}function m(t,e){return e[+(e.left===t.site)]}var _,P=[];function w(){a(this),this.x=this.y=this.arc=this.site=this.cy=null}function E(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,o=t.site,i=n.site;if(r!==i){var s=o[0],a=o[1],u=r[0]-s,c=r[1]-a,l=i[0]-s,p=i[1]-a,f=2*(u*p-c*l);if(!(f>=-G)){var h=u*u+c*c,d=l*l+p*p,y=(p*h-c*d)/f,g=(u*d-l*h)/f,v=P.pop()||new w;v.arc=t,v.site=o,v.x=y+s,v.y=(v.cy=g+a)+Math.sqrt(y*y+g*g),t.circle=v;for(var b=null,m=R._;m;)if(v.y<m.y||v.y===m.y&&v.x<=m.x){if(!m.L){b=m.P;break}m=m.L}else{if(!m.R){b=m;break}m=m.R}R.insert(b,v),b||(_=v)}}}}function x(t){var e=t.circle;e&&(e.P||(_=e.N),R.remove(e),P.push(e),a(e),t.circle=null)}var O=[];function C(){a(this),this.edge=this.site=this.circle=null}function S(t){var e=O.pop()||new C;return e.site=t,e}function M(t){x(t),A.remove(t),O.push(t),a(t)}function j(t){var e=t.circle,n=e.x,r=e.cy,o=[n,r],i=t.P,s=t.N,a=[t];M(t);for(var u=i;u.circle&&Math.abs(n-u.circle.x)<L&&Math.abs(r-u.circle.cy)<L;)i=u.P,a.unshift(u),M(u),u=i;a.unshift(u),x(u);for(var c=s;c.circle&&Math.abs(n-c.circle.x)<L&&Math.abs(r-c.circle.cy)<L;)s=c.N,a.push(c),M(c),c=s;a.push(c),x(c);var l,p=a.length;for(l=1;l<p;++l)c=a[l],u=a[l-1],d(c.edge,u.site,c.site,o);u=a[0],(c=a[p-1]).edge=f(u.site,c.site,null,o),E(u),E(c)}function N(t){for(var e,n,r,o,i=t[0],s=t[1],a=A._;a;)if((r=I(a,s)-i)>L)a=a.L;else{if(!((o=i-T(a,s))>L)){r>-L?(e=a.P,n=a):o>-L?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}!function(t){D[t.index]={site:t,halfedges:[]}}(t);var u=S(t);if(A.insert(e,u),e||n){if(e===n)return x(e),n=S(e.site),A.insert(u,n),u.edge=n.edge=f(e.site,u.site),E(e),void E(n);if(n){x(e),x(n);var c=e.site,l=c[0],p=c[1],h=t[0]-l,y=t[1]-p,g=n.site,v=g[0]-l,b=g[1]-p,m=2*(h*b-y*v),_=h*h+y*y,P=v*v+b*b,w=[(b*_-y*P)/m+l,(h*P-v*_)/m+p];d(n.edge,c,g,w),u.edge=f(c,t,null,w),n.edge=f(t,g,null,w),E(e),E(n)}else u.edge=f(e.site,u.site)}}function I(t,e){var n=t.site,r=n[0],o=n[1],i=o-e;if(!i)return r;var s=t.P;if(!s)return-1/0;var a=(n=s.site)[0],u=n[1],c=u-e;if(!c)return a;var l=a-r,p=1/i-1/c,f=l/c;return p?(-f+Math.sqrt(f*f-2*p*(l*l/(-2*c)-u+c/2+o-i/2)))/p+r:(r+a)/2}function T(t,e){var n=t.N;if(n)return I(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var A,D,R,k,L=1e-6,G=1e-12;function F(t,e){return e[1]-t[1]||e[0]-t[0]}function V(t,e){var n,r,o,i=t.sort(F).pop();for(k=[],D=new Array(t.length),A=new p,R=new p;;)if(o=_,i&&(!o||i[1]<o.y||i[1]===o.y&&i[0]<o.x))i[0]===n&&i[1]===r||(N(i),n=i[0],r=i[1]),i=t.pop();else{if(!o)break;j(o.arc)}if(function(){for(var t,e,n,r,o=0,i=D.length;o<i;++o)if((t=D[o])&&(r=(e=t.halfedges).length)){var s=new Array(r),a=new Array(r);for(n=0;n<r;++n)s[n]=n,a[n]=v(t,k[e[n]]);for(s.sort((function(t,e){return a[e]-a[t]})),n=0;n<r;++n)a[n]=e[s[n]];for(n=0;n<r;++n)e[n]=a[n]}}(),e){var s=+e[0][0],a=+e[0][1],u=+e[1][0],c=+e[1][1];!function(t,e,n,r){for(var o,i=k.length;i--;)g(o=k[i],t,e,n,r)&&y(o,t,e,n,r)&&(Math.abs(o[0][0]-o[1][0])>L||Math.abs(o[0][1]-o[1][1])>L)||delete k[i]}(s,a,u,c),function(t,e,n,r){var o,i,s,a,u,c,l,p,f,d,y,g,v=D.length,_=!0;for(o=0;o<v;++o)if(i=D[o]){for(s=i.site,a=(u=i.halfedges).length;a--;)k[u[a]]||u.splice(a,1);for(a=0,c=u.length;a<c;)y=(d=m(i,k[u[a]]))[0],g=d[1],p=(l=b(i,k[u[++a%c]]))[0],f=l[1],(Math.abs(y-p)>L||Math.abs(g-f)>L)&&(u.splice(a,0,k.push(h(s,d,Math.abs(y-t)<L&&r-g>L?[t,Math.abs(p-t)<L?f:r]:Math.abs(g-r)<L&&n-y>L?[Math.abs(f-r)<L?p:n,r]:Math.abs(y-n)<L&&g-e>L?[n,Math.abs(p-n)<L?f:e]:Math.abs(g-e)<L&&y-t>L?[Math.abs(f-e)<L?p:t,e]:null))-1),++c);c&&(_=!1)}if(_){var P,w,E,x=1/0;for(o=0,_=null;o<v;++o)(i=D[o])&&(E=(P=(s=i.site)[0]-t)*P+(w=s[1]-e)*w)<x&&(x=E,_=i);if(_){var O=[t,e],C=[t,r],S=[n,r],M=[n,e];_.halfedges.push(k.push(h(s=_.site,O,C))-1,k.push(h(s,C,S))-1,k.push(h(s,S,M))-1,k.push(h(s,M,O))-1)}}for(o=0;o<v;++o)(i=D[o])&&(i.halfedges.length||delete D[o])}(s,a,u,c)}this.edges=k,this.cells=D,A=R=k=D=null}function B(){var t=o,e=i,n=null;function s(r){return new V(r.map((function(n,o){var i=[Math.round(t(n,o,r)/L)*L,Math.round(e(n,o,r)/L)*L];return i.index=o,i.data=n,i})),n)}return s.polygons=function(t){return s(t).polygons()},s.links=function(t){return s(t).links()},s.triangles=function(t){return s(t).triangles()},s.x=function(e){return arguments.length?(t="function"==typeof e?e:r(+e),s):t},s.y=function(t){return arguments.length?(e="function"==typeof t?t:r(+t),s):e},s.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],s):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},s.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],s):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},s}V.prototype={constructor:V,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return b(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,r){if(i=(o=n.halfedges).length)for(var o,i,s,a,u,c,l=n.site,p=-1,f=e[o[i-1]],h=f.left===l?f.right:f.left;++p<i;)s=h,h=(f=e[o[p]]).left===l?f.right:f.left,s&&h&&r<s.index&&r<h.index&&(u=s,c=h,((a=l)[0]-c[0])*(u[1]-a[1])-(a[0]-u[0])*(c[1]-a[1])<0)&&t.push([l.data,s.data,h.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var r,o,i=this,s=i._found||0,a=i.cells.length;!(o=i.cells[s]);)if(++s>=a)return null;var u=t-o.site[0],c=e-o.site[1],l=u*u+c*c;do{o=i.cells[r=s],s=null,o.halfedges.forEach((function(n){var r=i.edges[n],a=r.left;if(a!==o.site&&a||(a=r.right)){var u=t-a[0],c=e-a[1],p=u*u+c*c;p<l&&(l=p,s=a.index)}}))}while(null!==s);return i._found=r,null==n||l<=n*n?o.site:null}}},10251:(t,e,n)=>{var r=n(82215),o=n(82584),i=n(20609),s=n(98420),a=n(2847),u=n(18923),c=Date.prototype.getTime;function l(t){return null==t}function p(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}t.exports=function t(e,n,f){var h=f||{};return!!(h.strict?i(e,n):e===n)||(!e||!n||"object"!=typeof e&&"object"!=typeof n?h.strict?i(e,n):e==n:function(e,n,i){var f,h;if(typeof e!=typeof n)return!1;if(l(e)||l(n))return!1;if(e.prototype!==n.prototype)return!1;if(o(e)!==o(n))return!1;var d=s(e),y=s(n);if(d!==y)return!1;if(d||y)return e.source===n.source&&a(e)===a(n);if(u(e)&&u(n))return c.call(e)===c.call(n);var g=p(e),v=p(n);if(g!==v)return!1;if(g||v){if(e.length!==n.length)return!1;for(f=0;f<e.length;f++)if(e[f]!==n[f])return!1;return!0}if(typeof e!=typeof n)return!1;try{var b=r(e),m=r(n)}catch(t){return!1}if(b.length!==m.length)return!1;for(b.sort(),m.sort(),f=b.length-1;f>=0;f--)if(b[f]!=m[f])return!1;for(f=b.length-1;f>=0;f--)if(!t(e[h=b[f]],n[h],i))return!1;return!0}(e,n,h))}},4289:(t,e,n)=>{"use strict";var r=n(82215),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,s=Array.prototype.concat,a=Object.defineProperty,u=n(31044)(),c=a&&u,l=function(t,e,n,r){var o;(!(e in t)||"function"==typeof(o=r)&&"[object Function]"===i.call(o)&&r())&&(c?a(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n)},p=function(t,e){var n=arguments.length>2?arguments[2]:{},i=r(e);o&&(i=s.call(i,Object.getOwnPropertySymbols(e)));for(var a=0;a<i.length;a+=1)l(t,i[a],e[i[a]],n[i[a]])};p.supportsDescriptors=!!c,t.exports=p},68317:t=>{function e(t,e,n,r){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(t,e,n,r)}e.prototype.run=function(t,e,n,r){this._init(t,e,n,r);for(var o=0;o<this._datasetLength;o++)if(1!==this._visited[o]){this._visited[o]=1;var i=this._regionQuery(o);if(i.length<this.minPts)this.noise.push(o);else{var s=this.clusters.length;this.clusters.push([]),this._addToCluster(o,s),this._expandCluster(s,i)}}return this.clusters},e.prototype._init=function(t,e,n,r){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this.noise=[],this._datasetLength=t.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}e&&(this.epsilon=e),n&&(this.minPts=n),r&&(this.distance=r)},e.prototype._expandCluster=function(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(1!==this._visited[r]){this._visited[r]=1;var o=this._regionQuery(r);o.length>=this.minPts&&(e=this._mergeArrays(e,o))}1!==this._assigned[r]&&this._addToCluster(r,t)}},e.prototype._addToCluster=function(t,e){this.clusters[e].push(t),this._assigned[t]=1},e.prototype._regionQuery=function(t){for(var e=[],n=0;n<this._datasetLength;n++)this.distance(this.dataset[t],this.dataset[n])<this.epsilon&&e.push(n);return e},e.prototype._mergeArrays=function(t,e){for(var n=e.length,r=0;r<n;r++){var o=e[r];t.indexOf(o)<0&&t.push(o)}return t},e.prototype._euclideanDistance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)},t.exports&&(t.exports=e)},63781:t=>{function e(t,e,n){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(t,e,n)}e.prototype.init=function(t,e,n){this.assignments=[],this.centroids=[],void 0!==t&&(this.dataset=t),void 0!==e&&(this.k=e),void 0!==n&&(this.distance=n)},e.prototype.run=function(t,e){this.init(t,e);for(var n=this.dataset.length,r=0;r<this.k;r++)this.centroids[r]=this.randomCentroid();for(var o=!0;o;){o=this.assign();for(var i=0;i<this.k;i++){for(var s=new Array(l),a=0,u=0;u<l;u++)s[u]=0;for(var c=0;c<n;c++){var l=this.dataset[c].length;if(i===this.assignments[c]){for(u=0;u<l;u++)s[u]+=this.dataset[c][u];a++}}if(a>0){for(u=0;u<l;u++)s[u]/=a;this.centroids[i]=s}else this.centroids[i]=this.randomCentroid(),o=!0}}return this.getClusters()},e.prototype.randomCentroid=function(){var t,e,n=this.dataset.length-1;do{e=Math.round(Math.random()*n),t=this.dataset[e]}while(this.centroids.indexOf(t)>=0);return t},e.prototype.assign=function(){for(var t,e=!1,n=this.dataset.length,r=0;r<n;r++)(t=this.argmin(this.dataset[r],this.centroids,this.distance))!=this.assignments[r]&&(this.assignments[r]=t,e=!0);return e},e.prototype.getClusters=function(){for(var t,e=new Array(this.k),n=0;n<this.assignments.length;n++)void 0===e[t=this.assignments[n]]&&(e[t]=[]),e[t].push(n);return e},e.prototype.argmin=function(t,e,n){for(var r,o=Number.MAX_VALUE,i=0,s=e.length,a=0;a<s;a++)(r=n(t,e[a]))<o&&(o=r,i=a);return i},e.prototype.distance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;){var o=t[r]-e[r];n+=o*o}return Math.sqrt(n)},t.exports&&(t.exports=e)},73763:(t,e,n)=>{if(t.exports)var r=n(57985);function o(t,e,n,r){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(t,e,n,r)}o.prototype.run=function(t,e,n,o){this._init(t,e,n,o);for(var i=0,s=this.dataset.length;i<s;i++)if(1!==this._processed[i]){this._processed[i]=1,this.clusters.push([i]);var a=this.clusters.length-1;this._orderedList.push(i);var u=new r(null,null,"asc"),c=this._regionQuery(i);void 0!==this._distanceToCore(i)&&(this._updateQueue(i,c,u),this._expandCluster(a,u))}return this.clusters},o.prototype.getReachabilityPlot=function(){for(var t=[],e=0,n=this._orderedList.length;e<n;e++){var r=this._orderedList[e],o=this._reachability[r];t.push([r,o])}return t},o.prototype._init=function(t,e,n,r){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}e&&(this.epsilon=e),n&&(this.minPts=n),r&&(this.distance=r)},o.prototype._updateQueue=function(t,e,n){var r=this;this._coreDistance=this._distanceToCore(t),e.forEach((function(e){if(void 0===r._processed[e]){var o=r.distance(r.dataset[t],r.dataset[e]),i=Math.max(r._coreDistance,o);void 0===r._reachability[e]?(r._reachability[e]=i,n.insert(e,i)):i<r._reachability[e]&&(r._reachability[e]=i,n.remove(e),n.insert(e,i))}}))},o.prototype._expandCluster=function(t,e){for(var n=e.getElements(),r=0,o=n.length;r<o;r++){var i=n[r];if(void 0===this._processed[i]){var s=this._regionQuery(i);this._processed[i]=1,this.clusters[t].push(i),this._orderedList.push(i),void 0!==this._distanceToCore(i)&&(this._updateQueue(i,s,e),this._expandCluster(t,e))}}},o.prototype._distanceToCore=function(t){for(var e=this.epsilon,n=0;n<e;n++)if(this._regionQuery(t,n).length>=this.minPts)return n},o.prototype._regionQuery=function(t,e){e=e||this.epsilon;for(var n=[],r=0,o=this.dataset.length;r<o;r++)this.distance(this.dataset[t],this.dataset[r])<e&&n.push(r);return n},o.prototype._euclideanDistance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)},t.exports&&(t.exports=o)},57985:t=>{function e(t,e,n){this._queue=[],this._priorities=[],this._sorting="desc",this._init(t,e,n)}e.prototype.insert=function(t,e){for(var n=this._queue.length,r=n;r--;){var o=this._priorities[r];"desc"===this._sorting?e>o&&(n=r):e<o&&(n=r)}this._insertAt(t,e,n)},e.prototype.remove=function(t){for(var e=this._queue.length;e--;)if(t===this._queue[e]){this._queue.splice(e,1),this._priorities.splice(e,1);break}},e.prototype.forEach=function(t){this._queue.forEach(t)},e.prototype.getElements=function(){return this._queue},e.prototype.getElementPriority=function(t){return this._priorities[t]},e.prototype.getPriorities=function(){return this._priorities},e.prototype.getElementsWithPriorities=function(){for(var t=[],e=0,n=this._queue.length;e<n;e++)t.push([this._queue[e],this._priorities[e]]);return t},e.prototype._init=function(t,e,n){if(t&&e){if(this._queue=[],this._priorities=[],t.length!==e.length)throw new Error("Arrays must have the same length");for(var r=0;r<t.length;r++)this.insert(t[r],e[r])}n&&(this._sorting=n)},e.prototype._insertAt=function(t,e,n){this._queue.length===n?(this._queue.push(t),this._priorities.push(e)):(this._queue.splice(n,0,t),this._priorities.splice(n,0,e))},t.exports&&(t.exports=e)},52606:(t,e,n)=>{t.exports&&(t.exports={DBSCAN:n(68317),KMEANS:n(63781),OPTICS:n(73763),PriorityQueue:n(57985)})},9187:t=>{"use strict";function e(t,e,r){r=r||2;var i,s,a,u,p,f,d,y=e&&e.length,g=y?e[0]*r:t.length,v=n(t,0,g,r,!0),b=[];if(!v||v.next===v.prev)return b;if(y&&(v=function(t,e,r,o){var i,s,a,u=[];for(i=0,s=e.length;i<s;i++)(a=n(t,e[i]*o,i<s-1?e[i+1]*o:t.length,o,!1))===a.next&&(a.steiner=!0),u.push(h(a));for(u.sort(c),i=0;i<u.length;i++)r=l(u[i],r);return r}(t,e,v,r)),t.length>80*r){i=a=t[0],s=u=t[1];for(var m=r;m<g;m+=r)(p=t[m])<i&&(i=p),(f=t[m+1])<s&&(s=f),p>a&&(a=p),f>u&&(u=f);d=0!==(d=Math.max(a-i,u-s))?32767/d:0}return o(v,b,r,i,s,d,0),b}function n(t,e,n,r,o){var i,s;if(o===C(t,e,n,r)>0)for(i=e;i<n;i+=r)s=E(i,t[i],t[i+1],s);else for(i=n-r;i>=e;i-=r)s=E(i,t[i],t[i+1],s);return s&&v(s,s.next)&&(x(s),s=s.next),s}function r(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!v(r,r.next)&&0!==g(r.prev,r,r.next))r=r.next;else{if(x(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function o(t,e,n,c,l,p,h){if(t){!h&&p&&function(t,e,n,r){var o=t;do{0===o.z&&(o.z=f(o.x,o.y,e,n,r)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==t);o.prevZ.nextZ=null,o.prevZ=null,function(t){var e,n,r,o,i,s,a,u,c=1;do{for(n=t,t=null,i=null,s=0;n;){for(s++,r=n,a=0,e=0;e<c&&(a++,r=r.nextZ);e++);for(u=c;a>0||u>0&&r;)0!==a&&(0===u||!r||n.z<=r.z)?(o=n,n=n.nextZ,a--):(o=r,r=r.nextZ,u--),i?i.nextZ=o:t=o,o.prevZ=i,i=o;n=r}i.nextZ=null,c*=2}while(s>1)}(o)}(t,c,l,p);for(var d,y,g=t;t.prev!==t.next;)if(d=t.prev,y=t.next,p?s(t,c,l,p):i(t))e.push(d.i/n|0),e.push(t.i/n|0),e.push(y.i/n|0),x(t),t=y.next,g=y.next;else if((t=y)===g){h?1===h?o(t=a(r(t),e,n),e,n,c,l,p,2):2===h&&u(t,e,n,c,l,p):o(r(t),e,n,c,l,p,1);break}}}function i(t){var e=t.prev,n=t,r=t.next;if(g(e,n,r)>=0)return!1;for(var o=e.x,i=n.x,s=r.x,a=e.y,u=n.y,c=r.y,l=o<i?o<s?o:s:i<s?i:s,p=a<u?a<c?a:c:u<c?u:c,f=o>i?o>s?o:s:i>s?i:s,h=a>u?a>c?a:c:u>c?u:c,y=r.next;y!==e;){if(y.x>=l&&y.x<=f&&y.y>=p&&y.y<=h&&d(o,a,i,u,s,c,y.x,y.y)&&g(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function s(t,e,n,r){var o=t.prev,i=t,s=t.next;if(g(o,i,s)>=0)return!1;for(var a=o.x,u=i.x,c=s.x,l=o.y,p=i.y,h=s.y,y=a<u?a<c?a:c:u<c?u:c,v=l<p?l<h?l:h:p<h?p:h,b=a>u?a>c?a:c:u>c?u:c,m=l>p?l>h?l:h:p>h?p:h,_=f(y,v,e,n,r),P=f(b,m,e,n,r),w=t.prevZ,E=t.nextZ;w&&w.z>=_&&E&&E.z<=P;){if(w.x>=y&&w.x<=b&&w.y>=v&&w.y<=m&&w!==o&&w!==s&&d(a,l,u,p,c,h,w.x,w.y)&&g(w.prev,w,w.next)>=0)return!1;if(w=w.prevZ,E.x>=y&&E.x<=b&&E.y>=v&&E.y<=m&&E!==o&&E!==s&&d(a,l,u,p,c,h,E.x,E.y)&&g(E.prev,E,E.next)>=0)return!1;E=E.nextZ}for(;w&&w.z>=_;){if(w.x>=y&&w.x<=b&&w.y>=v&&w.y<=m&&w!==o&&w!==s&&d(a,l,u,p,c,h,w.x,w.y)&&g(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;E&&E.z<=P;){if(E.x>=y&&E.x<=b&&E.y>=v&&E.y<=m&&E!==o&&E!==s&&d(a,l,u,p,c,h,E.x,E.y)&&g(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function a(t,e,n){var o=t;do{var i=o.prev,s=o.next.next;!v(i,s)&&b(i,o,o.next,s)&&P(i,s)&&P(s,i)&&(e.push(i.i/n|0),e.push(o.i/n|0),e.push(s.i/n|0),x(o),x(o.next),o=t=s),o=o.next}while(o!==t);return r(o)}function u(t,e,n,i,s,a){var u=t;do{for(var c=u.next.next;c!==u.prev;){if(u.i!==c.i&&y(u,c)){var l=w(u,c);return u=r(u,u.next),l=r(l,l.next),o(u,e,n,i,s,a,0),void o(l,e,n,i,s,a,0)}c=c.next}u=u.next}while(u!==t)}function c(t,e){return t.x-e.x}function l(t,e){var n=function(t,e){var n,r=e,o=t.x,i=t.y,s=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=o&&a>s&&(s=a,n=r.x<r.next.x?r:r.next,a===o))return n}r=r.next}while(r!==e);if(!n)return null;var u,c=n,l=n.x,f=n.y,h=1/0;r=n;do{o>=r.x&&r.x>=l&&o!==r.x&&d(i<f?o:s,i,l,f,i<f?s:o,i,r.x,r.y)&&(u=Math.abs(i-r.y)/(o-r.x),P(r,t)&&(u<h||u===h&&(r.x>n.x||r.x===n.x&&p(n,r)))&&(n=r,h=u)),r=r.next}while(r!==c);return n}(t,e);if(!n)return e;var o=w(n,t);return r(o,o.next),r(n,n.next)}function p(t,e){return g(t.prev,t,e.prev)<0&&g(e.next,t,t.next)<0}function f(t,e,n,r,o){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-n)*o|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-r)*o|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function h(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function d(t,e,n,r,o,i,s,a){return(o-s)*(e-a)>=(t-s)*(i-a)&&(t-s)*(r-a)>=(n-s)*(e-a)&&(n-s)*(i-a)>=(o-s)*(r-a)}function y(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&b(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(P(t,e)&&P(e,t)&&function(t,e){var n=t,r=!1,o=(t.x+e.x)/2,i=(t.y+e.y)/2;do{n.y>i!=n.next.y>i&&n.next.y!==n.y&&o<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&(g(t.prev,t,e.prev)||g(t,e.prev,e))||v(t,e)&&g(t.prev,t,t.next)>0&&g(e.prev,e,e.next)>0)}function g(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function v(t,e){return t.x===e.x&&t.y===e.y}function b(t,e,n,r){var o=_(g(t,e,n)),i=_(g(t,e,r)),s=_(g(n,r,t)),a=_(g(n,r,e));return o!==i&&s!==a||!(0!==o||!m(t,n,e))||!(0!==i||!m(t,r,e))||!(0!==s||!m(n,t,r))||!(0!==a||!m(n,e,r))}function m(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function _(t){return t>0?1:t<0?-1:0}function P(t,e){return g(t.prev,t,t.next)<0?g(t,e,t.next)>=0&&g(t,t.prev,e)>=0:g(t,e,t.prev)<0||g(t,t.next,e)<0}function w(t,e){var n=new O(t.i,t.x,t.y),r=new O(e.i,e.x,e.y),o=t.next,i=e.prev;return t.next=e,e.prev=t,n.next=o,o.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r}function E(t,e,n,r){var o=new O(t,e,n);return r?(o.next=r.next,o.prev=r,r.next.prev=o,r.next=o):(o.prev=o,o.next=o),o}function x(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function O(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function C(t,e,n,r){for(var o=0,i=e,s=n-r;i<n;i+=r)o+=(t[s]-t[i])*(t[i+1]+t[s+1]),s=i;return o}t.exports=e,t.exports.default=e,e.deviation=function(t,e,n,r){var o=e&&e.length,i=o?e[0]*n:t.length,s=Math.abs(C(t,0,i,n));if(o)for(var a=0,u=e.length;a<u;a++){var c=e[a]*n,l=a<u-1?e[a+1]*n:t.length;s-=Math.abs(C(t,c,l,n))}var p=0;for(a=0;a<r.length;a+=3){var f=r[a]*n,h=r[a+1]*n,d=r[a+2]*n;p+=Math.abs((t[f]-t[d])*(t[h+1]-t[f+1])-(t[f]-t[h])*(t[d+1]-t[f+1]))}return 0===s&&0===p?0:Math.abs((p-s)/s)},e.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,o=0;o<t.length;o++){for(var i=0;i<t[o].length;i++)for(var s=0;s<e;s++)n.vertices.push(t[o][i][s]);o>0&&(r+=t[o-1].length,n.holes.push(r))}return n}},17648:t=>{"use strict";var e="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,r=Object.prototype.toString,o="[object Function]";t.exports=function(t){var i=this;if("function"!=typeof i||r.call(i)!==o)throw new TypeError(e+i);for(var s,a=n.call(arguments,1),u=function(){if(this instanceof s){var e=i.apply(this,a.concat(n.call(arguments)));return Object(e)===e?e:this}return i.apply(t,a.concat(n.call(arguments)))},c=Math.max(0,i.length-a.length),l=[],p=0;p<c;p++)l.push("$"+p);if(s=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(u),i.prototype){var f=function(){};f.prototype=i.prototype,s.prototype=new f,f.prototype=null}return s}},58612:(t,e,n)=>{"use strict";var r=n(17648);t.exports=Function.prototype.bind||r},25972:t=>{"use strict";var e=function(){return"string"==typeof function(){}.name},n=Object.getOwnPropertyDescriptor;if(n)try{n([],"length")}catch(t){n=null}e.functionsHaveConfigurableNames=function(){if(!e()||!n)return!1;var t=n((function(){}),"name");return!!t&&!!t.configurable};var r=Function.prototype.bind;e.boundFunctionsHaveNames=function(){return e()&&"function"==typeof r&&""!==function(){}.bind().name},t.exports=e},29657:(t,e,n)=>{var r=n(10251),o=function(t){this.precision=t&&t.precision?t.precision:17,this.direction=!(!t||!t.direction)&&t.direction,this.pseudoNode=!(!t||!t.pseudoNode)&&t.pseudoNode,this.objectComparator=t&&t.objectComparator?t.objectComparator:a};function i(t){return t.coordinates.map((function(e){return{type:t.type.replace("Multi",""),coordinates:e}}))}function s(t,e){return t.hasOwnProperty("coordinates")?t.coordinates.length===e.coordinates.length:t.length===e.length}function a(t,e){return r(t,e,{strict:!0})}o.prototype.compare=function(t,e){if(t.type!==e.type||!s(t,e))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,e.coordinates);case"LineString":return this.compareLine(t.coordinates,e.coordinates,0,!1);case"Polygon":return this.comparePolygon(t,e);case"Feature":return this.compareFeature(t,e);default:if(0===t.type.indexOf("Multi")){var n=this,r=i(t),o=i(e);return r.every((function(t){return this.some((function(e){return n.compare(t,e)}))}),o)}}return!1},o.prototype.compareCoord=function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n].toFixed(this.precision)!==e[n].toFixed(this.precision))return!1;return!0},o.prototype.compareLine=function(t,e,n,r){if(!s(t,e))return!1;var o=this.pseudoNode?t:this.removePseudo(t),i=this.pseudoNode?e:this.removePseudo(e);if(!r||this.compareCoord(o[0],i[0])||(i=this.fixStartIndex(i,o))){var a=this.compareCoord(o[n],i[n]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[n],i[i.length-(1+n)])&&this.comparePath(o.slice().reverse(),i)}},o.prototype.fixStartIndex=function(t,e){for(var n,r=-1,o=0;o<t.length;o++)if(this.compareCoord(t[o],e[0])){r=o;break}return r>=0&&(n=[].concat(t.slice(r,t.length),t.slice(1,r+1))),n},o.prototype.comparePath=function(t,e){var n=this;return t.every((function(t,e){return n.compareCoord(t,this[e])}),e)},o.prototype.comparePolygon=function(t,e){if(this.compareLine(t.coordinates[0],e.coordinates[0],1,!0)){var n=t.coordinates.slice(1,t.coordinates.length),r=e.coordinates.slice(1,e.coordinates.length),o=this;return n.every((function(t){return this.some((function(e){return o.compareLine(t,e,1,!0)}))}),r)}return!1},o.prototype.compareFeature=function(t,e){return!(t.id!==e.id||!this.objectComparator(t.properties,e.properties)||!this.compareBBox(t,e))&&this.compare(t.geometry,e.geometry)},o.prototype.compareBBox=function(t,e){return!!(!t.bbox&&!e.bbox||t.bbox&&e.bbox&&this.compareCoord(t.bbox,e.bbox))},o.prototype.removePseudo=function(t){return t},t.exports=o},51787:(t,e,n)=>{var r=n(82582),o=n(84102),i=n(31540),s=n(9705).default,a=i.featureEach,u=(i.coordEach,o.polygon,o.featureCollection);function c(t){var e=new r(t);return e.insert=function(t){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:s(t),r.prototype.insert.call(this,t)},e.load=function(t){var e=[];return Array.isArray(t)?t.forEach((function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:s(t),e.push(t)})):a(t,(function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:s(t),e.push(t)})),r.prototype.load.call(this,e)},e.remove=function(t,e){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:s(t),r.prototype.remove.call(this,t,e)},e.clear=function(){return r.prototype.clear.call(this)},e.search=function(t){var e=r.prototype.search.call(this,this.toBBox(t));return u(e)},e.collides=function(t){return r.prototype.collides.call(this,this.toBBox(t))},e.all=function(){var t=r.prototype.all.call(this);return u(t)},e.toJSON=function(){return r.prototype.toJSON.call(this)},e.fromJSON=function(t){return r.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var e;if(t.bbox)e=t.bbox;else if(Array.isArray(t)&&4===t.length)e=t;else if(Array.isArray(t)&&6===t.length)e=[t[0],t[1],t[3],t[4]];else if("Feature"===t.type)e=s(t);else{if("FeatureCollection"!==t.type)throw new Error("invalid geojson");e=s(t)}return{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}},e}t.exports=c,t.exports.default=c},40210:(t,e,n)=>{"use strict";var r,o=SyntaxError,i=Function,s=TypeError,a=function(t){try{return i('"use strict"; return ('+t+").constructor;")()}catch(t){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(t){u=null}var c=function(){throw new s},l=u?function(){try{return c}catch(t){try{return u(arguments,"callee").get}catch(t){return c}}}():c,p=n(41405)(),f=Object.getPrototypeOf||function(t){return t.__proto__},h={},d="undefined"==typeof Uint8Array?r:f(Uint8Array),y={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":p?f([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":h,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p?f(f([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&p?f((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&p?f((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p?f(""[Symbol.iterator]()):r,"%Symbol%":p?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":l,"%TypedArray%":d,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet},g=function t(e){var n;if("%AsyncFunction%"===e)n=a("async function () {}");else if("%GeneratorFunction%"===e)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===e)n=a("async function* () {}");else if("%AsyncGenerator%"===e){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=t("%AsyncGenerator%");o&&(n=f(o.prototype))}return y[e]=n,n},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=n(58612),m=n(17642),_=b.call(Function.call,Array.prototype.concat),P=b.call(Function.apply,Array.prototype.splice),w=b.call(Function.call,String.prototype.replace),E=b.call(Function.call,String.prototype.slice),x=b.call(Function.call,RegExp.prototype.exec),O=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,C=/\\(\\)?/g,S=function(t){var e=E(t,0,1),n=E(t,-1);if("%"===e&&"%"!==n)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new o("invalid intrinsic syntax, expected opening `%`");var r=[];return w(t,O,(function(t,e,n,o){r[r.length]=n?w(o,C,"$1"):e||t})),r},M=function(t,e){var n,r=t;if(m(v,r)&&(r="%"+(n=v[r])[0]+"%"),m(y,r)){var i=y[r];if(i===h&&(i=g(r)),void 0===i&&!e)throw new s("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new o("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new s('"allowMissing" argument must be a boolean');if(null===x(/^%?[^%]*%?$/g,t))throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=S(t),r=n.length>0?n[0]:"",i=M("%"+r+"%",e),a=i.name,c=i.value,l=!1,p=i.alias;p&&(r=p[0],P(n,_([0,1],p)));for(var f=1,h=!0;f<n.length;f+=1){var d=n[f],g=E(d,0,1),v=E(d,-1);if(('"'===g||"'"===g||"`"===g||'"'===v||"'"===v||"`"===v)&&g!==v)throw new o("property names with quotes must have matching quotes");if("constructor"!==d&&h||(l=!0),m(y,a="%"+(r+="."+d)+"%"))c=y[a];else if(null!=c){if(!(d in c)){if(!e)throw new s("base intrinsic for "+t+" exists, but the property is not available.");return}if(u&&f+1>=n.length){var b=u(c,d);c=(h=!!b)&&"get"in b&&!("originalValue"in b.get)?b.get:c[d]}else h=m(c,d),c=c[d];h&&!l&&(y[a]=c)}}return c}},31044:(t,e,n)=>{"use strict";var r=n(40210)("%Object.defineProperty%",!0),o=function(){if(r)try{return r({},"a",{value:1}),!0}catch(t){return!1}return!1};o.hasArrayLengthDefineBug=function(){if(!o())return null;try{return 1!==r([],"length",{value:1}).length}catch(t){return!0}},t.exports=o},41405:(t,e,n)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=n(55419);t.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&o()}},55419:t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},96410:(t,e,n)=>{"use strict";var r=n(55419);t.exports=function(){return r()&&!!Symbol.toStringTag}},17642:(t,e,n)=>{"use strict";var r=n(58612);t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},82584:(t,e,n)=>{"use strict";var r=n(96410)(),o=n(21924)("Object.prototype.toString"),i=function(t){return!(r&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===o(t)},s=function(t){return!!i(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==o(t)&&"[object Function]"===o(t.callee)},a=function(){return i(arguments)}();i.isLegacyArguments=s,t.exports=a?i:s},18923:(t,e,n)=>{"use strict";var r=Date.prototype.getDay,o=Object.prototype.toString,i=n(96410)();t.exports=function(t){return"object"==typeof t&&null!==t&&(i?function(t){try{return r.call(t),!0}catch(t){return!1}}(t):"[object Date]"===o.call(t))}},98420:(t,e,n)=>{"use strict";var r,o,i,s,a=n(21924),u=n(96410)();if(u){r=a("Object.prototype.hasOwnProperty"),o=a("RegExp.prototype.exec"),i={};var c=function(){throw i};s={toString:c,valueOf:c},"symbol"==typeof Symbol.toPrimitive&&(s[Symbol.toPrimitive]=c)}var l=a("Object.prototype.toString"),p=Object.getOwnPropertyDescriptor;t.exports=u?function(t){if(!t||"object"!=typeof t)return!1;var e=p(t,"lastIndex");if(!e||!r(e,"value"))return!1;try{o(t,s)}catch(t){return t===i}}:function(t){return!(!t||"object"!=typeof t&&"function"!=typeof t)&&"[object RegExp]"===l(t)}},27418:t=>{"use strict";var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function o(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,i){for(var s,a,u=o(t),c=1;c<arguments.length;c++){for(var l in s=Object(arguments[c]))n.call(s,l)&&(u[l]=s[l]);if(e){a=e(s);for(var p=0;p<a.length;p++)r.call(s,a[p])&&(u[a[p]]=s[a[p]])}}return u}},24244:t=>{"use strict";var e=function(t){return t!=t};t.exports=function(t,n){return 0===t&&0===n?1/t==1/n:t===n||!(!e(t)||!e(n))}},20609:(t,e,n)=>{"use strict";var r=n(4289),o=n(55559),i=n(24244),s=n(75624),a=n(52281),u=o(s(),Object);r(u,{getPolyfill:s,implementation:i,shim:a}),t.exports=u},75624:(t,e,n)=>{"use strict";var r=n(24244);t.exports=function(){return"function"==typeof Object.is?Object.is:r}},52281:(t,e,n)=>{"use strict";var r=n(75624),o=n(4289);t.exports=function(){var t=r();return o(Object,{is:t},{is:function(){return Object.is!==t}}),t}},18987:(t,e,n)=>{"use strict";var r;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,s=n(21414),a=Object.prototype.propertyIsEnumerable,u=!a.call({toString:null},"toString"),c=a.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(t){var e=t.constructor;return e&&e.prototype===t},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!f["$"+t]&&o.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{p(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(t){var e=null!==t&&"object"==typeof t,n="[object Function]"===i.call(t),r=s(t),a=e&&"[object String]"===i.call(t),f=[];if(!e&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var d=c&&n;if(a&&t.length>0&&!o.call(t,0))for(var y=0;y<t.length;++y)f.push(String(y));if(r&&t.length>0)for(var g=0;g<t.length;++g)f.push(String(g));else for(var v in t)d&&"prototype"===v||!o.call(t,v)||f.push(String(v));if(u)for(var b=function(t){if("undefined"==typeof window||!h)return p(t);try{return p(t)}catch(t){return!1}}(t),m=0;m<l.length;++m)b&&"constructor"===l[m]||!o.call(t,l[m])||f.push(l[m]);return f}}t.exports=r},82215:(t,e,n)=>{"use strict";var r=Array.prototype.slice,o=n(21414),i=Object.keys,s=i?function(t){return i(t)}:n(18987),a=Object.keys;s.shim=function(){if(Object.keys){var t=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(Object.keys=function(t){return o(t)?a(r.call(t)):a(t)})}else Object.keys=s;return Object.keys||s},t.exports=s},21414:t=>{"use strict";var e=Object.prototype.toString;t.exports=function(t){var n=e.call(t),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),r}},11895:t=>{t.exports=function(t,e,n,r){var o=t[0],i=t[1],s=!1;void 0===n&&(n=0),void 0===r&&(r=e.length);for(var a=(r-n)/2,u=0,c=a-1;u<a;c=u++){var l=e[n+2*u+0],p=e[n+2*u+1],f=e[n+2*c+0],h=e[n+2*c+1];p>i!=h>i&&o<(f-l)*(i-p)/(h-p)+l&&(s=!s)}return s}},26960:(t,e,n)=>{var r=n(11895),o=n(88139);t.exports=function(t,e,n,i){return e.length>0&&Array.isArray(e[0])?o(t,e,n,i):r(t,e,n,i)},t.exports.nested=o,t.exports.flat=r},88139:t=>{t.exports=function(t,e,n,r){var o=t[0],i=t[1],s=!1;void 0===n&&(n=0),void 0===r&&(r=e.length);for(var a=r-n,u=0,c=a-1;u<a;c=u++){var l=e[u+n][0],p=e[u+n][1],f=e[c+n][0],h=e[c+n][1];p>i!=h>i&&o<(f-l)*(i-p)/(h-p)+l&&(s=!s)}return s}},32676:function(t){t.exports=function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}var r=function(t,e){this.next=null,this.key=t,this.data=e,this.left=null,this.right=null};function o(t,e){return t>e?1:t<e?-1:0}function i(t,e,n){for(var o=new r(null,null),i=o,s=o;;){var a=n(t,e.key);if(a<0){if(null===e.left)break;if(n(t,e.left.key)<0){var u=e.left;if(e.left=u.right,u.right=e,null===(e=u).left)break}s.left=e,s=e,e=e.left}else{if(!(a>0))break;if(null===e.right)break;if(n(t,e.right.key)>0&&(u=e.right,e.right=u.left,u.left=e,null===(e=u).right))break;i.right=e,i=e,e=e.right}}return i.right=e.left,s.left=e.right,e.left=o.right,e.right=o.left,e}function s(t,e,n,o){var s=new r(t,e);if(null===n)return s.left=s.right=null,s;var a=o(t,(n=i(t,n,o)).key);return a<0?(s.left=n.left,s.right=n,n.left=null):a>=0&&(s.right=n.right,s.left=n,n.right=null),s}function a(t,e,n){var r=null,o=null;if(e){var s=n((e=i(t,e,n)).key,t);0===s?(r=e.left,o=e.right):s<0?(o=e.right,e.right=null,r=e):(r=e.left,e.left=null,o=e)}return{left:r,right:o}}function u(t,e,n,r,o){if(t){r(e+(n?"└── ":"├── ")+o(t)+"\n");var i=e+(n?"    ":"│   ");t.left&&u(t.left,i,!1,r,o),t.right&&u(t.right,i,!0,r,o)}}var c=function(){function t(t){void 0===t&&(t=o),this._root=null,this._size=0,this._comparator=t}return t.prototype.insert=function(t,e){return this._size++,this._root=s(t,e,this._root,this._comparator)},t.prototype.add=function(t,e){var n=new r(t,e);null===this._root&&(n.left=n.right=null,this._size++,this._root=n);var o=this._comparator,s=i(t,this._root,o),a=o(t,s.key);return 0===a?this._root=s:(a<0?(n.left=s.left,n.right=s,s.left=null):a>0&&(n.right=s.right,n.left=s,s.right=null),this._size++,this._root=n),this._root},t.prototype.remove=function(t){this._root=this._remove(t,this._root,this._comparator)},t.prototype._remove=function(t,e,n){var r;return null===e?null:0===n(t,(e=i(t,e,n)).key)?(null===e.left?r=e.right:(r=i(t,e.left,n)).right=e.right,this._size--,r):e},t.prototype.pop=function(){var t=this._root;if(t){for(;t.left;)t=t.left;return this._root=i(t.key,this._root,this._comparator),this._root=this._remove(t.key,this._root,this._comparator),{key:t.key,data:t.data}}return null},t.prototype.findStatic=function(t){for(var e=this._root,n=this._comparator;e;){var r=n(t,e.key);if(0===r)return e;e=r<0?e.left:e.right}return null},t.prototype.find=function(t){return this._root&&(this._root=i(t,this._root,this._comparator),0!==this._comparator(t,this._root.key))?null:this._root},t.prototype.contains=function(t){for(var e=this._root,n=this._comparator;e;){var r=n(t,e.key);if(0===r)return!0;e=r<0?e.left:e.right}return!1},t.prototype.forEach=function(t,e){for(var n=this._root,r=[],o=!1;!o;)null!==n?(r.push(n),n=n.left):0!==r.length?(n=r.pop(),t.call(e,n),n=n.right):o=!0;return this},t.prototype.range=function(t,e,n,r){for(var o=[],i=this._comparator,s=this._root;0!==o.length||s;)if(s)o.push(s),s=s.left;else{if(i((s=o.pop()).key,e)>0)break;if(i(s.key,t)>=0&&n.call(r,s))return this;s=s.right}return this},t.prototype.keys=function(){var t=[];return this.forEach((function(e){var n=e.key;return t.push(n)})),t},t.prototype.values=function(){var t=[];return this.forEach((function(e){var n=e.data;return t.push(n)})),t},t.prototype.min=function(){return this._root?this.minNode(this._root).key:null},t.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},t.prototype.minNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.left;)t=t.left;return t},t.prototype.maxNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.right;)t=t.right;return t},t.prototype.at=function(t){for(var e=this._root,n=!1,r=0,o=[];!n;)if(e)o.push(e),e=e.left;else if(o.length>0){if(e=o.pop(),r===t)return e;r++,e=e.right}else n=!0;return null},t.prototype.next=function(t){var e=this._root,n=null;if(t.right){for(n=t.right;n.left;)n=n.left;return n}for(var r=this._comparator;e;){var o=r(t.key,e.key);if(0===o)break;o<0?(n=e,e=e.left):e=e.right}return n},t.prototype.prev=function(t){var e=this._root,n=null;if(null!==t.left){for(n=t.left;n.right;)n=n.right;return n}for(var r=this._comparator;e;){var o=r(t.key,e.key);if(0===o)break;o<0?e=e.left:(n=e,e=e.right)}return n},t.prototype.clear=function(){return this._root=null,this._size=0,this},t.prototype.toList=function(){return function(t){for(var e=t,n=[],o=!1,i=new r(null,null),s=i;!o;)e?(n.push(e),e=e.left):n.length>0?e=(e=s=s.next=n.pop()).right:o=!0;return s.next=null,i.next}(this._root)},t.prototype.load=function(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=!1);var o=t.length,i=this._comparator;if(n&&f(t,e,0,o-1,i),null===this._root)this._root=l(t,e,0,o),this._size=o;else{var s=function(t,e,n){for(var o=new r(null,null),i=o,s=t,a=e;null!==s&&null!==a;)n(s.key,a.key)<0?(i.next=s,s=s.next):(i.next=a,a=a.next),i=i.next;return null!==s?i.next=s:null!==a&&(i.next=a),o.next}(this.toList(),function(t,e){for(var n=new r(null,null),o=n,i=0;i<t.length;i++)o=o.next=new r(t[i],e[i]);return o.next=null,n.next}(t,e),i);o=this._size+o,this._root=p({head:s},0,o)}return this},t.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),t.prototype.toString=function(t){void 0===t&&(t=function(t){return String(t.key)});var e=[];return u(this._root,"",!0,(function(t){return e.push(t)}),t),e.join("")},t.prototype.update=function(t,e,n){var r=this._comparator,o=a(t,this._root,r),u=o.left,c=o.right;r(t,e)<0?c=s(e,n,c,r):u=s(e,n,u,r),this._root=function(t,e,n){return null===e?t:(null===t||((e=i(t.key,e,n)).left=t),e)}(u,c,r)},t.prototype.split=function(t){return a(t,this._root,this._comparator)},t}();function l(t,e,n,o){var i=o-n;if(i>0){var s=n+Math.floor(i/2),a=t[s],u=e[s],c=new r(a,u);return c.left=l(t,e,n,s),c.right=l(t,e,s+1,o),c}return null}function p(t,e,n){var r=n-e;if(r>0){var o=e+Math.floor(r/2),i=p(t,e,o),s=t.head;return s.left=i,t.head=t.head.next,s.right=p(t,o+1,n),s}return null}function f(t,e,n,r,o){if(!(n>=r)){for(var i=t[n+r>>1],s=n-1,a=r+1;;){do{s++}while(o(t[s],i)<0);do{a--}while(o(t[a],i)>0);if(s>=a)break;var u=t[s];t[s]=t[a],t[a]=u,u=e[s],e[s]=e[a],e[a]=u}f(t,e,n,a,o),f(t,e,a+1,r,o)}}var h=function(t,e){return t.ll.x<=e.x&&e.x<=t.ur.x&&t.ll.y<=e.y&&e.y<=t.ur.y},d=function(t,e){if(e.ur.x<t.ll.x||t.ur.x<e.ll.x||e.ur.y<t.ll.y||t.ur.y<e.ll.y)return null;var n=t.ll.x<e.ll.x?e.ll.x:t.ll.x,r=t.ur.x<e.ur.x?t.ur.x:e.ur.x;return{ll:{x:n,y:t.ll.y<e.ll.y?e.ll.y:t.ll.y},ur:{x:r,y:t.ur.y<e.ur.y?t.ur.y:e.ur.y}}},y=Number.EPSILON;void 0===y&&(y=Math.pow(2,-52));var g=y*y,v=function(t,e){if(-y<t&&t<y&&-y<e&&e<y)return 0;var n=t-e;return n*n<g*t*e?0:t<e?-1:1},b=function(){function e(){t(this,e),this.reset()}return n(e,[{key:"reset",value:function(){this.xRounder=new m,this.yRounder=new m}},{key:"round",value:function(t,e){return{x:this.xRounder.round(t),y:this.yRounder.round(e)}}}]),e}(),m=function(){function e(){t(this,e),this.tree=new c,this.round(0)}return n(e,[{key:"round",value:function(t){var e=this.tree.add(t),n=this.tree.prev(e);if(null!==n&&0===v(e.key,n.key))return this.tree.remove(t),n.key;var r=this.tree.next(e);return null!==r&&0===v(e.key,r.key)?(this.tree.remove(t),r.key):t}}]),e}(),_=new b,P=function(t,e){return t.x*e.y-t.y*e.x},w=function(t,e){return t.x*e.x+t.y*e.y},E=function(t,e,n){var r={x:e.x-t.x,y:e.y-t.y},o={x:n.x-t.x,y:n.y-t.y},i=P(r,o);return v(i,0)},x=function(t){return Math.sqrt(w(t,t))},O=function(t,e,n){var r={x:e.x-t.x,y:e.y-t.y},o={x:n.x-t.x,y:n.y-t.y};return w(o,r)/x(o)/x(r)},C=function(t,e,n){return 0===e.y?null:{x:t.x+e.x/e.y*(n-t.y),y:n}},S=function(t,e,n){return 0===e.x?null:{x:n,y:t.y+e.y/e.x*(n-t.x)}},M=function(){function e(n,r){t(this,e),void 0===n.events?n.events=[this]:n.events.push(this),this.point=n,this.isLeft=r}return n(e,null,[{key:"compare",value:function(t,n){var r=e.comparePoints(t.point,n.point);return 0!==r?r:(t.point!==n.point&&t.link(n),t.isLeft!==n.isLeft?t.isLeft?1:-1:N.compare(t.segment,n.segment))}},{key:"comparePoints",value:function(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}}]),n(e,[{key:"link",value:function(t){if(t.point===this.point)throw new Error("Tried to link already linked events");for(var e=t.point.events,n=0,r=e.length;n<r;n++){var o=e[n];this.point.events.push(o),o.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var t=this.point.events.length,e=0;e<t;e++){var n=this.point.events[e];if(void 0===n.segment.consumedBy)for(var r=e+1;r<t;r++){var o=this.point.events[r];void 0===o.consumedBy&&n.otherSE.point.events===o.otherSE.point.events&&n.segment.consume(o.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var t=[],e=0,n=this.point.events.length;e<n;e++){var r=this.point.events[e];r!==this&&!r.segment.ringOut&&r.segment.isInResult()&&t.push(r)}return t}},{key:"getLeftmostComparator",value:function(t){var e=this,n=new Map,r=function(r){var o,i,s,a,u,c=r.otherSE;n.set(r,{sine:(o=e.point,i=t.point,s=c.point,a={x:i.x-o.x,y:i.y-o.y},u={x:s.x-o.x,y:s.y-o.y},P(u,a)/x(u)/x(a)),cosine:O(e.point,t.point,c.point)})};return function(t,e){n.has(t)||r(t),n.has(e)||r(e);var o=n.get(t),i=o.sine,s=o.cosine,a=n.get(e),u=a.sine,c=a.cosine;return i>=0&&u>=0?s<c?1:s>c?-1:0:i<0&&u<0?s<c?-1:s>c?1:0:u<i?-1:u>i?1:0}}}]),e}(),j=0,N=function(){function e(n,r,o,i){t(this,e),this.id=++j,this.leftSE=n,n.segment=this,n.otherSE=r,this.rightSE=r,r.segment=this,r.otherSE=n,this.rings=o,this.windings=i}return n(e,null,[{key:"compare",value:function(t,e){var n=t.leftSE.point.x,r=e.leftSE.point.x,o=t.rightSE.point.x,i=e.rightSE.point.x;if(i<n)return 1;if(o<r)return-1;var s=t.leftSE.point.y,a=e.leftSE.point.y,u=t.rightSE.point.y,c=e.rightSE.point.y;if(n<r){if(a<s&&a<u)return 1;if(a>s&&a>u)return-1;var l=t.comparePoint(e.leftSE.point);if(l<0)return 1;if(l>0)return-1;var p=e.comparePoint(t.rightSE.point);return 0!==p?p:-1}if(n>r){if(s<a&&s<c)return-1;if(s>a&&s>c)return 1;var f=e.comparePoint(t.leftSE.point);if(0!==f)return f;var h=t.comparePoint(e.rightSE.point);return h<0?1:h>0?-1:1}if(s<a)return-1;if(s>a)return 1;if(o<i){var d=e.comparePoint(t.rightSE.point);if(0!==d)return d}if(o>i){var y=t.comparePoint(e.rightSE.point);if(y<0)return 1;if(y>0)return-1}if(o!==i){var g=u-s,v=o-n,b=c-a,m=i-r;if(g>v&&b<m)return 1;if(g<v&&b>m)return-1}return o>i?1:o<i||u<c?-1:u>c?1:t.id<e.id?-1:t.id>e.id?1:0}}]),n(e,[{key:"replaceRightSE",value:function(t){this.rightSE=t,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var t=this.leftSE.point.y,e=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:t<e?t:e},ur:{x:this.rightSE.point.x,y:t>e?t:e}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(t){return t.x===this.leftSE.point.x&&t.y===this.leftSE.point.y||t.x===this.rightSE.point.x&&t.y===this.rightSE.point.y}},{key:"comparePoint",value:function(t){if(this.isAnEndpoint(t))return 0;var e=this.leftSE.point,n=this.rightSE.point,r=this.vector();if(e.x===n.x)return t.x===e.x?0:t.x<e.x?1:-1;var o=(t.y-e.y)/r.y,i=e.x+o*r.x;if(t.x===i)return 0;var s=(t.x-e.x)/r.x,a=e.y+s*r.y;return t.y===a?0:t.y<a?-1:1}},{key:"getIntersection",value:function(t){var e=this.bbox(),n=t.bbox(),r=d(e,n);if(null===r)return null;var o=this.leftSE.point,i=this.rightSE.point,s=t.leftSE.point,a=t.rightSE.point,u=h(e,s)&&0===this.comparePoint(s),c=h(n,o)&&0===t.comparePoint(o),l=h(e,a)&&0===this.comparePoint(a),p=h(n,i)&&0===t.comparePoint(i);if(c&&u)return p&&!l?i:!p&&l?a:null;if(c)return l&&o.x===a.x&&o.y===a.y?null:o;if(u)return p&&i.x===s.x&&i.y===s.y?null:s;if(p&&l)return null;if(p)return i;if(l)return a;var f=function(t,e,n,r){if(0===e.x)return S(n,r,t.x);if(0===r.x)return S(t,e,n.x);if(0===e.y)return C(n,r,t.y);if(0===r.y)return C(t,e,n.y);var o=P(e,r);if(0==o)return null;var i={x:n.x-t.x,y:n.y-t.y},s=P(i,e)/o,a=P(i,r)/o;return{x:(t.x+a*e.x+(n.x+s*r.x))/2,y:(t.y+a*e.y+(n.y+s*r.y))/2}}(o,this.vector(),s,t.vector());return null===f?null:h(r,f)?_.round(f.x,f.y):null}},{key:"split",value:function(t){var n=[],r=void 0!==t.events,o=new M(t,!0),i=new M(t,!1),s=this.rightSE;this.replaceRightSE(i),n.push(i),n.push(o);var a=new e(o,s,this.rings.slice(),this.windings.slice());return M.comparePoints(a.leftSE.point,a.rightSE.point)>0&&a.swapEvents(),M.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),r&&(o.checkForConsuming(),i.checkForConsuming()),n}},{key:"swapEvents",value:function(){var t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var e=0,n=this.windings.length;e<n;e++)this.windings[e]*=-1}},{key:"consume",value:function(t){for(var n=this,r=t;n.consumedBy;)n=n.consumedBy;for(;r.consumedBy;)r=r.consumedBy;var o=e.compare(n,r);if(0!==o){if(o>0){var i=n;n=r,r=i}if(n.prev===r){var s=n;n=r,r=s}for(var a=0,u=r.rings.length;a<u;a++){var c=r.rings[a],l=r.windings[a],p=n.rings.indexOf(c);-1===p?(n.rings.push(c),n.windings.push(l)):n.windings[p]+=l}r.rings=null,r.windings=null,r.consumedBy=n,r.leftSE.consumedBy=n.leftSE,r.rightSE.consumedBy=n.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){var t=this.prev.consumedBy||this.prev;this._beforeState=t.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var t=this.beforeState();this._afterState={rings:t.rings.slice(0),windings:t.windings.slice(0),multiPolys:[]};for(var e=this._afterState.rings,n=this._afterState.windings,r=this._afterState.multiPolys,o=0,i=this.rings.length;o<i;o++){var s=this.rings[o],a=this.windings[o],u=e.indexOf(s);-1===u?(e.push(s),n.push(a)):n[u]+=a}for(var c=[],l=[],p=0,f=e.length;p<f;p++)if(0!==n[p]){var h=e[p],d=h.poly;if(-1===l.indexOf(d))if(h.isExterior)c.push(d);else{-1===l.indexOf(d)&&l.push(d);var y=c.indexOf(h.poly);-1!==y&&c.splice(y,1)}}for(var g=0,v=c.length;g<v;g++){var b=c[g].multiPoly;-1===r.indexOf(b)&&r.push(b)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var t=this.beforeState().multiPolys,e=this.afterState().multiPolys;switch(V.type){case"union":var n=0===t.length,r=0===e.length;this._isInResult=n!==r;break;case"intersection":var o,i;t.length<e.length?(o=t.length,i=e.length):(o=e.length,i=t.length),this._isInResult=i===V.numMultiPolys&&o<i;break;case"xor":var s=Math.abs(t.length-e.length);this._isInResult=s%2==1;break;case"difference":var a=function(t){return 1===t.length&&t[0].isSubject};this._isInResult=a(t)!==a(e);break;default:throw new Error("Unrecognized operation type found ".concat(V.type))}return this._isInResult}}],[{key:"fromRing",value:function(t,n,r){var o,i,s,a=M.comparePoints(t,n);if(a<0)o=t,i=n,s=1;else{if(!(a>0))throw new Error("Tried to create degenerate segment at [".concat(t.x,", ").concat(t.y,"]"));o=n,i=t,s=-1}return new e(new M(o,!0),new M(i,!1),[r],[s])}}]),e}(),I=function(){function e(n,r,o){if(t(this,e),!Array.isArray(n)||0===n.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=r,this.isExterior=o,this.segments=[],"number"!=typeof n[0][0]||"number"!=typeof n[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var i=_.round(n[0][0],n[0][1]);this.bbox={ll:{x:i.x,y:i.y},ur:{x:i.x,y:i.y}};for(var s=i,a=1,u=n.length;a<u;a++){if("number"!=typeof n[a][0]||"number"!=typeof n[a][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var c=_.round(n[a][0],n[a][1]);c.x===s.x&&c.y===s.y||(this.segments.push(N.fromRing(s,c,this)),c.x<this.bbox.ll.x&&(this.bbox.ll.x=c.x),c.y<this.bbox.ll.y&&(this.bbox.ll.y=c.y),c.x>this.bbox.ur.x&&(this.bbox.ur.x=c.x),c.y>this.bbox.ur.y&&(this.bbox.ur.y=c.y),s=c)}i.x===s.x&&i.y===s.y||this.segments.push(N.fromRing(s,i,this))}return n(e,[{key:"getSweepEvents",value:function(){for(var t=[],e=0,n=this.segments.length;e<n;e++){var r=this.segments[e];t.push(r.leftSE),t.push(r.rightSE)}return t}}]),e}(),T=function(){function e(n,r){if(t(this,e),!Array.isArray(n))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new I(n[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var o=1,i=n.length;o<i;o++){var s=new I(n[o],this,!1);s.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=s.bbox.ll.x),s.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=s.bbox.ll.y),s.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=s.bbox.ur.x),s.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=s.bbox.ur.y),this.interiorRings.push(s)}this.multiPoly=r}return n(e,[{key:"getSweepEvents",value:function(){for(var t=this.exteriorRing.getSweepEvents(),e=0,n=this.interiorRings.length;e<n;e++)for(var r=this.interiorRings[e].getSweepEvents(),o=0,i=r.length;o<i;o++)t.push(r[o]);return t}}]),e}(),A=function(){function e(n,r){if(t(this,e),!Array.isArray(n))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof n[0][0][0]&&(n=[n])}catch(t){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var o=0,i=n.length;o<i;o++){var s=new T(n[o],this);s.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=s.bbox.ll.x),s.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=s.bbox.ll.y),s.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=s.bbox.ur.x),s.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=s.bbox.ur.y),this.polys.push(s)}this.isSubject=r}return n(e,[{key:"getSweepEvents",value:function(){for(var t=[],e=0,n=this.polys.length;e<n;e++)for(var r=this.polys[e].getSweepEvents(),o=0,i=r.length;o<i;o++)t.push(r[o]);return t}}]),e}(),D=function(){function e(n){t(this,e),this.events=n;for(var r=0,o=n.length;r<o;r++)n[r].segment.ringOut=this;this.poly=null}return n(e,null,[{key:"factory",value:function(t){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];if(i.isInResult()&&!i.ringOut){for(var s=null,a=i.leftSE,u=i.rightSE,c=[a],l=a.point,p=[];s=a,a=u,c.push(a),a.point!==l;)for(;;){var f=a.getAvailableLinkedEvents();if(0===f.length){var h=c[0].point,d=c[c.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(h.x,",")+" ".concat(h.y,"]. Last matching segment found ends at")+" [".concat(d.x,", ").concat(d.y,"]."))}if(1===f.length){u=f[0].otherSE;break}for(var y=null,g=0,v=p.length;g<v;g++)if(p[g].point===a.point){y=g;break}if(null===y){p.push({index:c.length,point:a.point});var b=a.getLeftmostComparator(s);u=f.sort(b)[0].otherSE;break}var m=p.splice(y)[0],_=c.splice(m.index);_.unshift(_[0].otherSE),n.push(new e(_.reverse()))}n.push(new e(c))}}return n}}]),n(e,[{key:"getGeom",value:function(){for(var t=this.events[0].point,e=[t],n=1,r=this.events.length-1;n<r;n++){var o=this.events[n].point,i=this.events[n+1].point;0!==E(o,t,i)&&(e.push(o),t=o)}if(1===e.length)return null;var s=e[0],a=e[1];0===E(s,t,a)&&e.shift(),e.push(e[0]);for(var u=this.isExteriorRing()?1:-1,c=this.isExteriorRing()?0:e.length-1,l=this.isExteriorRing()?e.length:-1,p=[],f=c;f!=l;f+=u)p.push([e[f].x,e[f].y]);return p}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var t=this.enclosingRing();this._isExteriorRing=!t||!t.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var t=this.events[0],e=1,n=this.events.length;e<n;e++){var r=this.events[e];M.compare(t,r)>0&&(t=r)}for(var o=t.segment.prevInResult(),i=o?o.prevInResult():null;;){if(!o)return null;if(!i)return o.ringOut;if(i.ringOut!==o.ringOut)return i.ringOut.enclosingRing()!==o.ringOut?o.ringOut:o.ringOut.enclosingRing();o=i.prevInResult(),i=o?o.prevInResult():null}}}]),e}(),R=function(){function e(n){t(this,e),this.exteriorRing=n,n.poly=this,this.interiorRings=[]}return n(e,[{key:"addInterior",value:function(t){this.interiorRings.push(t),t.poly=this}},{key:"getGeom",value:function(){var t=[this.exteriorRing.getGeom()];if(null===t[0])return null;for(var e=0,n=this.interiorRings.length;e<n;e++){var r=this.interiorRings[e].getGeom();null!==r&&t.push(r)}return t}}]),e}(),k=function(){function e(n){t(this,e),this.rings=n,this.polys=this._composePolys(n)}return n(e,[{key:"getGeom",value:function(){for(var t=[],e=0,n=this.polys.length;e<n;e++){var r=this.polys[e].getGeom();null!==r&&t.push(r)}return t}},{key:"_composePolys",value:function(t){for(var e=[],n=0,r=t.length;n<r;n++){var o=t[n];if(!o.poly)if(o.isExteriorRing())e.push(new R(o));else{var i=o.enclosingRing();i.poly||e.push(new R(i)),i.poly.addInterior(o)}}return e}}]),e}(),L=function(){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N.compare;t(this,e),this.queue=n,this.tree=new c(r),this.segments=[]}return n(e,[{key:"process",value:function(t){var e=t.segment,n=[];if(t.consumedBy)return t.isLeft?this.queue.remove(t.otherSE):this.tree.remove(e),n;var r=t.isLeft?this.tree.insert(e):this.tree.find(e);if(!r)throw new Error("Unable to find segment #".concat(e.id," ")+"[".concat(e.leftSE.point.x,", ").concat(e.leftSE.point.y,"] -> ")+"[".concat(e.rightSE.point.x,", ").concat(e.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var o=r,i=r,s=void 0,a=void 0;void 0===s;)null===(o=this.tree.prev(o))?s=null:void 0===o.key.consumedBy&&(s=o.key);for(;void 0===a;)null===(i=this.tree.next(i))?a=null:void 0===i.key.consumedBy&&(a=i.key);if(t.isLeft){var u=null;if(s){var c=s.getIntersection(e);if(null!==c&&(e.isAnEndpoint(c)||(u=c),!s.isAnEndpoint(c)))for(var l=this._splitSafely(s,c),p=0,f=l.length;p<f;p++)n.push(l[p])}var h=null;if(a){var d=a.getIntersection(e);if(null!==d&&(e.isAnEndpoint(d)||(h=d),!a.isAnEndpoint(d)))for(var y=this._splitSafely(a,d),g=0,v=y.length;g<v;g++)n.push(y[g])}if(null!==u||null!==h){var b;b=null===u?h:null===h||M.comparePoints(u,h)<=0?u:h,this.queue.remove(e.rightSE),n.push(e.rightSE);for(var m=e.split(b),_=0,P=m.length;_<P;_++)n.push(m[_])}n.length>0?(this.tree.remove(e),n.push(t)):(this.segments.push(e),e.prev=s)}else{if(s&&a){var w=s.getIntersection(a);if(null!==w){if(!s.isAnEndpoint(w))for(var E=this._splitSafely(s,w),x=0,O=E.length;x<O;x++)n.push(E[x]);if(!a.isAnEndpoint(w))for(var C=this._splitSafely(a,w),S=0,j=C.length;S<j;S++)n.push(C[S])}}this.tree.remove(e)}return n}},{key:"_splitSafely",value:function(t,e){this.tree.remove(t);var n=t.rightSE;this.queue.remove(n);var r=t.split(e);return r.push(n),void 0===t.consumedBy&&this.tree.insert(t),r}}]),e}(),G="undefined"!=typeof process&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,F="undefined"!=typeof process&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,V=new(function(){function e(){t(this,e)}return n(e,[{key:"run",value:function(t,e,n){V.type=t,_.reset();for(var r=[new A(e,!0)],o=0,i=n.length;o<i;o++)r.push(new A(n[o],!1));if(V.numMultiPolys=r.length,"difference"===V.type)for(var s=r[0],a=1;a<r.length;)null!==d(r[a].bbox,s.bbox)?a++:r.splice(a,1);if("intersection"===V.type)for(var u=0,l=r.length;u<l;u++)for(var p=r[u],f=u+1,h=r.length;f<h;f++)if(null===d(p.bbox,r[f].bbox))return[];for(var y=new c(M.compare),g=0,v=r.length;g<v;g++)for(var b=r[g].getSweepEvents(),m=0,P=b.length;m<P;m++)if(y.insert(b[m]),y.size>G)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var w=new L(y),E=y.size,x=y.pop();x;){var O=x.key;if(y.size===E){var C=O.segment;throw new Error("Unable to pop() ".concat(O.isLeft?"left":"right"," SweepEvent ")+"[".concat(O.point.x,", ").concat(O.point.y,"] from segment #").concat(C.id," ")+"[".concat(C.leftSE.point.x,", ").concat(C.leftSE.point.y,"] -> ")+"[".concat(C.rightSE.point.x,", ").concat(C.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(y.size>G)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(w.segments.length>F)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var S=w.process(O),j=0,N=S.length;j<N;j++){var I=S[j];void 0===I.consumedBy&&y.insert(I)}E=y.size,x=y.pop()}_.reset();var T=D.factory(w.segments);return new k(T).getGeom()}}]),e}());return{union:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return V.run("union",t,n)},intersection:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return V.run("intersection",t,n)},xor:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return V.run("xor",t,n)},difference:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return V.run("difference",t,n)}}}()},24472:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Fe});var r=6378137,o=.0066943799901413165,i=484813681109536e-20,s=Math.PI/2,a=1e-10,u=.017453292519943295,c=57.29577951308232,l=Math.PI/4,p=2*Math.PI,f=3.14159265359,h={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667};const d={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var y=/[\s_\-\/\(\)]/g;function g(t,e){if(t[e])return t[e];for(var n,r=Object.keys(t),o=e.toLowerCase().replace(y,""),i=-1;++i<r.length;)if((n=r[i]).toLowerCase().replace(y,"")===o)return t[n]}function v(t){var e,n,r,o={},i=t.split("+").map((function(t){return t.trim()})).filter((function(t){return t})).reduce((function(t,e){var n=e.split("=");return n.push(!0),t[n[0].toLowerCase()]=n[1],t}),{}),s={proj:"projName",datum:"datumCode",rf:function(t){o.rf=parseFloat(t)},lat_0:function(t){o.lat0=t*u},lat_1:function(t){o.lat1=t*u},lat_2:function(t){o.lat2=t*u},lat_ts:function(t){o.lat_ts=t*u},lon_0:function(t){o.long0=t*u},lon_1:function(t){o.long1=t*u},lon_2:function(t){o.long2=t*u},alpha:function(t){o.alpha=parseFloat(t)*u},gamma:function(t){o.rectified_grid_angle=parseFloat(t)},lonc:function(t){o.longc=t*u},x_0:function(t){o.x0=parseFloat(t)},y_0:function(t){o.y0=parseFloat(t)},k_0:function(t){o.k0=parseFloat(t)},k:function(t){o.k0=parseFloat(t)},a:function(t){o.a=parseFloat(t)},b:function(t){o.b=parseFloat(t)},r_a:function(){o.R_A=!0},zone:function(t){o.zone=parseInt(t,10)},south:function(){o.utmSouth=!0},towgs84:function(t){o.datum_params=t.split(",").map((function(t){return parseFloat(t)}))},to_meter:function(t){o.to_meter=parseFloat(t)},units:function(t){o.units=t;var e=g(d,t);e&&(o.to_meter=e.to_meter)},from_greenwich:function(t){o.from_greenwich=t*u},pm:function(t){var e=g(h,t);o.from_greenwich=(e||parseFloat(t))*u},nadgrids:function(t){"@null"===t?o.datumCode="none":o.nadgrids=t},axis:function(t){var e="ewnsud";3===t.length&&-1!==e.indexOf(t.substr(0,1))&&-1!==e.indexOf(t.substr(1,1))&&-1!==e.indexOf(t.substr(2,1))&&(o.axis=t)},approx:function(){o.approx=!0}};for(e in i)n=i[e],e in s?"function"==typeof(r=s[e])?r(n):o[r]=n:o[e]=n;return"string"==typeof o.datumCode&&"WGS84"!==o.datumCode&&(o.datumCode=o.datumCode.toLowerCase()),o}var b=/\s/,m=/[A-Za-z]/,_=/[A-Za-z84_]/,P=/[,\]]/,w=/[\d\.E\-\+]/;function E(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=1}function x(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var r=e?{}:t,o=n.reduce((function(t,e){return O(e,t),t}),r);e&&(t[e]=o)}function O(t,e){if(Array.isArray(t)){var n=t.shift();if("PARAMETER"===n&&(n=t.shift()),1===t.length)return Array.isArray(t[0])?(e[n]={},void O(t[0],e[n])):void(e[n]=t[0]);if(t.length)if("TOWGS84"!==n){if("AXIS"===n)return n in e||(e[n]=[]),void e[n].push(t);var r;switch(Array.isArray(n)||(e[n]={}),n){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[n]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&O(t[2],e[n]));case"SPHEROID":case"ELLIPSOID":return e[n]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&O(t[3],e[n]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void x(e,n,t);default:for(r=-1;++r<t.length;)if(!Array.isArray(t[r]))return O(t,e[n]);return x(e,n,t)}}else e[n]=t;else e[n]=!0}else e[t]=!0}function C(t){return.017453292519943295*t}function S(t){var e=new E(t).output(),n=e.shift(),r=e.shift();e.unshift(["name",r]),e.unshift(["type",n]);var o={};return O(e,o),function(t){if("GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var e="",n=0,r=t.AXIS.length;n<r;++n){var o=[t.AXIS[n][0].toLowerCase(),t.AXIS[n][1].toLowerCase()];-1!==o[0].indexOf("north")||("y"===o[0]||"lat"===o[0])&&"north"===o[1]?e+="n":-1!==o[0].indexOf("south")||("y"===o[0]||"lat"===o[0])&&"south"===o[1]?e+="s":-1!==o[0].indexOf("east")||("x"===o[0]||"lon"===o[0])&&"east"===o[1]?e+="e":-1===o[0].indexOf("west")&&("x"!==o[0]&&"lon"!==o[0]||"west"!==o[1])||(e+="w")}2===e.length&&(e+="u"),3===e.length&&(t.axis=e)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var i=t.GEOGCS;function s(e){return e*(t.to_meter||1)}"GEOGCS"===t.type&&(i=t),i&&(i.DATUM?t.datumCode=i.DATUM.name.toLowerCase():t.datumCode=i.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"!==t.datumCode&&"world_geodetic_system_1984"!==t.datumCode||("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),i.DATUM&&i.DATUM.SPHEROID&&(t.ellps=i.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=i.DATUM.SPHEROID.a,t.rf=parseFloat(i.DATUM.SPHEROID.rf,10)),i.DATUM&&i.DATUM.TOWGS84&&(t.datum_params=i.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",C],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",C],["x0","false_easting",s],["y0","false_northing",s],["long0","central_meridian",C],["lat0","latitude_of_origin",C],["lat0","standard_parallel_1",C],["lat1","standard_parallel_1",C],["lat2","standard_parallel_2",C],["azimuth","Azimuth"],["alpha","azimuth",C],["srsCode","name"]].forEach((function(e){return function(t,e){var n=e[0],r=e[1];!(n in t)&&r in t&&(t[n]=t[r],3===e.length&&(t[n]=e[2](t[n])))}(t,e)})),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=C(t.lat1>0?90:-90),t.lat_ts=t.lat1)}(o),o}function M(t){var e=this;if(2===arguments.length){var n=arguments[1];"string"==typeof n?"+"===n.charAt(0)?M[t]=v(arguments[1]):M[t]=S(arguments[1]):M[t]=n}else if(1===arguments.length){if(Array.isArray(t))return t.map((function(t){Array.isArray(t)?M.apply(e,t):M(t)}));if("string"==typeof t){if(t in M)return M[t]}else"EPSG"in t?M["EPSG:"+t.EPSG]=t:"ESRI"in t?M["ESRI:"+t.ESRI]=t:"IAU2000"in t?M["IAU2000:"+t.IAU2000]=t:console.log(t);return}}E.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;b.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case 1:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},E.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(P.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},E.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=1)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=1,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},E.prototype.number=function(t){if(!w.test(t)){if(P.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},E.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},E.prototype.keyword=function(t){if(_.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=1)}if(!P.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},E.prototype.neutral=function(t){if(m.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(w.test(t))return this.word=t,void(this.state=3);if(!P.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},E.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)},function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(M);const j=M;var N=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],I=["3857","900913","3785","102113"];function T(t,e){var n,r;if(t=t||{},!e)return t;for(r in e)void 0!==(n=e[r])&&(t[r]=n);return t}function A(t,e,n){var r=t*e;return n/Math.sqrt(1-r*r)}function D(t){return t<0?-1:1}function R(t){return Math.abs(t)<=f?t:t-D(t)*p}function k(t,e,n){var r=t*n,o=.5*t;return r=Math.pow((1-r)/(1+r),o),Math.tan(.5*(s-e))/r}function L(t,e){for(var n,r,o=.5*t,i=s-2*Math.atan(e),a=0;a<=15;a++)if(n=t*Math.sin(i),i+=r=s-2*Math.atan(e*Math.pow((1-n)/(1+n),o))-i,Math.abs(r)<=1e-10)return i;return-9999}function G(t){return t}var F=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=A(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(t){var e,n,r=t.x,o=t.y;if(o*c>90&&o*c<-90&&r*c>180&&r*c<-180)return null;if(Math.abs(Math.abs(o)-s)<=a)return null;if(this.sphere)e=this.x0+this.a*this.k0*R(r-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(l+.5*o));else{var i=Math.sin(o),u=k(this.e,o,i);e=this.x0+this.a*this.k0*R(r-this.long0),n=this.y0-this.a*this.k0*Math.log(u)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,r=t.x-this.x0,o=t.y-this.y0;if(this.sphere)n=s-2*Math.atan(Math.exp(-o/(this.a*this.k0)));else{var i=Math.exp(-o/(this.a*this.k0));if(-9999===(n=L(this.e,i)))return null}return e=R(this.long0+r/(this.a*this.k0)),t.x=e,t.y=n,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:G,inverse:G,names:["longlat","identity"]}],V={},B=[];function z(t,e){var n=B.length;return t.names?(B[n]=t,t.names.forEach((function(t){V[t.toLowerCase()]=n})),this):(console.log(e),!0)}const U={start:function(){F.forEach(z)},add:z,get:function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==V[e]&&B[V[e]]?B[V[e]]:void 0}};var q={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},W=q.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};q.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var J={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}};var X={};function Y(t){if(0===t.length)return null;var e="@"===t[0];return e&&(t=t.slice(1)),"null"===t?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:X[t]||null,isNull:!1}}function H(t){return t/3600*Math.PI/180}function Z(t,e,n){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,n)))}function Q(t){return t.map((function(t){return[H(t.longitudeShift),H(t.latitudeShift)]}))}function $(t,e,n){return{name:Z(t,e+8,e+16).trim(),parent:Z(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,n),upperLatitude:t.getFloat64(e+88,n),lowerLongitude:t.getFloat64(e+104,n),upperLongitude:t.getFloat64(e+120,n),latitudeInterval:t.getFloat64(e+136,n),longitudeInterval:t.getFloat64(e+152,n),gridNodeCount:t.getInt32(e+168,n)}}function K(t,e,n,r){for(var o=e+176,i=[],s=0;s<n.gridNodeCount;s++){var a={latitudeShift:t.getFloat32(o+16*s,r),longitudeShift:t.getFloat32(o+16*s+4,r),latitudeAccuracy:t.getFloat32(o+16*s+8,r),longitudeAccuracy:t.getFloat32(o+16*s+12,r)};i.push(a)}return i}function tt(t,e){if(!(this instanceof tt))return new tt(t);e=e||function(t){if(t)throw t};var n=function(t){if(!function(t){return"string"==typeof t}(t))return t;if(function(t){return t in j}(t))return j[t];if(function(t){return N.some((function(e){return t.indexOf(e)>-1}))}(t)){var e=S(t);if(function(t){var e=g(t,"authority");if(e){var n=g(e,"epsg");return n&&I.indexOf(n)>-1}}(e))return j["EPSG:3857"];var n=function(t){var e=g(t,"extension");if(e)return g(e,"proj4")}(e);return n?v(n):e}return function(t){return"+"===t[0]}(t)?v(t):void 0}(t);if("object"==typeof n){var r=tt.projections.get(n.projName);if(r){if(n.datumCode&&"none"!==n.datumCode){var o=g(J,n.datumCode);o&&(n.datum_params=n.datum_params||(o.towgs84?o.towgs84.split(","):null),n.ellps=o.ellipse,n.datumName=o.datumName?o.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var s,u,c,l,p,f,h=function(t,e,n,r,o){if(!t){var i=g(q,r);i||(i=W),t=i.a,e=i.b,n=i.rf}return n&&!e&&(e=(1-1/n)*t),(0===n||Math.abs(t-e)<a)&&(o=!0,e=t),{a:t,b:e,rf:n,sphere:o}}(n.a,n.b,n.rf,n.ellps,n.sphere),d=(s=h.a,u=h.b,h.rf,p=((c=s*s)-(l=u*u))/c,f=0,n.R_A?(c=(s*=1-p*(.16666666666666666+p*(.04722222222222222+.022156084656084655*p)))*s,p=0):f=Math.sqrt(p),{es:p,e:f,ep2:(c-l)/l}),y=function(t){return void 0===t?null:t.split(",").map(Y)}(n.nadgrids),b=n.datum||function(t,e,n,r,o,s,a){var u={};return u.datum_type=void 0===t||"none"===t?5:4,e&&(u.datum_params=e.map(parseFloat),0===u.datum_params[0]&&0===u.datum_params[1]&&0===u.datum_params[2]||(u.datum_type=1),u.datum_params.length>3&&(0===u.datum_params[3]&&0===u.datum_params[4]&&0===u.datum_params[5]&&0===u.datum_params[6]||(u.datum_type=2,u.datum_params[3]*=i,u.datum_params[4]*=i,u.datum_params[5]*=i,u.datum_params[6]=u.datum_params[6]/1e6+1))),a&&(u.datum_type=3,u.grids=a),u.a=n,u.b=r,u.es=o,u.ep2=s,u}(n.datumCode,n.datum_params,h.a,h.b,d.es,d.ep2,y);T(this,n),T(this,r),this.a=h.a,this.b=h.b,this.rf=h.rf,this.sphere=h.sphere,this.es=d.es,this.e=d.e,this.ep2=d.ep2,this.datum=b,this.init(),e(null,this)}else e(t)}else e(t)}tt.projections=U,tt.projections.start();const et=tt;function nt(t,e,n){var r,o,i,a,u=t.x,c=t.y,l=t.z?t.z:0;if(c<-s&&c>-1.001*s)c=-s;else if(c>s&&c<1.001*s)c=s;else{if(c<-s)return{x:-1/0,y:-1/0,z:t.z};if(c>s)return{x:1/0,y:1/0,z:t.z}}return u>Math.PI&&(u-=2*Math.PI),o=Math.sin(c),a=Math.cos(c),i=o*o,{x:((r=n/Math.sqrt(1-e*i))+l)*a*Math.cos(u),y:(r+l)*a*Math.sin(u),z:(r*(1-e)+l)*o}}function rt(t,e,n,r){var o,i,s,a,u,c,l,p,f,h,d,y,g,v,b,m=t.x,_=t.y,P=t.z?t.z:0;if(o=Math.sqrt(m*m+_*_),i=Math.sqrt(m*m+_*_+P*P),o/n<1e-12){if(v=0,i/n<1e-12)return b=-r,{x:t.x,y:t.y,z:t.z}}else v=Math.atan2(_,m);s=P/i,p=(a=o/i)*(1-e)*(u=1/Math.sqrt(1-e*(2-e)*a*a)),f=s*u,g=0;do{g++,c=e*(l=n/Math.sqrt(1-e*f*f))/(l+(b=o*p+P*f-l*(1-e*f*f))),y=(d=s*(u=1/Math.sqrt(1-c*(2-c)*a*a)))*p-(h=a*(1-c)*u)*f,p=h,f=d}while(y*y>1e-24&&g<30);return{x:v,y:Math.atan(d/Math.abs(h)),z:b}}function ot(t){return 1===t||2===t}function it(t,e,n){if(null===t.grids||0===t.grids.length)return console.log("Grid shift grids not found"),-1;for(var r={x:-n.x,y:n.y},o={x:Number.NaN,y:Number.NaN},i=[],s=0;s<t.grids.length;s++){var a=t.grids[s];if(i.push(a.name),a.isNull){o=r;break}if(a.mandatory,null!==a.grid){var u=a.grid.subgrids[0],l=(Math.abs(u.del[1])+Math.abs(u.del[0]))/1e4,p=u.ll[0]-l,f=u.ll[1]-l,h=u.ll[0]+(u.lim[0]-1)*u.del[0]+l,d=u.ll[1]+(u.lim[1]-1)*u.del[1]+l;if(!(f>r.y||p>r.x||d<r.y||h<r.x||(o=st(r,e,u),isNaN(o.x))))break}else if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1}return isNaN(o.x)?(console.log("Failed to find a grid shift table for location '"+-r.x*c+" "+r.y*c+" tried: '"+i+"'"),-1):(n.x=-o.x,n.y=o.y,0)}function st(t,e,n){var r={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return r;var o={x:t.x,y:t.y};o.x-=n.ll[0],o.y-=n.ll[1],o.x=R(o.x-Math.PI)+Math.PI;var i=at(o,n);if(e){if(isNaN(i.x))return r;i.x=o.x-i.x,i.y=o.y-i.y;var s,a,u=9;do{if(a=at(i,n),isNaN(a.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}s={x:o.x-(a.x+i.x),y:o.y-(a.y+i.y)},i.x+=s.x,i.y+=s.y}while(u--&&Math.abs(s.x)>1e-12&&Math.abs(s.y)>1e-12);if(u<0)return console.log("Inverse grid shift iterator failed to converge."),r;r.x=R(i.x+n.ll[0]),r.y=i.y+n.ll[1]}else isNaN(i.x)||(r.x=t.x+i.x,r.y=t.y+i.y);return r}function at(t,e){var n,r={x:t.x/e.del[0],y:t.y/e.del[1]},o=Math.floor(r.x),i=Math.floor(r.y),s=r.x-1*o,a=r.y-1*i,u={x:Number.NaN,y:Number.NaN};if(o<0||o>=e.lim[0])return u;if(i<0||i>=e.lim[1])return u;n=i*e.lim[0]+o;var c=e.cvs[n][0],l=e.cvs[n][1];n++;var p=e.cvs[n][0],f=e.cvs[n][1];n+=e.lim[0];var h=e.cvs[n][0],d=e.cvs[n][1];n--;var y=e.cvs[n][0],g=e.cvs[n][1],v=s*a,b=s*(1-a),m=(1-s)*(1-a),_=(1-s)*a;return u.x=m*c+b*p+_*y+v*h,u.y=m*l+b*f+_*g+v*d,u}function ut(t,e,n){var r,o,i,s=n.x,a=n.y,u=n.z||0,c={};for(i=0;i<3;i++)if(!e||2!==i||void 0!==n.z)switch(0===i?(r=s,o=-1!=="ew".indexOf(t.axis[i])?"x":"y"):1===i?(r=a,o=-1!=="ns".indexOf(t.axis[i])?"y":"x"):(r=u,o="z"),t.axis[i]){case"e":case"n":c[o]=r;break;case"w":case"s":c[o]=-r;break;case"u":void 0!==n[o]&&(c.z=r);break;case"d":void 0!==n[o]&&(c.z=-r);break;default:return null}return c}function ct(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function lt(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function pt(t,e,n,i){var s,a=void 0!==(n=Array.isArray(n)?ct(n):{x:n.x,y:n.y,z:n.z,m:n.m}).z;if(function(t){lt(t.x),lt(t.y)}(n),t.datum&&e.datum&&function(t,e){return(1===t.datum.datum_type||2===t.datum.datum_type||3===t.datum.datum_type)&&"WGS84"!==e.datumCode||(1===e.datum.datum_type||2===e.datum.datum_type||3===e.datum.datum_type)&&"WGS84"!==t.datumCode}(t,e)&&(n=pt(t,s=new et("WGS84"),n,i),t=s),i&&"enu"!==t.axis&&(n=ut(t,!1,n)),"longlat"===t.projName)n={x:n.x*u,y:n.y*u,z:n.z||0};else if(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter,z:n.z||0}),!(n=t.inverse(n)))return;if(t.from_greenwich&&(n.x+=t.from_greenwich),n=function(t,e,n){if(function(t,e){return t.datum_type===e.datum_type&&!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(1===t.datum_type?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:2!==t.datum_type||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6])}(t,e))return n;if(5===t.datum_type||5===e.datum_type)return n;var i=t.a,s=t.es;if(3===t.datum_type){if(0!==it(t,!1,n))return;i=r,s=o}var a=e.a,u=e.b,c=e.es;return 3===e.datum_type&&(a=r,u=6356752.314,c=o),s!==c||i!==a||ot(t.datum_type)||ot(e.datum_type)?(n=nt(n,s,i),ot(t.datum_type)&&(n=function(t,e,n){if(1===e)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(2===e){var r=n[0],o=n[1],i=n[2],s=n[3],a=n[4],u=n[5],c=n[6];return{x:c*(t.x-u*t.y+a*t.z)+r,y:c*(u*t.x+t.y-s*t.z)+o,z:c*(-a*t.x+s*t.y+t.z)+i}}}(n,t.datum_type,t.datum_params)),ot(e.datum_type)&&(n=function(t,e,n){if(1===e)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(2===e){var r=n[0],o=n[1],i=n[2],s=n[3],a=n[4],u=n[5],c=n[6],l=(t.x-r)/c,p=(t.y-o)/c,f=(t.z-i)/c;return{x:l+u*p-a*f,y:-u*l+p+s*f,z:a*l-s*p+f}}}(n,e.datum_type,e.datum_params)),n=rt(n,c,a,u),3!==e.datum_type||0===it(e,!0,n)?n:void 0):n}(t.datum,e.datum,n))return e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y,z:n.z||0}),"longlat"===e.projName?n={x:n.x*c,y:n.y*c,z:n.z||0}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter,z:n.z||0})),i&&"enu"!==e.axis?ut(e,!0,n):(a||delete n.z,n)}var ft=et("WGS84");function ht(t,e,n,r){var o,i,s;return Array.isArray(n)?(o=pt(t,e,n,r)||{x:NaN,y:NaN},n.length>2?void 0!==t.name&&"geocent"===t.name||void 0!==e.name&&"geocent"===e.name?"number"==typeof o.z?[o.x,o.y,o.z].concat(n.splice(3)):[o.x,o.y,n[2]].concat(n.splice(3)):[o.x,o.y].concat(n.splice(2)):[o.x,o.y]):(i=pt(t,e,n,r),2===(s=Object.keys(n)).length||s.forEach((function(r){if(void 0!==t.name&&"geocent"===t.name||void 0!==e.name&&"geocent"===e.name){if("x"===r||"y"===r||"z"===r)return}else if("x"===r||"y"===r)return;i[r]=n[r]})),i)}function dt(t){return t instanceof et?t:t.oProj?t.oProj:et(t)}const yt=function(t,e,n){t=dt(t);var r,o=!1;return void 0===e?(e=t,t=ft,o=!0):(void 0!==e.x||Array.isArray(e))&&(n=e,e=t,t=ft,o=!0),e=dt(e),n?ht(t,e,n):(r={forward:function(n,r){return ht(t,e,n,r)},inverse:function(n,r){return ht(e,t,n,r)}},o&&(r.oProj=e),r)};var gt="AJSAJS",vt="AFAFAF",bt=65,mt=73,_t=79;const Pt={forward:wt,inverse:function(t){var e=Ct(Mt(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]},toPoint:Et};function wt(t,e){return e=e||5,function(t,e){var n,r,o,i,s,a,u,c,l,p,f,h="00000"+t.easting,d="00000"+t.northing;return t.zoneNumber+t.zoneLetter+(l=t.easting,p=t.northing,f=St(t.zoneNumber),n=Math.floor(l/1e5),r=Math.floor(p/1e5)%20,i=gt.charCodeAt(o=f-1),s=vt.charCodeAt(o),c=!1,(a=i+n-1)>90&&(a=a-90+bt-1,c=!0),(a===mt||i<mt&&a>mt||(a>mt||i<mt)&&c)&&a++,(a===_t||i<_t&&a>_t||(a>_t||i<_t)&&c)&&++a===mt&&a++,a>90&&(a=a-90+bt-1),(u=s+r)>86?(u=u-86+bt-1,c=!0):c=!1,(u===mt||s<mt&&u>mt||(u>mt||s<mt)&&c)&&u++,(u===_t||s<_t&&u>_t||(u>_t||s<_t)&&c)&&++u===mt&&u++,u>86&&(u=u-86+bt-1),String.fromCharCode(a)+String.fromCharCode(u))+h.substr(h.length-5,e)+d.substr(d.length-5,e)}(function(t){var e,n,r,o,i,s,a,u=t.lat,c=t.lon,l=6378137,p=.00669438,f=.9996,h=xt(u),d=xt(c);a=Math.floor((c+180)/6)+1,180===c&&(a=60),u>=56&&u<64&&c>=3&&c<12&&(a=32),u>=72&&u<84&&(c>=0&&c<9?a=31:c>=9&&c<21?a=33:c>=21&&c<33?a=35:c>=33&&c<42&&(a=37)),s=xt(6*(a-1)-180+3),e=.006739496752268451,n=l/Math.sqrt(1-p*Math.sin(h)*Math.sin(h)),r=Math.tan(h)*Math.tan(h),o=e*Math.cos(h)*Math.cos(h);var y,g,v=f*n*((i=Math.cos(h)*(d-s))+(1-r+o)*i*i*i/6+(5-18*r+r*r+72*o-58*e)*i*i*i*i*i/120)+5e5,b=f*(l*(.9983242984503243*h-.002514607064228144*Math.sin(2*h)+2639046602129982e-21*Math.sin(4*h)-3.418046101696858e-9*Math.sin(6*h))+n*Math.tan(h)*(i*i/2+(5-r+9*o+4*o*o)*i*i*i*i/24+(61-58*r+r*r+600*o-2.2240339282485886)*i*i*i*i*i*i/720));return u<0&&(b+=1e7),{northing:Math.round(b),easting:Math.round(v),zoneNumber:a,zoneLetter:(y=u,g="Z",84>=y&&y>=72?g="X":72>y&&y>=64?g="W":64>y&&y>=56?g="V":56>y&&y>=48?g="U":48>y&&y>=40?g="T":40>y&&y>=32?g="S":32>y&&y>=24?g="R":24>y&&y>=16?g="Q":16>y&&y>=8?g="P":8>y&&y>=0?g="N":0>y&&y>=-8?g="M":-8>y&&y>=-16?g="L":-16>y&&y>=-24?g="K":-24>y&&y>=-32?g="J":-32>y&&y>=-40?g="H":-40>y&&y>=-48?g="G":-48>y&&y>=-56?g="F":-56>y&&y>=-64?g="E":-64>y&&y>=-72?g="D":-72>y&&y>=-80&&(g="C"),g)}}({lat:t[1],lon:t[0]}),e)}function Et(t){var e=Ct(Mt(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function xt(t){return t*(Math.PI/180)}function Ot(t){return t/Math.PI*180}function Ct(t){var e=t.northing,n=t.easting,r=t.zoneLetter,o=t.zoneNumber;if(o<0||o>60)return null;var i,s,a,u,c,l,p,f,h,d=.9996,y=6378137,g=.00669438,v=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),b=n-5e5,m=e;r<"N"&&(m-=1e7),p=6*(o-1)-180+3,i=.006739496752268451,h=(f=m/d/6367449.145945056)+(3*v/2-27*v*v*v/32)*Math.sin(2*f)+(21*v*v/16-55*v*v*v*v/32)*Math.sin(4*f)+151*v*v*v/96*Math.sin(6*f),s=y/Math.sqrt(1-g*Math.sin(h)*Math.sin(h)),a=Math.tan(h)*Math.tan(h),u=i*Math.cos(h)*Math.cos(h),c=.99330562*y/Math.pow(1-g*Math.sin(h)*Math.sin(h),1.5),l=b/(s*d);var _=h-s*Math.tan(h)/c*(l*l/2-(5+3*a+10*u-4*u*u-9*i)*l*l*l*l/24+(61+90*a+298*u+45*a*a-1.6983531815716497-3*u*u)*l*l*l*l*l*l/720);_=Ot(_);var P,w=(l-(1+2*a+u)*l*l*l/6+(5-2*u+28*a-3*u*u+8*i+24*a*a)*l*l*l*l*l/120)/Math.cos(h);if(w=p+Ot(w),t.accuracy){var E=Ct({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});P={top:E.lat,right:E.lon,bottom:_,left:w}}else P={lat:_,lon:w};return P}function St(t){var e=t%6;return 0===e&&(e=6),e}function Mt(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,n=t.length,r=null,o="",i=0;!/[A-Z]/.test(e=t.charAt(i));){if(i>=2)throw"MGRSPoint bad conversion from: "+t;o+=e,i++}var s=parseInt(o,10);if(0===i||i+3>n)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(i++);if(a<="A"||"B"===a||"Y"===a||a>="Z"||"I"===a||"O"===a)throw"MGRSPoint zone letter "+a+" not handled: "+t;r=t.substring(i,i+=2);for(var u=St(s),c=function(t,e){for(var n=gt.charCodeAt(e-1),r=1e5,o=!1;n!==t.charCodeAt(0);){if(++n===mt&&n++,n===_t&&n++,n>90){if(o)throw"Bad character: "+t;n=bt,o=!0}r+=1e5}return r}(r.charAt(0),u),l=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=vt.charCodeAt(e-1),r=0,o=!1;n!==t.charCodeAt(0);){if(++n===mt&&n++,n===_t&&n++,n>86){if(o)throw"Bad character: "+t;n=bt,o=!0}r+=1e5}return r}(r.charAt(1),u);l<jt(a);)l+=2e6;var p=n-i;if(p%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var f,h,d,y=p/2,g=0,v=0;return y>0&&(f=1e5/Math.pow(10,y),h=t.substring(i,i+y),g=parseFloat(h)*f,d=t.substring(i+y),v=parseFloat(d)*f),{easting:g+c,northing:v+l,zoneLetter:a,zoneNumber:s,accuracy:f}}function jt(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function Nt(t,e,n){if(!(this instanceof Nt))return new Nt(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var r=t.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Nt.fromMGRS=function(t){return new Nt(Et(t))},Nt.prototype.toMGRS=function(t){return wt([this.x,this.y],t)};const It=Nt;var Tt=.046875,At=.01953125,Dt=.01068115234375;function Rt(t){var e=[];e[0]=1-t*(.25+t*(Tt+t*(At+t*Dt))),e[1]=t*(.75-t*(Tt+t*(At+t*Dt)));var n=t*t;return e[2]=n*(.46875-t*(.013020833333333334+.007120768229166667*t)),n*=t,e[3]=n*(.3645833333333333-.005696614583333333*t),e[4]=n*t*.3076171875,e}function kt(t,e,n,r){return n*=e,e*=e,r[0]*t-n*(r[1]+e*(r[2]+e*(r[3]+e*r[4])))}function Lt(t,e,n){for(var r=1/(1-e),o=t,i=20;i;--i){var s=Math.sin(o),u=1-e*s*s;if(o-=u=(kt(o,s,Math.cos(o),n)-t)*(u*Math.sqrt(u))*r,Math.abs(u)<a)return o}return o}const Gt={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Rt(this.es),this.ml0=kt(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var e,n,r,o=t.x,i=t.y,s=R(o-this.long0),u=Math.sin(i),c=Math.cos(i);if(this.es){var l=c*s,p=Math.pow(l,2),f=this.ep2*Math.pow(c,2),h=Math.pow(f,2),d=Math.abs(c)>a?Math.tan(i):0,y=Math.pow(d,2),g=Math.pow(y,2);e=1-this.es*Math.pow(u,2),l/=Math.sqrt(e);var v=kt(i,u,c,this.en);n=this.a*(this.k0*l*(1+p/6*(1-y+f+p/20*(5-18*y+g+14*f-58*y*f+p/42*(61+179*g-g*y-479*y)))))+this.x0,r=this.a*(this.k0*(v-this.ml0+u*s*l/2*(1+p/12*(5-y+9*f+4*h+p/30*(61+g-58*y+270*f-330*y*f+p/56*(1385+543*g-g*y-3111*y))))))+this.y0}else{var b=c*Math.sin(s);if(Math.abs(Math.abs(b)-1)<a)return 93;if(n=.5*this.a*this.k0*Math.log((1+b)/(1-b))+this.x0,r=c*Math.cos(s)/Math.sqrt(1-Math.pow(b,2)),(b=Math.abs(r))>=1){if(b-1>a)return 93;r=0}else r=Math.acos(r);i<0&&(r=-r),r=this.a*this.k0*(r-this.lat0)+this.y0}return t.x=n,t.y=r,t},inverse:function(t){var e,n,r,o,i=(t.x-this.x0)*(1/this.a),u=(t.y-this.y0)*(1/this.a);if(this.es)if(n=Lt(e=this.ml0+u/this.k0,this.es,this.en),Math.abs(n)<s){var c=Math.sin(n),l=Math.cos(n),p=Math.abs(l)>a?Math.tan(n):0,f=this.ep2*Math.pow(l,2),h=Math.pow(f,2),d=Math.pow(p,2),y=Math.pow(d,2);e=1-this.es*Math.pow(c,2);var g=i*Math.sqrt(e)/this.k0,v=Math.pow(g,2);r=n-(e*=p)*v/(1-this.es)*.5*(1-v/12*(5+3*d-9*f*d+f-4*h-v/30*(61+90*d-252*f*d+45*y+46*f-v/56*(1385+3633*d+4095*y+1574*y*d)))),o=R(this.long0+g*(1-v/6*(1+2*d+f-v/20*(5+28*d+24*y+8*f*d+6*f-v/42*(61+662*d+1320*y+720*y*d))))/l)}else r=s*D(u),o=0;else{var b=Math.exp(i/this.k0),m=.5*(b-1/b),_=this.lat0+u/this.k0,P=Math.cos(_);e=Math.sqrt((1-Math.pow(P,2))/(1+Math.pow(m,2))),r=Math.asin(e),u<0&&(r=-r),o=0===m&&0===P?0:R(Math.atan2(m,P)+this.long0)}return t.x=o,t.y=r,t},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]};function Ft(t){var e=Math.exp(t);return(e-1/e)/2}function Vt(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),r=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))}function Bt(t,e){for(var n,r=2*Math.cos(2*e),o=t.length-1,i=t[o],s=0;--o>=0;)n=r*i-s+t[o],s=i,i=n;return e+n*Math.sin(2*e)}function zt(t,e,n){for(var r,o,i=Math.sin(e),s=Math.cos(e),a=Ft(n),u=function(t){var e=Math.exp(t);return(e+1/e)/2}(n),c=2*s*u,l=-2*i*a,p=t.length-1,f=t[p],h=0,d=0,y=0;--p>=0;)r=d,o=h,f=c*(d=f)-r-l*(h=y)+t[p],y=l*d-o+c*h;return[(c=i*u)*f-(l=s*a)*y,c*y+l*f]}const Ut={init:function(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Gt.init.apply(this),this.forward=Gt.forward,this.inverse=Gt.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),n*=e,this.cgb[1]=n*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n*=e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),n*=e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(e*(-24832/14175)-2.4)),n*=e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n*=e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),n*=e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n*=e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n*=e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n*=e,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=.6650675310896665*n;var r=Bt(this.cbg,this.lat0);this.Zb=-this.Qn*(r+function(t,e){for(var n,r=2*Math.cos(e),o=t.length-1,i=t[o],s=0;--o>=0;)n=r*i-s+t[o],s=i,i=n;return Math.sin(e)*n}(this.gtu,2*r))},forward:function(t){var e=R(t.x-this.long0),n=t.y;n=Bt(this.cbg,n);var r=Math.sin(n),o=Math.cos(n),i=Math.sin(e),s=Math.cos(e);n=Math.atan2(r,s*o),e=Math.atan2(i*o,Vt(r,o*s)),e=function(t){var e=Math.abs(t);return e=function(t){var e=1+t,n=e-1;return 0===n?t:t*Math.log(e)/n}(e*(1+e/(Vt(1,e)+1))),t<0?-e:e}(Math.tan(e));var a,u,c=zt(this.gtu,2*n,2*e);return n+=c[0],e+=c[1],Math.abs(e)<=2.623395162778?(a=this.a*(this.Qn*e)+this.x0,u=this.a*(this.Qn*n+this.Zb)+this.y0):(a=1/0,u=1/0),t.x=a,t.y=u,t},inverse:function(t){var e,n,r=(t.x-this.x0)*(1/this.a),o=(t.y-this.y0)*(1/this.a);if(o=(o-this.Zb)/this.Qn,r/=this.Qn,Math.abs(r)<=2.623395162778){var i=zt(this.utg,2*o,2*r);o+=i[0],r+=i[1],r=Math.atan(Ft(r));var s=Math.sin(o),a=Math.cos(o),u=Math.sin(r),c=Math.cos(r);o=Math.atan2(s*c,Vt(u,c*a)),e=R((r=Math.atan2(u,c*a))+this.long0),n=Bt(this.cgb,o)}else e=1/0,n=1/0;return t.x=e,t.y=n,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"]},qt={init:function(){var t=function(t,e){if(void 0===t){if((t=Math.floor(30*(R(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*u,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Ut.init.apply(this),this.forward=Ut.forward,this.inverse=Ut.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"};function Wt(t,e){return Math.pow((1-t)/(1+t),e)}const Jt={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+l)/(Math.pow(Math.tan(.5*this.lat0+l),this.C)*Wt(this.e*t,this.ratexp))},forward:function(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+l),this.C)*Wt(this.e*Math.sin(n),this.ratexp))-s,t.x=this.C*e,t},inverse:function(t){for(var e=t.x/this.C,n=t.y,r=Math.pow(Math.tan(.5*n+l)/this.K,1/this.C),o=20;o>0&&(n=2*Math.atan(r*Wt(this.e*Math.sin(t.y),-.5*this.e))-s,!(Math.abs(n-t.y)<1e-14));--o)t.y=n;return o?(t.x=e,t.y=n,t):null},names:["gauss"]},Xt={init:function(){Jt.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var e,n,r,o;return t.x=R(t.x-this.long0),Jt.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),r=Math.cos(t.x),o=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*r),t.x=o*n*Math.sin(t.x),t.y=o*(this.cosc0*e-this.sinc0*n*r),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var e,n,r,o,i;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,i=Math.sqrt(t.x*t.x+t.y*t.y)){var s=2*Math.atan2(i,this.R2);e=Math.sin(s),n=Math.cos(s),o=Math.asin(n*this.sinc0+t.y*e*this.cosc0/i),r=Math.atan2(t.x*e,i*this.cosc0*n-t.y*this.sinc0*e)}else o=this.phic0,r=0;return t.x=r,t.y=o,Jt.inverse.apply(this,[t]),t.x=R(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]},Yt={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=a&&(this.k0=.5*(1+D(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=a&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=a&&(this.k0=.5*this.cons*A(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/k(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=A(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-s,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var e,n,r,o,i,u,c=t.x,l=t.y,p=Math.sin(l),f=Math.cos(l),h=R(c-this.long0);return Math.abs(Math.abs(c-this.long0)-Math.PI)<=a&&Math.abs(l+this.lat0)<=a?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*p+this.coslat0*f*Math.cos(h)),t.x=this.a*e*f*Math.sin(h)+this.x0,t.y=this.a*e*(this.coslat0*p-this.sinlat0*f*Math.cos(h))+this.y0,t):(n=2*Math.atan(this.ssfn_(l,p,this.e))-s,o=Math.cos(n),r=Math.sin(n),Math.abs(this.coslat0)<=a?(i=k(this.e,l*this.con,this.con*p),u=2*this.a*this.k0*i/this.cons,t.x=this.x0+u*Math.sin(c-this.long0),t.y=this.y0-this.con*u*Math.cos(c-this.long0),t):(Math.abs(this.sinlat0)<a?(e=2*this.a*this.k0/(1+o*Math.cos(h)),t.y=e*r):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*r+this.cosX0*o*Math.cos(h))),t.y=e*(this.cosX0*r-this.sinX0*o*Math.cos(h))+this.y0),t.x=e*o*Math.sin(h)+this.x0,t))},inverse:function(t){var e,n,r,o,i;t.x-=this.x0,t.y-=this.y0;var u=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var c=2*Math.atan(u/(2*this.a*this.k0));return e=this.long0,n=this.lat0,u<=a?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(c)*this.sinlat0+t.y*Math.sin(c)*this.coslat0/u),e=Math.abs(this.coslat0)<a?this.lat0>0?R(this.long0+Math.atan2(t.x,-1*t.y)):R(this.long0+Math.atan2(t.x,t.y)):R(this.long0+Math.atan2(t.x*Math.sin(c),u*this.coslat0*Math.cos(c)-t.y*this.sinlat0*Math.sin(c))),t.x=e,t.y=n,t)}if(Math.abs(this.coslat0)<=a){if(u<=a)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,r=u*this.cons/(2*this.a*this.k0),n=this.con*L(this.e,r),e=this.con*R(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else o=2*Math.atan(u*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,u<=a?i=this.X0:(i=Math.asin(Math.cos(o)*this.sinX0+t.y*Math.sin(o)*this.cosX0/u),e=R(this.long0+Math.atan2(t.x*Math.sin(o),u*this.cosX0*Math.cos(o)-t.y*this.sinX0*Math.sin(o)))),n=-1*L(this.e,Math.tan(.5*(s+i)));return t.x=e,t.y=n,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,e,n){return e*=n,Math.tan(.5*(s+t))*Math.pow((1-e)/(1+e),.5*n)}},Ht={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,r=1/this.rf,o=2*r-Math.pow(r,2),i=this.e=Math.sqrt(o);this.R=this.k0*n*Math.sqrt(1-o)/(1-o*Math.pow(e,2)),this.alpha=Math.sqrt(1+o/(1-o)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),a=Math.log(Math.tan(Math.PI/4+t/2)),u=Math.log((1+i*e)/(1-i*e));this.K=s-this.alpha*a+this.alpha*i/2*u},forward:function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),r=-this.alpha*(e+n)+this.K,o=2*(Math.atan(Math.exp(r))-Math.PI/4),i=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(i)/(Math.sin(this.b0)*Math.tan(o)+Math.cos(this.b0)*Math.cos(i))),a=Math.asin(Math.cos(this.b0)*Math.sin(o)-Math.sin(this.b0)*Math.cos(o)*Math.cos(i));return t.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,t.x=this.R*s+this.x0,t},inverse:function(t){for(var e=t.x-this.x0,n=t.y-this.y0,r=e/this.R,o=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),i=Math.asin(Math.cos(this.b0)*Math.sin(o)+Math.sin(this.b0)*Math.cos(o)*Math.cos(r)),s=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(o))),a=this.lambda0+s/this.alpha,u=0,c=i,l=-1e3,p=0;Math.abs(c-l)>1e-7;){if(++p>20)return;u=1/this.alpha*(Math.log(Math.tan(Math.PI/4+i/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),l=c,c=2*Math.atan(Math.exp(u))-Math.PI/2}return t.x=a,t.y=c,t},names:["somerc"]};var Zt=1e-7;const Qt={init:function(){var t,e,n,r,o,i,c,f,h,d,y,g,v,b=0,m=0,_=0,P=0,w=0,E=0,x=0;this.no_off=(v="object"==typeof(g=this).PROJECTION?Object.keys(g.PROJECTION)[0]:g.PROJECTION,"no_uoff"in g||"no_off"in g||-1!==["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(v)),this.no_rot="no_rot"in this;var O=!1;"alpha"in this&&(O=!0);var C=!1;if("rectified_grid_angle"in this&&(C=!0),O&&(x=this.alpha),C&&(b=this.rectified_grid_angle*u),O||C)m=this.longc;else if(_=this.long1,w=this.lat1,P=this.long2,E=this.lat2,Math.abs(w-E)<=Zt||(t=Math.abs(w))<=Zt||Math.abs(t-s)<=Zt||Math.abs(Math.abs(this.lat0)-s)<=Zt||Math.abs(Math.abs(E)-s)<=Zt)throw new Error;var S=1-this.es;e=Math.sqrt(S),Math.abs(this.lat0)>a?(f=Math.sin(this.lat0),n=Math.cos(this.lat0),t=1-this.es*f*f,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/S),this.A=this.B*this.k0*e/t,(o=(r=this.B*e/(n*Math.sqrt(t)))*r-1)<=0?o=0:(o=Math.sqrt(o),this.lat0<0&&(o=-o)),this.E=o+=r,this.E*=Math.pow(k(this.e,this.lat0,f),this.B)):(this.B=1/e,this.A=this.k0,this.E=r=o=1),O||C?(O?(y=Math.asin(Math.sin(x)/r),C||(b=x)):(y=b,x=Math.asin(r*Math.sin(y))),this.lam0=m-Math.asin(.5*(o-1/o)*Math.tan(y))/this.B):(i=Math.pow(k(this.e,w,Math.sin(w)),this.B),c=Math.pow(k(this.e,E,Math.sin(E)),this.B),o=this.E/i,h=(c-i)/(c+i),d=((d=this.E*this.E)-c*i)/(d+c*i),(t=_-P)<-Math.pi?P-=p:t>Math.pi&&(P+=p),this.lam0=R(.5*(_+P)-Math.atan(d*Math.tan(.5*this.B*(_-P))/h)/this.B),y=Math.atan(2*Math.sin(this.B*R(_-this.lam0))/(o-1/o)),b=x=Math.asin(r*Math.sin(y))),this.singam=Math.sin(y),this.cosgam=Math.cos(y),this.sinrot=Math.sin(b),this.cosrot=Math.cos(b),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A,this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(r*r-1)/Math.cos(x))),this.lat0<0&&(this.u_0=-this.u_0)),o=.5*y,this.v_pole_n=this.ArB*Math.log(Math.tan(l-o)),this.v_pole_s=this.ArB*Math.log(Math.tan(l+o))},forward:function(t){var e,n,r,o,i,u,c,l,p={};if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-s)>a){if(e=.5*((i=this.E/Math.pow(k(this.e,t.y,Math.sin(t.y)),this.B))-(u=1/i)),n=.5*(i+u),o=Math.sin(this.B*t.x),r=(e*this.singam-o*this.cosgam)/n,Math.abs(Math.abs(r)-1)<a)throw new Error;l=.5*this.ArB*Math.log((1-r)/(1+r)),u=Math.cos(this.B*t.x),c=Math.abs(u)<Zt?this.A*t.x:this.ArB*Math.atan2(e*this.cosgam+o*this.singam,u)}else l=t.y>0?this.v_pole_n:this.v_pole_s,c=this.ArB*t.y;return this.no_rot?(p.x=c,p.y=l):(c-=this.u_0,p.x=l*this.cosrot+c*this.sinrot,p.y=c*this.cosrot-l*this.sinrot),p.x=this.a*p.x+this.x0,p.y=this.a*p.y+this.y0,p},inverse:function(t){var e,n,r,o,i,u,c,l={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(n=t.y,e=t.x):(n=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),o=.5*((r=Math.exp(-this.BrA*n))-1/r),i=.5*(r+1/r),c=((u=Math.sin(this.BrA*e))*this.cosgam+o*this.singam)/i,Math.abs(Math.abs(c)-1)<a)l.x=0,l.y=c<0?-s:s;else{if(l.y=this.E/Math.sqrt((1+c)/(1-c)),l.y=L(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(o*this.cosgam-u*this.singam,Math.cos(this.BrA*e))}return l.x+=this.lam0,l},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]},$t={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<a)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),r=A(this.e,e,n),o=k(this.e,this.lat1,e),i=Math.sin(this.lat2),s=Math.cos(this.lat2),u=A(this.e,i,s),c=k(this.e,this.lat2,i),l=k(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>a?this.ns=Math.log(r/u)/Math.log(o/c):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=r/(this.ns*Math.pow(o,this.ns)),this.rh=this.a*this.f0*Math.pow(l,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=a&&(n=D(n)*(s-2e-10));var r,o,i=Math.abs(Math.abs(n)-s);if(i>a)r=k(this.e,n,Math.sin(n)),o=this.a*this.f0*Math.pow(r,this.ns);else{if((i=n*this.ns)<=0)return null;o=0}var u=this.ns*R(e-this.long0);return t.x=this.k0*(o*Math.sin(u))+this.x0,t.y=this.k0*(this.rh-o*Math.cos(u))+this.y0,t},inverse:function(t){var e,n,r,o,i,a=(t.x-this.x0)/this.k0,u=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(a*a+u*u),n=1):(e=-Math.sqrt(a*a+u*u),n=-1);var c=0;if(0!==e&&(c=Math.atan2(n*a,n*u)),0!==e||this.ns>0){if(n=1/this.ns,r=Math.pow(e/(this.a*this.f0),n),-9999===(o=L(this.e,r)))return null}else o=-s;return i=R(c/this.ns+this.long0),t.x=i,t.y=o,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"]},Kt={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var e,n,r,o,i,s,a,u=t.x,c=t.y,l=R(u-this.long0);return e=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/e)-this.s45),r=-l*this.alfa,o=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),i=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(o)),s=this.n*i,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(o/2+this.s45),this.n),t.y=a*Math.cos(s)/1,t.x=a*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var e,n,r,o,i,s,a,u=t.x;t.x=t.y,t.y=u,this.czech||(t.y*=-1,t.x*=-1),i=Math.sqrt(t.x*t.x+t.y*t.y),o=Math.atan2(t.y,t.x)/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/i,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(o)),n=Math.asin(Math.cos(r)*Math.sin(o)/Math.cos(e)),t.x=this.long0-n/this.alfa,s=e,a=0;var c=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-t.y)<1e-10&&(a=1),s=t.y,c+=1}while(0===a&&c<15);return c>=15?null:t},names:["Krovak","krovak"]};function te(t,e,n,r,o){return t*o-e*Math.sin(2*o)+n*Math.sin(4*o)-r*Math.sin(6*o)}function ee(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function ne(t){return.375*t*(1+.25*t*(1+.46875*t))}function re(t){return.05859375*t*t*(1+.75*t)}function oe(t){return t*t*t*(35/3072)}function ie(t,e,n){var r=e*n;return t/Math.sqrt(1-r*r)}function se(t){return Math.abs(t)<s?t:t-D(t)*Math.PI}function ae(t,e,n,r,o){var i,s;i=t/e;for(var a=0;a<15;a++)if(i+=s=(t-(e*i-n*Math.sin(2*i)+r*Math.sin(4*i)-o*Math.sin(6*i)))/(e-2*n*Math.cos(2*i)+4*r*Math.cos(4*i)-6*o*Math.cos(6*i)),Math.abs(s)<=1e-10)return i;return NaN}const ue={init:function(){this.sphere||(this.e0=ee(this.es),this.e1=ne(this.es),this.e2=re(this.es),this.e3=oe(this.es),this.ml0=this.a*te(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var e,n,r=t.x,o=t.y;if(r=R(r-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(o)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(o),Math.cos(r))-this.lat0);else{var i=Math.sin(o),s=Math.cos(o),a=ie(this.a,this.e,i),u=Math.tan(o)*Math.tan(o),c=r*Math.cos(o),l=c*c,p=this.es*s*s/(1-this.es);e=a*c*(1-l*u*(1/6-(8-u+8*p)*l/120)),n=this.a*te(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+a*i/s*l*(.5+(5-u+6*p)*l/24)}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,r=t.x/this.a,o=t.y/this.a;if(this.sphere){var i=o+this.lat0;e=Math.asin(Math.sin(i)*Math.cos(r)),n=Math.atan2(Math.tan(r),Math.cos(i))}else{var u=ae(this.ml0/this.a+o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(u)-s)<=a)return t.x=this.long0,t.y=s,o<0&&(t.y*=-1),t;var c=ie(this.a,this.e,Math.sin(u)),l=c*c*c/this.a/this.a*(1-this.es),p=Math.pow(Math.tan(u),2),f=r*this.a/c,h=f*f;e=u-c*Math.tan(u)/l*f*f*(.5-(1+3*p)*f*f/24),n=f*(1-h*(p/3+(1+3*p)*p*h/15))/Math.cos(u)}return t.x=R(n+this.long0),t.y=se(e),t},names:["Cassini","Cassini_Soldner","cass"]};function ce(t,e){var n;return t>1e-7?(1-t*t)*(e/(1-(n=t*e)*n)-.5/t*Math.log((1-n)/(1+n))):2*e}const le={init:function(){var t,e=Math.abs(this.lat0);if(Math.abs(e-s)<a?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<a?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=ce(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var e,n=[];return n[0]=.3333333333333333*t,e=t*t,n[0]+=.17222222222222222*e,n[1]=.06388888888888888*e,e*=t,n[0]+=.10257936507936508*e,n[1]+=.0664021164021164*e,n[2]=.016415012942191543*e,n}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=ce(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var e,n,r,o,i,u,c,p,f,h,d=t.x,y=t.y;if(d=R(d-this.long0),this.sphere){if(i=Math.sin(y),h=Math.cos(y),r=Math.cos(d),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+h*r:1+this.sinph0*i+this.cosph0*h*r)<=a)return null;e=(n=Math.sqrt(2/n))*h*Math.sin(d),n*=this.mode===this.EQUIT?i:this.cosph0*i-this.sinph0*h*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(y+this.lat0)<a)return null;n=l-.5*y,e=(n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)))*Math.sin(d),n*=r}}else{switch(c=0,p=0,f=0,r=Math.cos(d),o=Math.sin(d),i=Math.sin(y),u=ce(this.e,i),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(c=u/this.qp,p=Math.sqrt(1-c*c)),this.mode){case this.OBLIQ:f=1+this.sinb1*c+this.cosb1*p*r;break;case this.EQUIT:f=1+p*r;break;case this.N_POLE:f=s+y,u=this.qp-u;break;case this.S_POLE:f=y-s,u=this.qp+u}if(Math.abs(f)<a)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:f=Math.sqrt(2/f),n=this.mode===this.OBLIQ?this.ymf*f*(this.cosb1*c-this.sinb1*p*r):(f=Math.sqrt(2/(1+p*r)))*c*this.ymf,e=this.xmf*f*p*o;break;case this.N_POLE:case this.S_POLE:u>=0?(e=(f=Math.sqrt(u))*o,n=r*(this.mode===this.S_POLE?f:-f)):e=n=0}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,o,i,u,c,l,p,f,h=t.x/this.a,d=t.y/this.a;if(this.sphere){var y,g=0,v=0;if((n=.5*(y=Math.sqrt(h*h+d*d)))>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(v=Math.sin(n),g=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(y)<=a?0:Math.asin(d*v/y),h*=v,d=g*y;break;case this.OBLIQ:n=Math.abs(y)<=a?this.lat0:Math.asin(g*this.sinph0+d*v*this.cosph0/y),h*=v*this.cosph0,d=(g-Math.sin(n)*this.sinph0)*y;break;case this.N_POLE:d=-d,n=s-n;break;case this.S_POLE:n-=s}e=0!==d||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(h,d):0}else{if(c=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(h/=this.dd,d*=this.dd,(u=Math.sqrt(h*h+d*d))<a)return t.x=this.long0,t.y=this.lat0,t;o=2*Math.asin(.5*u/this.rq),r=Math.cos(o),h*=o=Math.sin(o),this.mode===this.OBLIQ?(c=r*this.sinb1+d*o*this.cosb1/u,i=this.qp*c,d=u*this.cosb1*r-d*this.sinb1*o):(c=d*o/u,i=this.qp*c,d=u*r)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(d=-d),!(i=h*h+d*d))return t.x=this.long0,t.y=this.lat0,t;c=1-i/this.qp,this.mode===this.S_POLE&&(c=-c)}e=Math.atan2(h,d),f=(l=Math.asin(c))+l,n=l+(p=this.apa)[0]*Math.sin(f)+p[1]*Math.sin(f+f)+p[2]*Math.sin(f+f+f)}return t.x=R(this.long0+e),t.y=n,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4};function pe(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}const fe={init:function(){Math.abs(this.lat1+this.lat2)<a||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=A(this.e3,this.sin_po,this.cos_po),this.qs1=ce(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=A(this.e3,this.sin_po,this.cos_po),this.qs2=ce(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=ce(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>a?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=ce(this.e3,this.sin_phi),o=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,i=this.ns0*R(e-this.long0),s=o*Math.sin(i)+this.x0,a=this.rh-o*Math.cos(i)+this.y0;return t.x=s,t.y=a,t},inverse:function(t){var e,n,r,o,i,s;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),r=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),r=-1),o=0,0!==e&&(o=Math.atan2(r*t.x,r*t.y)),r=e*this.ns0/this.a,this.sphere?s=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,s=this.phi1z(this.e3,n)),i=R(o/this.ns0+this.long0),t.x=i,t.y=s,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,e){var n,r,o,i,s=pe(.5*e);if(t<a)return s;for(var u=t*t,c=1;c<=25;c++)if(s+=i=.5*(o=1-(r=t*(n=Math.sin(s)))*r)*o/Math.cos(s)*(e/(1-u)-n/o+.5/t*Math.log((1-r)/(1+r))),Math.abs(i)<=1e-7)return s;return null}},he={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var e,n,r,o,i,s,u,c=t.x,l=t.y;return r=R(c-this.long0),e=Math.sin(l),n=Math.cos(l),o=Math.cos(r),(i=this.sin_p14*e+this.cos_p14*n*o)>0||Math.abs(i)<=a?(s=this.x0+1*this.a*n*Math.sin(r)/i,u=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*o)/i):(s=this.x0+this.infinity_dist*n*Math.sin(r),u=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*o)),t.x=s,t.y=u,t},inverse:function(t){var e,n,r,o,i,s;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(o=Math.atan2(e,this.rc),n=Math.sin(o),s=pe((r=Math.cos(o))*this.sin_p14+t.y*n*this.cos_p14/e),i=Math.atan2(t.x*n,e*this.cos_p14*r-t.y*this.sin_p14*n),i=R(this.long0+i)):(s=this.phic0,i=0),t.x=i,t.y=s,t},names:["gnom"]},de={init:function(){this.sphere||(this.k0=A(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var e,n,r=t.x,o=t.y,i=R(r-this.long0);if(this.sphere)e=this.x0+this.a*i*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(o)/Math.cos(this.lat_ts);else{var s=ce(this.e,Math.sin(o));e=this.x0+this.a*this.k0*i,n=this.y0+this.a*s*.5/this.k0}return t.x=e,t.y=n,t},inverse:function(t){var e,n;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=R(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=function(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*s:s;for(var r,o,i,a,u=Math.asin(.5*e),c=0;c<30;c++)if(o=Math.sin(u),i=Math.cos(u),a=t*o,u+=r=Math.pow(1-a*a,2)/(2*i)*(e/(1-t*t)-o/(1-a*a)+.5/t*Math.log((1-a)/(1+a))),Math.abs(r)<=1e-10)return u;return NaN}(this.e,2*t.y*this.k0/this.a),e=R(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t},names:["cea"]},ye={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var e=t.x,n=t.y,r=R(e-this.long0),o=se(n-this.lat0);return t.x=this.x0+this.a*r*this.rc,t.y=this.y0+this.a*o,t},inverse:function(t){var e=t.x,n=t.y;return t.x=R(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=se(this.lat0+(n-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},ge={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=ee(this.es),this.e1=ne(this.es),this.e2=re(this.es),this.e3=oe(this.es),this.ml0=this.a*te(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var e,n,r,o=t.x,i=t.y,s=R(o-this.long0);if(r=s*Math.sin(i),this.sphere)Math.abs(i)<=a?(e=this.a*s,n=-1*this.a*this.lat0):(e=this.a*Math.sin(r)/Math.tan(i),n=this.a*(se(i-this.lat0)+(1-Math.cos(r))/Math.tan(i)));else if(Math.abs(i)<=a)e=this.a*s,n=-1*this.ml0;else{var u=ie(this.a,this.e,Math.sin(i))/Math.tan(i);e=u*Math.sin(r),n=this.a*te(this.e0,this.e1,this.e2,this.e3,i)-this.ml0+u*(1-Math.cos(r))}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){var e,n,r,o,i,s,u,c,l;if(r=t.x-this.x0,o=t.y-this.y0,this.sphere)if(Math.abs(o+this.a*this.lat0)<=a)e=R(r/this.a+this.long0),n=0;else{var p;for(s=this.lat0+o/this.a,u=r*r/this.a/this.a+s*s,c=s,i=20;i;--i)if(c+=l=-1*(s*(c*(p=Math.tan(c))+1)-c-.5*(c*c+u)*p)/((c-s)/p-1),Math.abs(l)<=a){n=c;break}e=R(this.long0+Math.asin(r*Math.tan(c)/this.a)/Math.sin(n))}else if(Math.abs(o+this.ml0)<=a)n=0,e=R(this.long0+r/this.a);else{var f,h,d,y,g;for(s=(this.ml0+o)/this.a,u=r*r/this.a/this.a+s*s,c=s,i=20;i;--i)if(g=this.e*Math.sin(c),f=Math.sqrt(1-g*g)*Math.tan(c),h=this.a*te(this.e0,this.e1,this.e2,this.e3,c),d=this.e0-2*this.e1*Math.cos(2*c)+4*this.e2*Math.cos(4*c)-6*this.e3*Math.cos(6*c),c-=l=(s*(f*(y=h/this.a)+1)-y-.5*f*(y*y+u))/(this.es*Math.sin(2*c)*(y*y+u-2*s*y)/(4*f)+(s-y)*(f*d-2/Math.sin(2*c))-d),Math.abs(l)<=a){n=c;break}f=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=R(this.long0+Math.asin(r*f/this.a)/Math.sin(n))}return t.x=e,t.y=n,t},names:["Polyconic","poly"]},ve={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var e,n=t.x,r=t.y-this.lat0,o=n-this.long0,s=r/i*1e-5,a=o,u=1,c=0;for(e=1;e<=10;e++)u*=s,c+=this.A[e]*u;var l,p=c,f=a,h=1,d=0,y=0,g=0;for(e=1;e<=6;e++)l=d*p+h*f,h=h*p-d*f,d=l,y=y+this.B_re[e]*h-this.B_im[e]*d,g=g+this.B_im[e]*h+this.B_re[e]*d;return t.x=g*this.a+this.x0,t.y=y*this.a+this.y0,t},inverse:function(t){var e,n,r=t.x,o=t.y,s=r-this.x0,a=(o-this.y0)/this.a,u=s/this.a,c=1,l=0,p=0,f=0;for(e=1;e<=6;e++)n=l*a+c*u,c=c*a-l*u,l=n,p=p+this.C_re[e]*c-this.C_im[e]*l,f=f+this.C_im[e]*c+this.C_re[e]*l;for(var h=0;h<this.iterations;h++){var d,y=p,g=f,v=a,b=u;for(e=2;e<=6;e++)d=g*p+y*f,y=y*p-g*f,g=d,v+=(e-1)*(this.B_re[e]*y-this.B_im[e]*g),b+=(e-1)*(this.B_im[e]*y+this.B_re[e]*g);y=1,g=0;var m=this.B_re[1],_=this.B_im[1];for(e=2;e<=6;e++)d=g*p+y*f,y=y*p-g*f,g=d,m+=e*(this.B_re[e]*y-this.B_im[e]*g),_+=e*(this.B_im[e]*y+this.B_re[e]*g);var P=m*m+_*_;p=(v*m+b*_)/P,f=(b*m-v*_)/P}var w=p,E=f,x=1,O=0;for(e=1;e<=9;e++)x*=w,O+=this.D[e]*x;var C=this.lat0+O*i*1e5,S=this.long0+E;return t.x=S,t.y=C,t},names:["New_Zealand_Map_Grid","nzmg"]},be={init:function(){},forward:function(t){var e=t.x,n=t.y,r=R(e-this.long0),o=this.x0+this.a*r,i=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=o,t.y=i,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=R(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t},names:["Miller_Cylindrical","mill"]},me={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Rt(this.es)},forward:function(t){var e,n,r=t.x,o=t.y;if(r=R(r-this.long0),this.sphere){if(this.m)for(var i=this.n*Math.sin(o),s=20;s;--s){var u=(this.m*o+Math.sin(o)-i)/(this.m+Math.cos(o));if(o-=u,Math.abs(u)<a)break}else o=1!==this.n?Math.asin(this.n*Math.sin(o)):o;e=this.a*this.C_x*r*(this.m+Math.cos(o)),n=this.a*this.C_y*o}else{var c=Math.sin(o),l=Math.cos(o);n=this.a*kt(o,c,l,this.en),e=this.a*r*l/Math.sqrt(1-this.es*c*c)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,r;return t.x-=this.x0,n=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,n/=this.C_x*(this.m+Math.cos(e)),this.m?e=pe((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=pe(Math.sin(e)/this.n)),n=R(n+this.long0),e=se(e)):(e=Lt(t.y/this.a,this.es,this.en),(r=Math.abs(e))<s?(r=Math.sin(e),n=R(this.long0+t.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(e)))):r-a<s&&(n=this.long0)),t.x=n,t.y=e,t},names:["Sinusoidal","sinu"]},_e={init:function(){},forward:function(t){for(var e=t.x,n=t.y,r=R(e-this.long0),o=n,i=Math.PI*Math.sin(n);;){var s=-(o+Math.sin(o)-i)/(1+Math.cos(o));if(o+=s,Math.abs(s)<a)break}o/=2,Math.PI/2-Math.abs(n)<a&&(r=0);var u=.900316316158*this.a*r*Math.cos(o)+this.x0,c=1.4142135623731*this.a*Math.sin(o)+this.y0;return t.x=u,t.y=c,t},inverse:function(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var r=R(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var o=Math.asin(n);return t.x=r,t.y=o,t},names:["Mollweide","moll"]},Pe={init:function(){Math.abs(this.lat1+this.lat2)<a||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=ee(this.es),this.e1=ne(this.es),this.e2=re(this.es),this.e3=oe(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=A(this.e,this.sinphi,this.cosphi),this.ml1=te(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<a?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=A(this.e,this.sinphi,this.cosphi),this.ml2=te(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=te(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var e,n=t.x,r=t.y;if(this.sphere)e=this.a*(this.g-r);else{var o=te(this.e0,this.e1,this.e2,this.e3,r);e=this.a*(this.g-o)}var i=this.ns*R(n-this.long0),s=this.x0+e*Math.sin(i),a=this.y0+this.rh-e*Math.cos(i);return t.x=s,t.y=a,t},inverse:function(t){var e,n,r,o;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var i=0;return 0!==n&&(i=Math.atan2(e*t.x,e*t.y)),this.sphere?(o=R(this.long0+i/this.ns),r=se(this.g-n/this.a),t.x=o,t.y=r,t):(r=ae(this.g-n/this.a,this.e0,this.e1,this.e2,this.e3),o=R(this.long0+i/this.ns),t.x=o,t.y=r,t)},names:["Equidistant_Conic","eqdc"]},we={init:function(){this.R=this.a},forward:function(t){var e,n,r=t.x,o=t.y,i=R(r-this.long0);Math.abs(o)<=a&&(e=this.x0+this.R*i,n=this.y0);var u=pe(2*Math.abs(o/Math.PI));(Math.abs(i)<=a||Math.abs(Math.abs(o)-s)<=a)&&(e=this.x0,n=o>=0?this.y0+Math.PI*this.R*Math.tan(.5*u):this.y0+Math.PI*this.R*-Math.tan(.5*u));var c=.5*Math.abs(Math.PI/i-i/Math.PI),l=c*c,p=Math.sin(u),f=Math.cos(u),h=f/(p+f-1),d=h*h,y=h*(2/p-1),g=y*y,v=Math.PI*this.R*(c*(h-g)+Math.sqrt(l*(h-g)*(h-g)-(g+l)*(d-g)))/(g+l);i<0&&(v=-v),e=this.x0+v;var b=l+h;return v=Math.PI*this.R*(y*b-c*Math.sqrt((g+l)*(l+1)-b*b))/(g+l),n=o>=0?this.y0+v:this.y0-v,t.x=e,t.y=n,t},inverse:function(t){var e,n,r,o,i,s,u,c,l,p,f,h;return t.x-=this.x0,t.y-=this.y0,f=Math.PI*this.R,i=(r=t.x/f)*r+(o=t.y/f)*o,f=3*(o*o/(c=-2*(s=-Math.abs(o)*(1+i))+1+2*o*o+i*i)+(2*(u=s-2*o*o+r*r)*u*u/c/c/c-9*s*u/c/c)/27)/(l=(s-u*u/3/c)/c)/(p=2*Math.sqrt(-l/3)),Math.abs(f)>1&&(f=f>=0?1:-1),h=Math.acos(f)/3,n=t.y>=0?(-p*Math.cos(h+Math.PI/3)-u/3/c)*Math.PI:-(-p*Math.cos(h+Math.PI/3)-u/3/c)*Math.PI,e=Math.abs(r)<a?this.long0:R(this.long0+Math.PI*(i-1+Math.sqrt(1+2*(r*r-o*o)+i*i))/2/r),t.x=e,t.y=n,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]},Ee={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var e,n,r,o,i,u,c,l,p,f,h,d,y,g,v,b,m,_,P,w,E,x,O=t.x,C=t.y,S=Math.sin(t.y),M=Math.cos(t.y),j=R(O-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=a?(t.x=this.x0+this.a*(s-C)*Math.sin(j),t.y=this.y0-this.a*(s-C)*Math.cos(j),t):Math.abs(this.sin_p12+1)<=a?(t.x=this.x0+this.a*(s+C)*Math.sin(j),t.y=this.y0+this.a*(s+C)*Math.cos(j),t):(_=this.sin_p12*S+this.cos_p12*M*Math.cos(j),m=(b=Math.acos(_))?b/Math.sin(b):1,t.x=this.x0+this.a*m*M*Math.sin(j),t.y=this.y0+this.a*m*(this.cos_p12*S-this.sin_p12*M*Math.cos(j)),t):(e=ee(this.es),n=ne(this.es),r=re(this.es),o=oe(this.es),Math.abs(this.sin_p12-1)<=a?(i=this.a*te(e,n,r,o,s),u=this.a*te(e,n,r,o,C),t.x=this.x0+(i-u)*Math.sin(j),t.y=this.y0-(i-u)*Math.cos(j),t):Math.abs(this.sin_p12+1)<=a?(i=this.a*te(e,n,r,o,s),u=this.a*te(e,n,r,o,C),t.x=this.x0+(i+u)*Math.sin(j),t.y=this.y0+(i+u)*Math.cos(j),t):(c=S/M,l=ie(this.a,this.e,this.sin_p12),p=ie(this.a,this.e,S),f=Math.atan((1-this.es)*c+this.es*l*this.sin_p12/(p*M)),P=0===(h=Math.atan2(Math.sin(j),this.cos_p12*Math.tan(f)-this.sin_p12*Math.cos(j)))?Math.asin(this.cos_p12*Math.sin(f)-this.sin_p12*Math.cos(f)):Math.abs(Math.abs(h)-Math.PI)<=a?-Math.asin(this.cos_p12*Math.sin(f)-this.sin_p12*Math.cos(f)):Math.asin(Math.sin(j)*Math.cos(f)/Math.sin(h)),d=this.e*this.sin_p12/Math.sqrt(1-this.es),b=l*P*(1-(w=P*P)*(v=(y=this.e*this.cos_p12*Math.cos(h)/Math.sqrt(1-this.es))*y)*(1-v)/6+(E=w*P)/8*(g=d*y)*(1-2*v)+(x=E*P)/120*(v*(4-7*v)-3*d*d*(1-7*v))-x*P/48*g),t.x=this.x0+b*Math.sin(h),t.y=this.y0+b*Math.cos(h),t))},inverse:function(t){var e,n,r,o,i,u,c,l,p,f,h,d,y,g,v,b,m,_,P,w,E,x,O;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*s*this.a)return;return n=e/this.a,r=Math.sin(n),o=Math.cos(n),i=this.long0,Math.abs(e)<=a?u=this.lat0:(u=pe(o*this.sin_p12+t.y*r*this.cos_p12/e),c=Math.abs(this.lat0)-s,i=Math.abs(c)<=a?this.lat0>=0?R(this.long0+Math.atan2(t.x,-t.y)):R(this.long0-Math.atan2(-t.x,t.y)):R(this.long0+Math.atan2(t.x*r,e*this.cos_p12*o-t.y*this.sin_p12*r))),t.x=i,t.y=u,t}return l=ee(this.es),p=ne(this.es),f=re(this.es),h=oe(this.es),Math.abs(this.sin_p12-1)<=a?(u=ae(((d=this.a*te(l,p,f,h,s))-(e=Math.sqrt(t.x*t.x+t.y*t.y)))/this.a,l,p,f,h),i=R(this.long0+Math.atan2(t.x,-1*t.y)),t.x=i,t.y=u,t):Math.abs(this.sin_p12+1)<=a?(d=this.a*te(l,p,f,h,s),u=ae(((e=Math.sqrt(t.x*t.x+t.y*t.y))-d)/this.a,l,p,f,h),i=R(this.long0+Math.atan2(t.x,t.y)),t.x=i,t.y=u,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),v=Math.atan2(t.x,t.y),y=ie(this.a,this.e,this.sin_p12),b=Math.cos(v),_=-(m=this.e*this.cos_p12*b)*m/(1-this.es),P=3*this.es*(1-_)*this.sin_p12*this.cos_p12*b/(1-this.es),x=1-_*(E=(w=e/y)-_*(1+_)*Math.pow(w,3)/6-P*(1+3*_)*Math.pow(w,4)/24)*E/2-w*E*E*E/6,g=Math.asin(this.sin_p12*Math.cos(E)+this.cos_p12*Math.sin(E)*b),i=R(this.long0+Math.asin(Math.sin(v)*Math.sin(E)/Math.cos(g))),O=Math.sin(g),u=Math.atan2((O-this.es*x*this.sin_p12)*Math.tan(g),O*(1-this.es)),t.x=i,t.y=u,t)},names:["Azimuthal_Equidistant","aeqd"]},xe={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var e,n,r,o,i,s,u,c=t.x,l=t.y;return r=R(c-this.long0),e=Math.sin(l),n=Math.cos(l),o=Math.cos(r),((i=this.sin_p14*e+this.cos_p14*n*o)>0||Math.abs(i)<=a)&&(s=1*this.a*n*Math.sin(r),u=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*o)),t.x=s,t.y=u,t},inverse:function(t){var e,n,r,o,i,u,c;return t.x-=this.x0,t.y-=this.y0,n=pe((e=Math.sqrt(t.x*t.x+t.y*t.y))/this.a),r=Math.sin(n),o=Math.cos(n),u=this.long0,Math.abs(e)<=a?(c=this.lat0,t.x=u,t.y=c,t):(c=pe(o*this.sin_p14+t.y*r*this.cos_p14/e),i=Math.abs(this.lat0)-s,Math.abs(i)<=a?(u=this.lat0>=0?R(this.long0+Math.atan2(t.x,-t.y)):R(this.long0-Math.atan2(-t.x,t.y)),t.x=u,t.y=c,t):(u=R(this.long0+Math.atan2(t.x*r,e*this.cos_p14*o-t.y*this.sin_p14*r)),t.x=u,t.y=c,t))},names:["ortho"]};function Oe(t,e,n,r){var o;return t<a?(r.value=1,o=0):(o=Math.atan2(e,n),Math.abs(o)<=l?r.value=1:o>l&&o<=s+l?(r.value=2,o-=s):o>s+l||o<=-(s+l)?(r.value=3,o=o>=0?o-f:o+f):(r.value=4,o+=s)),o}function Ce(t,e){var n=t+e;return n<-f?n+=p:n>+f&&(n-=p),n}const Se={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=s-l/2?this.face=5:this.lat0<=-(s-l/2)?this.face=6:Math.abs(this.long0)<=l?this.face=1:Math.abs(this.long0)<=s+l?this.face=this.long0>0?2:4:this.face=3,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var e,n,r,o,i,a,u={x:0,y:0},c={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,n=t.x,5===this.face)o=s-e,n>=l&&n<=s+l?(c.value=1,r=n-s):n>s+l||n<=-(s+l)?(c.value=2,r=n>0?n-f:n+f):n>-(s+l)&&n<=-l?(c.value=3,r=n+s):(c.value=4,r=n);else if(6===this.face)o=s+e,n>=l&&n<=s+l?(c.value=1,r=-n+s):n<l&&n>=-l?(c.value=2,r=-n):n<-l&&n>=-(s+l)?(c.value=3,r=-n-s):(c.value=4,r=n>0?-n+f:-n-f);else{var p,h,d,y,g,v;2===this.face?n=Ce(n,+s):3===this.face?n=Ce(n,+f):4===this.face&&(n=Ce(n,-s)),y=Math.sin(e),g=Math.cos(e),v=Math.sin(n),p=g*Math.cos(n),h=g*v,d=y,1===this.face?r=Oe(o=Math.acos(p),d,h,c):2===this.face?r=Oe(o=Math.acos(h),d,-p,c):3===this.face?r=Oe(o=Math.acos(-p),d,-h,c):4===this.face?r=Oe(o=Math.acos(-h),d,p,c):(o=r=0,c.value=1)}return a=Math.atan(12/f*(r+Math.acos(Math.sin(r)*Math.cos(l))-s)),i=Math.sqrt((1-Math.cos(o))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(r))))),2===c.value?a+=s:3===c.value?a+=f:4===c.value&&(a+=1.5*f),u.x=i*Math.cos(a),u.y=i*Math.sin(a),u.x=u.x*this.a+this.x0,u.y=u.y*this.a+this.y0,t.x=u.x,t.y=u.y,t},inverse:function(t){var e,n,r,o,i,a,u,c,l,p,h,d,y={lam:0,phi:0},g={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?g.value=1:t.y>=0&&t.y>=Math.abs(t.x)?(g.value=2,e-=s):t.x<0&&-t.x>=Math.abs(t.y)?(g.value=3,e=e<0?e+f:e-f):(g.value=4,e+=s),l=f/12*Math.tan(e),i=Math.sin(l)/(Math.cos(l)-1/Math.sqrt(2)),a=Math.atan(i),(u=1-(r=Math.cos(e))*r*(o=Math.tan(n))*o*(1-Math.cos(Math.atan(1/Math.cos(a)))))<-1?u=-1:u>1&&(u=1),5===this.face)c=Math.acos(u),y.phi=s-c,1===g.value?y.lam=a+s:2===g.value?y.lam=a<0?a+f:a-f:3===g.value?y.lam=a-s:y.lam=a;else if(6===this.face)c=Math.acos(u),y.phi=c-s,1===g.value?y.lam=-a+s:2===g.value?y.lam=-a:3===g.value?y.lam=-a-s:y.lam=a<0?-a-f:-a+f;else{var v,b,m;l=(v=u)*v,b=(l+=(m=l>=1?0:Math.sqrt(1-l)*Math.sin(a))*m)>=1?0:Math.sqrt(1-l),2===g.value?(l=b,b=-m,m=l):3===g.value?(b=-b,m=-m):4===g.value&&(l=b,b=m,m=-l),2===this.face?(l=v,v=-b,b=l):3===this.face?(v=-v,b=-b):4===this.face&&(l=v,v=b,b=-l),y.phi=Math.acos(-m)-s,y.lam=Math.atan2(b,v),2===this.face?y.lam=Ce(y.lam,-s):3===this.face?y.lam=Ce(y.lam,-f):4===this.face&&(y.lam=Ce(y.lam,+s))}return 0!==this.es&&(p=y.phi<0?1:0,h=Math.tan(y.phi),d=this.b/Math.sqrt(h*h+this.one_minus_f_squared),y.phi=Math.atan(Math.sqrt(this.a*this.a-d*d)/(this.one_minus_f*d)),p&&(y.phi=-y.phi)),y.lam+=this.long0,t.x=y.lam,t.y=y.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]};var Me=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],je=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Ne=.8487,Ie=1.3523,Te=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))};const Ae={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var e=R(t.x-this.long0),n=Math.abs(t.y),r=Math.floor(11.459155902616464*n);r<0?r=0:r>=18&&(r=17);var o={x:Te(Me[r],n=c*(n-.08726646259971647*r))*e,y:Te(je[r],n)};return t.y<0&&(o.y=-o.y),o.x=o.x*this.a*Ne+this.x0,o.y=o.y*this.a*Ie+this.y0,o},inverse:function(t){var e={x:(t.x-this.x0)/(this.a*Ne),y:Math.abs(t.y-this.y0)/(this.a*Ie)};if(e.y>=1)e.x/=Me[18][0],e.y=t.y<0?-s:s;else{var n=Math.floor(18*e.y);for(n<0?n=0:n>=18&&(n=17);;)if(je[n][0]>e.y)--n;else{if(!(je[n+1][0]<=e.y))break;++n}var r=je[n],o=5*(e.y-r[0])/(je[n+1][0]-r[0]);o=function(t,e,n,r){for(var o=e;r;--r){var i=t(o);if(o-=i,Math.abs(i)<1e-10)break}return o}((function(t){return(Te(r,t)-e.y)/function(t,e){return t[1]+e*(2*t[2]+3*e*t[3])}(r,t)}),o,0,100),e.x/=Te(Me[n],o),e.y=(5*n+o)*u,t.y<0&&(e.y=-e.y)}return e.x=R(e.x+this.long0),e},names:["Robinson","robin"]},De={init:function(){this.name="geocent"},forward:function(t){return nt(t,this.es,this.a)},inverse:function(t){return rt(t,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]};var Re={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};const ke={init:function(){if(Object.keys(Re).forEach(function(t){if(void 0===this[t])this[t]=Re[t].def;else{if(Re[t].num&&isNaN(this[t]))throw new Error("Invalid parameter value, must be numeric "+t+" = "+this[t]);Re[t].num&&(this[t]=parseFloat(this[t]))}Re[t].degrees&&(this[t]=this[t]*u)}.bind(this)),Math.abs(Math.abs(this.lat0)-s)<a?this.mode=this.lat0<0?1:0:Math.abs(this.lat0)<a?this.mode=2:(this.mode=3,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)},forward:function(t){t.x-=this.long0;var e,n,r,o,i=Math.sin(t.y),s=Math.cos(t.y),a=Math.cos(t.x);switch(this.mode){case 3:n=this.sinph0*i+this.cosph0*s*a;break;case 2:n=s*a;break;case 1:n=-i;break;case 0:n=i}switch(e=(n=this.pn1/(this.p-n))*s*Math.sin(t.x),this.mode){case 3:n*=this.cosph0*i-this.sinph0*s*a;break;case 2:n*=i;break;case 0:n*=-s*a;break;case 1:n*=s*a}return o=1/((r=n*this.cg+e*this.sg)*this.sw*this.h1+this.cw),e=(e*this.cg-n*this.sg)*this.cw*o,n=r*o,t.x=e*this.a,t.y=n*this.a,t},inverse:function(t){t.x/=this.a,t.y/=this.a;var e,n,r,o={x:t.x,y:t.y};r=1/(this.pn1-t.y*this.sw),e=this.pn1*t.x*r,n=this.pn1*t.y*this.cw*r,t.x=e*this.cg+n*this.sg,t.y=n*this.cg-e*this.sg;var i=Vt(t.x,t.y);if(Math.abs(i)<a)o.x=0,o.y=t.y;else{var s,u;switch(u=1-i*i*this.pfact,u=(this.p-Math.sqrt(u))/(this.pn1/i+i/this.pn1),s=Math.sqrt(1-u*u),this.mode){case 3:o.y=Math.asin(s*this.sinph0+t.y*u*this.cosph0/i),t.y=(s-this.sinph0*Math.sin(o.y))*i,t.x*=u*this.cosph0;break;case 2:o.y=Math.asin(t.y*u/i),t.y=s*i,t.x*=u;break;case 0:o.y=Math.asin(s),t.y=-t.y;break;case 1:o.y=-Math.asin(s)}o.x=Math.atan2(t.x,t.y)}return t.x=o.x+this.long0,t.y=o.y,t},names:["Tilted_Perspective","tpers"]},Le={init:function(){if(this.flip_axis="x"===this.sweep?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,0!==this.es){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")},forward:function(t){var e,n,r,o,i=t.x,s=t.y;if(i-=this.long0,"ellipse"===this.shape){s=Math.atan(this.radius_p2*Math.tan(s));var a=this.radius_p/Vt(this.radius_p*Math.cos(s),Math.sin(s));if(n=a*Math.cos(i)*Math.cos(s),r=a*Math.sin(i)*Math.cos(s),o=a*Math.sin(s),(this.radius_g-n)*n-r*r-o*o*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;e=this.radius_g-n,this.flip_axis?(t.x=this.radius_g_1*Math.atan(r/Vt(o,e)),t.y=this.radius_g_1*Math.atan(o/e)):(t.x=this.radius_g_1*Math.atan(r/e),t.y=this.radius_g_1*Math.atan(o/Vt(r,e)))}else"sphere"===this.shape&&(e=Math.cos(s),n=Math.cos(i)*e,r=Math.sin(i)*e,o=Math.sin(s),e=this.radius_g-n,this.flip_axis?(t.x=this.radius_g_1*Math.atan(r/Vt(o,e)),t.y=this.radius_g_1*Math.atan(o/e)):(t.x=this.radius_g_1*Math.atan(r/e),t.y=this.radius_g_1*Math.atan(o/Vt(r,e))));return t.x=t.x*this.a,t.y=t.y*this.a,t},inverse:function(t){var e,n,r,o,i=-1,s=0,a=0;if(t.x=t.x/this.a,t.y=t.y/this.a,"ellipse"===this.shape){this.flip_axis?(a=Math.tan(t.y/this.radius_g_1),s=Math.tan(t.x/this.radius_g_1)*Vt(1,a)):(s=Math.tan(t.x/this.radius_g_1),a=Math.tan(t.y/this.radius_g_1)*Vt(1,s));var u=a/this.radius_p;if(e=s*s+u*u+i*i,(r=(n=2*this.radius_g*i)*n-4*e*this.C)<0)return t.x=Number.NaN,t.y=Number.NaN,t;o=(-n-Math.sqrt(r))/(2*e),i=this.radius_g+o*i,s*=o,a*=o,t.x=Math.atan2(s,i),t.y=Math.atan(a*Math.cos(t.x)/i),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if("sphere"===this.shape){if(this.flip_axis?(a=Math.tan(t.y/this.radius_g_1),s=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+a*a)):(s=Math.tan(t.x/this.radius_g_1),a=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+s*s)),e=s*s+a*a+i*i,(r=(n=2*this.radius_g*i)*n-4*e*this.C)<0)return t.x=Number.NaN,t.y=Number.NaN,t;o=(-n-Math.sqrt(r))/(2*e),i=this.radius_g+o*i,s*=o,a*=o,t.x=Math.atan2(s,i),t.y=Math.atan(a*Math.cos(t.x)/i)}return t.x=t.x+this.long0,t},names:["Geostationary Satellite View","Geostationary_Satellite","geos"]};var Ge;yt.defaultDatum="WGS84",yt.Proj=et,yt.WGS84=new yt.Proj("WGS84"),yt.Point=It,yt.toPoint=ct,yt.defs=j,yt.nadgrid=function(t,e){var n=new DataView(e),r=function(t){var e=t.getInt32(8,!1);return 11!==e&&(11!==(e=t.getInt32(8,!0))&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}(n),o=function(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:Z(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}(n,r);o.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var i=function(t,e,n){for(var r=[],o=0;o<e.nSubgrids;o++){var i=$(t,176,n),s=K(t,176,i,n),a=Math.round(1+(i.upperLongitude-i.lowerLongitude)/i.longitudeInterval),u=Math.round(1+(i.upperLatitude-i.lowerLatitude)/i.latitudeInterval);r.push({ll:[H(i.lowerLongitude),H(i.lowerLatitude)],del:[H(i.longitudeInterval),H(i.latitudeInterval)],lim:[a,u],count:i.gridNodeCount,cvs:Q(s)})}return r}(n,o,r),s={header:o,subgrids:i};return X[t]=s,s},yt.transform=pt,yt.mgrs=Pt,yt.version="__VERSION__",(Ge=yt).Proj.projections.add(Gt),Ge.Proj.projections.add(Ut),Ge.Proj.projections.add(qt),Ge.Proj.projections.add(Xt),Ge.Proj.projections.add(Yt),Ge.Proj.projections.add(Ht),Ge.Proj.projections.add(Qt),Ge.Proj.projections.add($t),Ge.Proj.projections.add(Kt),Ge.Proj.projections.add(ue),Ge.Proj.projections.add(le),Ge.Proj.projections.add(fe),Ge.Proj.projections.add(he),Ge.Proj.projections.add(de),Ge.Proj.projections.add(ye),Ge.Proj.projections.add(ge),Ge.Proj.projections.add(ve),Ge.Proj.projections.add(be),Ge.Proj.projections.add(me),Ge.Proj.projections.add(_e),Ge.Proj.projections.add(Pe),Ge.Proj.projections.add(we),Ge.Proj.projections.add(Ee),Ge.Proj.projections.add(xe),Ge.Proj.projections.add(Se),Ge.Proj.projections.add(Ae),Ge.Proj.projections.add(De),Ge.Proj.projections.add(ke),Ge.Proj.projections.add(Le);const Fe=yt},82582:function(t){t.exports=function(){"use strict";function t(t,r,o,i,s){!function t(n,r,o,i,s){for(;i>o;){if(i-o>600){var a=i-o+1,u=r-o+1,c=Math.log(a),l=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*l*(a-l)/a)*(u-a/2<0?-1:1);t(n,r,Math.max(o,Math.floor(r-u*l/a+p)),Math.min(i,Math.floor(r+(a-u)*l/a+p)),s)}var f=n[r],h=o,d=i;for(e(n,o,r),s(n[i],f)>0&&e(n,o,i);h<d;){for(e(n,h,d),h++,d--;s(n[h],f)<0;)h++;for(;s(n[d],f)>0;)d--}0===s(n[o],f)?e(n,o,d):e(n,++d,i),d<=r&&(o=d+1),r<=d&&(i=d-1)}}(t,r,o||0,i||t.length-1,s||n)}function e(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function n(t,e){return t<e?-1:t>e?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function i(t,e){s(t,0,t.children.length,e,t)}function s(t,e,n,r,o){o||(o=d(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var i=e;i<n;i++){var s=t.children[i];a(o,t.leaf?r(s):s)}return o}function a(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function u(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function l(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function p(t){return t.maxX-t.minX+(t.maxY-t.minY)}function f(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function h(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function d(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function y(e,n,r,o,i){for(var s=[n,r];s.length;)if(!((r=s.pop())-(n=s.pop())<=o)){var a=n+Math.ceil((r-n)/o/2)*o;t(e,a,n,r,i),s.push(n,a,a,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var e=this.data,n=[];if(!h(t,e))return n;for(var r=this.toBBox,o=[];e;){for(var i=0;i<e.children.length;i++){var s=e.children[i],a=e.leaf?r(s):s;h(t,a)&&(e.leaf?n.push(s):f(t,a)?this._all(s,n):o.push(s))}e=o.pop()}return n},r.prototype.collides=function(t){var e=this.data;if(!h(t,e))return!1;for(var n=[];e;){for(var r=0;r<e.children.length;r++){var o=e.children[r],i=e.leaf?this.toBBox(o):o;if(h(t,i)){if(e.leaf||f(t,i))return!0;n.push(o)}}e=n.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=d([]),this},r.prototype.remove=function(t,e){if(!t)return this;for(var n,r,i,s=this.data,a=this.toBBox(t),u=[],c=[];s||u.length;){if(s||(s=u.pop(),r=u[u.length-1],n=c.pop(),i=!0),s.leaf){var l=o(t,s.children,e);if(-1!==l)return s.children.splice(l,1),u.push(s),this._condense(u),this}i||s.leaf||!f(s,a)?r?(n++,s=r.children[n],i=!1):s=null:(u.push(s),c.push(n),n=0,r=s,s=s.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,e){return t.minX-e.minX},r.prototype.compareMinY=function(t,e){return t.minY-e.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},r.prototype._build=function(t,e,n,r){var o,s=n-e+1,a=this._maxEntries;if(s<=a)return i(o=d(t.slice(e,n+1)),this.toBBox),o;r||(r=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,r-1))),(o=d([])).leaf=!1,o.height=r;var u=Math.ceil(s/a),c=u*Math.ceil(Math.sqrt(a));y(t,e,n,c,this.compareMinX);for(var l=e;l<=n;l+=c){var p=Math.min(l+c-1,n);y(t,l,p,u,this.compareMinY);for(var f=l;f<=p;f+=u){var h=Math.min(f+u-1,p);o.children.push(this._build(t,f,h,r-1))}}return i(o,this.toBBox),o},r.prototype._chooseSubtree=function(t,e,n,r){for(;r.push(e),!e.leaf&&r.length-1!==n;){for(var o=1/0,i=1/0,s=void 0,a=0;a<e.children.length;a++){var u=e.children[a],c=l(u),p=(f=t,h=u,(Math.max(h.maxX,f.maxX)-Math.min(h.minX,f.minX))*(Math.max(h.maxY,f.maxY)-Math.min(h.minY,f.minY))-c);p<i?(i=p,o=c<o?c:o,s=u):p===i&&c<o&&(o=c,s=u)}e=s||e.children[0]}var f,h;return e},r.prototype._insert=function(t,e,n){var r=n?t:this.toBBox(t),o=[],i=this._chooseSubtree(r,this.data,e,o);for(i.children.push(t),a(i,r);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(r,o,e)},r.prototype._split=function(t,e){var n=t[e],r=n.children.length,o=this._minEntries;this._chooseSplitAxis(n,o,r);var s=this._chooseSplitIndex(n,o,r),a=d(n.children.splice(s,n.children.length-s));a.height=n.height,a.leaf=n.leaf,i(n,this.toBBox),i(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},r.prototype._splitRoot=function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.leaf=!1,i(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,e,n){for(var r,o,i,a,u,c,p,f=1/0,h=1/0,d=e;d<=n-e;d++){var y=s(t,0,d,this.toBBox),g=s(t,d,n,this.toBBox),v=(o=y,i=g,void 0,void 0,void 0,void 0,a=Math.max(o.minX,i.minX),u=Math.max(o.minY,i.minY),c=Math.min(o.maxX,i.maxX),p=Math.min(o.maxY,i.maxY),Math.max(0,c-a)*Math.max(0,p-u)),b=l(y)+l(g);v<f?(f=v,r=d,h=b<h?b:h):v===f&&b<h&&(h=b,r=d)}return r||n-e},r.prototype._chooseSplitAxis=function(t,e,n){var r=t.leaf?this.compareMinX:u,o=t.leaf?this.compareMinY:c;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,o)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,e,n,r){t.children.sort(r);for(var o=this.toBBox,i=s(t,0,e,o),u=s(t,n-e,n,o),c=p(i)+p(u),l=e;l<n-e;l++){var f=t.children[l];a(i,t.leaf?o(f):f),c+=p(i)}for(var h=n-e-1;h>=e;h--){var d=t.children[h];a(u,t.leaf?o(d):d),c+=p(u)}return c},r.prototype._adjustParentBBoxes=function(t,e,n){for(var r=n;r>=0;r--)a(e[r],t)},r.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():i(t[e],this.toBBox)},r}()},53697:(t,e,n)=>{"use strict";var r=n(25972).functionsHaveConfigurableNames(),o=Object,i=TypeError;t.exports=function(){if(null!=this&&this!==o(this))throw new i("RegExp.prototype.flags getter called on non-object");var t="";return this.hasIndices&&(t+="d"),this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.sticky&&(t+="y"),t},r&&Object.defineProperty&&Object.defineProperty(t.exports,"name",{value:"get flags"})},2847:(t,e,n)=>{"use strict";var r=n(4289),o=n(55559),i=n(53697),s=n(71721),a=n(32753),u=o(s());r(u,{getPolyfill:s,implementation:i,shim:a}),t.exports=u},71721:(t,e,n)=>{"use strict";var r=n(53697),o=n(4289).supportsDescriptors,i=Object.getOwnPropertyDescriptor;t.exports=function(){if(o&&"gim"===/a/gim.flags){var t=i(RegExp.prototype,"flags");if(t&&"function"==typeof t.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var e="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){e+="d"}}),Object.defineProperty(n,"sticky",{get:function(){e+="y"}}),"dy"===e)return t.get}}return r}},32753:(t,e,n)=>{"use strict";var r=n(4289).supportsDescriptors,o=n(71721),i=Object.getOwnPropertyDescriptor,s=Object.defineProperty,a=TypeError,u=Object.getPrototypeOf,c=/a/;t.exports=function(){if(!r||!u)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=o(),e=u(c),n=i(e,"flags");return n&&n.get===t||s(e,"flags",{configurable:!0,enumerable:!1,get:t}),t}},88639:function(t,e){!function(t){"use strict";const e=134217729;function n(t,e,n,r,o){let i,s,a,u,c=e[0],l=r[0],p=0,f=0;l>c==l>-c?(i=c,c=e[++p]):(i=l,l=r[++f]);let h=0;if(p<t&&f<n)for(l>c==l>-c?(a=i-((s=c+i)-c),c=e[++p]):(a=i-((s=l+i)-l),l=r[++f]),i=s,0!==a&&(o[h++]=a);p<t&&f<n;)l>c==l>-c?(a=i-((s=i+c)-(u=s-i))+(c-u),c=e[++p]):(a=i-((s=i+l)-(u=s-i))+(l-u),l=r[++f]),i=s,0!==a&&(o[h++]=a);for(;p<t;)a=i-((s=i+c)-(u=s-i))+(c-u),c=e[++p],i=s,0!==a&&(o[h++]=a);for(;f<n;)a=i-((s=i+l)-(u=s-i))+(l-u),l=r[++f],i=s,0!==a&&(o[h++]=a);return 0===i&&0!==h||(o[h++]=i),h}function r(t){return new Float64Array(t)}const o=r(4),i=r(8),s=r(12),a=r(16),u=r(4);t.orient2d=function(t,r,c,l,p,f){const h=(r-f)*(c-p),d=(t-p)*(l-f),y=h-d;if(0===h||0===d||h>0!=d>0)return y;const g=Math.abs(h+d);return Math.abs(y)>=33306690738754716e-32*g?y:-function(t,r,c,l,p,f,h){let d,y,g,v,b,m,_,P,w,E,x,O,C,S,M,j,N,I;const T=t-p,A=c-p,D=r-f,R=l-f;b=(M=(P=T-(_=(m=e*T)-(m-T)))*(E=R-(w=(m=e*R)-(m-R)))-((S=T*R)-_*w-P*w-_*E))-(x=M-(N=(P=D-(_=(m=e*D)-(m-D)))*(E=A-(w=(m=e*A)-(m-A)))-((j=D*A)-_*w-P*w-_*E))),o[0]=M-(x+b)+(b-N),b=(C=S-((O=S+x)-(b=O-S))+(x-b))-(x=C-j),o[1]=C-(x+b)+(b-j),b=(I=O+x)-O,o[2]=O-(I-b)+(x-b),o[3]=I;let k=function(t,e){let n=e[0];for(let t=1;t<4;t++)n+=e[t];return n}(0,o),L=22204460492503146e-32*h;if(k>=L||-k>=L)return k;if(d=t-(T+(b=t-T))+(b-p),g=c-(A+(b=c-A))+(b-p),y=r-(D+(b=r-D))+(b-f),v=l-(R+(b=l-R))+(b-f),0===d&&0===y&&0===g&&0===v)return k;if(L=11093356479670487e-47*h+33306690738754706e-32*Math.abs(k),(k+=T*v+R*d-(D*g+A*y))>=L||-k>=L)return k;b=(M=(P=d-(_=(m=e*d)-(m-d)))*(E=R-(w=(m=e*R)-(m-R)))-((S=d*R)-_*w-P*w-_*E))-(x=M-(N=(P=y-(_=(m=e*y)-(m-y)))*(E=A-(w=(m=e*A)-(m-A)))-((j=y*A)-_*w-P*w-_*E))),u[0]=M-(x+b)+(b-N),b=(C=S-((O=S+x)-(b=O-S))+(x-b))-(x=C-j),u[1]=C-(x+b)+(b-j),b=(I=O+x)-O,u[2]=O-(I-b)+(x-b),u[3]=I;const G=n(4,o,4,u,i);b=(M=(P=T-(_=(m=e*T)-(m-T)))*(E=v-(w=(m=e*v)-(m-v)))-((S=T*v)-_*w-P*w-_*E))-(x=M-(N=(P=D-(_=(m=e*D)-(m-D)))*(E=g-(w=(m=e*g)-(m-g)))-((j=D*g)-_*w-P*w-_*E))),u[0]=M-(x+b)+(b-N),b=(C=S-((O=S+x)-(b=O-S))+(x-b))-(x=C-j),u[1]=C-(x+b)+(b-j),b=(I=O+x)-O,u[2]=O-(I-b)+(x-b),u[3]=I;const F=n(G,i,4,u,s);b=(M=(P=d-(_=(m=e*d)-(m-d)))*(E=v-(w=(m=e*v)-(m-v)))-((S=d*v)-_*w-P*w-_*E))-(x=M-(N=(P=y-(_=(m=e*y)-(m-y)))*(E=g-(w=(m=e*g)-(m-g)))-((j=y*g)-_*w-P*w-_*E))),u[0]=M-(x+b)+(b-N),b=(C=S-((O=S+x)-(b=O-S))+(x-b))-(x=C-j),u[1]=C-(x+b)+(b-j),b=(I=O+x)-O,u[2]=O-(I-b)+(x-b),u[3]=I;const V=n(F,s,4,u,a);return a[V-1]}(t,r,c,l,p,f,g)},t.orient2dfast=function(t,e,n,r,o,i){return(e-i)*(n-o)-(t-o)*(r-i)},Object.defineProperty(t,"__esModule",{value:!0})}(e)},85697:t=>{"use strict";t.exports={eudist:function(t,e,n){for(var r=t.length,o=0,i=0;i<r;i++){var s=(t[i]||0)-(e[i]||0);o+=s*s}return n?Math.sqrt(o):o},mandist:function(t,e,n){for(var r=t.length,o=0,i=0;i<r;i++)o+=Math.abs((t[i]||0)-(e[i]||0));return n?Math.sqrt(o):o},dist:function(t,e,n){var r=Math.abs(t-e);return n?r:r*r}}},97035:(t,e,n)=>{"use strict";var r=n(85697),o=r.eudist,i=r.dist;t.exports={kmrand:function(t,e){for(var n={},r=[],o=e<<2,i=t.length,s=t[0].length>0;r.length<e&&o-- >0;){var a=t[Math.floor(Math.random()*i)],u=s?a.join("_"):""+a;n[u]||(n[u]=!0,r.push(a))}if(r.length<e)throw new Error("Error initializating clusters");return r},kmpp:function(t,e){var n=t[0].length?o:i,r=[],s=t.length,a=t[0].length>0,u=t[Math.floor(Math.random()*s)];for(a&&u.join("_"),r.push(u);r.length<e;){for(var c=[],l=r.length,p=0,f=[],h=0;h<s;h++){for(var d=1/0,y=0;y<l;y++){var g=n(t[h],r[y]);g<=d&&(d=g)}c[h]=d}for(var v=0;v<s;v++)p+=c[v];for(var b=0;b<s;b++)f[b]={i:b,v:t[b],pr:c[b]/p,cs:0};f.sort((function(t,e){return t.pr-e.pr})),f[0].cs=f[0].pr;for(var m=1;m<s;m++)f[m].cs=f[m-1].cs+f[m].pr;for(var _=Math.random(),P=0;P<s-1&&f[P++].cs<_;);r.push(f[P-1].v)}return r}}},21160:(t,e,n)=>{"use strict";var r=n(85697),o=n(97035),i=r.eudist,s=(r.mandist,r.dist,o.kmrand),a=o.kmpp;function u(t,e,n){n=n||[];for(var r=0;r<t;r++)n[r]=e;return n}t.exports=function(t,e,n,r){var o=[],c=[],l=[],p=[],f=!1,h=r||1e4,d=t.length,y=t[0].length,g=y>0,v=[];if(n)o="kmrand"==n?s(t,e):"kmpp"==n?a(t,e):n;else for(var b={};o.length<e;){var m=Math.floor(Math.random()*d);b[m]||(b[m]=!0,o.push(t[m]))}do{u(e,0,v);for(var _=0;_<d;_++){for(var P=1/0,w=0,E=0;E<e;E++)(p=g?i(t[_],o[E]):Math.abs(t[_]-o[E]))<=P&&(P=p,w=E);l[_]=w,v[w]++}for(var x=[],O=(c=[],0);O<e;O++)x[O]=g?u(y,0,x[O]):0,c[O]=o[O];if(g){for(var C=0;C<e;C++)o[C]=[];for(var S=0;S<d;S++)for(var M=x[l[S]],j=t[S],N=0;N<y;N++)M[N]+=j[N];f=!0;for(var I=0;I<e;I++){for(var T=o[I],A=x[I],D=c[I],R=v[I],k=0;k<y;k++)T[k]=A[k]/R||0;if(f)for(var L=0;L<y;L++)if(D[L]!=T[L]){f=!1;break}}}else{for(var G=0;G<d;G++)x[l[G]]+=t[G];for(var F=0;F<e;F++)o[F]=x[F]/v[F]||0;f=!0;for(var V=0;V<e;V++)if(c[V]!=o[V]){f=!1;break}}f=f||--h<=0}while(!f);return{it:1e4-h,k:e,idxs:l,centroids:o}}},43842:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});class r{constructor(t=[],e=o){if(this.data=t,this.length=this.data.length,this.compare=e,this.length>0)for(let t=(this.length>>1)-1;t>=0;t--)this._down(t)}push(t){this.data.push(t),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:e,compare:n}=this,r=e[t];for(;t>0;){const o=t-1>>1,i=e[o];if(n(r,i)>=0)break;e[t]=i,t=o}e[t]=r}_down(t){const{data:e,compare:n}=this,r=this.length>>1,o=e[t];for(;t<r;){let r=1+(t<<1),i=e[r];const s=r+1;if(s<this.length&&n(e[s],i)<0&&(r=s,i=e[s]),n(i,o)>=0)break;e[t]=i,t=r}e[t]=o}}function o(t,e){return t<e?-1:t>e?1:0}},18146:(t,e,n)=>{"use strict";function r(t){return t}function o(t){if(null==t)return r;var e,n,o=t.scale[0],i=t.scale[1],s=t.translate[0],a=t.translate[1];return function(t,r){r||(e=n=0);var u=2,c=t.length,l=new Array(c);for(l[0]=(e+=t[0])*o+s,l[1]=(n+=t[1])*i+a;u<c;)l[u]=t[u],++u;return l}}function i(t){var e,n=o(t.transform),r=1/0,i=r,s=-r,a=-r;function u(t){(t=n(t))[0]<r&&(r=t[0]),t[0]>s&&(s=t[0]),t[1]<i&&(i=t[1]),t[1]>a&&(a=t[1])}function c(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(c);break;case"Point":u(t.coordinates);break;case"MultiPoint":t.coordinates.forEach(u)}}for(e in t.arcs.forEach((function(t){for(var e,o=-1,u=t.length;++o<u;)(e=n(t[o],o))[0]<r&&(r=e[0]),e[0]>s&&(s=e[0]),e[1]<i&&(i=e[1]),e[1]>a&&(a=e[1])})),t.objects)c(t.objects[e]);return[r,i,s,a]}function s(t,e){return"string"==typeof e&&(e=t.objects[e]),"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map((function(e){return a(t,e)}))}:a(t,e)}function a(t,e){var n=e.id,r=e.bbox,o=null==e.properties?{}:e.properties,i=u(t,e);return null==n&&null==r?{type:"Feature",properties:o,geometry:i}:null==r?{type:"Feature",id:n,properties:o,geometry:i}:{type:"Feature",id:n,bbox:r,properties:o,geometry:i}}function u(t,e){var n=o(t.transform),r=t.arcs;function i(t,e){e.length&&e.pop();for(var o=r[t<0?~t:t],i=0,s=o.length;i<s;++i)e.push(n(o[i],i));t<0&&function(t,e){for(var n,r=t.length,o=r-e;o<--r;)n=t[o],t[o++]=t[r],t[r]=n}(e,s)}function s(t){return n(t)}function a(t){for(var e=[],n=0,r=t.length;n<r;++n)i(t[n],e);return e.length<2&&e.push(e[0]),e}function u(t){for(var e=a(t);e.length<4;)e.push(e[0]);return e}function c(t){return t.map(u)}return function t(e){var n,r=e.type;switch(r){case"GeometryCollection":return{type:r,geometries:e.geometries.map(t)};case"Point":n=s(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(s);break;case"LineString":n=a(e.arcs);break;case"MultiLineString":n=e.arcs.map(a);break;case"Polygon":n=c(e.arcs);break;case"MultiPolygon":n=e.arcs.map(c);break;default:return null}return{type:r,coordinates:n}}(e)}function c(t,e){var n={},r={},o={},i=[],s=-1;function a(t,e){for(var r in t){var o=t[r];delete e[o.start],delete o.start,delete o.end,o.forEach((function(t){n[t<0?~t:t]=1})),i.push(o)}}return e.forEach((function(n,r){var o,i=t.arcs[n<0?~n:n];i.length<3&&!i[1][0]&&!i[1][1]&&(o=e[++s],e[s]=n,e[r]=o)})),e.forEach((function(e){var n,i,s=function(e){var n,r=t.arcs[e<0?~e:e],o=r[0];return t.transform?(n=[0,0],r.forEach((function(t){n[0]+=t[0],n[1]+=t[1]}))):n=r[r.length-1],e<0?[n,o]:[o,n]}(e),a=s[0],u=s[1];if(n=o[a])if(delete o[n.end],n.push(e),n.end=u,i=r[u]){delete r[i.start];var c=i===n?n:n.concat(i);r[c.start=n.start]=o[c.end=i.end]=c}else r[n.start]=o[n.end]=n;else if(n=r[u])if(delete r[n.start],n.unshift(e),n.start=a,i=o[a]){delete o[i.end];var l=i===n?n:i.concat(n);r[l.start=i.start]=o[l.end=n.end]=l}else r[n.start]=o[n.end]=n;else r[(n=[e]).start=a]=o[n.end=u]=n})),a(o,r),a(r,o),e.forEach((function(t){n[t<0?~t:t]||i.push([t])})),i}function l(t){return u(t,p.apply(this,arguments))}function p(t,e,n){var r,o,i;if(arguments.length>1)r=f(0,e,n);else for(o=0,r=new Array(i=t.arcs.length);o<i;++o)r[o]=o;return{type:"MultiLineString",arcs:c(t,r)}}function f(t,e,n){var r,o=[],i=[];function s(t){var e=t<0?~t:t;(i[e]||(i[e]=[])).push({i:t,g:r})}function a(t){t.forEach(s)}function u(t){t.forEach(a)}return function t(e){switch(r=e,e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"LineString":a(e.arcs);break;case"MultiLineString":case"Polygon":u(e.arcs);break;case"MultiPolygon":!function(t){t.forEach(u)}(e.arcs)}}(e),i.forEach(null==n?function(t){o.push(t[0].i)}:function(t){n(t[0].g,t[t.length-1].g)&&o.push(t[0].i)}),o}function h(t){return u(t,d.apply(this,arguments))}function d(t,e){var n={},r=[],o=[];function i(t){t.forEach((function(e){e.forEach((function(e){(n[e=e<0?~e:e]||(n[e]=[])).push(t)}))})),r.push(t)}function s(e){return function(t){for(var e,n=-1,r=t.length,o=t[r-1],i=0;++n<r;)e=o,o=t[n],i+=e[0]*o[1]-e[1]*o[0];return Math.abs(i)}(u(t,{type:"Polygon",arcs:[e]}).coordinates[0])}return e.forEach((function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Polygon":i(e.arcs);break;case"MultiPolygon":e.arcs.forEach(i)}})),r.forEach((function(t){if(!t._){var e=[],r=[t];for(t._=1,o.push(e);t=r.pop();)e.push(t),t.forEach((function(t){t.forEach((function(t){n[t<0?~t:t].forEach((function(t){t._||(t._=1,r.push(t))}))}))}))}})),r.forEach((function(t){delete t._})),{type:"MultiPolygon",arcs:o.map((function(e){var r,o=[];if(e.forEach((function(t){t.forEach((function(t){t.forEach((function(t){n[t<0?~t:t].length<2&&o.push(t)}))}))})),(r=(o=c(t,o)).length)>1)for(var i,a,u=1,l=s(o[0]);u<r;++u)(i=s(o[u]))>l&&(a=o[0],o[0]=o[u],o[u]=a,l=i);return o})).filter((function(t){return t.length>0}))}}function y(t,e){for(var n=0,r=t.length;n<r;){var o=n+r>>>1;t[o]<e?n=o+1:r=o}return n}function g(t){var e={},n=t.map((function(){return[]}));function r(t,n){t.forEach((function(t){t<0&&(t=~t);var r=e[t];r?r.push(n):e[t]=[n]}))}function o(t,e){t.forEach((function(t){r(t,e)}))}var i={LineString:r,MultiLineString:o,Polygon:o,MultiPolygon:function(t,e){t.forEach((function(t){o(t,e)}))}};for(var s in t.forEach((function t(e,n){"GeometryCollection"===e.type?e.geometries.forEach((function(e){t(e,n)})):e.type in i&&i[e.type](e.arcs,n)})),e)for(var a=e[s],u=a.length,c=0;c<u;++c)for(var l=c+1;l<u;++l){var p,f=a[c],h=a[l];(p=n[f])[s=y(p,h)]!==h&&p.splice(s,0,h),(p=n[h])[s=y(p,f)]!==f&&p.splice(s,0,f)}return n}function v(t){if(null==t)return r;var e,n,o=t.scale[0],i=t.scale[1],s=t.translate[0],a=t.translate[1];return function(t,r){r||(e=n=0);var u=2,c=t.length,l=new Array(c),p=Math.round((t[0]-s)/o),f=Math.round((t[1]-a)/i);for(l[0]=p-e,e=p,l[1]=f-n,n=f;u<c;)l[u]=t[u],++u;return l}}function b(t,e){if(t.transform)throw new Error("already quantized");if(e&&e.scale)u=t.bbox;else{if(!((n=Math.floor(e))>=2))throw new Error("n must be ≥2");var n,r=(u=t.bbox||i(t))[0],o=u[1],s=u[2],a=u[3];e={scale:[s-r?(s-r)/(n-1):1,a-o?(a-o)/(n-1):1],translate:[r,o]}}var u,c,l=v(e),p=t.objects,f={};function h(t){return l(t)}function d(t){var e;switch(t.type){case"GeometryCollection":e={type:"GeometryCollection",geometries:t.geometries.map(d)};break;case"Point":e={type:"Point",coordinates:h(t.coordinates)};break;case"MultiPoint":e={type:"MultiPoint",coordinates:t.coordinates.map(h)};break;default:return t}return null!=t.id&&(e.id=t.id),null!=t.bbox&&(e.bbox=t.bbox),null!=t.properties&&(e.properties=t.properties),e}for(c in p)f[c]=d(p[c]);return{type:"Topology",bbox:u,transform:e,objects:f,arcs:t.arcs.map((function(t){var e,n=0,r=1,o=t.length,i=new Array(o);for(i[0]=l(t[0],0);++n<o;)((e=l(t[n],n))[0]||e[1])&&(i[r++]=e);return 1===r&&(i[r++]=[0,0]),i.length=r,i}))}}n.r(e),n.d(e,{bbox:()=>i,feature:()=>s,merge:()=>h,mergeArcs:()=>d,mesh:()=>l,meshArcs:()=>p,neighbors:()=>g,quantize:()=>b,transform:()=>o,untransform:()=>v})},24255:(t,e,n)=>{"use strict";n.r(e),n.d(e,{topology:()=>d});var r=Object.prototype.hasOwnProperty;function o(t,e,n,r,o,i){3===arguments.length&&(r=i=Array,o=null);for(var s=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),a=new i(t),u=t-1,c=0;c<t;++c)s[c]=o;function l(r,i){for(var c=e(r)&u,l=s[c],p=0;l!=o;){if(n(l,r))return a[c]=i;if(++p>=t)throw new Error("full hashmap");l=s[c=c+1&u]}return s[c]=r,a[c]=i,i}function p(r,i){for(var c=e(r)&u,l=s[c],p=0;l!=o;){if(n(l,r))return a[c];if(++p>=t)throw new Error("full hashmap");l=s[c=c+1&u]}return s[c]=r,a[c]=i,i}function f(r,i){for(var c=e(r)&u,l=s[c],p=0;l!=o;){if(n(l,r))return a[c];if(++p>=t)break;l=s[c=c+1&u]}return i}function h(){for(var t=[],e=0,n=s.length;e<n;++e){var r=s[e];r!=o&&t.push(r)}return t}return{set:l,maybeSet:p,get:f,keys:h}}function i(t,e){return t[0]===e[0]&&t[1]===e[1]}var s=new ArrayBuffer(16),a=new Float64Array(s),u=new Uint32Array(s);function c(t){a[0]=t[0],a[1]=t[1];var e=u[0]^u[1];return 2147483647&(e<<5^e>>7^u[2]^u[3])}function l(t,e,n){for(var r,o=e+(n---e>>1);e<o;++e,--n)r=t[e],t[e]=t[n],t[n]=r}function p(t){var e={type:"GeometryCollection",geometries:t.features.map(f)};return null!=t.bbox&&(e.bbox=t.bbox),e}function f(t){var e,n=h(t.geometry);for(e in null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox),t.properties){n.properties=t.properties;break}return n}function h(t){if(null==t)return{type:null};var e="GeometryCollection"===t.type?{type:"GeometryCollection",geometries:t.geometries.map(h)}:"Point"===t.type||"MultiPoint"===t.type?{type:t.type,coordinates:t.coordinates}:{type:t.type,arcs:t.coordinates};return null!=t.bbox&&(e.bbox=t.bbox),e}function d(t,e){var n=function(t){var e=1/0,n=1/0,o=-1/0,i=-1/0;function s(t){null!=t&&r.call(a,t.type)&&a[t.type](t)}var a={GeometryCollection:function(t){t.geometries.forEach(s)},Point:function(t){u(t.coordinates)},MultiPoint:function(t){t.coordinates.forEach(u)},LineString:function(t){c(t.arcs)},MultiLineString:function(t){t.arcs.forEach(c)},Polygon:function(t){t.arcs.forEach(c)},MultiPolygon:function(t){t.arcs.forEach(l)}};function u(t){var r=t[0],s=t[1];r<e&&(e=r),r>o&&(o=r),s<n&&(n=s),s>i&&(i=s)}function c(t){t.forEach(u)}function l(t){t.forEach(c)}for(var p in t)s(t[p]);return o>=e&&i>=n?[e,n,o,i]:void 0}(t=function(t){var e,n,r={};for(e in t)r[e]=null==(n=t[e])?{type:null}:("FeatureCollection"===n.type?p:"Feature"===n.type?f:h)(n);return r}(t)),s=e>0&&n&&function(t,e,n){var o=e[0],i=e[1],s=e[2],a=e[3],u=s-o?(n-1)/(s-o):1,c=a-i?(n-1)/(a-i):1;function l(t){return[Math.round((t[0]-o)*u),Math.round((t[1]-i)*c)]}function p(t,e){for(var n,r,s,a,l,p=-1,f=0,h=t.length,d=new Array(h);++p<h;)n=t[p],a=Math.round((n[0]-o)*u),l=Math.round((n[1]-i)*c),a===r&&l===s||(d[f++]=[r=a,s=l]);for(d.length=f;f<e;)f=d.push([d[0][0],d[0][1]]);return d}function f(t){return p(t,2)}function h(t){return p(t,4)}function d(t){return t.map(h)}function y(t){null!=t&&r.call(g,t.type)&&g[t.type](t)}var g={GeometryCollection:function(t){t.geometries.forEach(y)},Point:function(t){t.coordinates=l(t.coordinates)},MultiPoint:function(t){t.coordinates=t.coordinates.map(l)},LineString:function(t){t.arcs=f(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(f)},Polygon:function(t){t.arcs=d(t.arcs)},MultiPolygon:function(t){t.arcs=t.arcs.map(d)}};for(var v in t)y(t[v]);return{scale:[1/u,1/c],translate:[o,i]}}(t,n,e),a=function(t){var e,n,r,s,a=t.coordinates,u=t.lines,l=t.rings,p=u.length+l.length;for(delete t.lines,delete t.rings,r=0,s=u.length;r<s;++r)for(e=u[r];e=e.next;)++p;for(r=0,s=l.length;r<s;++r)for(n=l[r];n=n.next;)++p;var f=o(2*p*1.4,c,i),h=t.arcs=[];for(r=0,s=u.length;r<s;++r){e=u[r];do{d(e)}while(e=e.next)}for(r=0,s=l.length;r<s;++r)if((n=l[r]).next)do{d(n)}while(n=n.next);else y(n);function d(t){var e,n,r,o,i,s,u,c;if(r=f.get(e=a[t[0]]))for(u=0,c=r.length;u<c;++u)if(g(o=r[u],t))return t[0]=o[0],void(t[1]=o[1]);if(i=f.get(n=a[t[1]]))for(u=0,c=i.length;u<c;++u)if(v(s=i[u],t))return t[1]=s[0],void(t[0]=s[1]);r?r.push(t):f.set(e,[t]),i?i.push(t):f.set(n,[t]),h.push(t)}function y(t){var e,n,r,o,i;if(n=f.get(a[t[0]]))for(o=0,i=n.length;o<i;++o){if(b(r=n[o],t))return t[0]=r[0],void(t[1]=r[1]);if(m(r,t))return t[0]=r[1],void(t[1]=r[0])}if(n=f.get(e=a[t[0]+_(t)]))for(o=0,i=n.length;o<i;++o){if(b(r=n[o],t))return t[0]=r[0],void(t[1]=r[1]);if(m(r,t))return t[0]=r[1],void(t[1]=r[0])}n?n.push(t):f.set(e,[t]),h.push(t)}function g(t,e){var n=t[0],r=e[0],o=t[1];if(n-o!=r-e[1])return!1;for(;n<=o;++n,++r)if(!i(a[n],a[r]))return!1;return!0}function v(t,e){var n=t[0],r=e[0],o=t[1],s=e[1];if(n-o!=r-s)return!1;for(;n<=o;++n,--s)if(!i(a[n],a[s]))return!1;return!0}function b(t,e){var n=t[0],r=e[0],o=t[1]-n;if(o!==e[1]-r)return!1;for(var s=_(t),u=_(e),c=0;c<o;++c)if(!i(a[n+(c+s)%o],a[r+(c+u)%o]))return!1;return!0}function m(t,e){var n=t[0],r=e[0],o=t[1],s=e[1],u=o-n;if(u!==s-r)return!1;for(var c=_(t),l=u-_(e),p=0;p<u;++p)if(!i(a[n+(p+c)%u],a[s-(p+l)%u]))return!1;return!0}function _(t){for(var e=t[0],n=t[1],r=e,o=r,i=a[r];++r<n;){var s=a[r];(s[0]<i[0]||s[0]===i[0]&&s[1]<i[1])&&(o=r,i=s)}return o-e}return t}(function(t){var e,n,r,s,a,u,p,f=function(t){var e,n,r,s,a=t.coordinates,u=t.lines,l=t.rings,p=function(){for(var t=o(1.4*a.length,x,O,Int32Array,-1,Int32Array),e=new Int32Array(a.length),n=0,r=a.length;n<r;++n)e[n]=t.maybeSet(n,n);return e}(),f=new Int32Array(a.length),h=new Int32Array(a.length),d=new Int32Array(a.length),y=new Int8Array(a.length),g=0;for(e=0,n=a.length;e<n;++e)f[e]=h[e]=d[e]=-1;for(e=0,n=u.length;e<n;++e){var v=u[e],b=v[0],m=v[1];for(r=p[b],s=p[++b],++g,y[r]=1;++b<=m;)E(e,r,r=s,s=p[b]);++g,y[s]=1}for(e=0,n=a.length;e<n;++e)f[e]=-1;for(e=0,n=l.length;e<n;++e){var _=l[e],P=_[0]+1,w=_[1];for(E(e,p[w-1],r=p[P-1],s=p[P]);++P<=w;)E(e,r,r=s,s=p[P])}function E(t,e,n,r){if(f[n]!==t){f[n]=t;var o=h[n];if(o>=0){var i=d[n];o===e&&i===r||o===r&&i===e||(++g,y[n]=1)}else h[n]=e,d[n]=r}}function x(t){return c(a[t])}function O(t,e){return i(a[t],a[e])}f=h=d=null;var C,S=function(t,e,n,r,o){3===arguments.length&&(r=Array,o=null);for(var i=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),s=t-1,a=0;a<t;++a)i[a]=o;function u(r){for(var a=e(r)&s,u=i[a],c=0;u!=o;){if(n(u,r))return!0;if(++c>=t)throw new Error("full hashset");u=i[a=a+1&s]}return i[a]=r,!0}function c(r){for(var a=e(r)&s,u=i[a],c=0;u!=o;){if(n(u,r))return!0;if(++c>=t)break;u=i[a=a+1&s]}return!1}function l(){for(var t=[],e=0,n=i.length;e<n;++e){var r=i[e];r!=o&&t.push(r)}return t}return{add:u,has:c,values:l}}(1.4*g,c,i);for(e=0,n=a.length;e<n;++e)y[C=p[e]]&&S.add(a[C]);return S}(t),h=t.coordinates,d=t.lines,y=t.rings;for(n=0,r=d.length;n<r;++n)for(var g=d[n],v=g[0],b=g[1];++v<b;)f.has(h[v])&&(e={0:v,1:g[1]},g[1]=v,g=g.next=e);for(n=0,r=y.length;n<r;++n)for(var m=y[n],_=m[0],P=_,w=m[1],E=f.has(h[_]);++P<w;)f.has(h[P])&&(E?(e={0:P,1:m[1]},m[1]=P,m=m.next=e):(p=w-P,l(s=h,a=_,u=w),l(s,a,a+p),l(s,a+p,u),h[w]=h[_],E=!0,P=_));return t}(function(t){var e=-1,n=[],o=[],i=[];function s(t){t&&r.call(a,t.type)&&a[t.type](t)}var a={GeometryCollection:function(t){t.geometries.forEach(s)},LineString:function(t){t.arcs=u(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(u)},Polygon:function(t){t.arcs=t.arcs.map(c)},MultiPolygon:function(t){t.arcs=t.arcs.map(l)}};function u(t){for(var r=0,o=t.length;r<o;++r)i[++e]=t[r];var s={0:e-o+1,1:e};return n.push(s),s}function c(t){for(var n=0,r=t.length;n<r;++n)i[++e]=t[n];var s={0:e-r+1,1:e};return o.push(s),s}function l(t){return t.map(c)}for(var p in t)s(t[p]);return{type:"Topology",coordinates:i,lines:n,rings:o,objects:t}}(t))),u=a.coordinates,d=o(1.4*a.arcs.length,y,g);function v(t){t&&r.call(b,t.type)&&b[t.type](t)}t=a.objects,a.bbox=n,a.arcs=a.arcs.map((function(t,e){return d.set(t,e),u.slice(t[0],t[1]+1)})),delete a.coordinates,u=null;var b={GeometryCollection:function(t){t.geometries.forEach(v)},LineString:function(t){t.arcs=m(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(m)},Polygon:function(t){t.arcs=t.arcs.map(m)},MultiPolygon:function(t){t.arcs=t.arcs.map(_)}};function m(t){var e=[];do{var n=d.get(t);e.push(t[0]<t[1]?n:~n)}while(t=t.next);return e}function _(t){return t.map(m)}for(var P in t)v(t[P]);return s&&(a.transform=s,a.arcs=function(t){for(var e=-1,n=t.length;++e<n;){for(var r,o,i=t[e],s=0,a=1,u=i.length,c=i[0],l=c[0],p=c[1];++s<u;)r=(c=i[s])[0],o=c[1],r===l&&o===p||(i[a++]=[r-l,o-p],l=r,p=o);1===a&&(i[a++]=[0,0]),i.length=a}return t}(a.arcs)),a}function y(t){var e,n=t[0],r=t[1];return r<n&&(e=n,n=r,r=e),n+31*r}function g(t,e){var n,r=t[0],o=t[1],i=e[0],s=e[1];return o<r&&(n=r,r=o,o=n),s<i&&(n=i,i=s,s=n),r===i&&o===s}},20675:function(t,e){!function(t){"use strict";function e(){}function n(t){this.message=t||""}function r(t){this.message=t||""}function o(t){this.message=t||""}function i(){}function s(t){return null===t?Dt:t.color}function a(t){return null===t?null:t.parent}function u(t,e){null!==t&&(t.color=e)}function c(t){return null===t?null:t.left}function l(t){return null===t?null:t.right}function p(){this.root_=null,this.size_=0}function f(){}function h(){this.array_=[],arguments[0]instanceof _t&&this.addAll(arguments[0])}function d(){}function y(t){this.message=t||""}function g(){this.array_=[]}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(null==this)throw new TypeError(this+" is not an object");var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,r=1 in arguments&&parseInt(Number(arguments[1]),10)||0;r=r<0?Math.max(n+r,0):Math.min(r,n);var o=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(o=o<0?Math.max(n+arguments[2],0):Math.min(o,n);r<o;)e[r]=t,++r;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var v=function(){};v.prototype.interfaces_=function(){return[]},v.prototype.getClass=function(){return v},v.prototype.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n};var b=function(t){function e(e){t.call(this,e),this.name="IllegalArgumentException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),m=function(){},_={MAX_VALUE:{configurable:!0}};m.isNaN=function(t){return Number.isNaN(t)},m.doubleToLongBits=function(t){return t},m.longBitsToDouble=function(t){return t},m.isInfinite=function(t){return!Number.isFinite(t)},_.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(m,_);var P=function(){},w=function(){},E=function(){},x=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},O={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};x.prototype.setOrdinate=function(t,e){switch(t){case x.X:this.x=e;break;case x.Y:this.y=e;break;case x.Z:this.z=e;break;default:throw new b("Invalid ordinate index: "+t)}},x.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!v.equalsWithTolerance(this.x,e.x,n)&&!!v.equalsWithTolerance(this.y,e.y,n)}},x.prototype.getOrdinate=function(t){switch(t){case x.X:return this.x;case x.Y:return this.y;case x.Z:return this.z}throw new b("Invalid ordinate index: "+t)},x.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||m.isNaN(this.z))&&m.isNaN(t.z)},x.prototype.equals=function(t){return t instanceof x&&this.equals2D(t)},x.prototype.equalInZ=function(t,e){return v.equalsWithTolerance(this.z,t.z,e)},x.prototype.compareTo=function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},x.prototype.clone=function(){},x.prototype.copy=function(){return new x(this)},x.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},x.prototype.distance3D=function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return Math.sqrt(e*e+n*n+r*r)},x.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},x.prototype.hashCode=function(){var t=17;return 37*(t=37*t+x.hashCode(this.x))+x.hashCode(this.y)},x.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},x.prototype.interfaces_=function(){return[P,w,e]},x.prototype.getClass=function(){return x},x.hashCode=function(){if(1===arguments.length){var t=arguments[0],e=m.doubleToLongBits(t);return Math.trunc((e^e)>>>32)}},O.DimensionalComparator.get=function(){return C},O.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},O.NULL_ORDINATE.get=function(){return m.NaN},O.X.get=function(){return 0},O.Y.get=function(){return 1},O.Z.get=function(){return 2},Object.defineProperties(x,O);var C=function(t){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new b("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}};C.prototype.compare=function(t,e){var n=t,r=e,o=C.compare(n.x,r.x);if(0!==o)return o;var i=C.compare(n.y,r.y);return 0!==i?i:this._dimensionsToTest<=2?0:C.compare(n.z,r.z)},C.prototype.interfaces_=function(){return[E]},C.prototype.getClass=function(){return C},C.compare=function(t,e){return t<e?-1:t>e?1:m.isNaN(t)?m.isNaN(e)?0:-1:m.isNaN(e)?1:0};var S=function(){};S.prototype.create=function(){},S.prototype.interfaces_=function(){return[]},S.prototype.getClass=function(){return S};var M=function(){},j={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};M.prototype.interfaces_=function(){return[]},M.prototype.getClass=function(){return M},M.toLocationSymbol=function(t){switch(t){case M.EXTERIOR:return"e";case M.BOUNDARY:return"b";case M.INTERIOR:return"i";case M.NONE:return"-"}throw new b("Unknown location value: "+t)},j.INTERIOR.get=function(){return 0},j.BOUNDARY.get=function(){return 1},j.EXTERIOR.get=function(){return 2},j.NONE.get=function(){return-1},Object.defineProperties(M,j);var N=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1},I=function(){},T={LOG_10:{configurable:!0}};I.prototype.interfaces_=function(){return[]},I.prototype.getClass=function(){return I},I.log10=function(t){var e=Math.log(t);return m.isInfinite(e)||m.isNaN(e)?e:e/I.LOG_10},I.min=function(t,e,n,r){var o=t;return e<o&&(o=e),n<o&&(o=n),r<o&&(o=r),o},I.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],o=arguments[1],i=arguments[2];return r<o?o:r>i?i:r}},I.wrap=function(t,e){return t<0?e- -t%e:t%e},I.max=function(){if(3===arguments.length){var t=arguments[1],e=arguments[2],n=arguments[0];return t>n&&(n=t),e>n&&(n=e),n}if(4===arguments.length){var r=arguments[1],o=arguments[2],i=arguments[3],s=arguments[0];return r>s&&(s=r),o>s&&(s=o),i>s&&(s=i),s}},I.average=function(t,e){return(t+e)/2},T.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(I,T);var A=function(t){this.str=t};A.prototype.append=function(t){this.str+=t},A.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},A.prototype.toString=function(t){return this.str};var D=function(t){this.value=t};D.prototype.intValue=function(){return this.value},D.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},D.isNaN=function(t){return Number.isNaN(t)};var R=function(){};R.isWhitespace=function(t){return t<=32&&t>=0||127===t},R.toUpperCase=function(t){return t.toUpperCase()};var k=function t(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length)if("number"==typeof arguments[0]){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}else"string"==typeof arguments[0]&&t.call(this,t.parse(arguments[0]));else if(2===arguments.length){var r=arguments[0],o=arguments[1];this.init(r,o)}},L={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};k.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},k.prototype.extractSignificantDigits=function(t,e){var n=this.abs(),r=k.magnitude(n._hi),o=k.TEN.pow(r);(n=n.divide(o)).gt(k.TEN)?(n=n.divide(k.TEN),r+=1):n.lt(k.ONE)&&(n=n.multiply(k.TEN),r-=1);for(var i=r+1,s=new A,a=k.MAX_PRINT_DIGITS-1,u=0;u<=a;u++){t&&u===i&&s.append(".");var c=Math.trunc(n._hi);if(c<0)break;var l=!1,p=0;c>9?(l=!0,p="9"):p="0"+c,s.append(p),n=n.subtract(k.valueOf(c)).multiply(k.TEN),l&&n.selfAdd(k.TEN);var f=!0,h=k.magnitude(n._hi);if(h<0&&Math.abs(h)>=a-u&&(f=!1),!f)break}return e[0]=r,s.toString()},k.prototype.sqr=function(){return this.multiply(this)},k.prototype.doubleValue=function(){return this._hi+this._lo},k.prototype.subtract=function(){if(arguments[0]instanceof k){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},k.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},k.prototype.isZero=function(){return 0===this._hi&&0===this._lo},k.prototype.selfSubtract=function(){if(arguments[0]instanceof k){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},k.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},k.prototype.min=function(t){return this.le(t)?this:t},k.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof k){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],o=null,i=null,s=null,a=null,u=null,c=null,l=null,p=null;return u=this._hi/n,p=(o=(c=k.SPLIT*u)-(o=c-u))*(s=(p=k.SPLIT*n)-(s=p-n))-(l=u*n)+o*(a=n-s)+(i=u-o)*s+i*a,p=u+(c=(this._hi-l-p+this._lo-u*r)/n),this._hi=p,this._lo=u-p+c,this}},k.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},k.prototype.divide=function(){if(arguments[0]instanceof k){var t=arguments[0],e=null,n=null,r=null,o=null,i=null,s=null,a=null,u=null;return n=(i=this._hi/t._hi)-(e=(s=k.SPLIT*i)-(e=s-i)),u=e*(r=(u=k.SPLIT*t._hi)-(r=u-t._hi))-(a=i*t._hi)+e*(o=t._hi-r)+n*r+n*o,s=(this._hi-a-u+this._lo-i*t._lo)/t._hi,new k(u=i+s,i-u+s)}if("number"==typeof arguments[0]){var c=arguments[0];return m.isNaN(c)?k.createNaN():k.copy(this).selfDivide(c,0)}},k.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},k.prototype.pow=function(t){if(0===t)return k.valueOf(1);var e=new k(this),n=k.valueOf(1),r=Math.abs(t);if(r>1)for(;r>0;)r%2==1&&n.selfMultiply(e),(r/=2)>0&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},k.prototype.ceil=function(){if(this.isNaN())return k.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new k(t,e)},k.prototype.compareTo=function(t){var e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0},k.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},k.prototype.setValue=function(){if(arguments[0]instanceof k){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},k.prototype.max=function(t){return this.ge(t)?this:t},k.prototype.sqrt=function(){if(this.isZero())return k.valueOf(0);if(this.isNegative())return k.NaN;var t=1/Math.sqrt(this._hi),e=this._hi*t,n=k.valueOf(e),r=this.subtract(n.sqr())._hi*(.5*t);return n.add(r)},k.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof k){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0],n=null,r=null,o=null,i=null,s=null,a=null;return i=(o=this._hi+e)-(s=o-this._hi),r=(a=(i=e-s+(this._hi-i))+this._lo)+(o-(n=o+a)),this._hi=n+r,this._lo=r+(n-this._hi),this}}else if(2===arguments.length){var u=arguments[0],c=arguments[1],l=null,p=null,f=null,h=null,d=null,y=null,g=null;h=this._hi+u,p=this._lo+c,d=h-(y=h-this._hi),f=p-(g=p-this._lo);var v=(l=h+(y=(d=u-y+(this._hi-d))+p))+(y=(f=c-g+(this._lo-f))+(y+(h-l))),b=y+(l-v);return this._hi=v,this._lo=b,this}},k.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof k){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],o=null,i=null,s=null,a=null,u=null,c=null;o=(u=k.SPLIT*this._hi)-this._hi,c=k.SPLIT*n,o=u-o,i=this._hi-o,s=c-n;var l=(u=this._hi*n)+(c=o*(s=c-s)-u+o*(a=n-s)+i*s+i*a+(this._hi*r+this._lo*n)),p=c+(o=u-l);return this._hi=l,this._lo=p,this}},k.prototype.selfSqr=function(){return this.selfMultiply(this)},k.prototype.floor=function(){if(this.isNaN())return k.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new k(t,e)},k.prototype.negate=function(){return this.isNaN()?this:new k(-this._hi,-this._lo)},k.prototype.clone=function(){},k.prototype.multiply=function(){if(arguments[0]instanceof k){var t=arguments[0];return t.isNaN()?k.createNaN():k.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return m.isNaN(e)?k.createNaN():k.copy(this).selfMultiply(e,0)}},k.prototype.isNaN=function(){return m.isNaN(this._hi)},k.prototype.intValue=function(){return Math.trunc(this._hi)},k.prototype.toString=function(){var t=k.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},k.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),r=e[0]+1,o=n;if("."===n.charAt(0))o="0"+n;else if(r<0)o="0."+k.stringOfChar("0",-r)+n;else if(-1===n.indexOf(".")){var i=r-n.length;o=n+k.stringOfChar("0",i)+".0"}return this.isNegative()?"-"+o:o},k.prototype.reciprocal=function(){var t,e,n,r,o=null,i=null,s=null,a=null;t=(n=1/this._hi)-(o=(s=k.SPLIT*n)-(o=s-n)),i=(a=k.SPLIT*this._hi)-this._hi;var u=n+(s=(1-(r=n*this._hi)-(a=o*(i=a-i)-r+o*(e=this._hi-i)+t*i+t*e)-n*this._lo)/this._hi);return new k(u,n-u+s)},k.prototype.toSciNotation=function(){if(this.isZero())return k.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),r=k.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===n.charAt(0))throw new Error("Found leading zero: "+n);var o="";n.length>1&&(o=n.substring(1));var i=n.charAt(0)+"."+o;return this.isNegative()?"-"+i+r:i+r},k.prototype.abs=function(){return this.isNaN()?k.NaN:this.isNegative()?this.negate():new k(this)},k.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},k.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},k.prototype.add=function(){if(arguments[0]instanceof k){var t=arguments[0];return k.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return k.copy(this).selfAdd(e)}},k.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof k){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._hi=n,this._lo=r}},k.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},k.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},k.prototype.trunc=function(){return this.isNaN()?k.NaN:this.isPositive()?this.floor():this.ceil()},k.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},k.prototype.interfaces_=function(){return[e,P,w]},k.prototype.getClass=function(){return k},k.sqr=function(t){return k.valueOf(t).selfMultiply(t)},k.valueOf=function(){if("string"==typeof arguments[0]){var t=arguments[0];return k.parse(t)}if("number"==typeof arguments[0])return new k(arguments[0])},k.sqrt=function(t){return k.valueOf(t).sqrt()},k.parse=function(t){for(var e=0,n=t.length;R.isWhitespace(t.charAt(e));)e++;var r=!1;if(e<n){var o=t.charAt(e);"-"!==o&&"+"!==o||(e++,"-"===o&&(r=!0))}for(var i=new k,s=0,a=0,u=0;!(e>=n);){var c=t.charAt(e);if(e++,R.isDigit(c)){var l=c-"0";i.selfMultiply(k.TEN),i.selfAdd(l),s++}else{if("."!==c){if("e"===c||"E"===c){var p=t.substring(e);try{u=D.parseInt(p)}catch(e){throw e instanceof Error?new Error("Invalid exponent "+p+" in string "+t):e}break}throw new Error("Unexpected character '"+c+"' at position "+e+" in string "+t)}a=s}}var f=i,h=s-a-u;if(0===h)f=i;else if(h>0){var d=k.TEN.pow(h);f=i.divide(d)}else if(h<0){var y=k.TEN.pow(-h);f=i.multiply(y)}return r?f.negate():f},k.createNaN=function(){return new k(m.NaN,m.NaN)},k.copy=function(t){return new k(t)},k.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),r=Math.trunc(Math.floor(n));return 10*Math.pow(10,r)<=e&&(r+=1),r},k.stringOfChar=function(t,e){for(var n=new A,r=0;r<e;r++)n.append(t);return n.toString()},L.PI.get=function(){return new k(3.141592653589793,12246467991473532e-32)},L.TWO_PI.get=function(){return new k(6.283185307179586,24492935982947064e-32)},L.PI_2.get=function(){return new k(1.5707963267948966,6123233995736766e-32)},L.E.get=function(){return new k(2.718281828459045,14456468917292502e-32)},L.NaN.get=function(){return new k(m.NaN,m.NaN)},L.EPS.get=function(){return 123259516440783e-46},L.SPLIT.get=function(){return 134217729},L.MAX_PRINT_DIGITS.get=function(){return 32},L.TEN.get=function(){return k.valueOf(10)},L.ONE.get=function(){return k.valueOf(1)},L.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},L.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(k,L);var G=function(){},F={DP_SAFE_EPSILON:{configurable:!0}};G.prototype.interfaces_=function(){return[]},G.prototype.getClass=function(){return G},G.orientationIndex=function(t,e,n){var r=G.orientationIndexFilter(t,e,n);if(r<=1)return r;var o=k.valueOf(e.x).selfAdd(-t.x),i=k.valueOf(e.y).selfAdd(-t.y),s=k.valueOf(n.x).selfAdd(-e.x),a=k.valueOf(n.y).selfAdd(-e.y);return o.selfMultiply(a).selfSubtract(i.selfMultiply(s)).signum()},G.signOfDet2x2=function(t,e,n,r){return t.multiply(r).selfSubtract(e.multiply(n)).signum()},G.intersection=function(t,e,n,r){var o=k.valueOf(r.y).selfSubtract(n.y).selfMultiply(k.valueOf(e.x).selfSubtract(t.x)),i=k.valueOf(r.x).selfSubtract(n.x).selfMultiply(k.valueOf(e.y).selfSubtract(t.y)),s=o.subtract(i),a=k.valueOf(r.x).selfSubtract(n.x).selfMultiply(k.valueOf(t.y).selfSubtract(n.y)),u=k.valueOf(r.y).selfSubtract(n.y).selfMultiply(k.valueOf(t.x).selfSubtract(n.x)),c=a.subtract(u).selfDivide(s).doubleValue(),l=k.valueOf(t.x).selfAdd(k.valueOf(e.x).selfSubtract(t.x).selfMultiply(c)).doubleValue(),p=k.valueOf(e.x).selfSubtract(t.x).selfMultiply(k.valueOf(t.y).selfSubtract(n.y)),f=k.valueOf(e.y).selfSubtract(t.y).selfMultiply(k.valueOf(t.x).selfSubtract(n.x)),h=p.subtract(f).selfDivide(s).doubleValue(),d=k.valueOf(n.y).selfAdd(k.valueOf(r.y).selfSubtract(n.y).selfMultiply(h)).doubleValue();return new x(l,d)},G.orientationIndexFilter=function(t,e,n){var r=null,o=(t.x-n.x)*(e.y-n.y),i=(t.y-n.y)*(e.x-n.x),s=o-i;if(o>0){if(i<=0)return G.signum(s);r=o+i}else{if(!(o<0))return G.signum(s);if(i>=0)return G.signum(s);r=-o-i}var a=G.DP_SAFE_EPSILON*r;return s>=a||-s>=a?G.signum(s):2},G.signum=function(t){return t>0?1:t<0?-1:0},F.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(G,F);var V=function(){},B={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};B.X.get=function(){return 0},B.Y.get=function(){return 1},B.Z.get=function(){return 2},B.M.get=function(){return 3},V.prototype.setOrdinate=function(t,e,n){},V.prototype.size=function(){},V.prototype.getOrdinate=function(t,e){},V.prototype.getCoordinate=function(){},V.prototype.getCoordinateCopy=function(t){},V.prototype.getDimension=function(){},V.prototype.getX=function(t){},V.prototype.clone=function(){},V.prototype.expandEnvelope=function(t){},V.prototype.copy=function(){},V.prototype.getY=function(t){},V.prototype.toCoordinateArray=function(){},V.prototype.interfaces_=function(){return[w]},V.prototype.getClass=function(){return V},Object.defineProperties(V,B);var z=function(){},U=function(t){function e(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(z),q=function(){};q.arraycopy=function(t,e,n,r,o){for(var i=0,s=e;s<e+o;s++)n[r+i]=t[s],i++},q.getProperty=function(t){return{"line.separator":"\n"}[t]};var W=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this.x=n,this.y=r,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var o=arguments[0],i=arguments[1];this.x=o.y*i.w-i.y*o.w,this.y=i.x*o.w-o.x*i.w,this.w=o.x*i.y-i.x*o.y}else if(arguments[0]instanceof x&&arguments[1]instanceof x){var s=arguments[0],a=arguments[1];this.x=s.y-a.y,this.y=a.x-s.x,this.w=s.x*a.y-a.x*s.y}}else if(3===arguments.length){var u=arguments[0],c=arguments[1],l=arguments[2];this.x=u,this.y=c,this.w=l}else if(4===arguments.length){var p=arguments[0],f=arguments[1],h=arguments[2],d=arguments[3],y=p.y-f.y,g=f.x-p.x,v=p.x*f.y-f.x*p.y,b=h.y-d.y,m=d.x-h.x,_=h.x*d.y-d.x*h.y;this.x=g*_-m*v,this.y=b*v-y*_,this.w=y*m-b*g}};W.prototype.getY=function(){var t=this.y/this.w;if(m.isNaN(t)||m.isInfinite(t))throw new U;return t},W.prototype.getX=function(){var t=this.x/this.w;if(m.isNaN(t)||m.isInfinite(t))throw new U;return t},W.prototype.getCoordinate=function(){var t=new x;return t.x=this.getX(),t.y=this.getY(),t},W.prototype.interfaces_=function(){return[]},W.prototype.getClass=function(){return W},W.intersection=function(t,e,n,r){var o=t.y-e.y,i=e.x-t.x,s=t.x*e.y-e.x*t.y,a=n.y-r.y,u=r.x-n.x,c=n.x*r.y-r.x*n.y,l=o*u-a*i,p=(i*c-u*s)/l,f=(a*s-o*c)/l;if(m.isNaN(p)||m.isInfinite(p)||m.isNaN(f)||m.isInfinite(f))throw new U;return new x(p,f)};var J=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof x){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}}else if(2===arguments.length){var r=arguments[0],o=arguments[1];this.init(r.x,o.x,r.y,o.y)}else if(4===arguments.length){var i=arguments[0],s=arguments[1],a=arguments[2],u=arguments[3];this.init(i,s,a,u)}},X={serialVersionUID:{configurable:!0}};J.prototype.getArea=function(){return this.getWidth()*this.getHeight()},J.prototype.equals=function(t){if(!(t instanceof J))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},J.prototype.intersection=function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new J;var e=this._minx>t._minx?this._minx:t._minx,n=this._miny>t._miny?this._miny:t._miny,r=this._maxx<t._maxx?this._maxx:t._maxx,o=this._maxy<t._maxy?this._maxy:t._maxy;return new J(e,r,n,o)},J.prototype.isNull=function(){return this._maxx<this._minx},J.prototype.getMaxX=function(){return this._maxx},J.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof x){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof J){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&n>=this._minx&&n<=this._maxx&&r>=this._miny&&r<=this._maxy}},J.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof J){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof x){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||r>this._maxy||r<this._miny)}},J.prototype.getMinY=function(){return this._miny},J.prototype.getMinX=function(){return this._minx},J.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof x){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof J){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=r,this._maxy=r):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}},J.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},J.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},J.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},J.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},J.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},J.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},J.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},J.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},J.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},J.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof J){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof x){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.covers(n,r)}},J.prototype.centre=function(){return this.isNull()?null:new x((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},J.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof x){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof J){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var o=arguments[0],i=arguments[1],s=arguments[2],a=arguments[3];o<i?(this._minx=o,this._maxx=i):(this._minx=i,this._maxx=o),s<a?(this._miny=s,this._maxy=a):(this._miny=a,this._maxy=s)}},J.prototype.getMaxY=function(){return this._maxy},J.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},J.prototype.hashCode=function(){var t=17;return 37*(t=37*(t=37*(t=37*t+x.hashCode(this._minx))+x.hashCode(this._maxx))+x.hashCode(this._miny))+x.hashCode(this._maxy)},J.prototype.interfaces_=function(){return[P,e]},J.prototype.getClass=function(){return J},J.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var r=arguments[0],o=arguments[1],i=arguments[2],s=arguments[3],a=Math.min(i.x,s.x),u=Math.max(i.x,s.x),c=Math.min(r.x,o.x),l=Math.max(r.x,o.x);return!(c>u||l<a||(a=Math.min(i.y,s.y),u=Math.max(i.y,s.y),c=Math.min(r.y,o.y),l=Math.max(r.y,o.y),c>u||l<a))}},X.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(J,X);var Y={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},H=function(t){this.geometryFactory=t||new ve};H.prototype.read=function(t){var e,n,r;t=t.replace(/[\n\r]/g," ");var o=Y.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((o=Y.emptyTypeStr.exec(t))[2]=void 0),o&&(n=o[1].toLowerCase(),r=o[2],Q[n]&&(e=Q[n].apply(this,[r]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},H.prototype.write=function(t){return this.extractGeometry(t)},H.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!Z[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+" EMPTY":n+"("+Z[e].apply(this,[t])+")"};var Z={coordinate:function(t){return t.x+" "+t.y},point:function(t){return Z.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+Z.point.apply(this,[t._geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(Z.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(Z.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+Z.linestring.apply(this,[t._geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+Z.linestring.apply(this,[t._shell])+")");for(var n=0,r=t._holes.length;n<r;++n)e.push("("+Z.linestring.apply(this,[t._holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+Z.polygon.apply(this,[t._geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push(this.extractGeometry(t._geometries[n]));return e.join(",")}},Q={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(Y.spaces);return this.geometryFactory.createPoint(new x(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(","),r=[],o=0,i=n.length;o<i;++o)e=n[o].replace(Y.trimParens,"$1"),r.push(Q.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(r)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),r=[],o=0,i=n.length;o<i;++o)e=n[o].trim().split(Y.spaces),r.push(new x(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(r)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),r=[],o=0,i=n.length;o<i;++o)e=n[o].trim().split(Y.spaces),r.push(new x(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(r)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(Y.parenComma),r=[],o=0,i=n.length;o<i;++o)e=n[o].replace(Y.trimParens,"$1"),r.push(Q.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(r)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,n,r,o,i=t.trim().split(Y.parenComma),s=[],a=0,u=i.length;a<u;++a)e=i[a].replace(Y.trimParens,"$1"),n=Q.linestring.apply(this,[e]),r=this.geometryFactory.createLinearRing(n._points),0===a?o=r:s.push(r);return this.geometryFactory.createPolygon(o,s)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(Y.doubleParenComma),r=[],o=0,i=n.length;o<i;++o)e=n[o].replace(Y.trimParens,"$1"),r.push(Q.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(r)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],r=0,o=e.length;r<o;++r)n.push(this.read(e[r]));return this.geometryFactory.createGeometryCollection(n)}},$=function(t){this.parser=new H(t)};$.prototype.write=function(t){return this.parser.write(t)},$.toLineString=function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"};var K=function(t){function e(e){t.call(this,e),this.name="RuntimeException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),tt=function(t){function e(){if(t.call(this),0===arguments.length)t.call(this);else if(1===arguments.length){var e=arguments[0];t.call(this,e)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(K),et=function(){};et.prototype.interfaces_=function(){return[]},et.prototype.getClass=function(){return et},et.shouldNeverReachHere=function(){if(0===arguments.length)et.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new tt("Should never reach here"+(null!==t?": "+t:""))}},et.isTrue=function(){var t;if(1===arguments.length)et.isTrue(arguments[0],null);else if(2===arguments.length&&(t=arguments[1],!arguments[0]))throw null===t?new tt:new tt(t)},et.equals=function(){var t,e,n;if(2===arguments.length)et.equals(t=arguments[0],e=arguments[1],null);else if(3===arguments.length&&(t=arguments[0],n=arguments[2],!(e=arguments[1]).equals(t)))throw new tt("Expected "+t+" but encountered "+e+(null!==n?": "+n:""))};var nt=function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new x,this._intPt[1]=new x,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},rt={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};nt.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},nt.prototype.getTopologySummary=function(){var t=new A;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},nt.prototype.computeIntersection=function(t,e,n,r){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=r,this._result=this.computeIntersect(t,e,n,r)},nt.prototype.getIntersectionNum=function(){return this._result},nt.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},nt.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},nt.prototype.setPrecisionModel=function(t){this._precisionModel=t},nt.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}},nt.prototype.getIntersection=function(t){return this._intPt[t]},nt.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},nt.prototype.hasIntersection=function(){return this._result!==nt.NO_INTERSECTION},nt.prototype.getEdgeDistance=function(t,e){return nt.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},nt.prototype.isCollinear=function(){return this._result===nt.COLLINEAR_INTERSECTION},nt.prototype.toString=function(){return $.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+$.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},nt.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},nt.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},nt.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},nt.prototype.interfaces_=function(){return[]},nt.prototype.getClass=function(){return nt},nt.computeEdgeDistance=function(t,e,n){var r=Math.abs(n.x-e.x),o=Math.abs(n.y-e.y),i=-1;if(t.equals(e))i=0;else if(t.equals(n))i=r>o?r:o;else{var s=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y);0!==(i=r>o?s:a)||t.equals(e)||(i=Math.max(s,a))}return et.isTrue(!(0===i&&!t.equals(e)),"Bad distance calculation"),i},nt.nonRobustComputeEdgeDistance=function(t,e,n){var r=t.x-e.x,o=t.y-e.y,i=Math.sqrt(r*r+o*o);return et.isTrue(!(0===i&&!t.equals(e)),"Invalid distance calculation"),i},rt.DONT_INTERSECT.get=function(){return 0},rt.DO_INTERSECT.get=function(){return 1},rt.COLLINEAR.get=function(){return 2},rt.NO_INTERSECTION.get=function(){return 0},rt.POINT_INTERSECTION.get=function(){return 1},rt.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(nt,rt);var ot=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isInSegmentEnvelopes=function(t){var e=new J(this._inputLines[0][0],this._inputLines[0][1]),n=new J(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&n.contains(t)},e.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var e=arguments[0],n=arguments[1],r=arguments[2];if(this._isProper=!1,J.intersects(n,r,e)&&0===at.orientationIndex(n,r,e)&&0===at.orientationIndex(r,n,e))return this._isProper=!0,(e.equals(n)||e.equals(r))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},e.prototype.normalizeToMinimum=function(t,e,n,r,o){o.x=this.smallestInAbsValue(t.x,e.x,n.x,r.x),o.y=this.smallestInAbsValue(t.y,e.y,n.y,r.y),t.x-=o.x,t.y-=o.y,e.x-=o.x,e.y-=o.y,n.x-=o.x,n.y-=o.y,r.x-=o.x,r.y-=o.y},e.prototype.safeHCoordinateIntersection=function(t,n,r,o){var i=null;try{i=W.intersection(t,n,r,o)}catch(s){if(!(s instanceof U))throw s;i=e.nearestEndpoint(t,n,r,o)}return i},e.prototype.intersection=function(t,n,r,o){var i=this.intersectionWithNormalization(t,n,r,o);return this.isInSegmentEnvelopes(i)||(i=new x(e.nearestEndpoint(t,n,r,o))),null!==this._precisionModel&&this._precisionModel.makePrecise(i),i},e.prototype.smallestInAbsValue=function(t,e,n,r){var o=t,i=Math.abs(o);return Math.abs(e)<i&&(o=e,i=Math.abs(e)),Math.abs(n)<i&&(o=n,i=Math.abs(n)),Math.abs(r)<i&&(o=r),o},e.prototype.checkDD=function(t,e,n,r,o){var i=G.intersection(t,e,n,r),s=this.isInSegmentEnvelopes(i);q.out.println("DD in env = "+s+"  --------------------- "+i),o.distance(i)>1e-4&&q.out.println("Distance = "+o.distance(i))},e.prototype.intersectionWithNormalization=function(t,e,n,r){var o=new x(t),i=new x(e),s=new x(n),a=new x(r),u=new x;this.normalizeToEnvCentre(o,i,s,a,u);var c=this.safeHCoordinateIntersection(o,i,s,a);return c.x+=u.x,c.y+=u.y,c},e.prototype.computeCollinearIntersection=function(e,n,r,o){var i=J.intersects(e,n,r),s=J.intersects(e,n,o),a=J.intersects(r,o,e),u=J.intersects(r,o,n);return i&&s?(this._intPt[0]=r,this._intPt[1]=o,t.COLLINEAR_INTERSECTION):a&&u?(this._intPt[0]=e,this._intPt[1]=n,t.COLLINEAR_INTERSECTION):i&&a?(this._intPt[0]=r,this._intPt[1]=e,!r.equals(e)||s||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):i&&u?(this._intPt[0]=r,this._intPt[1]=n,!r.equals(n)||s||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&a?(this._intPt[0]=o,this._intPt[1]=e,!o.equals(e)||i||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&u?(this._intPt[0]=o,this._intPt[1]=n,!o.equals(n)||i||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(t,e,n,r,o){var i=t.x<e.x?t.x:e.x,s=t.y<e.y?t.y:e.y,a=t.x>e.x?t.x:e.x,u=t.y>e.y?t.y:e.y,c=n.x<r.x?n.x:r.x,l=n.y<r.y?n.y:r.y,p=n.x>r.x?n.x:r.x,f=n.y>r.y?n.y:r.y,h=((i>c?i:c)+(a<p?a:p))/2,d=((s>l?s:l)+(u<f?u:f))/2;o.x=h,o.y=d,t.x-=o.x,t.y-=o.y,e.x-=o.x,e.y-=o.y,n.x-=o.x,n.y-=o.y,r.x-=o.x,r.y-=o.y},e.prototype.computeIntersect=function(e,n,r,o){if(this._isProper=!1,!J.intersects(e,n,r,o))return t.NO_INTERSECTION;var i=at.orientationIndex(e,n,r),s=at.orientationIndex(e,n,o);if(i>0&&s>0||i<0&&s<0)return t.NO_INTERSECTION;var a=at.orientationIndex(r,o,e),u=at.orientationIndex(r,o,n);return a>0&&u>0||a<0&&u<0?t.NO_INTERSECTION:0===i&&0===s&&0===a&&0===u?this.computeCollinearIntersection(e,n,r,o):(0===i||0===s||0===a||0===u?(this._isProper=!1,e.equals2D(r)||e.equals2D(o)?this._intPt[0]=e:n.equals2D(r)||n.equals2D(o)?this._intPt[0]=n:0===i?this._intPt[0]=new x(r):0===s?this._intPt[0]=new x(o):0===a?this._intPt[0]=new x(e):0===u&&(this._intPt[0]=new x(n))):(this._isProper=!0,this._intPt[0]=this.intersection(e,n,r,o)),t.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(t,e,n,r){var o=t,i=at.distancePointLine(t,n,r),s=at.distancePointLine(e,n,r);return s<i&&(i=s,o=e),(s=at.distancePointLine(n,t,e))<i&&(i=s,o=n),(s=at.distancePointLine(r,t,e))<i&&(i=s,o=r),o},e}(nt),it=function(){};it.prototype.interfaces_=function(){return[]},it.prototype.getClass=function(){return it},it.orientationIndex=function(t,e,n){var r=e.x-t.x,o=e.y-t.y,i=n.x-e.x,s=n.y-e.y;return it.signOfDet2x2(r,o,i,s)},it.signOfDet2x2=function(t,e,n,r){var o=null,i=null,s=null;if(o=1,0===t||0===r)return 0===e||0===n?0:e>0?n>0?-o:o:n>0?o:-o;if(0===e||0===n)return r>0?t>0?o:-o:t>0?-o:o;if(e>0?r>0?e<=r||(o=-o,i=t,t=n,n=i,i=e,e=r,r=i):e<=-r?(o=-o,n=-n,r=-r):(i=t,t=-n,n=i,i=e,e=-r,r=i):r>0?-e<=r?(o=-o,t=-t,e=-e):(i=-t,t=n,n=i,i=-e,e=r,r=i):e>=r?(t=-t,e=-e,n=-n,r=-r):(o=-o,i=-t,t=-n,n=i,i=-e,e=-r,r=i),t>0){if(!(n>0))return o;if(!(t<=n))return o}else{if(n>0)return-o;if(!(t>=n))return-o;o=-o,t=-t,n=-n}for(;;){if((r-=(s=Math.floor(n/t))*e)<0)return-o;if(r>e)return o;if(t>(n-=s*t)+n){if(e<r+r)return o}else{if(e>r+r)return-o;n=t-n,r=e-r,o=-o}if(0===r)return 0===n?0:-o;if(0===n)return o;if((e-=(s=Math.floor(t/n))*r)<0)return o;if(e>r)return-o;if(n>(t-=s*n)+t){if(r<e+e)return-o}else{if(r>e+e)return o;t=n-t,e=r-e,o=-o}if(0===e)return 0===t?0:o;if(0===t)return-o}};var st=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t};st.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var n=t.x,r=e.x;return n>r&&(n=e.x,r=t.x),this._p.x>=n&&this._p.x<=r&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var o=t.x-this._p.x,i=t.y-this._p.y,s=e.x-this._p.x,a=e.y-this._p.y,u=it.signOfDet2x2(o,i,s,a);if(0===u)return this._isPointOnSegment=!0,null;a<i&&(u=-u),u>0&&this._crossingCount++}},st.prototype.isPointInPolygon=function(){return this.getLocation()!==M.EXTERIOR},st.prototype.getLocation=function(){return this._isPointOnSegment?M.BOUNDARY:this._crossingCount%2==1?M.INTERIOR:M.EXTERIOR},st.prototype.isOnSegment=function(){return this._isPointOnSegment},st.prototype.interfaces_=function(){return[]},st.prototype.getClass=function(){return st},st.locatePointInRing=function(){if(arguments[0]instanceof x&&N(arguments[1],V)){for(var t=arguments[1],e=new st(arguments[0]),n=new x,r=new x,o=1;o<t.size();o++)if(t.getCoordinate(o,n),t.getCoordinate(o-1,r),e.countSegment(n,r),e.isOnSegment())return e.getLocation();return e.getLocation()}if(arguments[0]instanceof x&&arguments[1]instanceof Array){for(var i=arguments[1],s=new st(arguments[0]),a=1;a<i.length;a++){var u=i[a],c=i[a-1];if(s.countSegment(u,c),s.isOnSegment())return s.getLocation()}return s.getLocation()}};var at=function(){},ut={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};at.prototype.interfaces_=function(){return[]},at.prototype.getClass=function(){return at},at.orientationIndex=function(t,e,n){return G.orientationIndex(t,e,n)},at.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,r=1;r<t.length-1;r++){var o=t[r].x-n,i=t[r+1].y;e+=o*(t[r-1].y-i)}return e/2}if(N(arguments[0],V)){var s=arguments[0],a=s.size();if(a<3)return 0;var u=new x,c=new x,l=new x;s.getCoordinate(0,c),s.getCoordinate(1,l);var p=c.x;l.x-=p;for(var f=0,h=1;h<a-1;h++)u.y=c.y,c.x=l.x,c.y=l.y,s.getCoordinate(h+1,l),l.x-=p,f+=c.x*(u.y-l.y);return f/2}},at.distanceLineLine=function(t,e,n,r){if(t.equals(e))return at.distancePointLine(t,n,r);if(n.equals(r))return at.distancePointLine(r,t,e);var o=!1;if(J.intersects(t,e,n,r)){var i=(e.x-t.x)*(r.y-n.y)-(e.y-t.y)*(r.x-n.x);if(0===i)o=!0;else{var s=(t.y-n.y)*(r.x-n.x)-(t.x-n.x)*(r.y-n.y),a=((t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y))/i,u=s/i;(u<0||u>1||a<0||a>1)&&(o=!0)}}else o=!0;return o?I.min(at.distancePointLine(t,n,r),at.distancePointLine(e,n,r),at.distancePointLine(n,t,e),at.distancePointLine(r,t,e)):0},at.isPointInRing=function(t,e){return at.locatePointInRing(t,e)!==M.EXTERIOR},at.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,r=new x;t.getCoordinate(0,r);for(var o=r.x,i=r.y,s=1;s<e;s++){t.getCoordinate(s,r);var a=r.x,u=r.y,c=a-o,l=u-i;n+=Math.sqrt(c*c+l*l),o=a,i=u}return n},at.isCCW=function(t){var e=t.length-1;if(e<3)throw new b("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],r=0,o=1;o<=e;o++){var i=t[o];i.y>n.y&&(n=i,r=o)}var s=r;do{(s-=1)<0&&(s=e)}while(t[s].equals2D(n)&&s!==r);var a=r;do{a=(a+1)%e}while(t[a].equals2D(n)&&a!==r);var u=t[s],c=t[a];if(u.equals2D(n)||c.equals2D(n)||u.equals2D(c))return!1;var l=at.computeOrientation(u,n,c);return 0===l?u.x>c.x:l>0},at.locatePointInRing=function(t,e){return st.locatePointInRing(t,e)},at.distancePointLinePerpendicular=function(t,e,n){var r=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),o=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/r;return Math.abs(o)*Math.sqrt(r)},at.computeOrientation=function(t,e,n){return at.orientationIndex(t,e,n)},at.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new b("Line array must contain at least one vertex");for(var n=t.distance(e[0]),r=0;r<e.length-1;r++){var o=at.distancePointLine(t,e[r],e[r+1]);o<n&&(n=o)}return n}if(3===arguments.length){var i=arguments[0],s=arguments[1],a=arguments[2];if(s.x===a.x&&s.y===a.y)return i.distance(s);var u=(a.x-s.x)*(a.x-s.x)+(a.y-s.y)*(a.y-s.y),c=((i.x-s.x)*(a.x-s.x)+(i.y-s.y)*(a.y-s.y))/u;if(c<=0)return i.distance(s);if(c>=1)return i.distance(a);var l=((s.y-i.y)*(a.x-s.x)-(s.x-i.x)*(a.y-s.y))/u;return Math.abs(l)*Math.sqrt(u)}},at.isOnLine=function(t,e){for(var n=new ot,r=1;r<e.length;r++){var o=e[r-1],i=e[r];if(n.computeIntersection(t,o,i),n.hasIntersection())return!0}return!1},ut.CLOCKWISE.get=function(){return-1},ut.RIGHT.get=function(){return at.CLOCKWISE},ut.COUNTERCLOCKWISE.get=function(){return 1},ut.LEFT.get=function(){return at.COUNTERCLOCKWISE},ut.COLLINEAR.get=function(){return 0},ut.STRAIGHT.get=function(){return at.COLLINEAR},Object.defineProperties(at,ut);var ct=function(){};ct.prototype.filter=function(t){},ct.prototype.interfaces_=function(){return[]},ct.prototype.getClass=function(){return ct};var lt=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},pt={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};lt.prototype.isGeometryCollection=function(){return this.getSortIndex()===lt.SORTINDEX_GEOMETRYCOLLECTION},lt.prototype.getFactory=function(){return this._factory},lt.prototype.getGeometryN=function(t){return this},lt.prototype.getArea=function(){return 0},lt.prototype.isRectangle=function(){return!1},lt.prototype.equals=function(){if(arguments[0]instanceof lt){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof lt))return!1;var n=e;return this.equalsExact(n)}},lt.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},lt.prototype.geometryChanged=function(){this.apply(lt.geometryChangedFilter)},lt.prototype.geometryChangedAction=function(){this._envelope=null},lt.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},lt.prototype.getLength=function(){return 0},lt.prototype.getNumGeometries=function(){return 1},lt.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,r)}},lt.prototype.getUserData=function(){return this._userData},lt.prototype.getSRID=function(){return this._SRID},lt.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},lt.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===lt.SORTINDEX_GEOMETRYCOLLECTION)throw new b("This method does not support GeometryCollection arguments")},lt.prototype.equal=function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},lt.prototype.norm=function(){var t=this.copy();return t.normalize(),t},lt.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},lt.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new J(this._envelope)},lt.prototype.setSRID=function(t){this._SRID=t},lt.prototype.setUserData=function(t){this._userData=t},lt.prototype.compare=function(t,e){for(var n=t.iterator(),r=e.iterator();n.hasNext()&&r.hasNext();){var o=n.next(),i=r.next(),s=o.compareTo(i);if(0!==s)return s}return n.hasNext()?1:r.hasNext()?-1:0},lt.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},lt.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===lt.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===lt.SORTINDEX_MULTIPOINT||this.getSortIndex()===lt.SORTINDEX_MULTILINESTRING||this.getSortIndex()===lt.SORTINDEX_MULTIPOLYGON},lt.prototype.interfaces_=function(){return[w,P,e]},lt.prototype.getClass=function(){return lt},lt.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},lt.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},pt.serialVersionUID.get=function(){return 0x799ea46522854c00},pt.SORTINDEX_POINT.get=function(){return 0},pt.SORTINDEX_MULTIPOINT.get=function(){return 1},pt.SORTINDEX_LINESTRING.get=function(){return 2},pt.SORTINDEX_LINEARRING.get=function(){return 3},pt.SORTINDEX_MULTILINESTRING.get=function(){return 4},pt.SORTINDEX_POLYGON.get=function(){return 5},pt.SORTINDEX_MULTIPOLYGON.get=function(){return 6},pt.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},pt.geometryChangedFilter.get=function(){return ft},Object.defineProperties(lt,pt);var ft=function(){};ft.interfaces_=function(){return[ct]},ft.filter=function(t){t.geometryChangedAction()};var ht=function(){};ht.prototype.filter=function(t){},ht.prototype.interfaces_=function(){return[]},ht.prototype.getClass=function(){return ht};var dt=function(){},yt={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};dt.prototype.isInBoundary=function(t){},dt.prototype.interfaces_=function(){return[]},dt.prototype.getClass=function(){return dt},yt.Mod2BoundaryNodeRule.get=function(){return gt},yt.EndPointBoundaryNodeRule.get=function(){return vt},yt.MultiValentEndPointBoundaryNodeRule.get=function(){return bt},yt.MonoValentEndPointBoundaryNodeRule.get=function(){return mt},yt.MOD2_BOUNDARY_RULE.get=function(){return new gt},yt.ENDPOINT_BOUNDARY_RULE.get=function(){return new vt},yt.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new bt},yt.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new mt},yt.OGC_SFS_BOUNDARY_RULE.get=function(){return dt.MOD2_BOUNDARY_RULE},Object.defineProperties(dt,yt);var gt=function(){};gt.prototype.isInBoundary=function(t){return t%2==1},gt.prototype.interfaces_=function(){return[dt]},gt.prototype.getClass=function(){return gt};var vt=function(){};vt.prototype.isInBoundary=function(t){return t>0},vt.prototype.interfaces_=function(){return[dt]},vt.prototype.getClass=function(){return vt};var bt=function(){};bt.prototype.isInBoundary=function(t){return t>1},bt.prototype.interfaces_=function(){return[dt]},bt.prototype.getClass=function(){return bt};var mt=function(){};mt.prototype.isInBoundary=function(t){return 1===t},mt.prototype.interfaces_=function(){return[dt]},mt.prototype.getClass=function(){return mt};var _t=function(){};_t.prototype.add=function(){},_t.prototype.addAll=function(){},_t.prototype.isEmpty=function(){},_t.prototype.iterator=function(){},_t.prototype.size=function(){},_t.prototype.toArray=function(){},_t.prototype.remove=function(){},(n.prototype=new Error).name="IndexOutOfBoundsException";var Pt=function(){};Pt.prototype.hasNext=function(){},Pt.prototype.next=function(){},Pt.prototype.remove=function(){};var wt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(_t);(r.prototype=new Error).name="NoSuchElementException";var Et=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof _t&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[t,_t]},e.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},e.prototype.iterator=function(){return new xt(this)},e.prototype.get=function(t){if(t<0||t>=this.size())throw new n;return this.array_[t]},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.remove=function(t){for(var e=!1,n=0,r=this.array_.length;n<r;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e},e}(wt),xt=function(t){function e(e){t.call(this),this.arrayList_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new r;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(Pt),Ot=function(t){function e(){if(t.call(this),0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.ensureCapacity(n.length),this.add(n,r)}}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(t){return this.get(t)},e.prototype.addAll=function(){if(2===arguments.length){for(var e=arguments[1],n=!1,r=arguments[0].iterator();r.hasNext();)this.add(r.next(),e),n=!0;return n}return t.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=0;n<this.size();n++)e.add(n,this.get(n).copy());return e},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){if(1===arguments.length){var e=arguments[0];t.prototype.add.call(this,e)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var n=arguments[0],r=arguments[1];return this.add(n,r,!0),!0}if(arguments[0]instanceof x&&"boolean"==typeof arguments[1]){var o=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(o))return null;t.prototype.add.call(this,o)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var i=arguments[0],s=arguments[1];return this.add(i,s),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var a=arguments[0],u=arguments[1];if(arguments[2])for(var c=0;c<a.length;c++)this.add(a[c],u);else for(var l=a.length-1;l>=0;l--)this.add(a[l],u);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof x){var p=arguments[0],f=arguments[1];if(!arguments[2]){var h=this.size();if(h>0){if(p>0&&this.get(p-1).equals2D(f))return null;if(p<h&&this.get(p).equals2D(f))return null}}t.prototype.add.call(this,p,f)}}else if(4===arguments.length){var d=arguments[0],y=arguments[1],g=arguments[2],v=arguments[3],b=1;g>v&&(b=-1);for(var m=g;m!==v;m+=b)this.add(d[m],y);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new x(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,n),e}(Et),Ct=function(){},St={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};St.ForwardComparator.get=function(){return Mt},St.BidirectionalComparator.get=function(){return jt},St.coordArrayType.get=function(){return new Array(0).fill(null)},Ct.prototype.interfaces_=function(){return[]},Ct.prototype.getClass=function(){return Ct},Ct.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))},Ct.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(Ct.indexOf(r,e)<0)return r}return null},Ct.scroll=function(t,e){var n=Ct.indexOf(e,t);if(n<0)return null;var r=new Array(t.length).fill(null);q.arraycopy(t,n,r,0,t.length-n),q.arraycopy(t,0,r,t.length-n,n),q.arraycopy(r,0,t,0,t.length)},Ct.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var r=arguments[0],o=arguments[1],i=arguments[2];if(r===o)return!0;if(null===r||null===o)return!1;if(r.length!==o.length)return!1;for(var s=0;s<r.length;s++)if(0!==i.compare(r[s],o[s]))return!1;return!0}},Ct.intersection=function(t,e){for(var n=new Ot,r=0;r<t.length;r++)e.intersects(t[r])&&n.add(t[r],!0);return n.toCoordinateArray()},Ct.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},Ct.removeRepeatedPoints=function(t){return Ct.hasRepeatedPoints(t)?new Ot(t,!1).toCoordinateArray():t},Ct.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),r=0;r<=n;r++){var o=t[r];t[r]=t[e-r],t[e-r]=o}},Ct.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var r=new Array(e).fill(null);if(0===e)return r;for(var o=0,i=0;i<t.length;i++)null!==t[i]&&(r[o++]=t[i]);return r},Ct.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new x(t[n]);return e}if(5===arguments.length)for(var r=arguments[0],o=arguments[1],i=arguments[2],s=arguments[3],a=arguments[4],u=0;u<a;u++)i[s+u]=new x(r[o+u])},Ct.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=e[t.length-n-1];if(0!==r.compareTo(o))return!1}return!0},Ct.envelope=function(t){for(var e=new J,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},Ct.toCoordinateArray=function(t){return t.toArray(Ct.coordArrayType)},Ct.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},Ct.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},Ct.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,r=t[e].compareTo(t[n]);if(0!==r)return r}return 1},Ct.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var r=t[n].compareTo(e[n]);if(0!==r)return r;n++}return n<e.length?-1:n<t.length?1:0},Ct.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},Ct.extract=function(t,e,n){e=I.clamp(e,0,t.length);var r=(n=I.clamp(n,-1,t.length))-e+1;n<0&&(r=0),e>=t.length&&(r=0),n<e&&(r=0);var o=new Array(r).fill(null);if(0===r)return o;for(var i=0,s=e;s<=n;s++)o[i++]=t[s];return o},Object.defineProperties(Ct,St);var Mt=function(){};Mt.prototype.compare=function(t,e){return Ct.compare(t,e)},Mt.prototype.interfaces_=function(){return[E]},Mt.prototype.getClass=function(){return Mt};var jt=function(){};jt.prototype.compare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;var o=Ct.compare(n,r);return Ct.isEqualReversed(n,r)?0:o},jt.prototype.OLDcompare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;for(var o=Ct.increasingDirection(n),i=Ct.increasingDirection(r),s=o>0?0:n.length-1,a=i>0?0:n.length-1,u=0;u<n.length;u++){var c=n[s].compareTo(r[a]);if(0!==c)return c;s+=o,a+=i}return 0},jt.prototype.interfaces_=function(){return[E]},jt.prototype.getClass=function(){return jt};var Nt=function(){};Nt.prototype.get=function(){},Nt.prototype.put=function(){},Nt.prototype.size=function(){},Nt.prototype.values=function(){},Nt.prototype.entrySet=function(){};var It=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Nt);(o.prototype=new Error).name="OperationNotSupported",(i.prototype=new _t).contains=function(){};var Tt=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof _t&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(this.array_[e]===t)return!0;return!1},e.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.remove=function(t){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.iterator=function(){return new At(this)},e}(i),At=function(t){function e(e){t.call(this),this.hashSet_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new r;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new o},e}(Pt),Dt=0;(p.prototype=new It).get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},p.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:Dt,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,r,o=this.root_;do{if(n=o,(r=t.compareTo(o.key))<0)o=o.left;else{if(!(r>0)){var i=o.value;return o.value=e,i}o=o.right}}while(null!==o);var s={key:t,left:null,right:null,value:e,parent:n,color:Dt,getValue:function(){return this.value},getKey:function(){return this.key}};return r<0?n.left=s:n.right=s,this.fixAfterInsertion(s),this.size_++,null},p.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(a(t)===c(a(a(t)))){var e=l(a(a(t)));1===s(e)?(u(a(t),Dt),u(e,Dt),u(a(a(t)),1),t=a(a(t))):(t===l(a(t))&&(t=a(t),this.rotateLeft(t)),u(a(t),Dt),u(a(a(t)),1),this.rotateRight(a(a(t))))}else{var n=c(a(a(t)));1===s(n)?(u(a(t),Dt),u(n,Dt),u(a(a(t)),1),t=a(a(t))):(t===c(a(t))&&(t=a(t),this.rotateRight(t)),u(a(t),Dt),u(a(a(t)),1),this.rotateLeft(a(a(t))))}this.root_.color=Dt},p.prototype.values=function(){var t=new Et,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=p.successor(e));)t.add(e.value);return t},p.prototype.entrySet=function(){var t=new Tt,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=p.successor(e));)t.add(e);return t},p.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},p.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},p.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},p.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var n=t.parent,r=t;null!==n&&r===n.right;)r=n,n=n.parent;return n},p.prototype.size=function(){return this.size_};var Rt=function(){};Rt.prototype.interfaces_=function(){return[]},Rt.prototype.getClass=function(){return Rt},f.prototype=new i,(h.prototype=new f).contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},h.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},h.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},h.prototype.remove=function(t){throw new o},h.prototype.size=function(){return this.array_.length},h.prototype.isEmpty=function(){return 0===this.array_.length},h.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},h.prototype.iterator=function(){return new kt(this)};var kt=function(t){this.treeSet_=t,this.position_=0};kt.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new r;return this.treeSet_.array_[this.position_++]},kt.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},kt.prototype.remove=function(){throw new o};var Lt=function(){};Lt.sort=function(){var t,e,n,r,o=arguments[0];if(1===arguments.length)r=function(t,e){return t.compareTo(e)},o.sort(r);else if(2===arguments.length)n=arguments[1],r=function(t,e){return n.compare(t,e)},o.sort(r);else if(3===arguments.length){(e=o.slice(arguments[1],arguments[2])).sort();var i=o.slice(0,arguments[1]).concat(e,o.slice(arguments[2],o.length));for(o.splice(0,o.length),t=0;t<i.length;t++)o.push(i[t])}else if(4===arguments.length)for(e=o.slice(arguments[1],arguments[2]),n=arguments[3],r=function(t,e){return n.compare(t,e)},e.sort(r),i=o.slice(0,arguments[1]).concat(e,o.slice(arguments[2],o.length)),o.splice(0,o.length),t=0;t<i.length;t++)o.push(i[t])},Lt.asList=function(t){for(var e=new Et,n=0,r=t.length;n<r;n++)e.add(t[n]);return e};var Gt=function(){},Ft={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};Ft.P.get=function(){return 0},Ft.L.get=function(){return 1},Ft.A.get=function(){return 2},Ft.FALSE.get=function(){return-1},Ft.TRUE.get=function(){return-2},Ft.DONTCARE.get=function(){return-3},Ft.SYM_FALSE.get=function(){return"F"},Ft.SYM_TRUE.get=function(){return"T"},Ft.SYM_DONTCARE.get=function(){return"*"},Ft.SYM_P.get=function(){return"0"},Ft.SYM_L.get=function(){return"1"},Ft.SYM_A.get=function(){return"2"},Gt.prototype.interfaces_=function(){return[]},Gt.prototype.getClass=function(){return Gt},Gt.toDimensionSymbol=function(t){switch(t){case Gt.FALSE:return Gt.SYM_FALSE;case Gt.TRUE:return Gt.SYM_TRUE;case Gt.DONTCARE:return Gt.SYM_DONTCARE;case Gt.P:return Gt.SYM_P;case Gt.L:return Gt.SYM_L;case Gt.A:return Gt.SYM_A}throw new b("Unknown dimension value: "+t)},Gt.toDimensionValue=function(t){switch(R.toUpperCase(t)){case Gt.SYM_FALSE:return Gt.FALSE;case Gt.SYM_TRUE:return Gt.TRUE;case Gt.SYM_DONTCARE:return Gt.DONTCARE;case Gt.SYM_P:return Gt.P;case Gt.SYM_L:return Gt.L;case Gt.SYM_A:return Gt.A}throw new b("Unknown dimension symbol: "+t)},Object.defineProperties(Gt,Ft);var Vt=function(){};Vt.prototype.filter=function(t){},Vt.prototype.interfaces_=function(){return[]},Vt.prototype.getClass=function(){return Vt};var Bt=function(){};Bt.prototype.filter=function(t,e){},Bt.prototype.isDone=function(){},Bt.prototype.isGeometryChanged=function(){},Bt.prototype.interfaces_=function(){return[]},Bt.prototype.getClass=function(){return Bt};var zt=function(t){function e(e,n){if(t.call(this,n),this._geometries=e||[],t.hasNullElements(this._geometries))throw new b("geometries must not contain null elements")}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var t=new J,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t},e.prototype.getGeometryN=function(t){return this._geometries[t]},e.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this._geometries.length;n++)for(var r=this._geometries[n].getCoordinates(),o=0;o<r.length;o++)t[++e]=r[o];return t},e.prototype.getArea=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(this._geometries.length!==r._geometries.length)return!1;for(var o=0;o<this._geometries.length;o++)if(!this._geometries[o].equalsExact(r._geometries[o],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();Lt.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var t=Gt.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t},e.prototype.getDimension=function(){for(var t=Gt.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t},e.prototype.getLength=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createGeometryCollection(e)},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=new h(Lt.asList(this._geometries)),n=new h(Lt.asList(t._geometries));return this.compare(e,n)}if(2===arguments.length){for(var r=arguments[1],o=arguments[0],i=this.getNumGeometries(),s=o.getNumGeometries(),a=0;a<i&&a<s;){var u=this.getGeometryN(a),c=o.getGeometryN(a),l=u.compareToSameClass(c,r);if(0!==l)return l;a++}return a<i?1:a<s?-1:0}},e.prototype.apply=function(){if(N(arguments[0],ht))for(var t=arguments[0],e=0;e<this._geometries.length;e++)this._geometries[e].apply(t);else if(N(arguments[0],Bt)){var n=arguments[0];if(0===this._geometries.length)return null;for(var r=0;r<this._geometries.length&&(this._geometries[r].apply(n),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else if(N(arguments[0],Vt)){var o=arguments[0];o.filter(this);for(var i=0;i<this._geometries.length;i++)this._geometries[i].apply(o)}else if(N(arguments[0],ct)){var s=arguments[0];s.filter(this);for(var a=0;a<this._geometries.length;a++)this._geometries[a].apply(s)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),et.shouldNeverReachHere(),null},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._geometries=new Array(this._geometries.length).fill(null);for(var n=0;n<this._geometries.length;n++)e._geometries[n]=this._geometries[n].clone();return e},e.prototype.getGeometryType=function(){return"GeometryCollection"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.isEmpty=function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(e,n),e}(lt),Ut=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return lt.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?Gt.FALSE:0},e.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[t-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(e)},e.prototype.getBoundary=function(){return new qt(this).getBoundary()},e.prototype.getGeometryType=function(){return"MultiLineString"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Rt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(e,n),e}(zt),qt=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],e=dt.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=r}};qt.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},qt.prototype.getBoundary=function(){return this._geom instanceof Ht?this.boundaryLineString(this._geom):this._geom instanceof Ut?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},qt.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},qt.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},qt.prototype.computeBoundaryCoordinates=function(t){var e=new Et;this._endpointMap=new p;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);0!==r.getNumPoints()&&(this.addEndpoint(r.getCoordinateN(0)),this.addEndpoint(r.getCoordinateN(r.getNumPoints()-1)))}for(var o=this._endpointMap.entrySet().iterator();o.hasNext();){var i=o.next(),s=i.getValue().count;this._bnRule.isInBoundary(s)&&e.add(i.getKey())}return Ct.toCoordinateArray(e)},qt.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new Wt,this._endpointMap.put(t,e)),e.count++},qt.prototype.interfaces_=function(){return[]},qt.prototype.getClass=function(){return qt},qt.getBoundary=function(){return 1===arguments.length?new qt(arguments[0]).getBoundary():2===arguments.length?new qt(arguments[0],arguments[1]).getBoundary():void 0};var Wt=function(){this.count=null};Wt.prototype.interfaces_=function(){return[]},Wt.prototype.getClass=function(){return Wt};var Jt=function(){},Xt={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Jt.prototype.interfaces_=function(){return[]},Jt.prototype.getClass=function(){return Jt},Jt.chars=function(t,e){for(var n=new Array(e).fill(null),r=0;r<e;r++)n[r]=t;return String(n)},Jt.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new function(){},n=new function(){}(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var r=arguments[0],o=arguments[1],i="",s=new function(){}(new function(){}(Jt.getStackTrace(r))),a=0;a<o;a++)try{i+=s.readLine()+Jt.NEWLINE}catch(t){if(!(t instanceof d))throw t;et.shouldNeverReachHere()}return i}},Jt.split=function(t,e){for(var n=e.length,r=new Et,o=""+t,i=o.indexOf(e);i>=0;){var s=o.substring(0,i);r.add(s),i=(o=o.substring(i+n)).indexOf(e)}o.length>0&&r.add(o);for(var a=new Array(r.size()).fill(null),u=0;u<a.length;u++)a[u]=r.get(u);return a},Jt.toString=function(){if(1===arguments.length){var t=arguments[0];return Jt.SIMPLE_ORDINATE_FORMAT.format(t)}},Jt.spaces=function(t){return Jt.chars(" ",t)},Xt.NEWLINE.get=function(){return q.getProperty("line.separator")},Xt.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(Jt,Xt);var Yt=function(){};Yt.prototype.interfaces_=function(){return[]},Yt.prototype.getClass=function(){return Yt},Yt.copyCoord=function(t,e,n,r){for(var o=Math.min(t.getDimension(),n.getDimension()),i=0;i<o;i++)n.setOrdinate(r,i,t.getOrdinate(e,i))},Yt.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,V.X)===t.getOrdinate(e-1,V.X)&&t.getOrdinate(0,V.Y)===t.getOrdinate(e-1,V.Y)},Yt.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var r=Math.min(t.getDimension(),e.getDimension()),o=0;o<n;o++)for(var i=0;i<r;i++){var s=t.getOrdinate(o,i),a=e.getOrdinate(o,i);if(!(t.getOrdinate(o,i)===e.getOrdinate(o,i)||m.isNaN(s)&&m.isNaN(a)))return!1}return!0},Yt.extend=function(t,e,n){var r=t.create(n,e.getDimension()),o=e.size();if(Yt.copy(e,0,r,0,o),o>0)for(var i=o;i<n;i++)Yt.copy(e,o-1,r,i,1);return r},Yt.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),r=0;r<=n;r++)Yt.swap(t,r,e-r)},Yt.swap=function(t,e,n){if(e===n)return null;for(var r=0;r<t.getDimension();r++){var o=t.getOrdinate(e,r);t.setOrdinate(e,r,t.getOrdinate(n,r)),t.setOrdinate(n,r,o)}},Yt.copy=function(t,e,n,r,o){for(var i=0;i<o;i++)Yt.copyCoord(t,e+i,n,r+i)},Yt.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),r=new A;r.append("(");for(var o=0;o<e;o++){o>0&&r.append(" ");for(var i=0;i<n;i++)i>0&&r.append(","),r.append(Jt.toString(t.getOrdinate(o,i)))}return r.append(")"),r.toString()}},Yt.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:n<=3?Yt.createClosedRing(t,e,4):e.getOrdinate(0,V.X)===e.getOrdinate(n-1,V.X)&&e.getOrdinate(0,V.Y)===e.getOrdinate(n-1,V.Y)?e:Yt.createClosedRing(t,e,n+1)},Yt.createClosedRing=function(t,e,n){var r=t.create(n,e.getDimension()),o=e.size();Yt.copy(e,0,r,0,o);for(var i=o;i<n;i++)Yt.copy(e,0,r,i,1);return r};var Ht=function(t){function e(e,n){t.call(this,n),this._points=null,this.init(e)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new J:this._points.expandEnvelope(new J)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(this._points.size()!==r._points.size())return!1;for(var o=0;o<this._points.size();o++)if(!this.equal(this._points.getCoordinate(o),r._points.getCoordinate(o),n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<Math.trunc(this._points.size()/2);t++){var e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e)))return this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))>0&&Yt.reverse(this._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?Gt.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return at.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var t=this._points.copy();return Yt.reverse(t),this.getFactory().createLineString(t)},e.prototype.compareToSameClass=function(){if(1===arguments.length){for(var t=arguments[0],e=0,n=0;e<this._points.size()&&n<t._points.size();){var r=this._points.getCoordinate(e).compareTo(t._points.getCoordinate(n));if(0!==r)return r;e++,n++}return e<this._points.size()?1:n<t._points.size()?-1:0}if(2===arguments.length){var o=arguments[0];return arguments[1].compare(this._points,o._points)}},e.prototype.apply=function(){if(N(arguments[0],ht))for(var t=arguments[0],e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e));else if(N(arguments[0],Bt)){var n=arguments[0];if(0===this._points.size())return null;for(var r=0;r<this._points.size()&&(n.filter(this._points,r),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else(N(arguments[0],Vt)||N(arguments[0],ct))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return new qt(this).getBoundary()},e.prototype.isEquivalentClass=function(t){return t instanceof e},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._points=this._points.clone(),e},e.prototype.getCoordinateN=function(t){return this._points.getCoordinate(t)},e.prototype.getGeometryType=function(){return"LineString"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new b("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t},e.prototype.isCoordinate=function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},e.prototype.interfaces_=function(){return[Rt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,n),e}(lt),Zt=function(){};Zt.prototype.interfaces_=function(){return[]},Zt.prototype.getClass=function(){return Zt};var Qt=function(t){function e(e,n){t.call(this,n),this._coordinates=e||null,this.init(this._coordinates)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new J;var t=new J;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t},e.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),n))}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return Gt.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length){var e=arguments[0];return arguments[1].compare(this._coordinates,e._coordinates)}},e.prototype.apply=function(){if(N(arguments[0],ht)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(N(arguments[0],Bt)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else(N(arguments[0],Vt)||N(arguments[0],ct))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._coordinates=this._coordinates.clone(),e},e.prototype.getGeometryType=function(){return"Point"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},e.prototype.isEmpty=function(){return 0===this._coordinates.size()},e.prototype.init=function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),et.isTrue(t.size()<=1),this._coordinates=t},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[Zt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(e,n),e}(lt),$t=function(){};$t.prototype.interfaces_=function(){return[]},$t.prototype.getClass=function(){return $t};var Kt=function(t){function e(e,n,r){if(t.call(this,r),this._shell=null,this._holes=null,null===e&&(e=this.getFactory().createLinearRing()),null===n&&(n=[]),t.hasNullElements(n))throw new b("holes must not contain null elements");if(e.isEmpty()&&t.hasNonEmptyElements(n))throw new b("shell is empty but holes are not");this._shell=e,this._holes=n}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this._shell.getCoordinates(),r=0;r<n.length;r++)t[++e]=n[r];for(var o=0;o<this._holes.length;o++)for(var i=this._holes[o].getCoordinates(),s=0;s<i.length;s++)t[++e]=i[s];return t},e.prototype.getArea=function(){var t=0;t+=Math.abs(at.signedArea(this._shell.getCoordinateSequence()));for(var e=0;e<this._holes.length;e++)t-=Math.abs(at.signedArea(this._holes[e].getCoordinateSequence()));return t},e.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var r=t.getX(n);if(r!==e.getMinX()&&r!==e.getMaxX())return!1;var o=t.getY(n);if(o!==e.getMinY()&&o!==e.getMaxY())return!1}for(var i=t.getX(0),s=t.getY(0),a=1;a<=4;a++){var u=t.getX(a),c=t.getY(a);if(u!==i==(c!==s))return!1;i=u,s=c}return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e,o=this._shell,i=r._shell;if(!o.equalsExact(i,n))return!1;if(this._holes.length!==r._holes.length)return!1;for(var s=0;s<this._holes.length;s++)if(!this._holes[s].equalsExact(r._holes[s],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var t=0;t<this._holes.length;t++)this.normalize(this._holes[t],!1);Lt.sort(this._holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var r=new Array(e.getCoordinates().length-1).fill(null);q.arraycopy(e.getCoordinates(),0,r,0,r.length);var o=Ct.minCoordinate(e.getCoordinates());Ct.scroll(r,o),q.arraycopy(r,0,e.getCoordinates(),0,r.length),e.getCoordinates()[r.length]=r[0],at.isCCW(e.getCoordinates())===n&&Ct.reverse(e.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t},e.prototype.reverse=function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=this._shell,n=t._shell;return e.compareToSameClass(n)}if(2===arguments.length){var r=arguments[1],o=arguments[0],i=this._shell,s=o._shell,a=i.compareToSameClass(s,r);if(0!==a)return a;for(var u=this.getNumInteriorRing(),c=o.getNumInteriorRing(),l=0;l<u&&l<c;){var p=this.getInteriorRingN(l),f=o.getInteriorRingN(l),h=p.compareToSameClass(f,r);if(0!==h)return h;l++}return l<u?1:l<c?-1:0}},e.prototype.apply=function(t){if(N(t,ht)){this._shell.apply(t);for(var e=0;e<this._holes.length;e++)this._holes[e].apply(t)}else if(N(t,Bt)){if(this._shell.apply(t),!t.isDone())for(var n=0;n<this._holes.length&&(this._holes[n].apply(t),!t.isDone());n++);t.isGeometryChanged()&&this.geometryChanged()}else if(N(t,Vt))t.filter(this);else if(N(t,ct)){t.filter(this),this._shell.apply(t);for(var r=0;r<this._holes.length;r++)this._holes[r].apply(t)}},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._shell=this._shell.clone(),e._holes=new Array(this._holes.length).fill(null);for(var n=0;n<this._holes.length;n++)e._holes[n]=this._holes[n].clone();return e},e.prototype.getGeometryType=function(){return"Polygon"},e.prototype.copy=function(){for(var t=this._shell.copy(),n=new Array(this._holes.length).fill(null),r=0;r<n.length;r++)n[r]=this._holes[r].copy();return new e(t,n,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(t){return this._holes[t]},e.prototype.interfaces_=function(){return[$t]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,n),e}(lt),te=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return lt.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){if(1===arguments.length){var e=arguments[0];return this._geometries[e].getCoordinate()}return t.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return Gt.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return"MultiPoint"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Zt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(e,n),e}(zt),ee=function(t){function e(e,n){e instanceof x&&n instanceof ve&&(e=n.getCoordinateSequenceFactory().create(e)),t.call(this,e,n),this.validateConstruction()}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return lt.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return Gt.FALSE},e.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},e.prototype.reverse=function(){var t=this._points.copy();return Yt.reverse(t),this.getFactory().createLinearRing(t)},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new b("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new b("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},e.prototype.getGeometryType=function(){return"LinearRing"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,n),e}(Ht),ne=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return lt.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createMultiPolygon(e)},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new Et,e=0;e<this._geometries.length;e++)for(var n=this._geometries[e].getBoundary(),r=0;r<n.getNumGeometries();r++)t.add(n.getGeometryN(r));var o=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(o))},e.prototype.getGeometryType=function(){return"MultiPolygon"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[$t]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,n),e}(zt),re=function(t){this._factory=t||null,this._isUserDataCopied=!1},oe={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};re.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},re.prototype.edit=function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this._isUserDataCopied&&n.setUserData(t.getUserData()),n},re.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof zt?this.editGeometryCollection(t,e):t instanceof Kt?this.editPolygon(t,e):t instanceof Qt||t instanceof Ht?e.edit(t,this._factory):(et.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},re.prototype.editGeometryCollection=function(t,e){for(var n=e.edit(t,this._factory),r=new Et,o=0;o<n.getNumGeometries();o++){var i=this.edit(n.getGeometryN(o),e);null===i||i.isEmpty()||r.add(i)}return n.getClass()===te?this._factory.createMultiPoint(r.toArray([])):n.getClass()===Ut?this._factory.createMultiLineString(r.toArray([])):n.getClass()===ne?this._factory.createMultiPolygon(r.toArray([])):this._factory.createGeometryCollection(r.toArray([]))},re.prototype.editPolygon=function(t,e){var n=e.edit(t,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var r=this.edit(n.getExteriorRing(),e);if(null===r||r.isEmpty())return this._factory.createPolygon();for(var o=new Et,i=0;i<n.getNumInteriorRing();i++){var s=this.edit(n.getInteriorRingN(i),e);null===s||s.isEmpty()||o.add(s)}return this._factory.createPolygon(r,o.toArray([]))},re.prototype.interfaces_=function(){return[]},re.prototype.getClass=function(){return re},re.GeometryEditorOperation=function(){},oe.NoOpGeometryOperation.get=function(){return ie},oe.CoordinateOperation.get=function(){return se},oe.CoordinateSequenceOperation.get=function(){return ae},Object.defineProperties(re,oe);var ie=function(){};ie.prototype.edit=function(t,e){return t},ie.prototype.interfaces_=function(){return[re.GeometryEditorOperation]},ie.prototype.getClass=function(){return ie};var se=function(){};se.prototype.edit=function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return null===n?t:t instanceof ee?e.createLinearRing(n):t instanceof Ht?e.createLineString(n):t instanceof Qt?n.length>0?e.createPoint(n[0]):e.createPoint():t},se.prototype.interfaces_=function(){return[re.GeometryEditorOperation]},se.prototype.getClass=function(){return se};var ae=function(){};ae.prototype.edit=function(t,e){return t instanceof ee?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Ht?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Qt?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},ae.prototype.interfaces_=function(){return[re.GeometryEditorOperation]},ae.prototype.getClass=function(){return ae};var ue=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var e=0;e<t;e++)this._coordinates[e]=new x}else if(N(arguments[0],V)){var n=arguments[0];if(null===n)return this._coordinates=new Array(0).fill(null),null;this._dimension=n.getDimension(),this._coordinates=new Array(n.size()).fill(null);for(var r=0;r<this._coordinates.length;r++)this._coordinates[r]=n.getCoordinateCopy(r)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var o=arguments[0],i=arguments[1];this._coordinates=o,this._dimension=i,null===o&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var s=arguments[0],a=arguments[1];this._coordinates=new Array(s).fill(null),this._dimension=a;for(var u=0;u<s;u++)this._coordinates[u]=new x}},ce={serialVersionUID:{configurable:!0}};ue.prototype.setOrdinate=function(t,e,n){switch(e){case V.X:this._coordinates[t].x=n;break;case V.Y:this._coordinates[t].y=n;break;case V.Z:this._coordinates[t].z=n;break;default:throw new b("invalid ordinateIndex")}},ue.prototype.size=function(){return this._coordinates.length},ue.prototype.getOrdinate=function(t,e){switch(e){case V.X:return this._coordinates[t].x;case V.Y:return this._coordinates[t].y;case V.Z:return this._coordinates[t].z}return m.NaN},ue.prototype.getCoordinate=function(){if(1===arguments.length){var t=arguments[0];return this._coordinates[t]}if(2===arguments.length){var e=arguments[0],n=arguments[1];n.x=this._coordinates[e].x,n.y=this._coordinates[e].y,n.z=this._coordinates[e].z}},ue.prototype.getCoordinateCopy=function(t){return new x(this._coordinates[t])},ue.prototype.getDimension=function(){return this._dimension},ue.prototype.getX=function(t){return this._coordinates[t].x},ue.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new ue(t,this._dimension)},ue.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},ue.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new ue(t,this._dimension)},ue.prototype.toString=function(){if(this._coordinates.length>0){var t=new A(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},ue.prototype.getY=function(t){return this._coordinates[t].y},ue.prototype.toCoordinateArray=function(){return this._coordinates},ue.prototype.interfaces_=function(){return[V,e]},ue.prototype.getClass=function(){return ue},ce.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(ue,ce);var le=function(){},pe={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};le.prototype.readResolve=function(){return le.instance()},le.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new ue(arguments[0]);if(N(arguments[0],V))return new ue(arguments[0])}else if(2===arguments.length){var t=arguments[0],e=arguments[1];return e>3&&(e=3),e<2?new ue(t):new ue(t,e)}},le.prototype.interfaces_=function(){return[S,e]},le.prototype.getClass=function(){return le},le.instance=function(){return le.instanceObject},pe.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},pe.instanceObject.get=function(){return new le},Object.defineProperties(le,pe);var fe=function(t){function e(){t.call(this),this.map_=new Map}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return this.map_.get(t)||null},e.prototype.put=function(t,e){return this.map_.set(t,e),e},e.prototype.values=function(){for(var t=new Et,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},e.prototype.entrySet=function(){var t=new Tt;return this.map_.entries().forEach((function(e){return t.add(e)})),t},e.prototype.size=function(){return this.map_.size()},e}(Nt),he=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof ye){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=t.FIXED,this.setScale(n)}else if(arguments[0]instanceof t){var r=arguments[0];this._modelType=r._modelType,this._scale=r._scale}},de={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};he.prototype.equals=function(t){if(!(t instanceof he))return!1;var e=t;return this._modelType===e._modelType&&this._scale===e._scale},he.prototype.compareTo=function(t){var e=t,n=this.getMaximumSignificantDigits(),r=e.getMaximumSignificantDigits();return new D(n).compareTo(new D(r))},he.prototype.getScale=function(){return this._scale},he.prototype.isFloating=function(){return this._modelType===he.FLOATING||this._modelType===he.FLOATING_SINGLE},he.prototype.getType=function(){return this._modelType},he.prototype.toString=function(){var t="UNKNOWN";return this._modelType===he.FLOATING?t="Floating":this._modelType===he.FLOATING_SINGLE?t="Floating-Single":this._modelType===he.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},he.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var t=arguments[0];return m.isNaN(t)||this._modelType===he.FLOATING_SINGLE?t:this._modelType===he.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof x){var e=arguments[0];if(this._modelType===he.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},he.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===he.FLOATING?t=16:this._modelType===he.FLOATING_SINGLE?t=6:this._modelType===he.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},he.prototype.setScale=function(t){this._scale=Math.abs(t)},he.prototype.interfaces_=function(){return[e,P]},he.prototype.getClass=function(){return he},he.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},de.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},de.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(he,de);var ye=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},ge={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};ye.prototype.readResolve=function(){return ye.nameToTypeMap.get(this._name)},ye.prototype.toString=function(){return this._name},ye.prototype.interfaces_=function(){return[e]},ye.prototype.getClass=function(){return ye},ge.serialVersionUID.get=function(){return-552860263173159e4},ge.nameToTypeMap.get=function(){return new fe},Object.defineProperties(ye,ge),he.Type=ye,he.FIXED=new ye("FIXED"),he.FLOATING=new ye("FLOATING"),he.FLOATING_SINGLE=new ye("FLOATING SINGLE");var ve=function t(){this._precisionModel=new he,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?N(arguments[0],S)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof he&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},be={serialVersionUID:{configurable:!0}};ve.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new x(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new x(t.getMinX(),t.getMinY()),new x(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new x(t.getMinX(),t.getMinY()),new x(t.getMinX(),t.getMaxY()),new x(t.getMaxX(),t.getMaxY()),new x(t.getMaxX(),t.getMinY()),new x(t.getMinX(),t.getMinY())]),null)},ve.prototype.createLineString=function(t){return t?t instanceof Array?new Ht(this.getCoordinateSequenceFactory().create(t),this):N(t,V)?new Ht(t,this):void 0:new Ht(this.getCoordinateSequenceFactory().create([]),this)},ve.prototype.createMultiLineString=function(){return 0===arguments.length?new Ut(null,this):1===arguments.length?new Ut(arguments[0],this):void 0},ve.prototype.buildGeometry=function(t){for(var e=null,n=!1,r=!1,o=t.iterator();o.hasNext();){var i=o.next(),s=i.getClass();null===e&&(e=s),s!==e&&(n=!0),i.isGeometryCollectionOrDerived()&&(r=!0)}if(null===e)return this.createGeometryCollection();if(n||r)return this.createGeometryCollection(ve.toGeometryArray(t));var a=t.iterator().next();if(t.size()>1){if(a instanceof Kt)return this.createMultiPolygon(ve.toPolygonArray(t));if(a instanceof Ht)return this.createMultiLineString(ve.toLineStringArray(t));if(a instanceof Qt)return this.createMultiPoint(ve.toPointArray(t));et.shouldNeverReachHere("Unhandled class: "+a.getClass().getName())}return a},ve.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},ve.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof x){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(N(arguments[0],V))return new Qt(arguments[0],this)}},ve.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},ve.prototype.createPolygon=function(){if(0===arguments.length)return new Kt(null,null,this);if(1===arguments.length){if(N(arguments[0],V)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof ee){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length)return new Kt(arguments[0],arguments[1],this)},ve.prototype.getSRID=function(){return this._SRID},ve.prototype.createGeometryCollection=function(){return 0===arguments.length?new zt(null,this):1===arguments.length?new zt(arguments[0],this):void 0},ve.prototype.createGeometry=function(t){return new re(this).edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return this._coordinateSequenceFactory.create(t)}}})},ve.prototype.getPrecisionModel=function(){return this._precisionModel},ve.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(N(arguments[0],V))return new ee(arguments[0],this)}},ve.prototype.createMultiPolygon=function(){return 0===arguments.length?new ne(null,this):1===arguments.length?new ne(arguments[0],this):void 0},ve.prototype.createMultiPoint=function(){if(0===arguments.length)return new te(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new te(arguments[0],this);if(arguments[0]instanceof Array){var t=arguments[0];return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(N(arguments[0],V)){var e=arguments[0];if(null===e)return this.createMultiPoint(new Array(0).fill(null));for(var n=new Array(e.size()).fill(null),r=0;r<e.size();r++){var o=this.getCoordinateSequenceFactory().create(1,e.getDimension());Yt.copy(e,r,o,0,1),n[r]=this.createPoint(o)}return this.createMultiPoint(n)}}},ve.prototype.interfaces_=function(){return[e]},ve.prototype.getClass=function(){return ve},ve.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ve.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},ve.getDefaultCoordinateSequenceFactory=function(){return le.instance()},ve.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ve.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ve.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ve.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ve.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ve.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ve.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},be.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(ve,be);var me=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],_e=function(t){this.geometryFactory=t||new ve};_e.prototype.read=function(t){var e,n=(e="string"==typeof t?JSON.parse(t):t).type;if(!Pe[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==me.indexOf(n)?Pe[n].apply(this,[e.coordinates]):"GeometryCollection"===n?Pe[n].apply(this,[e.geometries]):Pe[n].apply(this,[e])},_e.prototype.write=function(t){var e=t.getGeometryType();if(!we[e])throw new Error("Geometry is not supported");return we[e].apply(this,[t])};var Pe={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var r=t.geometry.type;if(!Pe[r])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=Pe.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(new x(r[0],r[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new x(t[0],t[1]),new x(t[2],t[1]),new x(t[2],t[3]),new x(t[0],t[3]),new x(t[0],t[1])])},Point:function(t){var e=new x(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(Pe.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=Pe.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(Pe.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=Pe.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),r=[],o=1;o<t.length;++o){var i=t[o],s=Pe.coordinates.apply(this,[i]),a=this.geometryFactory.createLinearRing(s);r.push(a)}return this.geometryFactory.createPolygon(n,r)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(Pe.Polygon.apply(this,[r]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(this.read(r))}return this.geometryFactory.createGeometryCollection(e)}},we={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:we.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],o=we.Point.apply(this,[r]);e.push(o.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),r=0;r<n.length;++r){var o=n[r];e.push(we.coordinate.apply(this,[o]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],o=we.LineString.apply(this,[r]);e.push(o.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=we.LineString.apply(this,[t._shell]);e.push(n.coordinates);for(var r=0;r<t._holes.length;++r){var o=t._holes[r],i=we.LineString.apply(this,[o]);e.push(i.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],o=we.Polygon.apply(this,[r]);e.push(o.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],o=r.getGeometryType();e.push(we[o].apply(this,[r]))}return{type:"GeometryCollection",geometries:e}}},Ee=function(t){this.geometryFactory=t||new ve,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new _e(this.geometryFactory)};Ee.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===he.FIXED&&this.reducePrecision(e),e},Ee.prototype.reducePrecision=function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])};var xe=function(){this.parser=new _e(this.geometryFactory)};xe.prototype.write=function(t){return this.parser.write(t)};var Oe=function(){},Ce={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Oe.prototype.interfaces_=function(){return[]},Oe.prototype.getClass=function(){return Oe},Oe.opposite=function(t){return t===Oe.LEFT?Oe.RIGHT:t===Oe.RIGHT?Oe.LEFT:t},Ce.ON.get=function(){return 0},Ce.LEFT.get=function(){return 1},Ce.RIGHT.get=function(){return 2},Object.defineProperties(Oe,Ce),(y.prototype=new Error).name="EmptyStackException",(g.prototype=new wt).add=function(t){return this.array_.push(t),!0},g.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},g.prototype.push=function(t){return this.array_.push(t),t},g.prototype.pop=function(t){if(0===this.array_.length)throw new y;return this.array_.pop()},g.prototype.peek=function(){if(0===this.array_.length)throw new y;return this.array_[this.array_.length-1]},g.prototype.empty=function(){return 0===this.array_.length},g.prototype.isEmpty=function(){return this.empty()},g.prototype.search=function(t){return this.array_.indexOf(t)},g.prototype.size=function(){return this.array_.length},g.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t};var Se=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Se.prototype.getCoordinate=function(){return this._minCoord},Se.prototype.getRightmostSide=function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n},Se.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();et.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],n=t[this._minIndex+1],r=at.computeOrientation(this._minCoord,n,e),o=!1;(e.y<this._minCoord.y&&n.y<this._minCoord.y&&r===at.COUNTERCLOCKWISE||e.y>this._minCoord.y&&n.y>this._minCoord.y&&r===at.CLOCKWISE)&&(o=!0),o&&(this._minIndex=this._minIndex-1)},Se.prototype.getRightmostSideOfSegment=function(t,e){var n=t.getEdge().getCoordinates();if(e<0||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var r=Oe.LEFT;return n[e].y<n[e+1].y&&(r=Oe.RIGHT),r},Se.prototype.getEdge=function(){return this._orientedDe},Se.prototype.checkForRightmostCoordinate=function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this._minCoord||e[n].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=n,this._minCoord=e[n])},Se.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},Se.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}et.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Oe.LEFT&&(this._orientedDe=this._minDe.getSym())},Se.prototype.interfaces_=function(){return[]},Se.prototype.getClass=function(){return Se};var Me=function(t){function e(n,r){t.call(this,e.msgWithCoord(n,r)),this.pt=r?new x(r):null,this.name="TopologyException"}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(t,e){return e?t:t+" [ "+e+" ]"},e}(K),je=function(){this.array_=[]};je.prototype.addLast=function(t){this.array_.push(t)},je.prototype.removeFirst=function(){return this.array_.shift()},je.prototype.isEmpty=function(){return 0===this.array_.length};var Ne=function(){this._finder=null,this._dirEdgeList=new Et,this._nodes=new Et,this._rightMostCoord=null,this._env=null,this._finder=new Se};Ne.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},Ne.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Ne.prototype.computeNodeDepth=function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var r=n.next();if(r.isVisited()||r.getSym().isVisited()){e=r;break}}if(null===e)throw new Me("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var o=t.getEdges().iterator();o.hasNext();){var i=o.next();i.setVisited(!0),this.copySymDepths(i)}},Ne.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(Oe.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},Ne.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Ne.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(Oe.RIGHT)>=1&&e.getDepth(Oe.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},Ne.prototype.computeDepths=function(t){var e=new Tt,n=new je,r=t.getNode();for(n.addLast(r),e.add(r),t.setVisited(!0);!n.isEmpty();){var o=n.removeFirst();e.add(o),this.computeNodeDepth(o);for(var i=o.getEdges().iterator();i.hasNext();){var s=i.next().getSym();if(!s.isVisited()){var a=s.getNode();e.contains(a)||(n.addLast(a),e.add(a))}}}},Ne.prototype.compareTo=function(t){var e=t;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0},Ne.prototype.getEnvelope=function(){if(null===this._env){for(var t=new J,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),r=0;r<n.length-1;r++)t.expandToInclude(n[r]);this._env=t}return this._env},Ne.prototype.addReachable=function(t){var e=new g;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},Ne.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(Oe.LEFT,t.getDepth(Oe.RIGHT)),e.setDepth(Oe.RIGHT,t.getDepth(Oe.LEFT))},Ne.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var r=n.next();this._dirEdgeList.add(r);var o=r.getSym().getNode();o.isVisited()||e.push(o)}},Ne.prototype.getNodes=function(){return this._nodes},Ne.prototype.getDirectedEdges=function(){return this._dirEdgeList},Ne.prototype.interfaces_=function(){return[P]},Ne.prototype.getClass=function(){return Ne};var Ie=function t(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];this.init(e.length)}else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[Oe.ON]=n}else if(arguments[0]instanceof t){var r=arguments[0];if(this.init(r.location.length),null!==r)for(var o=0;o<this.location.length;o++)this.location[o]=r.location[o]}}else if(3===arguments.length){var i=arguments[0],s=arguments[1],a=arguments[2];this.init(3),this.location[Oe.ON]=i,this.location[Oe.LEFT]=s,this.location[Oe.RIGHT]=a}};Ie.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},Ie.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==M.NONE)return!1;return!0},Ie.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===M.NONE&&(this.location[e]=t)},Ie.prototype.isLine=function(){return 1===this.location.length},Ie.prototype.merge=function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[Oe.ON]=this.location[Oe.ON],e[Oe.LEFT]=M.NONE,e[Oe.RIGHT]=M.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===M.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},Ie.prototype.getLocations=function(){return this.location},Ie.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[Oe.LEFT];this.location[Oe.LEFT]=this.location[Oe.RIGHT],this.location[Oe.RIGHT]=t},Ie.prototype.toString=function(){var t=new A;return this.location.length>1&&t.append(M.toLocationSymbol(this.location[Oe.LEFT])),t.append(M.toLocationSymbol(this.location[Oe.ON])),this.location.length>1&&t.append(M.toLocationSymbol(this.location[Oe.RIGHT])),t.toString()},Ie.prototype.setLocations=function(t,e,n){this.location[Oe.ON]=t,this.location[Oe.LEFT]=e,this.location[Oe.RIGHT]=n},Ie.prototype.get=function(t){return t<this.location.length?this.location[t]:M.NONE},Ie.prototype.isArea=function(){return this.location.length>1},Ie.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===M.NONE)return!0;return!1},Ie.prototype.setLocation=function(){if(1===arguments.length){var t=arguments[0];this.setLocation(Oe.ON,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.location[e]=n}},Ie.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(M.NONE)},Ie.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},Ie.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},Ie.prototype.interfaces_=function(){return[]},Ie.prototype.getClass=function(){return Ie};var Te=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new Ie(e),this.elt[1]=new Ie(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.elt[0]=new Ie(n.elt[0]),this.elt[1]=new Ie(n.elt[1])}}else if(2===arguments.length){var r=arguments[0],o=arguments[1];this.elt[0]=new Ie(M.NONE),this.elt[1]=new Ie(M.NONE),this.elt[r].setLocation(o)}else if(3===arguments.length){var i=arguments[0],s=arguments[1],a=arguments[2];this.elt[0]=new Ie(i,s,a),this.elt[1]=new Ie(i,s,a)}else if(4===arguments.length){var u=arguments[0],c=arguments[1],l=arguments[2],p=arguments[3];this.elt[0]=new Ie(M.NONE,M.NONE,M.NONE),this.elt[1]=new Ie(M.NONE,M.NONE,M.NONE),this.elt[u].setLocations(c,l,p)}};Te.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},Te.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},Te.prototype.isNull=function(t){return this.elt[t].isNull()},Te.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}},Te.prototype.isLine=function(t){return this.elt[t].isLine()},Te.prototype.merge=function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new Ie(t.elt[e]):this.elt[e].merge(t.elt[e])},Te.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},Te.prototype.getLocation=function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(Oe.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}},Te.prototype.toString=function(){var t=new A;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},Te.prototype.isArea=function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},Te.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},Te.prototype.setLocation=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(Oe.ON,e)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];this.elt[n].setLocation(r,o)}},Te.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},Te.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},Te.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new Ie(this.elt[t].location[0]))},Te.prototype.interfaces_=function(){return[]},Te.prototype.getClass=function(){return Te},Te.toLineLabel=function(t){for(var e=new Te(M.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e};var Ae=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new Et,this._pts=new Et,this._label=new Te(M.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new Et,this._geometryFactory=null;var t=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(t),this.computeRing()};Ae.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=at.isCCW(this._ring.getCoordinates())},Ae.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},Ae.prototype.computePoints=function(t){this._startDe=t;var e=t,n=!0;do{if(null===e)throw new Me("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new Me("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var r=e.getLabel();et.isTrue(r.isArea()),this.mergeLabel(r),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)},Ae.prototype.getLinearRing=function(){return this._ring},Ae.prototype.getCoordinate=function(t){return this._pts.get(t)},Ae.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},Ae.prototype.addPoints=function(t,e,n){var r=t.getCoordinates();if(e){var o=1;n&&(o=0);for(var i=o;i<r.length;i++)this._pts.add(r[i])}else{var s=r.length-2;n&&(s=r.length-1);for(var a=s;a>=0;a--)this._pts.add(r[a])}},Ae.prototype.isHole=function(){return this._isHole},Ae.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},Ae.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!at.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(t))return!1;return!0},Ae.prototype.addHole=function(t){this._holes.add(t)},Ae.prototype.isShell=function(){return null===this._shell},Ae.prototype.getLabel=function(){return this._label},Ae.prototype.getEdges=function(){return this._edges},Ae.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},Ae.prototype.getShell=function(){return this._shell},Ae.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[1],n=arguments[0].getLocation(e,Oe.RIGHT);if(n===M.NONE)return null;if(this._label.getLocation(e)===M.NONE)return this._label.setLocation(e,n),null}},Ae.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},Ae.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},Ae.prototype.interfaces_=function(){return[]},Ae.prototype.getClass=function(){return Ae};var De=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setEdgeRing=function(t,e){t.setMinEdgeRing(e)},e.prototype.getNext=function(t){return t.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ae),Re=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildMinimalRings=function(){var t=new Et,e=this._startDe;do{if(null===e.getMinEdgeRing()){var n=new De(e,this._geometryFactory);t.add(n)}e=e.getNext()}while(e!==this._startDe);return t},e.prototype.setEdgeRing=function(t,e){t.setEdgeRing(e)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)},e.prototype.getNext=function(t){return t.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ae),ke=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._label=t}};ke.prototype.setVisited=function(t){this._isVisited=t},ke.prototype.setInResult=function(t){this._isInResult=t},ke.prototype.isCovered=function(){return this._isCovered},ke.prototype.isCoveredSet=function(){return this._isCoveredSet},ke.prototype.setLabel=function(t){this._label=t},ke.prototype.getLabel=function(){return this._label},ke.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},ke.prototype.updateIM=function(t){et.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},ke.prototype.isInResult=function(){return this._isInResult},ke.prototype.isVisited=function(){return this._isVisited},ke.prototype.interfaces_=function(){return[]},ke.prototype.getClass=function(){return ke};var Le=function(t){function e(){t.call(this),this._coord=null,this._edges=null;var e=arguments[0],n=arguments[1];this._coord=e,this._edges=n,this._label=new Te(0,M.NONE)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1},e.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(t){t.println("node "+this._coord+" lbl: "+this._label)},e.prototype.computeIM=function(t){},e.prototype.computeMergedLocation=function(t,e){var n=M.NONE;if(n=this._label.getLocation(e),!t.isNull(e)){var r=t.getLocation(e);n!==M.BOUNDARY&&(n=r)}return n},e.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var e=arguments[0],n=arguments[1];null===this._label?this._label=new Te(e,n):this._label.setLocation(e,n)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){if(arguments[0]instanceof e){var t=arguments[0];this.mergeLabel(t._label)}else if(arguments[0]instanceof Te)for(var n=arguments[0],r=0;r<2;r++){var o=this.computeMergedLocation(n,r);this._label.getLocation(r)===M.NONE&&this._label.setLocation(r,o)}},e.prototype.add=function(t){this._edges.insert(t),t.setNode(this)},e.prototype.setLabelBoundary=function(t){if(null===this._label)return null;var e=M.NONE;null!==this._label&&(e=this._label.getLocation(t));var n=null;if(e===M.BOUNDARY)n=M.INTERIOR;else n=M.BOUNDARY;this._label.setLocation(t,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(ke),Ge=function(){this.nodeMap=new p,this.nodeFact=null;var t=arguments[0];this.nodeFact=t};Ge.prototype.find=function(t){return this.nodeMap.get(t)},Ge.prototype.addNode=function(){if(arguments[0]instanceof x){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof Le){var n=arguments[0],r=this.nodeMap.get(n.getCoordinate());return null===r?(this.nodeMap.put(n.getCoordinate(),n),n):(r.mergeLabel(n),r)}},Ge.prototype.print=function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},Ge.prototype.iterator=function(){return this.nodeMap.values().iterator()},Ge.prototype.values=function(){return this.nodeMap.values()},Ge.prototype.getBoundaryNodes=function(t){for(var e=new Et,n=this.iterator();n.hasNext();){var r=n.next();r.getLabel().getLocation(t)===M.BOUNDARY&&e.add(r)}return e},Ge.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},Ge.prototype.interfaces_=function(){return[]},Ge.prototype.getClass=function(){return Ge};var Fe=function(){},Ve={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};Fe.prototype.interfaces_=function(){return[]},Fe.prototype.getClass=function(){return Fe},Fe.isNorthern=function(t){return t===Fe.NE||t===Fe.NW},Fe.isOpposite=function(t,e){return t!==e&&2==(t-e+4)%4},Fe.commonHalfPlane=function(t,e){if(t===e)return t;if(2==(t-e+4)%4)return-1;var n=t<e?t:e;return 0===n&&3===(t>e?t:e)?3:n},Fe.isInHalfPlane=function(t,e){return e===Fe.SE?t===Fe.SE||t===Fe.SW:t===e||t===e+1},Fe.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new b("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?Fe.NE:Fe.SE:e>=0?Fe.NW:Fe.SW}if(arguments[0]instanceof x&&arguments[1]instanceof x){var n=arguments[0],r=arguments[1];if(r.x===n.x&&r.y===n.y)throw new b("Cannot compute the quadrant for two identical points "+n);return r.x>=n.x?r.y>=n.y?Fe.NE:Fe.SE:r.y>=n.y?Fe.NW:Fe.SW}},Ve.NE.get=function(){return 0},Ve.NW.get=function(){return 1},Ve.SW.get=function(){return 2},Ve.SE.get=function(){return 3},Object.defineProperties(Fe,Ve);var Be=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var t=arguments[0];this._edge=t}else if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];this._edge=e,this.init(n,r),this._label=null}else if(4===arguments.length){var o=arguments[0],i=arguments[1],s=arguments[2],a=arguments[3];this._edge=o,this.init(i,s),this._label=a}};Be.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:at.computeOrientation(t._p0,t._p1,this._p1)},Be.prototype.getDy=function(){return this._dy},Be.prototype.getCoordinate=function(){return this._p0},Be.prototype.setNode=function(t){this._node=t},Be.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),r=n.lastIndexOf("."),o=n.substring(r+1);t.print("  "+o+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},Be.prototype.compareTo=function(t){var e=t;return this.compareDirection(e)},Be.prototype.getDirectedCoordinate=function(){return this._p1},Be.prototype.getDx=function(){return this._dx},Be.prototype.getLabel=function(){return this._label},Be.prototype.getEdge=function(){return this._edge},Be.prototype.getQuadrant=function(){return this._quadrant},Be.prototype.getNode=function(){return this._node},Be.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},Be.prototype.computeLabel=function(t){},Be.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=Fe.quadrant(this._dx,this._dy),et.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},Be.prototype.interfaces_=function(){return[P]},Be.prototype.getClass=function(){return Be};var ze=function(t){function e(){var e=arguments[0],n=arguments[1];if(t.call(this,e),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var r=e.getNumPoints()-1;this.init(e.getCoordinate(r),e.getCoordinate(r-1))}this.computeDirectedLabel()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(t){return this._depth[t]},e.prototype.setVisited=function(t){this._isVisited=t},e.prototype.computeDirectedLabel=function(){this._label=new Te(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new Me("assigned depths do not match",this.getCoordinate());this._depth[t]=e},e.prototype.isInteriorAreaEdge=function(){for(var t=!0,e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,Oe.LEFT)===M.INTERIOR&&this._label.getLocation(e,Oe.RIGHT)===M.INTERIOR||(t=!1);return t},e.prototype.setNextMin=function(t){this._nextMin=t},e.prototype.print=function(e){t.prototype.print.call(this,e),e.print(" "+this._depth[Oe.LEFT]+"/"+this._depth[Oe.RIGHT]),e.print(" ("+this.getDepthDelta()+")"),this._isInResult&&e.print(" inResult")},e.prototype.setMinEdgeRing=function(t){this._minEdgeRing=t},e.prototype.isLineEdge=function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,M.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,M.EXTERIOR);return t&&e&&n},e.prototype.setEdgeRing=function(t){this._edgeRing=t},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t},e.prototype.setInResult=function(t){this._isInResult=t},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)},e.prototype.setSym=function(t){this._sym=t},e.prototype.setVisitedEdge=function(t){this.setVisited(t),this._sym.setVisited(t)},e.prototype.setEdgeDepths=function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var r=1;t===Oe.LEFT&&(r=-1);var o=Oe.opposite(t),i=e+n*r;this.setDepth(t,e),this.setDepth(o,i)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(t){this._next=t},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(t,e){return t===M.EXTERIOR&&e===M.INTERIOR?1:t===M.INTERIOR&&e===M.EXTERIOR?-1:0},e}(Be),Ue=function(){};Ue.prototype.createNode=function(t){return new Le(t,null)},Ue.prototype.interfaces_=function(){return[]},Ue.prototype.getClass=function(){return Ue};var qe=function(){if(this._edges=new Et,this._nodes=null,this._edgeEndList=new Et,0===arguments.length)this._nodes=new Ge(new Ue);else if(1===arguments.length){var t=arguments[0];this._nodes=new Ge(t)}};qe.prototype.printEdges=function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var n=this._edges.get(e);n.print(t),n.eiList.print(t)}},qe.prototype.find=function(t){return this._nodes.find(t)},qe.prototype.addNode=function(){if(arguments[0]instanceof Le){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof x){var e=arguments[0];return this._nodes.addNode(e)}},qe.prototype.getNodeIterator=function(){return this._nodes.iterator()},qe.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},qe.prototype.debugPrintln=function(t){q.out.println(t)},qe.prototype.isBoundaryNode=function(t,e){var n=this._nodes.find(e);if(null===n)return!1;var r=n.getLabel();return null!==r&&r.getLocation(t)===M.BOUNDARY},qe.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},qe.prototype.matchInSameDirection=function(t,e,n,r){return!!t.equals(n)&&at.computeOrientation(t,e,r)===at.COLLINEAR&&Fe.quadrant(t,e)===Fe.quadrant(n,r)},qe.prototype.getEdgeEnds=function(){return this._edgeEndList},qe.prototype.debugPrint=function(t){q.out.print(t)},qe.prototype.getEdgeIterator=function(){return this._edges.iterator()},qe.prototype.findEdgeInSameDirection=function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),o=r.getCoordinates();if(this.matchInSameDirection(t,e,o[0],o[1]))return r;if(this.matchInSameDirection(t,e,o[o.length-1],o[o.length-2]))return r}return null},qe.prototype.insertEdge=function(t){this._edges.add(t)},qe.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},qe.prototype.addEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._edges.add(n);var r=new ze(n,!0),o=new ze(n,!1);r.setSym(o),o.setSym(r),this.add(r),this.add(o)}},qe.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},qe.prototype.getNodes=function(){return this._nodes.values()},qe.prototype.findEdge=function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),o=r.getCoordinates();if(t.equals(o[0])&&e.equals(o[1]))return r}return null},qe.prototype.interfaces_=function(){return[]},qe.prototype.getClass=function(){return qe},qe.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()};var We=function(){this._geometryFactory=null,this._shellList=new Et;var t=arguments[0];this._geometryFactory=t};We.prototype.sortShellsAndHoles=function(t,e,n){for(var r=t.iterator();r.hasNext();){var o=r.next();o.isHole()?n.add(o):e.add(o)}},We.prototype.computePolygons=function(t){for(var e=new Et,n=t.iterator();n.hasNext();){var r=n.next().toPolygon(this._geometryFactory);e.add(r)}return e},We.prototype.placeFreeHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(null===r.getShell()){var o=this.findEdgeRingContaining(r,t);if(null===o)throw new Me("unable to assign hole to a shell",r.getCoordinate(0));r.setShell(o)}}},We.prototype.buildMinimalEdgeRings=function(t,e,n){for(var r=new Et,o=t.iterator();o.hasNext();){var i=o.next();if(i.getMaxNodeDegree()>2){i.linkDirectedEdgesForMinimalEdgeRings();var s=i.buildMinimalRings(),a=this.findShell(s);null!==a?(this.placePolygonHoles(a,s),e.add(a)):n.addAll(s)}else r.add(i)}return r},We.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},We.prototype.buildMaximalEdgeRings=function(t){for(var e=new Et,n=t.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&r.getLabel().isArea()&&null===r.getEdgeRing()){var o=new Re(r,this._geometryFactory);e.add(o),o.setInResult()}}return e},We.prototype.placePolygonHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();r.isHole()&&r.setShell(t)}},We.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},We.prototype.findEdgeRingContaining=function(t,e){for(var n=t.getLinearRing(),r=n.getEnvelopeInternal(),o=n.getCoordinateN(0),i=null,s=null,a=e.iterator();a.hasNext();){var u=a.next(),c=u.getLinearRing(),l=c.getEnvelopeInternal();null!==i&&(s=i.getLinearRing().getEnvelopeInternal());var p=!1;l.contains(r)&&at.isPointInRing(o,c.getCoordinates())&&(p=!0),p&&(null===i||s.contains(l))&&(i=u)}return i},We.prototype.findShell=function(t){for(var e=0,n=null,r=t.iterator();r.hasNext();){var o=r.next();o.isHole()||(n=o,e++)}return et.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n},We.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];qe.linkResultDirectedEdges(n);var r=this.buildMaximalEdgeRings(e),o=new Et,i=this.buildMinimalEdgeRings(r,this._shellList,o);this.sortShellsAndHoles(i,this._shellList,o),this.placeFreeHoles(this._shellList,o)}},We.prototype.interfaces_=function(){return[]},We.prototype.getClass=function(){return We};var Je=function(){};Je.prototype.getBounds=function(){},Je.prototype.interfaces_=function(){return[]},Je.prototype.getClass=function(){return Je};var Xe=function(){this._bounds=null,this._item=null;var t=arguments[0],e=arguments[1];this._bounds=t,this._item=e};Xe.prototype.getItem=function(){return this._item},Xe.prototype.getBounds=function(){return this._bounds},Xe.prototype.interfaces_=function(){return[Je,e]},Xe.prototype.getClass=function(){return Xe};var Ye=function(){this._size=null,this._items=null,this._size=0,this._items=new Et,this._items.add(null)};Ye.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},Ye.prototype.size=function(){return this._size},Ye.prototype.reorder=function(t){for(var e=null,n=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(n)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,n)},Ye.prototype.clear=function(){this._size=0,this._items.clear()},Ye.prototype.isEmpty=function(){return 0===this._size},Ye.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},Ye.prototype.interfaces_=function(){return[]},Ye.prototype.getClass=function(){return Ye};var He=function(){};He.prototype.visitItem=function(t){},He.prototype.interfaces_=function(){return[]},He.prototype.getClass=function(){return He};var Ze=function(){};Ze.prototype.insert=function(t,e){},Ze.prototype.remove=function(t,e){},Ze.prototype.query=function(){},Ze.prototype.interfaces_=function(){return[]},Ze.prototype.getClass=function(){return Ze};var Qe=function(){if(this._childBoundables=new Et,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._level=t}},$e={serialVersionUID:{configurable:!0}};Qe.prototype.getLevel=function(){return this._level},Qe.prototype.size=function(){return this._childBoundables.size()},Qe.prototype.getChildBoundables=function(){return this._childBoundables},Qe.prototype.addChildBoundable=function(t){et.isTrue(null===this._bounds),this._childBoundables.add(t)},Qe.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Qe.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Qe.prototype.interfaces_=function(){return[Je,e]},Qe.prototype.getClass=function(){return Qe},$e.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Qe,$e);var Ke=function(){};Ke.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},Ke.min=function(t){return Ke.sort(t),t.get(0)},Ke.sort=function(t,e){var n=t.toArray();e?Lt.sort(n,e):Lt.sort(n);for(var r=t.iterator(),o=0,i=n.length;o<i;o++)r.next(),r.set(n[o])},Ke.singletonList=function(t){var e=new Et;return e.add(t),e};var tn=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=n,this._distance=this.distance()};tn.prototype.expandToQueue=function(t,e){var n=tn.isComposite(this._boundable1),r=tn.isComposite(this._boundable2);if(n&&r)return tn.area(this._boundable1)>tn.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(n)return this.expand(this._boundable1,this._boundable2,t,e),null;if(r)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new b("neither boundable is composite")},tn.prototype.isLeaves=function(){return!(tn.isComposite(this._boundable1)||tn.isComposite(this._boundable2))},tn.prototype.compareTo=function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},tn.prototype.expand=function(t,e,n,r){for(var o=t.getChildBoundables().iterator();o.hasNext();){var i=o.next(),s=new tn(i,e,this._itemDistance);s.getDistance()<r&&n.add(s)}},tn.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},tn.prototype.getDistance=function(){return this._distance},tn.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},tn.prototype.interfaces_=function(){return[P]},tn.prototype.getClass=function(){return tn},tn.area=function(t){return t.getBounds().getArea()},tn.isComposite=function(t){return t instanceof Qe};var en=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new Et,this._nodeCapacity=null,0===arguments.length){var e=t.DEFAULT_NODE_CAPACITY;this._nodeCapacity=e}else if(1===arguments.length){var n=arguments[0];et.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}},nn={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};en.prototype.getNodeCapacity=function(){return this._nodeCapacity},en.prototype.lastNode=function(t){return t.get(t.size()-1)},en.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();n instanceof Qe?t+=this.size(n):n instanceof Xe&&(t+=1)}return t}},en.prototype.removeItem=function(t,e){for(var n=null,r=t.getChildBoundables().iterator();r.hasNext();){var o=r.next();o instanceof Xe&&o.getItem()===e&&(n=o)}return null!==n&&(t.getChildBoundables().remove(n),!0)},en.prototype.itemsTree=function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new Et:t}if(1===arguments.length){for(var e=arguments[0],n=new Et,r=e.getChildBoundables().iterator();r.hasNext();){var o=r.next();if(o instanceof Qe){var i=this.itemsTree(o);null!==i&&n.add(i)}else o instanceof Xe?n.add(o.getItem()):et.shouldNeverReachHere()}return n.size()<=0?null:n}},en.prototype.insert=function(t,e){et.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Xe(t,e))},en.prototype.boundablesAtLevel=function(){if(1===arguments.length){var t=arguments[0],e=new Et;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];if(et.isTrue(n>-2),r.getLevel()===n)return o.add(r),null;for(var i=r.getChildBoundables().iterator();i.hasNext();){var s=i.next();s instanceof Qe?this.boundablesAtLevel(n,s,o):(et.isTrue(s instanceof Xe),-1===n&&o.add(s))}return null}},en.prototype.query=function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new Et;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e),e}if(2===arguments.length){var n=arguments[0],r=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,r)}else if(3===arguments.length)if(N(arguments[2],He)&&arguments[0]instanceof Object&&arguments[1]instanceof Qe)for(var o=arguments[0],i=arguments[2],s=arguments[1].getChildBoundables(),a=0;a<s.size();a++){var u=s.get(a);this.getIntersectsOp().intersects(u.getBounds(),o)&&(u instanceof Qe?this.query(o,u,i):u instanceof Xe?i.visitItem(u.getItem()):et.shouldNeverReachHere())}else if(N(arguments[2],wt)&&arguments[0]instanceof Object&&arguments[1]instanceof Qe)for(var c=arguments[0],l=arguments[2],p=arguments[1].getChildBoundables(),f=0;f<p.size();f++){var h=p.get(f);this.getIntersectsOp().intersects(h.getBounds(),c)&&(h instanceof Qe?this.query(c,h,l):h instanceof Xe?l.add(h.getItem()):et.shouldNeverReachHere())}},en.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},en.prototype.getRoot=function(){return this.build(),this._root},en.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2],i=this.removeItem(r,o);if(i)return!0;for(var s=null,a=r.getChildBoundables().iterator();a.hasNext();){var u=a.next();if(this.getIntersectsOp().intersects(u.getBounds(),n)&&u instanceof Qe&&(i=this.remove(n,u,o))){s=u;break}}return null!==s&&s.getChildBoundables().isEmpty()&&r.getChildBoundables().remove(s),i}},en.prototype.createHigherLevels=function(t,e){et.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},en.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();if(n instanceof Qe){var r=this.depth(n);r>t&&(t=r)}}return t+1}},en.prototype.createParentBoundables=function(t,e){et.isTrue(!t.isEmpty());var n=new Et;n.add(this.createNode(e));var r=new Et(t);Ke.sort(r,this.getComparator());for(var o=r.iterator();o.hasNext();){var i=o.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(i)}return n},en.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},en.prototype.interfaces_=function(){return[e]},en.prototype.getClass=function(){return en},en.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},nn.IntersectsOp.get=function(){return rn},nn.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},nn.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(en,nn);var rn=function(){},on=function(){};on.prototype.distance=function(t,e){},on.prototype.interfaces_=function(){return[]},on.prototype.getClass=function(){return on};var sn=function(t){function n(e){e=e||n.DEFAULT_NODE_CAPACITY,t.call(this,e)}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var r={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return n.prototype.createParentBoundablesFromVerticalSlices=function(t,e){et.isTrue(t.length>0);for(var n=new Et,r=0;r<t.length;r++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[r],e));return n},n.prototype.createNode=function(t){return new an(t)},n.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},n.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var e=arguments[0],n=arguments[1];if(e.isNull())return null;t.prototype.insert.call(this,e,n)},n.prototype.getIntersectsOp=function(){return n.intersectsOp},n.prototype.verticalSlices=function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),r=new Array(e).fill(null),o=t.iterator(),i=0;i<e;i++){r[i]=new Et;for(var s=0;o.hasNext()&&s<n;){var a=o.next();r[i].add(a),s++}}return r},n.prototype.query=function(){if(1===arguments.length){var e=arguments[0];return t.prototype.query.call(this,e)}if(2===arguments.length){var n=arguments[0],r=arguments[1];t.prototype.query.call(this,n,r)}else if(3===arguments.length)if(N(arguments[2],He)&&arguments[0]instanceof Object&&arguments[1]instanceof Qe){var o=arguments[0],i=arguments[1],s=arguments[2];t.prototype.query.call(this,o,i,s)}else if(N(arguments[2],wt)&&arguments[0]instanceof Object&&arguments[1]instanceof Qe){var a=arguments[0],u=arguments[1],c=arguments[2];t.prototype.query.call(this,a,u,c)}},n.prototype.getComparator=function(){return n.yComparator},n.prototype.createParentBoundablesFromVerticalSlice=function(e,n){return t.prototype.createParentBoundables.call(this,e,n)},n.prototype.remove=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return t.prototype.remove.call(this,e,n)}return t.prototype.remove.apply(this,arguments)},n.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},n.prototype.createParentBoundables=function(t,e){et.isTrue(!t.isEmpty());var r=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),o=new Et(t);Ke.sort(o,n.xComparator);var i=this.verticalSlices(o,Math.trunc(Math.ceil(Math.sqrt(r))));return this.createParentBoundablesFromVerticalSlices(i,e)},n.prototype.nearestNeighbour=function(){if(1===arguments.length){if(N(arguments[0],on)){var t=arguments[0],e=new tn(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(e)}if(arguments[0]instanceof tn){var r=arguments[0];return this.nearestNeighbour(r,m.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof n&&N(arguments[1],on)){var o=arguments[0],i=arguments[1],s=new tn(this.getRoot(),o.getRoot(),i);return this.nearestNeighbour(s)}if(arguments[0]instanceof tn&&"number"==typeof arguments[1]){var a=arguments[0],u=arguments[1],c=null,l=new Ye;for(l.add(a);!l.isEmpty()&&u>0;){var p=l.poll(),f=p.getDistance();if(f>=u)break;p.isLeaves()?(u=f,c=p):p.expandToQueue(l,u)}return[c.getBoundable(0).getItem(),c.getBoundable(1).getItem()]}}else if(3===arguments.length){var h=arguments[2],d=new Xe(arguments[0],arguments[1]),y=new tn(this.getRoot(),d,h);return this.nearestNeighbour(y)[0]}},n.prototype.interfaces_=function(){return[Ze,e]},n.prototype.getClass=function(){return n},n.centreX=function(t){return n.avg(t.getMinX(),t.getMaxX())},n.avg=function(t,e){return(t+e)/2},n.centreY=function(t){return n.avg(t.getMinY(),t.getMaxY())},r.STRtreeNode.get=function(){return an},r.serialVersionUID.get=function(){return 0x39920f7d5f261e0},r.xComparator.get=function(){return{interfaces_:function(){return[E]},compare:function(e,r){return t.compareDoubles(n.centreX(e.getBounds()),n.centreX(r.getBounds()))}}},r.yComparator.get=function(){return{interfaces_:function(){return[E]},compare:function(e,r){return t.compareDoubles(n.centreY(e.getBounds()),n.centreY(r.getBounds()))}}},r.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(t,e){return t.intersects(e)}}},r.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(n,r),n}(en),an=function(t){function e(){var e=arguments[0];t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeBounds=function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new J(n.getBounds()):t.expandToInclude(n.getBounds())}return t},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Qe),un=function(){};un.prototype.interfaces_=function(){return[]},un.prototype.getClass=function(){return un},un.relativeSign=function(t,e){return t<e?-1:t>e?1:0},un.compare=function(t,e,n){if(e.equals2D(n))return 0;var r=un.relativeSign(e.x,n.x),o=un.relativeSign(e.y,n.y);switch(t){case 0:return un.compareValue(r,o);case 1:return un.compareValue(o,r);case 2:return un.compareValue(o,-r);case 3:return un.compareValue(-r,o);case 4:return un.compareValue(-r,-o);case 5:return un.compareValue(-o,-r);case 6:return un.compareValue(-o,r);case 7:return un.compareValue(r,-o)}return et.shouldNeverReachHere("invalid octant value"),0},un.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var cn=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._segString=t,this.coord=new x(e),this.segmentIndex=n,this._segmentOctant=r,this._isInterior=!e.equals2D(t.getCoordinate(n))};cn.prototype.getCoordinate=function(){return this.coord},cn.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},cn.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:un.compare(this._segmentOctant,this.coord,e.coord)},cn.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},cn.prototype.isInterior=function(){return this._isInterior},cn.prototype.interfaces_=function(){return[P]},cn.prototype.getClass=function(){return cn};var ln=function(){this._nodeMap=new p,this._edge=null;var t=arguments[0];this._edge=t};ln.prototype.getSplitCoordinates=function(){var t=new Ot;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next();this.addEdgeCoordinates(n,r,t),n=r}return t.toCoordinateArray()},ln.prototype.addCollapsedNodes=function(){var t=new Et;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}},ln.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},ln.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e),r=this._edge.getCoordinate(e+2);n.equals2D(r)&&t.add(new D(e+1))}},ln.prototype.addEdgeCoordinates=function(t,e,n){var r=this._edge.getCoordinate(e.segmentIndex),o=e.isInterior()||!e.coord.equals2D(r);n.add(new x(t.coord),!1);for(var i=t.segmentIndex+1;i<=e.segmentIndex;i++)n.add(this._edge.getCoordinate(i));o&&n.add(new x(e.coord))},ln.prototype.iterator=function(){return this._nodeMap.values().iterator()},ln.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),o=this.createSplitEdge(n,r);t.add(o),n=r}},ln.prototype.findCollapseIndex=function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var r=e.segmentIndex-t.segmentIndex;return e.isInterior()||r--,1===r&&(n[0]=t.segmentIndex+1,!0)},ln.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),n=this.iterator(),r=n.next();n.hasNext();){var o=n.next();this.findCollapseIndex(r,o,e)&&t.add(new D(e[0])),r=o}},ln.prototype.getEdge=function(){return this._edge},ln.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},ln.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this._edge.getCoordinate(e.segmentIndex),o=e.isInterior()||!e.coord.equals2D(r);o||n--;var i=new Array(n).fill(null),s=0;i[s++]=new x(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)i[s++]=this._edge.getCoordinate(a);return o&&(i[s]=new x(e.coord)),new dn(i,this._edge.getData())},ln.prototype.add=function(t,e){var n=new cn(this._edge,t,e,this._edge.getSegmentOctant(e)),r=this._nodeMap.get(n);return null!==r?(et.isTrue(r.coord.equals2D(t),"Found equal nodes with different coordinates"),r):(this._nodeMap.put(n,n),n)},ln.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new K("bad split edge start point at "+n);var r=t.get(t.size()-1).getCoordinates(),o=r[r.length-1];if(!o.equals2D(e[e.length-1]))throw new K("bad split edge end point at "+o)},ln.prototype.interfaces_=function(){return[]},ln.prototype.getClass=function(){return ln};var pn=function(){};pn.prototype.interfaces_=function(){return[]},pn.prototype.getClass=function(){return pn},pn.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new b("Cannot compute the octant for point ( "+t+", "+e+" )");var n=Math.abs(t),r=Math.abs(e);return t>=0?e>=0?n>=r?0:1:n>=r?7:6:e>=0?n>=r?3:2:n>=r?4:5}if(arguments[0]instanceof x&&arguments[1]instanceof x){var o=arguments[0],i=arguments[1],s=i.x-o.x,a=i.y-o.y;if(0===s&&0===a)throw new b("Cannot compute the octant for two identical points "+o);return pn.octant(s,a)}};var fn=function(){};fn.prototype.getCoordinates=function(){},fn.prototype.size=function(){},fn.prototype.getCoordinate=function(t){},fn.prototype.isClosed=function(){},fn.prototype.setData=function(t){},fn.prototype.getData=function(){},fn.prototype.interfaces_=function(){return[]},fn.prototype.getClass=function(){return fn};var hn=function(){};hn.prototype.addIntersection=function(t,e){},hn.prototype.interfaces_=function(){return[fn]},hn.prototype.getClass=function(){return hn};var dn=function(){this._nodeList=new ln(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};dn.prototype.getCoordinates=function(){return this._pts},dn.prototype.size=function(){return this._pts.length},dn.prototype.getCoordinate=function(t){return this._pts[t]},dn.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},dn.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},dn.prototype.setData=function(t){this._data=t},dn.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:pn.octant(t,e)},dn.prototype.getData=function(){return this._data},dn.prototype.addIntersection=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var n=arguments[1],r=arguments[3],o=new x(arguments[0].getIntersection(r));this.addIntersection(o,n)}},dn.prototype.toString=function(){return $.toLineString(new ue(this._pts))},dn.prototype.getNodeList=function(){return this._nodeList},dn.prototype.addIntersectionNode=function(t,e){var n=e,r=n+1;if(r<this._pts.length){var o=this._pts[r];t.equals2D(o)&&(n=r)}return this._nodeList.add(t,n)},dn.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},dn.prototype.interfaces_=function(){return[hn]},dn.prototype.getClass=function(){return dn},dn.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new Et;return dn.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[1],r=arguments[0].iterator();r.hasNext();)r.next().getNodeList().addSplitEdges(n)};var yn=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new x,this.p1=new x;else if(1===arguments.length){var t=arguments[0];this.p0=new x(t.p0),this.p1=new x(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],o=arguments[3];this.p0=new x(e,n),this.p1=new x(r,o)}},gn={serialVersionUID:{configurable:!0}};yn.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},yn.prototype.orientationIndex=function(){if(arguments[0]instanceof yn){var t=arguments[0],e=at.orientationIndex(this.p0,this.p1,t.p0),n=at.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0||e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof x){var r=arguments[0];return at.orientationIndex(this.p0,this.p1,r)}},yn.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},yn.prototype.isVertical=function(){return this.p0.x===this.p1.x},yn.prototype.equals=function(t){if(!(t instanceof yn))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},yn.prototype.intersection=function(t){var e=new ot;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},yn.prototype.project=function(){if(arguments[0]instanceof x){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new x(t);var e=this.projectionFactor(t),n=new x;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof yn){var r=arguments[0],o=this.projectionFactor(r.p0),i=this.projectionFactor(r.p1);if(o>=1&&i>=1)return null;if(o<=0&&i<=0)return null;var s=this.project(r.p0);o<0&&(s=this.p0),o>1&&(s=this.p1);var a=this.project(r.p1);return i<0&&(a=this.p0),i>1&&(a=this.p1),new yn(s,a)}},yn.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},yn.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},yn.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},yn.prototype.distancePerpendicular=function(t){return at.distancePointLinePerpendicular(t,this.p0,this.p1)},yn.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},yn.prototype.midPoint=function(){return yn.midPoint(this.p0,this.p1)},yn.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,r=e*e+n*n;return r<=0?m.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/r},yn.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),r=m.MAX_VALUE,o=null,i=this.closestPoint(t.p0);r=i.distance(t.p0),n[0]=i,n[1]=t.p0;var s=this.closestPoint(t.p1);(o=s.distance(t.p1))<r&&(r=o,n[0]=s,n[1]=t.p1);var a=t.closestPoint(this.p0);(o=a.distance(this.p0))<r&&(r=o,n[0]=this.p0,n[1]=a);var u=t.closestPoint(this.p1);return(o=u.distance(this.p1))<r&&(r=o,n[0]=this.p1,n[1]=u),n},yn.prototype.closestPoint=function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},yn.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},yn.prototype.getLength=function(){return this.p0.distance(this.p1)},yn.prototype.compareTo=function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},yn.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},yn.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},yn.prototype.lineIntersection=function(t){try{return W.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof U))throw t}return null},yn.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},yn.prototype.pointAlongOffset=function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),r=this.p0.y+t*(this.p1.y-this.p0.y),o=this.p1.x-this.p0.x,i=this.p1.y-this.p0.y,s=Math.sqrt(o*o+i*i),a=0,u=0;if(0!==e){if(s<=0)throw new Error("Cannot compute offset from zero-length line segment");a=e*o/s,u=e*i/s}return new x(n-u,r+a)},yn.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},yn.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||m.isNaN(e))&&(e=1),e},yn.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},yn.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},yn.prototype.distance=function(){if(arguments[0]instanceof yn){var t=arguments[0];return at.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof x){var e=arguments[0];return at.distancePointLine(e,this.p0,this.p1)}},yn.prototype.pointAlong=function(t){var e=new x;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},yn.prototype.hashCode=function(){var t=m.doubleToLongBits(this.p0.x);t^=31*m.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=m.doubleToLongBits(this.p1.x);return n^=31*m.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)},yn.prototype.interfaces_=function(){return[P,e]},yn.prototype.getClass=function(){return yn},yn.midPoint=function(t,e){return new x((t.x+e.x)/2,(t.y+e.y)/2)},gn.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(yn,gn);var vn=function(){this.tempEnv1=new J,this.tempEnv2=new J,this._overlapSeg1=new yn,this._overlapSeg2=new yn};vn.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var t=arguments[1],e=arguments[2],n=arguments[3];arguments[0].getLineSegment(t,this._overlapSeg1),e.getLineSegment(n,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},vn.prototype.interfaces_=function(){return[]},vn.prototype.getClass=function(){return vn};var bn=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._pts=t,this._start=e,this._end=n,this._context=r};bn.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},bn.prototype.computeSelect=function(t,e,n,r){var o=this._pts[e],i=this._pts[n];if(r.tempEnv1.init(o,i),n-e==1)return r.select(this,e),null;if(!t.intersects(r.tempEnv1))return null;var s=Math.trunc((e+n)/2);e<s&&this.computeSelect(t,e,s,r),s<n&&this.computeSelect(t,s,n,r)},bn.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t},bn.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},bn.prototype.setId=function(t){this._id=t},bn.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},bn.prototype.getEnvelope=function(){if(null===this._env){var t=this._pts[this._start],e=this._pts[this._end];this._env=new J(t,e)}return this._env},bn.prototype.getEndIndex=function(){return this._end},bn.prototype.getStartIndex=function(){return this._start},bn.prototype.getContext=function(){return this._context},bn.prototype.getId=function(){return this._id},bn.prototype.computeOverlapsInternal=function(t,e,n,r,o,i){var s=this._pts[t],a=this._pts[e],u=n._pts[r],c=n._pts[o];if(e-t==1&&o-r==1)return i.overlap(this,t,n,r),null;if(i.tempEnv1.init(s,a),i.tempEnv2.init(u,c),!i.tempEnv1.intersects(i.tempEnv2))return null;var l=Math.trunc((t+e)/2),p=Math.trunc((r+o)/2);t<l&&(r<p&&this.computeOverlapsInternal(t,l,n,r,p,i),p<o&&this.computeOverlapsInternal(t,l,n,p,o,i)),l<e&&(r<p&&this.computeOverlapsInternal(l,e,n,r,p,i),p<o&&this.computeOverlapsInternal(l,e,n,p,o,i))},bn.prototype.interfaces_=function(){return[]},bn.prototype.getClass=function(){return bn};var mn=function(){};mn.prototype.interfaces_=function(){return[]},mn.prototype.getClass=function(){return mn},mn.getChainStartIndices=function(t){var e=0,n=new Et;n.add(new D(e));do{var r=mn.findChainEnd(t,e);n.add(new D(r)),e=r}while(e<t.length-1);return mn.toIntArray(n)},mn.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var r=Fe.quadrant(t[n],t[n+1]),o=e+1;o<t.length&&(t[o-1].equals2D(t[o])||Fe.quadrant(t[o-1],t[o])===r);)o++;return o-1},mn.getChains=function(){if(1===arguments.length){var t=arguments[0];return mn.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],r=new Et,o=mn.getChainStartIndices(e),i=0;i<o.length-1;i++){var s=new bn(e,o[i],o[i+1],n);r.add(s)}return r}},mn.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var _n=function(){};_n.prototype.computeNodes=function(t){},_n.prototype.getNodedSubstrings=function(){},_n.prototype.interfaces_=function(){return[]},_n.prototype.getClass=function(){return _n};var Pn=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}};Pn.prototype.setSegmentIntersector=function(t){this._segInt=t},Pn.prototype.interfaces_=function(){return[_n]},Pn.prototype.getClass=function(){return Pn};var wn=function(t){function e(e){e?t.call(this,e):t.call(this),this._monoChains=new Et,this._index=new sn,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return dn.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(t){for(var e=mn.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var n=e.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}},e.prototype.computeNodes=function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var t=new En(this._segInt),e=this._monoChains.iterator();e.hasNext();)for(var n=e.next(),r=this._index.query(n.getEnvelope()).iterator();r.hasNext();){var o=r.next();if(o.getId()>n.getId()&&(n.computeOverlaps(o,t),this._nOverlaps++),this._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.SegmentOverlapAction.get=function(){return En},Object.defineProperties(e,n),e}(Pn),En=function(t){function e(){t.call(this),this._si=null;var e=arguments[0];this._si=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var e=arguments[1],n=arguments[2],r=arguments[3],o=arguments[0].getContext(),i=n.getContext();this._si.processIntersections(o,e,i,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(vn),xn=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setQuadrantSegments(e)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(r)}else if(4===arguments.length){var o=arguments[0],i=arguments[1],s=arguments[2],a=arguments[3];this.setQuadrantSegments(o),this.setEndCapStyle(i),this.setJoinStyle(s),this.setMitreLimit(a)}},On={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};xn.prototype.getEndCapStyle=function(){return this._endCapStyle},xn.prototype.isSingleSided=function(){return this._isSingleSided},xn.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=xn.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=xn.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==xn.JOIN_ROUND&&(this._quadrantSegments=xn.DEFAULT_QUADRANT_SEGMENTS)},xn.prototype.getJoinStyle=function(){return this._joinStyle},xn.prototype.setJoinStyle=function(t){this._joinStyle=t},xn.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},xn.prototype.getSimplifyFactor=function(){return this._simplifyFactor},xn.prototype.getQuadrantSegments=function(){return this._quadrantSegments},xn.prototype.setEndCapStyle=function(t){this._endCapStyle=t},xn.prototype.getMitreLimit=function(){return this._mitreLimit},xn.prototype.setMitreLimit=function(t){this._mitreLimit=t},xn.prototype.setSingleSided=function(t){this._isSingleSided=t},xn.prototype.interfaces_=function(){return[]},xn.prototype.getClass=function(){return xn},xn.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},On.CAP_ROUND.get=function(){return 1},On.CAP_FLAT.get=function(){return 2},On.CAP_SQUARE.get=function(){return 3},On.JOIN_ROUND.get=function(){return 1},On.JOIN_MITRE.get=function(){return 2},On.JOIN_BEVEL.get=function(){return 3},On.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},On.DEFAULT_MITRE_LIMIT.get=function(){return 5},On.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(xn,On);var Cn=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=at.COUNTERCLOCKWISE,this._inputLine=t||null},Sn={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Cn.prototype.isDeletable=function(t,e,n,r){var o=this._inputLine[t],i=this._inputLine[e],s=this._inputLine[n];return!!this.isConcave(o,i,s)&&!!this.isShallow(o,i,s,r)&&this.isShallowSampled(o,i,t,n,r)},Cn.prototype.deleteShallowConcavities=function(){for(var t=1,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e),r=!1;n<this._inputLine.length;){var o=!1;this.isDeletable(t,e,n,this._distanceTol)&&(this._isDeleted[e]=Cn.DELETE,o=!0,r=!0),t=o?n:e,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e)}return r},Cn.prototype.isShallowConcavity=function(t,e,n,r){return at.computeOrientation(t,e,n)===this._angleOrientation&&at.distancePointLine(e,t,n)<r},Cn.prototype.isShallowSampled=function(t,e,n,r,o){var i=Math.trunc((r-n)/Cn.NUM_PTS_TO_CHECK);i<=0&&(i=1);for(var s=n;s<r;s+=i)if(!this.isShallow(t,e,this._inputLine[s],o))return!1;return!0},Cn.prototype.isConcave=function(t,e,n){return at.computeOrientation(t,e,n)===this._angleOrientation},Cn.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=at.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},Cn.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===Cn.DELETE;)e++;return e},Cn.prototype.isShallow=function(t,e,n,r){return at.distancePointLine(e,t,n)<r},Cn.prototype.collapseLine=function(){for(var t=new Ot,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==Cn.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},Cn.prototype.interfaces_=function(){return[]},Cn.prototype.getClass=function(){return Cn},Cn.simplify=function(t,e){return new Cn(t).simplify(e)},Sn.INIT.get=function(){return 0},Sn.DELETE.get=function(){return 1},Sn.KEEP.get=function(){return 1},Sn.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Cn,Sn);var Mn=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new Et},jn={COORDINATE_ARRAY_TYPE:{configurable:!0}};Mn.prototype.getCoordinates=function(){return this._ptList.toArray(Mn.COORDINATE_ARRAY_TYPE)},Mn.prototype.setPrecisionModel=function(t){this._precisionModel=t},Mn.prototype.addPt=function(t){var e=new x(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},Mn.prototype.revere=function(){},Mn.prototype.addPts=function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var r=t.length-1;r>=0;r--)this.addPt(t[r])},Mn.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},Mn.prototype.toString=function(){return(new ve).createLineString(this.getCoordinates()).toString()},Mn.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new x(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},Mn.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},Mn.prototype.interfaces_=function(){return[]},Mn.prototype.getClass=function(){return Mn},jn.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(Mn,jn);var Nn=function(){},In={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Nn.prototype.interfaces_=function(){return[]},Nn.prototype.getClass=function(){return Nn},Nn.toDegrees=function(t){return 180*t/Math.PI},Nn.normalize=function(t){for(;t>Math.PI;)t-=Nn.PI_TIMES_2;for(;t<=-Math.PI;)t+=Nn.PI_TIMES_2;return t},Nn.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],r=n.x-e.x,o=n.y-e.y;return Math.atan2(o,r)}},Nn.isAcute=function(t,e,n){var r=t.x-e.x,o=t.y-e.y;return r*(n.x-e.x)+o*(n.y-e.y)>0},Nn.isObtuse=function(t,e,n){var r=t.x-e.x,o=t.y-e.y;return r*(n.x-e.x)+o*(n.y-e.y)<0},Nn.interiorAngle=function(t,e,n){var r=Nn.angle(e,t),o=Nn.angle(e,n);return Math.abs(o-r)},Nn.normalizePositive=function(t){if(t<0){for(;t<0;)t+=Nn.PI_TIMES_2;t>=Nn.PI_TIMES_2&&(t=0)}else{for(;t>=Nn.PI_TIMES_2;)t-=Nn.PI_TIMES_2;t<0&&(t=0)}return t},Nn.angleBetween=function(t,e,n){var r=Nn.angle(e,t),o=Nn.angle(e,n);return Nn.diff(r,o)},Nn.diff=function(t,e){var n=null;return(n=t<e?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n},Nn.toRadians=function(t){return t*Math.PI/180},Nn.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?Nn.COUNTERCLOCKWISE:n<0?Nn.CLOCKWISE:Nn.NONE},Nn.angleBetweenOriented=function(t,e,n){var r=Nn.angle(e,t),o=Nn.angle(e,n)-r;return o<=-Math.PI?o+Nn.PI_TIMES_2:o>Math.PI?o-Nn.PI_TIMES_2:o},In.PI_TIMES_2.get=function(){return 2*Math.PI},In.PI_OVER_2.get=function(){return Math.PI/2},In.PI_OVER_4.get=function(){return Math.PI/4},In.COUNTERCLOCKWISE.get=function(){return at.COUNTERCLOCKWISE},In.CLOCKWISE.get=function(){return at.CLOCKWISE},In.NONE.get=function(){return at.COLLINEAR},Object.defineProperties(Nn,In);var Tn=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new yn,this._seg1=new yn,this._offset0=new yn,this._offset1=new yn,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],n=arguments[1],r=arguments[2];this._precisionModel=e,this._bufParams=n,this._li=new ot,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===xn.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(r)},An={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};Tn.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=at.computeOrientation(this._s0,this._s1,this._s2),r=n===at.CLOCKWISE&&this._side===Oe.LEFT||n===at.COUNTERCLOCKWISE&&this._side===Oe.RIGHT;0===n?this.addCollinear(e):r?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},Tn.prototype.addLineEndCap=function(t,e){var n=new yn(t,e),r=new yn;this.computeOffsetSegment(n,Oe.LEFT,this._distance,r);var o=new yn;this.computeOffsetSegment(n,Oe.RIGHT,this._distance,o);var i=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,i);switch(this._bufParams.getEndCapStyle()){case xn.CAP_ROUND:this._segList.addPt(r.p1),this.addFilletArc(e,a+Math.PI/2,a-Math.PI/2,at.CLOCKWISE,this._distance),this._segList.addPt(o.p1);break;case xn.CAP_FLAT:this._segList.addPt(r.p1),this._segList.addPt(o.p1);break;case xn.CAP_SQUARE:var u=new x;u.x=Math.abs(this._distance)*Math.cos(a),u.y=Math.abs(this._distance)*Math.sin(a);var c=new x(r.p1.x+u.x,r.p1.y+u.y),l=new x(o.p1.x+u.x,o.p1.y+u.y);this._segList.addPt(c),this._segList.addPt(l)}},Tn.prototype.getCoordinates=function(){return this._segList.getCoordinates()},Tn.prototype.addMitreJoin=function(t,e,n,r){var o=!0,i=null;try{i=W.intersection(e.p0,e.p1,n.p0,n.p1),(r<=0?1:i.distance(t)/Math.abs(r))>this._bufParams.getMitreLimit()&&(o=!1)}catch(t){if(!(t instanceof U))throw t;i=new x(0,0),o=!1}o?this._segList.addPt(i):this.addLimitedMitreJoin(e,n,r,this._bufParams.getMitreLimit())},Tn.prototype.addFilletCorner=function(t,e,n,r,o){var i=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,i),u=n.x-t.x,c=n.y-t.y,l=Math.atan2(c,u);r===at.CLOCKWISE?a<=l&&(a+=2*Math.PI):a>=l&&(a-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,a,l,r,o),this._segList.addPt(n)},Tn.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*Tn.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===xn.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===xn.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},Tn.prototype.createSquare=function(t){this._segList.addPt(new x(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new x(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new x(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new x(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},Tn.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},Tn.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},Tn.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},Tn.prototype.initSideSegments=function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},Tn.prototype.addLimitedMitreJoin=function(t,e,n,r){var o=this._seg0.p1,i=Nn.angle(o,this._seg0.p0),s=Nn.angleBetweenOriented(this._seg0.p0,o,this._seg1.p1)/2,a=Nn.normalize(i+s),u=Nn.normalize(a+Math.PI),c=r*n,l=n-c*Math.abs(Math.sin(s)),p=o.x+c*Math.cos(u),f=o.y+c*Math.sin(u),h=new x(p,f),d=new yn(o,h),y=d.pointAlongOffset(1,l),g=d.pointAlongOffset(1,-l);this._side===Oe.LEFT?(this._segList.addPt(y),this._segList.addPt(g)):(this._segList.addPt(g),this._segList.addPt(y))},Tn.prototype.computeOffsetSegment=function(t,e,n,r){var o=e===Oe.LEFT?1:-1,i=t.p1.x-t.p0.x,s=t.p1.y-t.p0.y,a=Math.sqrt(i*i+s*s),u=o*n*i/a,c=o*n*s/a;r.p0.x=t.p0.x-c,r.p0.y=t.p0.y+u,r.p1.x=t.p1.x-c,r.p1.y=t.p1.y+u},Tn.prototype.addFilletArc=function(t,e,n,r,o){var i=r===at.CLOCKWISE?-1:1,s=Math.abs(e-n),a=Math.trunc(s/this._filletAngleQuantum+.5);if(a<1)return null;for(var u=s/a,c=0,l=new x;c<s;){var p=e+i*c;l.x=t.x+o*Math.cos(p),l.y=t.y+o*Math.sin(p),this._segList.addPt(l),c+=u}},Tn.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*Tn.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new x((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var r=new x((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},Tn.prototype.createCircle=function(t){var e=new x(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},Tn.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},Tn.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Mn,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*Tn.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},Tn.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===xn.JOIN_BEVEL||this._bufParams.getJoinStyle()===xn.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,at.CLOCKWISE,this._distance))},Tn.prototype.closeRing=function(){this._segList.closeRing()},Tn.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},Tn.prototype.interfaces_=function(){return[]},Tn.prototype.getClass=function(){return Tn},An.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},An.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},An.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},An.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(Tn,An);var Dn=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e};Dn.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var n=e<0,r=Math.abs(e),o=this.getSegGen(r);t.length<=1?this.computePointCurve(t[0],o):this.computeOffsetCurve(t,n,o);var i=o.getCoordinates();return n&&Ct.reverse(i),i},Dn.prototype.computeSingleSidedBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var o=Cn.simplify(t,-r),i=o.length-1;n.initSideSegments(o[i],o[i-1],Oe.LEFT),n.addFirstSegment();for(var s=i-2;s>=0;s--)n.addNextSegment(o[s],!0)}else{n.addSegments(t,!1);var a=Cn.simplify(t,r),u=a.length-1;n.initSideSegments(a[0],a[1],Oe.LEFT),n.addFirstSegment();for(var c=2;c<=u;c++)n.addNextSegment(a[c],!0)}n.addLastSegment(),n.closeRing()},Dn.prototype.computeRingBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);e===Oe.RIGHT&&(r=-r);var o=Cn.simplify(t,r),i=o.length-1;n.initSideSegments(o[i-1],o[0],e);for(var s=1;s<=i;s++){var a=1!==s;n.addNextSegment(o[s],a)}n.closeRing()},Dn.prototype.computeLineBufferCurve=function(t,e){var n=this.simplifyTolerance(this._distance),r=Cn.simplify(t,n),o=r.length-1;e.initSideSegments(r[0],r[1],Oe.LEFT);for(var i=2;i<=o;i++)e.addNextSegment(r[i],!0);e.addLastSegment(),e.addLineEndCap(r[o-1],r[o]);var s=Cn.simplify(t,-n),a=s.length-1;e.initSideSegments(s[a],s[a-1],Oe.LEFT);for(var u=a-2;u>=0;u--)e.addNextSegment(s[u],!0);e.addLastSegment(),e.addLineEndCap(s[1],s[0]),e.closeRing()},Dn.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case xn.CAP_ROUND:e.createCircle(t);break;case xn.CAP_SQUARE:e.createSquare(t)}},Dn.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),r=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],r);else if(this._bufParams.isSingleSided()){var o=e<0;this.computeSingleSidedBufferCurve(t,o,r)}else this.computeLineBufferCurve(t,r);return r.getCoordinates()},Dn.prototype.getBufferParameters=function(){return this._bufParams},Dn.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},Dn.prototype.getRingCurve=function(t,e,n){if(this._distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return Dn.copyCoordinates(t);var r=this.getSegGen(n);return this.computeRingBufferCurve(t,e,r),r.getCoordinates()},Dn.prototype.computeOffsetCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){var o=Cn.simplify(t,-r),i=o.length-1;n.initSideSegments(o[i],o[i-1],Oe.LEFT),n.addFirstSegment();for(var s=i-2;s>=0;s--)n.addNextSegment(o[s],!0)}else{var a=Cn.simplify(t,r),u=a.length-1;n.initSideSegments(a[0],a[1],Oe.LEFT),n.addFirstSegment();for(var c=2;c<=u;c++)n.addNextSegment(a[c],!0)}n.addLastSegment()},Dn.prototype.getSegGen=function(t){return new Tn(this._precisionModel,this._bufParams,t)},Dn.prototype.interfaces_=function(){return[]},Dn.prototype.getClass=function(){return Dn},Dn.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new x(t[n]);return e};var Rn=function(){this._subgraphs=null,this._seg=new yn,this._cga=new at;var t=arguments[0];this._subgraphs=t},kn={DepthSegment:{configurable:!0}};Rn.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=new Et,n=this._subgraphs.iterator();n.hasNext();){var r=n.next(),o=r.getEnvelope();t.y<o.getMinY()||t.y>o.getMaxY()||this.findStabbedSegments(t,r.getDirectedEdges(),e)}return e}if(3===arguments.length)if(N(arguments[2],wt)&&arguments[0]instanceof x&&arguments[1]instanceof ze){for(var i=arguments[0],s=arguments[1],a=arguments[2],u=s.getEdge().getCoordinates(),c=0;c<u.length-1;c++)if(this._seg.p0=u[c],this._seg.p1=u[c+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<i.x||this._seg.isHorizontal()||i.y<this._seg.p0.y||i.y>this._seg.p1.y||at.computeOrientation(this._seg.p0,this._seg.p1,i)===at.RIGHT)){var l=s.getDepth(Oe.LEFT);this._seg.p0.equals(u[c])||(l=s.getDepth(Oe.RIGHT));var p=new Ln(this._seg,l);a.add(p)}}else if(N(arguments[2],wt)&&arguments[0]instanceof x&&N(arguments[1],wt))for(var f=arguments[0],h=arguments[2],d=arguments[1].iterator();d.hasNext();){var y=d.next();y.isForward()&&this.findStabbedSegments(f,y,h)}},Rn.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:Ke.min(e)._leftDepth},Rn.prototype.interfaces_=function(){return[]},Rn.prototype.getClass=function(){return Rn},kn.DepthSegment.get=function(){return Ln},Object.defineProperties(Rn,kn);var Ln=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new yn(t),this._leftDepth=e};Ln.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==n||0!=(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(e._upwardSeg)},Ln.prototype.compareX=function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},Ln.prototype.toString=function(){return this._upwardSeg.toString()},Ln.prototype.interfaces_=function(){return[P]},Ln.prototype.getClass=function(){return Ln};var Gn=function(t,e,n){this.p0=t||null,this.p1=e||null,this.p2=n||null};Gn.prototype.area=function(){return Gn.area(this.p0,this.p1,this.p2)},Gn.prototype.signedArea=function(){return Gn.signedArea(this.p0,this.p1,this.p2)},Gn.prototype.interpolateZ=function(t){if(null===t)throw new b("Supplied point is null.");return Gn.interpolateZ(t,this.p0,this.p1,this.p2)},Gn.prototype.longestSideLength=function(){return Gn.longestSideLength(this.p0,this.p1,this.p2)},Gn.prototype.isAcute=function(){return Gn.isAcute(this.p0,this.p1,this.p2)},Gn.prototype.circumcentre=function(){return Gn.circumcentre(this.p0,this.p1,this.p2)},Gn.prototype.area3D=function(){return Gn.area3D(this.p0,this.p1,this.p2)},Gn.prototype.centroid=function(){return Gn.centroid(this.p0,this.p1,this.p2)},Gn.prototype.inCentre=function(){return Gn.inCentre(this.p0,this.p1,this.p2)},Gn.prototype.interfaces_=function(){return[]},Gn.prototype.getClass=function(){return Gn},Gn.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},Gn.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},Gn.det=function(t,e,n,r){return t*r-e*n},Gn.interpolateZ=function(t,e,n,r){var o=e.x,i=e.y,s=n.x-o,a=r.x-o,u=n.y-i,c=r.y-i,l=s*c-a*u,p=t.x-o,f=t.y-i,h=(c*p-a*f)/l,d=(-u*p+s*f)/l;return e.z+h*(n.z-e.z)+d*(r.z-e.z)},Gn.longestSideLength=function(t,e,n){var r=t.distance(e),o=e.distance(n),i=n.distance(t),s=r;return o>s&&(s=o),i>s&&(s=i),s},Gn.isAcute=function(t,e,n){return!!Nn.isAcute(t,e,n)&&!!Nn.isAcute(e,n,t)&&!!Nn.isAcute(n,t,e)},Gn.circumcentre=function(t,e,n){var r=n.x,o=n.y,i=t.x-r,s=t.y-o,a=e.x-r,u=e.y-o,c=2*Gn.det(i,s,a,u),l=Gn.det(s,i*i+s*s,u,a*a+u*u),p=Gn.det(i,i*i+s*s,a,a*a+u*u);return new x(r-l/c,o+p/c)},Gn.perpendicularBisector=function(t,e){var n=e.x-t.x,r=e.y-t.y,o=new W(t.x+n/2,t.y+r/2,1),i=new W(t.x-r+n/2,t.y+n+r/2,1);return new W(o,i)},Gn.angleBisector=function(t,e,n){var r=e.distance(t),o=r/(r+e.distance(n)),i=n.x-t.x,s=n.y-t.y;return new x(t.x+o*i,t.y+o*s)},Gn.area3D=function(t,e,n){var r=e.x-t.x,o=e.y-t.y,i=e.z-t.z,s=n.x-t.x,a=n.y-t.y,u=n.z-t.z,c=o*u-i*a,l=i*s-r*u,p=r*a-o*s,f=c*c+l*l+p*p;return Math.sqrt(f)/2},Gn.centroid=function(t,e,n){var r=(t.x+e.x+n.x)/3,o=(t.y+e.y+n.y)/3;return new x(r,o)},Gn.inCentre=function(t,e,n){var r=e.distance(n),o=t.distance(n),i=t.distance(e),s=r+o+i,a=(r*t.x+o*e.x+i*n.x)/s,u=(r*t.y+o*e.y+i*n.y)/s;return new x(a,u)};var Fn=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new Et;var t=arguments[0],e=arguments[1],n=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=n};Fn.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,M.EXTERIOR,M.INTERIOR)},Fn.prototype.addPolygon=function(t){var e=this._distance,n=Oe.LEFT;this._distance<0&&(e=-this._distance,n=Oe.RIGHT);var r=t.getExteriorRing(),o=Ct.removeRepeatedPoints(r.getCoordinates());if(this._distance<0&&this.isErodedCompletely(r,this._distance))return null;if(this._distance<=0&&o.length<3)return null;this.addPolygonRing(o,e,n,M.EXTERIOR,M.INTERIOR);for(var i=0;i<t.getNumInteriorRing();i++){var s=t.getInteriorRingN(i),a=Ct.removeRepeatedPoints(s.getCoordinates());this._distance>0&&this.isErodedCompletely(s,-this._distance)||this.addPolygonRing(a,e,Oe.opposite(n),M.INTERIOR,M.EXTERIOR)}},Fn.prototype.isTriangleErodedCompletely=function(t,e){var n=new Gn(t[0],t[1],t[2]),r=n.inCentre();return at.distancePointLine(r,n.p0,n.p1)<Math.abs(e)},Fn.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=Ct.removeRepeatedPoints(t.getCoordinates()),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,M.EXTERIOR,M.INTERIOR)},Fn.prototype.addCurve=function(t,e,n){if(null===t||t.length<2)return null;var r=new dn(t,new Te(0,M.BOUNDARY,e,n));this._curveList.add(r)},Fn.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},Fn.prototype.addPolygonRing=function(t,e,n,r,o){if(0===e&&t.length<ee.MINIMUM_VALID_SIZE)return null;var i=r,s=o;t.length>=ee.MINIMUM_VALID_SIZE&&at.isCCW(t)&&(i=o,s=r,n=Oe.opposite(n));var a=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(a,i,s)},Fn.prototype.add=function(t){if(t.isEmpty())return null;t instanceof Kt?this.addPolygon(t):t instanceof Ht?this.addLineString(t):t instanceof Qt?this.addPoint(t):(t instanceof te||t instanceof Ut||t instanceof ne||t instanceof zt)&&this.addCollection(t)},Fn.prototype.isErodedCompletely=function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var r=t.getEnvelopeInternal(),o=Math.min(r.getHeight(),r.getWidth());return e<0&&2*Math.abs(e)>o},Fn.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},Fn.prototype.interfaces_=function(){return[]},Fn.prototype.getClass=function(){return Fn};var Vn=function(){};Vn.prototype.locate=function(t){},Vn.prototype.interfaces_=function(){return[]},Vn.prototype.getClass=function(){return Vn};var Bn=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};Bn.prototype.next=function(){if(this._atStart)return this._atStart=!1,Bn.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new r;var t=this._parent.getGeometryN(this._index++);return t instanceof zt?(this._subcollectionIterator=new Bn(t),this._subcollectionIterator.next()):t},Bn.prototype.remove=function(){throw new Error(this.getClass().getName())},Bn.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},Bn.prototype.interfaces_=function(){return[Pt]},Bn.prototype.getClass=function(){return Bn},Bn.isAtomic=function(t){return!(t instanceof zt)};var zn=function(){this._geom=null;var t=arguments[0];this._geom=t};zn.prototype.locate=function(t){return zn.locate(t,this._geom)},zn.prototype.interfaces_=function(){return[Vn]},zn.prototype.getClass=function(){return zn},zn.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&at.isPointInRing(t,e.getCoordinates())},zn.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!zn.isPointInRing(t,n))return!1;for(var r=0;r<e.getNumInteriorRing();r++){var o=e.getInteriorRingN(r);if(zn.isPointInRing(t,o))return!1}return!0},zn.containsPoint=function(t,e){if(e instanceof Kt)return zn.containsPointInPolygon(t,e);if(e instanceof zt)for(var n=new Bn(e);n.hasNext();){var r=n.next();if(r!==e&&zn.containsPoint(t,r))return!0}return!1},zn.locate=function(t,e){return e.isEmpty()?M.EXTERIOR:zn.containsPoint(t,e)?M.INTERIOR:M.EXTERIOR};var Un=function(){this._edgeMap=new p,this._edgeList=null,this._ptInAreaLocation=[M.NONE,M.NONE]};Un.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),n=e-1;return 0===e&&(n=this._edgeList.size()-1),this._edgeList.get(n)},Un.prototype.propagateSideLabels=function(t){for(var e=M.NONE,n=this.iterator();n.hasNext();){var r=n.next().getLabel();r.isArea(t)&&r.getLocation(t,Oe.LEFT)!==M.NONE&&(e=r.getLocation(t,Oe.LEFT))}if(e===M.NONE)return null;for(var o=e,i=this.iterator();i.hasNext();){var s=i.next(),a=s.getLabel();if(a.getLocation(t,Oe.ON)===M.NONE&&a.setLocation(t,Oe.ON,o),a.isArea(t)){var u=a.getLocation(t,Oe.LEFT),c=a.getLocation(t,Oe.RIGHT);if(c!==M.NONE){if(c!==o)throw new Me("side location conflict",s.getCoordinate());u===M.NONE&&et.shouldNeverReachHere("found single null side (at "+s.getCoordinate()+")"),o=u}else et.isTrue(a.getLocation(t,Oe.LEFT)===M.NONE,"found single null side"),a.setLocation(t,Oe.RIGHT,o),a.setLocation(t,Oe.LEFT,o)}}},Un.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},Un.prototype.print=function(t){q.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},Un.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},Un.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,r=e.get(n).getLabel().getLocation(t,Oe.LEFT);et.isTrue(r!==M.NONE,"Found unlabelled area edge");for(var o=r,i=this.iterator();i.hasNext();){var s=i.next().getLabel();et.isTrue(s.isArea(t),"Found non-area edge");var a=s.getLocation(t,Oe.LEFT),u=s.getLocation(t,Oe.RIGHT);if(a===u)return!1;if(u!==o)return!1;o=a}return!0},Un.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1},Un.prototype.iterator=function(){return this.getEdges().iterator()},Un.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new Et(this._edgeMap.values())),this._edgeList},Un.prototype.getLocation=function(t,e,n){return this._ptInAreaLocation[t]===M.NONE&&(this._ptInAreaLocation[t]=zn.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]},Un.prototype.toString=function(){var t=new A;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},Un.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},Un.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var r=n.next().getLabel(),o=0;o<2;o++)r.isLine(o)&&r.getLocation(o)===M.BOUNDARY&&(e[o]=!0);for(var i=this.iterator();i.hasNext();)for(var s=i.next(),a=s.getLabel(),u=0;u<2;u++)if(a.isAnyNull(u)){var c=M.NONE;if(e[u])c=M.EXTERIOR;else{var l=s.getCoordinate();c=this.getLocation(u,l,t)}a.setAllLocationsIfNull(u,c)}},Un.prototype.getDegree=function(){return this._edgeMap.size()},Un.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},Un.prototype.interfaces_=function(){return[]},Un.prototype.getClass=function(){return Un};var qn=function(t){function e(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var t=null,e=null,n=this._SCANNING_FOR_INCOMING,r=0;r<this._resultAreaEdgeList.size();r++){var o=this._resultAreaEdgeList.get(r),i=o.getSym();if(o.getLabel().isArea())switch(null===t&&o.isInResult()&&(t=o),n){case this._SCANNING_FOR_INCOMING:if(!i.isInResult())continue;e=i,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!o.isInResult())continue;e.setNext(o),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===t)throw new Me("no outgoing dirEdge found",this.getCoordinate());et.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},e.prototype.insert=function(t){var e=t;this.insertEdgeEnd(e,e)},e.prototype.getRightmostEdge=function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var r=t.get(e-1),o=n.getQuadrant(),i=r.getQuadrant();return Fe.isNorthern(o)&&Fe.isNorthern(i)?n:Fe.isNorthern(o)||Fe.isNorthern(i)?0!==n.getDy()?n:0!==r.getDy()?r:(et.shouldNeverReachHere("found two horizontal edges incident on node"),null):r},e.prototype.print=function(t){q.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},e.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new Et;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var t=null,e=null,n=this._edgeList.size()-1;n>=0;n--){var r=this._edgeList.get(n),o=r.getSym();null===e&&(e=o),null!==t&&o.setNext(t),t=r}e.setNext(t)},e.prototype.computeDepths=function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=t.getDepth(Oe.LEFT),r=t.getDepth(Oe.RIGHT),o=this.computeDepths(e+1,this._edgeList.size(),n);if(this.computeDepths(0,e,o)!==r)throw new Me("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var i=arguments[1],s=arguments[2],a=arguments[0];a<i;a++){var u=this._edgeList.get(a);u.setEdgeDepths(Oe.RIGHT,s),s=u.getDepth(Oe.LEFT)}return s}},e.prototype.mergeSymLabels=function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(t){for(var e=null,n=null,r=this._SCANNING_FOR_INCOMING,o=this._resultAreaEdgeList.size()-1;o>=0;o--){var i=this._resultAreaEdgeList.get(o),s=i.getSym();switch(null===e&&i.getEdgeRing()===t&&(e=i),r){case this._SCANNING_FOR_INCOMING:if(s.getEdgeRing()!==t)continue;n=s,r=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(i.getEdgeRing()!==t)continue;n.setNextMin(i),r=this._SCANNING_FOR_INCOMING}}r===this._LINKING_TO_OUTGOING&&(et.isTrue(null!==e,"found null for first outgoing dirEdge"),et.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))},e.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();)e.next().isInResult()&&t++;return t}if(1===arguments.length){for(var n=arguments[0],r=0,o=this.iterator();o.hasNext();)o.next().getEdgeRing()===n&&r++;return r}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var t=M.NONE,e=this.iterator();e.hasNext();){var n=e.next(),r=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=M.INTERIOR;break}if(r.isInResult()){t=M.EXTERIOR;break}}}if(t===M.NONE)return null;for(var o=t,i=this.iterator();i.hasNext();){var s=i.next(),a=s.getSym();s.isLineEdge()?s.getEdge().setCovered(o===M.INTERIOR):(s.isInResult()&&(o=M.EXTERIOR),a.isInResult()&&(o=M.INTERIOR))}},e.prototype.computeLabelling=function(e){t.prototype.computeLabelling.call(this,e),this._label=new Te(M.NONE);for(var n=this.iterator();n.hasNext();)for(var r=n.next().getEdge().getLabel(),o=0;o<2;o++){var i=r.getLocation(o);i!==M.INTERIOR&&i!==M.BOUNDARY||this._label.setLocation(o,M.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Un),Wn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createNode=function(t){return new Le(t,new qn)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ue),Jn=function t(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)};Jn.prototype.compareTo=function(t){var e=t;return Jn.compareOriented(this._pts,this._orientation,e._pts,e._orientation)},Jn.prototype.interfaces_=function(){return[P]},Jn.prototype.getClass=function(){return Jn},Jn.orientation=function(t){return 1===Ct.increasingDirection(t)},Jn.compareOriented=function(t,e,n,r){for(var o=e?1:-1,i=r?1:-1,s=e?t.length:-1,a=r?n.length:-1,u=e?0:t.length-1,c=r?0:n.length-1;;){var l=t[u].compareTo(n[c]);if(0!==l)return l;var p=(u+=o)===s,f=(c+=i)===a;if(p&&!f)return-1;if(!p&&f)return 1;if(p&&f)return 0}};var Xn=function(){this._edges=new Et,this._ocaMap=new p};Xn.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var r=n.getCoordinates(),o=0;o<r.length;o++)o>0&&t.print(","),t.print(r[o].x+" "+r[o].y);t.println(")")}t.print(")  ")},Xn.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},Xn.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},Xn.prototype.iterator=function(){return this._edges.iterator()},Xn.prototype.getEdges=function(){return this._edges},Xn.prototype.get=function(t){return this._edges.get(t)},Xn.prototype.findEqualEdge=function(t){var e=new Jn(t.getCoordinates());return this._ocaMap.get(e)},Xn.prototype.add=function(t){this._edges.add(t);var e=new Jn(t.getCoordinates());this._ocaMap.put(e,t)},Xn.prototype.interfaces_=function(){return[]},Xn.prototype.getClass=function(){return Xn};var Yn=function(){};Yn.prototype.processIntersections=function(t,e,n,r){},Yn.prototype.isDone=function(){},Yn.prototype.interfaces_=function(){return[]},Yn.prototype.getClass=function(){return Yn};var Hn=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t};Hn.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(Hn.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var o=t.size()-1;if(0===e&&r===o||0===r&&e===o)return!0}}return!1},Hn.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Hn.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Hn.prototype.getLineIntersector=function(){return this._li},Hn.prototype.hasProperIntersection=function(){return this._hasProper},Hn.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var o=t.getCoordinates()[e],i=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(o,i,s,a),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Hn.prototype.hasIntersection=function(){return this._hasIntersection},Hn.prototype.isDone=function(){return!1},Hn.prototype.hasInteriorIntersection=function(){return this._hasInterior},Hn.prototype.interfaces_=function(){return[Yn]},Hn.prototype.getClass=function(){return Hn},Hn.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Zn=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new x(t),this.segmentIndex=e,this.dist=n};Zn.prototype.getSegmentIndex=function(){return this.segmentIndex},Zn.prototype.getCoordinate=function(){return this.coord},Zn.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},Zn.prototype.compareTo=function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},Zn.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},Zn.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Zn.prototype.getDistance=function(){return this.dist},Zn.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},Zn.prototype.interfaces_=function(){return[P]},Zn.prototype.getClass=function(){return Zn};var Qn=function(){this._nodeMap=new p,this.edge=null;var t=arguments[0];this.edge=t};Qn.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},Qn.prototype.iterator=function(){return this._nodeMap.values().iterator()},Qn.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),o=this.createSplitEdge(n,r);t.add(o),n=r}},Qn.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},Qn.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this.edge.pts[e.segmentIndex],o=e.dist>0||!e.coord.equals2D(r);o||n--;var i=new Array(n).fill(null),s=0;i[s++]=new x(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)i[s++]=this.edge.pts[a];return o&&(i[s]=e.coord),new nr(i,new Te(this.edge._label))},Qn.prototype.add=function(t,e,n){var r=new Zn(t,e,n),o=this._nodeMap.get(r);return null!==o?o:(this._nodeMap.put(r,r),r)},Qn.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},Qn.prototype.interfaces_=function(){return[]},Qn.prototype.getClass=function(){return Qn};var $n=function(){};$n.prototype.getChainStartIndices=function(t){var e=0,n=new Et;n.add(new D(e));do{var r=this.findChainEnd(t,e);n.add(new D(r)),e=r}while(e<t.length-1);return $n.toIntArray(n)},$n.prototype.findChainEnd=function(t,e){for(var n=Fe.quadrant(t[e],t[e+1]),r=e+1;r<t.length&&Fe.quadrant(t[r-1],t[r])===n;)r++;return r-1},$n.prototype.interfaces_=function(){return[]},$n.prototype.getClass=function(){return $n},$n.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var Kn=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new J,this.env2=new J;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new $n;this.startIndex=e.getChainStartIndices(this.pts)};Kn.prototype.getCoordinates=function(){return this.pts},Kn.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},Kn.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n},Kn.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],r)}else if(6===arguments.length){var o=arguments[0],i=arguments[1],s=arguments[2],a=arguments[3],u=arguments[4],c=arguments[5],l=this.pts[o],p=this.pts[i],f=s.pts[a],h=s.pts[u];if(i-o==1&&u-a==1)return c.addIntersections(this.e,o,s.e,a),null;if(this.env1.init(l,p),this.env2.init(f,h),!this.env1.intersects(this.env2))return null;var d=Math.trunc((o+i)/2),y=Math.trunc((a+u)/2);o<d&&(a<y&&this.computeIntersectsForChain(o,d,s,a,y,c),y<u&&this.computeIntersectsForChain(o,d,s,y,u,c)),d<i&&(a<y&&this.computeIntersectsForChain(d,i,s,a,y,c),y<u&&this.computeIntersectsForChain(d,i,s,y,u,c))}},Kn.prototype.getStartIndexes=function(){return this.startIndex},Kn.prototype.computeIntersects=function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var r=0;r<t.startIndex.length-1;r++)this.computeIntersectsForChain(n,t,r,e)},Kn.prototype.interfaces_=function(){return[]},Kn.prototype.getClass=function(){return Kn};var tr=function t(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var e=0;e<2;e++)for(var n=0;n<3;n++)this._depth[e][n]=t.NULL_VALUE},er={NULL_VALUE:{configurable:!0}};tr.prototype.getDepth=function(t,e){return this._depth[t][e]},tr.prototype.setDepth=function(t,e,n){this._depth[t][e]=n},tr.prototype.isNull=function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==tr.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this._depth[n][1]===tr.NULL_VALUE}if(2===arguments.length){var r=arguments[0],o=arguments[1];return this._depth[r][o]===tr.NULL_VALUE}},tr.prototype.normalize=function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var n=1;n<3;n++){var r=0;this._depth[t][n]>e&&(r=1),this._depth[t][n]=r}}},tr.prototype.getDelta=function(t){return this._depth[t][Oe.RIGHT]-this._depth[t][Oe.LEFT]},tr.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?M.EXTERIOR:M.INTERIOR},tr.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},tr.prototype.add=function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var n=1;n<3;n++){var r=t.getLocation(e,n);r!==M.EXTERIOR&&r!==M.INTERIOR||(this.isNull(e,n)?this._depth[e][n]=tr.depthAtLocation(r):this._depth[e][n]+=tr.depthAtLocation(r))}else if(3===arguments.length){var o=arguments[0],i=arguments[1];arguments[2]===M.INTERIOR&&this._depth[o][i]++}},tr.prototype.interfaces_=function(){return[]},tr.prototype.getClass=function(){return tr},tr.depthAtLocation=function(t){return t===M.EXTERIOR?0:t===M.INTERIOR?1:tr.NULL_VALUE},er.NULL_VALUE.get=function(){return-1},Object.defineProperties(tr,er);var nr=function(t){function e(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new Qn(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new tr,this._depthDelta=0,1===arguments.length){var n=arguments[0];e.call(this,n,null)}else if(2===arguments.length){var r=arguments[0],o=arguments[1];this.pts=r,this._label=o}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new e(t,Te.toLineLabel(this._label))},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(t){this._isIsolated=t},e.prototype.setName=function(t){this._name=t},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;if(this.pts.length!==n.pts.length)return!1;for(var r=!0,o=!0,i=this.pts.length,s=0;s<this.pts.length;s++)if(this.pts[s].equals2D(n.pts[s])||(r=!1),this.pts[s].equals2D(n.pts[--i])||(o=!1),!r&&!o)return!1;return!0},e.prototype.getCoordinate=function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},e.prototype.print=function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)},e.prototype.computeIM=function(t){e.updateIM(this._label,t)},e.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(t){t.print("edge "+this._name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},e.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new Kn(this)),this._mce},e.prototype.getEnvelope=function(){if(null===this._env){this._env=new J;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},e.prototype.addIntersection=function(t,e,n,r){var o=new x(t.getIntersection(r)),i=e,s=t.getEdgeDistance(n,r),a=i+1;if(a<this.pts.length){var u=this.pts[a];o.equals2D(u)&&(i=a,s=0)}this.eiList.add(o,i,s)},e.prototype.toString=function(){var t=new A;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()},e.prototype.isPointwiseEqual=function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},e.prototype.setDepthDelta=function(t){this._depthDelta=t},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var e=arguments[0],n=arguments[1];n.setAtLeastIfValid(e.getLocation(0,Oe.ON),e.getLocation(1,Oe.ON),1),e.isArea()&&(n.setAtLeastIfValid(e.getLocation(0,Oe.LEFT),e.getLocation(1,Oe.LEFT),2),n.setAtLeastIfValid(e.getLocation(0,Oe.RIGHT),e.getLocation(1,Oe.RIGHT),2))},e}(ke),rr=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Xn,this._bufParams=t||null};rr.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},rr.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new Te(t.getLabel())).flip(),n.merge(r);var o=rr.depthDelta(r),i=e.getDepthDelta()+o;e.setDepthDelta(i)}else this._edgeList.add(t),t.setDepthDelta(rr.depthDelta(t.getLabel()))},rr.prototype.buildSubgraphs=function(t,e){for(var n=new Et,r=t.iterator();r.hasNext();){var o=r.next(),i=o.getRightmostCoordinate(),s=new Rn(n).getDepth(i);o.computeDepth(s),o.findResultEdges(),n.add(o),e.add(o.getDirectedEdges(),o.getNodes())}},rr.prototype.createSubgraphs=function(t){for(var e=new Et,n=t.getNodes().iterator();n.hasNext();){var r=n.next();if(!r.isVisited()){var o=new Ne;o.create(r),e.add(o)}}return Ke.sort(e,Ke.reverseOrder()),e},rr.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},rr.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new wn,n=new ot;return n.setPrecisionModel(t),e.setSegmentIntersector(new Hn(n)),e},rr.prototype.buffer=function(t,e){var n=this._workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var r=new Dn(n,this._bufParams),o=new Fn(t,e,r).getCurves();if(o.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(o,n),this._graph=new qe(new Wn),this._graph.addEdges(this._edgeList.getEdges());var i=this.createSubgraphs(this._graph),s=new We(this._geomFact);this.buildSubgraphs(i,s);var a=s.getPolygons();return a.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(a)},rr.prototype.computeNodedEdges=function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var r=n.getNodedSubstrings().iterator();r.hasNext();){var o=r.next(),i=o.getCoordinates();if(2!==i.length||!i[0].equals2D(i[1])){var s=o.getData(),a=new nr(o.getCoordinates(),new Te(s));this.insertUniqueEdge(a)}}},rr.prototype.setNoder=function(t){this._workingNoder=t},rr.prototype.interfaces_=function(){return[]},rr.prototype.getClass=function(){return rr},rr.depthDelta=function(t){var e=t.getLocation(0,Oe.LEFT),n=t.getLocation(0,Oe.RIGHT);return e===M.INTERIOR&&n===M.EXTERIOR?1:e===M.EXTERIOR&&n===M.INTERIOR?-1:0},rr.convertSegStrings=function(t){for(var e=new ve,n=new Et;t.hasNext();){var r=t.next(),o=e.createLineString(r.getCoordinates());n.add(o)}return e.buildGeometry(n)};var or=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this._noder=t,this._scaleFactor=e,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2],i=arguments[3];this._noder=n,this._scaleFactor=r,this._offsetX=o,this._offsetY=i,this._isScaled=!this.isIntegerPrecision()}};or.prototype.rescale=function(){if(N(arguments[0],_t))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],r=0;r<n.length;r++)n[r].x=n[r].x/this._scaleFactor+this._offsetX,n[r].y=n[r].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&q.out.println(n)}},or.prototype.scale=function(){if(N(arguments[0],_t)){for(var t=arguments[0],e=new Et,n=t.iterator();n.hasNext();){var r=n.next();e.add(new dn(this.scale(r.getCoordinates()),r.getData()))}return e}if(arguments[0]instanceof Array){for(var o=arguments[0],i=new Array(o.length).fill(null),s=0;s<o.length;s++)i[s]=new x(Math.round((o[s].x-this._offsetX)*this._scaleFactor),Math.round((o[s].y-this._offsetY)*this._scaleFactor),o[s].z);return Ct.removeRepeatedPoints(i)}},or.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},or.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},or.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},or.prototype.interfaces_=function(){return[_n]},or.prototype.getClass=function(){return or};var ir=function(){this._li=new ot,this._segStrings=null;var t=arguments[0];this._segStrings=t},sr={fact:{configurable:!0}};ir.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],r=arguments[1].iterator();r.hasNext();)for(var o=r.next().getCoordinates(),i=1;i<o.length-1;i++)if(o[i].equals(n))throw new K("found endpt/interior pt intersection at index "+i+" :pt "+n)},ir.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this._segStrings.iterator();n.hasNext();){var r=n.next();this.checkInteriorIntersections(e,r)}else if(2===arguments.length)for(var o=arguments[0],i=arguments[1],s=o.getCoordinates(),a=i.getCoordinates(),u=0;u<s.length-1;u++)for(var c=0;c<a.length-1;c++)this.checkInteriorIntersections(o,u,i,c);else if(4===arguments.length){var l=arguments[0],p=arguments[1],f=arguments[2],h=arguments[3];if(l===f&&p===h)return null;var d=l.getCoordinates()[p],y=l.getCoordinates()[p+1],g=f.getCoordinates()[h],v=f.getCoordinates()[h+1];if(this._li.computeIntersection(d,y,g,v),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,d,y)||this.hasInteriorIntersection(this._li,g,v)))throw new K("found non-noded intersection at "+d+"-"+y+" and "+g+"-"+v)}},ir.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},ir.prototype.checkCollapses=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),r=0;r<n.length-2;r++)this.checkCollapse(n[r],n[r+1],n[r+2])},ir.prototype.hasInteriorIntersection=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++){var o=t.getIntersection(r);if(!o.equals(e)&&!o.equals(n))return!0}return!1},ir.prototype.checkCollapse=function(t,e,n){if(t.equals(n))throw new K("found non-noded collapse at "+ir.fact.createLineString([t,e,n]))},ir.prototype.interfaces_=function(){return[]},ir.prototype.getClass=function(){return ir},sr.fact.get=function(){return new ve},Object.defineProperties(ir,sr);var ar=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new b("Scale factor must be non-zero");1!==e&&(this._pt=new x(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new x,this._p1Scaled=new x),this.initCorners(this._pt)},ur={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};ar.prototype.intersectsScaled=function(t,e){var n=Math.min(t.x,e.x),r=Math.max(t.x,e.x),o=Math.min(t.y,e.y),i=Math.max(t.y,e.y),s=this._maxx<n||this._minx>r||this._maxy<o||this._miny>i;if(s)return!1;var a=this.intersectsToleranceSquare(t,e);return et.isTrue(!(s&&a),"Found bad envelope test"),a},ar.prototype.initCorners=function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new x(this._maxx,this._maxy),this._corner[1]=new x(this._minx,this._maxy),this._corner[2]=new x(this._minx,this._miny),this._corner[3]=new x(this._maxx,this._miny)},ar.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},ar.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},ar.prototype.getCoordinate=function(){return this._originalPt},ar.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},ar.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=ar.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new J(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},ar.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},ar.prototype.intersectsToleranceSquare=function(t,e){var n=!1,r=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.isProper()||n&&r||t.equals(this._pt)||e.equals(this._pt)))))},ar.prototype.addSnappedNode=function(t,e){var n=t.getCoordinate(e),r=t.getCoordinate(e+1);return!!this.intersects(n,r)&&(t.addIntersection(this.getCoordinate(),e),!0)},ar.prototype.interfaces_=function(){return[]},ar.prototype.getClass=function(){return ar},ur.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(ar,ur);var cr=function(){this.tempEnv1=new J,this.selectedSegment=new yn};cr.prototype.select=function(){if(1===arguments.length);else if(2===arguments.length){var t=arguments[1];arguments[0].getLineSegment(t,this.selectedSegment),this.select(this.selectedSegment)}},cr.prototype.interfaces_=function(){return[]},cr.prototype.getClass=function(){return cr};var lr=function(){this._index=null;var t=arguments[0];this._index=t},pr={HotPixelSnapAction:{configurable:!0}};lr.prototype.snap=function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],o=e.getSafeEnvelope(),i=new fr(e,n,r);return this._index.query(o,{interfaces_:function(){return[He]},visitItem:function(t){t.select(o,i)}}),i.isNodeAdded()}},lr.prototype.interfaces_=function(){return[]},lr.prototype.getClass=function(){return lr},pr.HotPixelSnapAction.get=function(){return fr},Object.defineProperties(lr,pr);var fr=function(t){function e(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[0],n=arguments[1],r=arguments[2];this._hotPixel=e,this._parentEdge=n,this._hotPixelVertexIndex=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var e=arguments[1],n=arguments[0].getContext();if(null!==this._parentEdge&&n===this._parentEdge&&e===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(n,e)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(cr),hr=function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new Et};hr.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;var o=t.getCoordinates()[e],i=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];if(this._li.computeIntersection(o,i,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var u=0;u<this._li.getIntersectionNum();u++)this._interiorIntersections.add(this._li.getIntersection(u));t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)}},hr.prototype.isDone=function(){return!1},hr.prototype.getInteriorIntersections=function(){return this._interiorIntersections},hr.prototype.interfaces_=function(){return[Yn]},hr.prototype.getClass=function(){return hr};var dr=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new ot,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};dr.prototype.checkCorrectness=function(t){var e=dn.getNodedSubstrings(t),n=new ir(e);try{n.checkValid()}catch(t){if(!(t instanceof z))throw t;t.printStackTrace()}},dr.prototype.getNodedSubstrings=function(){return dn.getNodedSubstrings(this._nodedSegStrings)},dr.prototype.snapRound=function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},dr.prototype.findInteriorIntersections=function(t,e){var n=new hr(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()},dr.prototype.computeVertexSnaps=function(){if(N(arguments[0],_t))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof dn)for(var n=arguments[0],r=n.getCoordinates(),o=0;o<r.length;o++){var i=new ar(r[o],this._scaleFactor,this._li);this._pointSnapper.snap(i,n,o)&&n.addIntersection(r[o],o)}},dr.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new wn,this._pointSnapper=new lr(this._noder.getIndex()),this.snapRound(t,this._li)},dr.prototype.computeIntersectionSnaps=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=new ar(n,this._scaleFactor,this._li);this._pointSnapper.snap(r)}},dr.prototype.interfaces_=function(){return[_n]},dr.prototype.getClass=function(){return dr};var yr=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new xn,this._resultGeometry=null,this._saveException=null,1===arguments.length){var t=arguments[0];this._argGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._argGeom=e,this._bufParams=n}},gr={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};yr.prototype.bufferFixedPrecision=function(t){var e=new or(new dr(new he(1)),t.getScale()),n=new rr(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)},yr.prototype.bufferReducedPrecision=function(){var t=this;if(0===arguments.length){for(var e=yr.MAX_PRECISION_DIGITS;e>=0;e--){try{t.bufferReducedPrecision(e)}catch(e){if(!(e instanceof Me))throw e;t._saveException=e}if(null!==t._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=arguments[0],r=yr.precisionScaleFactor(this._argGeom,this._distance,n),o=new he(r);this.bufferFixedPrecision(o)}},yr.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===he.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},yr.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},yr.prototype.bufferOriginalPrecision=function(){try{var t=new rr(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof K))throw t;this._saveException=t}},yr.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},yr.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},yr.prototype.interfaces_=function(){return[]},yr.prototype.getClass=function(){return yr},yr.bufferOp=function(){if(2===arguments.length){var t=arguments[1];return new yr(arguments[0]).getResultGeometry(t)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof lt&&"number"==typeof arguments[1]){var e=arguments[1],n=arguments[2],r=new yr(arguments[0]);return r.setQuadrantSegments(n),r.getResultGeometry(e)}if(arguments[2]instanceof xn&&arguments[0]instanceof lt&&"number"==typeof arguments[1]){var o=arguments[1];return new yr(arguments[0],arguments[2]).getResultGeometry(o)}}else if(4===arguments.length){var i=arguments[1],s=arguments[2],a=arguments[3],u=new yr(arguments[0]);return u.setQuadrantSegments(s),u.setEndCapStyle(a),u.getResultGeometry(i)}},yr.precisionScaleFactor=function(t,e,n){var r=t.getEnvelopeInternal(),o=I.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY()))+2*(e>0?e:0),i=n-Math.trunc(Math.log(o)/Math.log(10)+1);return Math.pow(10,i)},gr.CAP_ROUND.get=function(){return xn.CAP_ROUND},gr.CAP_BUTT.get=function(){return xn.CAP_FLAT},gr.CAP_FLAT.get=function(){return xn.CAP_FLAT},gr.CAP_SQUARE.get=function(){return xn.CAP_SQUARE},gr.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(yr,gr);var vr=function(){this._pt=[new x,new x],this._distance=m.NaN,this._isNull=!0};vr.prototype.getCoordinates=function(){return this._pt},vr.prototype.getCoordinate=function(t){return this._pt[t]},vr.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},vr.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=o,this._isNull=!1}},vr.prototype.getDistance=function(){return this._distance},vr.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},vr.prototype.interfaces_=function(){return[]},vr.prototype.getClass=function(){return vr};var br=function(){};br.prototype.interfaces_=function(){return[]},br.prototype.getClass=function(){return br},br.computeDistance=function(){if(arguments[2]instanceof vr&&arguments[0]instanceof Ht&&arguments[1]instanceof x)for(var t=arguments[1],e=arguments[2],n=arguments[0].getCoordinates(),r=new yn,o=0;o<n.length-1;o++){r.setCoordinates(n[o],n[o+1]);var i=r.closestPoint(t);e.setMinimum(i,t)}else if(arguments[2]instanceof vr&&arguments[0]instanceof Kt&&arguments[1]instanceof x){var s=arguments[0],a=arguments[1],u=arguments[2];br.computeDistance(s.getExteriorRing(),a,u);for(var c=0;c<s.getNumInteriorRing();c++)br.computeDistance(s.getInteriorRingN(c),a,u)}else if(arguments[2]instanceof vr&&arguments[0]instanceof lt&&arguments[1]instanceof x){var l=arguments[0],p=arguments[1],f=arguments[2];if(l instanceof Ht)br.computeDistance(l,p,f);else if(l instanceof Kt)br.computeDistance(l,p,f);else if(l instanceof zt)for(var h=l,d=0;d<h.getNumGeometries();d++){var y=h.getGeometryN(d);br.computeDistance(y,p,f)}else f.setMinimum(l.getCoordinate(),p)}else if(arguments[2]instanceof vr&&arguments[0]instanceof yn&&arguments[1]instanceof x){var g=arguments[1],v=arguments[2],b=arguments[0].closestPoint(g);v.setMinimum(b,g)}};var mr=function(t){this._maxPtDist=new vr,this._inputGeom=t||null},_r={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};mr.prototype.computeMaxMidpointDistance=function(t){var e=new wr(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},mr.prototype.computeMaxVertexDistance=function(t){var e=new Pr(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},mr.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},mr.prototype.getDistancePoints=function(){return this._maxPtDist},mr.prototype.interfaces_=function(){return[]},mr.prototype.getClass=function(){return mr},_r.MaxPointDistanceFilter.get=function(){return Pr},_r.MaxMidpointDistanceFilter.get=function(){return wr},Object.defineProperties(mr,_r);var Pr=function(t){this._maxPtDist=new vr,this._minPtDist=new vr,this._geom=t||null};Pr.prototype.filter=function(t){this._minPtDist.initialize(),br.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Pr.prototype.getMaxPointDistance=function(){return this._maxPtDist},Pr.prototype.interfaces_=function(){return[ht]},Pr.prototype.getClass=function(){return Pr};var wr=function(t){this._maxPtDist=new vr,this._minPtDist=new vr,this._geom=t||null};wr.prototype.filter=function(t,e){if(0===e)return null;var n=t.getCoordinate(e-1),r=t.getCoordinate(e),o=new x((n.x+r.x)/2,(n.y+r.y)/2);this._minPtDist.initialize(),br.computeDistance(this._geom,o,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},wr.prototype.isDone=function(){return!1},wr.prototype.isGeometryChanged=function(){return!1},wr.prototype.getMaxPointDistance=function(){return this._maxPtDist},wr.prototype.interfaces_=function(){return[Bt]},wr.prototype.getClass=function(){return wr};var Er=function(t){this._comps=t||null};Er.prototype.filter=function(t){t instanceof Kt&&this._comps.add(t)},Er.prototype.interfaces_=function(){return[Vt]},Er.prototype.getClass=function(){return Er},Er.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return Er.getPolygons(t,new Et)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Kt?n.add(e):e instanceof zt&&e.apply(new Er(n)),n}};var xr=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this._lines=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._lines=e,this._isForcedToLineString=n}};xr.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof ee){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof Ht&&this._lines.add(t)},xr.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},xr.prototype.interfaces_=function(){return[ct]},xr.prototype.getClass=function(){return xr},xr.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(xr.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(xr.getLines(e,n))}},xr.getLines=function(){if(1===arguments.length){var t=arguments[0];return xr.getLines(t,!1)}if(2===arguments.length){if(N(arguments[0],_t)&&N(arguments[1],_t)){for(var e=arguments[1],n=arguments[0].iterator();n.hasNext();){var r=n.next();xr.getLines(r,e)}return e}if(arguments[0]instanceof lt&&"boolean"==typeof arguments[1]){var o=arguments[0],i=arguments[1],s=new Et;return o.apply(new xr(s,i)),s}if(arguments[0]instanceof lt&&N(arguments[1],_t)){var a=arguments[0],u=arguments[1];return a instanceof Ht?u.add(a):a.apply(new xr(u)),u}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&N(arguments[0],_t)&&N(arguments[1],_t)){for(var c=arguments[1],l=arguments[2],p=arguments[0].iterator();p.hasNext();){var f=p.next();xr.getLines(f,c,l)}return c}if("boolean"==typeof arguments[2]&&arguments[0]instanceof lt&&N(arguments[1],_t)){var h=arguments[1],d=arguments[2];return arguments[0].apply(new xr(h,d)),h}}};var Or=function(){if(this._boundaryRule=dt.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new b("Rule must be non-null");this._boundaryRule=t}};Or.prototype.locateInternal=function(){if(arguments[0]instanceof x&&arguments[1]instanceof Kt){var t=arguments[0],e=arguments[1];if(e.isEmpty())return M.EXTERIOR;var n=e.getExteriorRing(),r=this.locateInPolygonRing(t,n);if(r===M.EXTERIOR)return M.EXTERIOR;if(r===M.BOUNDARY)return M.BOUNDARY;for(var o=0;o<e.getNumInteriorRing();o++){var i=e.getInteriorRingN(o),s=this.locateInPolygonRing(t,i);if(s===M.INTERIOR)return M.EXTERIOR;if(s===M.BOUNDARY)return M.BOUNDARY}return M.INTERIOR}if(arguments[0]instanceof x&&arguments[1]instanceof Ht){var a=arguments[0],u=arguments[1];if(!u.getEnvelopeInternal().intersects(a))return M.EXTERIOR;var c=u.getCoordinates();return u.isClosed()||!a.equals(c[0])&&!a.equals(c[c.length-1])?at.isOnLine(a,c)?M.INTERIOR:M.EXTERIOR:M.BOUNDARY}if(arguments[0]instanceof x&&arguments[1]instanceof Qt){var l=arguments[0];return arguments[1].getCoordinate().equals2D(l)?M.INTERIOR:M.EXTERIOR}},Or.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?at.locatePointInRing(t,e.getCoordinates()):M.EXTERIOR},Or.prototype.intersects=function(t,e){return this.locate(t,e)!==M.EXTERIOR},Or.prototype.updateLocationInfo=function(t){t===M.INTERIOR&&(this._isIn=!0),t===M.BOUNDARY&&this._numBoundaries++},Or.prototype.computeLocation=function(t,e){if(e instanceof Qt&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof Ht)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Kt)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Ut)for(var n=e,r=0;r<n.getNumGeometries();r++){var o=n.getGeometryN(r);this.updateLocationInfo(this.locateInternal(t,o))}else if(e instanceof ne)for(var i=e,s=0;s<i.getNumGeometries();s++){var a=i.getGeometryN(s);this.updateLocationInfo(this.locateInternal(t,a))}else if(e instanceof zt)for(var u=new Bn(e);u.hasNext();){var c=u.next();c!==e&&this.computeLocation(t,c)}},Or.prototype.locate=function(t,e){return e.isEmpty()?M.EXTERIOR:e instanceof Ht||e instanceof Kt?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?M.BOUNDARY:this._numBoundaries>0||this._isIn?M.INTERIOR:M.EXTERIOR)},Or.prototype.interfaces_=function(){return[]},Or.prototype.getClass=function(){return Or};var Cr=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length)t.call(this,arguments[0],t.INSIDE_AREA,arguments[1]);else if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];this._component=e,this._segIndex=n,this._pt=r}},Sr={INSIDE_AREA:{configurable:!0}};Cr.prototype.isInsideArea=function(){return this._segIndex===Cr.INSIDE_AREA},Cr.prototype.getCoordinate=function(){return this._pt},Cr.prototype.getGeometryComponent=function(){return this._component},Cr.prototype.getSegmentIndex=function(){return this._segIndex},Cr.prototype.interfaces_=function(){return[]},Cr.prototype.getClass=function(){return Cr},Sr.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Cr,Sr);var Mr=function(t){this._pts=t||null};Mr.prototype.filter=function(t){t instanceof Qt&&this._pts.add(t)},Mr.prototype.interfaces_=function(){return[Vt]},Mr.prototype.getClass=function(){return Mr},Mr.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof Qt?Ke.singletonList(t):Mr.getPoints(t,new Et)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Qt?n.add(e):e instanceof zt&&e.apply(new Mr(n)),n}};var jr=function(){this._locations=null;var t=arguments[0];this._locations=t};jr.prototype.filter=function(t){(t instanceof Qt||t instanceof Ht||t instanceof Kt)&&this._locations.add(new Cr(t,0,t.getCoordinate()))},jr.prototype.interfaces_=function(){return[Vt]},jr.prototype.getClass=function(){return jr},jr.getLocations=function(t){var e=new Et;return t.apply(new jr(e)),e};var Nr=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new Or,this._minDistanceLocation=null,this._minDistance=m.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];this._geom=[t,e],this._terminateDistance=0}else if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=n,this._geom[1]=r,this._terminateDistance=o}};Nr.prototype.computeContainmentDistance=function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=1-e,o=Er.getPolygons(this._geom[e]);if(o.size()>0){var i=jr.getLocations(this._geom[r]);if(this.computeContainmentDistance(i,o,n),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[r]=n[0],this._minDistanceLocation[e]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&N(arguments[0],wt)&&N(arguments[1],wt)){for(var s=arguments[0],a=arguments[1],u=arguments[2],c=0;c<s.size();c++)for(var l=s.get(c),p=0;p<a.size();p++)if(this.computeContainmentDistance(l,a.get(p),u),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Cr&&arguments[1]instanceof Kt){var f=arguments[0],h=arguments[1],d=arguments[2],y=f.getCoordinate();if(M.EXTERIOR!==this._ptLocator.locate(y,h))return this._minDistance=0,d[0]=f,d[1]=new Cr(h,y),null}},Nr.prototype.computeMinDistanceLinesPoints=function(t,e,n){for(var r=0;r<t.size();r++)for(var o=t.get(r),i=0;i<e.size();i++){var s=e.get(i);if(this.computeMinDistance(o,s,n),this._minDistance<=this._terminateDistance)return null}},Nr.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=xr.getLines(this._geom[0]),n=xr.getLines(this._geom[1]),r=Mr.getPoints(this._geom[0]),o=Mr.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,o,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,r,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(r,o,t),void this.updateMinDistance(t,!1))))},Nr.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Nr.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},Nr.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Nr.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Ht&&arguments[1]instanceof Qt){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;for(var r=t.getCoordinates(),o=e.getCoordinate(),i=0;i<r.length-1;i++){var s=at.distancePointLine(o,r[i],r[i+1]);if(s<this._minDistance){this._minDistance=s;var a=new yn(r[i],r[i+1]).closestPoint(o);n[0]=new Cr(t,i,a),n[1]=new Cr(e,0,o)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Ht&&arguments[1]instanceof Ht){var u=arguments[0],c=arguments[1],l=arguments[2];if(u.getEnvelopeInternal().distance(c.getEnvelopeInternal())>this._minDistance)return null;for(var p=u.getCoordinates(),f=c.getCoordinates(),h=0;h<p.length-1;h++)for(var d=0;d<f.length-1;d++){var y=at.distanceLineLine(p[h],p[h+1],f[d],f[d+1]);if(y<this._minDistance){this._minDistance=y;var g=new yn(p[h],p[h+1]),v=new yn(f[d],f[d+1]),b=g.closestPoints(v);l[0]=new Cr(u,h,b[0]),l[1]=new Cr(c,d,b[1])}if(this._minDistance<=this._terminateDistance)return null}}},Nr.prototype.computeMinDistancePoints=function(t,e,n){for(var r=0;r<t.size();r++)for(var o=t.get(r),i=0;i<e.size();i++){var s=e.get(i),a=o.getCoordinate().distance(s.getCoordinate());if(a<this._minDistance&&(this._minDistance=a,n[0]=new Cr(o,0,o.getCoordinate()),n[1]=new Cr(s,0,s.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},Nr.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new b("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Nr.prototype.computeMinDistanceLines=function(t,e,n){for(var r=0;r<t.size();r++)for(var o=t.get(r),i=0;i<e.size();i++){var s=e.get(i);if(this.computeMinDistance(o,s,n),this._minDistance<=this._terminateDistance)return null}},Nr.prototype.interfaces_=function(){return[]},Nr.prototype.getClass=function(){return Nr},Nr.distance=function(t,e){return new Nr(t,e).distance()},Nr.isWithinDistance=function(t,e,n){return new Nr(t,e,n).distance()<=n},Nr.nearestPoints=function(t,e){return new Nr(t,e).nearestPoints()};var Ir=function(){this._pt=[new x,new x],this._distance=m.NaN,this._isNull=!0};Ir.prototype.getCoordinates=function(){return this._pt},Ir.prototype.getCoordinate=function(t){return this._pt[t]},Ir.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},Ir.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=o,this._isNull=!1}},Ir.prototype.toString=function(){return $.toLineString(this._pt[0],this._pt[1])},Ir.prototype.getDistance=function(){return this._distance},Ir.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},Ir.prototype.interfaces_=function(){return[]},Ir.prototype.getClass=function(){return Ir};var Tr=function(){};Tr.prototype.interfaces_=function(){return[]},Tr.prototype.getClass=function(){return Tr},Tr.computeDistance=function(){if(arguments[2]instanceof Ir&&arguments[0]instanceof Ht&&arguments[1]instanceof x)for(var t=arguments[0],e=arguments[1],n=arguments[2],r=new yn,o=t.getCoordinates(),i=0;i<o.length-1;i++){r.setCoordinates(o[i],o[i+1]);var s=r.closestPoint(e);n.setMinimum(s,e)}else if(arguments[2]instanceof Ir&&arguments[0]instanceof Kt&&arguments[1]instanceof x){var a=arguments[0],u=arguments[1],c=arguments[2];Tr.computeDistance(a.getExteriorRing(),u,c);for(var l=0;l<a.getNumInteriorRing();l++)Tr.computeDistance(a.getInteriorRingN(l),u,c)}else if(arguments[2]instanceof Ir&&arguments[0]instanceof lt&&arguments[1]instanceof x){var p=arguments[0],f=arguments[1],h=arguments[2];if(p instanceof Ht)Tr.computeDistance(p,f,h);else if(p instanceof Kt)Tr.computeDistance(p,f,h);else if(p instanceof zt)for(var d=p,y=0;y<d.getNumGeometries();y++){var g=d.getGeometryN(y);Tr.computeDistance(g,f,h)}else h.setMinimum(p.getCoordinate(),f)}else if(arguments[2]instanceof Ir&&arguments[0]instanceof yn&&arguments[1]instanceof x){var v=arguments[1],b=arguments[2],m=arguments[0].closestPoint(v);b.setMinimum(m,v)}};var Ar=function(){this._g0=null,this._g1=null,this._ptDist=new Ir,this._densifyFrac=0;var t=arguments[0],e=arguments[1];this._g0=t,this._g1=e},Dr={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Ar.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Ar.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new b("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},Ar.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},Ar.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Ar.prototype.computeOrientedDistance=function(t,e,n){var r=new Rr(e);if(t.apply(r),n.setMaximum(r.getMaxPointDistance()),this._densifyFrac>0){var o=new kr(e,this._densifyFrac);t.apply(o),n.setMaximum(o.getMaxPointDistance())}},Ar.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Ar.prototype.interfaces_=function(){return[]},Ar.prototype.getClass=function(){return Ar},Ar.distance=function(){if(2===arguments.length)return new Ar(arguments[0],arguments[1]).distance();if(3===arguments.length){var t=arguments[2],e=new Ar(arguments[0],arguments[1]);return e.setDensifyFraction(t),e.distance()}},Dr.MaxPointDistanceFilter.get=function(){return Rr},Dr.MaxDensifiedByFractionDistanceFilter.get=function(){return kr},Object.defineProperties(Ar,Dr);var Rr=function(){this._maxPtDist=new Ir,this._minPtDist=new Ir,this._euclideanDist=new Tr,this._geom=null;var t=arguments[0];this._geom=t};Rr.prototype.filter=function(t){this._minPtDist.initialize(),Tr.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Rr.prototype.getMaxPointDistance=function(){return this._maxPtDist},Rr.prototype.interfaces_=function(){return[ht]},Rr.prototype.getClass=function(){return Rr};var kr=function(){this._maxPtDist=new Ir,this._minPtDist=new Ir,this._geom=null,this._numSubSegs=0;var t=arguments[0],e=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/e))};kr.prototype.filter=function(t,e){if(0===e)return null;for(var n=t.getCoordinate(e-1),r=t.getCoordinate(e),o=(r.x-n.x)/this._numSubSegs,i=(r.y-n.y)/this._numSubSegs,s=0;s<this._numSubSegs;s++){var a=n.x+s*o,u=n.y+s*i,c=new x(a,u);this._minPtDist.initialize(),Tr.computeDistance(this._geom,c,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},kr.prototype.isDone=function(){return!1},kr.prototype.isGeometryChanged=function(){return!1},kr.prototype.getMaxPointDistance=function(){return this._maxPtDist},kr.prototype.interfaces_=function(){return[Bt]},kr.prototype.getClass=function(){return kr};var Lr=function(t,e,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=n||null},Gr={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};Lr.prototype.checkMaximumDistance=function(t,e,n){var r=new Ar(e,t);if(r.setDensifyFraction(.25),this._maxDistanceFound=r.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var o=r.getCoordinates();this._errorLocation=o[1],this._errorIndicator=t.getFactory().createLineString(o),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+$.toLineString(o[0],o[1])+")"}},Lr.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=Lr.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),Lr.VERBOSE&&q.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},Lr.prototype.checkNegativeValid=function(){if(!(this._input instanceof Kt||this._input instanceof ne||this._input instanceof zt))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},Lr.prototype.getErrorIndicator=function(){return this._errorIndicator},Lr.prototype.checkMinimumDistance=function(t,e,n){var r=new Nr(t,e,n);if(this._minDistanceFound=r.distance(),this._minDistanceFound<n){this._isValid=!1;var o=r.nearestPoints();this._errorLocation=r.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(o),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+$.toLineString(o[0],o[1])+" )"}},Lr.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},Lr.prototype.getErrorLocation=function(){return this._errorLocation},Lr.prototype.getPolygonLines=function(t){for(var e=new Et,n=new xr(e),r=Er.getPolygons(t).iterator();r.hasNext();)r.next().apply(n);return t.getFactory().buildGeometry(e)},Lr.prototype.getErrorMessage=function(){return this._errMsg},Lr.prototype.interfaces_=function(){return[]},Lr.prototype.getClass=function(){return Lr},Gr.VERBOSE.get=function(){return!1},Gr.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Lr,Gr);var Fr=function(t,e,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=n||null},Vr={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};Fr.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},Fr.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*Fr.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var e=new J(this._input.getEnvelopeInternal());e.expandBy(this._distance);var n=new J(this._result.getEnvelopeInternal());n.expandBy(t),n.contains(e)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report("Envelope")},Fr.prototype.checkDistance=function(){var t=new Lr(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},Fr.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},Fr.prototype.checkPolygonal=function(){this._result instanceof Kt||this._result instanceof ne||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},Fr.prototype.getErrorIndicator=function(){return this._errorIndicator},Fr.prototype.getErrorLocation=function(){return this._errorLocation},Fr.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},Fr.prototype.report=function(t){if(!Fr.VERBOSE)return null;q.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},Fr.prototype.getErrorMessage=function(){return this._errorMsg},Fr.prototype.interfaces_=function(){return[]},Fr.prototype.getClass=function(){return Fr},Fr.isValidMsg=function(t,e,n){var r=new Fr(t,e,n);return r.isValid()?null:r.getErrorMessage()},Fr.isValid=function(t,e,n){return!!new Fr(t,e,n).isValid()},Vr.VERBOSE.get=function(){return!1},Vr.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Fr,Vr);var Br=function(){this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};Br.prototype.getCoordinates=function(){return this._pts},Br.prototype.size=function(){return this._pts.length},Br.prototype.getCoordinate=function(t){return this._pts[t]},Br.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Br.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:pn.octant(this.getCoordinate(t),this.getCoordinate(t+1))},Br.prototype.setData=function(t){this._data=t},Br.prototype.getData=function(){return this._data},Br.prototype.toString=function(){return $.toLineString(new ue(this._pts))},Br.prototype.interfaces_=function(){return[fn]},Br.prototype.getClass=function(){return Br};var zr=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new Et,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null};zr.prototype.getInteriorIntersection=function(){return this._interiorIntersection},zr.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},zr.prototype.getIntersectionSegments=function(){return this._intSegments},zr.prototype.count=function(){return this._intersectionCount},zr.prototype.getIntersections=function(){return this._intersections},zr.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},zr.prototype.setKeepIntersections=function(t){this._keepIntersections=t},zr.prototype.processIntersections=function(t,e,n,r){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===r)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(n,r))return null;var o=t.getCoordinates()[e],i=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(o,i,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=o,this._intSegments[1]=i,this._intSegments[2]=s,this._intSegments[3]=a,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},zr.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},zr.prototype.hasIntersection=function(){return null!==this._interiorIntersection},zr.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},zr.prototype.interfaces_=function(){return[Yn]},zr.prototype.getClass=function(){return zr},zr.createAllIntersectionsFinder=function(t){var e=new zr(t);return e.setFindAllIntersections(!0),e},zr.createAnyIntersectionFinder=function(t){return new zr(t)},zr.createIntersectionCounter=function(t){var e=new zr(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var Ur=function(){this._li=new ot,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t};Ur.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},Ur.prototype.getIntersections=function(){return this._segInt.getIntersections()},Ur.prototype.isValid=function(){return this.execute(),this._isValid},Ur.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},Ur.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new zr(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new wn;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},Ur.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Me(this.getErrorMessage(),this._segInt.getInteriorIntersection())},Ur.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+$.toLineString(t[0],t[1])+" and "+$.toLineString(t[2],t[3])},Ur.prototype.interfaces_=function(){return[]},Ur.prototype.getClass=function(){return Ur},Ur.computeIntersections=function(t){var e=new Ur(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var qr=function t(){this._nv=null;var e=arguments[0];this._nv=new Ur(t.toSegmentStrings(e))};qr.prototype.checkValid=function(){this._nv.checkValid()},qr.prototype.interfaces_=function(){return[]},qr.prototype.getClass=function(){return qr},qr.toSegmentStrings=function(t){for(var e=new Et,n=t.iterator();n.hasNext();){var r=n.next();e.add(new Br(r.getCoordinates(),r))}return e},qr.checkValid=function(t){new qr(t).checkValid()};var Wr=function(t){this._mapOp=t};Wr.prototype.map=function(t){for(var e=new Et,n=0;n<t.getNumGeometries();n++){var r=this._mapOp.map(t.getGeometryN(n));r.isEmpty()||e.add(r)}return t.getFactory().createGeometryCollection(ve.toGeometryArray(e))},Wr.prototype.interfaces_=function(){return[]},Wr.prototype.getClass=function(){return Wr},Wr.map=function(t,e){return new Wr(e).map(t)};var Jr=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new Et,this._resultLineList=new Et;var t=arguments[0],e=arguments[1],n=arguments[2];this._op=t,this._geometryFactory=e,this._ptLocator=n};Jr.prototype.collectLines=function(t){for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this._lineEdgesList),this.collectBoundaryTouchEdge(n,t,this._lineEdgesList)}},Jr.prototype.labelIsolatedLine=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,n)},Jr.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},Jr.prototype.collectLineEdge=function(t,e,n){var r=t.getLabel(),o=t.getEdge();t.isLineEdge()&&(t.isVisited()||!So.isResultOfOp(r,e)||o.isCovered()||(n.add(o),t.setVisitedEdge(!0)))},Jr.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),r=n.getEdge();if(n.isLineEdge()&&!r.isCoveredSet()){var o=this._op.isCoveredByA(n.getCoordinate());r.setCovered(o)}}},Jr.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=n.getLabel();n.isIsolated()&&(r.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},Jr.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var n=e.next(),r=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(r),n.setInResult(!0)}},Jr.prototype.collectBoundaryTouchEdge=function(t,e,n){var r=t.getLabel();return t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult()?null:(et.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(So.isResultOfOp(r,e)&&e===So.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},Jr.prototype.interfaces_=function(){return[]},Jr.prototype.getClass=function(){return Jr};var Xr=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new Et;var t=arguments[0],e=arguments[1];this._op=t,this._geometryFactory=e};Xr.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var n=this._geometryFactory.createPoint(e);this._resultPointList.add(n)}},Xr.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!(n.isInResult()||n.isIncidentEdgeInResult()||0!==n.getEdges().getDegree()&&t!==So.INTERSECTION)){var r=n.getLabel();So.isResultOfOp(r,t)&&this.filterCoveredNodeToPoint(n)}}},Xr.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},Xr.prototype.interfaces_=function(){return[]},Xr.prototype.getClass=function(){return Xr};var Yr=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Yr.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},Yr.prototype.transformPolygon=function(t,e){var n=!0,r=this.transformLinearRing(t.getExteriorRing(),t);null!==r&&r instanceof ee&&!r.isEmpty()||(n=!1);for(var o=new Et,i=0;i<t.getNumInteriorRing();i++){var s=this.transformLinearRing(t.getInteriorRingN(i),t);null===s||s.isEmpty()||(s instanceof ee||(n=!1),o.add(s))}if(n)return this._factory.createPolygon(r,o.toArray([]));var a=new Et;return null!==r&&a.add(r),a.addAll(o),this._factory.buildGeometry(a)},Yr.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},Yr.prototype.getInputGeometry=function(){return this._inputGeom},Yr.prototype.transformMultiLineString=function(t,e){for(var n=new Et,r=0;r<t.getNumGeometries();r++){var o=this.transformLineString(t.getGeometryN(r),t);null!==o&&(o.isEmpty()||n.add(o))}return this._factory.buildGeometry(n)},Yr.prototype.transformCoordinates=function(t,e){return this.copy(t)},Yr.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},Yr.prototype.transformMultiPoint=function(t,e){for(var n=new Et,r=0;r<t.getNumGeometries();r++){var o=this.transformPoint(t.getGeometryN(r),t);null!==o&&(o.isEmpty()||n.add(o))}return this._factory.buildGeometry(n)},Yr.prototype.transformMultiPolygon=function(t,e){for(var n=new Et,r=0;r<t.getNumGeometries();r++){var o=this.transformPolygon(t.getGeometryN(r),t);null!==o&&(o.isEmpty()||n.add(o))}return this._factory.buildGeometry(n)},Yr.prototype.copy=function(t){return t.copy()},Yr.prototype.transformGeometryCollection=function(t,e){for(var n=new Et,r=0;r<t.getNumGeometries();r++){var o=this.transform(t.getGeometryN(r));null!==o&&(this._pruneEmptyGeometry&&o.isEmpty()||n.add(o))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(ve.toGeometryArray(n)):this._factory.buildGeometry(n)},Yr.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Qt)return this.transformPoint(t,null);if(t instanceof te)return this.transformMultiPoint(t,null);if(t instanceof ee)return this.transformLinearRing(t,null);if(t instanceof Ht)return this.transformLineString(t,null);if(t instanceof Ut)return this.transformMultiLineString(t,null);if(t instanceof Kt)return this.transformPolygon(t,null);if(t instanceof ne)return this.transformMultiPolygon(t,null);if(t instanceof zt)return this.transformGeometryCollection(t,null);throw new b("Unknown Geometry subtype: "+t.getClass().getName())},Yr.prototype.transformLinearRing=function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this._factory.createLinearRing(null);var r=n.size();return r>0&&r<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},Yr.prototype.interfaces_=function(){return[]},Yr.prototype.getClass=function(){return Yr};var Hr=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new yn,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Ht&&"number"==typeof arguments[1]){var e=arguments[1];t.call(this,arguments[0].getCoordinates(),e)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this._srcPts=n,this._isClosed=t.isClosed(n),this._snapTolerance=r}};Hr.prototype.snapVertices=function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),r=0;r<n;r++){var o=t.get(r),i=this.findSnapForVertex(o,e);null!==i&&(t.set(r,new x(i)),0===r&&this._isClosed&&t.set(t.size()-1,new x(i)))}},Hr.prototype.findSnapForVertex=function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this._snapTolerance)return e[n]}return null},Hr.prototype.snapTo=function(t){var e=new Ot(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},Hr.prototype.snapSegments=function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var r=0;r<n;r++){var o=e[r],i=this.findSegmentIndexToSnap(o,t);i>=0&&t.add(i+1,new x(o),!1)}},Hr.prototype.findSegmentIndexToSnap=function(t,e){for(var n=m.MAX_VALUE,r=-1,o=0;o<e.size()-1;o++){if(this._seg.p0=e.get(o),this._seg.p1=e.get(o+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var i=this._seg.distance(t);i<this._snapTolerance&&i<n&&(n=i,r=o)}return r},Hr.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},Hr.prototype.interfaces_=function(){return[]},Hr.prototype.getClass=function(){return Hr},Hr.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var Zr=function(t){this._srcGeom=t||null},Qr={SNAP_PRECISION_FACTOR:{configurable:!0}};Zr.prototype.snapTo=function(t,e){var n=this.extractTargetCoordinates(t);return new $r(e,n).transform(this._srcGeom)},Zr.prototype.snapToSelf=function(t,e){var n=this.extractTargetCoordinates(this._srcGeom),r=new $r(t,n,!0).transform(this._srcGeom),o=r;return e&&N(o,$t)&&(o=r.buffer(0)),o},Zr.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},Zr.prototype.extractTargetCoordinates=function(t){for(var e=new h,n=t.getCoordinates(),r=0;r<n.length;r++)e.add(n[r]);return e.toArray(new Array(0).fill(null))},Zr.prototype.computeMinimumSegmentLength=function(t){for(var e=m.MAX_VALUE,n=0;n<t.length-1;n++){var r=t[n].distance(t[n+1]);r<e&&(e=r)}return e},Zr.prototype.interfaces_=function(){return[]},Zr.prototype.getClass=function(){return Zr},Zr.snap=function(t,e,n){var r=new Array(2).fill(null),o=new Zr(t);r[0]=o.snapTo(e,n);var i=new Zr(e);return r[1]=i.snapTo(r[0],n),r},Zr.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=Zr.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===he.FIXED){var r=1/n.getScale()*2/1.415;r>e&&(e=r)}return e}if(2===arguments.length){var o=arguments[0],i=arguments[1];return Math.min(Zr.computeOverlaySnapTolerance(o),Zr.computeOverlaySnapTolerance(i))}},Zr.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*Zr.SNAP_PRECISION_FACTOR},Zr.snapToSelf=function(t,e,n){return new Zr(t).snapToSelf(e,n)},Qr.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Zr,Qr);var $r=function(t){function e(e,n,r){t.call(this),this._snapTolerance=e||null,this._snapPts=n||null,this._isSelfSnap=void 0!==r&&r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.snapLine=function(t,e){var n=new Hr(t,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(e)},e.prototype.transformCoordinates=function(t,e){var n=t.toCoordinateArray(),r=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Yr),Kr=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Kr.prototype.getCommon=function(){return m.longBitsToDouble(this._commonBits)},Kr.prototype.add=function(t){var e=m.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=Kr.signExpBits(this._commonBits),this._isFirst=!1,null):Kr.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=Kr.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=Kr.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},Kr.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],e=m.longBitsToDouble(t),n="0000000000000000000000000000000000000000000000000000000000000000"+m.toBinaryString(t),r=n.substring(n.length-64);return r.substring(0,1)+"  "+r.substring(1,12)+"(exp) "+r.substring(12)+" [ "+e+" ]"}},Kr.prototype.interfaces_=function(){return[]},Kr.prototype.getClass=function(){return Kr},Kr.getBit=function(t,e){return 0!=(t&1<<e)?1:0},Kr.signExpBits=function(t){return t>>52},Kr.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},Kr.numCommonMostSigMantissaBits=function(t,e){for(var n=0,r=52;r>=0;r--){if(Kr.getBit(t,r)!==Kr.getBit(e,r))return n;n++}return 52};var to=function(){this._commonCoord=null,this._ccFilter=new no},eo={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};to.prototype.addCommonBits=function(t){var e=new ro(this._commonCoord);t.apply(e),t.geometryChanged()},to.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new x(this._commonCoord);e.x=-e.x,e.y=-e.y;var n=new ro(e);return t.apply(n),t.geometryChanged(),t},to.prototype.getCommonCoordinate=function(){return this._commonCoord},to.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},to.prototype.interfaces_=function(){return[]},to.prototype.getClass=function(){return to},eo.CommonCoordinateFilter.get=function(){return no},eo.Translater.get=function(){return ro},Object.defineProperties(to,eo);var no=function(){this._commonBitsX=new Kr,this._commonBitsY=new Kr};no.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},no.prototype.getCommonCoordinate=function(){return new x(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},no.prototype.interfaces_=function(){return[ht]},no.prototype.getClass=function(){return no};var ro=function(){this.trans=null;var t=arguments[0];this.trans=t};ro.prototype.filter=function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,r=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,r)},ro.prototype.isDone=function(){return!1},ro.prototype.isGeometryChanged=function(){return!0},ro.prototype.interfaces_=function(){return[Bt]},ro.prototype.getClass=function(){return ro};var oo=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};oo.prototype.selfSnap=function(t){return new Zr(t).snapTo(t,this._snapTolerance)},oo.prototype.removeCommonBits=function(t){this._cbr=new to,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},oo.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},oo.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),n=So.overlayOp(e[0],e[1],t);return this.prepareResult(n)},oo.prototype.checkValid=function(t){t.isValid()||q.out.println("Snapped geometry is invalid")},oo.prototype.computeSnapTolerance=function(){this._snapTolerance=Zr.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},oo.prototype.snap=function(t){var e=this.removeCommonBits(t);return Zr.snap(e[0],e[1],this._snapTolerance)},oo.prototype.interfaces_=function(){return[]},oo.prototype.getClass=function(){return oo},oo.overlayOp=function(t,e,n){return new oo(t,e).getResultGeometry(n)},oo.union=function(t,e){return oo.overlayOp(t,e,So.UNION)},oo.intersection=function(t,e){return oo.overlayOp(t,e,So.INTERSECTION)},oo.symDifference=function(t,e){return oo.overlayOp(t,e,So.SYMDIFFERENCE)},oo.difference=function(t,e){return oo.overlayOp(t,e,So.DIFFERENCE)};var io=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};io.prototype.getResultGeometry=function(t){var e=null,n=!1,r=null;try{e=So.overlayOp(this._geom[0],this._geom[1],t),n=!0}catch(t){if(!(t instanceof K))throw t;r=t}if(!n)try{e=oo.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof K?r:t}return e},io.prototype.interfaces_=function(){return[]},io.prototype.getClass=function(){return io},io.overlayOp=function(t,e,n){return new io(t,e).getResultGeometry(n)},io.union=function(t,e){return io.overlayOp(t,e,So.UNION)},io.intersection=function(t,e){return io.overlayOp(t,e,So.INTERSECTION)},io.symDifference=function(t,e){return io.overlayOp(t,e,So.SYMDIFFERENCE)},io.difference=function(t,e){return io.overlayOp(t,e,So.DIFFERENCE)};var so=function(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e};so.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},so.prototype.interfaces_=function(){return[]},so.prototype.getClass=function(){return so};var ao=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var e=arguments[0],n=arguments[1];this._eventType=t.DELETE,this._xValue=e,this._insertEvent=n}else if(3===arguments.length){var r=arguments[0],o=arguments[1],i=arguments[2];this._eventType=t.INSERT,this._label=r,this._xValue=o,this._obj=i}},uo={INSERT:{configurable:!0},DELETE:{configurable:!0}};ao.prototype.isDelete=function(){return this._eventType===ao.DELETE},ao.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},ao.prototype.getObject=function(){return this._obj},ao.prototype.compareTo=function(t){var e=t;return this._xValue<e._xValue?-1:this._xValue>e._xValue?1:this._eventType<e._eventType?-1:this._eventType>e._eventType?1:0},ao.prototype.getInsertEvent=function(){return this._insertEvent},ao.prototype.isInsert=function(){return this._eventType===ao.INSERT},ao.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},ao.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},ao.prototype.interfaces_=function(){return[P]},ao.prototype.getClass=function(){return ao},uo.INSERT.get=function(){return 1},uo.DELETE.get=function(){return 2},Object.defineProperties(ao,uo);var co=function(){};co.prototype.interfaces_=function(){return[]},co.prototype.getClass=function(){return co};var lo=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._li=t,this._includeProper=e,this._recordIsolated=n};lo.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(lo.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var o=t.getNumPoints()-1;if(0===e&&r===o||0===r&&e===o)return!0}}return!1},lo.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},lo.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},lo.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},lo.prototype.isBoundaryPointInternal=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next().getCoordinate();if(t.isIntersection(r))return!0}return!1},lo.prototype.hasProperIntersection=function(){return this._hasProper},lo.prototype.hasIntersection=function(){return this._hasIntersection},lo.prototype.isDone=function(){return this._isDone},lo.prototype.isBoundaryPoint=function(t,e){return!(null===e||!this.isBoundaryPointInternal(t,e[0])&&!this.isBoundaryPointInternal(t,e[1]))},lo.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},lo.prototype.addIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var o=t.getCoordinates()[e],i=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(o,i,s,a),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},lo.prototype.interfaces_=function(){return[]},lo.prototype.getClass=function(){return lo},lo.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var po=function(t){function e(){t.call(this),this.events=new Et,this.nOverlaps=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvents=function(){Ke.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},e.prototype.computeIntersections=function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof lo&&N(arguments[0],wt)&&N(arguments[1],wt)){var r=arguments[0],o=arguments[1],i=arguments[2];this.addEdges(r,r),this.addEdges(o,o),this.computeIntersections(i)}else if("boolean"==typeof arguments[2]&&N(arguments[0],wt)&&arguments[1]instanceof lo){var s=arguments[0],a=arguments[1];arguments[2]?this.addEdges(s,null):this.addEdges(s),this.computeIntersections(a)}},e.prototype.addEdge=function(t,e){for(var n=t.getMonotoneChainEdge(),r=n.getStartIndexes(),o=0;o<r.length-1;o++){var i=new so(n,o),s=new ao(e,n.getMinX(o),i);this.events.add(s),this.events.add(new ao(n.getMaxX(o),s))}},e.prototype.processOverlaps=function(t,e,n,r){for(var o=n.getObject(),i=t;i<e;i++){var s=this.events.get(i);if(s.isInsert()){var a=s.getObject();n.isSameLabel(s)||(o.computeIntersections(a,r),this.nOverlaps++)}}},e.prototype.addEdges=function(){if(1===arguments.length)for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.addEdge(e,e)}else if(2===arguments.length)for(var n=arguments[1],r=arguments[0].iterator();r.hasNext();){var o=r.next();this.addEdge(o,n)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(co),fo=function(){this._min=m.POSITIVE_INFINITY,this._max=m.NEGATIVE_INFINITY},ho={NodeComparator:{configurable:!0}};fo.prototype.getMin=function(){return this._min},fo.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},fo.prototype.getMax=function(){return this._max},fo.prototype.toString=function(){return $.toLineString(new x(this._min,0),new x(this._max,0))},fo.prototype.interfaces_=function(){return[]},fo.prototype.getClass=function(){return fo},ho.NodeComparator.get=function(){return yo},Object.defineProperties(fo,ho);var yo=function(){};yo.prototype.compare=function(t,e){var n=t,r=e,o=(n._min+n._max)/2,i=(r._min+r._max)/2;return o<i?-1:o>i?1:0},yo.prototype.interfaces_=function(){return[E]},yo.prototype.getClass=function(){return yo};var go=function(t){function e(){t.call(this),this._item=null;var e=arguments[0],n=arguments[1],r=arguments[2];this._min=e,this._max=n,this._item=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;n.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(fo),vo=function(t){function e(){t.call(this),this._node1=null,this._node2=null;var e=arguments[0],n=arguments[1];this._node1=e,this._node2=n,this.buildExtent(this._node1,this._node2)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildExtent=function(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)},e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,n),null!==this._node2&&this._node2.query(t,e,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(fo),bo=function(){this._leaves=new Et,this._root=null,this._level=0};bo.prototype.buildTree=function(){Ke.sort(this._leaves,new fo.NodeComparator);for(var t=this._leaves,e=null,n=new Et;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},bo.prototype.insert=function(t,e,n){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new go(t,e,n))},bo.prototype.query=function(t,e,n){this.init(),this._root.query(t,e,n)},bo.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},bo.prototype.printNode=function(t){q.out.println($.toLineString(new x(t._min,this._level),new x(t._max,this._level)))},bo.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},bo.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var n=0;n<t.size();n+=2){var r=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(r);else{var o=new vo(t.get(n),t.get(n+1));e.add(o)}}},bo.prototype.interfaces_=function(){return[]},bo.prototype.getClass=function(){return bo};var mo=function(){this._items=new Et};mo.prototype.visitItem=function(t){this._items.add(t)},mo.prototype.getItems=function(){return this._items},mo.prototype.interfaces_=function(){return[He]},mo.prototype.getClass=function(){return mo};var _o=function(){this._index=null;var t=arguments[0];if(!N(t,$t))throw new b("Argument must be Polygonal");this._index=new Eo(t)},Po={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};_o.prototype.locate=function(t){var e=new st(t),n=new wo(e);return this._index.query(t.y,t.y,n),e.getLocation()},_o.prototype.interfaces_=function(){return[Vn]},_o.prototype.getClass=function(){return _o},Po.SegmentVisitor.get=function(){return wo},Po.IntervalIndexedGeometry.get=function(){return Eo},Object.defineProperties(_o,Po);var wo=function(){this._counter=null;var t=arguments[0];this._counter=t};wo.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},wo.prototype.interfaces_=function(){return[He]},wo.prototype.getClass=function(){return wo};var Eo=function(){this._index=new bo;var t=arguments[0];this.init(t)};Eo.prototype.init=function(t){for(var e=xr.getLines(t).iterator();e.hasNext();){var n=e.next().getCoordinates();this.addLine(n)}},Eo.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var n=new yn(t[e-1],t[e]),r=Math.min(n.p0.y,n.p1.y),o=Math.max(n.p0.y,n.p1.y);this._index.insert(r,o,n)}},Eo.prototype.query=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new mo;return this._index.query(t,e,n),n.getItems()}if(3===arguments.length){var r=arguments[0],o=arguments[1],i=arguments[2];this._index.query(r,o,i)}},Eo.prototype.interfaces_=function(){return[]},Eo.prototype.getClass=function(){return Eo};var xo=function(t){function e(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new fe,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new Or,2===arguments.length){var e=arguments[0],n=arguments[1],r=dt.OGC_SFS_BOUNDARY_RULE;this._argIndex=e,this._parentGeom=n,this._boundaryNodeRule=r,null!==n&&this.add(n)}else if(3===arguments.length){var o=arguments[0],i=arguments[1],s=arguments[2];this._argIndex=o,this._parentGeom=i,this._boundaryNodeRule=s,null!==i&&this.add(i)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertBoundaryPoint=function(t,n){var r=this._nodes.addNode(n).getLabel(),o=1;r.getLocation(t,Oe.ON)===M.BOUNDARY&&o++;var i=e.determineBoundary(this._boundaryNodeRule,o);r.setLocation(t,i)},e.prototype.computeSelfNodes=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var n=arguments[1],r=arguments[2],o=new lo(arguments[0],!0,!1);o.setIsDoneIfProperInt(r);var i=this.createEdgeSetIntersector(),s=this._parentGeom instanceof ee||this._parentGeom instanceof Kt||this._parentGeom instanceof ne,a=n||!s;return i.computeIntersections(this._edges,o,a),this.addSelfIntersectionNodes(this._argIndex),o}},e.prototype.computeSplitEdges=function(t){for(var e=this._edges.iterator();e.hasNext();)e.next().eiList.addSplitEdges(t)},e.prototype.computeEdgeIntersections=function(t,e,n){var r=new lo(e,n,!0);return r.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,r),r},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof Qt){var t=arguments[0].getCoordinate();this.insertPoint(this._argIndex,t,M.INTERIOR)}else if(arguments[0]instanceof x){var e=arguments[0];this.insertPoint(this._argIndex,e,M.INTERIOR)}},e.prototype.addPolygon=function(t){this.addPolygonRing(t.getExteriorRing(),M.EXTERIOR,M.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,M.INTERIOR,M.EXTERIOR)}},e.prototype.addEdge=function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],M.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],M.BOUNDARY)},e.prototype.addLineString=function(t){var e=Ct.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;var n=new nr(e,new Te(this._argIndex,M.INTERIOR));this._lineEdgeMap.put(t,n),this.insertEdge(n),et.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,r=t.iterator();r.hasNext();){var o=r.next();e[n++]=o.getCoordinate().copy()}return e},e.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(t,e,n){if(this.isBoundaryNode(t,e))return null;n===M.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n)},e.prototype.addPolygonRing=function(t,e,n){if(t.isEmpty())return null;var r=Ct.removeRepeatedPoints(t.getCoordinates());if(r.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=r[0],null;var o=e,i=n;at.isCCW(r)&&(o=n,i=e);var s=new nr(r,new Te(this._argIndex,M.BOUNDARY,o,i));this._lineEdgeMap.put(t,s),this.insertEdge(s),this.insertPoint(this._argIndex,r[0],M.BOUNDARY)},e.prototype.insertPoint=function(t,e,n){var r=this._nodes.addNode(e),o=r.getLabel();null===o?r._label=new Te(t,n):o.setLocation(t,n)},e.prototype.createEdgeSetIntersector=function(){return new po},e.prototype.addSelfIntersectionNodes=function(t){for(var e=this._edges.iterator();e.hasNext();)for(var n=e.next(),r=n.getLabel().getLocation(t),o=n.eiList.iterator();o.hasNext();){var i=o.next();this.addSelfIntersectionNode(t,i.coord,r)}},e.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var e=arguments[0];if(e.isEmpty())return null;if(e instanceof ne&&(this._useBoundaryDeterminationRule=!1),e instanceof Kt)this.addPolygon(e);else if(e instanceof Ht)this.addLineString(e);else if(e instanceof Qt)this.addPoint(e);else if(e instanceof te)this.addCollection(e);else if(e instanceof Ut)this.addCollection(e);else if(e instanceof ne)this.addCollection(e);else{if(!(e instanceof zt))throw new Error(e.getClass().getName());this.addCollection(e)}},e.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},e.prototype.locate=function(t){return N(this._parentGeom,$t)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new _o(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},e.prototype.findEdge=function(){if(1===arguments.length){var e=arguments[0];return this._lineEdgeMap.get(e)}return t.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(t,e){return t.isInBoundary(e)?M.BOUNDARY:M.INTERIOR},e}(qe),Oo=function(){if(this._li=new ot,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new xo(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=dt.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new xo(0,e,r),this._arg[1]=new xo(1,n,r)}else if(3===arguments.length){var o=arguments[0],i=arguments[1],s=arguments[2];o.getPrecisionModel().compareTo(i.getPrecisionModel())>=0?this.setComputationPrecision(o.getPrecisionModel()):this.setComputationPrecision(i.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new xo(0,o,s),this._arg[1]=new xo(1,i,s)}};Oo.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},Oo.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},Oo.prototype.interfaces_=function(){return[]},Oo.prototype.getClass=function(){return Oo};var Co=function(){};Co.prototype.interfaces_=function(){return[]},Co.prototype.getClass=function(){return Co},Co.map=function(){if(arguments[0]instanceof lt&&N(arguments[1],Co.MapOp)){for(var t=arguments[0],e=arguments[1],n=new Et,r=0;r<t.getNumGeometries();r++){var o=e.map(t.getGeometryN(r));null!==o&&n.add(o)}return t.getFactory().buildGeometry(n)}if(N(arguments[0],_t)&&N(arguments[1],Co.MapOp)){for(var i=arguments[0],s=arguments[1],a=new Et,u=i.iterator();u.hasNext();){var c=u.next(),l=s.map(c);null!==l&&a.add(l)}return a}},Co.MapOp=function(){};var So=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n),this._ptLocator=new Or,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Xn,this._resultPolyList=new Et,this._resultLineList=new Et,this._resultPointList=new Et,this._graph=new qe(new Wn),this._geomFact=e.getFactory()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new Te(t.getLabel())).flip();var o=e.getDepth();o.isNull()&&o.add(n),o.add(r),n.merge(r)}else this._edgeList.add(t)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},e.prototype.isCoveredByLA=function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},e.prototype.computeGeometry=function(t,n,r,o){var i=new Et;return i.addAll(t),i.addAll(n),i.addAll(r),i.isEmpty()?e.createEmptyResult(o,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(i)},e.prototype.mergeSymLabels=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().mergeSymLabels()},e.prototype.isCovered=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(this._ptLocator.locate(t,r)!==M.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var t=new Et,e=this._edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this._edgeList.addAll(t)},e.prototype.updateNodeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},e.prototype.getResultGeometry=function(t){return this.computeOverlay(t),this._resultGeom},e.prototype.insertUniqueEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},e.prototype.computeOverlay=function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var e=new Et;this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),qr.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new We(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var r=new Jr(this,this._geomFact,this._ptLocator);this._resultLineList=r.build(t);var o=new Xr(this,this._geomFact,this._ptLocator);this._resultPointList=o.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},e.prototype.labelIncompleteNode=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,n)},e.prototype.copyPoints=function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var n=e.next();this._graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},e.prototype.findResultAreaEdges=function(t){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var r=n.next(),o=r.getLabel();o.isArea()&&!r.isInteriorAreaEdge()&&e.isResultOfOp(o.getLocation(0,Oe.RIGHT),o.getLocation(1,Oe.RIGHT),t)&&r.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var t=this._edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),r=e.getDepth();if(!r.isNull()){r.normalize();for(var o=0;o<2;o++)n.isNull(o)||!n.isArea()||r.isNull(o)||(0===r.getDelta(o)?n.toLine(o):(et.isTrue(!r.isNull(o,Oe.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(o,Oe.LEFT,r.getLocation(o,Oe.LEFT)),et.isTrue(!r.isNull(o,Oe.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(o,Oe.RIGHT,r.getLocation(o,Oe.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getLabel();e.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(n)}},e.prototype.isCoveredByA=function(t){return!!this.isCovered(t,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Oo);So.overlayOp=function(t,e,n){return new So(t,e).getResultGeometry(n)},So.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return So.createEmptyResult(So.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return Wr.map(t,{interfaces_:function(){return[Co.MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),io.overlayOp(t,e,So.INTERSECTION)},So.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return So.createEmptyResult(So.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),io.overlayOp(t,e,So.SYMDIFFERENCE)},So.resultDimension=function(t,e,n){var r=e.getDimension(),o=n.getDimension(),i=-1;switch(t){case So.INTERSECTION:i=Math.min(r,o);break;case So.UNION:i=Math.max(r,o);break;case So.DIFFERENCE:i=r;break;case So.SYMDIFFERENCE:i=Math.max(r,o)}return i},So.createEmptyResult=function(t,e,n,r){var o=null;switch(So.resultDimension(t,e,n)){case-1:o=r.createGeometryCollection(new Array(0).fill(null));break;case 0:o=r.createPoint();break;case 1:o=r.createLineString();break;case 2:o=r.createPolygon()}return o},So.difference=function(t,e){return t.isEmpty()?So.createEmptyResult(So.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),io.overlayOp(t,e,So.DIFFERENCE))},So.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),r=t.getLocation(1);return So.isResultOfOp(n,r,e)}if(3===arguments.length){var o=arguments[0],i=arguments[1],s=arguments[2];switch(o===M.BOUNDARY&&(o=M.INTERIOR),i===M.BOUNDARY&&(i=M.INTERIOR),s){case So.INTERSECTION:return o===M.INTERIOR&&i===M.INTERIOR;case So.UNION:return o===M.INTERIOR||i===M.INTERIOR;case So.DIFFERENCE:return o===M.INTERIOR&&i!==M.INTERIOR;case So.SYMDIFFERENCE:return o===M.INTERIOR&&i!==M.INTERIOR||o!==M.INTERIOR&&i===M.INTERIOR}return!1}},So.INTERSECTION=1,So.UNION=2,So.DIFFERENCE=3,So.SYMDIFFERENCE=4;var Mo=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new Or,this._seg=new yn;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};Mo.prototype.isWithinToleranceOfBoundary=function(t){for(var e=0;e<this._linework.getNumGeometries();e++)for(var n=this._linework.getGeometryN(e).getCoordinateSequence(),r=0;r<n.size()-1;r++)if(n.getCoordinate(r,this._seg.p0),n.getCoordinate(r+1,this._seg.p1),this._seg.distance(t)<=this._boundaryDistanceTolerance)return!0;return!1},Mo.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?M.BOUNDARY:this._ptLocator.locate(t,this._g)},Mo.prototype.extractLinework=function(t){var e=new jo;t.apply(e);var n=e.getLinework(),r=ve.toLineStringArray(n);return t.getFactory().createMultiLineString(r)},Mo.prototype.interfaces_=function(){return[]},Mo.prototype.getClass=function(){return Mo};var jo=function(){this._linework=null,this._linework=new Et};jo.prototype.getLinework=function(){return this._linework},jo.prototype.filter=function(t){if(t instanceof Kt){var e=t;this._linework.add(e.getExteriorRing());for(var n=0;n<e.getNumInteriorRing();n++)this._linework.add(e.getInteriorRingN(n))}},jo.prototype.interfaces_=function(){return[Vt]},jo.prototype.getClass=function(){return jo};var No=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var t=arguments[0];this._g=t};No.prototype.extractPoints=function(t,e,n){for(var r=t.getCoordinates(),o=0;o<r.length-1;o++)this.computeOffsetPoints(r[o],r[o+1],e,n)},No.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},No.prototype.getPoints=function(t){for(var e=new Et,n=xr.getLines(this._g).iterator();n.hasNext();){var r=n.next();this.extractPoints(r,t,e)}return e},No.prototype.computeOffsetPoints=function(t,e,n,r){var o=e.x-t.x,i=e.y-t.y,s=Math.sqrt(o*o+i*i),a=n*o/s,u=n*i/s,c=(e.x+t.x)/2,l=(e.y+t.y)/2;if(this._doLeft){var p=new x(c-u,l+a);r.add(p)}if(this._doRight){var f=new x(c+u,l-a);r.add(f)}},No.prototype.interfaces_=function(){return[]},No.prototype.getClass=function(){return No};var Io=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new Et;var e=arguments[0],n=arguments[1],r=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(e,n),this._geom=[e,n,r],this._locFinder=[new Mo(this._geom[0],this._boundaryDistanceTolerance),new Mo(this._geom[1],this._boundaryDistanceTolerance),new Mo(this._geom[2],this._boundaryDistanceTolerance)]},To={TOLERANCE:{configurable:!0}};Io.prototype.reportResult=function(t,e,n){q.out.println("Overlay result invalid - A:"+M.toLocationSymbol(e[0])+" B:"+M.toLocationSymbol(e[1])+" expected:"+(n?"i":"e")+" actual:"+M.toLocationSymbol(e[2]))},Io.prototype.isValid=function(t){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(t)},Io.prototype.checkValid=function(){if(1===arguments.length){for(var t=arguments[0],e=0;e<this._testCoords.size();e++){var n=this._testCoords.get(e);if(!this.checkValid(t,n))return this._invalidLocation=n,!1}return!0}if(2===arguments.length){var r=arguments[0],o=arguments[1];return this._location[0]=this._locFinder[0].getLocation(o),this._location[1]=this._locFinder[1].getLocation(o),this._location[2]=this._locFinder[2].getLocation(o),!!Io.hasLocation(this._location,M.BOUNDARY)||this.isValidResult(r,this._location)}},Io.prototype.addTestPts=function(t){var e=new No(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))},Io.prototype.isValidResult=function(t,e){var n=So.isResultOfOp(e[0],e[1],t),r=!(n^e[2]===M.INTERIOR);return r||this.reportResult(t,e,n),r},Io.prototype.getInvalidLocation=function(){return this._invalidLocation},Io.prototype.interfaces_=function(){return[]},Io.prototype.getClass=function(){return Io},Io.hasLocation=function(t,e){for(var n=0;n<3;n++)if(t[n]===e)return!0;return!1},Io.computeBoundaryDistanceTolerance=function(t,e){return Math.min(Zr.computeSizeBasedSnapTolerance(t),Zr.computeSizeBasedSnapTolerance(e))},Io.isValid=function(t,e,n,r){return new Io(t,e,r).isValid(n)},To.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Io,To);var Ao=function t(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(e),this._inputGeoms=e};Ao.prototype.extractElements=function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);this._skipEmpty&&r.isEmpty()||e.add(r)}},Ao.prototype.combine=function(){for(var t=new Et,e=this._inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},Ao.prototype.interfaces_=function(){return[]},Ao.prototype.getClass=function(){return Ao},Ao.combine=function(){if(1===arguments.length)return new Ao(arguments[0]).combine();if(2===arguments.length){var t=arguments[0],e=arguments[1];return new Ao(Ao.createList(t,e)).combine()}if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];return new Ao(Ao.createList(n,r,o)).combine()}},Ao.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},Ao.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new Et;return n.add(t),n.add(e),n}if(3===arguments.length){var r=arguments[0],o=arguments[1],i=arguments[2],s=new Et;return s.add(r),s.add(o),s.add(i),s}};var Do=function(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,null===this._inputPolys&&(this._inputPolys=new Et)},Ro={STRTREE_NODE_CAPACITY:{configurable:!0}};Do.prototype.reduceToGeometries=function(t){for(var e=new Et,n=t.iterator();n.hasNext();){var r=n.next(),o=null;N(r,wt)?o=this.unionTree(r):r instanceof lt&&(o=r),e.add(o)}return e},Do.prototype.extractByEnvelope=function(t,e,n){for(var r=new Et,o=0;o<e.getNumGeometries();o++){var i=e.getGeometryN(o);i.getEnvelopeInternal().intersects(t)?r.add(i):n.add(i)}return this._geomFactory.buildGeometry(r)},Do.prototype.unionOptimized=function(t,e){var n=t.getEnvelopeInternal(),r=e.getEnvelopeInternal();if(!n.intersects(r))return Ao.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var o=n.intersection(r);return this.unionUsingEnvelopeIntersection(t,e,o)},Do.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new sn(Do.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var r=t.itemsTree();return this.unionTree(r)},Do.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];if(r-n<=1){var o=Do.getGeometry(e,n);return this.unionSafe(o,null)}if(r-n==2)return this.unionSafe(Do.getGeometry(e,n),Do.getGeometry(e,n+1));var i=Math.trunc((r+n)/2),s=this.binaryUnion(e,n,i),a=this.binaryUnion(e,i,r);return this.unionSafe(s,a)}},Do.prototype.repeatedUnion=function(t){for(var e=null,n=t.iterator();n.hasNext();){var r=n.next();e=null===e?r.copy():e.union(r)}return e},Do.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},Do.prototype.unionActual=function(t,e){return Do.restrictToPolygons(t.union(e))},Do.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},Do.prototype.unionUsingEnvelopeIntersection=function(t,e,n){var r=new Et,o=this.extractByEnvelope(n,t,r),i=this.extractByEnvelope(n,e,r),s=this.unionActual(o,i);return r.add(s),Ao.combine(r)},Do.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().createGeometryCollection([e,n]).buffer(0)}},Do.prototype.interfaces_=function(){return[]},Do.prototype.getClass=function(){return Do},Do.restrictToPolygons=function(t){if(N(t,$t))return t;var e=Er.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(ve.toPolygonArray(e))},Do.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},Do.union=function(t){return new Do(t).union()},Ro.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(Do,Ro);var ko=function(){};ko.prototype.interfaces_=function(){return[]},ko.prototype.getClass=function(){return ko},ko.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return So.createEmptyResult(So.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),io.overlayOp(t,e,So.UNION)},t.GeoJSONReader=Ee,t.GeoJSONWriter=xe,t.OverlayOp=So,t.UnionOp=ko,t.BufferOp=yr,Object.defineProperty(t,"__esModule",{value:!0})}(e)},14649:(t,e,n)=>{"use strict";n.r(e),n.d(e,{generateCartesianArc:()=>X});var r=n(60929);const o=r.Check,i=r.defaultValue,s=r.defined,a=r.Math.EPSILON10,u=r.Cartesian3,c=r.Cartographic,l=r.defaultValue,p=r.defined,f=r.DeveloperError,h=r.Ellipsoid,d=r.EllipsoidGeodesic,y=r.EllipsoidRhumbLine,g=r.IntersectionTests,v=r.Math,b=r.Matrix4,m=r.Plane,_={numberOfPoints:function(t,e,n){const r=u.distance(t,e);return Math.ceil(r/n)},numberOfPointsRhumbLine:function(t,e,n){const r=Math.pow(t.longitude-e.longitude,2)+Math.pow(t.latitude-e.latitude,2);return Math.max(1,Math.ceil(Math.sqrt(r/(n*n))))}},P=new c;_.extractHeights=function(t,e){const n=t.length,r=new Array(n);for(let o=0;o<n;o++){const n=t[o];r[o]=e.cartesianToCartographic(n,P).height}return r};const w=new b,E=new u,x=new u,O=new m(u.UNIT_X,0),C=new u,S=new m(u.UNIT_X,0),M=new u,j=new u,N=[];function I(t,e,n){const r=N;let o;if(r.length=t,e===n){for(o=0;o<t;o++)r[o]=e;return r}const i=(n-e)/t;for(o=0;o<t;o++){const t=e+o*i;r[o]=t}return r}const T=new c,A=new c,D=new u,R=new u,k=new u,L=new d;let G=new y;function F(t,e,n,r,o,i,s,a){const c=r.scaleToGeodeticSurface(t,R),l=r.scaleToGeodeticSurface(e,k),p=_.numberOfPoints(t,e,n),f=r.cartesianToCartographic(c,T),h=r.cartesianToCartographic(l,A),d=I(p,o,i);L.setEndPoints(f,h);const y=L.surfaceDistance/p;let g=a;f.height=o;let v=r.cartographicToCartesian(f,D);u.pack(v,s,g),g+=3;for(let t=1;t<p;t++){const e=L.interpolateUsingSurfaceDistance(t*y,A);e.height=d[t],v=r.cartographicToCartesian(e,D),u.pack(v,s,g),g+=3}return g}function V(t,e,n,r,o,i,s,a){const c=r.cartesianToCartographic(t,T),l=r.cartesianToCartographic(e,A),p=_.numberOfPointsRhumbLine(c,l,n);c.height=0,l.height=0;const f=I(p,o,i);G.ellipsoid.equals(r)||(G=new y(void 0,void 0,r)),G.setEndPoints(c,l);const h=G.surfaceDistance/p;let d=a;c.height=o;let g=r.cartographicToCartesian(c,D);u.pack(g,s,d),d+=3;for(let t=1;t<p;t++){const e=G.interpolateUsingSurfaceDistance(t*h,A);e.height=f[t],g=r.cartographicToCartesian(e,D),u.pack(g,s,d),d+=3}return d}_.wrapLongitude=function(t,e){const n=[],r=[];if(p(t)&&t.length>0){e=l(e,b.IDENTITY);const o=b.inverseTransformation(e,w),i=b.multiplyByPoint(o,u.ZERO,E),s=u.normalize(b.multiplyByPointAsVector(o,u.UNIT_Y,x),x),a=m.fromPointNormal(i,s,O),c=u.normalize(b.multiplyByPointAsVector(o,u.UNIT_X,C),C),f=m.fromPointNormal(i,c,S);let h=1;n.push(u.clone(t[0]));let d=n[0];const y=t.length;for(let e=1;e<y;++e){const o=t[e];if(m.getPointDistance(f,d)<0||m.getPointDistance(f,o)<0){const t=g.lineSegmentPlane(d,o,a,M);if(p(t)){const e=u.multiplyByScalar(s,5e-9,j);m.getPointDistance(a,d)<0&&u.negate(e,e),n.push(u.add(t,e,new u)),r.push(h+1),u.negate(e,e),n.push(u.add(t,e,new u)),h=1}}n.push(u.clone(t[e])),h++,d=o}r.push(h)}return{positions:n,lengths:r}},_.generateArc=function(t){p(t)||(t={});const e=t.positions;if(!p(e))throw new f("options.positions is required.");const n=e.length,r=l(t.ellipsoid,h.WGS84);let o=l(t.height,0);const i=Array.isArray(o);if(n<1)return[];if(1===n){const t=r.scaleToGeodeticSurface(e[0],R);if(o=i?o[0]:o,0!==o){const e=r.geodeticSurfaceNormal(t,D);u.multiplyByScalar(e,o,e),u.add(t,e,t)}return[t.x,t.y,t.z]}let s=t.minDistance;if(!p(s)){const e=l(t.granularity,v.RADIANS_PER_DEGREE);s=v.chordLength(e,r.maximumRadius)}let a,c=0;for(a=0;a<n-1;a++)c+=_.numberOfPoints(e[a],e[a+1],s);const d=3*(c+1),y=new Array(d);let g=0;for(a=0;a<n-1;a++)g=F(e[a],e[a+1],s,r,i?o[a]:o,i?o[a+1]:o,y,g);N.length=0;const b=e[n-1],m=r.cartesianToCartographic(b,T);m.height=i?o[n-1]:o;const P=r.cartographicToCartesian(m,D);return u.pack(P,y,d-3),y};const B=new c,z=new c;_.generateRhumbArc=function(t){p(t)||(t={});const e=t.positions;if(!p(e))throw new f("options.positions is required.");const n=e.length,r=l(t.ellipsoid,h.WGS84);let o=l(t.height,0);const i=Array.isArray(o);if(n<1)return[];if(1===n){const t=r.scaleToGeodeticSurface(e[0],R);if(o=i?o[0]:o,0!==o){const e=r.geodeticSurfaceNormal(t,D);u.multiplyByScalar(e,o,e),u.add(t,e,t)}return[t.x,t.y,t.z]}const s=l(t.granularity,v.RADIANS_PER_DEGREE);let a,d,y=0,g=r.cartesianToCartographic(e[0],B);for(a=0;a<n-1;a++)d=r.cartesianToCartographic(e[a+1],z),y+=_.numberOfPointsRhumbLine(g,d,s),g=c.clone(d,B);const b=3*(y+1),m=new Array(b);let P=0;for(a=0;a<n-1;a++)P=V(e[a],e[a+1],s,r,i?o[a]:o,i?o[a+1]:o,m,P);N.length=0;const w=e[n-1],E=r.cartesianToCartographic(w,T);E.height=i?o[n-1]:o;const x=r.cartographicToCartesian(E,D);return u.pack(x,m,b-3),m},_.generateCartesianArc=function(t){const e=_.generateArc(t),n=e.length/3,r=new Array(n);for(let t=0;t<n;t++)r[t]=u.unpack(e,3*t);return r},_.generateCartesianRhumbArc=function(t){const e=_.generateRhumbArc(t),n=e.length/3,r=new Array(n);for(let t=0;t<n;t++)r[t]=u.unpack(e,3*t);return r};const U=_,q=r.ArcType,W=(r.BoundingSphere,r.Cartesian3),J=(r.Color,r.ComponentDatatype,r.defaultValue,r.defined,r.DeveloperError,r.Ellipsoid,r.Geometry,r.GeometryAttribute,r.GeometryAttributes,r.IndexDatatype,r.Math);function X(t){const e=t.arcType,n=t.granularity,r=t.ellipsoid;let u=function(t,e,n,r){if(o.defined("equalsEpsilon",e),!s(t))return;n=i(n,!1);const u=s(r),c=t.length;if(c<2)return t;let l,p,f,h=t[0],d=0,y=-1;for(l=1;l<c;++l)p=t[l],e(h,p,a)?(s(f)||(f=t.slice(0,l),d=l-1,y=0),u&&r.push(l)):(s(f)&&(f.push(p),d=l,u&&(y=r.length)),h=p);return n&&e(t[0],t[c-1],a)&&(u&&(s(f)?r.splice(y,0,d):r.push(c-1)),s(f)?f.length-=1:f=t.slice(0,-1)),s(f)?f:t}(t.positions,W.equalsEpsilon,!1,[]);if(!(u.length<2)){if(e===q.GEODESIC||e===q.RHUMB){let t,o;e===q.GEODESIC?(t=J.chordLength(n,r.maximumRadius),o=U.numberOfPoints):(t=n,o=U.numberOfPointsRhumbLine);const i=U.extractHeights(u,r);u=e===q.GEODESIC?U.generateCartesianArc({positions:u,minDistance:t,ellipsoid:r,height:i}):U.generateCartesianRhumbArc({positions:u,granularity:t,ellipsoid:r,height:i})}return u}}r.PrimitiveType,r.VertexFormat},86088:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(e=0;e<this.length-1;e++){var n=this.points[e],r=this.points[e+1];this.centers.push({x:(n.x+r.x)/2,y:(n.y+r.y)/2,z:(n.z+r.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),e=0;e<this.centers.length-1;e++){var o=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,i=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,s=this.points[e+1].z-(this.centers[e].z+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+o),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+i),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+s)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+o),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+i),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+s)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}return t.prototype.cacheSteps=function(t){var e=[],n=this.pos(0);e.push(0);for(var r=0;r<this.duration;r+=10){var o=this.pos(r);Math.sqrt((o.x-n.x)*(o.x-n.x)+(o.y-n.y)*(o.y-n.y)+(o.z-n.z)*(o.z-n.z))>t&&(e.push(r),n=o)}return e},t.prototype.vector=function(t){var e=this.pos(t+10),n=this.pos(t-10);return{angle:180*Math.atan2(e.y-n.y,e.x-n.x)/3.14,speed:Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y)+(n.z-e.z)*(n.z-e.z))}},t.prototype.pos=function(t){var e=t-this.delay;e<0&&(e=0),e>this.duration&&(e=this.duration-1);var n=e/this.duration;if(n>=1)return this.points[this.length-1];var r=Math.floor((this.points.length-1)*n);return function(t,e,n,r,o){var i=function(t){var e=t*t;return[e*t,3*e*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}(t);return{x:o.x*i[0]+r.x*i[1]+n.x*i[2]+e.x*i[3],y:o.y*i[0]+r.y*i[1]+n.y*i[2]+e.y*i[3],z:o.z*i[0]+r.z*i[1]+n.z*i[2]+e.z*i[3]}}((this.length-1)*n-r,this.points[r],this.controls[r][1],this.controls[r+1][0],this.points[r+1])},t}();e.default=n},67437:(t,e,n)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.copyright=void 0;var o=null!==(r="".concat("xbsj-xe2","/").concat(n.j))&&void 0!==r?r:"-",i=((Date.now()-1702091535e3)/36e5).toFixed(1),s="%c🌏 ".concat(o,"%c ").concat("0.1.0",".").concat("43e254ce2f0180fc62dca04488232442ee13fbed".slice(0,8),".").concat("2023-12-09T03:12:15.000Z"," (距今").concat(i,"个小时)\n%c").concat("xbsj-xe2\n","当前网站正在使用").concat(o,"，此软件版权归").concat("北京西部世界科技有限公司","所有\n");e.copyright=Object.seal({get owner(){return"北京西部世界科技有限公司"},get ownerlink(){return"https://work.weixin.qq.com/kfid/kfc0a426187a0ce9a9a"},get gituri(){return"https://codeup.aliyun.com/xbsj/2022/xe2-packages-202210/commit/${commitId}".replace("${commitId}","43e254ce2f0180fc62dca04488232442ee13fbed")},get info(){return s},get date(){return"2023-12-09T03:12:15.000Z"},get author(){return"vtxf, ysp"},get version(){return"0.1.0"},get name(){return"xbsj-xe2"},get commitId(){return"43e254ce2f0180fc62dca04488232442ee13fbed"},print:function(t){void 0===t&&(t=!1),!t&&window._xe2_no_copy_print||console.info(this.info,"\n            font-size: 18px;\n            font-weight: 1000;\n            line-height: 1;\n            color: rgb(0, 120, 215);\n            padding-top: 20px;\n            padding-bottom: 10px;\n            ","\n            font-size: 10px;\n            font-weight: 1000;\n            color: rgb(0, 120, 215);\n            ","\n            font-size: 10px;\n            line-height: 1.5;\n            color: rgb(0, 120, 215);\n            padding-bottom: 2px;\n            padding-left: 35px;\n            ")}}),window.g_xe2CopyRights=window.g_xe2CopyRights||{},window.g_xe2CopyRights[o]=e.copyright},4842:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Property=e.ESSceneObject=e.SceneObject=void 0;var r=n(6018);Object.defineProperty(e,"SceneObject",{enumerable:!0,get:function(){return r.SceneObject}}),Object.defineProperty(e,"ESSceneObject",{enumerable:!0,get:function(){return r.ESSceneObject}}),Object.defineProperty(e,"Property",{enumerable:!0,get:function(){return r.Property}})},47863:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoAreaMeasurement=void 0;var u=n(6018),c=n(81425),l=n(72256),p=n(15635),f=n(4842),h=n(39743),d=n(50679),y=n(79677),g=n(59864),v=function(t){function e(e){var n=t.call(this,e)||this;n._pickedEvent=n.disposeVar(new c.Event),n._flyToEvent=n.disposeVar(new c.Event),n._area=n.disposeVar((0,c.react)(0)),n._centerOfMass=n.disposeVar((0,c.reactArrayWithUndefined)(void 0)),n._distances=n.disposeVar((0,c.reactArray)([])),n._geoPolyline=n.disposeVar(new h.GeoPolyline);var r=function(){n._distances.value=(0,g.updateDistances)(n.positions),n._area.value=(0,g.updateArea)(n.positions),n._centerOfMass.value=(0,g.updateCenterOfMass)(n.positions)};r();var o=n.disposeVar((0,l.createNextAnimateFrameEvent)(n.positionsChanged));n.dispose(o.disposableOn(r));var i=n.disposeVar(new h.GeoPolyline);n.dispose(n.components.disposableAdd(i)),i.ground=!1,i.loop=!0,i.arcType="GEODESIC",n.dispose((0,c.bind)([i,"color"],[n,"color"])),n.dispose((0,c.bind)([i,"dashLength"],[n,"dashLength"])),n.dispose((0,c.bind)([i,"dashPattern"],[n,"dashPattern"])),n.dispose((0,c.bind)([i,"editing"],[n,"editing"])),n.dispose((0,c.bind)([i,"gapColor"],[n,"gapColor"])),n.dispose((0,c.bind)([i,"hasArrow"],[n,"hasArrow"])),n.dispose((0,c.bind)([i,"hasDash"],[n,"hasDash"])),n.dispose((0,c.bind)([i,"positions"],[n,"positions"])),n.dispose((0,c.bind)([i,"show"],[n,"show"])),n.dispose((0,c.bind)([i,"width"],[n,"width"])),n.dispose((0,c.bind)([i,"depthTest"],[n,"depthTest"]));var s=n.disposeVar(new d.GeoPolygon);n.dispose(n.components.disposableAdd(s)),n.dispose((0,c.track)([s,"show"],[n,"show"]));var a=function(){s.positions=n.positions};a(),n.dispose(n.positionsChanged.disposableOn(a));var p=function(){var t=n.color;s.color=[t[0],t[1],t[2],.5*t[3]]};p(),n.dispose(n.colorChanged.disposableOn(p)),n.dispose((0,c.track)([s,"allowPicking"],[n,"allowPicking"])),n.dispose((0,c.bind)([s,"depthTest"],[n,"depthTest"])),n.dispose(s.pickedEvent.disposableOn((function(t){n.allowPicking&&n.pickedEvent.emit(new u.SceneObjectPickedInfo(n,t))}))),n.dispose((0,c.track)([s,"allowPicking"],[n,"allowPicking"])),n.dispose(s.pickedEvent.disposableOn((function(t){n.allowPicking&&n.pickedEvent.emit(new u.SceneObjectPickedInfo(n,t))})));var f=n.disposeVar(new y.GeoCustomDivPoi);n.dispose(n.components.disposableAdd(f)),n.dispose((0,c.track)([f,"position"],[n,"centerOfMass"]));var v=n.disposeVar((0,l.createNextAnimateFrameEvent)(n.areaChanged,n.centerOfMassChanged,n.distancesChanged)),b=function(){if(0!==n.distances.length){var t="面积: ".concat((0,g.areaToHumanStr)(n.area)),e="周长: ".concat((0,g.distanceToHumanStr)(n.distances[n.distances.length-1]));f.innerHTML=(0,g.createInnerHtmlWithWhiteTextBlackBackground)([t,e].join("\n"))}else f.innerHTML=""};return b(),n.dispose(v.disposableOn(b)),n.dispose((0,c.track)([f,"show"],[n,"show"])),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoAreaMeasurement"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoJson",{get:function(){return(0,p.getGeoJson)("Polygon",this.positions,this.name)},set:function(t){var e=(0,p.setGeoJson)(t);this.name=e.name,this.positions=e.position},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(t){return""}},set:function(t){if(t)try{this.geoJson=JSON.parse(t)}catch(t){}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},Object.defineProperty(e.prototype,"area",{get:function(){return this._area.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"areaChanged",{get:function(){return this._area.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"centerOfMass",{get:function(){return this._centerOfMass.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"centerOfMassChanged",{get:function(){return this._centerOfMass.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"distances",{get:function(){return this._distances.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"distancesChanged",{get:function(){return this._distances.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoPolyline",{get:function(){return this._geoPolyline},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sPositionsEditing",{get:function(){return this.geoPolyline.sPositionsEditing},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(n){var r=this;return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new u.GroupProperty("通用","通用",[new u.FunctionProperty("飞入","飞入",["number"],(function(t){return r.flyTo(t)}),[1e3]),new u.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!1,!1,[this,"show"]),new u.BooleanProperty("允许拾取","是否允许拾取",!1,!1,[this,"allowPicking"]),new u.PositionsProperty("位置数组","经度纬度高度，度为单位",!0,!1,[this,"positions"],e.defaults.positions),new u.NumberProperty("线宽","线宽",!1,!1,[this,"width"]),new u.ColorProperty("颜色","A Property specifying the color.",!1,!1,[this,"color"]),new u.BooleanProperty("是否为虚线","是否为虚线.",!1,!1,[this,"hasDash"]),new u.ColorProperty("间隔颜色","A Property specifying the color.",!1,!1,[this,"gapColor"]),new u.NumberProperty("虚线长度","虚线长度",!1,!1,[this,"dashLength"]),new u.DashPatternProperty("虚线图案","虚线图案",!1,!1,[this,"dashPattern"]),new u.BooleanProperty("是否编辑","是否编辑.",!1,!1,[this,"editing"]),new u.BooleanProperty("是否开启深度检测","A boolean Property specifying the visibility.",!1,!1,[this,"depthTest"]),new u.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return r.geoJsonStr}),(function(t){return t&&(r.geoJsonStr=t)}))])],!1)},n=e,e.type=n.register("GeoAreaMeasurement",n,{chsName:"面积测量",tags:["GeoObjects","_ES_Impl_Any"],description:"面积测量，注意此测量不带高度！"}),e.defaults=i(i({},f.ESSceneObject.defaults),{positions:[]}),e}(f.ESSceneObject);e.GeoAreaMeasurement=v,function(t){t.createDefaultProps=function(){return i({show:!0,allowPicking:!1,positions:(0,c.reactPositions)(void 0),width:2,color:(0,c.reactArray)([1,1,1,.5]),hasDash:!1,gapColor:(0,c.reactArray)([0,0,0,0]),dashLength:16,dashPattern:255,hasArrow:void 0,editing:!1,depthTest:!1},f.ESSceneObject.createDefaultProps())}}(v=e.GeoAreaMeasurement||(e.GeoAreaMeasurement={})),e.GeoAreaMeasurement=v,(0,c.extendClassProps)(v.prototype,v.createDefaultProps)},59864:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.updateCenterOfMass=e.updateArea=e.updateDistances=e.distanceToHumanStr=e.areaToHumanStr=e.createInnerHtmlWithWhiteTextBlackBackground=void 0;var r=n(1245);e.createInnerHtmlWithWhiteTextBlackBackground=function(t,e){void 0===e&&(e=48);var n=t.split("\n").map((function(t){return'\n        <div style="height: 24px; line-height: 24px">\n            '.concat(t,"\n        </div>\n        ")}));return'\n        <div style="\n            background: rgba(0, 0, 0, 0.6);\n            color: white;\n            border-radius: 5px;\n            padding: 0 10px 0 10px;\n            font-size: 14px;\n            white-space: nowrap;\n        ">\n            '.concat(n.join(" "),'\n        </div>\n        <div style="\n            height: ').concat(e,'px;\n            width: 2px;\n            background: rgba(0, 0, 0, 0.6);\n            margin: auto;\n        ">\n        </div>\n    ')},e.areaToHumanStr=function(t){return Math.abs(t)<1e6?"".concat(t.toFixed(2)," m²"):"".concat((t/1e6).toFixed(2)," km²")},e.distanceToHumanStr=function(t){return Math.abs(t)<1e3?"".concat(t.toFixed(2)," m"):"".concat((t/1e3).toFixed(2)," km")},e.updateDistances=function(t){var e=[];do{if(!t)break;for(var n=t.length,o=0,i=0;i<n;++i){var s=(i+1)%n,a=(0,r.geoDistance)(t[i],t[s]),u=Math.abs(t[i][2]-t[s][2]);o+=Math.sqrt(a*a+u*u),e.push(o)}}while(0);return e},e.updateArea=function(t){if(t)return t.length<3?0:(0,r.geoArea)(t)},e.updateCenterOfMass=function(t){if(t)return t.length<3?void 0:(0,r.geoCenterOfMass)(t)}},79545:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoArrow=void 0;var u=n(81425),c=n(6018),l=n(1245),p=n(4842),f=n(50679),h=function(t){function e(e){var n=t.call(this,e)||this;n._pickedEvent=n.disposeVar(new u.Event),n._flyToEvent=n.disposeVar(new u.Event),n._geoPolygon=n.disposeVar(new f.GeoPolygon),n._sPositionsEditing=n.disposeVar(new l.PositionsEditing([n,"positions"],!1,[n,"editing"],n.components)),n._sPointEditing=n.disposeVar(new l.PointEditing([n,"positions"],[n,"pointEditing"],n.components)),n._positionsCenter=n.disposeVar(new l.PositionsCenter([n,"positions"]));var r=n,o=n.geoPolygon;n.dispose(n.components.disposableAdd(o)),n.dispose((0,u.track)([o,"allowPicking"],[r,"allowPicking"])),n.dispose(o.pickedEvent.disposableOn((function(t){var e;null!==(e=r.allowPicking)&&void 0!==e&&e&&r.pickedEvent.emit(new c.SceneObjectPickedInfo(r,t))})));var i=n.disposeVar((0,u.createNextAnimateFrameEvent)(r.positionsChanged,r.resolutionChanged,r.sharpnessChanged,r.ratioChanged));return n.dispose(i.disposableOn((function(){var t;try{var e=void 0,n=function(){if(!r.positions)return"break";if(r.positions.length<2)return"break";var n=r.positions[0][2],o=r.positions.map((function(t){return[t[0],t[1],n]})),i=(0,l.geoPolylineToBezierSpline)(o,r.resolution,r.sharpness),u=(0,l.getDistancesFromPositions)(i,"GEODESIC"),c=u[u.length-1];if(c<1)return"break";var p=r.ratio>0?r.ratio:.02,f=c*(1-2*p),h=u.findIndex((function(t){return t>f}));if(h+1>=i.length)throw console.error("不应出现此种情况！arrowRearIndex + 1 >= splinePositions.length"),new Error("不应出现此种情况！arrowRearIndex + 1 >= splinePositions.length");var d=(0,l.geoAlong)([i[h],i[h+1]],f-(null!==(t=u[h-1])&&void 0!==t?t:0)),y=i.length,g=[],v=[],b=(0,l.geoHeading)(i[0],i[1]),m=(0,l.geoDestination)(i[0],c*p,b-90);m&&g.push(m),(E=(0,l.geoDestination)(i[0],c*p,b+90))&&v.push(E);for(var _=1;_<=h;++_){b=(0,l.geoHeading)(i[_-1],i[_]);var P=(0,l.geoDestination)(i[_],c*p,b-90);P&&g.push(P),(E=(0,l.geoDestination)(i[_],c*p,b+90))&&v.push(E)}b=(0,l.geoHeading)(i[h],d);var w=(0,l.geoDestination)(d,c*p,b-90);for(w&&g.push(w),(E=(0,l.geoDestination)(d,c*p,b+90))&&v.push(E),_=h;_<y;++_){b=(0,l.geoHeading)(i[_-1],i[_]);var E,x=Math.min(c-u[_-1],c-f),O=(0,l.geoDestination)(i[_],x,b-90);O&&g.push(O),(E=(0,l.geoDestination)(i[_],x,b+90))&&v.push(E)}e=a(a([],s(g),!1),s(v.reverse()),!1)};do{if("break"===n())break}while(0);o.positions=e}catch(t){console.error(t),o.positions=void 0}}))),n.dispose(r.flyToEvent.disposableOn((function(t){o.flyTo(t)}))),n.dispose((0,u.track)([n.geoPolygon,"viewDistanceRange"],[n,"viewDistanceRange"])),n.dispose((0,u.track)([n.geoPolygon,"viewDistanceDebug"],[n,"viewDistanceDebug"])),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoArrow"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return i(i({},e.createDefaultProps()),g)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},Object.defineProperty(e.prototype,"geoPolygon",{get:function(){return this._geoPolygon},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sPositionsEditing",{get:function(){return this._sPositionsEditing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sPointEditing",{get:function(){return this._sPointEditing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"positionsCenter",{get:function(){return this._positionsCenter},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(n){var r=this;return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new c.GroupProperty("通用","通用",[new c.FunctionProperty("飞入","飞入",["number"],(function(t){return r.flyTo(t)}),[1e3]),new c.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!1,!1,[this,"show"]),new c.Number4Property("可视范围控制","可视范围控制[near0, near1, far1, far0]",!0,!1,[this,"viewDistanceRange"],e.defaults.viewDistanceRange),new c.BooleanProperty("可视距离调试","可视距离调试",!1,!1,[this,"viewDistanceDebug"]),new c.BooleanProperty("允许拾取","是否允许拾取",!1,!1,[this,"allowPicking"]),new c.BooleanProperty("是否贴地","A boolean Property specifying the visibility.",!1,!1,[this,"ground"]),new c.BooleanProperty("是否显示轮廓线","是否显示轮廓线.",!1,!1,[this,"outline"]),new c.ColorProperty("轮廓线颜色"," A Property specifying the color.",!1,!1,[this,"outlineColor"]),new c.NumberProperty("线宽","线宽",!1,!1,[this,"outlineWidth"]),new c.ColorProperty("颜色"," A Property specifying the color.",!1,!1,[this,"color"]),new c.BooleanProperty("是否编辑","是否编辑.",!1,!1,[this,"editing"]),new c.BooleanProperty("是否单点编辑","是否单点编辑.",!1,!1,[this,"pointEditing"]),new c.PositionsProperty("位置数组","经度纬度高度，度为单位",!0,!1,[this,"positions"],e.defaults.positions),new c.NumberProperty("厚度","厚度",!1,!1,[this,"depth"]),new c.NumberProperty("分辨率","分辨率",!1,!1,[this,"resolution"]),new c.NumberProperty("锐化程度","锐化程度",!1,!1,[this,"sharpness"]),new c.NumberProperty("长宽比","长宽比",!1,!1,[this,"ratio"])])],!1)},n=e,e.type=n.register("GeoArrow",n,{chsName:"单箭头",tags:["GeoObjects"],description:"通过GeoPolygon实现的单箭头"}),e.defaults=i(i({},p.ESSceneObject.defaults),{positions:[],viewDistanceRange:[1e3,1e4,3e4,6e4]}),e}(p.ESSceneObject);e.GeoArrow=h;var d=f.GeoPolygon.createDefaultProps(),y={show:{defaultValue:d.show,componentName:"geoPolygon",originPropName:"show"},ground:{defaultValue:d.ground,componentName:"geoPolygon",originPropName:"ground"},outline:{defaultValue:d.outline,componentName:"geoPolygon",originPropName:"outline"},outlineColor:{defaultValue:d.outlineColor.value,componentName:"geoPolygon",originPropName:"outlineColor"},outlineWidth:{defaultValue:d.outlineWidth,componentName:"geoPolygon",originPropName:"outlineWidth"},color:{defaultValue:d.color.value,componentName:"geoPolygon",originPropName:"color"},depth:{defaultValue:d.depth,componentName:"geoPolygon",originPropName:"depth"}},g=(0,c.getDefaultComponentProps)(y);(0,c.extendComponentProps)(h.prototype,y),function(t){t.createDefaultProps=function(){return i({allowPicking:!1,editing:!1,pointEditing:!1,positions:(0,u.reactPositions)(void 0),resolution:1e4,sharpness:.85,ratio:.02,viewDistanceRange:(0,u.reactArrayWithUndefined)(void 0),viewDistanceDebug:!1},p.ESSceneObject.createDefaultProps())}}(h=e.GeoArrow||(e.GeoArrow={})),e.GeoArrow=h,(0,u.extendClassProps)(h.prototype,h.createDefaultProps)},47594:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoAxis=void 0;var u=n(6018),c=n(81425),l=n(4842),p=n(99736),f=n(1245),h=function(t){function e(e){var n=t.call(this,e)||this;n._pickedEvent=n.disposeVar(new c.Event),n._flyToEvent=n.disposeVar(new c.Event),n._sPositionsEditing=n.disposeVar(new f.PositionsEditing([n,"positions"],!1,[n,"editing"],n.components,2)),n._pointEditor=n.disposeVar(new f.PointEditing([n,"positions"],[n,"pointEditing"],n.components));var r,o=n,i=n.disposeVar(new p.GeoPolylines);return i.hasArrow=!0,i.arcType="RHUMB",(r=function(){i.show=o.show})(),n.dispose(o.showChanged.disposableOn(r)),(r=function(){i.width=o.width})(),n.dispose(o.widthChanged.disposableOn(r)),(r=function(){i.color=o.color})(),n.dispose(o.colorChanged.disposableOn(r)),(r=function(){i.positions=o.positions&&[o.positions.map((function(t){return a([],s(t),!1)}))]})(),n.dispose(o.startPositionChanged.disposableOn(r)),n.dispose(o.stopPositionChanged.disposableOn(r)),n.dispose(o.flyToEvent.disposableOn((function(t){return i.flyTo(t)}))),n.dispose(i.pickedEvent.disposableOn((function(t){o.pickedEvent.emit(new u.SceneObjectPickedInfo(o,t))}))),n.dispose((0,c.track)([i,"allowPicking"],[o,"allowPicking"])),n.dispose(n.components.disposableAdd(i)),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoAxis"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},Object.defineProperty(e.prototype,"startPosition",{get:function(){return this.positions&&this.positions[0]},set:function(t){var n;this.positions=[null!=t?t:e.defaults.positions[0],null!==(n=this.stopPosition)&&void 0!==n?n:e.defaults.positions[1]]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"startPositionChanged",{get:function(){return this.positionsChanged},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stopPosition",{get:function(){return this.positions&&this.positions[1]},set:function(t){var n;this.positions=[null!==(n=this.startPosition)&&void 0!==n?n:e.defaults.positions[0],null!=t?t:e.defaults.positions[1]]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stopPositionChanged",{get:function(){return this.positionsChanged},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sPositionsEditing",{get:function(){return this._sPositionsEditing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pointEditor",{get:function(){return this._pointEditor},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(n){var r=this;return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new u.GroupProperty("通用","通用",[new u.FunctionProperty("飞入","飞入",["number"],(function(t){return r.flyTo(t)}),[1e3]),new u.BooleanProperty("允许拾取","是否允许拾取",!1,!1,[this,"allowPicking"]),new u.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!1,!1,[this,"show"]),new u.BooleanProperty("是否编辑","是否编辑.",!1,!1,[this,"editing"]),new u.BooleanProperty("是否单点编辑","是否单点编辑.",!1,!1,[this,"pointEditing"]),new u.PositionsProperty("位置数组(仅2个)","位置数组(仅2个)",!0,!1,[this,"positions"],e.defaults.positions),new u.NumberProperty("线宽","线宽",!1,!1,[this,"width"]),new u.ColorProperty("颜色"," A Property specifying the color.",!1,!1,[this,"color"])])],!1)},n=e,e.type=n.register("GeoAxis",n,{chsName:"坐标轴",tags:["GeoObjects","_ES_Built_In"],description:"坐标轴，供其他元素内部使用，一般不单独使用！"}),e.defaults=i(i({},l.ESSceneObject.defaults),{positions:[[0,0,0],[0,0,1e6]]}),e}(l.ESSceneObject);e.GeoAxis=h,function(t){t.createDefaultProps=function(){return i(i({},l.ESSceneObject.createDefaultProps()),{show:!0,allowPicking:!1,editing:!1,pointEditing:!1,positions:(0,c.reactPositions)(void 0),width:10,color:(0,c.reactArray)([1,0,0,1])})}}(h=e.GeoAxis||(e.GeoAxis={})),e.GeoAxis=h,(0,c.extendClassProps)(h.prototype,h.createDefaultProps)},91817:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoBezierPath=void 0;var u=n(81425),c=n(15635),l=n(6018),p=n(1245),f=n(4842),h=n(3416),d=n(32509),y=function(t){function e(e){var n=t.call(this,e)||this;n._geoPolylinePath=n.disposeVar(new d.GeoPolylinePath),n._flyToEvent=n.disposeVar(new u.Event),n._pickedEvent=n.disposeVar(new u.Event),n._currentDistance=n.disposeVar((0,u.react)(0)),n._sPositionsEditing=n.disposeVar(new p.PositionsEditing([n,"positions"],[n,"loop"],[n,"editing"],n.components)),n._pointEditor=n.disposeVar(new p.PointEditing([n,"positions"],[n,"pointEditing"],n.components)),n.dispose(n.components.disposableAdd(n._geoPolylinePath)),n.dispose((0,u.bind)([n._geoPolylinePath,"show"],[n,"show"])),n.dispose((0,u.bind)([n._geoPolylinePath,"currentPoiShow"],[n,"currentPoiShow"])),n.dispose((0,u.bind)([n._geoPolylinePath,"polylineShow"],[n,"polylineShow"])),n.dispose((0,u.bind)([n._geoPolylinePath,"width"],[n,"width"])),n.dispose((0,u.bind)([n._geoPolylinePath,"ground"],[n,"ground"])),n.dispose((0,u.bind)([n._geoPolylinePath,"color"],[n,"color"])),n.dispose((0,u.bind)([n._geoPolylinePath,"hasDash"],[n,"hasDash"])),n.dispose((0,u.bind)([n._geoPolylinePath,"gapColor"],[n,"gapColor"])),n.dispose((0,u.bind)([n._geoPolylinePath,"dashLength"],[n,"dashLength"])),n.dispose((0,u.bind)([n._geoPolylinePath,"dashPattern"],[n,"dashPattern"])),n.dispose((0,u.bind)([n._geoPolylinePath,"hasArrow"],[n,"hasArrow"])),n.dispose((0,u.bind)([n._geoPolylinePath,"arcType"],[n,"arcType"])),n.dispose((0,u.bind)([n._geoPolylinePath,"currentDistance"],[n,"currentDistance"])),n.dispose((0,u.bind)([n._geoPolylinePath,"loop"],[n,"loop"])),n.dispose((0,u.bind)([n._geoPolylinePath,"currentTime"],[n,"currentTime"])),n.dispose((0,u.bind)([n._geoPolylinePath,"duration"],[n,"duration"])),n.dispose((0,u.bind)([n._geoPolylinePath,"playing"],[n,"playing"])),n.dispose((0,u.bind)([n._geoPolylinePath,"speed"],[n,"speed"])),n.dispose((0,u.bind)([n._geoPolylinePath,"depthTest"],[n,"depthTest"])),n.dispose((0,u.track)([n._geoPolylinePath,"leadTime"],[n,"leadTime"])),n.dispose((0,u.track)([n._geoPolylinePath,"trailTime"],[n,"trailTime"])),n.dispose((0,u.track)([n._geoPolylinePath,"allowPicking"],[n,"allowPicking"])),n.dispose(n._geoPolylinePath.pickedEvent.disposableOn((function(t){n.pickedEvent.emit(new l.SceneObjectPickedInfo(n,t))})));var r=n.disposeVar((0,u.createNextAnimateFrameEvent)(n.positionsChanged,n.resolutionChanged,n.sharpnessChanged)),o=function(){try{if(n.positions&&n.positions.length>=2){var t=(0,p.geoPolylineToBezierSpline)(n.positions,n.resolution,n.sharpness);n._geoPolylinePath.positions=t}else n._geoPolylinePath.positions=void 0}catch(t){console.error(t),n._geoPolylinePath.positions=void 0}};return o(),n.dispose(r.disposableOn(o)),n.dispose(n._flyToEvent.disposableOn((function(t){n._geoPolylinePath.flyTo(t)}))),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoBezierPath"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoJson",{get:function(){return(0,c.getGeoJson)("LineString",this.positions,this.name)},set:function(t){var e=(0,c.setGeoJson)(t);this.name=e.name,this.positions=e.position},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(t){return""}},set:function(t){if(t)try{this.geoJson=JSON.parse(t)}catch(t){}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoPolylinePath",{get:function(){return this._geoPolylinePath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoPath",{get:function(){return this._geoPolylinePath.geoPath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ratio",{get:function(){return this._geoPolylinePath.ratio},set:function(t){this._geoPolylinePath.ratio=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ratioChanged",{get:function(){return this._geoPolylinePath.ratioChanged},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"player",{get:function(){return this._geoPolylinePath.player},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentInfo",{get:function(){return this._geoPolylinePath.currentInfo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentInfoChanged",{get:function(){return this._geoPolylinePath.currentInfoChanged},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentIndex",{get:function(){return this._geoPolylinePath.currentIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentIndexChanged",{get:function(){return this._geoPolylinePath.currentIndexChanged},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentPosition",{get:function(){return this._geoPolylinePath.currentPosition},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentPositionChanged",{get:function(){return this._geoPolylinePath.currentPositionChanged},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentRotation",{get:function(){return this._geoPolylinePath.currentRotation},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentRotationChanged",{get:function(){return this._geoPolylinePath.currentRotationChanged},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"distances",{get:function(){return this._geoPolylinePath.distances},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"distancesChanged",{get:function(){return this._geoPolylinePath.distancesChanged},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalDistance",{get:function(){return this._geoPolylinePath.totalDistance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},Object.defineProperty(e.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentDistance",{get:function(){return this._currentDistance.value},set:function(t){this._currentDistance.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentDistanceChanged",{get:function(){return this._currentDistance.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sPositionsEditing",{get:function(){return this._sPositionsEditing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pointEditor",{get:function(){return this._pointEditor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timePosRots",{get:function(){return this.geoPath.timePosRots},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(e){var n=this;return a(a([],s(t.prototype.getProperties.call(this,e)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!1,!1,[this,"show"]),new l.BooleanProperty("是否显示当前","是否显示当前.",!1,!1,[this,"currentPoiShow"]),new l.PositionsProperty("位置数组","经度纬度高度，度为单位",!0,!1,[this,"positions"]),new l.BooleanProperty("是否编辑","是否编辑.",!1,!1,[this,"editing"]),new l.BooleanProperty("是否单点编辑","是否单点编辑.",!1,!1,[this,"pointEditing"]),new l.NumberProperty("当前距离","当前距离",!1,!1,[this,"currentDistance"]),new l.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return n.geoJsonStr}),(function(t){return t&&(n.geoJsonStr=t)})),new l.NumberProperty("分辨率","分辨率",!1,!1,[this,"resolution"]),new l.NumberProperty("锐化程度","锐化程度",!1,!1,[this,"sharpness"])]),new l.GroupProperty("GeoPath","GeoPath",[new l.JsonProperty("timePosRots","类型为[timeStamp: number, position: [longitude: number, latitude: number, height: number], rotation: [heading: number, pitch: number, roll: number] | undefined];",!1,!0,[this,"timePosRots"],[],h.GeoPath.timePosRotsMd),new l.NumberProperty("折线超前显示时长","折线超前显示时长",!1,!1,[this,"leadTime"]),new l.NumberProperty("折线滞后显示时长","折线滞后显示时长",!1,!1,[this,"trailTime"])]),new l.GroupProperty("播放器","播放器",[new l.PlayerProperty("播放器","播放器",[this,"playing"],[this._geoPolylinePath,"ratio"],[this,"loop"]),new l.BooleanProperty("是否循环","是否循环.",!1,!1,[this,"loop"],!1),new l.NumberProperty("当前时间","当前时间",!1,!1,[this,"currentTime"]),new l.NumberProperty("过渡时间","过渡时间",!1,!1,[this,"duration"]),new l.BooleanProperty("是否播放","是否播放.",!1,!1,[this,"playing"]),new l.NumberProperty("播放速度","播放速度.",!1,!1,[this,"speed"])]),new l.GroupProperty("折线","折线",[new l.BooleanProperty("是否可见","折线是否可见",!1,!1,[this,"polylineShow"]),new l.BooleanProperty("是否允许拾取","是否允许拾取",!1,!1,[this,"allowPicking"]),new l.NumberProperty("线宽","线宽",!1,!1,[this,"width"]),new l.BooleanProperty("是否贴地","是否贴地.",!1,!1,[this,"ground"]),new l.ColorProperty("颜色"," A Property specifying the color.",!1,!1,[this,"color"]),new l.BooleanProperty("是否为虚线","是否为虚线.",!1,!1,[this,"hasDash"]),new l.ColorProperty("间隔颜色","A Property specifying the color.",!1,!1,[this,"gapColor"]),new l.NumberProperty("虚线长度","虚线长度",!1,!1,[this,"dashLength"]),new l.DashPatternProperty("虚线图案","虚线图案",!1,!1,[this,"dashPattern"]),new l.BooleanProperty("是否带箭头","是否带箭头.",!1,!1,[this,"hasArrow"]),new l.BooleanProperty("是否开启深度检测","A boolean Property specifying the visibility.",!1,!1,[this,"depthTest"]),new l.EnumProperty("弧线类型","弧线类型",!1,!1,[this,"arcType"],[["直线","NONE"],["地理直线","GEODESIC"],["地理恒向线","RHUMB"]])])],!1)},n=e,e.type=n.register("GeoBezierPath",n,{chsName:"贝塞尔曲线路径",tags:["GeoObjects"],description:"贝塞尔曲线路径"}),e.defaults=i({},f.ESSceneObject.defaults),e}(f.ESSceneObject);e.GeoBezierPath=y,function(t){t.createDefaultProps=function(){return i({show:!0,allowPicking:!1,currentPoiShow:!0,polylineShow:!0,positions:(0,u.reactPositions)(void 0),width:1,ground:!1,color:(0,u.reactArray)([1,1,1,1]),hasDash:!1,gapColor:(0,u.reactArray)([0,0,0,0]),dashLength:16,dashPattern:255,hasArrow:!1,arcType:"GEODESIC",editing:!1,pointEditing:!1,loop:!1,currentTime:0,duration:3e3,speed:1,playing:!1,resolution:1e3,sharpness:.85,depthTest:!1,leadTime:3e3,trailTime:3e3},f.ESSceneObject.createDefaultProps())}}(y=e.GeoBezierPath||(e.GeoBezierPath={})),e.GeoBezierPath=y,(0,u.extendClassProps)(y.prototype,y.createDefaultProps)},72557:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoBezierSpline=void 0;var u=n(81425),c=n(6018),l=n(1245),p=n(4842),f=n(39743),h=function(t){function e(e){var n=t.call(this,e)||this;n._flyToEvent=n.disposeVar(new u.Event),n._polylinePositions=n.disposeVar((0,u.reactPositions)(void 0)),n._geoPolyline=n.disposeVar(new f.GeoPolyline),n._pickedEvent=n.disposeVar(new u.Event),n._sPositionsEditing=n.disposeVar(new l.PositionsEditing([n,"positions"],[n,"loop"],[n,"editing"],n.components)),n._sPointEditing=n.disposeVar(new l.PointEditing([n,"positions"],[n,"pointEditing"],n.components)),n._positionsCenter=n.disposeVar(new l.PositionsCenter([n,"positions"])),n.dispose(n.components.disposableAdd(n._geoPolyline));var r=n.disposeVar((0,u.createNextAnimateFrameEvent)(n.positionsChanged,n.resolutionChanged,n.sharpnessChanged)),o=function(){try{if(n.positions&&n.positions.length>=2){var t=(0,l.geoPolylineToBezierSpline)(n.positions,n.resolution,n.sharpness);n._polylinePositions.value=t}else n._polylinePositions.value=void 0}catch(t){console.error(t),n._polylinePositions.value=void 0}};o(),n.dispose(r.disposableOn(o));var i=n._geoPolyline;n.dispose((0,u.track)([i,"show"],[n,"show"])),n.dispose((0,u.track)([i,"loop"],[n,"loop"])),n.dispose((0,u.track)([i,"width"],[n,"width"])),n.dispose((0,u.track)([i,"ground"],[n,"ground"])),n.dispose((0,u.track)([i,"color"],[n,"color"])),n.dispose((0,u.track)([i,"hasDash"],[n,"hasDash"])),n.dispose((0,u.track)([i,"gapColor"],[n,"gapColor"])),n.dispose((0,u.track)([i,"dashLength"],[n,"dashLength"])),n.dispose((0,u.track)([i,"dashPattern"],[n,"dashPattern"])),n.dispose((0,u.track)([i,"hasArrow"],[n,"hasArrow"])),n.dispose((0,u.track)([i,"arcType"],[n,"arcType"]));var s=function(){return i.positions=n._polylinePositions.value};return s(),n.dispose(n._polylinePositions.changed.disposableOn(s)),n.dispose((0,u.track)([n._geoPolyline,"allowPicking"],[n,"allowPicking"])),n.dispose(n._geoPolyline.pickedEvent.disposableOn((function(t){n.pickedEvent.emit(new c.SceneObjectPickedInfo(n,t))}))),n.dispose(n.flyToEvent.disposableOn((function(t){i.flyTo(t)}))),n.dispose((0,u.track)([n.geoPolyline,"viewDistanceRange"],[n,"viewDistanceRange"])),n.dispose((0,u.track)([n.geoPolyline,"viewDistanceDebug"],[n,"viewDistanceDebug"])),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoBezierSpline"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},Object.defineProperty(e.prototype,"polylinePositions",{get:function(){return this._polylinePositions.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polylinePositionsChanged",{get:function(){return this._polylinePositions.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoPolyline",{get:function(){return this._geoPolyline},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sPositionsEditing",{get:function(){return this._sPositionsEditing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sPointEditing",{get:function(){return this._sPointEditing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"positionsCenter",{get:function(){return this._positionsCenter},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(n){var r=this;return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new c.GroupProperty("通用","通用",[new c.FunctionProperty("飞入","飞入",["number"],(function(t){return r.flyTo(t)}),[1e3]),new c.BooleanProperty("是否显示","是否显示",!1,!1,[this,"show"]),new c.Number4Property("可视范围控制","可视范围控制[near0, near1, far1, far0]",!0,!1,[this,"viewDistanceRange"],e.defaults.viewDistanceRange),new c.BooleanProperty("可视距离调试","可视距离调试",!1,!1,[this,"viewDistanceDebug"]),new c.BooleanProperty("是否拾取","是否拾取。",!1,!1,[this,"allowPicking"]),new c.PositionsProperty("位置数组","经度纬度高度，度为单位",!0,!1,[this,"positions"]),new c.BooleanProperty("首尾相连","首尾相连",!1,!1,[this,"loop"]),new c.NumberProperty("线宽","线宽",!1,!1,[this,"width"]),new c.BooleanProperty("是否贴地","是否贴地",!1,!1,[this,"ground"]),new c.ColorProperty("颜色","颜色",!1,!1,[this,"color"]),new c.BooleanProperty("是否为虚线","是否为虚线.",!1,!1,[this,"hasDash"]),new c.ColorProperty("间隔颜色","间隔颜色",!1,!1,[this,"gapColor"]),new c.NumberProperty("虚线长度","虚线长度",!1,!1,[this,"dashLength"]),new c.DashPatternProperty("虚线图案","虚线图案",!1,!1,[this,"dashPattern"]),new c.BooleanProperty("是否带箭头","是否带箭头.",!1,!1,[this,"hasArrow"]),new c.BooleanProperty("是否编辑","是否编辑.",!1,!1,[this,"editing"]),new c.BooleanProperty("是否单点编辑","是否单点编辑.",!1,!1,[this,"pointEditing"]),new c.EnumProperty("弧线类型","弧线类型",!1,!1,[this,"arcType"],[["直线","NONE"],["地理直线","GEODESIC"],["地理恒向线","RHUMB"]]),new c.NumberProperty("分辨率","分辨率",!1,!1,[this,"resolution"]),new c.NumberProperty("锐化程度","锐化程度",!1,!1,[this,"sharpness"])]),new c.GroupProperty("调试","调试",[new c.PositionsProperty("折线位置数组","经度纬度高度，度为单位",!0,!1,[this.geoPolyline,"positions"]),new c.JsonProperty("折线位置数组(JSON形式)","经度纬度高度，度为单位",!0,!1,[this.geoPolyline,"positions"])])],!1)},n=e,e.type=n.register("GeoBezierSpline",n,{chsName:"贝塞尔曲线",tags:["GeoObjects"],description:"使用GeoPolyline绘制的贝塞尔曲线。"}),e.defaults=i(i({},p.ESSceneObject.defaults),{viewDistanceRange:[1e3,1e4,3e4,6e4]}),e}(p.ESSceneObject);e.GeoBezierSpline=h,function(t){t.createDefaultProps=function(){return i({show:!0,allowPicking:!1,positions:(0,u.reactPositions)(void 0),loop:!1,width:1,ground:!1,color:(0,u.reactArray)([1,1,1,1]),hasDash:!1,gapColor:(0,u.reactArray)([0,0,0,0]),dashLength:16,dashPattern:255,hasArrow:!1,arcType:"GEODESIC",editing:!1,pointEditing:!1,resolution:1e3,sharpness:.85,viewDistanceRange:(0,u.reactArrayWithUndefined)(void 0),viewDistanceDebug:!1},p.ESSceneObject.createDefaultProps())}}(h=e.GeoBezierSpline||(e.GeoBezierSpline={})),e.GeoBezierSpline=h,(0,u.extendClassProps)(h.prototype,h.createDefaultProps)},88393:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoCameraController=void 0;var u=n(81425),c=n(6018),l=n(1245),p=n(4842),f=n(29132),h=function(t){function e(e){var n=t.call(this,e)||this;n._resetWithCameraEvent=n.disposeVar(new u.Event),n._sPositionEditing=n.disposeVar(new l.PositionEditing([n,"position"],[n,"positionEditing"],n.components));var r=n.disposeVar(new f.GeoPoint);return n.dispose(n.components.disposableAdd(r)),r.show=!1,r.pixelSize=5,r.color=[1,1,0,1],r.outlineColor=[0,0,0,.6],r.outlineWidth=1,r.disableDepthTestDistance=Number.POSITIVE_INFINITY,n.dispose((0,u.track)([r,"position"],[n,"position"])),n.dispose(n.showTargetChanged.disposableOn((function(){return r.show=n.showTarget}))),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoCameraController"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resetWithCameraEvent",{get:function(){return this._resetWithCameraEvent},enumerable:!1,configurable:!0}),e.prototype.resetWithCamera=function(t){this._resetWithCameraEvent.emit(t)},Object.defineProperty(e.prototype,"sPositionEditing",{get:function(){return this._sPositionEditing},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(n){var r=this;return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new c.GroupProperty("通用","通用",[new c.BooleanProperty("是否可用","是否可用",!1,!1,[this,"enabled"]),new c.BooleanProperty("目标显示","目标显示",!1,!1,[this,"showTarget"]),new c.PositionProperty("位置","位置(经度/纬度/高度)，度为单位",!0,!1,[this,"position"],e.defaults.position),new c.RotationProperty("姿态","姿态(偏航/俯仰/翻转)，度为单位",!0,!1,[this,"rotation"],e.defaults.rotation),new c.BooleanProperty("是否位置编辑","是否位置编辑",!1,!1,[this,"positionEditing"]),new c.BooleanProperty("是否姿态编辑","是否姿态编辑，暂不可用",!1,!1,[this,"rotationEditing"]),new c.NumberProperty("视距","视距",!1,!1,[this,"viewDistance"]),new c.NumberProperty("高度偏移","高度偏移",!1,!1,[this,"offsetHeight"]),new c.RotationProperty("姿态偏移","姿态偏移(偏航/俯仰/翻转)，度为单位",!1,!1,[this,"offsetRotation"]),new c.FunctionProperty("重置姿态","重置姿态为当前相机姿态",[],(function(){return r.resetWithCamera()}),[]),new c.BooleanProperty("姿态交互","姿态交互",!1,!1,[this,"enabledRotationInput"]),new c.BooleanProperty("缩放交互","缩放交互",!1,!1,[this,"enabledScaleInput"])])],!1)},n=e,e.type=n.register("GeoCameraController",n,{chsName:"相机控制器",tags:["GeoObjects","_ES_Impl_Any"],description:"相机控制器"}),e.defaults=i(i({},p.ESSceneObject.defaults),{position:[116.39,39.9,0],rotation:[0,0,0],offsetRotation:[0,-60,0]}),e}(p.ESSceneObject);e.GeoCameraController=h,function(t){t.createDefaultProps=function(){return i({enabled:!1,showTarget:!1,position:(0,u.reactArrayWithUndefined)(void 0),rotation:(0,u.reactArrayWithUndefined)(void 0),positionEditing:!1,rotationEditing:!1,viewDistance:1e3,offsetHeight:0,offsetRotation:(0,u.reactArray)([0,-60,0]),enabledRotationInput:!0,enabledScaleInput:!0},p.ESSceneObject.createDefaultProps())}}(h=e.GeoCameraController||(e.GeoCameraController={})),e.GeoCameraController=h,(0,u.extendClassProps)(h.prototype,h.createDefaultProps)},69699:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasImagePoi=void 0;var s=n(81425),a=n(72256),u=n(69150),c=function(t){function e(e,n,r,o,i){void 0===r&&(r=[32,32]),void 0===o&&(o=[.5,1,0,0]),void 0===i&&(i="#F00F");var c=t.call(this,e)||this;c._image=n,c._size=r,c._originRatioAndOffset=o,c._defaultColorStr=i,c._tooltip="",c._title="",c.__scale=[1,1],c._tooltipAlpha=0,c._bgColor=[.3,.3,.3,.8],c._bgColorHexStr=(0,u.getColorHexStr)(c._bgColor),c._fgColor=[1,1,1,1],c._fgColorHexStr=(0,u.getColorHexStr)(c._fgColor),c._tooltipShow=c.disposeVar((0,s.react)(!0));var l=new a.Transition(100),p=new a.Transition(100);c.dispose((function(){l.destroy(),p.destroy()}));var f=function(){if(c._clickEvent&&!c._clickEvent.empty){var t=(1+.08*p.current)*(1+.08*l.current);c._scale=[t,t],c._tooltipAlpha=l.current}};c.dispose(c.activedChanged.disposableOn((function(t){p.target=t?1:0,c.needRedraw()})));var h=function(){var t=c.tooltipShow&&c.hovered;l.target=t?1:0,c.needRedraw()};return c.dispose(c.hoveredChanged.disposableOn(h)),c.dispose(c.tooltipShowChanged.disposableOn(h)),c.dispose(c.selectedChanged.disposableOn((function(){c.needRedraw()}))),c.dispose(p.currentChanged.disposableOn(f)),c.dispose(l.currentChanged.disposableOn(f)),c}return o(e,t),Object.defineProperty(e.prototype,"tooltipShow",{get:function(){return this._tooltipShow.value},set:function(t){this._tooltipShow.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tooltipShowChanged",{get:function(){return this._tooltipShow.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},set:function(t){var e=i(t,2),n=e[0],r=e[1],o=i(this._size,2),s=o[0],a=o[1];s===n&&a===r||(this._size[0]=n,this._size[1]=r,this.needRedraw(),this.needPickRedraw())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_scale",{get:function(){return this.__scale},set:function(t){var e=i(t,2),n=e[0],r=e[1],o=i(this.__scale,2),s=o[0],a=o[1];s===n&&a===r||(this.__scale[0]=n,this.__scale[1]=r,this.needRedraw(),this.needPickRedraw())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fgColor",{get:function(){return this._fgColor},set:function(t){if(!this._fgColor.every((function(e,n){return t[n]===e}))){var e=i(t,4),n=e[0],r=e[1],o=e[2],s=e[3];this._fgColor.splice(0,4,n,r,o,s),this._fgColorHexStr=(0,u.getColorHexStr)(this._fgColor),this.needRedraw()}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bgColor",{get:function(){return this._bgColor},set:function(t){if(!this._bgColor.every((function(e,n){return t[n]===e}))){var e=i(t,4),n=e[0],r=e[1],o=e[2],s=e[3];this._bgColor.splice(0,4,n,r,o,s),this._bgColorHexStr=(0,u.getColorHexStr)(this._bgColor),this.needRedraw()}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"originRatioAndOffset",{get:function(){return this._originRatioAndOffset},set:function(t){var e=i(this._originRatioAndOffset,4),n=e[0],r=e[1],o=e[2],s=e[3],a=i(t,4),u=a[0],c=a[1],l=a[2],p=a[3];n===u&&r===c&&o===l&&s===p||(this._originRatioAndOffset.splice(0,4,u,c,l,p),this.needRedraw(),this.needPickRedraw())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"image",{get:function(){return this._image},set:function(t){this._image!==t&&(this._image=t,this.needRedraw())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultColorStr",{get:function(){return this._defaultColorStr},set:function(t){this._defaultColorStr!==t&&(this._defaultColorStr=t,this.needRedraw())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tooltip",{get:function(){return this._tooltip},set:function(t){this._tooltip!==t&&(this._tooltip=t,this.needRedraw())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(t){this._title!==t&&(this._title=t,this.needRedraw())},enumerable:!1,configurable:!0}),e.prototype.draw=function(t){if(this._show){var e=i(this._winPos,2),n=e[0],r=e[1],o=this._size[0]*this.__scale[0],a=this._size[1]*this.__scale[1],c=(0,u.getDrawRect)([n,r],this._size,this.__scale,this._originRatioAndOffset),l=c.left,p=c.top,f=c.right,h=(c.bottom,t.globalAlpha);if(t.globalAlpha=this.opacity,this._image){if(this.selected){var d=function(t,e){var n=i(e,3),r=n[0],o=n[1],a=n[2],c="".concat(r,"-").concat(o,"-").concat(a),l=(0,s.getExtProp)(t,c);return l||(l=(0,u.imageToCanvas)(t),(0,u.setCanvasUniformColor)(l,e),(0,s.setExtProp)(t,c,l)),l}(this._image,[1,0,0]),y=(0,u.getDrawRect)([n,r],[o+6,a+6],[1,1],this._originRatioAndOffset),g=y.left,v=y.top;t.drawImage(d,g,v,o+6,a+6)}t.drawImage(this._image,l,p,o,a)}else t.fillStyle=this._fgColorHexStr,t.fillRect(l,p,o,a);if(""!==this._title&&(0,u.drawTextBlock)(t,n+20,r-16,[0,.5,0,0],this._title,"14px Arial",4,this._fgColorHexStr,this._bgColorHexStr),t.globalAlpha=h,this._hovered&&""!==this._tooltip){var b=t.globalAlpha;t.globalAlpha=this._tooltipAlpha,(0,u.drawTextBlock)(t,.5*(l+f),p-5,[.5,1,0,0],this._tooltip,"12px Arial",4,this._fgColorHexStr,this._bgColorHexStr),t.globalAlpha=b}}},e.prototype.drawForPick=function(t,e){if(this._show){var n=i(this._winPos,2),r=n[0],o=n[1],s=e("default"),a=this._size[0]*this.__scale[0],c=this._size[1]*this.__scale[1],l=(0,u.getDrawRect)([r,o],this._size,this.__scale,this._originRatioAndOffset),p=l.left,f=l.top;t.fillStyle=s,t.fillRect(p,f,a,c)}},e}(a.CanvasPoi);e.CanvasImagePoi=c},69150:function(t,e){"use strict";var n=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};function r(t,e,r,o){var i=n(t,2),s=i[0],a=i[1],u=n(o,4),c=u[0],l=u[1],p=u[2],f=u[3],h=e[0]*r[0],d=e[1]*r[1],y=s-(h*c+p),g=a-(d*l+f);return{left:y,top:g,right:y+h,bottom:g+d}}function o(t,e,n,r,o,i){t.beginPath(),t.moveTo(e+i,n),t.lineTo(e+r-i,n),t.arcTo(e+r,n,e+r,n+i,i),t.lineTo(e+r,n+o-i),t.arcTo(e+r,n+o,e+r-i,n+o,i),t.lineTo(e+i,n+o),t.arcTo(e,n+o,e,n+o-i,i),t.lineTo(e,n+i),t.arcTo(e,n,e+i,n,i)}function i(t){return("00"+t.toString(16).toUpperCase()).substr(-2)}Object.defineProperty(e,"__esModule",{value:!0}),e.getColorHexStr=e.uint8ToHexStr=e.drawTextBlock=e.setCanvasUniformColor=e.imageToCanvas=e.drawText=e.drawRoundRectPath=e.drawPoint=e.getDrawRect=void 0,e.getDrawRect=r,e.drawPoint=function(t,e,n,r,o){t.beginPath(),t.moveTo(e,n),t.lineTo(e-.5*r,n-.5*r),t.arc(e,n-r,.7071067811865475*r,.75*Math.PI,.25*Math.PI),t.lineTo(e,n),t.fillStyle=o,t.fill()},e.drawRoundRectPath=o,e.drawText=function(t,e,n,r,o,i){t.font=o;var s=t.measureText(r),a=s.actualBoundingBoxLeft+s.actualBoundingBoxRight,u=Number.isFinite(s.fontBoundingBoxAscent)?s.fontBoundingBoxAscent:s.actualBoundingBoxAscent,c=Number.isFinite(s.fontBoundingBoxDescent)?s.fontBoundingBoxDescent:s.actualBoundingBoxDescent,l=u+c;t.fillStyle=i,t.fillText(r,e-.5*a,n+.5*l-c)},e.imageToCanvas=function(t){var e=t.width,n=t.height,r=e instanceof SVGAnimatedLength?e.baseVal.SVG_LENGTHTYPE_PX:e,o=n instanceof SVGAnimatedLength?n.baseVal.SVG_LENGTHTYPE_PX:n,i=document.createElement("canvas");i.width=r,i.height=o;var s=i.getContext("2d");if(!s)throw new Error("!cavnasCtx");return s.drawImage(t,0,0,r,o),i},e.setCanvasUniformColor=function(t,e){var r=t.width,o=t.height,i=t.getContext("2d");if(!i)throw new Error("!cavnasCtx");for(var s=n(e.map((function(t){return 255*t|0})),3),a=s[0],u=s[1],c=s[2],l=i.getImageData(0,0,r,o),p=l.data,f=0;f<p.length;f+=4)p[f]=a,p[f+1]=u,p[f+2]=c;i.putImageData(l,0,0)},e.drawTextBlock=function(t,e,n,i,s,a,u,c,l){void 0===i&&(i=[.5,1,0,0]),void 0===a&&(a="12px Arial"),void 0===u&&(u=2),void 0===c&&(c="#FFF"),void 0===l&&(l="#000A"),t.font=a;var p=t.measureText(s),f=p.actualBoundingBoxLeft+p.actualBoundingBoxRight+2*u,h=p.fontBoundingBoxAscent+p.fontBoundingBoxDescent+2*u,d=r([e,n],[f,h],[1,1],i),y=d.left,g=d.top,v=d.bottom;t.fillStyle=l,o(t,y,g,f,h,u),t.fill(),t.fillStyle=c,t.fillText(s,y+u,v-u-p.fontBoundingBoxDescent)},e.uint8ToHexStr=i,e.getColorHexStr=function(t){var e=n(t.map((function(t){return 255*t|0})),4),r=e[0],o=e[1],s=e[2],a=e[3];return"#".concat(i(r)).concat(i(o)).concat(i(s)).concat(i(a))}},40038:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoCanvasImagePoiImpl=void 0;var a=n(4842),u=n(81425),c=n(72256),l=function(t){function e(e,n){var r=t.call(this)||this,o=r.disposeVar((0,c.createNextAnimateFrameEvent)(e.showChanged,e.positionChanged,e.fgColorChanged,e.bgColorChanged,e.tooltipChanged,e.tooltipShowChanged,e.titleChanged,e.sizeChanged,e.originRatioAndOffsetChanged,e.hoveredChanged,e.opacityChanged)),l=function(){var t,r,o,i,s,a,u,c,l;n.fgColor=null!==(t=e.fgColor)&&void 0!==t?t:[1,1,1,1],n.bgColor=null!==(r=e.bgColor)&&void 0!==r?r:[.3,.3,.3,.8],n.tooltip=null!==(o=e.tooltip)&&void 0!==o?o:"",n.tooltipShow=null===(i=e.tooltipShow)||void 0===i||i,n.title=null!==(s=e.title)&&void 0!==s?s:"",n.size=null!==(a=e.size)&&void 0!==a?a:[32,32],n.originRatioAndOffset=null!==(u=e.originRatioAndOffset)&&void 0!==u?u:[.5,1,0,0],n.hovered=null!==(c=e.hovered)&&void 0!==c&&c,n.opacity=null!==(l=e.opacity)&&void 0!==l?l:1};l(),r.dispose(o.disposableOn(l));var p=r.disposeVar(a.SceneObject.context.createEvnStrReact([e,"imageUri"],"${scene-manager-script-dir}/xe2-assets/scene-manager/images/location.png")),f=r.disposeVar((0,c.createProcessingFromAsyncFunc)((function(t,e){return i(r,void 0,void 0,(function(){var r;return s(this,(function(o){switch(o.label){case 0:return[4,t.promise((0,u.fetchImage)(e))];case 1:return r=o.sent(),n.image=r,[2]}}))}))}))),h=function(){if(p.value){var t=p.value.trim();""!==t&&f.restart(void 0,t)}};h(),r.dispose(p.changed.disposableOn(h));var d=r.disposeVar(new u.Event);return r.dispose(n.clickEvent.disposableOn((function(t,n,r,o,i){var s;(null===(s=e.enabled)||void 0===s||s)&&d.emit(i)}))),r.dispose(c.DomElementEvent.on(d,(function(t){e.clickEvent.emit(t)}))),r.dispose(n.clickOutEvent.disposableOn((function(t,n,r,o,i){var s;(null===(s=e.enabled)||void 0===s||s)&&e.clickOutEvent.emit(i)}))),r.dispose(n.dbclickEvent.disposableOn((function(t,n,r,o,i){var s;(null===(s=e.enabled)||void 0===s||s)&&e.dbclickEvent.emit(i)}))),r.dispose(n.dbclickOutEvent.disposableOn((function(t,n,r,o,i){var s;(null===(s=e.enabled)||void 0===s||s)&&e.dbclickOutEvent.emit(i)}))),r.dispose((0,u.bind)([e,"hovered"],[n,"hovered"])),r}return o(e,t),e}(u.Destroyable);e.GeoCanvasImagePoiImpl=l},34315:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoCanvasImagePoi=void 0;var u=n(81425),c=n(6018),l=n(4842),p=n(26705),f=n(40038),h=n(69699),d=function(t){function e(e){var n=t.call(this,e)||this;n._pickedEvent=n.disposeVar(new u.Event),n._flyToEvent=n.disposeVar(new u.Event),n._clickEvent=n.disposeVar(new u.Event),n._clickOutEvent=n.disposeVar(new u.Event),n._dbclickEvent=n.disposeVar(new u.Event),n._dbclickOutEvent=n.disposeVar(new u.Event),n._geoCanvasPoi=n.disposeVar(new p.GeoCanvasPoi);var r=n.geoCanvasPoi;return r.canvasPoiClassAndCreateFunc=[h.CanvasImagePoi,function(t){return new f.GeoCanvasImagePoiImpl(n,t)}],n.dispose(n.components.disposableAdd(r)),n.dispose((0,u.bind)([r,"show"],[n,"show"])),n.dispose((0,u.bind)([r,"enabled"],[n,"enabled"])),n.dispose((0,u.bind)([r,"position"],[n,"position"])),n.dispose((0,u.bind)([r,"positionEditing"],[n,"positionEditing"])),n.dispose((0,u.track)([r,"viewDistanceRange"],[n,"viewDistanceRange"])),n.dispose((0,u.track)([r,"viewDistanceDebug"],[n,"viewDistanceDebug"])),n.dispose(n.flyToEvent.disposableOn((function(t){r.flyTo(t)}))),n.dispose(n.flyToEvent.disposableOn((function(t){r.flyTo(t)}))),n.dispose(n._clickEvent.disposableOn((function(t){n.pickOnClick&&n.pickedEvent.emit(new c.SceneObjectPickedInfo(n,new c.AttachedPickedInfo({type:"viewerPicking",pointerEvent:t})))}))),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoCanvasImagePoi"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},Object.defineProperty(e.prototype,"clickEvent",{get:function(){return this._clickEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clickOutEvent",{get:function(){return this._clickOutEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dbclickEvent",{get:function(){return this._dbclickEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dbclickOutEvent",{get:function(){return this._dbclickOutEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoCanvasPoi",{get:function(){return this._geoCanvasPoi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sPositionEditing",{get:function(){return this._geoCanvasPoi.sPositionEditing},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(n){var r=this;return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new c.GroupProperty("通用","通用",[new c.FunctionProperty("飞入","飞入",["number"],(function(t){return r.flyTo(t)}),[1e3]),new c.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!1,!1,[this,"show"],!0),new c.BooleanProperty("是否可用","A boolean Property specifying the visibility.",!1,!1,[this,"enabled"],!0),new c.Number4Property("可视范围控制","可视范围控制[near0, near1, far1, far0]",!0,!1,[this,"viewDistanceRange"],e.defaults.viewDistanceRange),new c.BooleanProperty("可视距离调试","可视距离调试",!1,!1,[this,"viewDistanceDebug"]),new c.BooleanProperty("pickOnClick","pickOnClick.",!1,!1,[this,"pickOnClick"]),new c.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"]),new c.BooleanProperty("位置编辑","位置编辑",!1,!1,[this,"positionEditing"]),new c.ColorProperty("前景颜色","A Property specifying the color.",!1,!1,[this,"fgColor"]),new c.ColorProperty("背景颜色","A Property specifying the color.",!1,!1,[this,"bgColor"]),new c.StringProperty("提示","提示",!1,!1,[this,"tooltip"]),new c.BooleanProperty("是否提示","A boolean Property specifying the visibility.",!1,!1,[this,"tooltipShow"]),new c.StringProperty("标题","标题",!1,!1,[this,"title"]),new c.Number2Property("尺寸","尺寸",!1,!1,[this,"size"]),new c.Number4Property("原点比例和偏移","原点比例和偏移",!1,!1,[this,"originRatioAndOffset"]),new c.BooleanProperty("光标悬停","光标悬停.",!1,!1,[this,"hovered"]),new c.UriProperty("图片路径","图片路径",!1,!1,[this,"imageUri"]),new c.NumberProperty("透明度","透明度",!1,!1,[this,"opacity"])])],!1)},n=e,e.type=n.register("GeoCanvasImagePoi",n,{chsName:"GeoCanvasImagePoi",tags:["GeoObjects"],description:"GeoCanvasImagePoi"}),e.defaults=i(i({},l.ESSceneObject.defaults),{viewDistanceRange:[1e3,1e4,3e4,6e4]}),e}(l.ESSceneObject);e.GeoCanvasImagePoi=d,function(t){t.createDefaultProps=function(){return i(i({},l.ESSceneObject.createDefaultProps()),{show:!0,enabled:!0,position:(0,u.reactArrayWithUndefined)(void 0),positionEditing:!1,fgColor:(0,u.reactArray)([1,1,1,1]),bgColor:(0,u.reactArray)([0,0,0,0]),tooltip:"",tooltipShow:!0,title:"",size:(0,u.reactArray)([32,32]),originRatioAndOffset:(0,u.reactArray)([.5,1,0,0]),hovered:!1,imageUri:"${scene-manager-script-dir}/xe2-assets/scene-manager/images/location.png",opacity:1,viewDistanceRange:(0,u.reactArrayWithUndefined)(void 0),viewDistanceDebug:!1,pickOnClick:!1})}}(d=e.GeoCanvasImagePoi||(e.GeoCanvasImagePoi={})),e.GeoCanvasImagePoi=d,(0,u.extendClassProps)(d.prototype,d.createDefaultProps)},97731:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoCanvasMenuPoi=void 0;var u=n(6018),c=n(81425),l=n(72256),p=n(15635),f=n(4842),h=n(34315),d=function(t){function e(e){var n=t.call(this,e)||this;n._flyToEvent=n.disposeVar(new c.Event),n._commandEvent=n.disposeVar(new c.Event),n._dbclickEvent=n.disposeVar(new c.Event);var r=n,o=Number.POSITIVE_INFINITY;n.dispose(n.enabledChanged.disposableOn((function(t){o=null!=t&&t?Date.now():Number.POSITIVE_INFINITY})));var i=n.disposeVar(new l.Transition(100));i.reset(0);var a,u=n.disposeVar((0,l.createTimeoutWithStartValues)((function(){return i.target=0}),1e3)),p=n.disposeVar((0,l.createTimeoutWithStartValues)((function(){return i.target=1}),1e3)),f=n.disposeVar(new h.GeoCanvasImagePoi);n.dispose(n.components.disposableAdd(f)),f.originRatioAndOffset=[.5,.5,0,0],n.dispose((0,c.track)([f,"tooltip"],[r,"title"])),(a=function(){var t;f.size=null!==(t=n.mainPoiSize)&&void 0!==t?t:[12,12]})(),n.dispose(n.mainPoiSizeChanged.disposableOn(a)),(a=function(){var t;f.fgColor=null!==(t=n.mainPoiFgColor)&&void 0!==t?t:[1,1,1,1]})(),n.dispose(n.mainPoiFgColorChanged.disposableOn(a)),(a=function(){var t;f.bgColor=null!==(t=n.mainPoiBgColor)&&void 0!==t?t:[0,0,0,.6]})(),n.dispose(n.mainPoiBgColorChanged.disposableOn(a));var d=n.disposeVar((0,c.createNextAnimateFrameEvent)(r.showChanged,r.positionChanged,r.nameChanged,r.descriptionChanged,r.titleChanged,r.imageUriChanged)),y=function(){var t,e;f.show=null===(t=r.show)||void 0===t||t,f.imageUri=null!==(e=r.imageUri)&&void 0!==e?e:"${scene-manager-script-dir}/xe2-assets/scene-manager/images/point-yellow.png",f.position=r.position};y(),n.dispose(d.disposableOn(y)),n.dispose((0,c.bind)([f,"position"],[n,"position"])),n.dispose((0,c.bind)([f,"positionEditing"],[n,"positionEditing"])),n.dispose(n._flyToEvent.disposableOn((function(t){return f.flyTo(t)})));var g=[],v=function(){g.forEach((function(t){t.destroy()})),g.length=0};n.dispose(v);var b=function(){v();var t=r.commands;if(t)for(var e=t.length,o=-50*e*Math.PI/180*.5,a=function(e){var a=s(t[e],4),l=a[0],p=a[1],f=(a[2],a[3]),d=o+50*(e+.5)*Math.PI/180,y=0*Math.sin(d),v=0*Math.cos(d),b=new h.GeoCanvasImagePoi;b.imageUri=f,b.tooltip=p,b.bgColor=[0,0,0,.6],b.fgColor=[1,1,1,1],b.size=[24,24],b.dispose((0,c.track)([b,"position"],[r,"position"])),b.originRatioAndOffset=[.5,.5,-y,v],b.show=!1,b.opacity=0,b.dispose(b.opacityChanged.disposableOn((function(t){return b.show=(null!=t?t:1)>0}))),b.dispose(b.clickEvent.disposableOn((function(t){return r.commandEvent.emit(l,t)}))),b.dispose(b.hoveredChanged.disposableOn((function(t){return t?u.cancel():u.restart()}))),b.dispose(i.currentChanged.disposableOn((function(t){return b.enabled=1===t}))),b.dispose(n.components.disposableAdd(b)),g.push(b)},l=0;l<e;++l)a(l)};return b(),n.dispose(r.commandsChanged.disposableOn(b)),n.dispose(f.hoveredChanged.disposableOn((function(t){return t?u.cancel():u.restart()}))),n.dispose(f.hoveredChanged.disposableOn((function(t){return t?r.enabled&&p.restart():p.cancel()}))),n.dispose(i.currentChanged.disposableOn((function(t){for(var e=g.length,n=35*t,r=-50*e*Math.PI/180*.5,o=0;o<e;++o){var i=r+50*(o+.5)*Math.PI/180,s=Math.sin(i)*n,a=Math.cos(i)*n;g[o].originRatioAndOffset=[.5,.5,-s,a],g[o].opacity=t}}))),n.dispose(f.clickEvent.disposableOn((function(t){if(r.enabled){var e=t.__xbsj_listenerTime__;if(!(void 0!==e&&o>e))if(0===t.button)if(r.clickCommandName)r.commandEvent.emit(r.clickCommandName,t);else{if(i.current>0&&i.current<1)return;i.target=1===i.target?0:1}else 2===t.button&&r.rightClickCommandName&&r.commandEvent.emit(r.rightClickCommandName,t)}}))),n.dispose(f.clickOutEvent.disposableOn((function(){r.enabled&&(i.target=0)}))),n.dispose(r.commandEvent.disposableOn((function(){return i.target=0}))),n.dispose(f.dbclickEvent.disposableOn((function(t){if(r.enabled){var e=t.__xbsj_listenerTime__;void 0!==e&&o>e||(r.dbclickEvent.emit(t),p.isRunning&&u.cancel(),i.target=0)}}))),n.dispose(i.targetChanged.disposableOn((function(t){return 1===t?u.restart():u.cancel()}))),n.dispose(i.targetChanged.disposableOn((function(t){return 1===t&&p.cancel()}))),n.dispose(i.targetChanged.disposableOn((function(t){return f.tooltipShow=0===t}))),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoCanvasMenuPoi"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoJson",{get:function(){return(0,p.getGeoJson)("Point",this.position,this.name)},set:function(t){var e=(0,p.setGeoJson)(t);this.name=e.name,this.position=e.position},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(t){return""}},set:function(t){if(t)try{this.geoJson=JSON.parse(t)}catch(t){}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},Object.defineProperty(e.prototype,"commandEvent",{get:function(){return this._commandEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dbclickEvent",{get:function(){return this._dbclickEvent},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(e){var n=this;return a(a([],s(t.prototype.getProperties.call(this,e)),!1),[new u.GroupProperty("通用","通用",[new u.FunctionProperty("飞入","飞入",["number"],(function(t){return n.flyTo(t)}),[1e3]),new u.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!1,!1,[this,"show"]),new u.BooleanProperty("是否可用","A boolean Property specifying the visibility.",!1,!1,[this,"enabled"]),new u.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"],[0,0,0]),new u.BooleanProperty("位置编辑","位置编辑",!1,!1,[this,"positionEditing"]),new u.UriProperty("主菜单图片路径","主菜单图片路径",!1,!1,[this,"imageUri"]),new u.StringProperty("主菜单标题","主菜单标题",!1,!1,[this,"title"]),new u.StringProperty("主菜单描述","主菜单描述",!1,!1,[this,"description"]),new u.String4sProperty("菜单","菜单",!0,!1,[this,"commands"]),new u.StringProperty("主菜单命令名称(左键点击)","主菜单命令名称(左键点击)，默认为undefined，如果设置了，单击会直接执行该命令，而不会展开二级菜单",!1,!1,[this,"clickCommandName"]),new u.StringProperty("主菜单命令名称(右键点击)","主菜单命令名称(右键点击)，默认为undefined，如果设置了，单击会直接执行该命令，而不会展开二级菜单",!1,!1,[this,"rightClickCommandName"]),new u.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!0,!1,(function(){return n.geoJsonStr}),(function(t){return t&&(n.geoJsonStr=t)}))])],!1)},n=e,e.type=n.register("GeoCanvasMenuPoi",n,{chsName:"GeoCanvasMenuPoi",tags:["GeoObjects"],description:"GeoCanvasMenuPoi"}),e}(f.ESSceneObject);e.GeoCanvasMenuPoi=d,function(t){t.createDefaultProps=function(){return i({show:!0,enabled:!0,position:(0,c.reactArrayWithUndefined)(void 0),positionEditing:!1,title:"",description:"",imageUri:"${scene-manager-script-dir}/xe2-assets/scene-manager/images/point-yellow.png",commands:(0,c.reactDeepArrayWithUndefined)(void 0,(function(t,e){return t.every((function(t,n){return t===e[n]}))}),(function(t){return a([],s(t),!1)})),clickCommandName:"",rightClickCommandName:"",mainPoiSize:(0,c.reactArrayWithUndefined)(void 0),mainPoiBgColor:(0,c.reactArrayWithUndefined)(void 0),mainPoiFgColor:(0,c.reactArrayWithUndefined)(void 0)},f.ESSceneObject.createDefaultProps())}}(d=e.GeoCanvasMenuPoi||(e.GeoCanvasMenuPoi={})),e.GeoCanvasMenuPoi=d,(0,c.extendClassProps)(d.prototype,d.createDefaultProps)},26705:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoCanvasPoi=void 0;var u=n(81425),c=n(6018),l=n(1245),p=n(4842),f=function(t){function e(e){var n=t.call(this,e)||this;return n._pickedEvent=n.disposeVar(new u.Event),n._flyToEvent=n.disposeVar(new u.Event),n._sPositionEditing=n.disposeVar(new l.PositionEditing([n,"position"],[n,"positionEditing"],n.components)),n._clickEvent=n.disposeVar(new u.Event),n._clickOutEvent=n.disposeVar(new u.Event),n._dbclickEvent=n.disposeVar(new u.Event),n._dbclickOutEvent=n.disposeVar(new u.Event),n._canvasPoiClassAndCreateFunc=(0,u.react)(void 0),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoCanvasPoi"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},Object.defineProperty(e.prototype,"sPositionEditing",{get:function(){return this._sPositionEditing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clickEvent",{get:function(){return this._clickEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clickOutEvent",{get:function(){return this._clickOutEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dbclickEvent",{get:function(){return this._dbclickEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dbclickOutEvent",{get:function(){return this._dbclickOutEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canvasPoiClassAndCreateFunc",{get:function(){return this._canvasPoiClassAndCreateFunc.value},set:function(t){this._canvasPoiClassAndCreateFunc.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canvasPoiClassAndCreateFuncChanged",{get:function(){return this._canvasPoiClassAndCreateFunc.changed},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(n){var r=this;return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new c.GroupProperty("通用","通用",[new c.FunctionProperty("飞入","飞入",["number"],(function(t){return r.flyTo(t)}),[1e3]),new c.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!1,!1,[this,"show"]),new c.BooleanProperty("是否可用","A boolean Property specifying the visibility.",!1,!1,[this,"enabled"]),new c.BooleanProperty("位置编辑","位置编辑",!1,!1,[this,"positionEditing"]),new c.Number4Property("可视范围控制","可视范围控制[near0, near1, far1, far0]",!0,!1,[this,"viewDistanceRange"],e.defaults.viewDistanceRange),new c.BooleanProperty("可视距离调试","可视距离调试",!1,!1,[this,"viewDistanceDebug"])])],!1)},n=e,e.type=n.register("GeoCanvasPoi",n,{chsName:"GeoCanvasPoi",tags:["GeoObjects","_ES_Impl_Any"],description:"GeoCanvasPointPoi、GeoCanvasImagePoi等场景对象需要用到GeoCanvasPoi"}),e.defaults=i(i({},p.ESSceneObject.defaults),{viewDistanceRange:[1e3,1e4,3e4,6e4]}),e}(p.ESSceneObject);e.GeoCanvasPoi=f,function(t){t.createDefaultProps=function(){return i(i({},p.ESSceneObject.createDefaultProps()),{show:!0,enabled:!0,position:(0,u.reactArrayWithUndefined)(void 0),positionEditing:!1,viewDistanceRange:(0,u.reactArrayWithUndefined)(void 0),viewDistanceDebug:!1})}}(f=e.GeoCanvasPoi||(e.GeoCanvasPoi={})),e.GeoCanvasPoi=f,(0,u.extendClassProps)(f.prototype,f.createDefaultProps)},24625:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasPointPoi=void 0;var s=n(81425),a=n(72256),u=n(18756),c=function(t){function e(e){var n=t.call(this,e)||this;n._scale=(0,s.react)(1),n._text=(0,s.react)(void 0),n._font=(0,s.react)(void 0),n._fontStyle=(0,s.react)(void 0),n._radius=(0,s.react)(void 0),n._outlineStyle=(0,s.react)(void 0),n._selectedStyle=(0,s.react)(void 0),n._fillStyle=(0,s.react)(void 0);var r=n.disposeVar(new a.Transition(100)),o=n.disposeVar(new a.Transition(100)),i=function(){n._clickEvent&&!n._clickEvent.empty&&(n._scale.value=(1+.1*o.current)*(1+.2*r.current))};return n.dispose(o.currentChanged.disposableOn(i)),n.dispose(r.currentChanged.disposableOn(i)),n.dispose(n.activedChanged.disposableOn((function(t){o.target=t?1:0,n.needRedraw()}))),n.dispose(n.hoveredChanged.disposableOn((function(t){r.target=t?1:0,n.needRedraw()}))),n.dispose(n.selectedChanged.disposableOn((function(t){n.needRedraw()}))),n.dispose(n._scale.changed.disposableOn((function(){return n.needRedraw(),n.needPickRedraw()}))),n.dispose(n._text.changed.disposableOn((function(){return n.needRedraw(),n.needPickRedraw()}))),n.dispose(n._font.changed.disposableOn((function(){return n.needRedraw()}))),n.dispose(n._fontStyle.changed.disposableOn((function(){return n.needRedraw()}))),n.dispose(n._radius.changed.disposableOn((function(){return n.needRedraw(),n.needPickRedraw()}))),n.dispose(n._fillStyle.changed.disposableOn((function(){return n.needRedraw()}))),n.dispose(n._outlineStyle.changed.disposableOn((function(){return n.needRedraw()}))),n.dispose(n._selectedStyle.changed.disposableOn((function(){return n.needRedraw()}))),n}return o(e,t),Object.defineProperty(e.prototype,"scale",{get:function(){return this._scale.value},set:function(t){this._scale.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleChanged",{get:function(){return this._scale.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text.value},set:function(t){this._text.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textChanged",{get:function(){return this._text.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"font",{get:function(){return this._font.value},set:function(t){this._font.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontChanged",{get:function(){return this._font.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this._fontStyle.value},set:function(t){this._fontStyle.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontStyleChanged",{get:function(){return this._fontStyle.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this._radius.value},set:function(t){this._radius.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radiusChanged",{get:function(){return this._radius.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"outlineStyle",{get:function(){return this._outlineStyle.value},set:function(t){this._outlineStyle.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"outlineStyleChanged",{get:function(){return this._outlineStyle.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedStyle",{get:function(){return this._selectedStyle.value},set:function(t){this._selectedStyle.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedStyleChanged",{get:function(){return this._selectedStyle.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillStyle",{get:function(){return this._fillStyle.value},set:function(t){this._fillStyle.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillStyleChanged",{get:function(){return this._fillStyle.changed},enumerable:!1,configurable:!0}),e.prototype.draw=function(t){var e,n,r,o,s,a;if(this._show){var c=i(this._winPos,2),l=c[0],p=c[1],f=t.globalAlpha;t.globalAlpha=this.opacity;var h=(null!==(e=this._radius.value)&&void 0!==e?e:6)*this._scale.value;if(this.selected&&(0,u.drawPoint)(t,l,p,h+3,null!==(n=this._selectedStyle.value)&&void 0!==n?n:"#F00"),this.actived&&this._clickEvent&&!this._clickEvent.empty&&(0,u.drawPoint)(t,l,p,h+1,null!==(r=this._fillStyle.value)&&void 0!==r?r:"#FFF"),this._outlineStyle.value&&(this.hovered,(0,u.drawPoint)(t,l,p,h+1,this._outlineStyle.value)),(0,u.drawPoint)(t,l,p,h,null!==(o=this._fillStyle.value)&&void 0!==o?o:"#FFF"),this._text.value){var d=null!==(s=this._font.value)&&void 0!==s?s:"bold 10px Arial",y=null!==(a=this._fontStyle.value)&&void 0!==a?a:"#000";(0,u.drawText)(t,l,p,this._text.value,d,y)}t.globalAlpha=f}},e.prototype.drawForPick=function(t,e){var n;if(this._show){var r=i(this._winPos,2),o=r[0],s=r[1],a=(null!==(n=this._radius.value)&&void 0!==n?n:6)*this._scale.value,c=e("default");(0,u.drawPoint)(t,o,s,a,c)}},e}(a.CanvasPoi);e.CanvasPointPoi=c},18756:function(t,e){"use strict";var n=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};function r(t,e,r,o){var i=n(t,2),s=i[0],a=i[1],u=n(o,4),c=u[0],l=u[1],p=u[2],f=u[3],h=e[0]*r[0],d=e[1]*r[1],y=s-(h*c+p),g=a-(d*l+f);return{left:y,top:g,right:y+h,bottom:g+d}}function o(t,e,n,r,o,i){t.beginPath(),t.moveTo(e+i,n),t.lineTo(e+r-i,n),t.arcTo(e+r,n,e+r,n+i,i),t.lineTo(e+r,n+o-i),t.arcTo(e+r,n+o,e+r-i,n+o,i),t.lineTo(e+i,n+o),t.arcTo(e,n+o,e,n+o-i,i),t.lineTo(e,n+i),t.arcTo(e,n,e+i,n,i)}function i(t){return("00"+t.toString(16).toUpperCase()).substr(-2)}Object.defineProperty(e,"__esModule",{value:!0}),e.getColorHexStr=e.uint8ToHexStr=e.drawTextBlock=e.setCanvasUniformColor=e.imageToCanvas=e.drawText=e.drawRoundRectPath=e.drawPoint=e.drawBubble=e.getDrawRect=void 0,e.getDrawRect=r,e.drawBubble=function(t,e,n,r,o){t.beginPath(),t.moveTo(e,n),t.lineTo(e-.5*r,n-.5*r),t.arc(e,n-r,.7071067811865475*r,.75*Math.PI,.25*Math.PI),t.lineTo(e,n),t.fillStyle=o,t.fill()},e.drawPoint=function(t,e,n,r,o){t.beginPath(),t.moveTo(e+r,n),t.arc(e,n,r,0,2*Math.PI),t.fillStyle=o,t.fill()},e.drawRoundRectPath=o,e.drawText=function(t,e,n,r,o,i){t.font=o;var s=t.measureText(r),a=s.actualBoundingBoxLeft+s.actualBoundingBoxRight,u=Number.isFinite(s.fontBoundingBoxAscent)?s.fontBoundingBoxAscent:s.actualBoundingBoxAscent,c=Number.isFinite(s.fontBoundingBoxDescent)?s.fontBoundingBoxDescent:s.actualBoundingBoxDescent,l=u+c;t.fillStyle=i,t.fillText(r,e-.5*a,n+.5*l-c)},e.imageToCanvas=function(t){var e=t.width,n=t.height,r=e instanceof SVGAnimatedLength?e.baseVal.SVG_LENGTHTYPE_PX:e,o=n instanceof SVGAnimatedLength?n.baseVal.SVG_LENGTHTYPE_PX:n,i=document.createElement("canvas");i.width=r,i.height=o;var s=i.getContext("2d");if(!s)throw new Error("!cavnasCtx");return s.drawImage(t,0,0,r,o),i},e.setCanvasUniformColor=function(t,e){var r=t.width,o=t.height,i=t.getContext("2d");if(!i)throw new Error("!cavnasCtx");for(var s=n(e.map((function(t){return 255*t|0})),3),a=s[0],u=s[1],c=s[2],l=i.getImageData(0,0,r,o),p=l.data,f=0;f<p.length;f+=4)p[f]=a,p[f+1]=u,p[f+2]=c;i.putImageData(l,0,0)},e.drawTextBlock=function(t,e,n,i,s,a,u,c,l){void 0===i&&(i=[.5,1,0,0]),void 0===a&&(a="12px Arial"),void 0===u&&(u=2),void 0===c&&(c="#FFF"),void 0===l&&(l="#000A"),t.font=a;var p=t.measureText(s),f=p.actualBoundingBoxLeft+p.actualBoundingBoxRight+2*u,h=p.fontBoundingBoxAscent+p.fontBoundingBoxDescent+2*u,d=r([e,n],[f,h],[1,1],i),y=d.left,g=d.top,v=d.bottom;t.fillStyle=l,o(t,y,g,f,h,u),t.fill(),t.fillStyle=c,t.fillText(s,y+u,v-u-p.fontBoundingBoxDescent)},e.uint8ToHexStr=i,e.getColorHexStr=function(t){var e=n(t.map((function(t){return 255*t|0})),4),r=e[0],o=e[1],s=e[2],a=e[3];return"#".concat(i(r)).concat(i(o)).concat(i(s)).concat(i(a))}},40782:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.GeoCanvasPointPoiImpl=void 0;var i=n(81425);function s(t){return"rgba(".concat(255*t[0]|0,", ").concat(255*t[1]|0,", ").concat(255*t[2]|0,", ").concat(t[3],")")}var a=function(t){function e(e,n,r){var o=t.call(this)||this,a=function(){var t;return n.radius=null!==(t=e.radius)&&void 0!==t?t:6};a(),o.dispose(e.radiusChanged.disposableOn(a));var u=function(){return n.text=e.text};u(),o.dispose(e.textChanged.disposableOn(u));var c=function(){return n.font=e.font};c(),o.dispose(e.fontChanged.disposableOn(c));var l=function(){return n.fontStyle=e.fontColor&&s(e.fontColor)};l(),o.dispose(e.fontColorChanged.disposableOn(l));var p=function(){return n.fillStyle=e.color&&s(e.color)};p(),o.dispose(e.colorChanged.disposableOn(p));var f=function(){return n.outlineStyle=e.outlineColor&&s(e.outlineColor)};f(),o.dispose(e.outlineColorChanged.disposableOn(f));var h=function(){return n.selectedStyle=e.selectedColor&&s(e.selectedColor)};return h(),o.dispose(e.selectedColorChanged.disposableOn(h)),o.dispose(n.clickEvent.disposableOn((function(t,n,r,o,i){e.clickEvent.emit(i)}))),o.dispose(n.dbclickEvent.disposableOn((function(t,n,r,o,i){e.dbclickEvent.emit(i)}))),o.dispose((0,i.bind)([n,"selected"],[e,"selected"])),o.dispose((0,i.bind)([n,"hovered"],[e,"hovered"])),o}return o(e,t),e}(i.Destroyable);e.GeoCanvasPointPoiImpl=a},1941:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoCanvasPointPoi=void 0;var u=n(81425),c=n(6018),l=n(4842),p=n(26705),f=n(40782),h=n(24625),d=function(t){function e(e){var n=t.call(this,e)||this;n._pickedEvent=n.disposeVar(new u.Event),n._flyToEvent=n.disposeVar(new u.Event),n._clickEvent=n.disposeVar(new u.Event),n._dbclickEvent=n.disposeVar(new u.Event),n._geoCanvasPoi=n.disposeVar(new p.GeoCanvasPoi);var r=n.geoCanvasPoi;return r.canvasPoiClassAndCreateFunc=[h.CanvasPointPoi,function(t,e){return new f.GeoCanvasPointPoiImpl(n,t,e)}],n.dispose(n.components.disposableAdd(r)),n.dispose((0,u.track)([r,"show"],[n,"show"])),n.dispose((0,u.track)([r,"enabled"],[n,"enabled"])),n.dispose((0,u.bind)([r,"position"],[n,"position"])),n.dispose((0,u.bind)([r,"positionEditing"],[n,"positionEditing"])),n.dispose((0,u.track)([r,"viewDistanceRange"],[n,"viewDistanceRange"])),n.dispose((0,u.track)([r,"viewDistanceDebug"],[n,"viewDistanceDebug"])),n.dispose(n.flyToEvent.disposableOn((function(t){r.flyTo(t)}))),n.dispose(n._clickEvent.disposableOn((function(t){n.pickOnClick&&n.pickedEvent.emit(new c.SceneObjectPickedInfo(n,new c.AttachedPickedInfo({type:"viewerPicking",pointerEvent:t})))}))),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoCanvasPointPoi"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},Object.defineProperty(e.prototype,"clickEvent",{get:function(){return this._clickEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dbclickEvent",{get:function(){return this._dbclickEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoCanvasPoi",{get:function(){return this._geoCanvasPoi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sPositionEditing",{get:function(){return this._geoCanvasPoi.sPositionEditing},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(n){var r=this;return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new c.GroupProperty("通用","通用",[new c.FunctionProperty("飞入","飞入",["number"],(function(t){return r.flyTo(t)}),[1e3]),new c.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!1,!1,[this,"show"]),new c.BooleanProperty("是否可用","A boolean Property specifying the visibility.",!1,!1,[this,"enabled"]),new c.Number4Property("可视范围控制","可视范围控制[near0, near1, far1, far0]",!0,!1,[this,"viewDistanceRange"],e.defaults.viewDistanceRange),new c.BooleanProperty("可视距离调试","可视距离调试",!1,!1,[this,"viewDistanceDebug"]),new c.BooleanProperty("pickOnClick","pickOnClick.",!1,!1,[this,"pickOnClick"]),new c.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"]),new c.BooleanProperty("位置编辑","位置编辑",!1,!1,[this,"positionEditing"]),new c.NumberProperty("半径","半径",!1,!1,[this,"radius"]),new c.StringProperty("文本","text",!1,!1,[this,"text"]),new c.StringProperty("字体","font,格式例如:'bold 10px Arial'",!1,!1,[this,"font"]),new c.ColorProperty("字体颜色","A Property specifying the color.",!1,!1,[this,"fontColor"]),new c.ColorProperty("颜色","A Property specifying the color.",!1,!1,[this,"color"]),new c.ColorProperty("轮廓颜色","A Property specifying the color.",!1,!1,[this,"outlineColor"]),new c.ColorProperty("选中颜色","A Property specifying the color.",!1,!1,[this,"selectedColor"]),new c.BooleanProperty("光标悬停","光标悬停.",!1,!1,[this,"hovered"]),new c.BooleanProperty("选中","选中.",!1,!1,[this,"selected"])])],!1)},n=e,e.type=n.register("GeoCanvasPointPoi",n,{chsName:"GeoCanvasPointPoi",tags:["GeoObjects"],description:"GeoCanvasPointPoi"}),e.defaults=i(i({},l.ESSceneObject.defaults),{viewDistanceRange:[1e3,1e4,3e4,6e4]}),e}(l.ESSceneObject);e.GeoCanvasPointPoi=d,function(t){t.createDefaultProps=function(){return i(i({},l.ESSceneObject.createDefaultProps()),{show:!0,enabled:!0,position:(0,u.reactArrayWithUndefined)(void 0),positionEditing:!1,radius:6,text:"",font:"bold 10px Arial",fontColor:(0,u.reactArray)([1,1,1,1]),color:(0,u.reactArray)([1,1,1,1]),outlineColor:(0,u.reactArray)([0,0,0,1]),selectedColor:(0,u.reactArray)([0,0,0,1]),hovered:!1,selected:!1,viewDistanceRange:(0,u.reactArrayWithUndefined)(void 0),viewDistanceDebug:!1,pickOnClick:!1})}}(d=e.GeoCanvasPointPoi||(e.GeoCanvasPointPoi={})),e.GeoCanvasPointPoi=d,(0,u.extendClassProps)(d.prototype,d.createDefaultProps)},98812:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoCircle=void 0;var u=n(81425),c=n(15635),l=n(6018),p=n(1245),f=n(4842),h=function(t){function e(e){var n=t.call(this,e)||this;return n._flyToEvent=n.disposeVar(new u.Event),n._pickedEvent=n.disposeVar(new u.Event),n._circleEditing=n.disposeVar(new p.CircleEditing(n.positionReact,n.radiusReact,n.editingReact,n.components)),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoCircle"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},Object.defineProperty(e.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(e){var n=this;return a(a([],s(t.prototype.getProperties.call(this,e)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(t){return n.flyTo(t)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!1,!1,[this,"show"]),new l.BooleanProperty("是否允许拾取","allowPicking circle.",!1,!1,[this,"allowPicking"]),new l.BooleanProperty("是否贴地","A boolean Property specifying the visibility.",!1,!1,[this,"ground"]),new l.BooleanProperty("是否显示轮廓线","是否显示轮廓线.",!1,!1,[this,"outline"]),new l.BooleanProperty("轮廓线半透明","轮廓线半透明.",!1,!1,[this,"outlineTranslucent"]),new l.NumberProperty("高度","高度",!1,!1,[this,"height"]),new l.NumberProperty("拉伸高度","拉伸高度",!1,!1,[this,"extrudedHeight"]),new l.ColorProperty("轮廓线颜色"," A Property specifying the color.",!1,!1,[this,"outlineColor"]),new l.JsonProperty("材质","A Property specifying the material used to fill the circle.",!1,!1,[this,"material"],void 0,c.CzmMaterialJsonTypeMd),new l.PositionProperty("位置","经度纬度高度，度为单位",!1,!1,[this,"position"]),new l.BooleanProperty("编辑","编辑",!1,!1,[this,"editing"]),new l.NumberProperty("半径","半径",!1,!1,[this,"radius"]),new l.NumberProperty("纹理旋转角度","纹理旋转角度.",!1,!1,[this,"stRotation"]),new l.Number3Property("ellipsoid","ellipsoid",!1,!1,[this,"ellipsoid"]),new l.NumberProperty("间隔尺寸","granularity must be greater than zero.",!1,!1,[this,"granularity"]),new l.NumberProperty("垂直线条数","垂直线条数",!1,!1,[this,"numberOfVerticalLines"])])],!1)},n=e,e.type=n.register("GeoCircle",n,{chsName:"GeoCircle",tags:["GeoObjects","_ES_Impl_Any"],description:"GeoCircle"}),e.defaults=i({},f.ESSceneObject.defaults),e}(f.ESSceneObject);e.GeoCircle=h,function(t){t.createDefaultProps=function(){return i({show:!0,allowPicking:!1,ground:!1,outline:!0,outlineTranslucent:!0,height:0,extrudedHeight:0,outlineColor:(0,u.reactArray)([1,1,1,1]),material:(0,u.reactJson)({type:"Color",color:[1,1,1,.5]}),position:(0,u.reactArrayWithUndefined)(void 0),editing:!1,radius:0,stRotation:0,ellipsoid:(0,u.reactArray)([6378137,6378137,6356752.314245179]),granularity:1,numberOfVerticalLines:0},f.ESSceneObject.createDefaultProps())}}(h=e.GeoCircle||(e.GeoCircle={})),e.GeoCircle=h,(0,u.extendClassProps)(h.prototype,h.createDefaultProps)},24333:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoClassificationPolygon=void 0;var u=n(6018),c=n(81425),l=n(15635),p=n(4842),f=n(1245),h=n(50679),d=function(t){function e(e){var n=t.call(this,e)||this;n._pickedEvent=n.disposeVar(new c.Event),n._flyToEvent=n.disposeVar(new c.Event),n._sPositionsEditing=n.disposeVar(new f.PositionsEditing([n,"positions"],!0,[n,"editing"],n.components)),n._pointEditor=n.disposeVar(new f.PointEditing([n,"positions"],[n,"pointEditing"],n.components));var r=n.disposeVar(new h.GeoPolygon);n.dispose(n.components.disposableAdd(r)),n._helperPolygon=r,n.dispose((0,c.track)([r,"show"],[n,"showHelper"],(function(t){return t})));var o=function(){r.show=n.showHelper||n.editing||n.pointEditing};return o(),n.dispose(n.showHelperChanged.disposableOn(o)),n.dispose(n.editingChanged.disposableOn(o)),n.dispose(n.pointEditingChanged.disposableOn(o)),n.dispose((0,c.track)([r,"allowPicking"],[n,"allowPicking"])),n.dispose((0,c.track)([r,"outline"],[n,"outline"])),n.dispose((0,c.track)([r,"outlineColor"],[n,"outlineColor"])),n.dispose((0,c.track)([r,"outlineWidth"],[n,"outlineWidth"])),r.fill=!1,r.color=[0,0,0,0],n.dispose((0,c.track)([r,"positions"],[n,"positions"])),n.dispose((0,c.track)([r,"depth"],[n,"depth"])),n.dispose((0,c.track)([r,"zIndex"],[n,"zIndex"])),n.dispose(r.pickedEvent.disposableOn((function(t){n.pickedEvent.emit(new u.SceneObjectPickedInfo(n,t))}))),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoClassificationPolygon"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoJson",{get:function(){return(0,l.getGeoJson)("Polygon",this.positions,this.name)},set:function(t){var e=(0,l.setGeoJson)(t);this.name=e.name,this.positions=e.position},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(t){return""}},set:function(t){if(t)try{this.geoJson=JSON.parse(t)}catch(t){}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},Object.defineProperty(e.prototype,"sPositionsEditing",{get:function(){return this._sPositionsEditing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pointEditor",{get:function(){return this._pointEditor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"helperPolygon",{get:function(){return this._helperPolygon},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(n){var r=this;return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new u.GroupProperty("通用","通用",[new u.FunctionProperty("飞入","飞入",["number"],(function(t){return r.flyTo(t)}),[1e3]),new u.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!1,!1,[this,"show"]),new u.BooleanProperty("是否显示辅助多边形","A boolean Property specifying the visibility of the circle.",!1,!1,[this,"showHelper"]),new u.BooleanProperty("允许拾取","是否允许拾取",!1,!1,[this,"allowPicking"]),new u.BooleanProperty("是否显示轮廓线","是否显示轮廓线.",!1,!1,[this,"outline"]),new u.ColorProperty("轮廓线颜色"," A Property specifying the color.",!1,!1,[this,"outlineColor"]),new u.NumberProperty("轮廓线宽度","轮廓线宽度",!1,!1,[this,"outlineWidth"]),new u.BooleanProperty("填充","填充",!1,!1,[this,"fill"]),new u.ColorProperty("颜色"," A Property specifying the color.",!1,!1,[this,"color"]),new u.BooleanProperty("是否编辑","A boolean Property specifying the visibility.",!1,!1,[this,"editing"]),new u.BooleanProperty("是否单点编辑","是否单点编辑.",!1,!1,[this,"pointEditing"]),new u.PositionsProperty("位置数组","经度纬度高度，度为单位",!0,!1,[this,"positions"],e.defaults.positions),new u.NumberProperty("厚度","厚度",!1,!1,[this,"depth"]),new u.NumberProperty("z-index","z-index",!1,!1,[this,"zIndex"]),new u.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return r.geoJsonStr}),(function(t){return t&&(r.geoJsonStr=t)}))])],!1)},n=e,e.type=n.register("GeoClassificationPolygon",n,{chsName:"地理多边形",tags:["GeoObjects","_ES_Impl_Any"],description:"地理多边形"}),e.defaults=i(i({},p.ESSceneObject.defaults),{positions:[]}),e}(p.ESSceneObject);e.GeoClassificationPolygon=d,function(t){t.createDefaultProps=function(){return i({show:!0,showHelper:!1,allowPicking:!1,classificationType:"Both",outline:!0,outlineColor:(0,c.reactArray)([1,1,1,1]),outlineWidth:2,fill:!0,color:(0,c.reactArray)([1,1,1,.5]),editing:!1,pointEditing:!1,positions:(0,c.reactPositions)(void 0),depth:0,zIndex:0},p.ESSceneObject.createDefaultProps())}}(d=e.GeoClassificationPolygon||(e.GeoClassificationPolygon={})),e.GeoClassificationPolygon=d,(0,c.extendClassProps)(d.prototype,d.createDefaultProps)},28110:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoCoordinates=void 0;var u=n(6018),c=n(81425),l=n(1245),p=n(4842),f=n(47594);function h(t){var e=new f.GeoAxis;return e.width=10,e.color=t,e}var d=function(t){function e(n){var r=t.call(this,n)||this;r._flyToEvent=r.disposeVar(new c.Event);var o=r,i=r.disposeVar(h(e.defaults.xAxisColor)),a=r.disposeVar(h(e.defaults.yAxisColor)),u=r.disposeVar(h(e.defaults.zAxisColor));r.dispose(o.flyToEvent.disposableOn((function(t){return u.flyTo(t)}))),(p=function(){i.show=o.show,a.show=o.show,u.show=o.show})(),r.dispose(o.showChanged.disposableOn(p)),(p=function(){var t=o.position,n=void 0===t?e.defaults.position:t,r=o.heading,c=void 0===r?e.defaults.heading:r;i.startPosition=n,a.startPosition=n,u.startPosition=n;var p=s(n,3),f=p[0],h=p[1],d=p[2],y=o.dimensions,g=void 0===y?e.defaults.dimensions:y;u.stopPosition=[f,h,d+g[2]];var v=(0,l.geoRhumbDestination)(n,g[0],90+c);v&&(i.stopPosition=v);var b=(0,l.geoRhumbDestination)(n,g[1],0+c);b&&(a.stopPosition=b)})();var p,f=r.disposeVar((0,c.createNextAnimateFrameEvent)(o.positionChanged,o.dimensionsChanged,o.headingChanged));return r.dispose(f.disposableOn(p)),(p=function(){var t,n,r;i.color=null!==(t=o.xAxisColor)&&void 0!==t?t:e.defaults.xAxisColor,a.color=null!==(n=o.yAxisColor)&&void 0!==n?n:e.defaults.yAxisColor,u.color=null!==(r=o.zAxisColor)&&void 0!==r?r:e.defaults.zAxisColor})(),f=r.disposeVar((0,c.createNextAnimateFrameEvent)(o.xAxisColorChanged,o.yAxisColorChanged,o.zAxisColorChanged)),r.dispose(f.disposableOn(p)),r.dispose(o.components.disposableAdd(i)),r.dispose(o.components.disposableAdd(a)),r.dispose(o.components.disposableAdd(u)),r}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoCoordinates"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},e.prototype.getProperties=function(n){var r=this;return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new u.GroupProperty("通用","通用",[new u.FunctionProperty("飞入","飞入",["number"],(function(t){return r.flyTo(t)}),[1e3]),new u.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!1,!1,[this,"show"]),new u.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"],e.defaults.position),new u.NumberProperty("偏航角","偏航角",!1,!1,[this,"heading"]),new u.Number3Property("尺寸","尺寸",!1,!1,[this,"dimensions"]),new u.ColorProperty("x轴颜色"," x轴颜色",!1,!1,[this,"xAxisColor"]),new u.ColorProperty("y轴颜色"," y轴颜色.",!1,!1,[this,"yAxisColor"]),new u.ColorProperty("z轴颜色"," z轴颜色.",!1,!1,[this,"zAxisColor"])])],!1)},n=e,e.type=n.register("GeoCoordinates",n,{chsName:"坐标架",tags:["GeoObjects"],description:"坐标架"}),e.defaults=i(i({},p.ESSceneObject.defaults),{position:[116.39,39.9,0],heading:0,dimensions:[1e3,1e3,1e3],xAxisColor:[1,0,0,1],yAxisColor:[0,1,0,1],zAxisColor:[0,0,1,1]}),e}(p.ESSceneObject);e.GeoCoordinates=d,function(t){t.createDefaultProps=function(){return i({show:!0,position:(0,c.reactArrayWithUndefined)(void 0),heading:0,dimensions:(0,c.reactArray)([1e3,1e3,1e3]),xAxisColor:(0,c.reactArray)([1,0,0,1]),yAxisColor:(0,c.reactArray)([0,1,0,1]),zAxisColor:(0,c.reactArray)([0,0,1,1])},p.ESSceneObject.createDefaultProps())}}(d=e.GeoCoordinates||(e.GeoCoordinates={})),e.GeoCoordinates=d,(0,c.extendClassProps)(d.prototype,d.createDefaultProps)},86786:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoCoordinatesEditor=void 0;var u=n(6018),c=n(81425),l=n(4842),p=function(t){function e(e){var n=t.call(this,e)||this;return n._flyToEvent=n.disposeVar(new c.Event),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoCoordinatesEditor"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},e.prototype.getProperties=function(n){var r=this;return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new u.GroupProperty("通用","通用",[new u.FunctionProperty("飞入","飞入",["number"],(function(t){return r.flyTo(t)}),[1e3]),new u.BooleanProperty("是否启用","A boolean Property specifying the visibility.",!1,!1,[this,"enabled"]),new u.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"],e.defaults.position),new u.NumberProperty("偏航角","偏航角",!1,!1,[this,"heading"]),new u.NumberProperty("单轴屏幕像素长度","单轴屏幕像素长度",!1,!1,[this,"axisPixelSize"]),new u.NumberProperty("单轴捕捉屏幕像素尺寸","单轴捕捉屏幕像素尺寸",!1,!1,[this,"axisSnapPixelSize"]),new u.BooleanProperty("showCoordinates","showCoordinates",!1,!1,[this,"showCoordinates"]),new u.BooleanProperty("showCircle","showCircle",!1,!1,[this,"showCircle"]),new u.BooleanProperty("disableX","disableX",!1,!1,[this,"disableX"]),new u.BooleanProperty("disableY","disableY",!1,!1,[this,"disableY"]),new u.BooleanProperty("disableZ","disableZ",!1,!1,[this,"disableZ"]),new u.BooleanProperty("disableXY","disableXY",!1,!1,[this,"disableXY"]),new u.BooleanProperty("disableZAxis","disableZAxis",!1,!1,[this,"disableZAxis"])])],!1)},n=e,e.type=n.register("GeoCoordinatesEditor",n,{chsName:"坐标架编辑器",tags:["GeoObjects","_ES_Impl_Any","_ES_Built_In"],description:"坐标架编辑器"}),e.defaults=i(i({},l.ESSceneObject.defaults),{position:[116.39,39.9,0]}),e}(l.ESSceneObject);e.GeoCoordinatesEditor=p,function(t){t.createDefaultProps=function(){return i({enabled:!1,position:(0,c.reactArrayWithUndefined)(void 0),heading:0,axisPixelSize:100,axisSnapPixelSize:5,showCoordinates:!0,showCircle:!0,disableX:!1,disableY:!1,disableZ:!1,disableXY:!1,disableZAxis:!1},l.ESSceneObject.createDefaultProps())}}(p=e.GeoCoordinatesEditor||(e.GeoCoordinatesEditor={})),e.GeoCoordinatesEditor=p,(0,c.extendClassProps)(p.prototype,p.createDefaultProps)},95095:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},u=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},c=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoCoordinatesEditorAndPicker=void 0;var l=n(81425),p=n(72256),f=n(6018),h=n(4842),d=n(86786),y=n(68202),g=function(t){function e(e){var n=t.call(this,e)||this;n._editor=n.disposeVar(new d.GeoCoordinatesEditor),n._picker=n.disposeVar(new y.GeoCoordinatesPicker);var r=n,i=n,u=i.editor,c=i.picker;u.enabled=!1,c.enabled=!1,n.dispose(n.components.disposableAdd(u)),n.dispose(n.components.disposableAdd(c));var f,h=function(t){function e(e){var n=t.call(this)||this;return n.dispose(e.interaction.pointerClick.dbclickEvent.disposableOn((function(){r.enabled=!1}))),n}return o(e,t),e}(l.Destroyable);n.registerAttachedObjectForContainer((function(t){return new h(t)})),(f=function(){u.axisPixelSize=r.axisPixelSize,c.axisPixelSize=r.axisPixelSize})(),n.dispose(r.axisPixelSizeChanged.disposableOn(f)),(f=function(){u.axisSnapPixelSize=r.axisSnapPixelSize,c.axisSnapPixelSize=r.axisSnapPixelSize})(),n.dispose(r.axisSnapPixelSizeChanged.disposableOn(f)),(f=function(){u.heading=r.heading,c.heading=r.heading})(),n.dispose(r.headingChanged.disposableOn(f)),c.virtualHeight=r.virtualHeight,n.dispose((0,l.bind)([r,"virtualHeight"],[c,"virtualHeight"])),(f=function(){r.position&&(u.position=r.position),c.position=r.position})(),n.dispose(r.positionChanged.disposableOn(f));var g=n.disposeVar((0,p.createProcessingFromAsyncFunc)((function(t){return s(n,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return r.enabled?r.position?[3,2]:(c.enabled=!0,[4,(0,p.step)(t,(function(t){return new Promise((function(e,n){t.dispose(c.enabledChanged.disposableOn((function(){c.enabled?console.error("不应该走到此处！"):e()})))}))}))]):[2];case 1:if(e.sent(),r.noModifingAfterAdding)return[2];e.label=2;case 2:return r.position?(u.enabled=!0,[4,(0,p.step)(t,(function(t){return new Promise((function(e,n){t.dispose(u.enabledChanged.disposableOn((function(){u.enabled?console.error("不应该走到此处！"):e()}))),t.dispose(r.positionChanged.disposableOn((function(){r.position||e()})))}))}))]):[2];case 3:return e.sent(),r.enabled=!1,[2]}}))}))})));return n.dispose(r.enabledChanged.disposableOn((function(){return g.restart()}))),n.dispose(c.positionChanged.disposableOn((function(t){r.position=t}))),n.dispose(u.positionChanged.disposableOn((function(t){r.position=t}))),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoCoordinatesEditorAndPicker"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"editor",{get:function(){return this._editor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"picker",{get:function(){return this._picker},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"picking",{get:function(){return this._picker.enabled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pickingChanged",{get:function(){return this._picker.enabledChanged},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(e){return c(c([],u(t.prototype.getProperties.call(this,e)),!1),[new f.GroupProperty("通用","通用",[new f.BooleanProperty("是否启用","A boolean Property specifying the visibility.",!1,!1,[this,"enabled"]),new f.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"]),new f.NumberProperty("偏航角","偏航角",!1,!1,[this,"heading"]),new f.NumberProperty("单轴屏幕像素长度","单轴屏幕像素长度",!1,!1,[this,"axisPixelSize"]),new f.NumberProperty("单轴捕捉屏幕像素尺寸","单轴捕捉屏幕像素尺寸",!1,!1,[this,"axisSnapPixelSize"]),new f.NumberProperty("虚拟地球海拔高度","虚拟地球海拔高度",!0,!1,[this,"virtualHeight"]),new f.BooleanProperty("正在拾取或者编辑","正在拾取或者编辑",!1,!1,[this,"picking"]),new f.BooleanProperty("noModifingAfterAdding","noModifingAfterAdding",!1,!1,[this,"noModifingAfterAdding"]),new f.BooleanProperty("hideCursorInfo","hideCursorInfo",!1,!1,[this,"hideCursorInfo"])])],!1)},n=e,e.type=n.register("GeoCoordinatesEditorAndPicker",n,{chsName:"坐标架编辑器&拾取器",tags:["GeoObjects","_ES_Impl_Any"],description:"坐标架编辑器和拾取器"}),e}(h.ESSceneObject);e.GeoCoordinatesEditorAndPicker=g,function(t){t.createDefaultProps=function(){return i({enabled:!1,position:(0,l.reactArrayWithUndefined)(void 0),heading:0,axisPixelSize:100,axisSnapPixelSize:5,virtualHeight:void 0,noModifingAfterAdding:!1,hideCursorInfo:!1},h.ESSceneObject.createDefaultProps())}}(g=e.GeoCoordinatesEditorAndPicker||(e.GeoCoordinatesEditorAndPicker={})),e.GeoCoordinatesEditorAndPicker=g,(0,l.extendClassProps)(g.prototype,g.createDefaultProps)},68202:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoCoordinatesPicker=void 0;var u=n(81425),c=n(6018),l=n(4842),p=function(t){function e(n){var r=t.call(this,n)||this;return r._overEvent=r.disposeVar(new u.Event),r._clickFilterFunc=r.disposeVar((0,u.react)(e.defaultClickFilterFunc)),r._dbClickFilterFunc=r.disposeVar((0,u.react)(e.defaultDbClickFilterFunc)),r}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoCoordinatesPicker"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overEvent",{get:function(){return this._overEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clickFilterFunc",{get:function(){return this._clickFilterFunc.value},set:function(t){this._clickFilterFunc.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clickFilterFuncChanged",{get:function(){return this._clickFilterFunc.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dbClickFilterFunc",{get:function(){return this._dbClickFilterFunc.value},set:function(t){this._dbClickFilterFunc.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dbClickFilterFuncChanged",{get:function(){return this._dbClickFilterFunc.changed},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(e){return a(a([],s(t.prototype.getProperties.call(this,e)),!1),[new c.GroupProperty("通用","通用",[new c.BooleanProperty("是否启用","A boolean Property specifying the visibility.",!1,!1,[this,"enabled"]),new c.PositionProperty("位置","经度纬度高度，度为单位",!1,!1,[this,"position"]),new c.NumberProperty("偏航角","偏航角",!1,!1,[this,"heading"]),new c.NumberProperty("单轴屏幕像素长度","单轴屏幕像素长度",!1,!1,[this,"axisPixelSize"]),new c.NumberProperty("单轴捕捉屏幕像素尺寸","单轴捕捉屏幕像素尺寸",!1,!1,[this,"axisSnapPixelSize"]),new c.NumberProperty("虚拟地球海拔高度","虚拟地球海拔高度",!0,!1,[this,"virtualHeight"]),new c.BooleanProperty("showCoordinates","showCoordinates",!1,!1,[this,"showCoordinates"]),new c.BooleanProperty("showCircle","showCircle",!1,!1,[this,"showCircle"]),new c.BooleanProperty("showPoint","showPoint",!1,!1,[this,"showPoint"]),new c.BooleanProperty("clickEnabled","clickEnabled",!1,!1,[this,"clickEnabled"]),new c.BooleanProperty("dbClickEnabled","dbClickEnabled",!1,!1,[this,"dbClickEnabled"])])],!1)},n=e,e.type=n.register("GeoCoordinatesPicker",n,{chsName:"坐标架拾取器",tags:["GeoObjects","_ES_Impl_Any"],description:"坐标架拾取器"}),e.defaultClickFilterFunc=function(t){return 0===t.button},e.defaultDbClickFilterFunc=e.defaultClickFilterFunc,e}(l.ESSceneObject);e.GeoCoordinatesPicker=p,function(t){t.createDefaultProps=function(){return i({enabled:!1,position:(0,u.reactArrayWithUndefined)(void 0),heading:0,axisPixelSize:100,axisSnapPixelSize:5,virtualHeight:void 0,showCoordinates:!1,showCircle:!1,showPoint:!0,clickEnabled:!0,dbClickEnabled:!1},l.ESSceneObject.createDefaultProps())}}(p=e.GeoCoordinatesPicker||(e.GeoCoordinatesPicker={})),e.GeoCoordinatesPicker=p,(0,u.extendClassProps)(p.prototype,p.createDefaultProps)},83167:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoCoplanarPolygon=void 0;var u=n(81425),c=n(6018),l=n(1245),p=n(4842),f=function(t){function e(e){var n=t.call(this,e)||this;return n._flyToEvent=n.disposeVar(new u.Event),n._pickedEvent=n.disposeVar(new u.Event),n._sPositionsEditing=n.disposeVar(new l.PositionsEditing([n,"positions"],!1,[n,"editing"],n.components)),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoCoplanarPolygon"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},Object.defineProperty(e.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sPositionsEditing",{get:function(){return this._sPositionsEditing},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(n){var r=this;return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new c.GroupProperty("通用","通用",[new c.FunctionProperty("飞入","飞入",["number"],(function(t){return r.flyTo(t)}),[1e3]),new c.BooleanProperty("允许拾取","是否允许拾取",!1,!1,[this,"allowPicking"]),new c.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!1,!1,[this,"show"]),new c.BooleanProperty("是否显示轮廓线","是否显示轮廓线.",!1,!1,[this,"outline"]),new c.ColorProperty("轮廓线颜色"," A Property specifying the color.",!1,!1,[this,"outlineColor"]),new c.NumberProperty("轮廓线宽度","轮廓线宽度",!1,!1,[this,"outlineWidth"]),new c.BooleanProperty("填充","填充",!1,!1,[this,"fill"]),new c.ColorProperty("颜色"," A Property specifying the color.",!1,!1,[this,"color"]),new c.BooleanProperty("是否编辑","A boolean Property specifying the visibility.",!1,!1,[this,"editing"]),new c.PositionsProperty("位置数组","经度纬度高度，度为单位",!0,!1,[this,"positions"],e.defaults.positions)])],!1)},n=e,e.type=n.register("GeoCoplanarPolygon",n,{chsName:"GeoCoplanarPolygon",tags:["GeoObjects","_ES_Impl_Any"],description:"GeoCoplanarPolygon"}),e.defaults=i(i({},p.ESSceneObject.defaults),{show:!0,allowPicking:!1,outline:!0,outlineColor:[1,1,1,1],outlineWidth:2,fill:!0,color:[1,1,1,.5],editing:!1,positions:[]}),e}(p.ESSceneObject);e.GeoCoplanarPolygon=f,function(t){t.createDefaultProps=function(){return i({show:!0,allowPicking:!1,outline:!0,outlineColor:(0,u.reactArray)([1,1,1,1]),outlineWidth:2,fill:!0,color:(0,u.reactArray)([1,1,1,.5]),editing:!1,positions:(0,u.reactPositions)(void 0)},p.ESSceneObject.createDefaultProps())}}(f=e.GeoCoplanarPolygon||(e.GeoCoplanarPolygon={})),e.GeoCoplanarPolygon=f,(0,u.extendClassProps)(f.prototype,f.createDefaultProps)},79677:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoCustomDivPoi=void 0;var u=n(81425),c=n(6018),l=n(4842),p=n(1245),f="class MyDiv {\n    // container是Poi的div\n    // geoCustomDivPoi指向当前的GeoCustomDivPoi场景对象\n    // viewer指定当前的视口\n    constructor(container, geoCustomDivPoi, viewer) {       \n        this._container = container;\n        this._div = document.createElement('div');\n        this._container.appendChild(this._div);\n\n        this._div.style.width = '300px';\n        this._div.style.height = '50px';\n        this._div.style.background = 'rgba(120, 120, 0, 0.7)';\n        this._div.style.color = 'white';\n        this._div.style.fontSize = '30px';\n        this._div.style.lineHeight = '50px';\n        this._div.style.border = '1px solid white';\n        this._div.innerText = 'Hello world!';\n    }\n\n    // 随机背景颜色，仅用于测试外部强制更新，此函数非必需\n    update() {\n        const r = (255 * Math.random()) | 0;\n        const g = (255 * Math.random()) | 0;\n        const b = (255 * Math.random()) | 0;\n        this._div.style.background = `rgba(${r}, ${g}, ${b}, 0.8)`;\n    }\n\n    // 销毁函数，注意此函数必需，否则会报错！\n    destroy() {\n        this._container.removeChild(this._div);\n    }\n}",h="示例代码：  \n```\n".concat(f,"\n```\n"),d='<div style="width: 300px; height: 50px; background: rgba(120, 120, 0, 0.7); color: white; font-size: 30px; line-height: 50px; border: 1px solid white;">Hello world!</div>\n',y="示例代码：  \n```\n".concat(d,"\n```\n"),g=function(t){function e(e){var n=t.call(this,e)||this;n._updateEvent=n.disposeVar(new u.Event),n._instanceClassReact=n.disposeVar((0,u.react)(void 0)),n._flyToEvent=n.disposeVar(new u.Event),n._pickedEvent=n.disposeVar(new u.Event),n._innerHtmlMounted=n.disposeVar(new u.Event),n._sPositionEditing=n.disposeVar(new p.PositionEditing([n,"position"],[n,"editing"],n.components));var r=function(){try{n.instanceClass=n.instanceClassStr&&Function('"use strict";return ('.concat(n.instanceClassStr,")"))()}catch(t){n.instanceClass=void 0}};r(),n.dispose(n.instanceClassStrChanged.disposableOn(r));var o=function(){if(void 0!==n.innerHTML){var t="class MyDiv {\n                    // container是Poi的div\n                    // geoCustomDivPoi指向当前的GeoCustomDivPoi场景对象\n                    // viewer指定当前的视口\n                    constructor(container, geoCustomDivPoi, viewer) {\n                        this._container = container;\n                        this._div = document.createElement('div');\n                        this._container.appendChild(this._div);\n\n                        this._div.innerHTML = `".concat(n.innerHTML,"`;\n                        geoCustomDivPoi._innerHtmlMounted.emit(this._div, viewer);\n                    }\n                \n                    // 销毁函数，注意此函数必需，否则会报错！\n                    destroy() {\n                        this._container.removeChild(this._div);\n                    }\n                }");n.instanceClassStr=t}else n.instanceClassStr=void 0};return o(),n.dispose(n.innerHTMLChanged.disposableOn(o)),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoCustomDivPoi"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),e.prototype.update=function(t){this._updateEvent.emit(t)},Object.defineProperty(e.prototype,"instanceClass",{get:function(){return this._instanceClassReact.value},set:function(t){this._instanceClassReact.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"instanceClassChanged",{get:function(){return this._instanceClassReact.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},Object.defineProperty(e.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),e.prototype.pickFromDiv=function(t,e){var n;null!==(n=this.allowPicking)&&void 0!==n&&n&&this.pickedEvent.emit(new c.DivPickedInfo(t,e))},Object.defineProperty(e.prototype,"innerHtmlMounted",{get:function(){return this._innerHtmlMounted},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sPositionEditing",{get:function(){return this._sPositionEditing},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(n){var r=this;return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new c.GroupProperty("通用","通用",[new c.FunctionProperty("飞入","飞入",["number"],(function(t){return r.flyTo(t)}),[1e3]),new c.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!1,!1,[this,"show"]),new c.BooleanProperty("允许拾取","是否允许拾取",!1,!1,[this,"allowPicking"]),new c.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"],e.defaults.position),new c.BooleanProperty("是否编辑","是否编辑.",!1,!1,[this,"editing"]),new c.Number4Property("原点比例和偏移","原点比例和偏移.",!1,!1,[this,"originRatioAndOffset"]),new c.NumberProperty("透明度","透明度",!1,!1,[this,"opacity"]),new c.EvalStringProperty("实例类","实例类",!0,!1,[this,"instanceClassStr"],e.defaults.instanceClassStr,e.defaults.instanceClassStrReadMe),new c.EvalStringProperty("innerHTML","注意设置此属性设置此属性会自动更新instanceClassStr变量",!0,!1,[this,"innerHTML"],e.defaults.innerHTML,e.defaults.innerHTMLReadMe),new c.FunctionProperty("强制更新","强制更新",["string"],(function(t){t||alert("evalFuncStr为空，无法执行！");try{var e=t&&Function('"use strict";return ('.concat(t,")"))();r.update(e)}catch(t){alert("updateDivFunc error: ".concat(t))}}),["(myDiv, geoCustomDivPoi, viewer) => myDiv.update && myDiv.update()"]),new c.Number4Property("可视范围控制","可视范围控制[near0, near1, far1, far0]",!0,!1,[this,"viewDistanceRange"],e.defaults.viewDistanceRange),new c.BooleanProperty("可视距离调试","可视距离调试",!1,!1,[this,"viewDistanceDebug"])])],!1)},n=e,e.type=n.register("GeoCustomDivPoi",n,{chsName:"自定义DIV兴趣点",tags:["GeoObjects","_ES_Impl_Any"],description:"自定义DIV兴趣点，可以自定义Div样式。"}),e.defaulInstanceClassStr=f,e.instanceClassStrReadMe=h,e.defaults=i(i({},l.ESSceneObject.defaults),{position:[116.39,39.9,0],instanceClassStr:f,instanceClassStrReadMe:h,innerHTML:d,innerHTMLReadMe:y,viewDistanceRange:[1e3,1e4,3e4,6e4]}),e}(l.ESSceneObject);e.GeoCustomDivPoi=g,function(t){t.createDefaultProps=function(){return i({show:!0,allowPicking:!1,opacity:1,position:(0,u.reactArrayWithUndefined)(void 0),editing:!1,originRatioAndOffset:(0,u.reactArray)([.5,1,0,0]),instanceClassStr:void 0,innerHTML:void 0,viewDistanceRange:(0,u.reactArrayWithUndefined)(void 0),viewDistanceDebug:!1},l.ESSceneObject.createDefaultProps())}}(g=e.GeoCustomDivPoi||(e.GeoCustomDivPoi={})),e.GeoCustomDivPoi=g,(0,u.extendClassProps)(g.prototype,g.createDefaultProps)},58646:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoDirectionMeasurement=void 0;var u=n(81425),c=n(72256),l=n(6018),p=n(1245),f=n(4842),h=function(t){function e(e){var n=t.call(this,e)||this;n._pickedEvent=n.disposeVar(new u.Event),n._flyToEvent=n.disposeVar(new u.Event),n._sPositionsEditing=n.disposeVar(new p.PositionsEditing([n,"positions"],!1,[n,"editing"],n.components,2)),n._heading=n.disposeVar((0,u.react)(0));var r=function(){n.positions&&n.positions.length>=2&&(void 0===n.arcType||"GEODESIC"===n.arcType?n._heading.value=(0,p.geoHeading)(n.positions[0],n.positions[1]):"RHUMB"===n.arcType?n._heading.value=(0,p.geoRhumbHeading)(n.positions[0],n.positions[1]):"NONE"===n.arcType?n._heading.value=(0,p.geoHeading)(n.positions[0],n.positions[1]):console.warn("未知的arcType: ".concat(n.arcType,"，导致距离无法计算！")))};r();var o=n.disposeVar((0,c.createNextAnimateFrameEvent)(n.positionsChanged,n.arcTypeChanged));return n.dispose(o.disposableOn(r)),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoDirectionMeasurement"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},Object.defineProperty(e.prototype,"sPositionsEditing",{get:function(){return this._sPositionsEditing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"heading",{get:function(){return this._heading.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headingChanged",{get:function(){return this._heading.changed},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(n){var r=this;return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(t){return r.flyTo(t)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!1,!1,[this,"show"]),new l.BooleanProperty("允许拾取","是否允许拾取",!1,!1,[this,"allowPicking"]),new l.PositionsProperty("位置数组","经度纬度高度，度为单位",!0,!1,[this,"positions"],e.defaults.positions),new l.NumberProperty("线宽","线宽",!1,!1,[this,"width"]),new l.ColorProperty("颜色"," A Property specifying the color.",!1,!1,[this,"color"]),new l.BooleanProperty("是否为虚线","是否为虚线.",!1,!1,[this,"hasDash"]),new l.ColorProperty("间隔颜色","A Property specifying the color.",!1,!1,[this,"gapColor"]),new l.NumberProperty("虚线长度","虚线长度",!1,!1,[this,"dashLength"]),new l.DashPatternProperty("虚线图案","虚线图案",!1,!1,[this,"dashPattern"]),new l.BooleanProperty("是否带箭头","是否带箭头.",!1,!1,[this,"hasArrow"]),new l.BooleanProperty("是否编辑","是否编辑.",!1,!1,[this,"editing"]),new l.EnumProperty("弧线类型","弧线类型",!1,!1,[this,"arcType"],[["直线","NONE"],["地理直线","GEODESIC"],["地理恒向线","RHUMB"]]),new l.BooleanProperty("是否开启深度检测","A boolean Property specifying the visibility.",!1,!1,[this,"depthTest"])])],!1)},n=e,e.type=n.register("GeoDirectionMeasurement",n,{chsName:"方位角测量",tags:["GeoObjects","_ES_Impl_Any"],description:"方位角测量"}),e.defaults=i(i({},f.ESSceneObject.defaults),{positions:[]}),e}(f.ESSceneObject);e.GeoDirectionMeasurement=h,function(t){t.createDefaultProps=function(){return i({show:!0,allowPicking:!1,positions:(0,u.reactPositions)(void 0),width:1,color:(0,u.reactArray)([1,1,1,1]),hasDash:!1,gapColor:(0,u.reactArray)([0,0,0,0]),dashLength:16,dashPattern:255,hasArrow:!1,arcType:"GEODESIC",editing:!1,depthTest:!1},f.ESSceneObject.createDefaultProps())}}(h=e.GeoDirectionMeasurement||(e.GeoDirectionMeasurement={})),e.GeoDirectionMeasurement=h,(0,u.extendClassProps)(h.prototype,h.createDefaultProps)},38340:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoDistanceMeasurement=void 0;var u=n(6018),c=n(81425),l=n(72256),p=n(1245),f=n(4842),h=function(t){function e(e){var n=t.call(this,e)||this;n._pickedEvent=n.disposeVar(new c.Event),n._flyToEvent=n.disposeVar(new c.Event),n._distances=n.disposeVar((0,c.reactArray)([]));var r=function(){var t;n._distances.value=(0,p.getDistancesFromPositions)(null!==(t=n.positions)&&void 0!==t?t:[],n.arcType)};r();var o=n.disposeVar((0,l.createNextAnimateFrameEvent)(n.positionsChanged,n.arcTypeChanged));return n.dispose(o.disposableOn(r)),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoDistanceMeasurement"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},Object.defineProperty(e.prototype,"distances",{get:function(){return this._distances.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"distancesChanged",{get:function(){return this._distances.changed},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(n){var r=this;return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new u.GroupProperty("通用","通用",[new u.FunctionProperty("飞入","飞入",["number"],(function(t){return r.flyTo(t)}),[1e3]),new u.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!1,!1,[this,"show"]),new u.BooleanProperty("允许拾取","是否允许拾取",!1,!1,[this,"allowPicking"]),new u.PositionsProperty("位置数组","经度纬度高度，度为单位",!0,!1,[this,"positions"],e.defaults.positions),new u.NumberProperty("线宽","线宽",!1,!1,[this,"width"]),new u.ColorProperty("颜色"," A Property specifying the color.",!1,!1,[this,"color"]),new u.BooleanProperty("是否为虚线","是否为虚线.",!1,!1,[this,"hasDash"]),new u.ColorProperty("间隔颜色","A Property specifying the color.",!1,!1,[this,"gapColor"]),new u.NumberProperty("虚线长度","虚线长度",!1,!1,[this,"dashLength"]),new u.DashPatternProperty("虚线图案","虚线图案",!1,!1,[this,"dashPattern"]),new u.BooleanProperty("是否带箭头","是否带箭头.",!1,!1,[this,"hasArrow"]),new u.BooleanProperty("是否编辑","是否编辑.",!1,!1,[this,"editing"]),new u.EnumProperty("弧线类型","弧线类型",!1,!1,[this,"arcType"],[["直线","NONE"],["地理直线","GEODESIC"],["地理恒向线","RHUMB"]]),new u.BooleanProperty("是否开启深度检测","A boolean Property specifying the visibility.",!1,!1,[this,"depthTest"])])],!1)},n=e,e.type=n.register("GeoDistanceMeasurement",n,{chsName:"距离测量",tags:["GeoObjects","_ES_Impl_Any"],description:"可自定义测量距离。"}),e.defaults=i(i({},f.ESSceneObject.defaults),{positions:[]}),e}(f.ESSceneObject);e.GeoDistanceMeasurement=h,function(t){t.createDefaultProps=function(){return i({show:!0,allowPicking:!1,positions:(0,c.reactPositions)(void 0),width:1,color:(0,c.reactArray)([1,1,1,1]),hasDash:!1,gapColor:(0,c.reactArray)([0,0,0,0]),dashLength:16,dashPattern:255,hasArrow:!1,arcType:"GEODESIC",editing:!1,depthTest:!1},f.ESSceneObject.createDefaultProps())}}(h=e.GeoDistanceMeasurement||(e.GeoDistanceMeasurement={})),e.GeoDistanceMeasurement=h,(0,c.extendClassProps)(h.prototype,h.createDefaultProps)},88244:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoDivButton=void 0;var u=n(6018),c=n(81425),l=n(4842),p=n(40837),f="cursor: default;\nmin-width: 30px;\nheight: 30px;\nz-index: 100;\npadding: 0px 20px;\nposition: absolute;\nleft: 10px;\ntop: 10px;\nbackground: rgba(0, 25, 33, .6);\ncolor: whitesmoke;\nfont-size: 16px;\nline-height: 30px;\nborder: 1px solid whitesmoke;\nborder-radius: 12px;",h="background: rgba(0, 25, 33, 1.0);\ncolor: white;\ncursor: pointer;",d=function(t){function e(e){var n=t.call(this,e)||this;n._clickFuncReact=n.disposeVar((0,c.react)(void 0));var r,i=n.disposeVar(new p.CustomDiv);n.dispose(n.components.disposableAdd(i)),i.instanceClass=(r=n,function(t){function e(e){var n=t.call(this)||this;n._subContainer=e,n._div=document.createElement("div"),n._subContainer.appendChild(n._div),n.dispose((function(){n._subContainer.removeChild(n._div)}));var o=n.disposeVar((0,c.react)(!1));n._div.onpointerover=function(){return o.value=!0},n._div.onpointerout=function(){return o.value=!1},(i=function(){var t,e,i=null!==(t=r.normalCssText)&&void 0!==t?t:f;o.value?n._div.style.cssText=i+(null!==(e=r.hoveredCssText)&&void 0!==e?e:h):n._div.style.cssText=i})();var i,s=n.disposeVar((0,c.createNextAnimateFrameEvent)(o.changed,r.normalCssTextChanged,r.hoveredCssTextChanged));return n.dispose(s.disposableOn(i)),(i=function(){var t;return n._div.innerText=null!==(t=r.text)&&void 0!==t?t:"请输入文字"})(),n.dispose(r.textChanged.disposableOn(i)),(i=function(){var t;return n._div.onclick=null!==(t=r.clickFunc)&&void 0!==t?t:null})(),n.dispose(r.clickFuncChanged.disposableOn(i)),(i=function(){!1===r.show?n._div.style.display="none":n._div.style.display="block"})(),n.dispose(r.showChanged.disposableOn(i)),n}return o(e,t),e}(c.Destroyable));var s=function(){try{n.clickFunc=n.clickFuncStr&&Function('"use strict";return ('.concat(n.clickFuncStr,")"))()}catch(t){n.clickFuncStr=void 0}};return s(),n.dispose(n.clickFuncStrChanged.disposableOn(s)),n.dispose((0,c.track)([i,"containerId"],[n,"containerId"])),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoDivButton"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clickFunc",{get:function(){return this._clickFuncReact.value},set:function(t){this._clickFuncReact.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clickFuncChanged",{get:function(){return this._clickFuncReact.changed},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(n){return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new u.GroupProperty("通用","通用",[new u.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!1,!1,[this,"show"]),new u.StringProperty("按钮标题","按钮标题",!0,!1,[this,"text"],"请输入文字"),new u.LongStringProperty("normalCssText","normalCssText",!0,!1,[this,"normalCssText"],e.defaultNormalCssText,"\n位置位于左上角\n```\ncursor: default;\nmin-width: 30px;\nheight: 30px;\nz-index: 100;\npadding: 0px 20px;\nposition: absolute;\nleft: 10px;\ntop: 10px;\nbackground: rgba(0, 25, 33, .6);\ncolor: whitesmoke;\nfont-size: 16px;\nline-height: 30px;\nborder: 1px solid whitesmoke;\nborder-radius: 12px;\n```\n位置位于中间上方\n```\ncursor: default;\nmin-width: 30px;\nheight: 30px;\nz-index: 100;\npadding: 0px 20px;\nposition: absolute;\nleft: 50%;\ntop: 10px;\ntransform: translate(-50%);\nbackground: rgba(0, 25, 33, .6);\ncolor: whitesmoke;\nfont-size: 16px;\nline-height: 30px;\nborder: 1px solid whitesmoke;\nborder-radius: 12px;\n```\n位置位于右上角\n```\ncursor: default;\nmin-width: 30px;\nheight: 30px;\nz-index: 100;\npadding: 0px 20px;\nposition: absolute;\nright: 10px;\ntop: 10px;\nbackground: rgba(0, 25, 33, .6);\ncolor: whitesmoke;\nfont-size: 16px;\nline-height: 30px;\nborder: 1px solid whitesmoke;\nborder-radius: 12px;\n```\n\n\n"),new u.LongStringProperty("hoveredCssText","hoveredCssText",!0,!1,[this,"hoveredCssText"],e.defaultHoveredCssText),new u.EvalStringProperty("clickFuncStr","clickFuncStr",!0,!1,[this,"clickFuncStr"],"e => console.log(e)",e.clickFuncStrReadMe),new u.StringProperty("容器ID","容器的ID，如果设置，CustomDiv将自动放入容器，否则放入各个视口中。",!1,!1,[this,"containerId"])])],!1)},n=e,e.type=n.register("GeoDivButton",n,{chsName:"GeoDivButton",tags:["GeoObjects"],description:"GeoDivButton"}),e.defaultNormalCssText=f,e.defaultHoveredCssText=h,e.clickFuncStrReadMe="示例代码如下：  \n```\nfunction (e) {\n    alert(123);\n    console.log(e);\n}\n```\n",e}(l.ESSceneObject);e.GeoDivButton=d,function(t){t.createDefaultProps=function(){return i({show:!0,text:void 0,normalCssText:void 0,hoveredCssText:void 0,clickFuncStr:void 0,containerId:""},l.ESSceneObject.createDefaultProps())}}(d=e.GeoDivButton||(e.GeoDivButton={})),e.GeoDivButton=d,(0,c.extendClassProps)(d.prototype,d.createDefaultProps)},62064:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoDivEditSignboardTextPoi=void 0;var u=n(6018),c=n(81425),l=n(15635),p=n(4842),f=n(79677),h=function(t){function e(e,n,r){var o=t.call(this)||this;return o._container=e,o}return o(e,t),e}(c.Destroyable),d=function(t){function e(n){var r=t.call(this,n)||this;r._flyToEvent=r.disposeVar(new c.Event),r._customDivPoi=r.disposeVar(new f.GeoCustomDivPoi);var i=r,s=r._customDivPoi;r.dispose(r.components.disposableAdd(s)),r.dispose(r.flyToEvent.disposableOn((function(t){s.flyTo(t)}))),r.dispose((0,c.bind)([s,"show"],[r,"show"])),r.dispose((0,c.bind)([s,"position"],[r,"position"])),r.dispose((0,c.bind)([s,"originRatioAndOffset"],[r,"originRatioAndOffset"])),r.dispose((0,c.bind)([s,"editing"],[r,"editing"])),r.dispose((0,c.bind)([s,"opacity"],[r,"opacity"]));var a=function(t){function n(n,r,o){var a,u,l,f,h,d,y,g,v=t.call(this,n,r,o)||this,b=function(t){return p.SceneObject.context.getStrFromEnv(t)};a=document.createElement("div"),v._container.appendChild(a),a.style.position="relative",a.style.width="auto",a.style.display="flex",a.style.flexFlow="column",u=document.createElement("div"),a.appendChild(u),u.style.display="flex",(l=document.createElement("img")).className="left",u.appendChild(l),l.src="".concat(b(e.defaults.leftImg)),f=document.createElement("div"),u.appendChild(f),f.style.display="flex",f.style.justifyContent="space-between",f.style.background="url(".concat(b(e.defaults.middleImg),") no-repeat"),f.style.backgroundSize="100% 100%",h=document.createElement("div"),f.appendChild(h),h.style.flexGrow="1",h.style.textAlign="center",h.innerText="2344",h.style.display="flex",h.style.justifyContent="center",h.style.alignItems="center",h.style.color="#ffffff",h.style.outline="none",h.style.overflow="hidden",h.style.whiteSpace="nowrap",(d=document.createElement("img")).className="right",u.appendChild(d),d.src="".concat(b(e.defaults.rightImg)),y=document.createElement("div"),a.appendChild(y),y.style.position="relative",y.style.display="flex",y.style.justifyContent="center",y.style.width="auto",y.style.height="42px",g=document.createElement("img"),y.appendChild(g),g.style.position="absolute",g.src="".concat(b(e.defaults.bottomImg)),v.dispose((function(){v._container.removeChild(a)}));var m=function(){var t,n,r,o,a,c,p,v,m,_,P,w,E,x;s.show=null===(t=i.show)||void 0===t||t,null!==(n=i.editing)&&void 0!==n&&n||null===(r=i.textEditing)||void 0===r||!r?h.style.pointerEvents="none":h.style.pointerEvents="all",void 0===i.width?h.style.width="auto":h.style.width="".concat(i.width,"px"),void 0===i.maxWidth?h.style.maxWidth="":h.style.maxWidth="".concat(i.maxWidth,"px"),void 0===i.minWidth?h.style.minWidth="auto":h.style.minWidth="".concat(i.minWidth,"px"),void 0!==i.text?h.innerHTML="".concat(i.text):h.innerHTML="请输入文字";var O=null!==(o=i.font)&&void 0!==o?o:"normal 400 14 微软雅黑";h.style.font="".concat(O.split(" ")[0]," ").concat(O.split(" ")[1]," ").concat(O.split(" ")[2],"px ").concat(O.split(" ")[3]);var C=null!==(a=i.color)&&void 0!==a?a:[1,1,1,1];h.style.color="rgba(".concat(255*C[0],",").concat(255*C[1],",").concat(255*C[2],",").concat(C[3],")");var S=null!==(c=i.padding)&&void 0!==c?c:[15,15];h.style.paddingLeft="".concat(S[0],"px"),h.style.paddingRight="".concat(S[1],"px");var M=null!==(p=i.leftImg)&&void 0!==p?p:e.defaults.leftImg,j=null!==(v=i.middleImg)&&void 0!==v?v:e.defaults.middleImg,N=null!==(m=i.rightImg)&&void 0!==m?m:e.defaults.rightImg,I=null!==(_=i.bottomImg)&&void 0!==_?_:e.defaults.bottomImg;l.src="".concat(b(M)),f.style.background="url(".concat(b(j),") no-repeat"),f.style.backgroundSize="100% 100%",d.src="".concat(b(N)),g.src="".concat(b(I)),g.style.left=null!==(P="".concat(i.left,"px"))&&void 0!==P?P:0,g.style.right=null!==(w="".concat(i.right,"px"))&&void 0!==w?w:0,void 0===i.right&&(g.style.right="auto"),void 0===i.left&&(g.style.left="auto"),u.style.transform="scale(".concat(null!==(E=i.zoom)&&void 0!==E?E:1,")"),u.style.transformOrigin="50% 100%",y.style.transform="scale(".concat(null!==(x=i.zoom)&&void 0!==x?x:1,")"),y.style.transformOrigin="50% 0"};m();var _=v.disposeVar((0,c.createNextAnimateFrameEvent)(i.editingChanged,i.textEditingChanged,i.minWidthChanged,i.maxWidthChanged,i.showChanged,i.widthChanged,i.textChanged,i.colorChanged,i.fontChanged,i.leftImgChanged,i.rightImgChanged,i.middleImgChanged,i.bottomImgChanged,i.leftChanged,i.rightChanged,i.zoomChanged,i.paddingChanged));return v.dispose(_.disposableOn(m)),h.ondblclick=function(){var t;null!==(t=i.textEditing)&&void 0!==t&&t&&(h.contentEditable="true",h.style.outline="none",h.onblur=function(){i.text=h.innerText,h.contentEditable="false"})},v}return o(n,t),n}(h);return s.instanceClass=a,r}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoDivEditSignboardTextPoi"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoJson",{get:function(){return(0,l.getGeoJson)("Point",this.position,this.name)},set:function(t){var e=(0,l.setGeoJson)(t);this.name=e.name,this.position=e.position},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(t){return""}},set:function(t){if(t)try{this.geoJson=JSON.parse(t)}catch(t){}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},Object.defineProperty(e.prototype,"customDivPoi",{get:function(){return this._customDivPoi},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(n){var r=this;return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new u.GroupProperty("通用","通用",[new u.FunctionProperty("飞入","飞入",["number"],(function(t){return r.flyTo(t)}),[1e3]),new u.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!1,!1,[this,"show"]),new u.BooleanProperty("文本编辑","文本编辑.",!1,!1,[this,"textEditing"]),new u.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"]),new u.NumberProperty("宽度","宽度",!0,!1,[this,"width"],e.defaults.width),new u.NumberProperty("最大宽度","最大宽度",!0,!1,[this,"maxWidth"],e.defaults.maxWidth),new u.NumberProperty("最小宽度","最小宽度",!0,!1,[this,"minWidth"],e.defaults.minWidth),new u.StringProperty("内容","内容",!0,!1,[this,"text"],e.defaults.text),new u.BooleanProperty("是否编辑","是否编辑.",!1,!1,[this,"editing"]),new u.Number4Property("原点比例和偏移","原点比例和偏移.",!1,!1,[this,"originRatioAndOffset"]),new u.NumberProperty("透明度","透明度",!1,!1,[this,"opacity"]),new u.Number2Property("左右内边距","左右内边距",!1,!1,[this,"padding"]),new u.ColorProperty("字体颜色"," 字体颜色.",!1,!1,[this,"color"]),new u.StringProperty("字体样式","字体样式",!1,!1,[this,"font"]),new u.StringProperty("左边图片","左边图片",!1,!1,[this,"leftImg"]),new u.StringProperty("中间图片","中间图片",!1,!1,[this,"middleImg"]),new u.StringProperty("右边图片","右边图片",!1,!1,[this,"rightImg"]),new u.StringProperty("下边图片","下边图片",!1,!1,[this,"bottomImg"]),new u.NumberProperty("左定位","距离左边像素值，如果左右都设置了，以左为主",!0,!1,[this,"left"],e.defaults.left),new u.NumberProperty("右定位","距离右边像素值",!0,!1,[this,"right"],e.defaults.right),new u.NumberProperty("图片缩放","图片缩放",!1,!1,[this,"zoom"])])],!1)},n=e,e.type=n.register("GeoDivEditSignboardTextPoi",n,{chsName:"DIV图片文字编辑",tags:["GeoObjects"],description:"带标识牌的DIV可以双击可以编辑文字。"}),e.defaults=i(i({},p.ESSceneObject.defaults),{show:!0,textEditing:!1,width:80,maxWidth:200,minWidth:20,text:"请输入文字",editing:!1,originRatioAndOffset:[.5,1,0,0],font:"normal 400 14 微软雅黑",opacity:1,left:0,right:0,zoom:1,padding:[15,15],color:[1,1,1,1],leftImg:"${xe2-base-objects-script-dir}/xe2-assets/xe2-base-objects/images/GeoDivEditSignboardTextPoi/zuo.png",middleImg:"${xe2-base-objects-script-dir}/xe2-assets/xe2-base-objects/images/GeoDivEditSignboardTextPoi/zhong.png",rightImg:"${xe2-base-objects-script-dir}/xe2-assets/xe2-base-objects/images/GeoDivEditSignboardTextPoi/you.png",bottomImg:"${xe2-base-objects-script-dir}/xe2-assets/xe2-base-objects/images/GeoDivEditSignboardTextPoi/jiantou.png"}),e}(p.ESSceneObject);e.GeoDivEditSignboardTextPoi=d,function(t){t.createDefaultProps=function(){return i({show:!0,position:(0,c.reactArrayWithUndefined)(void 0),text:void 0,width:void 0,maxWidth:void 0,minWidth:void 0,left:void 0,right:void 0,zoom:1,editing:!1,textEditing:!1,leftImg:"${xe2-base-objects-script-dir}/xe2-assets/xe2-base-objects/images/GeoDivEditSignboardTextPoi/zuo.png",middleImg:"${xe2-base-objects-script-dir}/xe2-assets/xe2-base-objects/images/GeoDivEditSignboardTextPoi/zhong.png",rightImg:"${xe2-base-objects-script-dir}/xe2-assets/xe2-base-objects/images/GeoDivEditSignboardTextPoi/you.png",bottomImg:"${xe2-base-objects-script-dir}/xe2-assets/xe2-base-objects/images/GeoDivEditSignboardTextPoi/jiantou.png",originRatioAndOffset:(0,c.reactArray)([.5,1,0,0]),opacity:1,padding:(0,c.reactArray)([15,15]),font:"normal 400 14 微软雅黑",textAlign:void 0,color:(0,c.reactArray)([1,1,1,1])},p.ESSceneObject.createDefaultProps())}}(d=e.GeoDivEditSignboardTextPoi||(e.GeoDivEditSignboardTextPoi={})),e.GeoDivEditSignboardTextPoi=d,(0,c.extendClassProps)(d.prototype,d.createDefaultProps)},72124:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoDivImgPoi=void 0;var u=n(81425),c=n(72256),l=n(6018),p=n(4842),f=n(79677),h=function(t){function e(e){var n=t.call(this,e)||this;n._flyToEvent=n.disposeVar(new u.Event),n._pickedEvent=n.disposeVar(new u.Event);var r=n.disposeVar(new f.GeoCustomDivPoi);n.dispose(n.components.disposableAdd(r)),n.dispose(n.flyToEvent.disposableOn((function(t){r.flyTo(t)}))),n.dispose((0,u.bind)([r,"show"],[n,"show"])),n.dispose((0,u.bind)([r,"position"],[n,"position"])),n.dispose((0,u.bind)([r,"originRatioAndOffset"],[n,"originRatioAndOffset"])),n.dispose((0,u.bind)([r,"editing"],[n,"editing"])),n.dispose((0,u.bind)([r,"opacity"],[n,"opacity"])),n.dispose((0,u.bind)([r,"viewDistanceRange"],[n,"viewDistanceRange"])),n.dispose((0,u.bind)([r,"viewDistanceDebug"],[n,"viewDistanceDebug"]));var o,i=n.disposeVar(l.SceneObject.context.createEvnStrReact([n,"uri"])),s=function(){var t,e,o,s;if(r.show=null===(t=n.show)||void 0===t||t,void 0!==i.value){var a,u,c=i.value.endsWith("svg"),l=i.value.startsWith("<svg"),p=null!==(e=n.originRatioAndOffset)&&void 0!==e?e:[.5,1,0,0],f=null!==(o=n.size)&&void 0!==o?o:[50,50],h=null!==(s=n.heading)&&void 0!==s?s:0;r.originRatioAndOffset?(a=f[0]*p[0]+p[2]+"px",u=f[1]*p[1]+p[3]+"px"):a=u="0%";var d="".concat(n.showHelper?"border: solid 1px red;":"");if(l){var y='<div class="czmGeo_DivImgPoi" style="'.concat(d,"width:").concat(f[0],"px;height:").concat(f[1],"px;transform-origin:").concat(a," ").concat(u,";transform: rotate(").concat(h,'deg);">').concat(i.value,"</div>");r.innerHTML=y}else if(c){var g='<div class="czmGeo_DivImgPoi" style="'.concat(d,"width:").concat(f[0],"px;height:").concat(f[1],"px;transform-origin:").concat(a," ").concat(u,";transform: rotate(").concat(h,'deg);"><embed src="').concat(i.value,'" width="').concat(f[0],'" height="').concat(f[1],'" type="image/svg+xml" /></div>');r.innerHTML=g}else{var v='<img class="czmGeo_DivImgPoi" src="'.concat(i.value,'" style="').concat(d,"width:").concat(f[0],"px;transform-origin:").concat(a," ").concat(u,";height:").concat(f[1],"px;transform: rotate(").concat(h,'deg);">');r.innerHTML=v}}};n.dispose((function(){return o=void 0})),n.dispose(r.innerHtmlMounted.disposableOn((function(t){o=t.querySelectorAll(".czmGeo_DivImgPoi")[0]})));var a=n.disposeVar(new c.PointerClick);n.dispose(r.innerHtmlMounted.disposableOn((function(t){t.style.pointerEvents="all",t.addEventListener("pointerdown",(function(t){return a.pointerDown(t)})),t.addEventListener("pointermove",(function(t){return a.pointerMove(t)})),t.addEventListener("pointerout",(function(t){return a.pointerOut(t)})),t.addEventListener("pointerup",(function(t){return a.pointerUp(t)}))}))),n.dispose(a.clickEvent.disposableWeakOn((function(t){n.pickOnClick&&n.pickedEvent.emit(new l.SceneObjectPickedInfo(n,new l.AttachedPickedInfo({type:"viewerPicking",pointerEvent:t})))}))),s();var p=n.disposeVar((0,u.createNextAnimateFrameEvent)(n.showChanged,n.showHelperChanged,n.sizeChanged,n.originRatioAndOffsetChanged));return n.dispose(p.disposableOn(s)),n.dispose(i.changed.disposableOn(s)),n.dispose(n.headingChanged.disposableOn((function(){var t;o&&(o.style.transform="rotate(".concat(null!==(t=n.heading)&&void 0!==t?t:0,"deg)"))}))),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoDivImgPoi"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},Object.defineProperty(e.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(n){var r=this;return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(t){return r.flyTo(t)}),[1e3]),new l.BooleanProperty("是否显示","是否显示",!1,!1,[this,"show"]),new l.BooleanProperty("辅助线框","辅助线框",!1,!1,[this,"showHelper"]),new l.Number4Property("可视范围控制","可视范围控制[near0, near1, far1, far0]",!0,!1,[this,"viewDistanceRange"],e.defaults.viewDistanceRange),new l.BooleanProperty("可视距离调试","可视距离调试",!1,!1,[this,"viewDistanceDebug"]),new l.BooleanProperty("pickOnClick","pickOnClick.",!1,!1,[this,"pickOnClick"]),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"]),new l.StringProperty("路径","路径",!1,!1,[this,"uri"]),new l.BooleanProperty("是否编辑","是否编辑.",!1,!1,[this,"editing"]),new l.Number4Property("原点比例和偏移","原点比例和偏移.",!1,!1,[this,"originRatioAndOffset"]),new l.NumberProperty("透明度","透明度",!1,!1,[this,"opacity"]),new l.Number2Property("尺寸","宽高尺寸,单位是px",!1,!1,[this,"size"]),new l.NumberProperty("旋转角度","旋转角度",!1,!1,[this,"heading"])])],!1)},n=e,e.type=n.register("GeoDivImgPoi",n,{chsName:"GeoDivImgPoi",tags:["GeoObjects"],description:"用HTML标签img实现的poi"}),e.defaults=i(i({},p.ESSceneObject.defaults),{viewDistanceRange:[1e3,1e4,3e4,6e4]}),e}(p.ESSceneObject);e.GeoDivImgPoi=h,function(t){t.createDefaultProps=function(){return i(i({},p.ESSceneObject.createDefaultProps()),{show:!0,showHelper:!1,position:(0,u.reactArrayWithUndefined)(void 0),uri:"${scene-manager-script-dir}/xe2-assets/scene-manager/images/location.png",heading:0,editing:!1,size:[50,50],originRatioAndOffset:(0,u.reactArray)([.5,1,0,0]),opacity:1,viewDistanceRange:(0,u.reactArrayWithUndefined)(void 0),viewDistanceDebug:!1,pickOnClick:!1})}}(h=e.GeoDivImgPoi||(e.GeoDivImgPoi={})),e.GeoDivImgPoi=h,(0,u.extendClassProps)(h.prototype,h.createDefaultProps)},34202:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoDivSwitchPoi=void 0;var u=n(6018),c=n(81425),l=n(15635),p=n(4842),f=n(79677),h=function(t){function e(e){var n=t.call(this,e)||this;n._flyToEvent=n.disposeVar(new c.Event);var r=n.disposeVar(new f.GeoCustomDivPoi);n.dispose(n.components.disposableAdd(r)),n.dispose(n.flyToEvent.disposableOn((function(t){r.flyTo(t)}))),n.dispose((0,c.bind)([r,"position"],[n,"position"])),n.dispose((0,c.bind)([r,"editing"],[n,"editing"]));var o=n.disposeVar(u.SceneObject.context.createEvnStrReact([n,"uri"],"${scene-manager-script-dir}/xe2-assets/scene-manager/images/location.png")),i=function(){var t,e,i,s;r.show=null===(t=n.show)||void 0===t||t;var a=null!==(e=n.size)&&void 0!==e?e:[50,50],u=null===(i=n.showIcon)||void 0===i||i,c='<img id="xbsj-geoDivSwitchPoi-defaultpoi-icon" src="'.concat(o.value,'" style="width:').concat(a[0],"px;height:").concat(a[1],'px;position:relative;pointer-events:all;cursor: pointer;">'),l='<div style="width: 200px;height: 120px;position:relative;pointer-events:all;"> \n                                    <span id="xbsj-geoDivSwitchPoi-defaultpoi-infos" style="display:block;position:absolute;top:0px;right:0px;width:20px;color:#000;height:25px;line-height:25px;cursor: pointer;  z-index: 2;user-select:none;"> ╳ </span>\n                                    <span style="position:absolute; bottom:0px;left:80px;border:10px transparent solid; border-top-color:#fff; border-width:20px 20px 0 20px; z-index: 2;"></span>\n                                    <div style="width:100%;height:100px;border-radius: 10px; background: #fff;position:absolute;left:0px;top:0px;overflow: auto;text-align:center;box-shadow:0px 0px 20px 2px rgb(0 0 0 / 20%);">                                  \n                                    <div style="width:180px;height:70px;margin:20px 10px 10px 10px;word-wrap:break-word;overflow: auto;color:rgb(44,62,80);">\n                                    '.concat(null!==(s=n.text)&&void 0!==s?s:"请输入内容","             \n                                    </div>                            \n                                    </div>\n                                </div>");r.innerHTML=u?c:l};n.dispose(r.innerHtmlMounted.disposableOn((function(t){t&&function(t){var e,r,o=null===(e=n.showIcon)||void 0===e||e;o?(r=t.querySelectorAll("#xbsj-geoDivSwitchPoi-defaultpoi-icon")[0])&&(r.onclick=function(){var t;null!==(t=n.editing)&&void 0!==t&&t||(n.showIcon=!o)}):(r=t.querySelectorAll("#xbsj-geoDivSwitchPoi-defaultpoi-infos")[0])&&(r.onclick=function(){var t;null!==(t=n.editing)&&void 0!==t&&t||(n.showIcon=!o)})}(t)}))),i();var s=n.disposeVar((0,c.createNextAnimateFrameEvent)(n.showChanged,n.textChanged,n.showIconChanged,n.sizeChanged));return n.dispose(s.disposableOn(i)),n.dispose(o.changed.disposableOn(i)),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoDivSwitchPoi"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoJson",{get:function(){return(0,l.getGeoJson)("Point",this.position,this.name)},set:function(t){var e=(0,l.setGeoJson)(t);this.name=e.name,this.position=e.position},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(t){return""}},set:function(t){if(t)try{this.geoJson=JSON.parse(t)}catch(t){console.error(t)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},e.prototype.getProperties=function(e){var n=this;return a(a([],s(t.prototype.getProperties.call(this,e)),!1),[new u.GroupProperty("通用","通用",[new u.FunctionProperty("飞入","飞入",["number"],(function(t){return n.flyTo(t)}),[1e3]),new u.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!1,!1,[this,"show"]),new u.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"]),new u.LongStringProperty("内容","内容",!0,!1,[this,"text"],"请输入内容"),new u.BooleanProperty("是否编辑","是否编辑.",!1,!1,[this,"editing"]),new u.BooleanProperty("展示图标/面板","展示图标/面板.",!1,!1,[this,"showIcon"]),new u.Number2Property("图标尺寸","宽高尺寸,单位是px",!1,!1,[this,"size"]),new u.StringProperty("路径","路径",!1,!1,[this,"uri"]),new u.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return n.geoJsonStr}),(function(t){return t&&(n.geoJsonStr=t)}))])],!1)},n=e,e.type=n.register("GeoDivSwitchPoi",n,{chsName:"GeoDivSwitchPoi",tags:["GeoObjects"],description:"GeoDivSwitchPoi"}),e.defaults=i(i({},p.ESSceneObject.defaults),{text:"请输入内容"}),e}(p.ESSceneObject);e.GeoDivSwitchPoi=h,function(t){t.createDefaultProps=function(){return i({show:!0,position:(0,c.reactArrayWithUndefined)(void 0),text:void 0,editing:!1,showIcon:!0,size:[50,50],uri:"${scene-manager-script-dir}/xe2-assets/scene-manager/images/location.png"},p.ESSceneObject.createDefaultProps())}}(h=e.GeoDivSwitchPoi||(e.GeoDivSwitchPoi={})),e.GeoDivSwitchPoi=h,(0,c.extendClassProps)(h.prototype,h.createDefaultProps)},96492:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoDivTextPoi=void 0;var u=n(81425),c=n(72256),l=n(6018),p=n(4842),f=n(79677),h=function(t){function e(e,n,r){var o=t.call(this)||this;return o._container=e,o}return o(e,t),e}(u.Destroyable),d=function(t){function e(e){var n=t.call(this,e)||this;n._pickedEvent=n.disposeVar(new u.Event),n._divEvent=n.disposeVar(new u.Event),n._divCreatedEvent=n.disposeVar(new u.Event),n._divToDestroyEvent=n.disposeVar(new u.Event),n._flyToEvent=n.disposeVar(new u.Event),n._customDivPoi=n.disposeVar(new f.GeoCustomDivPoi);var r=n,i=n._customDivPoi;n.dispose(n.components.disposableAdd(i)),n.dispose(n.flyToEvent.disposableOn((function(t){i.flyTo(t)}))),n.dispose((0,u.bind)([i,"show"],[n,"show"])),n.dispose((0,u.bind)([i,"position"],[n,"position"])),n.dispose((0,u.bind)([i,"originRatioAndOffset"],[n,"originRatioAndOffset"])),n.dispose((0,u.bind)([i,"editing"],[n,"positionEditing"])),n.dispose((0,u.bind)([i,"opacity"],[n,"opacity"])),n.dispose((0,u.bind)([i,"viewDistanceRange"],[n,"viewDistanceRange"])),n.dispose((0,u.bind)([i,"viewDistanceDebug"],[n,"viewDistanceDebug"]));var s=function(t){function e(e,n,o){var s=t.call(this,e,n,o)||this,a=document.createElement("div");a.style.overflow="hidden",a.style.whiteSpace="nowrap",s._container.appendChild(a),s.dispose((function(){s._container.removeChild(a)})),a.addEventListener("mouseover",(function(){r.divEvent.emit(!0)})),a.addEventListener("mouseout",(function(){r.divEvent.emit(!1)}));var c=function(){var t,e,n,o,s,u,c,l,p,f,h;i.show=null===(t=r.show)||void 0===t||t,a.style.pointerEvents="all",void 0===r.width?a.style.width="auto":a.style.width="".concat(r.width,"px"),void 0!==r.text?a.innerHTML="".concat(null!==(e=r.text.replace(/\n/g,"<br/>"))&&void 0!==e?e:"请输入文字"):a.innerHTML="请输入文字",a.style.fontSize="".concat(null!==(n=r.fontSize)&&void 0!==n?n:14,"px");var d=null!==(o=r.borderRadius)&&void 0!==o?o:[6,6,6,6];a.style.borderRadius="".concat(d[0],"px ").concat(d[1],"px ").concat(d[2],"px ").concat(d[3],"px");var y=null!==(s=r.color)&&void 0!==s?s:[1,1,1,1];a.style.color="rgba(".concat(255*y[0],",").concat(255*y[1],",").concat(255*y[2],",").concat(y[3],")");var g=null!==(u=r.backgroundColor)&&void 0!==u?u:[0,0,0,.8];a.style.backgroundColor="rgba(".concat(255*g[0],",").concat(255*g[1],",").concat(255*g[2],",").concat(g[3],")");var v=null!==(c=r.padding)&&void 0!==c?c:[5,5,5,5];a.style.padding="".concat(v[0],"px ").concat(v[1],"px ").concat(v[2],"px ").concat(v[3],"px"),a.style.borderWidth="".concat(null!==(l=r.borderWidth)&&void 0!==l?l:0,"px");var b=null!==(p=r.borderColor)&&void 0!==p?p:[1,1,1,1];a.style.borderColor="rgba(".concat(255*b[0],",").concat(255*b[1],",").concat(255*b[2],",").concat(b[3],")"),a.style.borderStyle="".concat(null!==(f=r.borderStyle)&&void 0!==f?f:"solid"),a.style.textAlign="".concat(null!==(h=r.textAlign)&&void 0!==h?h:"left")};c();var l=s.disposeVar((0,u.createNextAnimateFrameEvent)(r.showChanged,r.widthChanged,r.textChanged,r.fontSizeChanged,r.borderRadiusChanged,r.colorChanged,r.backgroundColorChanged,r.paddingChanged,r.borderWidthChanged,r.borderColorChanged,r.borderStyleChanged,r.textAlignChanged));s.dispose(l.disposableOn(c)),(p=function(){r.textEditing?(a.contentEditable="true",a.focus(),document.execCommand("selectAll",!1,null)):(a.contentEditable="false",document.execCommand("unselect",!1,null))})(),s.dispose(r.textEditingChanged.disposableOn(p)),(p=function(){var t;r.textEditingInteraction||(null!==(t=r.positionEditing)&&void 0!==t&&t?a.style.pointerEvents="none":a.style.pointerEvents="all")})(),s.dispose(r.positionEditingChanged.disposableOn(p));var p,f=null;return s.dispose((function(){return clearInterval(f)})),(p=function(){a.ondblclick=function(){r.positionEditing&&(r.positionEditing=!1),r.textEditingInteraction&&(r.textEditing=!0)},a.onblur=function(){r.text=a.innerText,r.textEditingInteraction&&(f&&clearTimeout(f),f=setTimeout((function(){r.textEditing=!1}),100))},a.addEventListener("keydown",(function(t){r.textEditingInteraction&&("Enter"!==t.code||t.shiftKey||a.blur(),"Escape"===t.code&&a.blur())}))})(),s.dispose(r.textEditingInteractionChanged.disposableOn(p)),r._divCreatedEvent.emit(a),s.dispose((function(){return r._divToDestroyEvent.emit(a)})),s}return o(e,t),e}(h);i.instanceClass=s;var a=n.disposeVar(new c.PointerClick);return n.dispose(n.divCreatedEvent.disposableOn((function(t){t.addEventListener("pointerdown",(function(t){return a.pointerDown(t)})),t.addEventListener("pointermove",(function(t){return a.pointerMove(t)})),t.addEventListener("pointerout",(function(t){return a.pointerOut(t)})),t.addEventListener("pointerup",(function(t){return a.pointerUp(t)}))}))),n.dispose(a.clickEvent.disposableWeakOn((function(t){r.pickOnClick&&r.pickedEvent.emit(new l.SceneObjectPickedInfo(r,new l.AttachedPickedInfo({type:"viewerPicking",pointerEvent:t})))}))),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoDivTextPoi"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"divEvent",{get:function(){return this._divEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"divCreatedEvent",{get:function(){return this._divCreatedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"divToDestroyEvent",{get:function(){return this._divToDestroyEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},Object.defineProperty(e.prototype,"customDivPoi",{get:function(){return this._customDivPoi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sPositionEditing",{get:function(){return this._customDivPoi.sPositionEditing},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(n){var r=this;return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(t){return r.flyTo(t)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!1,!1,[this,"show"]),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"]),new l.Number4Property("可视范围控制","可视范围控制[near0, near1, far1, far0]",!0,!1,[this,"viewDistanceRange"],e.defaults.viewDistanceRange),new l.BooleanProperty("可视距离调试","可视距离调试",!1,!1,[this,"viewDistanceDebug"]),new l.BooleanProperty("pickOnClick","pickOnClick.",!1,!1,[this,"pickOnClick"])]),new l.GroupProperty("样式","样式",[new l.BooleanProperty("文本编辑交互","文本编辑交互.",!1,!1,[this,"textEditingInteraction"]),new l.BooleanProperty("文本编辑","文本编辑.",!1,!1,[this,"textEditing"]),new l.NumberProperty("宽度","宽度",!0,!1,[this,"width"],e.defaults.width),new l.LongStringProperty("内容","内容",!0,!1,[this,"text"],e.defaults.text),new l.BooleanProperty("位置编辑","位置编辑.",!1,!1,[this,"positionEditing"]),new l.Number4Property("原点比例和偏移","原点比例和偏移.",!1,!1,[this,"originRatioAndOffset"]),new l.NumberProperty("透明度","透明度",!1,!1,[this,"opacity"]),new l.NumberProperty("字体大小","字体大小",!1,!1,[this,"fontSize"]),new l.ColorProperty("字体颜色"," 字体颜色.",!1,!1,[this,"color"]),new l.ColorProperty("背景颜色"," 背景颜色.",!1,!1,[this,"backgroundColor"]),new l.Number4Property("内边距","上，右，下，左顺序.",!1,!1,[this,"padding"]),new l.Number4Property("边框圆角","左上，右上，右下，左下.",!1,!1,[this,"borderRadius"]),new l.ColorProperty("边框颜色"," 边框色.",!1,!1,[this,"borderColor"]),new l.NumberProperty("边框宽度","边框宽度",!1,!1,[this,"borderWidth"]),new l.EnumProperty("文字位置","文字位置",!1,!1,[this,"textAlign"],[["center","center"],["left","left"],["right","right"]]),new l.EnumProperty("边框类型","边框类型",!1,!1,[this,"borderStyle"],[["none","none"],["hidden","hidden"],["dotted","dotted"],["dashed","dashed"],["solid","solid"],["double","double"],["groove","groove"],["ridge","ridge"],["inset","inset"],["outset","outset"]])])],!1)},n=e,e.type=n.register("GeoDivTextPoi",n,{chsName:"DIV文字编辑",tags:["GeoObjects"],description:"双击DIV可以编辑文字。"}),e.defaults=i(i({},p.ESSceneObject.defaults),{width:80,text:"请输入文字",borderStyle:"solid",viewDistanceRange:[1e3,1e4,3e4,6e4]}),e}(p.ESSceneObject);e.GeoDivTextPoi=d,function(t){t.createDefaultProps=function(){return i(i({},p.ESSceneObject.createDefaultProps()),{show:!0,position:(0,u.reactArrayWithUndefined)(void 0),text:void 0,width:void 0,positionEditing:!1,textEditing:!1,textEditingInteraction:!1,originRatioAndOffset:(0,u.reactArray)([.5,1,0,0]),opacity:1,fontSize:14,textAlign:"left",color:(0,u.reactArray)([1,1,1,1]),backgroundColor:(0,u.reactArray)([0,0,0,.8]),padding:(0,u.reactArray)([5,5,5,5]),borderRadius:(0,u.reactArray)([6,6,6,6]),borderWidth:0,borderColor:(0,u.reactArray)([1,1,1,1]),borderStyle:"solid",viewDistanceRange:(0,u.reactArrayWithUndefined)(void 0),viewDistanceDebug:!1,pickOnClick:!1})}}(d=e.GeoDivTextPoi||(e.GeoDivTextPoi={})),e.GeoDivTextPoi=d,(0,u.extendClassProps)(d.prototype,d.createDefaultProps)},7993:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoEllipse=void 0;var u=n(81425),c=n(15635),l=n(6018),p=n(1245),f=n(4842),h=function(t){function e(e){var n=t.call(this,e)||this;return n._flyToEvent=n.disposeVar(new u.Event),n._sPositionEditing=n.disposeVar(new p.PositionEditing([n,"position"],[n,"positionEditing"],n.components)),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoEllipse"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},Object.defineProperty(e.prototype,"sPositionEditing",{get:function(){return this._sPositionEditing},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(n){var r=this;return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(t){return r.flyTo(t)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!1,!1,[this,"show"]),new l.BooleanProperty("是否贴地","A boolean Property specifying the visibility.",!1,!1,[this,"ground"]),new l.BooleanProperty("是否显示轮廓线","是否显示轮廓线.",!1,!1,[this,"outline"]),new l.BooleanProperty("是否透明","是否透明.",!1,!1,[this,"translucent"]),new l.ColorProperty("轮廓线颜色"," A Property specifying the color.",!1,!1,[this,"outlineColor"]),new l.NumberProperty("间隔尺寸","granularity must be greater than zero.",!1,!1,[this,"granularity"]),new l.NumberProperty("垂直线条数","垂直线条数",!1,!1,[this,"numberOfVerticalLines"]),new l.JsonProperty("材质","A Property specifying the material used to fill the circle.",!1,!1,[this,"material"],e.defaults.material,c.CzmMaterialJsonTypeMd),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"]),new l.BooleanProperty("是否编辑位置","是否编辑位置(positionEditing)",!1,!1,[this,"positionEditing"]),new l.NumberProperty("短半轴","短半轴",!1,!1,[this,"semiMinorAxis"]),new l.NumberProperty("长半轴","长半轴",!1,!1,[this,"semiMajorAxis"]),new l.NumberProperty("旋转角度","旋转角度",!1,!1,[this,"rotation"]),new l.NumberProperty("纹理旋转角度","纹理旋转角度.",!1,!1,[this,"stRotation"]),new l.NumberProperty("高度","高度",!1,!1,[this,"height"]),new l.NumberProperty("拉伸高度","拉伸高度",!1,!1,[this,"extrudedHeight"]),new l.Number3Property("ellipsoid","ellipsoid",!1,!1,[this,"ellipsoid"])])],!1)},n=e,e.type=n.register("GeoEllipse",n,{chsName:"GeoEllipse",tags:["GeoObjects","_ES_Impl_Any"],description:"GeoEllipse"}),e.defaults=i(i({},f.ESSceneObject.defaults),{material:{type:"Color",color:[1,1,1,.5]}}),e}(f.ESSceneObject);e.GeoEllipse=h,function(t){t.createDefaultProps=function(){return i({show:!0,ground:!1,outline:!0,translucent:!0,outlineColor:(0,u.reactArray)([1,1,1,1]),granularity:1,numberOfVerticalLines:0,material:(0,u.reactJson)({type:"Color",color:[1,1,1,1]}),position:(0,u.reactArrayWithUndefined)(void 0),positionEditing:!1,semiMinorAxis:0,semiMajorAxis:0,rotation:0,stRotation:0,height:0,extrudedHeight:0,ellipsoid:[6378137,6378137,6356752.314245179]},f.ESSceneObject.createDefaultProps())}}(h=e.GeoEllipse||(e.GeoEllipse={})),e.GeoEllipse=h,(0,u.extendClassProps)(h.prototype,h.createDefaultProps)},33377:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoEllipsoid=void 0;var u=n(6018),c=n(81425),l=n(15635),p=n(4842),f=n(1245),h=function(t){function e(e){var n=t.call(this,e)||this;return n._flyToEvent=n.disposeVar(new c.Event),n._sPositionEditing=n.disposeVar(new f.PositionEditing([n,"position"],[n,"positionEditing"],n.components)),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoEllipsoid"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},Object.defineProperty(e.prototype,"sPositionEditing",{get:function(){return this._sPositionEditing},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(n){var r=this;return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new u.GroupProperty("通用","通用",[new u.FunctionProperty("飞入","飞入",["number"],(function(t){return r.flyTo(t)}),[1e3]),new u.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!1,!1,[this,"show"]),new u.BooleanProperty("是否显示轮廓线","是否显示轮廓线.",!1,!1,[this,"outline"]),new u.JsonProperty("材质","A Property specifying the material used to fill the circle.",!0,!1,[this,"material"],e.defaults.material,l.CzmMaterialJsonTypeMd),new u.ColorProperty("轮廓线颜色"," A Property specifying the color.",!1,!1,[this,"outlineColor"]),new u.BooleanProperty("轮廓线是否透明","是否透明.",!1,!1,[this,"translucent"]),new u.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"]),new u.BooleanProperty("是否编辑位置","是否编辑位置(positionEditing)",!1,!1,[this,"positionEditing"]),new u.Number3Property("半径","m为单位",!1,!1,[this,"radii"]),new u.Number3Property("内半径","m为单位",!1,!1,[this,"innerRadii"]),new u.NumberProperty("平面最小角度","平面最小角度.",!1,!1,[this,"minimumClock"]),new u.NumberProperty("平面最大角度","平面最大角度",!1,!1,[this,"maximumClock"]),new u.NumberProperty("空间最小角度","空间最小角度",!1,!1,[this,"minimumCone"]),new u.NumberProperty("空间最小大角度","空间最大角度",!1,!1,[this,"maximumCone"]),new u.NumberProperty("堆叠数量","堆叠数量",!1,!1,[this,"stackPartitions"]),new u.NumberProperty("径向切片数量","径向切片数量.",!1,!1,[this,"slicePartitions"]),new u.NumberProperty("曲率粒度","曲率粒度",!1,!1,[this,"subdivisions"])])],!1)},n=e,e.type=n.register("GeoEllipsoid",n,{chsName:"GeoEllipsoid",tags:["GeoObjects","_ES_Impl_Any"],description:"GeoEllipsoid"}),e.defaults=i(i({},p.ESSceneObject.defaults),{material:{type:"Color",color:[1,1,1,.5]}}),e}(p.ESSceneObject);e.GeoEllipsoid=h,function(t){t.createDefaultProps=function(){return i({show:!0,outline:!0,material:(0,c.reactJsonWithUndefined)(void 0),outlineColor:(0,c.reactArray)([1,1,1,1]),position:(0,c.reactArrayWithUndefined)(void 0),positionEditing:!1,radii:(0,c.reactArray)([1,1,1]),innerRadii:(0,c.reactArray)([1,1,1]),minimumClock:0,maximumClock:360,minimumCone:0,maximumCone:180,stackPartitions:64,slicePartitions:64,subdivisions:1,translucent:!0},p.ESSceneObject.createDefaultProps())}}(h=e.GeoEllipsoid||(e.GeoEllipsoid={})),e.GeoEllipsoid=h,(0,c.extendClassProps)(h.prototype,h.createDefaultProps)},85280:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoGifPoi=void 0;var u=n(6018),c=n(81425),l=n(72256),p=n(4842),f=n(79677),h=function(t){function e(e,n){var r=t.call(this)||this;r._contentDiv=e,r._sceneObject=n,r._gif=r.disposeVar(new l.Gif(r._contentDiv));var o=r._contentDiv,i=r._sceneObject,a=r.gif,p=function(){var t;a.player.autoPlayOnLoad=null!==(t=i.autoPlayOnLoad)&&void 0!==t&&t};p(),r.dispose(i.autoPlayOnLoadChanged.disposableOn(p)),r.dispose((0,c.track)([a.player,"loop","loopChangedEvent"],[i,"loop"],(function(t){return null!=t?t:d.defaults.loop}))),r.dispose((0,c.bindu)([a.player,"currentTime","currentTimeChangedEvent"],[i,"currentTime"],d.defaults.currentTime)),r.dispose((0,c.bindu)([a.player,"playing","playingChangedEvent"],[i,"playing"],d.defaults.playing)),r.dispose((0,c.track)([a.player,"speed","speedChangedEvent"],[i,"speed"],(function(t){return null!=t?t:d.defaults.speed})));var f,h=r.disposeVar(u.SceneObject.context.createEvnStrReact([i,"gifUrl"],d.defaults.gifUrl)),y=function(){var t;a.url=null!==(t=h.value)&&void 0!==t?t:""};y(),r.dispose(h.changed.disposableOn(y)),r.dispose(a.loadedEvent.disposableOn((function(){f=a.size,g(),i._setDuration(a.duration)}))),r.dispose((function(){return i._setDuration(0)}));var g=function(){var t,e,n=s(null!==(e=null!==(t=r._sceneObject.size)&&void 0!==t?t:f)&&void 0!==e?e:d.defaults.size,2),i=n[0],a=n[1];o.style.width="".concat(i,"px"),o.style.height="".concat(a,"px")};return g(),r._sceneObject.sizeChanged.disposableOn(g),r}return o(e,t),Object.defineProperty(e.prototype,"gif",{get:function(){return this._gif},enumerable:!1,configurable:!0}),e}(c.Destroyable),d=function(t){function e(e){var n=t.call(this,e)||this;n._pickedEvent=n.disposeVar(new c.Event),n._flyToEvent=n.disposeVar(new c.Event),n._duration=n.disposeVar((0,c.react)(0)),n._ratio=n.disposeVar(u.PlayerProperty.createPlayingRatio([n,"currentTime"],[n,"duration"]));var r=n.disposeVar(new f.GeoCustomDivPoi);return n.dispose(n.components.disposableAdd(r)),n.dispose((0,c.bind)([r,"show"],[n,"show"])),n.dispose((0,c.bind)([r,"opacity"],[n,"opacity"])),n.dispose((0,c.bind)([r,"position"],[n,"position"])),n.dispose((0,c.bind)([r,"editing"],[n,"positionEditing"])),n.dispose((0,c.bind)([r,"originRatioAndOffset"],[n,"originRatioAndOffset"])),n.disposeVar(new u.ObjResettingWithEvent(r.innerHtmlMounted,(function(t){return new h(t,n)}),!1)),r.innerHTML=" ",n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoGifPoi"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},Object.defineProperty(e.prototype,"duration",{get:function(){return this._duration.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"durationChanged",{get:function(){return this._duration.changed},enumerable:!1,configurable:!0}),e.prototype._setDuration=function(t){this._duration.value=t},Object.defineProperty(e.prototype,"ratio",{get:function(){return this._ratio.value},set:function(t){this._ratio.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ratioChanged",{get:function(){return this._ratio.changed},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(n){var r=this;return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new u.GroupProperty("通用","通用",[new u.FunctionProperty("飞入","飞入",["number"],(function(t){return r.flyTo(t)}),[1e3]),new u.PlayerProperty("播放器","播放器",[this,"playing"],[this,"ratio"],[this,"loop"],e.defaults),new u.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!0,!1,[this,"show"],e.defaults.show),new u.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"],e.defaults.position),new u.BooleanProperty("是否编辑","是否编辑.",!0,!1,[this,"positionEditing"],e.defaults.positionEditing),new u.Number4Property("原点比例和偏移","原点比例和偏移.",!1,!1,[this,"originRatioAndOffset"]),new u.NumberProperty("透明度","透明度",!0,!1,[this,"opacity"],e.defaults.opacity),new u.StringProperty("gif路径","gif路径",!0,!1,[this,"gifUrl"],e.defaults.gifUrl),new u.Number2Property("尺寸","尺寸",!0,!1,[this,"size"],e.defaults.size),new u.BooleanProperty("是否播放","是否播放",!0,!1,[this,"playing"],e.defaults.playing),new u.BooleanProperty("是否循环","是否循环",!0,!1,[this,"loop"],e.defaults.loop),new u.NumberProperty("当前时间","当前时间",!0,!1,[this,"currentTime"],e.defaults.currentTime),new u.NumberProperty("总时长","总时长",!1,!0,[this,"duration"],0),new u.NumberProperty("速度","速度",!0,!1,[this,"speed"],e.defaults.speed)])],!1)},n=e,e.type=n.register("GeoGifPoi",n,{chsName:"GeoGifPoi",tags:["GeoObjects"],description:"由Gif动画组成的兴趣点(POI)"}),e.defaults=i(i({},p.ESSceneObject.defaults),{show:!0,opacity:1,position:[116.39,39.9,0],positionEditing:!1,originRatioAndOffset:[.5,1,0,0],gifUrl:"${scene-manager-script-dir}/xe2-assets/scene-manager/images/explode.gif",size:[100,100],playing:!1,loop:!0,currentTime:0,speed:1,autoPlayOnLoad:void 0,ratio:0}),e}(p.ESSceneObject);e.GeoGifPoi=d,function(t){t.createDefaultProps=function(){return i({show:void 0,opacity:void 0,position:(0,c.reactArrayWithUndefined)(void 0),positionEditing:void 0,originRatioAndOffset:(0,c.reactArray)([.5,1,0,0]),gifUrl:void 0,size:(0,c.reactArrayWithUndefined)(void 0),playing:void 0,loop:void 0,currentTime:void 0,speed:void 0,autoPlayOnLoad:void 0},p.ESSceneObject.createDefaultProps())}}(d=e.GeoGifPoi||(e.GeoGifPoi={})),e.GeoGifPoi=d,(0,c.extendClassProps)(d.prototype,d.createDefaultProps)},17325:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoHeightMeasurement=void 0;var u=n(81425),c=n(72256),l=n(6018),p=n(1245),f=n(4842);function h(t,e){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return Math.sqrt(n*n+r*r+o*o)}var d=function(t){function e(e){var n=t.call(this,e)||this;n._pickedEvent=n.disposeVar(new u.Event),n._flyToEvent=n.disposeVar(new u.Event),n._sPositionsEditing=n.disposeVar(new p.PositionsEditing([n,"positions"],!1,[n,"editing"],n.components,2)),n._distance=n.disposeVar((0,u.react)(0)),n._surfaceDistance=n.disposeVar((0,u.react)(0)),n._height=n.disposeVar((0,u.react)(0)),n._middlePosition=n.disposeVar((0,u.reactArrayWithUndefined)(void 0)),n._heightPosition=n.disposeVar((0,u.reactArrayWithUndefined)(void 0));var r=function(){if(n.positions&&n.positions.length>=2)if(n._middlePosition.value=[n.positions[0][0],n.positions[0][1],n.positions[1][2]],n._heightPosition.value=[n.positions[0][0],n.positions[0][1],.5*(n.positions[1][2]+n.positions[0][2])],void 0===n.arcType||"GEODESIC"===n.arcType){var t=n._surfaceDistance.value=(0,p.geoDistance)(n.positions[0],n.positions[1]),e=n._height.value=n.positions[1][2]-n.positions[0][2];n._distance.value=Math.sqrt(t*t+e*e)}else if("RHUMB"===n.arcType)t=n._surfaceDistance.value=(0,p.geoRhumbDistance)(n.positions[0],n.positions[1]),e=n._height.value=n.positions[1][2]-n.positions[0][2],n._distance.value=Math.sqrt(t*t+e*e);else if("NONE"===n.arcType){var r=(0,p.lbhToXyz)(n.positions[0]),o=(0,p.lbhToXyz)(n.positions[1]);n._distance.value=h(r,o),n._surfaceDistance.value=h((0,p.lbhToXyz)(n._middlePosition.value),o),n._height.value=n.positions[1][2]-n.positions[0][2]}else console.warn("未知的arcType: ".concat(n.arcType,"，导致距离无法计算！"))};r();var o=n.disposeVar((0,c.createNextAnimateFrameEvent)(n.positionsChanged,n.arcTypeChanged));return n.dispose(o.disposableOn(r)),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoHeightMeasurement"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},Object.defineProperty(e.prototype,"sPositionsEditing",{get:function(){return this._sPositionsEditing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"distance",{get:function(){return this._distance.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"distanceChanged",{get:function(){return this._distance.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"surfaceDistance",{get:function(){return this._surfaceDistance.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"surfaceDistanceChanged",{get:function(){return this._surfaceDistance.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"heightChanged",{get:function(){return this._height.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"middlePosition",{get:function(){return this._middlePosition.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"middlePositionChanged",{get:function(){return this._middlePosition.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"heightPosition",{get:function(){return this._heightPosition.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"heightPositionChanged",{get:function(){return this._heightPosition.changed},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(e){var n=this;return a(a([],s(t.prototype.getProperties.call(this,e)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(t){return n.flyTo(t)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!1,!1,[this,"show"]),new l.BooleanProperty("允许拾取","是否允许拾取",!1,!1,[this,"allowPicking"]),new l.PositionsProperty("位置数组","经度纬度高度，度为单位",!0,!1,[this,"positions"]),new l.NumberProperty("线宽","线宽",!1,!1,[this,"width"]),new l.ColorProperty("颜色"," A Property specifying the color.",!1,!1,[this,"color"]),new l.BooleanProperty("是否为虚线","是否为虚线.",!1,!1,[this,"hasDash"]),new l.ColorProperty("间隔颜色","A Property specifying the color.",!1,!1,[this,"gapColor"]),new l.NumberProperty("虚线长度","虚线长度",!1,!1,[this,"dashLength"]),new l.DashPatternProperty("虚线图案","虚线图案",!1,!1,[this,"dashPattern"]),new l.BooleanProperty("是否带箭头","是否带箭头.",!1,!1,[this,"hasArrow"]),new l.BooleanProperty("是否编辑","是否编辑.",!1,!1,[this,"editing"]),new l.EnumProperty("弧线类型","弧线类型",!1,!1,[this,"arcType"],[["直线","NONE"],["地理直线","GEODESIC"],["地理恒向线","RHUMB"]]),new l.BooleanProperty("是否开启深度检测","A boolean Property specifying the visibility.",!1,!1,[this,"depthTest"])])],!1)},n=e,e.type=n.register("GeoHeightMeasurement",n,{chsName:"高度测量",tags:["GeoObjects","_ES_Impl_Any"],description:"高度测量"}),e}(f.ESSceneObject);e.GeoHeightMeasurement=d,function(t){t.createDefaultProps=function(){return i({show:!0,allowPicking:!1,positions:(0,u.reactPositions)(void 0),width:1,color:(0,u.reactArray)([1,1,1,1]),hasDash:!1,gapColor:(0,u.reactArrayWithUndefined)([0,0,0,0]),dashLength:16,dashPattern:255,hasArrow:!1,arcType:"GEODESIC",editing:!1,depthTest:!1},f.ESSceneObject.createDefaultProps())}}(d=e.GeoHeightMeasurement||(e.GeoHeightMeasurement={})),e.GeoHeightMeasurement=d,(0,u.extendClassProps)(d.prototype,d.createDefaultProps)},59110:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoImageModel=void 0;var u=n(81425),c=n(6018),l=n(4842),p=function(t){function e(e){var n=t.call(this,e)||this;return n._pickedEvent=n.disposeVar(new u.Event),n._flyToEvent=n.disposeVar(new u.Event),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoImageModel"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},e.prototype.getProperties=function(n){var r=this;return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new c.GroupProperty("通用","通用",[new c.FunctionProperty("飞入","飞入",["number"],(function(t){return r.flyTo(t)}),[1e3]),new c.StringProperty("图片url","图片url",!1,!1,[this,"uri"]),new c.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!1,!1,[this,"show"]),new c.BooleanProperty("允许拾取","是否允许拾取",!1,!1,[this,"allowPicking"]),new c.PositionProperty("位置","位置(经度/纬度/高度)，度为单位",!0,!1,[this,"position"]),new c.RotationProperty("姿态","姿态(偏航/俯仰/翻转)，度为单位",!1,!1,[this,"rotation"]),new c.BooleanProperty("是否位置编辑","是否编辑.",!1,!1,[this,"positionEditing"]),new c.BooleanProperty("是否偏移编辑","是否编辑.",!1,!1,[this,"rotationEditing"]),new c.Number2Property("尺寸","size 单位是米",!1,!1,[this,"size"]),new c.NumberProperty("缩放","scale",!1,!1,[this,"scale"]),new c.NumberProperty("最大缩放值","最大缩放值，需要和屏幕像素(pixelSize)配合适用！",!0,!1,[this,"maximumScale"],e.defaults.maximumScale),new c.NumberProperty("最小缩放值","最小缩放值，需要和屏幕像素(pixelSize)配合适用！",!0,!1,[this,"minimumScale"],e.defaults.minimumScale),new c.NumberProperty("屏幕像素","屏幕像素，根据物体在屏幕上的像素大小来决定缩放值，缩放值受maximumScale、minimumScale属性限制",!0,!1,[this,"pixelSize"],e.defaults.pixelSize),new c.ColorProperty("颜色"," A Property specifying the color.",!1,!1,[this,"color"]),new c.Number4Property("原点比例","原点比例",!1,!1,[this,"originRatioAndOffset"]),new c.Number4Property("可视范围控制","可视范围控制[near0, near1, far1, far0]",!0,!1,[this,"viewDistanceRange"],e.defaults.viewDistanceRange),new c.BooleanProperty("可视距离调试","可视距离调试",!1,!1,[this,"viewDistanceDebug"])])],!1)},n=e,e.type=n.register("GeoImageModel",n,{chsName:"图片模型",tags:["GeoObjects","_ES_Impl_Any"],description:"将图片当成一个模型来绘制，可以设置方向、位置、缩放等。"}),e.defaults=i(i({},l.ESSceneObject.defaults),{viewDistanceRange:[1e3,1e4,3e4,6e4],maximumScale:3,minimumScale:1,pixelSize:50}),e.defaultUri="${scene-manager-script-dir}/xe2-assets/scene-manager/images/location.png",e}(l.ESSceneObject);e.GeoImageModel=p,function(t){t.createDefaultProps=function(){return i({show:!0,allowPicking:!1,uri:"${scene-manager-script-dir}/xe2-assets/scene-manager/images/location.png",position:(0,u.reactArrayWithUndefined)(void 0),rotation:(0,u.reactArray)([0,0,0]),positionEditing:!1,rotationEditing:!0,size:[1,1],scale:1,maximumScale:void 0,minimumScale:void 0,pixelSize:void 0,color:(0,u.reactArray)([1,1,1,1]),originRatioAndOffset:(0,u.reactArray)([.5,1,0,0]),viewDistanceRange:(0,u.reactArrayWithUndefined)(void 0),viewDistanceDebug:!1},l.ESSceneObject.createDefaultProps())}}(p=e.GeoImageModel||(e.GeoImageModel={})),e.GeoImageModel=p,(0,u.extendClassProps)(p.prototype,p.createDefaultProps)},14367:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoLocationMeasurement=void 0;var u=n(6018),c=n(81425),l=n(15635),p=n(4842),f=function(t){function e(e){var n=t.call(this,e)||this;return n._pickedEvent=n.disposeVar(new c.Event),n._flyToEvent=n.disposeVar(new c.Event),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoLocationMeasurement"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoJson",{get:function(){return(0,l.getGeoJson)("Point",this.position,this.name)},set:function(t){var e=(0,l.setGeoJson)(t);this.name=e.name,this.position=e.position},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(t){return""}},set:function(t){if(t)try{this.geoJson=JSON.parse(t)}catch(t){}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},e.prototype.getProperties=function(n){var r=this;return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new u.GroupProperty("通用","通用",[new u.FunctionProperty("飞入","飞入",["number"],(function(t){return r.flyTo(t)}),[1e3]),new u.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!1,!1,[this,"show"]),new u.BooleanProperty("允许拾取","是否允许拾取",!1,!1,[this,"allowPicking"]),new u.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"],e.defaults.position),new u.BooleanProperty("是否编辑","是否编辑.",!1,!1,[this,"editing"]),new u.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return r.geoJsonStr}),(function(t){return t&&(r.geoJsonStr=t)}))])],!1)},n=e,e.type=n.register("GeoLocationMeasurement",n,{chsName:"位置测量点",tags:["GeoObjects","_ES_Impl_Any"],description:"自定义测量位置点。"}),e.defaults=i(i({},p.ESSceneObject.defaults),{show:!0,allowPicking:!1,position:[116.39,39.9,0],editing:!1}),e}(p.ESSceneObject);e.GeoLocationMeasurement=f,function(t){t.createDefaultProps=function(){return i({show:!0,allowPicking:!1,position:(0,c.reactArrayWithUndefined)(void 0),editing:!1},p.ESSceneObject.createDefaultProps())}}(f=e.GeoLocationMeasurement||(e.GeoLocationMeasurement={})),e.GeoLocationMeasurement=f,(0,c.extendClassProps)(f.prototype,f.createDefaultProps)},3416:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},u=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},c=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoPath=void 0;var l=n(6018),p=n(81425),f=n(61158),h=n(72256),d=n(1245),y=n(4842),g=n(1941),v=n(39743),b=n(79159),m=n(23480),_=n(1245);function P(t,e,n){var r,o,i,s;void 0===n&&(n="Lerp");var a=t.length;if(0!==a){do{if(e<=t[0][0]){r=t[0][1],o=t[0][2],i=0,s=0;break}if(e>=t[t.length-1][0]){var c=u(t[t.length-1],3);c[0],r=c[1],o=c[2],i=t.length-2,s=1;break}for(var l=1;l<a;++l)if(e<=t[l][0]){i=l-1;var p=u(t[l-1],3),h=p[0],y=p[1],g=p[2],v=u(t[l],3),b=v[0],m=v[1],P=v[2],w=(e-h)/(b-h),E=(0,d.getXyzFromPostion)(y),x=(0,d.getXyzFromPostion)(m),O=f.Vector.lerp(E,x,w);r=(0,d.xyzToLbh)(O),"Lerp"===n?g&&P&&(o=[(0,_.lerpAngle)(g[0],P[0],w),(0,_.lerpAngle)(g[1],P[1],w),(0,_.lerpAngle)(g[2],P[2],w)]):"Prev"===n?g&&(o=g):"Next"===n&&P&&(o=P),s=w;break}}while(0);return{position:r,rotation:o,index:i,ratio:s}}}function w(t,e){var n;void 0===e&&(e=!1);for(var r=t.map((function(t){return[t[0],c([],u(t[1]),!1),t[2]?c([],u(t[2]),!1):void 0]})),o=r.length,i=1;i<o;++i)if(void 0===r[i][2]||e){var s=r[i-1][1],a=r[i][1],l=(0,d.geoHeading)(s,a),p=(0,d.lbhToXyz)(s),h=(0,d.lbhToXyz)(a),y=f.Vector.distance(p,h),g=a[2]-s[2],v=null!==(n=r[i-1][2])&&void 0!==n?n:[0,0,0],b=0===y?v[1]:180*Math.asin(g/y)/Math.PI,m=Number.isFinite(l)?l:v[0],_=Number.isFinite(b)?b:v[1];r[i][2]=[m,_,0]}return o>0&&void 0===r[0][2]&&(r[0][2]=o>1?r[1][2]:[0,0,0]),r}var E=function(t){function e(e){var n,r=this;if(r=t.call(this)||this,null!==(n=e.geoPolyline.show)&&void 0!==n&&!n)return r;if(void 0===e.leadTime&&void 0===e.trailTime)return e.geoPolyline.positions=e.timePosRots&&e.timePosRots.map((function(t){return t[1]})),r;if(0===e.leadTime&&0===e.trailTime)return e.geoPolyline.positions=[],r;var o=function(){var t,n,r,o,i=null!==(t=e.trailTime)&&void 0!==t?t:0,s=null!==(n=e.leadTime)&&void 0!==n?n:Number.MAX_VALUE,a=e.subPath((null!==(r=e.currentTime)&&void 0!==r?r:0)-i,(null!==(o=e.currentTime)&&void 0!==o?o:0)+s);a&&(e.geoPolyline.positions=a.map((function(t){return t[1]})))};return o(),r.dispose(e.currentTimeChanged.disposableOn(o)),r}return o(e,t),e}(p.Destroyable);function x(t,e,n,r){void 0===n&&(n="GEODESIC"),void 0===r&&(r=Math.PI/180);var o=[],i=u(t,3),s=i[0],a=i[1],l=i[2],p=u(e,3),f=p[0],h=p[1],d=p[2];o.push(t);var y=(0,m.getDistancesAndTimePosRotsFromPositions)([a,h],n,r);if(y)for(var g=y.timePosRots,v=g.length,b=1/g[v-1][0],P=1;P<v-1;++P){var w=g[P][0]*b;g[P][0]=s+(f-s)*w,l&&d?g[P][2]=[(0,_.lerpAngle)(l[0],d[0],w),(0,_.lerpAngle)(l[1],d[1],w),(0,_.lerpAngle)(l[2],d[2],w)]:l?g[P][2]=c([],u(l),!1):d&&(g[P][2]=c([],u(d),!1)),o.push(g[P])}return o.push(e),o}function O(t,e,n){void 0===e&&(e="GEODESIC"),void 0===n&&(n=Math.PI/180);for(var r=[],o=t.length,i=0;i<o-1;++i)r.length>0&&r.pop(),x(t[i],t[i+1],e,n).forEach((function(t){return r.push(t)}));return r}function C(t){try{var e=JSON.parse(t);if(Array.isArray(e)&&e.length>0){var n="number"==typeof e[0][0],r=Array.isArray(e[0][1])&&3===e[0][1].length;return n&&r?e:void 0}throw new Error("解析有问题")}catch(e){for(var o=t.split(/\n|\r\n/),i=[],s=o.length,a=0;a<s;++a){var u=o[a],c=u.split(/[^0-9e\.\+\-]+/).filter((function(t){return""!==t})).map((function(t){return+t}));c.length<4?console.warn("第".concat(a+1,"行数据无法解析成路径的数据, 原内容为: ").concat(u)):c.length<7?i.push([c[0],[c[1],c[2],c[3]],void 0]):i.push([c[0],[c[1],c[2],c[3]],[c[4],c[5],c[6]]])}return i}}var S=function(t){function e(n){var r=t.call(this,n)||this;r._scratchCurrentInfo={position:[0,0,0],rotation:[0,0,0],index:0},r._currentInfo=r.disposeVar((0,p.react)(void 0,(function(t,e){return!1}))),r._player=r.disposeVar(new b.Player),r._geoPolyline=r.disposeVar(new v.GeoPolyline),r._geoCanvasPointPoi=r.disposeVar(new g.GeoCanvasPointPoi),r._flyToEvent=r.disposeVar(new p.Event),r._pickedEvent=r.disposeVar(new p.Event);var o=function(){var t,e=r.getCurrent(null!==(t=r.currentTime)&&void 0!==t?t:0,r.rotLerpMode);if(void 0===e)r._currentInfo.value=void 0;else{var n=e.index,o=e.position,i=e.rotation,s=e.ratio;r._scratchCurrentInfo.index=n,r._scratchCurrentInfo.position=o,r._scratchCurrentInfo.rotation=i,r._scratchCurrentInfo.ratio=s,r._currentInfo.value=r._scratchCurrentInfo}};o(),r.currentTimeChanged.disposableOn(o),r.timePosRotsChanged.disposableOn(o),r.rotLerpModeChanged.disposableOn(o),r.dispose((0,p.bind)([r._player,"loop"],[r,"loop"])),(f=function(){if(r.startTime&&r.currentTime){var t=r.currentTime-r.startTime;(!r._player.currentTime||Math.abs(t-r._player.currentTime)>.01)&&(r._player.currentTime=t)}})(),r.dispose(r.currentTimeChanged.disposableOn(f)),(f=function(){if(r.startTime&&r._player.currentTime){var t=r._player.currentTime+r.startTime;(!r.currentTime||Math.abs(t-r.currentTime)>.01)&&(r.currentTime=t)}})(),r.dispose(r._player.currentTimeChanged.disposableOn(f)),r.dispose((0,p.bind)([r._player,"duration"],[r,"duration"])),r.dispose((0,p.bind)([r._player,"playing"],[r,"playing"])),r.dispose((0,p.bind)([r._player,"speed"],[r,"speed"]));var i=function(){var t;(null===(t=r.autoComputeTimeFromTimePosRots)||void 0===t||t)&&r.computeTimeFromTimePosRots()};i();var u=r.disposeVar((0,p.createNextAnimateFrameEvent)(r.autoComputeTimeFromTimePosRotsChanged,r.timePosRotsChanged));r.dispose(u.disposableOn(i));var c=function(){var t=r.timePosRots;if(t)for(var e=t.length,n=0;n<e;++n){var o=t[n][0];if(o<0)console.warn("地理路径的时间戳不能小于0！");else if(o<0){console.warn("地理路径的时间戳需要满足从小到大的数据，元素越靠后，时间越靠后！当前不满足条件的元素是index: ".concat(n," time: ").concat(o));break}}};c(),r.dispose(r.timePosRotsChanged.disposableOn(c)),r.dispose(r.components.disposableAdd(r._geoPolyline)),r._geoPolyline.arcType="NONE",(f=function(){var t,e;r._geoPolyline.show=null!==(t=r.show)&&void 0!==t&&t&&(null===(e=r.polylineShow)||void 0===e||e)})(),r.dispose(r.showChanged.disposableOn(f)),r.dispose(r.polylineShowChanged.disposableOn(f)),r.dispose((0,p.track)([r._geoPolyline,"width"],[r,"width"])),r.dispose((0,p.track)([r._geoPolyline,"ground"],[r,"ground"])),r.dispose((0,p.track)([r._geoPolyline,"color"],[r,"color"])),r.dispose((0,p.track)([r._geoPolyline,"hasDash"],[r,"hasDash"])),r.dispose((0,p.track)([r._geoPolyline,"gapColor"],[r,"gapColor"])),r.dispose((0,p.track)([r._geoPolyline,"dashLength"],[r,"dashLength"])),r.dispose((0,p.track)([r._geoPolyline,"dashPattern"],[r,"dashPattern"])),r.dispose((0,p.track)([r._geoPolyline,"hasArrow"],[r,"hasArrow"])),r.dispose((0,p.track)([r._geoPolyline,"depthTest"],[r,"depthTest"])),r.dispose((0,p.track)([r._geoPolyline,"allowPicking"],[r,"allowPicking"])),r.dispose(r._geoPolyline.pickedEvent.disposableOn((function(t){r.pickedEvent.emit(new l.SceneObjectPickedInfo(r,t))}))),r.dispose(r._flyToEvent.disposableOn((function(t){r._geoPolyline.flyTo(t)})));var f,d=r.disposeVar((0,p.createNextAnimateFrameEvent)(r.timePosRotsChanged,r.leadTimeChanged,r.trailTimeChanged,r.polylineShowChanged,r.showChanged));r.disposeVar(new h.ObjResettingWithEvent(d,(function(){return new E(r)}))),r.dispose(r.components.disposableAdd(r._geoCanvasPointPoi)),(f=function(){var t,e;r._geoCanvasPointPoi.show=null!==(t=r.show)&&void 0!==t&&t&&(null===(e=r.currentPoiShow)||void 0===e||e)})(),r.dispose(r.showChanged.disposableOn(f)),r.dispose(r.currentPoiShowChanged.disposableOn(f)),r.dispose((0,p.track)([r._geoCanvasPointPoi,"position"],[r,"currentPosition"]));var y=r.disposeVar((0,h.createProcessingFromAsyncFunc)((function(t){return s(r,void 0,void 0,(function(){var n,r;return a(this,(function(o){switch(o.label){case 0:return this.dataUri?[4,t.promise((0,h.sleep)(1e3))]:[2];case 1:return o.sent(),[4,t.promise(fetch(this.dataUri))];case 2:return n=o.sent(),[4,t.promise(n.text())];case 3:return r=o.sent(),this.timePosRots=e.parseData(r),[2]}}))}))})));return r.dispose(r.dataUriChanged.disposableOn((function(){y.restart()}))),r.dispose(r.dataTextChanged.disposableOn((function(){r.dataText&&(r.timePosRots=e.parseData(r.dataText))}))),r}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoPath"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentInfo",{get:function(){return this._currentInfo.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentInfoChanged",{get:function(){return this._currentInfo.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentIndex",{get:function(){return this._currentInfo.value&&this._currentInfo.value.index},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentIndexChanged",{get:function(){return this._currentInfo.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentPosition",{get:function(){return this._currentInfo.value&&this._currentInfo.value.position},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentPositionChanged",{get:function(){return this._currentInfo.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentRotation",{get:function(){return this._currentInfo.value&&this._currentInfo.value.rotation},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentRotationChanged",{get:function(){return this._currentInfo.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"player",{get:function(){return this._player},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoPolyline",{get:function(){return this._geoPolyline},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoCanvasPointPoi",{get:function(){return this._geoCanvasPointPoi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},Object.defineProperty(e.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),e.prototype.getCurrent=function(t,e){return this.timePosRots&&P(this.timePosRots,t,e)},e.prototype.subPath=function(t,e){return this.timePosRots&&function(t,e,n,r){var o=P(t,e,r),i=P(t,n,r);if(o&&i){var s=[];o.ratio<1&&s.push([e,o.position,o.rotation]);for(var a=o.index+1;a<=i.index;++a)s.push(t[a]);return i.ratio>0&&s.push([n,i.position,i.rotation]),s}}(this.timePosRots,t,e)},e.prototype.computeRotIfUndefined=function(t){if(void 0===t&&(t=!1),this.timePosRots){var n=e.computeRotIfUndefined(this.timePosRots,t);this.timePosRots=n}else console.warn("timePosRots不存在，无法计算！")},e.prototype.subdivide=function(t,n){void 0===t&&(t="GEODESIC"),void 0===n&&(n=Math.PI/180),this.timePosRots&&(this.timePosRots=e.subdivide(this.timePosRots,t,n))},e.prototype.computeTimeFromTimePosRots=function(){var t=this.timePosRots;if(!t||t.length<=1)return this.startTime=void 0,this.stopTime=void 0,void(this.duration=void 0);this.startTime=t[0][0],this.stopTime=t[t.length-1][0],this.duration=this.stopTime-this.startTime},Object.defineProperty(e.prototype,"ratio",{get:function(){return this.player.ratio},set:function(t){this.player.ratio=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ratioChanged",{get:function(){return this.player.ratioChanged},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(n){var r=this;return c(c([],u(t.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!1,!1,[this,"show"]),new l.BooleanProperty("是否显示当前","是否显示当前.",!1,!1,[this,"currentPoiShow"]),new l.JsonProperty("timePosRots","类型为[timeStamp: number, position: [longitude: number, latitude: number, height: number], rotation: [heading: number, pitch: number, roll: number] | undefined];",!0,!1,[this,"timePosRots"],[],e.timePosRotsMd),new l.BooleanProperty("自动计算时间","自动计算起始时间(startTime)、结束时间(stopTime)、总耗时(duration).",!1,!1,[this,"autoComputeTimeFromTimePosRots"]),new l.NumberProperty("路径超前显示时长","路径超前显示时长",!1,!1,[this,"leadTime"]),new l.NumberProperty("路径滞后显示时长","路径滞后显示时长",!1,!1,[this,"trailTime"]),new l.NumberProperty("路径起始时间","路径起始时间",!0,!1,[this,"startTime"],e.defaults.startTime),new l.NumberProperty("路径结束时间","路径结束时间",!0,!1,[this,"stopTime"],e.defaults.stopTime),new l.NumberProperty("当前时间","当前时间",!1,!1,[this,"currentTime"]),new l.EnumProperty("姿态插值方式","姿态插值方式",!1,!1,[this,"rotLerpMode"],[["插值","Lerp"],["上一个","Prev"],["下一个","Next"]]),new l.FunctionProperty("姿态计算","在没有姿态时计算姿态，调用方法为computeRotIfUndefined()",[],(function(){return r.computeRotIfUndefined()}),[]),new l.FunctionProperty("时间计算","根据路径数据计算起始时间(startTime)、结束时间(stopTime)、总耗时(duration).",[],(function(){return r.computeTimeFromTimePosRots()}),[]),new l.FunctionProperty("细分",'细分 subdivide(arcType: "GEODESIC" | "NONE" | "RHUMB" = "GEODESIC", granularity = Math.PI / 180)',["string","number"],(function(t,e){return r.subdivide()}),["GEODESIC",Math.PI/180])]),new l.GroupProperty("外部输入","外部输入",[new l.StringProperty("路径数据uri","路径数据uri",!1,!1,[this,"dataUri"]),new l.LongStringProperty("数据","解析数据",!0,!1,[this,"dataText"],e.defaults.dataText,"示例数据如下，每行至少四个数字，第一个表示时间戳，单位毫秒，第二三四个表示位置(经纬度高度)   \n```\n[1000000,[113.505362,29.426247,0]],\n[1005000,[113.574251,29.434952,29461.01]],\n[1010000,[113.642338,29.443523,58690.9]],\n[1015000,[113.709638,29.451965,87691.71]],\n[1020000,[113.776169,29.460279,116465.44]],\n[1025000,[113.841946,29.468469,145014.05]],\n[1030000,[113.906985,29.476538,173339.45]],\n[1035000,[113.971301,29.484489,201443.54]],\n[1040000,[114.034909,29.492323,229328.14]],\n[1045000,[114.097823,29.500044,256995.06]],\n[1050000,[114.160057,29.507654,284446.06]],\n[1055000,[114.221623,29.515156,311682.89]],\n[1060000,[114.282537,29.522551,338707.25]],\n[1065000,[114.342809,29.529843,365520.78]],\n[1070000,[114.402453,29.537033,392125.14]],\n```\n")]),new l.GroupProperty("播放器","播放器",[new l.PlayerProperty("播放器","播放器",[this,"playing"],[this,"ratio"],[this,"loop"],e.defaults),new l.BooleanProperty("是否循环","是否循环.",!1,!1,[this,"loop"]),new l.NumberProperty("当前时间","当前时间",!1,!1,[this.player,"currentTime"]),new l.NumberProperty("过渡时间","过渡时间",!0,!1,[this,"duration"],e.defaults.duration),new l.BooleanProperty("是否播放","是否播放.",!1,!1,[this,"playing"]),new l.NumberProperty("播放速度","播放速度.",!1,!1,[this,"speed"])]),new l.GroupProperty("折线","折线",[new l.BooleanProperty("是否可见","折线是否可见",!1,!1,[this,"polylineShow"]),new l.NumberProperty("线宽","线宽",!1,!1,[this,"width"]),new l.BooleanProperty("是否贴地","是否贴地.",!1,!1,[this,"ground"]),new l.ColorProperty("颜色"," A Property specifying the color.",!1,!1,[this,"color"]),new l.BooleanProperty("是否为虚线","是否为虚线.",!1,!1,[this,"hasDash"]),new l.ColorProperty("间隔颜色","A Property specifying the color.",!1,!1,[this,"gapColor"]),new l.NumberProperty("虚线长度","虚线长度",!1,!1,[this,"dashLength"]),new l.DashPatternProperty("虚线图案","虚线图案",!1,!1,[this,"dashPattern"]),new l.BooleanProperty("是否带箭头","是否带箭头.",!1,!1,[this,"hasArrow"]),new l.BooleanProperty("是否开启深度检测","A boolean Property specifying the visibility.",!1,!1,[this,"depthTest"])])],!1)},n=e,e.type=n.register("GeoPath",n,{chsName:"地理路径",tags:["GeoObjects"],description:"地理路径"}),e.computeRotIfUndefined=w,e.subdivide=O,e.parseData=C,e.defaults=i(i({},y.ESSceneObject.defaults),{timePosRots:[],startTime:0,stopTime:3e3,loop:!1,duration:3e3,playing:!1,dataText:""}),e.timePosRotsMd="\ntimePosRots是一个内部包含三个元素的数组，第一个表示时间戳，单位毫秒，第二个表示经纬度，第三个表示姿态(偏航、俯仰、翻转)。示例代码如下：\n```\n[\n    [\n        0,\n        [\n            102.53298730761246,\n            28.91979487002454,\n            9.313225746154785e-10\n        ],\n        [\n            50.04442483885466,\n            0,\n            0\n        ]\n    ],\n    [\n        93573.85803656405,\n        [\n            103.2739673341736,\n            29.858290043349385,\n            9.313225746154785e-10\n        ],\n        [\n            50.04442483885466,\n            0,\n            0\n        ]\n    ],\n    [\n        187147.71620880597,\n        [\n            105.0227848288211,\n            29.992573933966238,\n            -1.862645149230957e-9\n        ],\n        [\n            50.407671059303944,\n            -1.7107615502773115e-12,\n            0\n        ]\n    ]\n]\n```\n",e}(y.ESSceneObject);e.GeoPath=S,function(t){t.createDefaultProps=function(){return i(i({},y.ESSceneObject.createDefaultProps()),{show:!1,currentPoiShow:!0,timePosRots:(0,p.reactDeepArrayWithUndefined)(void 0,(function(t,e){return t[0]===e[0]&&t[1].every((function(t,n){return t===e[1][n]}))&&t[2]===e[2]===void 0||void 0!==t[2]&&void 0!==e[2]&&t[2].every((function(t,n){return e[2][n]}))}),(function(t){return[t[0],c([],u(t[1]),!1),t[2]&&c([],u(t[2]),!1)||void 0]})),autoComputeTimeFromTimePosRots:!0,leadTime:300,trailTime:300,startTime:void 0,stopTime:void 0,loop:!1,currentTime:0,duration:void 0,speed:1,playing:!1,polylineShow:!0,width:1,ground:!1,color:(0,p.reactArray)([1,1,1,1]),hasDash:!1,gapColor:(0,p.reactArray)([0,0,0,0]),dashLength:16,dashPattern:255,hasArrow:!1,depthTest:!1,allowPicking:!1,dataUri:"",dataText:void 0,rotLerpMode:"Lerp"})}}(S=e.GeoPath||(e.GeoPath={})),e.GeoPath=S,(0,p.extendClassProps)(S.prototype,S.createDefaultProps)},6353:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoPathCameraController=void 0;var u=n(6018),c=n(81425),l=n(4842),p=n(40837),f=n(88393),h=function(t){function e(e){var n=t.call(this,e)||this;n._geoCameraController=n.disposeVar(l.ESSceneObject.createFromClass(f.GeoCameraController)),n._watcher=n.disposeVar(new p.Watcher);var r=function(){n.pathId?(n._watcher.enabled=!0,n._watcher.objIdAndPropChangedNames=[[n.pathId,"currentPositionChanged"],[n._geoCameraController.id,""]],n._watcher.evalFunc=function(t){var e,r,o=s(t,2),i=o[0],a=o[1];if(null===(e=n.usePathPosition)||void 0===e||e){var u=i.currentPosition;a.position=u}if(null===(r=n.usePathRotation)||void 0===r||r){var c=i.currentRotation;a.rotation=c}}):n._watcher.enabled=!1};return r(),n.dispose(n.pathIdChanged.disposableOn(r)),n.dispose((0,c.bind)([n._geoCameraController,"enabled"],[n,"enabled"])),n.dispose((0,c.bind)([n._geoCameraController,"viewDistance"],[n,"viewDistance"])),n.dispose((0,c.bind)([n._geoCameraController,"offsetHeight"],[n,"offsetHeight"])),n.dispose((0,c.bind)([n._geoCameraController,"offsetRotation"],[n,"offsetRotation"])),n.dispose(n.components.disposableAdd(n._watcher)),n.dispose(n.components.disposableAdd(n._geoCameraController)),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoPathCameraController"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoCameraController",{get:function(){return this._geoCameraController},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"watcher",{get:function(){return this._watcher},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(e){var n=this;return a(a([],s(t.prototype.getProperties.call(this,e)),!1),[new u.GroupProperty("通用","通用",[new u.BooleanProperty("是否可用","是否可用",!1,!1,[this,"enabled"]),new u.StringProperty("Path唯一标识符","Path唯一标识符",!0,!1,[this,"pathId"]),new u.BooleanProperty("是否使用路径位置","是否使用路径位置",!0,!1,[this,"usePathPosition"]),new u.BooleanProperty("是否使用路径姿态","是否使用路径姿态",!0,!1,[this,"usePathRotation"])]),new u.GroupProperty("相机控制","相机控制",[new u.BooleanProperty("目标显示","目标显示",!0,!1,[this,"showTarget"],!1),new u.PositionProperty("位置","位置(经度/纬度/高度)，度为单位",!0,!1,[this,"position"]),new u.RotationProperty("姿态","姿态(偏航/俯仰/翻转)，度为单位",!0,!1,[this,"rotation"]),new u.NumberProperty("视距","视距",!0,!1,[this,"viewDistance"]),new u.NumberProperty("高度偏移","高度偏移",!0,!1,[this,"offsetHeight"]),new u.RotationProperty("姿态偏移","姿态偏移(偏航/俯仰/翻转)，度为单位",!0,!1,[this,"offsetRotation"]),new u.FunctionProperty("重置姿态","重置姿态为当前相机姿态",[],(function(){return n.geoCameraController.resetWithCamera()}),[]),new u.BooleanProperty("姿态交互","姿态交互",!0,!1,[this,"enabledRotationInput"]),new u.BooleanProperty("缩放交互","缩放交互",!0,!1,[this,"enabledScaleInput"])])],!1)},n=e,e.type=n.register("GeoPathCameraController",n,{chsName:"地理路径相机控制器",tags:["GeoObjects"],description:"地理路径相机控制器"}),e}(l.ESSceneObject);e.GeoPathCameraController=h;var d=f.GeoCameraController.createDefaultProps(),y={enabled:{defaultValue:d.enabled,componentName:"geoCameraController",originPropName:"enabled"},showTarget:{defaultValue:d.showTarget,componentName:"geoCameraController",originPropName:"showTarget"},position:{defaultValue:d.position,componentName:"geoCameraController",originPropName:"position"},rotation:{defaultValue:d.rotation,componentName:"geoCameraController",originPropName:"rotation"},viewDistance:{defaultValue:d.viewDistance,componentName:"geoCameraController",originPropName:"viewDistance"},offsetHeight:{defaultValue:d.offsetHeight,componentName:"geoCameraController",originPropName:"offsetHeight"},offsetRotation:{defaultValue:d.offsetRotation,componentName:"geoCameraController",originPropName:"offsetRotation"},enabledRotationInput:{defaultValue:d.enabledRotationInput,componentName:"geoCameraController",originPropName:"enabledRotationInput"},enabledScaleInput:{defaultValue:d.enabledScaleInput,componentName:"geoCameraController",originPropName:"enabledScaleInput"}};(0,u.getDefaultComponentProps)(y),(0,u.extendComponentProps)(h.prototype,y),function(t){t.createDefaultProps=function(){return i({pathId:void 0,usePathPosition:void 0,usePathRotation:void 0},l.ESSceneObject.createDefaultProps())}}(h=e.GeoPathCameraController||(e.GeoPathCameraController={})),e.GeoPathCameraController=h,(0,c.extendClassProps)(h.prototype,h.createDefaultProps)},86582:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoPathTracker=void 0;var u=n(6018),c=n(81425),l=n(40837),p=n(4842),f=function(t){function e(e){var n,r=t.call(this,e)||this;return r._positionTracker=r.disposeVar(new l.PropertyTracker),r._rotationTracker=r.disposeVar(new l.PropertyTracker),r._positionTracker.sourcePropertyName="currentPosition",r._positionTracker.targetPropertyName="position",r._positionTracker.evalMode="Immediate",(n=function(){var t;r._positionTracker.enabled=r.enabled&&(null===(t=r.usePosition)||void 0===t||t)})(),r.enabledChanged.disposableOn(n),r.usePositionChanged.disposableOn(n),r._rotationTracker.sourcePropertyName="currentRotation",r._rotationTracker.targetPropertyName="rotation",r._rotationTracker.evalMode="Immediate",r.dispose((0,c.track)([r._rotationTracker,"enabled"],[r,"enabled"])),(n=function(){var t;r._rotationTracker.enabled=r.enabled&&(null===(t=r.useRotation)||void 0===t||t)})(),r.enabledChanged.disposableOn(n),r.useRotationChanged.disposableOn(n),(n=function(){r._positionTracker.sourceObjId=r.pathId,r._rotationTracker.sourceObjId=r.pathId})(),r.dispose(r.pathIdChanged.disposableOn(n)),(n=function(){r._positionTracker.targetObjId=r.targetObjId,r._rotationTracker.targetObjId=r.targetObjId})(),r.dispose(r.targetObjIdChanged.disposableOn(n)),(n=function(){var t;r._positionTracker.targetPropertyName=null!==(t=r.targetPositionPropertyName)&&void 0!==t?t:"position"})(),r.dispose(r.targetPositionPropertyNameChanged.disposableOn(n)),(n=function(){var t;r._rotationTracker.targetPropertyName=null!==(t=r.targetRotationPropertyName)&&void 0!==t?t:"rotation"})(),r.dispose(r.targetRotationPropertyNameChanged.disposableOn(n)),r}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoPathTracker"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return i(i({},e.createDefaultProps()),d)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"positionTracker",{get:function(){return this._positionTracker},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotationTracker",{get:function(){return this._rotationTracker},enumerable:!1,configurable:!0}),e.prototype.forceExecute=function(){this._positionTracker.forceExecute(),this._rotationTracker.forceExecute()},e.prototype.getProperties=function(n){var r=this;return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new u.GroupProperty("通用","通用",[new u.BooleanProperty("是否可用","是否可用",!0,!1,[this,"enabled"]),new u.StringProperty("路径对象ID","路径对象(被跟踪的对象，监测该对象的属性变化)的ID",!0,!1,[this,"pathId"]),new u.StringProperty("目标对象ID","目标对象(跟踪的对象，该对象属性会被修改)的ID",!0,!1,[this,"targetObjId"]),new u.StringProperty("目标对象位置属性名","目标对象(跟踪的对象，该对象属性会被修改)的属性名称",!0,!1,[this,"targetPositionPropertyName"],"position"),new u.StringProperty("目标对象姿态属性名","目标对象(跟踪的对象，该对象属性会被修改)的属性名称",!0,!1,[this,"targetRotationPropertyName"],"rotation"),new u.BooleanProperty("使用位置跟踪","使用位置跟踪",!0,!1,[this,"usePosition"],!0),new u.BooleanProperty("使用姿态跟踪","使用姿态跟踪",!0,!1,[this,"useRotation"],!0),new u.BooleanProperty("位置跟踪调试模式","调试模式下会在控制台输出调试信息，默认为false",!0,!1,[this,"positionDebug"],!1),new u.BooleanProperty("姿态跟踪调试模式","调试模式下会在控制台输出调试信息，默认为false",!0,!1,[this,"rotationDebug"],!1),new u.EvalStringProperty("位置跟踪函数","如果有值，则表示使用该函数进行赋值",!0,!1,[this,"positionEvalFuncStr"],e.defaultPositionEvalFuncStr,e.positionEvalFuncStrReadMe),new u.EvalStringProperty("姿态跟踪函数","如果有值，则表示使用该函数进行赋值",!0,!1,[this,"rotationEvalFuncStr"],e.defaultRotationEvalFuncStr,e.rotationEvalFuncStrReadMe),new u.FunctionProperty("强制执行","强制执行",[],(function(){return r.forceExecute()}),[])])],!1)},n=e,e.type=n.register("GeoPathTracker",n,{chsName:"地理路径跟踪器",tags:["GeoObjects"],description:"地理路径跟踪器"}),e.defaultPositionEvalFuncStr="(currentPosition) => {\n    // currentPosition为路径当前位置\n    // 返回值为需要设置的位置\n    return currentPosition;\n}",e.positionEvalFuncStrReadMe="### 使用示例\n```\n(currentPosition) => {\n    // currentPosition为路径当前位置\n    // 返回值为需要设置的位置\n    return currentPosition;\n};\n```",e.defaultRotationEvalFuncStr="(currentRotation) => {\n    // currentRotation为路径当前姿态\n    // 返回值为需要设置的姿态\n    return currentRotation;\n}",e.rotationEvalFuncStrReadMe="### 使用示例\n```\n(currentRotation) => {\n    // currentRotation为路径当前姿态\n    // 返回值为需要设置的姿态\n    return currentRotation;\n};\n```",e}(p.ESSceneObject);e.GeoPathTracker=f;var h={positionDebug:{defaultValue:void 0,componentName:"positionTracker",originPropName:"debug"},rotationDebug:{defaultValue:void 0,componentName:"rotationTracker",originPropName:"debug"},positionEvalFuncStr:{defaultValue:void 0,componentName:"positionTracker",originPropName:"evalFuncStr"},rotationEvalFuncStr:{defaultValue:void 0,componentName:"rotationTracker",originPropName:"evalFuncStr"}},d=(0,u.getDefaultComponentProps)(h);(0,u.extendComponentProps)(f.prototype,h),function(t){t.createDefaultProps=function(){return i({enabled:void 0,pathId:void 0,targetObjId:void 0,usePosition:void 0,useRotation:void 0,targetPositionPropertyName:void 0,targetRotationPropertyName:void 0},p.ESSceneObject.createDefaultProps())}}(f=e.GeoPathTracker||(e.GeoPathTracker={})),e.GeoPathTracker=f,(0,c.extendClassProps)(f.prototype,f.createDefaultProps)},27030:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AddingClickStatus=void 0;var i=n(81425),s=n(72256),a=function(t){function e(e,n){var r=t.call(this)||this;return r._nextStepEvent=r.disposeVar(new i.Event),r.dispose(s.DomElementEvent.on(e.addEvent,(function(t){if(0===t.button)r._nextStepEvent.emit(t.ctrlKey);else if(2===t.button){var o=e.nativeVertexArray.indexOf(n);o>=1&&e.deleteVertex(e.nativeVertexArray.get(o-1))}}))),r}return o(e,t),Object.defineProperty(e.prototype,"nextStepEvent",{get:function(){return this._nextStepEvent},enumerable:!1,configurable:!0}),e}(i.Destroyable);e.AddingClickStatus=a},76782:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AddingSingleLoopStatus=void 0;var i=n(81425),s=n(27030),a=function(t){function e(e,n){var r=t.call(this)||this;r._nextStepEvent=r.disposeVar(new i.Event);var o=e.cursorInfo,a=e.editingVertexRef,u=e.geoCoordinatesEditorAndPicker;a.value={vertex:n,editingMode:"centerAdding"},u.position=void 0,u.enabled=!0;var c=function(){o.text="Ctrl".concat("even"===n.mode?"不带":"带","曲率控制，Esc/左键双击结束，右键后撤")};c(),r.dispose(n.modeChanged.disposableOn(c)),o.show=!0,r.dispose((function(){return o.show=!1})),r.dispose(e.innerEvents.keyDownEvent.disposableOn((function(t){"Control"===t.key&&(n.mode="none"!==n.mode?"none":"even")})));var l=!1;r.dispose((function(){return!l&&-1!==e.nativeVertexArray.indexOf(n)&&e.deleteVertex(n)}));var p=r.disposeVar(new s.AddingClickStatus(e,n));return r.dispose(p.nextStepEvent.disposableOn((function(t){l=!0,r._nextStepEvent.emit(),n.leftPosition=n.position,n.rightPosition=n.position}))),r}return o(e,t),Object.defineProperty(e.prototype,"nextStepEvent",{get:function(){return this._nextStepEvent},enumerable:!1,configurable:!0}),e}(i.Destroyable);e.AddingSingleLoopStatus=a},52141:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ModifyingSingleLoopStatus=void 0;var i=n(81425),s=n(72256),a=function(t){function e(e,n){var r=t.call(this)||this;r._nextStepEvent=r.disposeVar(new i.Event);var o=e.cursorInfo,a=e.editingVertexRef,u=e.geoCoordinatesEditorAndPicker;a.value={vertex:n,editingMode:"right"},u.position=void 0,u.enabled=!0;var c=function(){o.text="Ctrl".concat("even"===n.mode?"控制后一个点":"同时控制两点","，Esc/左键双击结束，右键后撤")};c(),r.dispose(n.modeChanged.disposableOn(c)),o.show=!0,r.dispose((function(){return o.show=!1}));var l={even:"standalone",standalone:"even",none:"even"};return r.dispose(e.innerEvents.keyDownEvent.disposableOn((function(t){var e;if("Control"===t.key){var r=l[null!==(e=n.mode)&&void 0!==e?e:"none"];n.mode=r}}))),r.dispose(s.DomElementEvent.on(e.addEvent,(function(t){0===t.button?r._nextStepEvent.emit("next"):2===t.button&&r._nextStepEvent.emit("reverse")}))),r}return o(e,t),Object.defineProperty(e.prototype,"nextStepEvent",{get:function(){return this._nextStepEvent},enumerable:!1,configurable:!0}),e}(i.Destroyable);e.ModifyingSingleLoopStatus=a},14880:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},u=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.AddingStatus=void 0;var c=n(81425),l=n(72256),p=n(76782),f=n(52141),h=n(44305),d=function(t){function e(e,n){var r=t.call(this)||this;r._nextStepEvent=r.disposeVar(new c.Event);var o=e.overEvent;return"none"!==e.mode&&console.warn("penSplineEditor.mode !== 'none'"),e.setMode("adding"),r.dispose((function(){return e.setMode("none")})),e.maxPointsNum&&e.nativeVertexArray.length>=e.maxPointsNum&&console.warn("penSplineEditor.maxPointsNum && penSplineEditor.nativeVertexArray.length >= penSplineEditor.maxPointsNum"),r.dispose(o.disposableOn((function(){return r._nextStepEvent.emit()}))),r.disposeVar((0,l.createProcessingFromAsyncFunc)((function(t){return i(r,void 0,void 0,(function(){var r,o,i,c,l,d,y,g,v;return s(this,(function(s){switch(s.label){case 0:r=n,i=function(){o&&(o.destroy(),o=void 0)},this.dispose(i),l=function(){c&&(c.destroy(),c=void 0)},this.dispose(l),d="even",s.label=1;case 1:y=r?e.nativeVertexArray.indexOf(r):-1,(g=(0,h.createPenSplineVertex)(e,r?r.position:[0,0,0])).mode=d,e.nativeVertexArray.splice(y+1,0,g),s.label=2;case 2:return o=new p.AddingSingleLoopStatus(e,g),[4,t.promise(new Promise((function(t,e){if(!o)throw new Error("!addingSingleLoop");o.dispose(o.nextStepEvent.disposableOn(t))})))];case 3:return s.sent(),i(),"none"===g.mode?(d="none",[3,6]):(d="even",c=new f.ModifyingSingleLoopStatus(e,g),[4,t.promise(new Promise((function(t,e){if(!c)throw new Error("!modifyingSingleLoop");c.dispose(c.nextStepEvent.disposableOn(t))})))]);case 4:if(v=s.sent(),l(),"next"===v)return[3,6];g.mode="even",g.leftPosition=u([],a(g.position),!1),g.rightPosition=u([],a(g.position),!1),s.label=5;case 5:return[3,2];case 6:r=g,s.label=7;case 7:return[3,1];case 8:return[2]}}))}))}))).start(),r}return o(e,t),Object.defineProperty(e.prototype,"nextStepEvent",{get:function(){return this._nextStepEvent},enumerable:!1,configurable:!0}),e}(c.Destroyable);e.AddingStatus=d},17009:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MenuPoiCommandProcessing=void 0;var i=n(81425),s=function(t){function e(e,n,r,o){var s=t.call(this)||this;return s._poiAddingEvent=s.disposeVar(new i.Event),s.dispose(e.disposableOn((function(t,e){"delete"===e?r(t):"modify"===e?(n.value={vertex:t,editingMode:"centerEditing"},o.position=void 0,o.enabled=!0):"add"===e?s.poiAddingEvent.emit(t):"even"===e?t.mode="even":"none"===e?t.mode="none":"standalone"===e?t.mode="standalone":"left_modify"===e?(n.value={vertex:t,editingMode:"left"},o.position=void 0,o.enabled=!0):"right_modify"===e?(n.value={vertex:t,editingMode:"right"},o.position=void 0,o.enabled=!0):console.warn("command warn: cannot handled! command".concat(e))}))),s}return o(e,t),Object.defineProperty(e.prototype,"poiAddingEvent",{get:function(){return this._poiAddingEvent},enumerable:!1,configurable:!0}),e}(i.Destroyable);e.MenuPoiCommandProcessing=s},23272:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.EditingStatus=void 0;var i=n(81425),s=n(17009),a=function(t){function e(e){var n=t.call(this)||this;n._nextStepEvent=n.disposeVar(new i.Event);var r=e.cursorInfo,o=e.overEvent,a=e.editingVertexRef,u=e.geoCoordinatesEditorAndPicker;"none"!==e.mode&&console.warn("penSplineEditor.mode !== 'none'"),e.setMode("editing"),n.dispose((function(){return e.setMode("none")}));var c=function(){0===e.nativeVertexArray.length&&n._nextStepEvent.emit({type:"adding",positionRef:void 0})};c(),n.dispose(e.nativeVertexArray.changedEvent.disposableOn(c)),n.dispose((function(){u.position=void 0,u.enabled=!1})),r.text="Esc或左键双击结束",r.show=!0,n.dispose((function(){return r.show=!1})),n.dispose(o.disposableOn((function(){return n._nextStepEvent.emit({type:"over"})})));var l=n.disposeVar(new s.MenuPoiCommandProcessing(e.commandEvent,a,e.deleteVertex.bind(e),u));return n.dispose(l.poiAddingEvent.disposableOn((function(t){return n._nextStepEvent.emit({type:"adding",positionRef:t})}))),n}return o(e,t),Object.defineProperty(e.prototype,"nextStepEvent",{get:function(){return this._nextStepEvent},enumerable:!1,configurable:!0}),e}(i.Destroyable);e.EditingStatus=a},64558:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.EditingProcessing=void 0;var a=n(81425),u=n(72256),c=n(14880),l=n(23272),p=function(t){function e(e){var n=t.call(this)||this,r=n.disposeVar(function(t){var e=this;return(0,u.createProcessingFromAsyncFunc)((function(n){return i(e,void 0,void 0,(function(){var e;return s(this,(function(r){switch(r.label){case 0:e=function(){var e,r;return s(this,(function(o){switch(o.label){case 0:return e=void 0,0!==t.nativeVertexArray.length?[3,1]:(e={type:"adding",positionRef:void 0},[3,3]);case 1:return[4,(0,u.step)(n,(function(e){return new Promise((function(n){var r=e.disposer.disposeVar(new l.EditingStatus(t));e.disposer.dispose(r.nextStepEvent.disposableOn(n))}))}))];case 2:e=o.sent(),o.label=3;case 3:return"adding"!==e.type?[3,5]:(r=e.positionRef,[4,(0,u.step)(n,(function(e){return new Promise((function(n){var o=e.disposer.disposeVar(new c.AddingStatus(t,r));e.disposer.dispose(o.nextStepEvent.disposableOn((function(){return n()})))}))}))]);case 4:return o.sent(),[3,6];case 5:return[2,"break"];case 6:return[2]}}))},r.label=1;case 1:return[5,e()];case 2:if("break"===r.sent())return[3,4];r.label=3;case 3:return[3,1];case 4:return[2]}}))}))}))}(e));r.completeFunc=function(){return e.enabled=!1};var o=function(){var t;null!==(t=e.enabled)&&void 0!==t&&t?r.restartIfNotRunning():r.cancel()};return o(),n.dispose(e.enabledChanged.disposableOn(o)),n}return o(e,t),e}(a.Destroyable);e.EditingProcessing=p},48753:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CenterPositionEditing=void 0;var i=n(1245),s=function(t){function e(e){var n=t.call(this)||this;if(e.leftPosition){var r=(0,i.geoHeading)(e.position,e.leftPosition),o=(0,i.geoDistance)(e.position,e.leftPosition),s=function(){return e.leftPosition=(0,i.geoDestination)(e.position,o,r)};n.dispose(e.positionChanged.disposableOn(s))}if(e.rightPosition){var a=(0,i.geoHeading)(e.position,e.rightPosition),u=(0,i.geoDistance)(e.position,e.rightPosition);s=function(){return e.rightPosition=(0,i.geoDestination)(e.position,u,a)},n.dispose(e.positionChanged.disposableOn(s))}return n}return o(e,t),e}(n(81425).Destroyable);e.CenterPositionEditing=s},10829:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.EvenControlPositionEditing=void 0;var s=n(1245),a=n(81425),u=function(t){function e(e,n){var r=t.call(this)||this;if(!e.leftPosition||!e.rightPosition)return console.error("!vertex.leftPosition || !vertex.rightPosition"),r;var o="left"===n?"right":"left",u=i((0,a.getReactFuncs)([e,"".concat(n,"Position")]),3),c=u[0],l=(u[1],u[2]),p=i((0,a.getReactFuncs)([e,"".concat(o,"Position")]),3),f=(p[0],p[1]);return p[2],c?f?(r.dispose(l.disposableOn((function(){var t=(0,s.geoHeading)(e.position,c()),n=(0,s.geoDistance)(e.position,c()),r=e.position[2]-c()[2],o=(0,s.geoDestination)(e.position,n,t+180);o&&(o[2]+=r,f(o))}))),r):(console.error("!setTargetPostion"),r):(console.error("!getSourcePosition"),r)}return o(e,t),e}(a.Destroyable);e.EvenControlPositionEditing=u},15254:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.VertexModeChanged=void 0;var i=n(81425),s=n(72256),a=n(10829),u=function(t){function e(e,n){var r=t.call(this)||this;return r.disposeVar(new s.ObjResettingWithEvent(e.modeChanged,(function(){if("even"===e.mode)return new a.EvenControlPositionEditing(e,n)}))),r}return o(e,t),e}(i.Destroyable);e.VertexModeChanged=u},66549:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createControlPositionMenuPoi=void 0;var r=n(97731);e.createControlPositionMenuPoi=function(t,e){var n=new r.GeoCanvasMenuPoi,o="left"===e?t.leftPositionChanged:t.rightPositionChanged;(i=function(){n.position="left"===e?t.leftPosition:t.rightPosition})(),n.dispose(o.disposableOn(i)),n.imageUri="${scene-manager-script-dir}/xe2-assets/scene-manager/images/point-yellow.png";var i,s="".concat(e,"_modify");return n.commands=[[s,"修改当前控制点","","${scene-manager-script-dir}/xe2-assets/scene-manager/images/modify.png"]],n.clickCommandName=s,n.dispose(n.commandEvent.disposableOn((function(e){t.commandEvent.emit(e)}))),(i=function(){return n.show=t.show&&"none"!==t.mode&&!("centerAdding"===t.editingMode)})(),n.dispose(t.showChanged.disposableOn(i)),n.dispose(t.modeChanged.disposableOn(i)),n.dispose(t.editingModeChanged.disposableOn(i)),(i=function(){return n.enabled=t.enabled&&"none"!==t.mode&&!("centerAdding"===t.editingMode)})(),n.dispose(t.enabledChanged.disposableOn(i)),n.dispose(t.modeChanged.disposableOn(i)),n.dispose(t.editingModeChanged.disposableOn(i)),n}},60433:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createPositionMenuPoi=void 0;var r=n(97731),o={add:"${xe2-base-objects-script-dir}/xe2-assets/xe2-base-objects/images/add.png",delete:"${xe2-base-objects-script-dir}/xe2-assets/xe2-base-objects/images/delete.png",modify:"${xe2-base-objects-script-dir}/xe2-assets/xe2-base-objects/images/modify.png",even:"${xe2-base-objects-script-dir}/xe2-assets/xe2-base-objects/images/even_green.png",none:"${xe2-base-objects-script-dir}/xe2-assets/xe2-base-objects/images/none_green.png",standalone:"${xe2-base-objects-script-dir}/xe2-assets/xe2-base-objects/images/standalone_green.png"};e.createPositionMenuPoi=function(t){var e,n=new r.GeoCanvasMenuPoi;return(e=function(){n.position=t.position})(),n.dispose(t.positionChanged.disposableOn(e)),n.mainPoiSize=[18,18],(e=function(){var e;n.imageUri=o[null!==(e=t.mode)&&void 0!==e?e:"none"]})(),n.dispose(t.modeChanged.disposableOn(e)),n.commands=[["add","增加控制点","",o.add],["delete","删除当前控制点","",o.delete],["modify","修改当前控制点","",o.modify],["even","控制点模式改为even","",o.even],["none","控制点模式改为none","",o.none],["standalone","控制点模式改为standalone","",o.standalone]],n.clickCommandName="modify",n.dispose(n.commandEvent.disposableOn((function(e){t.commandEvent.emit(e)}))),(e=function(){return n.show=t.show})(),n.dispose(t.showChanged.disposableOn(e)),(e=function(){return n.enabled=t.enabled})(),n.dispose(t.enabledChanged.disposableOn(e)),n}},99913:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PenSplineVertex=void 0;var i=n(81425),s=n(72256),a=n(48753),u=n(66549),c=n(60433),l=n(15254),p=function(t){function e(e){var n=t.call(this)||this;n._commandEvent=n.disposeVar(new i.Event),n._changed=n.disposeVar(new i.Event),n._positionMenuPoi=n.disposeVar((0,c.createPositionMenuPoi)(n)),n._leftControlPositionMenuPoi=n.disposeVar((0,u.createControlPositionMenuPoi)(n,"left")),n._rightControlPositionMenuPoi=n.disposeVar((0,u.createControlPositionMenuPoi)(n,"right")),n.position=e,n.leftPosition=e,n.rightPosition=e;var r=function(){return n._changed.emit()};return n.dispose(n.positionChanged.disposableOn(r)),n.dispose(n.leftPositionChanged.disposableOn(r)),n.dispose(n.rightPositionChanged.disposableOn(r)),n.dispose(n.modeChanged.disposableOn(r)),n.disposeVar(new s.ObjResettingWithEvent(n.editingModeChanged,(function(){switch(n.editingMode){case"none":return;case"centerAdding":case"centerEditing":return new a.CenterPositionEditing(n);default:return new l.VertexModeChanged(n,n.editingMode)}}))),n}return o(e,t),Object.defineProperty(e.prototype,"commandEvent",{get:function(){return this._commandEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changed",{get:function(){return this._changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"positionMenuPoi",{get:function(){return this._positionMenuPoi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftControlPositionMenuPoi",{get:function(){return this._leftControlPositionMenuPoi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightControlPositionMenuPoi",{get:function(){return this._rightControlPositionMenuPoi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return{position:this.position,leftPosition:this.leftPosition,rightPosition:this.rightPosition,mode:this.mode}},set:function(t){this.position=t.position,this.leftPosition=t.leftPosition,this.rightPosition=t.rightPosition,this.mode=t.mode},enumerable:!1,configurable:!0}),e}(i.Destroyable);e.PenSplineVertex=p,function(t){t.createDefaultProps=function(){return{show:!1,enabled:!1,editingMode:"none",position:(0,i.reactArray)([0,0,0]),leftPosition:(0,i.reactArrayWithUndefined)(void 0),rightPosition:(0,i.reactArrayWithUndefined)(void 0),mode:void 0}}}(p=e.PenSplineVertex||(e.PenSplineVertex={})),e.PenSplineVertex=p,(0,i.extendClassProps)(p.prototype,p.createDefaultProps)},37094:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createEvents=void 0;var r=n(81425),o=n(72256);e.createEvents=function(t){var e=t.disposeVar(new r.Event),n=t.disposeVar(new r.Event),i=t.disposeVar(new r.Event),s=t.disposeVar(new r.Event);return t.registerAttachedObjectForContainer((function(t){var a=t.interaction;if(a){var u=new r.Destroyable;return u.dispose(o.DomElementEvent.on(a.keyUpEvent,(function(t){return e.emit(t)}))),u.dispose(o.DomElementEvent.on(a.keyDownEvent,(function(t){return n.emit(t)}))),u.dispose(o.DomElementEvent.on(a.pointerClick.dbclickEvent,(function(t){return i.emit(t)}))),u.dispose(o.DomElementEvent.on(a.pointerClick.clickEvent,(function(t){return s.emit(t)}))),u}})),{keyUpEvent:e,keyDownEvent:n,dbclickEvent:i,clickEvent:s}}},9123:function(t,e){"use strict";var n=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.getPositions=void 0,e.getPositions=function(t){var e,i,s=[];try{for(var a=n(t),u=a.next();!u.done;u=a.next()){var c=u.value.position;s.push(o([],r(c),!1))}}catch(t){e={error:t}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(e)throw e.error}}return s}},24955:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},u=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoPenSplineEditor=void 0;var c=n(6018),l=n(81425),p=n(4842),f=n(40837),h=n(37094),d=n(64558),y=n(9123),g=n(24664),v=n(15661),b=n(93895),m=n(57569),_=n(65467),P=n(19930),w=n(67154),E=n(44305),x=n(10114),O=n(78301),C=function(t){function e(e){var n=t.call(this,e)||this;n._addEvent=n.disposeVar(new l.Event),n._cursorInfo=n.disposeVar(new f.CursorInfo),n._commandEvent=n.disposeVar(new l.Event),n._mode=n.disposeVar((0,l.react)("none")),n._flyToEvent=n.disposeVar(new l.Event),n._nativeVertexArray=n.disposeVar(new l.ObservableArray),n._vertexArrayChanged=n.disposeVar(new l.Event),n._createPenSplineVertexFunc=function(t){return(0,E.createPenSplineVertex)(n,t)},n._updateMenuPoisTitleRegister=n.disposeVar(new b.UpdateMenuPoisTitleRegister(n._nativeVertexArray)),n._editingVertexRef=n.disposeVar((0,_.createEditingPositionRef)(n.nativeVertexArray)),n._geoCoordinatesEditorAndPicker=n.disposeVar((0,P.createEditorAndPicker)(n.editingVertexRef)),n._innerEvents=(0,h.createEvents)(n);var r=n._innerEvents,o=r.keyUpEvent,i=(r.keyDownEvent,r.dbclickEvent),a=r.clickEvent;n._overEvent=n.disposeVar((0,w.createOverEvent)(o,i)),n.dispose(a.disposableOn((function(t){return n._addEvent.emit(t)}))),n.cursorInfo.show=!1,n.dispose(n.components.disposableAdd(n.cursorInfo)),n.dispose((function(){return n.resetPositions()})),n.dispose(n._nativeVertexArray.changedEvent.disposableOn((function(){return n._vertexArrayChanged.emit()}))),n.dispose(n._nativeVertexArray.toChangeEvent.disposableOn((function(t){var e,r;try{for(var o=s(t),i=o.next();!i.done;i=o.next())for(var a=i.value,u=a.start,c=a.deleteCount,l=(a.items,u);l<u+c;++l)n._nativeVertexArray.get(l).destroy()}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}}))),n.dispose(n.components.disposableAdd(n.geoCoordinatesEditorAndPicker));var u=n.disposeVar((0,x.createPolyline)(n));n.dispose(n.components.disposableAdd(u)),n.dispose(n.flyToEvent.disposableOn((function(t){return u.flyTo(t)})));var c=n.disposeVar((0,m.createControlPolylines)(n));return n.dispose(n.components.disposableAdd(c)),n.dispose((function(){return n._nativeVertexArray.length=0})),n.disposeVar(new d.EditingProcessing(n)),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoPenSplineEditor"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){var t=this._innerGetJson();return t.positions=this.getPositions(),t},set:function(t){this._innerSetJson(t),this.resetPositions(t.positions)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overEvent",{get:function(){return this._overEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"addEvent",{get:function(){return this._addEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursorInfo",{get:function(){return this._cursorInfo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"commandEvent",{get:function(){return this._commandEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mode",{get:function(){return this._mode.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeChanged",{get:function(){return this._mode.changed},enumerable:!1,configurable:!0}),e.prototype.setMode=function(t){this._mode.value=t},Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},Object.defineProperty(e.prototype,"nativeVertexArray",{get:function(){return this._nativeVertexArray},enumerable:!1,configurable:!0}),e.prototype.getPositions=function(){return(0,y.getPositions)(this.nativeVertexArray)},e.prototype.resetPositions=function(t){return(0,g.resetPositions)(this.nativeVertexArray,this._createPenSplineVertexFunc,t)},Object.defineProperty(e.prototype,"vertexArrayChanged",{get:function(){return this._vertexArrayChanged},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vertexArray",{get:function(){return u([],a(this._nativeVertexArray),!1).map((function(t){return t.json}))},set:function(t){(0,v.setVertexArray)(this.nativeVertexArray,this._createPenSplineVertexFunc,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"editingVertexRef",{get:function(){return this._editingVertexRef},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoCoordinatesEditorAndPicker",{get:function(){return this._geoCoordinatesEditorAndPicker},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"innerEvents",{get:function(){return this._innerEvents},enumerable:!1,configurable:!0}),e.prototype.deleteVertex=function(t){return(0,O.deleteVertex)(this,t)},e.prototype.getProperties=function(e){var n=this;return u(u([],a(t.prototype.getProperties.call(this,e)),!1),[new c.GroupProperty("通用","通用",[new c.FunctionProperty("飞入","飞入",["number"],(function(t){return n.flyTo(t)}),[1e3]),new c.BooleanProperty("是否可用","A boolean Property specifying the visibility.",!1,!1,[this,"enabled"]),new c.JsonProperty("顶点信息","顶点信息",!1,!1,[this,"vertexArray"]),new c.NumberProperty("控制点最大数量","控制点最大数量.",!1,!1,[this,"maxPointsNum"]),new c.BooleanProperty("是否显示折线","是否显示折线.",!1,!1,[this,"polylineShow"]),new c.EnumProperty("弧线类型","弧线类型",!1,!1,[this,"arcType"],[["直线","NONE"],["地理直线","GEODESIC"],["地理恒向线","RHUMB"]],"GEODESIC"),new c.FunctionProperty("重置","重置",[],(function(){return n.resetPositions()}),[])])],!1)},n=e,e.type=n.register("GeoPenSplineEditor",n,{chsName:"钢笔样条曲线编辑器",tags:["GeoObjects"],description:"钢笔样条曲线编辑器"}),e}(p.ESSceneObject);e.GeoPenSplineEditor=C,function(t){t.createDefaultProps=function(){return i({enabled:!0,arcType:"GEODESIC",polylineShow:!0,maxPointsNum:0},p.ESSceneObject.createDefaultProps())}}(C=e.GeoPenSplineEditor||(e.GeoPenSplineEditor={})),e.GeoPenSplineEditor=C,(0,l.extendClassProps)(C.prototype,C.createDefaultProps)},24664:function(t,e){"use strict";var n=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},r=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.resetPositions=void 0,e.resetPositions=function(t,e,o){var i=o||[];if(i.length!==t.length||!i.every((function(e,n){return e.every((function(e,r){return e===t.get(n).position[r]}))}))){var s=o?o.map((function(t){return e(t)})):[];t.splice.apply(t,r([0,t.length],n(s),!1))}}},15661:function(t,e,n){"use strict";var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.setVertexArray=void 0;var i=n(9729);e.setVertexArray=function(t,e,n){if(n.length!==t.length||!n.every((function(e,n){var r=t.get(n);return i.GeoPenSpline.equalsPenSplineVertexJsonType(e,r)})))try{var s=JSON.parse(JSON.stringify(n)),a=s.map((function(t){var n=e(t.position);return n.json=t,n}));s.length!==a.length&&console.error("i !== toAddItems.length - 1"),t.splice.apply(t,o([0,t.length],r(a),!1))}catch(t){console.error("setVertexArray error: ".concat(t),t)}}},39184:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.UpdateMenuPoisTitleRegister=void 0;var i=function(t){function e(e){var n=t.call(this)||this,r=function(){for(var t=e.length,n=0;n<t;++n)e.get(n).positionMenuPoi.title="第".concat(n+1,"个控制点")};return r(),n.dispose(e.changedEvent.disposableOn(r)),n}return o(e,t),e}(n(81425).Destroyable);e.UpdateMenuPoisTitleRegister=i},57569:function(t,e,n){"use strict";var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.createControlPolylines=void 0;var o=n(81425),i=n(99736);e.createControlPolylines=function(t){var e=new i.GeoPolylines;e.dispose(t.components.disposableAdd(e)),e.color=[1,1,0,.99],e.width=1;var n=function(){var n,o,i=[];try{for(var s=r(t.nativeVertexArray),a=s.next();!a.done;a=s.next()){var u=a.value;if("none"!==u.mode&&(u.leftPosition||u.rightPosition)){var c=[];u.leftPosition&&c.push(u.leftPosition),c.push(u.position),u.rightPosition&&c.push(u.rightPosition),i.push(c)}}}catch(t){n={error:t}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}e.positions=i};n(),e.dispose(t.vertexArrayChanged.disposableOn(n));var s=function(){var n;return e.show=null!==(n=t.enabled)&&void 0!==n&&n};return s(),e.dispose(t.enabledChanged.disposableOn(s)),e.dispose((0,o.track)([e,"arcType"],[t,"arcType"])),e}},65467:function(t,e,n){"use strict";var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.createEditingPositionRef=void 0;var o=n(81425);e.createEditingPositionRef=function(t){var e=(0,o.react)(void 0,(function(t,e){return t===e||!(!t||!e)&&t.vertex===e.vertex&&t.editingMode===e.editingMode}),(function(t){return t&&{vertex:t.vertex,editingMode:t.editingMode}}));return e.dispose(t.toChangeEvent.disposableOn((function(n){var o,i,s=e.value;if(s)try{for(var a=r(n),u=a.next();!u.done;u=a.next())for(var c=u.value,l=c.start,p=c.deleteCount,f=l;f<l+p;++f)if(s.vertex===t.get(f))return void(e.value=void 0)}catch(t){o={error:t}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}}))),e.dispose((function(){return e.value=void 0})),e}},19930:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createEditorAndPicker=void 0;var r=n(81425),o=n(95095);e.createEditorAndPicker=function(t){var e,n=new o.GeoCoordinatesEditorAndPicker,i=function(){e&&(e(),e=void 0),n.enabled=!1};return n.dispose((function(){i()})),n.dispose(t.changed.disposableOn((function(t){i(),t&&("centerAdding"===t.editingMode||"centerEditing"===t.editingMode?e=(0,r.bind)([n,"position"],[t.vertex,"position"]):"left"===t.editingMode?e=(0,r.bind)([n,"position"],[t.vertex,"leftPosition"]):"right"===t.editingMode&&(e=(0,r.bind)([n,"position"],[t.vertex,"rightPosition"])))}))),n}},67154:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createOverEvent=void 0;var r=n(81425);e.createOverEvent=function(t,e){var n=new r.Event;return n.dispose(t.disposableOn((function(t){"Escape"===t.key&&n.emit()}))),n.dispose(e.disposableOn((function(t){0===t.button&&n.emit()}))),n}},44305:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.createPenSplineVertex=void 0;var i=n(81425),s=n(99913),a=function(t){function e(e,n){var r=t.call(this)||this,o=function(){var t=n.editingVertexRef.value;t&&e===t.vertex?e.editingMode=t.editingMode:e.editingMode="none"};return r.dispose(n.editingVertexRef.changed.disposableOn(o)),r.dispose(e.commandEvent.disposableOn((function(t){n.commandEvent.emit(e,t)}))),(o=function(){e.enabled="editing"===n.mode})(),r.dispose(n.modeChanged.disposableOn(o)),(o=function(){var t;e.show=null!==(t=n.enabled)&&void 0!==t&&t})(),r.dispose(n.enabledChanged.disposableOn(o)),r.dispose(n.components.disposableAdd(e.positionMenuPoi)),r.dispose(n.components.disposableAdd(e.leftControlPositionMenuPoi)),r.dispose(n.components.disposableAdd(e.rightControlPositionMenuPoi)),r.dispose(e.changed.disposableOn((function(){return n.vertexArrayChanged.emit()}))),r}return o(e,t),e}(i.Destroyable);e.createPenSplineVertex=function(t,e){var n=new s.PenSplineVertex(e),r=new a(n,t);return n.disposeVar(r),n}},10114:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createPolyline=void 0;var r=n(81425),o=n(39743);e.createPolyline=function(t){var e=new o.GeoPolyline;e.color=[1,1,0,.99],e.width=2;var n=function(){return e.positions=t.getPositions()};n(),e.dispose(t.vertexArrayChanged.disposableOn(n));var i=function(){var n,r;return e.show=null!==(n=t.enabled)&&void 0!==n&&n&&null!==(r=t.polylineShow)&&void 0!==r&&r};return i(),e.dispose(t.enabledChanged.disposableOn(i)),e.dispose(t.polylineShowChanged.disposableOn(i)),e.dispose((0,r.track)([e,"arcType"],[t,"arcType"])),e}},78301:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deleteVertex=void 0,e.deleteVertex=function(t,e){var n=t.nativeVertexArray.indexOf(e);if(-1===n)throw new Error("index === -1");t.nativeVertexArray.splice(n,1)}},93895:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),o(n(57569),e),o(n(65467),e),o(n(19930),e),o(n(67154),e),o(n(44305),e),o(n(10114),e),o(n(78301),e),o(n(39184),e)},87506:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.equalsPenSplineVertexJsonType=void 0;var r=n(61158);e.equalsPenSplineVertexJsonType=function(t,e){return r.Vector.equals(t.position,e.position)&&(t.leftPosition===e.leftPosition===void 0||t.leftPosition&&e.leftPosition&&r.Vector.equals(t.leftPosition,e.leftPosition)||!1)&&(t.rightPosition===e.rightPosition===void 0||t.rightPosition&&e.rightPosition&&r.Vector.equals(t.rightPosition,e.rightPosition)||!1)&&t.mode===e.mode}},17128:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultSpliteNumPerSegment=void 0,e.defaultSpliteNumPerSegment=20},9729:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoPenSpline=void 0;var u=n(6018),c=n(81425),l=n(72256),p=n(1245),f=n(4842),h=n(50679),d=n(39743),y=n(17128),g=n(87506),v=n(63409),b=function(){function t(t){this._vertexArray=t}return t.prototype[Symbol.iterator]=function(){return(0,c.objsIterator)(this._vertexArray,["position"])},t}(),m=function(t){function e(n){var r=t.call(this,n)||this;r._flyToEvent=r.disposeVar(new c.Event),r._polylinePositions=r.disposeVar((0,c.reactPositions)(void 0)),r._geoPolyline=r.disposeVar(new d.GeoPolyline),r._geoPolygon=r.disposeVar(new h.GeoPolygon),r._pickedEvent=r.disposeVar(new c.Event),r.dispose(r.components.disposableAdd(r._geoPolyline,r._geoPolygon));var o=r.disposeVar((0,c.createNextAnimateFrameEvent)(r.vertexArrayChanged,r.loopChanged,r.interpolateModeChanged,r.spliteNumPerSegmentChanged)),i=function(){var t,n;try{var o=r.interpolateMode,i=void 0===o?"WebMercator":o,s=e.interplateFuncMap[i][0],a=e.interplateFuncMap[i][1];if(r.vertexArray&&r.vertexArray.length>=2){var u=r.vertexArray.map((function(t){return{position:s(t.position),leftPosition:"none"!==t.mode?t.leftPosition&&s(t.leftPosition):void 0,rightPosition:"none"!==t.mode?t.rightPosition&&s(t.rightPosition):void 0}})),c=(0,l.vertexArrayToBezierSpline3Positions)(u,3,null!==(t=r.loop)&&void 0!==t&&t,null!==(n=r.spliteNumPerSegment)&&void 0!==n?n:e.defaultSpliteNumPerSegment);r._polylinePositions.value=c.map((function(t){return a(t)}))}else r._polylinePositions.value=void 0}catch(t){console.error(t),r._polylinePositions.value=void 0}};i(),r.dispose(o.disposableOn(i));var a=r._geoPolyline,f=r._geoPolygon;r.dispose((0,c.track)([a,"loop"],[r,"loop"])),r.dispose((0,c.track)([a,"width"],[r,"width"])),r.dispose((0,c.track)([a,"ground"],[r,"ground"])),r.dispose((0,c.track)([a,"color"],[r,"color"])),r.dispose((0,c.track)([a,"hasDash"],[r,"hasDash"])),r.dispose((0,c.track)([a,"gapColor"],[r,"gapColor"])),r.dispose((0,c.track)([a,"dashLength"],[r,"dashLength"])),r.dispose((0,c.track)([a,"dashPattern"],[r,"dashPattern"])),r.dispose((0,c.track)([a,"hasArrow"],[r,"hasArrow"])),r.dispose((0,c.track)([a,"arcType"],[r,"arcType"])),r.dispose((0,c.track)([a,"zIndex"],[r,"zIndex"])),r.dispose((0,c.track)([f,"zIndex"],[r,"zIndex"])),r.dispose((0,c.track)([f,"color"],[r,"fillColor"])),r.dispose((0,c.track)([f,"outlineWidth"],[r,"width"])),r.dispose((0,c.track)([f,"outlineColor"],[r,"color"]));var y=function(){a.positions=r._polylinePositions.value,r._polylinePositions.value&&r._polylinePositions.value.length>=3?f.positions=r._polylinePositions.value:f.positions=void 0};y(),r.dispose(r._polylinePositions.changed.disposableOn(y));var g=function(){var t;null===(t=r.show)||void 0===t||t?r.isPolygon?(f.show=!0,a.show=!1):(f.show=!1,a.show=!0):(f.show=!1,a.show=!1)};g();var v=r.disposeVar((0,c.createNextAnimateFrameEvent)(r.showChanged,r.isPolygonChanged));r.dispose(v.disposableOn(g)),r.dispose((0,c.track)([r._geoPolyline,"allowPicking"],[r,"allowPicking"])),r.dispose(r._geoPolyline.pickedEvent.disposableOn((function(t){r.pickedEvent.emit(new u.SceneObjectPickedInfo(r,t))}))),r.dispose((0,c.track)([r._geoPolygon,"allowPicking"],[r,"allowPicking"])),r.dispose(r._geoPolygon.pickedEvent.disposableOn((function(t){r.pickedEvent.emit(new u.SceneObjectPickedInfo(r,t))}))),r.dispose(r.flyToEvent.disposableOn((function(t){a.flyTo(t)})));var m=r.disposeVar((0,p.createPenSplineEditingRefForComponent)([r,"vertexArray"],r.components));r.dispose((0,c.bind)([r,"editing"],m));var _=r.disposeVar((0,c.reactArrayWithUndefined)(void 0));r.dispose(_.changed.disposableOn((function(t,e){if(void 0!==e&&void 0!==t&&r.vertexArray){var n=t[0]-e[0],o=t[1]-e[1],i=t[2]-e[2];r.vertexArray=r.vertexArray.map((function(t){var e=t.mode,r=t.leftPosition,a=s(t.position,3),u=a[0],c=a[1],l=a[2],p=t.rightPosition;return{mode:e,leftPosition:r&&[r[0]+n,r[1]+o,r[2]+i],position:[u+n,c+o,l+i],rightPosition:p&&[p[0]+n,p[1]+o,p[2]+i]}}))}})));var P=r.disposeVar((0,p.createPositionEditingRefForComponent)(_,r.components));return r.dispose(r.pointEditingChanged.disposableOn((function(t,e){if(t){if(!r.vertexArray)return void(r.pointEditing=!1);var n=(0,p.getMinMaxCorner)(new b(r.vertexArray)).center;_.value=n,P.value=!0}else _.value=void 0,P.value=!1}))),r.dispose(P.changed.disposableOn((function(t){r.pointEditing=t}))),r}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoPenSpline"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},Object.defineProperty(e.prototype,"polylinePositions",{get:function(){return this._polylinePositions.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polylinePositionsChanged",{get:function(){return this._polylinePositions.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoPolyline",{get:function(){return this._geoPolyline},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoPolygon",{get:function(){return this._geoPolygon},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(n){var r=this;return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new u.GroupProperty("通用","通用",[new u.FunctionProperty("飞入","飞入",["number"],(function(t){return r.flyTo(t)}),[1e3]),new u.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!1,!1,[this,"show"]),new u.BooleanProperty("是否拾取","是否拾取。",!1,!1,[this,"allowPicking"]),new u.JsonProperty("顶点信息","顶点信息",!0,!1,[this,"vertexArray"],void 0,e.vertexArrayReadMe),new u.BooleanProperty("是否循环","A boolean Property specifying the visibility.",!1,!1,[this,"loop"]),new u.NumberProperty("线宽","线宽",!1,!1,[this,"width"]),new u.NumberProperty("z-index","z-index",!1,!1,[this,"zIndex"]),new u.BooleanProperty("是否贴地","A boolean Property specifying the visibility.",!1,!1,[this,"ground"]),new u.ColorProperty("颜色","A Property specifying the color.",!1,!1,[this,"color"]),new u.BooleanProperty("是否为虚线","是否为虚线.",!1,!1,[this,"hasDash"]),new u.ColorProperty("间隔颜色","A Property specifying the color.",!1,!1,[this,"gapColor"]),new u.NumberProperty("虚线长度","虚线长度",!1,!1,[this,"dashLength"]),new u.DashPatternProperty("虚线图案","虚线图案",!1,!1,[this,"dashPattern"]),new u.BooleanProperty("是否带箭头","是否带箭头.",!1,!1,[this,"hasArrow"]),new u.BooleanProperty("是否编辑","是否编辑.",!1,!1,[this,"editing"]),new u.BooleanProperty("pointEditing","pointEditing.",!1,!1,[this,"pointEditing"]),new u.EnumProperty("弧线类型","弧线类型",!1,!1,[this,"arcType"],[["直线","NONE"],["地理直线","GEODESIC"],["地理恒向线","RHUMB"]]),new u.NumberProperty("分段数","每两个插值点之间的分段数",!1,!1,[this,"spliteNumPerSegment"]),new u.GroupProperty("多边形","多边形",[new u.ColorProperty("填充色","fillColor.",!1,!1,[this,"fillColor"]),new u.BooleanProperty("是否为多边形","isPolygon.",!1,!1,[this,"isPolygon"])]),new u.EnumProperty("插值模式","插值模式",!1,!1,[this,"interpolateMode"],[["WebMercator","WebMercator"],["Cartesian","Cartesian"],["LonLat","LonLat"]])]),new u.GroupProperty("调试","调试",[new u.PositionsProperty("折线位置数组","经度纬度高度，度为单位",!0,!1,[this.geoPolyline,"positions"]),new u.JsonProperty("折线位置数组(JSON形式)","经度纬度高度，度为单位",!0,!1,[this.geoPolyline,"positions"])])],!1)},n=e,e.type=n.register("GeoPenSpline",n,{chsName:"钢笔样条曲线",tags:["GeoObjects"],description:"GeoPenSpline"}),e.equalsPenSplineVertexJsonType=g.equalsPenSplineVertexJsonType,e.interplateFuncMap={WebMercator:[p.lbhToWebMerc,p.webMercToLbh],Cartesian:[p.lbhToXyz,p.xyzToLbh],LonLat:[function(t){return t},function(t){return t}]},e.defaultSpliteNumPerSegment=y.defaultSpliteNumPerSegment,e.vertexArrayReadMe=v.vertexArrayReadMe,e}(f.ESSceneObject);e.GeoPenSpline=m,function(t){t.createDefaultProps=function(){return i({show:!0,allowPicking:!1,vertexArray:(0,c.reactDeepArrayWithUndefined)(void 0,(function(e,n){return t.equalsPenSplineVertexJsonType(e,n)}),(function(t){return JSON.parse(JSON.stringify(t))})),loop:!1,isPolygon:!1,width:1,ground:!1,color:(0,c.reactArray)([1,1,1,1]),fillColor:(0,c.reactArray)([1,1,1,1]),hasDash:!1,gapColor:(0,c.reactArray)([0,0,0,0]),dashLength:16,dashPattern:255,hasArrow:!1,arcType:"GEODESIC",editing:!1,pointEditing:!1,spliteNumPerSegment:20,zIndex:0,interpolateMode:"WebMercator"},f.ESSceneObject.createDefaultProps())}}(m=e.GeoPenSpline||(e.GeoPenSpline={})),e.GeoPenSpline=m,(0,c.extendClassProps)(m.prototype,m.createDefaultProps)},63409:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.vertexArrayReadMe=void 0,e.vertexArrayReadMe='\n\n示例代码如下：\n\n```\n[\n    {\n        "position": [\n            87.75756179407736,\n            36.585479976841484,\n            0\n        ],\n        "leftPosition": [\n            77.69637643810061,\n            30.505955666929605,\n            1.3222238854040097e-9\n        ],\n        "rightPosition": [\n            99.3848637208511,\n            41.684517323086354,\n            -1.3222238854040097e-9\n        ],\n        "mode": "even"\n    },\n    {\n        "position": [\n            106.93359317350667,\n            39.037511554924784,\n            6.473361875143761e-9\n        ],\n        "leftPosition": [\n            97.21675274945635,\n            43.45403124164822,\n            6.473361875143761e-9\n        ],\n        "rightPosition": [\n            115.42371588192923,\n            33.91454693626739,\n            6.473361875143761e-9\n        ],\n        "mode": "even"\n    },\n    {\n        "position": [\n            123.75518897644679,\n            33.94291843534602,\n            0\n        ],\n        "leftPosition": [\n            121.66626415945717,\n            39.35944985454794,\n            0\n        ],\n        "rightPosition": [\n            125.59285033414584,\n            28.4953493947601,\n            0\n        ],\n        "mode": "even"\n    }\n]\n```\n\n'},29132:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoPoint=void 0;var u=n(81425),c=n(1245),l=n(6018),p=function(t){function e(e){var n=t.call(this,e)||this;return n._flyToEvent=n.disposeVar(new u.Event),n._sPositionEditing=n.disposeVar(new c.PositionEditing([n,"position"],[n,"editing"],n.components)),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoPoint"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},Object.defineProperty(e.prototype,"sPositionEditing",{get:function(){return this._sPositionEditing},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(n){var r=this;return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(t){return r.flyTo(t)}),[e.defaults.duration]),new l.BooleanProperty("是否编辑","是否编辑.",!1,!1,[this,"editing"]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!1,!1,[this,"show"]),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"]),new l.NumberProperty("屏幕像素尺寸","屏幕像素尺寸",!1,!1,[this,"pixelSize"]),new l.ColorProperty("颜色"," A Property specifying the color.",!1,!1,[this,"color"]),new l.MinmaxProperty("距离限制","距离限制",!0,!1,[this,"distanceDisplayCondition"]),new l.NumberProperty("禁用深度检测距离","禁用深度检测距离",!0,!1,[this,"disableDepthTestDistance"]),new l.NumberProperty("外轮廓宽度","外轮廓宽度",!1,!1,[this,"outlineWidth"]),new l.ColorProperty("轮廓线颜色"," A Property specifying the color.",!1,!1,[this,"outlineColor"]),new l.NearFarScalerProperty("scaleByDistance","scaleByDistance",!0,!1,[this,"scaleByDistance"]),new l.NearFarScalerProperty("translucencyByDistance","translucencyByDistance",!0,!1,[this,"translucencyByDistance"])])],!1)},n=e,e.type=n.register("GeoPoint",n,{chsName:"GeoPoint",tags:["GeoObjects","_ES_Impl_Any"],description:"GeoPoint"}),e.defaults=i(i({},l.ESSceneObject.defaults),{duration:1e3}),e}(l.ESSceneObject);e.GeoPoint=p,function(t){t.createDefaultProps=function(){return i({editing:!1,show:!0,position:(0,u.reactArrayWithUndefined)(void 0),pixelSize:1,color:(0,u.reactArray)([1,1,1,.5]),distanceDisplayCondition:void 0,disableDepthTestDistance:void 0,outlineColor:(0,u.reactArray)([1,1,1,1]),outlineWidth:1,scaleByDistance:(0,u.reactArrayWithUndefined)(void 0),translucencyByDistance:(0,u.reactArrayWithUndefined)(void 0)},l.ESSceneObject.createDefaultProps())}}(p=e.GeoPoint||(e.GeoPoint={})),e.GeoPoint=p,(0,u.extendClassProps)(p.prototype,p.createDefaultProps)},50679:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoPolygon=void 0;var u=n(81425),c=n(6018),l=n(1245),p=n(4842),f=function(t){function e(e){var n=t.call(this,e)||this;return n._pickedEvent=n.disposeVar(new u.Event),n._flyToEvent=n.disposeVar(new u.Event),n._sPositionsEditing=n.disposeVar(new l.PositionsEditing([n,"positions"],!0,[n,"editing"],n.components)),n._sPointEditing=n.disposeVar(new l.PointEditing([n,"positions"],[n,"pointEditing"],n.components)),n._positionsCenter=n.disposeVar(new l.PositionsCenter([n,"positions"])),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoPolygon"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},Object.defineProperty(e.prototype,"sPositionsEditing",{get:function(){return this._sPositionsEditing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sPointEditing",{get:function(){return this._sPointEditing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"positionsCenter",{get:function(){return this._positionsCenter},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(n){var r=this;return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new c.GroupProperty("通用","通用",[new c.FunctionProperty("飞入","飞入",["number"],(function(t){return r.flyTo(t)}),[1e3]),new c.BooleanProperty("是否显示","A boolean Property specifying the visibility of the circle.",!1,!1,[this,"show"]),new c.Number4Property("可视范围控制","可视范围控制[near0, near1, far1, far0]",!0,!1,[this,"viewDistanceRange"],e.defaults.viewDistanceRange),new c.BooleanProperty("可视距离调试","可视距离调试",!1,!1,[this,"viewDistanceDebug"]),new c.BooleanProperty("允许拾取","是否允许拾取",!1,!1,[this,"allowPicking"])]),new c.GroupProperty("多边形","过变形",[new c.BooleanProperty("是否贴地","A boolean Property specifying the visibility.",!1,!1,[this,"ground"]),new c.BooleanProperty("是否显示轮廓线","是否显示轮廓线.",!1,!1,[this,"outline"]),new c.ColorProperty("轮廓线颜色"," A Property specifying the color.",!1,!1,[this,"outlineColor"]),new c.NumberProperty("轮廓线宽度","轮廓线宽度",!1,!1,[this,"outlineWidth"]),new c.BooleanProperty("填充","填充",!1,!1,[this,"fill"]),new c.ColorProperty("颜色"," A Property specifying the color.",!1,!1,[this,"color"]),new c.BooleanProperty("是否编辑","A boolean Property specifying the visibility.",!1,!1,[this,"editing"]),new c.BooleanProperty("是否单点编辑","是否单点编辑.",!1,!1,[this,"pointEditing"]),new c.PositionsProperty("位置数组","经度纬度高度，度为单位",!0,!1,[this,"positions"],e.defaults.positions),new c.NumberProperty("厚度","厚度",!1,!1,[this,"depth"]),new c.NumberProperty("z-index","z-index",!1,!1,[this,"zIndex"]),new c.BooleanProperty("是否开启深度检测","A boolean Property specifying the visibility.",!1,!1,[this,"depthTest"])])],!1)},n=e,e.type=n.register("GeoPolygon",n,{chsName:"地理多边形",tags:["GeoObjects","_ES_Impl_Any"],description:"地理多边形"}),e.defaults=i(i({},p.ESSceneObject.defaults),{positions:[],viewDistanceRange:[1e3,1e4,3e4,6e4]}),e}(p.ESSceneObject);e.GeoPolygon=f,function(t){t.createDefaultProps=function(){return i({show:!0,allowPicking:!1,ground:!1,outline:!0,outlineColor:(0,u.reactArray)([1,1,1,1]),outlineWidth:2,fill:!0,color:(0,u.reactArray)([1,1,1,.5]),editing:!1,pointEditing:!1,positions:(0,u.reactPositions)(void 0),depth:0,zIndex:0,viewDistanceRange:(0,u.reactArrayWithUndefined)(void 0),viewDistanceDebug:!1,depthTest:!1},p.ESSceneObject.createDefaultProps())}}(f=e.GeoPolygon||(e.GeoPolygon={})),e.GeoPolygon=f,(0,u.extendClassProps)(f.prototype,f.createDefaultProps)},39743:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoPolyline=void 0;var u=n(81425),c=n(6018),l=n(1245),p=n(4842),f=function(t){function e(e){var n=t.call(this,e)||this;return n._pickedEvent=n.disposeVar(new u.Event),n._flyToEvent=n.disposeVar(new u.Event),n._sPositionsEditing=n.disposeVar(new l.PositionsEditing([n,"positions"],[n,"loop"],[n,"editing"],n.components)),n._sPointEditing=n.disposeVar(new l.PointEditing([n,"positions"],[n,"pointEditing"],n.components)),n._positionsCenter=n.disposeVar(new l.PositionsCenter([n,"positions"])),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoPolyline"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},Object.defineProperty(e.prototype,"sPositionsEditing",{get:function(){return this._sPositionsEditing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sPointEditing",{get:function(){return this._sPointEditing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"positionsCenter",{get:function(){return this._positionsCenter},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(n){var r=this;return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new c.GroupProperty("通用","通用",[new c.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!1,!1,[this,"show"]),new c.FunctionProperty("飞入","飞入",["number"],(function(t){return r.flyTo(t)}),[1e3]),new c.Number4Property("可视范围控制","可视范围控制[near0, near1, far1, far0]",!0,!1,[this,"viewDistanceRange"],e.defaults.viewDistanceRange),new c.BooleanProperty("可视距离调试","可视距离调试",!1,!1,[this,"viewDistanceDebug"])]),new c.GroupProperty("折线","折线",[new c.NumberProperty("z-index","z-index",!1,!1,[this,"zIndex"]),new c.BooleanProperty("是否编辑","是否编辑.",!1,!1,[this,"editing"]),new c.BooleanProperty("是否单点编辑","是否单点编辑.",!1,!1,[this,"pointEditing"]),new c.BooleanProperty("允许拾取","是否允许拾取",!1,!1,[this,"allowPicking"]),new c.PositionsProperty("位置数组","经度纬度高度，度为单位",!0,!1,[this,"positions"],e.defaults.positions),new c.BooleanProperty("首尾相连","首尾相连.",!1,!1,[this,"loop"]),new c.NumberProperty("线宽","线宽",!1,!1,[this,"width"]),new c.BooleanProperty("是否贴地","是否贴地.",!1,!1,[this,"ground"]),new c.ColorProperty("颜色"," A Property specifying the color.",!1,!1,[this,"color"]),new c.BooleanProperty("是否为虚线","是否为虚线.",!1,!1,[this,"hasDash"]),new c.ColorProperty("间隔颜色","A Property specifying the color.",!1,!1,[this,"gapColor"]),new c.NumberProperty("虚线长度","虚线长度",!1,!1,[this,"dashLength"]),new c.DashPatternProperty("虚线图案","虚线图案",!1,!1,[this,"dashPattern"]),new c.BooleanProperty("是否带箭头","是否带箭头.",!1,!1,[this,"hasArrow"]),new c.EnumProperty("弧线类型","弧线类型",!1,!1,[this,"arcType"],[["直线","NONE"],["地理直线","GEODESIC"],["地理恒向线","RHUMB"]]),new c.BooleanProperty("是否开启深度检测","A boolean Property specifying the visibility.",!1,!1,[this,"depthTest"])])],!1)},n=e,e.type=n.register("GeoPolyline",n,{chsName:"地理折线",tags:["GeoObjects","_ES_Impl_Any"],description:"地理折线"}),e.defaults=i(i({},p.ESSceneObject.defaults),{positions:[],viewDistanceRange:[1e3,1e4,3e4,6e4]}),e}(p.ESSceneObject);e.GeoPolyline=f,function(t){t.createDefaultProps=function(){return i({show:!0,allowPicking:!1,positions:(0,u.reactPositions)(void 0),loop:!1,width:2,ground:!1,color:(0,u.reactArray)([1,1,1,1]),hasDash:!1,gapColor:(0,u.reactArray)([0,0,0,0]),dashLength:16,dashPattern:255,hasArrow:!1,arcType:"GEODESIC",depthTest:!1,editing:!1,pointEditing:!1,zIndex:0,viewDistanceRange:(0,u.reactArrayWithUndefined)(void 0),viewDistanceDebug:!1},p.ESSceneObject.createDefaultProps())}}(f=e.GeoPolyline||(e.GeoPolyline={})),e.GeoPolyline=f,(0,u.extendClassProps)(f.prototype,f.createDefaultProps)},46540:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoPolylineBuffer=void 0;var u=n(81425),c=n(6018),l=n(1245),p=n(4842),f=n(50679),h=function(t){function e(e){var n=t.call(this,e)||this;n._pickedEvent=n.disposeVar(new u.Event),n._flyToEvent=n.disposeVar(new u.Event),n._geoPolygon=n.disposeVar(new f.GeoPolygon),n._sPositionsEditing=n.disposeVar(new l.PositionsEditing([n,"positions"],!1,[n,"editing"],n.components)),n._pointEditor=n.disposeVar(new l.PointEditing([n,"positions"],[n,"pointEditing"],n.components));var r=n,o=n.geoPolygon;n.dispose(n.components.disposableAdd(o)),n.dispose((0,u.track)([o,"allowPicking"],[r,"allowPicking"])),n.dispose(o.pickedEvent.disposableOn((function(t){var e;null!==(e=r.allowPicking)&&void 0!==e&&e&&r.pickedEvent.emit(new c.SceneObjectPickedInfo(r,t))})));var i=n.disposeVar((0,u.createNextAnimateFrameEvent)(r.positionsChanged,r.resolutionChanged,r.sharpnessChanged,r.ratioChanged,r.widthChanged,r.splineChanged));return n.dispose(i.disposableOn((function(){try{var t=void 0,e=function(){if(!r.positions)return"break";if(r.positions.length<2)return"break";var e=r.positions[0][2],n=r.positions.map((function(t){return[t[0],t[1],e]})),o=r.spline?(0,l.geoPolylineToBezierSpline)(n,r.resolution,r.sharpness):n,i=(0,l.getDistancesFromPositions)(o,"GEODESIC"),u=i[i.length-1];if(u<1)return"break";var c=r.ratio>0?r.ratio:.02,p=void 0!==r.width?.5*r.width:u*c*.5;if(p<=0)return"break";var f=o.length,h=[],d=[],y=(0,l.geoHeading)(o[0],o[1]),g=(0,l.geoDestination)(o[0],p,y-90);g&&h.push(g),(P=(0,l.geoDestination)(o[0],p,y+90))&&d.push(P);for(var v=1;v<f-1;++v){var b=(0,l.geoHeading)(o[v-1],o[v]),m=(0,l.geoHeading)(o[v],o[v+1]),_=(y=(0,l.lerpAngle)(b,m,.5),(0,l.geoDestination)(o[v],p,y-90));_&&h.push(_),(P=(0,l.geoDestination)(o[v],p,y+90))&&d.push(P)}if(f>=3){y=(0,l.geoHeading)(o[f-2],o[f-1]);var P,w=(0,l.geoDestination)(o[f-1],p,y-90);w&&h.push(w),(P=(0,l.geoDestination)(o[f-1],p,y+90))&&d.push(P)}t=a(a([],s(h),!1),s(d.reverse()),!1)};do{if("break"===e())break}while(0);o.positions=t}catch(t){console.error(t),o.positions=void 0}}))),n.dispose(r.flyToEvent.disposableOn((function(t){o.flyTo(t)}))),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoPolylineBuffer"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return i(i({},e.createDefaultProps()),g)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},Object.defineProperty(e.prototype,"geoPolygon",{get:function(){return this._geoPolygon},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sPositionsEditing",{get:function(){return this._sPositionsEditing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pointEditor",{get:function(){return this._pointEditor},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(n){var r=this;return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new c.GroupProperty("通用","通用",[new c.FunctionProperty("飞入","飞入",["number"],(function(t){return r.flyTo(t)}),[1e3]),new c.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!1,!1,[this,"show"]),new c.BooleanProperty("允许拾取","是否允许拾取",!1,!1,[this,"allowPicking"]),new c.BooleanProperty("是否贴地","A boolean Property specifying the visibility.",!1,!1,[this,"ground"]),new c.BooleanProperty("是否显示轮廓线","是否显示轮廓线.",!1,!1,[this,"outline"]),new c.ColorProperty("轮廓线颜色"," A Property specifying the color.",!1,!1,[this,"outlineColor"]),new c.NumberProperty("线宽","线宽",!1,!1,[this,"outlineWidth"]),new c.ColorProperty("颜色"," A Property specifying the color.",!1,!1,[this,"color"]),new c.BooleanProperty("是否编辑","是否编辑.",!1,!1,[this,"editing"]),new c.BooleanProperty("是否单点编辑","是否单点编辑.",!1,!1,[this,"pointEditing"]),new c.PositionsProperty("位置数组","经度纬度高度，度为单位",!0,!1,[this,"positions"],e.defaults.positions),new c.NumberProperty("厚度","厚度",!1,!1,[this,"depth"]),new c.NumberProperty("分辨率","分辨率",!1,!1,[this,"resolution"]),new c.NumberProperty("锐化程度","锐化程度",!1,!1,[this,"sharpness"]),new c.NumberProperty("长宽比","长宽比",!1,!1,[this,"ratio"]),new c.NumberProperty("宽度","宽度",!0,!1,[this,"width"],e.defaults.width),new c.BooleanProperty("spline","spline",!1,!1,[this,"spline"])])],!1)},n=e,e.type=n.register("GeoPolylineBuffer",n,{chsName:"GeoPolylineBuffer",tags:["GeoObjects"],description:"GeoPolylineBuffer"}),e.defaults=i(i({},p.ESSceneObject.defaults),{positions:[],width:1e4}),e}(p.ESSceneObject);e.GeoPolylineBuffer=h;var d=f.GeoPolygon.createDefaultProps(),y={show:{defaultValue:d.show,componentName:"geoPolygon",originPropName:"show"},ground:{defaultValue:d.ground,componentName:"geoPolygon",originPropName:"ground"},outline:{defaultValue:d.outline,componentName:"geoPolygon",originPropName:"outline"},outlineColor:{defaultValue:d.outlineColor.value,componentName:"geoPolygon",originPropName:"outlineColor"},outlineWidth:{defaultValue:d.outlineWidth,componentName:"geoPolygon",originPropName:"outlineWidth"},color:{defaultValue:d.color.value,componentName:"geoPolygon",originPropName:"color"},depth:{defaultValue:d.depth,componentName:"geoPolygon",originPropName:"depth"}},g=(0,c.getDefaultComponentProps)(y);(0,c.extendComponentProps)(h.prototype,y),function(t){t.createDefaultProps=function(){return i({allowPicking:!1,editing:!1,pointEditing:!1,positions:(0,u.reactPositions)(void 0),resolution:1e4,sharpness:.85,ratio:.02,width:void 0,spline:!1},p.ESSceneObject.createDefaultProps())}}(h=e.GeoPolylineBuffer||(e.GeoPolylineBuffer={})),e.GeoPolylineBuffer=h,(0,u.extendClassProps)(h.prototype,h.createDefaultProps)},97604:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.AddingEditingProcessing=void 0;var a=n(81425),u=n(72256),c=n(10421),l=n(96186),p=n(323),f=function(t){function e(e,n){var r=t.call(this)||this;r._editing=e,r._overEvent=r.disposeVar(new a.Event),r._deletePreviousPointEvent=r.disposeVar(new a.Event),r._cancelEvent=r.disposeVar(new a.Event);var o=r._editing.impl,f=r.disposeVar((0,u.createProcessingFromAsyncFunc)((function(t){return i(r,void 0,void 0,(function(){var e,r,a=this;return s(this,(function(f){switch(f.label){case 0:e=null!=n?n:this._editing.impl.positionEditors.length,o.menuPoisEnabled=!1,f.label=1;case 1:return void 0!==o.maxPointsNum&&o.positionEditors.length>=o.maxPointsNum?((null!==(r=o.debug)&&void 0!==r?r:p.GeoPolylineEditorImpl.defaults.debug)&&console.log("impl.positionEditors.length >= impl.maxPointsNum"),[3,4]):[4,t.promise((0,u.step)(t,(function(t){return i(a,void 0,void 0,(function(){var n,r,o=this;return s(this,(function(i){switch(i.label){case 0:return n=t.disposer.disposeVar(new c.PointAdding(this,e)),r=t.disposer.disposeVar(new l.PreviousPointDeleting(this,e)),t.disposer.dispose(this._deletePreviousPointEvent.disposableOn((function(){return r.do()}))),[4,t.promise(new Promise((function(i){t.disposer.dispose(n.overEvent.disposableOnce((function(t){t?(e++,i(!0)):i(!1)}))),t.disposer.dispose(r.overEvent.disposableOnce((function(t){t?(e--,i(!0)):i(!1)}))),t.disposer.dispose(o._cancelEvent.disposableOn((function(){return i(!1)})))})))];case 1:return[2,i.sent()]}}))}))})))];case 2:if(!f.sent())return[3,4];f.label=3;case 3:return[3,1];case 4:return this._overEvent.emit(),[2]}}))}))})));return f.start(),r}return o(e,t),Object.defineProperty(e.prototype,"editing",{get:function(){return this._editing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overEvent",{get:function(){return this._overEvent},enumerable:!1,configurable:!0}),e.prototype.deletePreviousPoint=function(){this._deletePreviousPointEvent.emit()},e.prototype.cancel=function(){this._cancelEvent.emit()},e}(a.Destroyable);e.AddingEditingProcessing=f},49821:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ModifyingEditingProcessing=void 0;var i=n(81425),s=n(81222),a=function(t){function e(e){var n=t.call(this)||this;n._editing=e,n._overEvent=n.disposeVar(new i.Event),n._cancelEvent=n.disposeVar(new i.Event),n._forceModifyPosEditorEvent=n.disposeVar(new i.Event);var r,o=n._editing.impl;o.menuPoisEnabled=!0,n.dispose((function(){return o.menuPoisEnabled=!1}));var a=function(){null==r||r.destroy(),r=void 0,n._editing.status="Modifying"};n.dispose(a);var u=function(t){a(),n._editing.status="Modifying_Point",(r=new s.PointModifying(n,t)).dispose(r.overEvent.disposableOn((function(){a()})))};return n.dispose(n._forceModifyPosEditorEvent.disposableOn(u)),n.dispose(o.menuPoisCommand.disposableOn((function(t,e){if("delete"===e){if(-1===(r=o.positionEditors.indexOf(t)))throw console.error("posEditor not found"),new Error("posEditor not found");o.positionEditors.splice(r,1)}else if("modify"===e)u(t);else if("add"===e){var r;if(-1===(r=o.positionEditors.indexOf(t)))throw console.error("posEditor not found"),new Error("posEditor not found");n._overEvent.emit(r+1)}else"dbclick"===e?n._overEvent.emit(-1):alert("未知的commandName(".concat(e,")"))}))),n.dispose(n._cancelEvent.disposableOn((function(){n._overEvent.emit(-1)}))),n}return o(e,t),Object.defineProperty(e.prototype,"overEvent",{get:function(){return this._overEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"editing",{get:function(){return this._editing},enumerable:!1,configurable:!0}),e.prototype.cancel=function(){this._cancelEvent.emit()},e.prototype.modify=function(t){this._forceModifyPosEditorEvent.emit(t)},e}(i.Destroyable);e.ModifyingEditingProcessing=a},10421:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PointAdding=void 0;var i=n(81425),s=n(65434),a=n(323),u=function(t){function e(e,n){var r,o,u=this;(u=t.call(this)||this)._adding=e,u._overEvent=u.disposeVar(new i.Event);var c=u.adding.editing,l=c.impl,p=c.geoCoordinatesPicker,f=new s.PolylinePositionEditor(l,void 0);l.positionEditors.splice(n,0,f);var h=function(){var t;(null!==(t=l.debug)&&void 0!==t?t:a.GeoPolylineEditorImpl.defaults.debug)&&console.log("delete currentPosEditor");var e=l.positionEditors.indexOf(f);if(-1===e)throw new Error("currentPosEditor not found");l.positionEditors.splice(e,1)};if(null!==(r=p.enabled)&&void 0!==r&&r)throw console.error("geoCoordinatesPicker.enabled is true!"),new Error("geoCoordinatesPicker.enabled is true!");u.dispose((0,i.track)([f,"position"],[p,"position"])),p.enabled=!0;var d=!1;return u.dispose(p.overEvent.disposableOnce((function(){d=!0,void 0===f.position?(h(),u._overEvent.emit(!1)):u._overEvent.emit(!0)}))),u.dispose((function(){d||(h(),u._overEvent.emit(!1))})),u.dispose((function(){p.enabled=!1})),(null!==(o=l.debug)&&void 0!==o?o:a.GeoPolylineEditorImpl.defaults.debug)&&console.log("PointAdding creating! index(".concat(n,")")),u.dispose((function(){var t;(null!==(t=l.debug)&&void 0!==t?t:a.GeoPolylineEditorImpl.defaults.debug)&&console.log("PointAdding destroying! index(".concat(n,")"))})),u}return o(e,t),Object.defineProperty(e.prototype,"adding",{get:function(){return this._adding},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overEvent",{get:function(){return this._overEvent},enumerable:!1,configurable:!0}),e}(i.Destroyable);e.PointAdding=u},81222:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PointModifying=void 0;var i=n(81425),s=function(t){function e(e,n){var r=t.call(this)||this;r._modifying=e,r._posEditor=n,r._overed=!1,r._overEvent=r.disposeVar(new i.Event),r.dispose(r._posEditor.toDestroyEvent.disposableOn((function(){r._overed||(r._overed=!0,r._overEvent.emit())})));var o=r._modifying.editing.geoCoordinatesEditor;if(o.enabled=!0,o.heading=0,!r._posEditor.position)throw console.error("!this._posEditor.position"),new Error("!this._posEditor.position");return o.position=r._posEditor.position,r.dispose((0,i.track)([r._posEditor,"position"],[o,"position"])),r.dispose((function(){o.enabled=!1})),r.dispose(o.enabledChanged.disposableOnce((function(t){t||r._overed||(r._overed=!0,r._overEvent.emit())}))),r}return o(e,t),Object.defineProperty(e.prototype,"overEvent",{get:function(){return this._overEvent},enumerable:!1,configurable:!0}),e}(i.Destroyable);e.PointModifying=s},96186:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PreviousPointDeleting=e.deletePreviousPoint=void 0;var i=n(81425),s=n(323);function a(t,e){var n=t.impl.positionEditors,r=e-1;return r<0?(console.warn("previousIndex < 0, cannot delete the point!"),!1):(n.splice(r,1),!0)}e.deletePreviousPoint=a;var u=function(t){function e(e,n){var r,o=this;(o=t.call(this)||this)._adding=e,o._overEvent=o.disposeVar(new i.Event),o._doEvent=o.disposeVar(new i.Event);var u=o._adding.editing.impl;return o.dispose(o._doEvent.disposableOn((function(){a(o._adding.editing,n)&&o._overEvent.emit(!0)}))),(null!==(r=u.debug)&&void 0!==r?r:s.GeoPolylineEditorImpl.defaults.debug)&&console.log("PreviousPointDeleting creating! currentIndex(".concat(n,")")),o.dispose((function(){var t;(null!==(t=u.debug)&&void 0!==t?t:s.GeoPolylineEditorImpl.defaults.debug)&&console.log("PreviousPointDeleting destroying! currentIndex(".concat(n,")"))})),o}return o(e,t),Object.defineProperty(e.prototype,"overEvent",{get:function(){return this._overEvent},enumerable:!1,configurable:!0}),e.prototype.do=function(){return this._doEvent.emit()},e}(i.Destroyable);e.PreviousPointDeleting=u},39708:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.EditingProcessing=void 0;var a=n(81425),u=n(72256),c=n(323),l=n(20463),p=n(86786),f=n(68202),h=n(97604),d=n(49821),y=function(t){function e(e){var n=t.call(this)||this;n._impl=e,n._status=n.disposeVar((0,a.react)("None")),n._cursorInfo=n.disposeVar(new l.CursorInfo),n._geoCoordinatesPicker=n.disposeVar(new f.GeoCoordinatesPicker),n._geoCoordinatesEditor=n.disposeVar(new p.GeoCoordinatesEditor),n._deletePreviousPointWhileAddingEvent=n.disposeVar(new a.Event),n._cancelEvent=n.disposeVar(new a.Event),n._forceModifyPosEditorEvent=n.disposeVar(new a.Event),n._innerProcessing=n.disposeVar((0,a.react)(void 0));var r=n.impl;n.cursorInfo.show=!1,n.dispose(r.sceneObject.components.disposableAdd(n.cursorInfo)),n.geoCoordinatesPicker.enabled=!1,n.dispose(r.sceneObject.components.disposableAdd(n.geoCoordinatesPicker)),n.geoCoordinatesEditor.enabled=!1,n.dispose(r.sceneObject.components.disposableAdd(n.geoCoordinatesEditor));var o=n.disposeVar((0,u.createProcessingFromAsyncFunc)((function(t){return i(n,void 0,void 0,(function(){var e,n,o,a,l,p,f=this;return s(this,(function(y){switch(y.label){case 0:t.disposer.dispose((function(){var t;(null!==(t=r.debug)&&void 0!==t?t:c.GeoPolylineEditorImpl.defaults.debug)&&console.log("---editing canceled~~~"),f.status="None"})),e=-1,this.impl.positionEditors.length<=1&&(e=this.impl.positionEditors.length),y.label=1;case 1:return-1===e?[3,3]:((null!==(o=r.debug)&&void 0!==o?o:c.GeoPolylineEditorImpl.defaults.debug)&&console.log("直接进入Adding状态 currentAddingIndex(".concat(e,")")),this.status="Adding",[4,t.promise((0,u.step)(t,(function(t){return i(f,void 0,void 0,(function(){var n,r,o=this;return s(this,(function(i){switch(i.label){case 0:return n=t.disposer,r=n.disposeVar(new h.AddingEditingProcessing(this,e)),void 0!==this._innerProcessing.value&&console.error("this._innerProcessing.value !== undefined"),this._innerProcessing.value=r,n.dispose((function(){o._innerProcessing.value!==r&&console.error("this._innerProcessing.value !== adding"),o._innerProcessing.value=void 0})),n.dispose(this._deletePreviousPointWhileAddingEvent.disposableOn((function(){return r.deletePreviousPoint()}))),n.dispose((function(){return"adding canceled!"})),n.dispose(this._cancelEvent.disposableOn((function(){return r.cancel()}))),[4,t.promise(new Promise((function(t){n.dispose(r.overEvent.disposableOnce(t))})))];case 1:return i.sent(),[2]}}))}))})))]);case 2:if(y.sent(),e=-1,this._impl.noModifingAfterAdding)return[3,6];y.label=3;case 3:return(null!==(a=r.debug)&&void 0!==a?a:c.GeoPolylineEditorImpl.defaults.debug)&&console.log("进入Modifying修改状态"),this.status="Modifying",[4,t.promise((0,u.step)(t,(function(t){return i(f,void 0,void 0,(function(){var e,n,o=this;return s(this,(function(i){switch(i.label){case 0:return e=t.disposer,n=e.disposeVar(new d.ModifyingEditingProcessing(this)),void 0!==this._innerProcessing.value&&console.error("this._innerProcessing.value !== undefined"),this._innerProcessing.value=n,e.dispose((function(){o._innerProcessing.value!==n&&console.error("this._innerProcessing.value !== modifying"),o._innerProcessing.value=void 0})),r.positionEditors.length>0&&n.modify(r.positionEditors.get(0)),e.dispose((function(){return"modifying canceled!"})),e.dispose(this._cancelEvent.disposableOn((function(){return n.cancel()}))),e.dispose(this._forceModifyPosEditorEvent.disposableOn((function(t){return n.modify(t)}))),[4,t.promise(new Promise((function(t){e.dispose(n.overEvent.disposableOnce(t))})))];case 1:return[2,i.sent()]}}))}))})))];case 4:if(-1===(n=y.sent()))return(null!==(l=r.debug)&&void 0!==l?l:c.GeoPolylineEditorImpl.defaults.debug)&&console.log("退出编辑状态"),[3,6];e=n,(null!==(p=r.debug)&&void 0!==p?p:c.GeoPolylineEditorImpl.defaults.debug)&&console.log("退出修改状态，进入Adding状态currentAddingIndex(".concat(e,")")),y.label=5;case 5:return[3,1];case 6:return this.status="None",r.enabled=!1,[2]}}))}))})));return n.dispose(n._impl.enabledChanged.disposableOn((function(t){t?o.restart():o.cancel()}))),n}return o(e,t),Object.defineProperty(e.prototype,"status",{get:function(){return this._status.value},set:function(t){this._status.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"statusChanged",{get:function(){return this._status.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursorInfo",{get:function(){return this._cursorInfo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoCoordinatesPicker",{get:function(){return this._geoCoordinatesPicker},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoCoordinatesEditor",{get:function(){return this._geoCoordinatesEditor},enumerable:!1,configurable:!0}),e.prototype.deletePreviousPointWhileAdding=function(){this._deletePreviousPointWhileAddingEvent.emit()},e.prototype.cancel=function(){this._cancelEvent.emit()},e.prototype.modify=function(t){this._forceModifyPosEditorEvent.emit(t)},Object.defineProperty(e.prototype,"innerProcessing",{get:function(){return this._innerProcessing.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"innerProcessingChanged",{get:function(){return this._innerProcessing.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"impl",{get:function(){return this._impl},enumerable:!1,configurable:!0}),e}(a.Destroyable);e.EditingProcessing=y},65434:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PolylinePositionEditor=void 0;var i=n(81425),s=n(323),a=n(97731),u=n(34315),c=n(9595),l=n(97604),p=0,f=function(t){function e(n,r){var o,f,h=this;(h=t.call(this)||this)._impl=n,h._position=h.disposeVar((0,i.reactArrayWithUndefined)(void 0)),h._menuPoi=h.disposeVar(new a.GeoCanvasMenuPoi),h._middlePoi=h.disposeVar(new u.GeoCanvasImagePoi),h._id=p++;var d=h.impl;r&&(h._position.value=r),h.dispose(h._position.changed.disposableOn((function(){return d.positionsChanged.emit()})));var y=h.menuPoi;y.enabled=!1,h.dispose(d.sceneObject.components.disposableAdd(y)),h.dispose((0,i.bind)([y,"position"],[h,"position"]));var g="${scene-manager-script-dir}/xe2-assets/scene-manager/images/";y.imageUri=g+"point-yellow.png",y.commands=[["add","增加控制点","",g+"add.png"],["delete","删除当前控制点","",g+"delete.png"],["modify","修改当前控制点","",g+"modify.png"]],y.clickCommandName="modify",y.rightClickCommandName="delete",h.dispose(y.commandEvent.disposableOn((function(t){d.menuPoisCommand.emit(h,t)}))),h.dispose(y.dbclickEvent.disposableOn((function(){d.menuPoisCommand.emit(h,"dbclick")})));var v=function(){var t;return y.show=null!==(t=d.enabled)&&void 0!==t?t:s.GeoPolylineEditorImpl.defaults.enabled};v(),h.dispose(d.enabledChanged.disposableOn(v)),v=function(){var t,e,n=d.positionEditors.indexOf(h)+1;-1!==n&&(h.menuPoi.title="控制点".concat(n),h.menuPoi.imageUri=1===n?null!==(t=d.firstControlPointImageUrl)&&void 0!==t?t:s.GeoPolylineEditorImpl.defaults.firstControlPointImageUrl:null!==(e=d.otherControlPointImageUrl)&&void 0!==e?e:s.GeoPolylineEditorImpl.defaults.otherControlPointImageUrl)},v(),h.dispose(d.positionEditors.changedEvent.disposableOn(v));var b=h.middlePoi;return h.dispose(d.sceneObject.components.disposableAdd(b)),b.imageUri=null!==(o=d.middlePointImageUrl)&&void 0!==o?o:s.GeoPolylineEditorImpl.defaults.middlePointImageUrl,b.tooltip="点击增加一个控制点",b.bgColor=[0,0,0,.6],b.fgColor=[1,1,1,1],b.size=[8,8],b.originRatioAndOffset=[.5,.5,0,0],v=function(){var t,e,n;if(!(null!==(t=d.enabled)&&void 0!==t?t:s.GeoPolylineEditorImpl.defaults.enabled))return b.enabled=!1,void(b.show=!1);do{if(d.editingProcessing.innerProcessing instanceof l.AddingEditingProcessing)break;var r=d.positionEditors.indexOf(h);if(-1===r)break;var o=d.positionEditors.length;if(0===o){console.error("impl.positionEditors.length === 0!");break}if(!(null!==(e=d.loop)&&void 0!==e?e:s.GeoPolylineEditorImpl.defaults.loop)&&r+1>=o)break;var i=h.position;if(!i)break;var a=(r+1)%o,u=d.positionEditors.get(a).position;if(!u)break;var p=(0,c.getEllipsoidGeodesicCenter)(i,u);if(!p)break;b.position=p;var f=d.positionEditors.length<(null!==(n=d.maxPointsNum)&&void 0!==n?n:s.GeoPolylineEditorImpl.defaults.maxPointsNum);return b.enabled=f,void(b.show=f)}while(0);b.enabled=!1,b.show=!1},v(),h.dispose(d.positionsChanged.disposableOn(v)),h.dispose(d.loopChanged.disposableOn(v)),h.dispose(d.enabledChanged.disposableOn(v)),h.dispose(d.editingProcessing.innerProcessingChanged.disposableOn(v)),h.dispose(b.clickEvent.disposableOn((function(t){var n;if(!(d.positionEditors.length>=(null!==(n=d.maxPointsNum)&&void 0!==n?n:s.GeoPolylineEditorImpl.defaults.maxPointsNum))){var r=d.positionEditors.indexOf(h);if(-1!==r){var o=new e(d,b.position);d.positionEditors.splice(r+1,0,o),d.editingProcessing.modify(o)}}}))),(null!==(f=d.debug)&&void 0!==f?f:s.GeoPolylineEditorImpl.defaults.debug)&&console.log("PolylinePositionEditor creating! ".concat(h.id)),h.dispose((function(){var t;(null!==(t=d.debug)&&void 0!==t?t:s.GeoPolylineEditorImpl.defaults.debug)&&console.log("PolylinePositionEditor destroying! ".concat(h.id))})),h}return o(e,t),Object.defineProperty(e.prototype,"position",{get:function(){return this._position.value},set:function(t){this._position.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"positionChanged",{get:function(){return this._position.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"menuPoi",{get:function(){return this._menuPoi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"middlePoi",{get:function(){return this._middlePoi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"impl",{get:function(){return this._impl},enumerable:!1,configurable:!0}),e}(i.Destroyable);e.PolylinePositionEditor=f},58897:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PolylineWrapper=void 0;var i=n(81425),s=n(39743),a=n(72256),u=function(t){function e(e){var n=t.call(this)||this;n._polyline=n.disposeVar(new s.GeoPolyline);var r=n.polyline,o=e.impl;n.dispose(o.sceneObject.components.disposableAdd(r)),n.dispose((0,i.track)([r,"color"],[e,"color"])),n.dispose((0,i.track)([r,"width"],[e,"width"])),n.dispose((0,i.track)([r,"show"],[e,"show"])),n.dispose((0,i.track)([r,"arcType"],[e,"arcType"]));var a=function(){return r.positions=o.getPositions()};return a(),r.dispose(o.positionsChanged.disposableOn(a)),n.dispose((0,i.track)([r,"loop"],[o,"loop"])),n}return o(e,t),Object.defineProperty(e.prototype,"polyline",{get:function(){return this._polyline},enumerable:!1,configurable:!0}),e}(i.Destroyable),c=function(t){function e(n){var r=t.call(this)||this;return r._impl=n,r._show=r.disposeVar((0,i.react)(void 0)),r._color=r.disposeVar((0,i.react)(void 0)),r._width=r.disposeVar((0,i.react)(void 0)),r._arcType=r.disposeVar((0,i.react)(void 0)),r._resetting=r.disposeVar(new a.ObjResettingWithEvent(r.showChanged,(function(){var t;return(null!==(t=r.show)&&void 0!==t?t:e.defaults.show)?new u(r):void 0}))),r}return o(e,t),Object.defineProperty(e.prototype,"show",{get:function(){return this._show.value},set:function(t){this._show.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showChanged",{get:function(){return this._show.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color.value},set:function(t){this._color.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"colorChanged",{get:function(){return this._color.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width.value},set:function(t){this._width.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"widthChanged",{get:function(){return this._width.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arcType",{get:function(){return this._arcType.value},set:function(t){this._arcType.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arcTypeChanged",{get:function(){return this._arcType.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"impl",{get:function(){return this._impl},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resetting",{get:function(){return this._resetting},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){var e;null===(e=this.resetting.obj)||void 0===e||e.polyline.flyTo(t)},e.defaults={show:!1,color:[1,1,1,1],arcType:"GEODESIC",width:1},e}(i.Destroyable);e.PolylineWrapper=c},323:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoPolylineEditorImpl=void 0;var u=n(81425),c=n(65434),l=n(58897),p=n(39708),f=n(72256),h="${scene-manager-script-dir}/xe2-assets/scene-manager/images/",d=function(t){function e(e,n){var r=t.call(this)||this;return r._firstPositionEditor=e,r._impl=n,r._firstPositionEditor.positionChanged.disposableOn((function(t,e){if(void 0!==t&&void 0!==e)for(var n=[t[0]-e[0],t[1]-e[1],t[2]-e[2]],o=r._impl.positionEditors.length,i=1;i<o;i++){var s=r._impl.positionEditors.get(i),a=s.position;void 0!==a&&(s.position=[a[0]+n[0],a[1]+n[1],a[2]+n[2]])}})),r}return o(e,t),e}(u.Destroyable),y=function(t){function e(e){var n=t.call(this)||this;n._sceneObject=e,n._positionEditors=n.disposeVar(new u.ObservableArray),n._enabled=n.disposeVar((0,u.react)(void 0)),n._debug=n.disposeVar((0,u.react)(void 0)),n._menuPoisEnabled=n.disposeVar((0,u.react)(!1)),n._menuPoisCommand=n.disposeVar(new u.Event),n._maxPointsNum=n.disposeVar((0,u.react)(void 0)),n._noModifingAfterAdding=n.disposeVar((0,u.react)(!1)),n._hideCursorInfo=n.disposeVar((0,u.react)(!1)),n._firstControlPointImageUrl=n.disposeVar((0,u.react)(void 0)),n._otherControlPointImageUrl=n.disposeVar((0,u.react)(void 0)),n._middlePointImageUrl=n.disposeVar((0,u.react)(void 0)),n._flyToEvent=n.disposeVar(new u.Event),n._moveWithFirstPosition=n.disposeVar((0,u.react)(!1)),n._positionsChanged=n.disposeVar(new u.Event),n._polylineWrapper=n.disposeVar(new l.PolylineWrapper(n)),n._editingProcessing=n.disposeVar(new p.EditingProcessing(n)),n._loop=n.disposeVar((0,u.react)(void 0));var r=n.sceneObject;n.dispose((function(){return n.resetPositions()})),n.dispose(n._positionEditors.changedEvent.disposableOn((function(){return n._positionsChanged.emit()}))),n.dispose(n._positionEditors.toChangeEvent.disposableOn((function(t){var e,r;try{for(var o=i(t),s=o.next();!s.done;s=o.next())for(var a=s.value,u=a.start,c=a.deleteCount,l=u;l<u+c;++l)n._positionEditors.get(l).destroy()}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}}))),n.dispose((function(){return n._positionEditors.length=0})),n.dispose(n.flyToEvent.disposableOn((function(t){return n._polylineWrapper.flyTo(t)}))),n.dispose(n._menuPoisEnabled.changed.disposableOn((function(){var t,e,r;try{for(var o=i(n._positionEditors),s=o.next();!s.done;s=o.next())s.value.menuPoi.enabled=null!==(r=n._menuPoisEnabled.value)&&void 0!==r&&r}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}}))),n.dispose(n._positionEditors.toChangeEvent.disposableOn((function(t){var e,r,o,s,a;try{for(var u=i(t),c=u.next();!c.done;c=u.next()){var l=c.value.items;try{for(var p=(o=void 0,i(l)),f=p.next();!f.done;f=p.next())f.value.menuPoi.enabled=null!==(a=n._menuPoisEnabled.value)&&void 0!==a&&a}catch(t){o={error:t}}finally{try{f&&!f.done&&(s=p.return)&&s.call(p)}finally{if(o)throw o.error}}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}}))),n.dispose(n.editingProcessing.statusChanged.disposableOn((function(){var t=n.editingProcessing,e=t.status,r=t.cursorInfo;n.hideCursorInfo?"Adding"===e?(r.text="右键/BackSpace键：删除上一个控制点；Esc键或左键双击：退出添加状态，进入修改状态",r.show=!0):"Modifying"===e||"Modifying_Point"===e?(r.text="Esc键或左键双击：退出编辑状态",r.show=!0):"None"===e&&(r.text="",r.show=!1):r.show=!1})));var s=function(t){function e(e,n){var r=t.call(this)||this,o=n.interaction;if(!o)return console.warn("!interaction"),r;var i=e.editingProcessing;return r.dispose(f.DomElementEvent.on(o.pointerClick.clickEvent,(function(t){2===t.button&&i.deletePreviousPointWhileAdding()}))),r.dispose(f.DomElementEvent.on(o.keyUpEvent,(function(t){"Backspace"===t.key&&i.deletePreviousPointWhileAdding()}))),r.dispose(f.DomElementEvent.on(o.keyUpEvent,(function(t){"Escape"===t.key&&i.cancel()}))),r.dispose(f.DomElementEvent.on(o.pointerClick.dbclickEvent,(function(t){0===t.button&&i.cancel()}))),r}return o(e,t),e}(u.Destroyable);r.registerAttachedObjectForContainer((function(t){return new s(n,t)})),n.dispose(n.positionEditors.changedEvent.disposableOn((function(){})));var a=n.disposeVar((0,u.createNextAnimateFrameEvent)(n.positionEditors.changedEvent,n.moveWithFirstPositionChanged));return n.disposeVar(new f.ObjResettingWithEvent(a,(function(){if(n.moveWithFirstPosition&&!(n.positionEditors.length<=1))return new d(n.positionEditors.get(0),n)}))),n}return o(e,t),Object.defineProperty(e.prototype,"sceneObject",{get:function(){return this._sceneObject},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"positionEditors",{get:function(){return this._positionEditors},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled.value},set:function(t){this._enabled.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"enabledChanged",{get:function(){return this._enabled.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"debug",{get:function(){return this._debug.value},set:function(t){this._debug.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"debugChanged",{get:function(){return this._debug.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"menuPoisEnabled",{get:function(){return this._menuPoisEnabled.value},set:function(t){this._menuPoisEnabled.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"menuPoisEnabledChanged",{get:function(){return this._menuPoisEnabled.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"menuPoisCommand",{get:function(){return this._menuPoisCommand},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxPointsNum",{get:function(){return this._maxPointsNum.value},set:function(t){this._maxPointsNum.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxPointsNumChanged",{get:function(){return this._maxPointsNum.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noModifingAfterAdding",{get:function(){return this._noModifingAfterAdding.value},set:function(t){this._noModifingAfterAdding.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noModifingAfterAddingChanged",{get:function(){return this._noModifingAfterAdding.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hideCursorInfo",{get:function(){return this._hideCursorInfo.value},set:function(t){this._hideCursorInfo.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hideCursorInfoChanged",{get:function(){return this._hideCursorInfo.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"firstControlPointImageUrl",{get:function(){return this._firstControlPointImageUrl.value},set:function(t){this._firstControlPointImageUrl.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"firstControlPointImageUrlChanged",{get:function(){return this._firstControlPointImageUrl.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"otherControlPointImageUrl",{get:function(){return this._otherControlPointImageUrl.value},set:function(t){this._otherControlPointImageUrl.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"otherControlPointImageUrlChanged",{get:function(){return this._otherControlPointImageUrl.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"middlePointImageUrl",{get:function(){return this._middlePointImageUrl.value},set:function(t){this._middlePointImageUrl.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"middlePointImageUrlChanged",{get:function(){return this._middlePointImageUrl.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},Object.defineProperty(e.prototype,"moveWithFirstPosition",{get:function(){return this._moveWithFirstPosition.value},set:function(t){this._moveWithFirstPosition.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"moveWithFirstPositionChanged",{get:function(){return this._moveWithFirstPosition.changed},enumerable:!1,configurable:!0}),e.prototype.getPositions=function(){var t,e,n=[];try{for(var r=i(this._positionEditors),o=r.next();!o.done;o=r.next()){var u=o.value;u.position&&n.push(a([],s(u.position),!1))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},e.prototype.resetPositions=function(t){var n,r,o=this;if(null!==(r=this.enabled)&&void 0!==r?r:e.defaults.enabled)console.warn("GeoPolylineEditorImpl.resetPositions error: this.enabled === true");else{var i=t||[];if(i.length!==this._positionEditors.length||!i.every((function(t,e){return t.every((function(t,n){var r=o._positionEditors.get(e);return r.position&&r.position[n]===t}))}))){var u=t?t.map((function(t){return new c.PolylinePositionEditor(o,t)})):[];(n=this._positionEditors).splice.apply(n,a([0,this._positionEditors.length],s(u),!1))}}},e.prototype.forceResetPositions=function(t){var n;(null!==(n=this.enabled)&&void 0!==n?n:e.defaults.enabled)&&(this.enabled=!1),this.resetPositions(t)},Object.defineProperty(e.prototype,"positions",{get:function(){return this.getPositions()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"positionsChanged",{get:function(){return this._positionsChanged},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polylineWrapper",{get:function(){return this._polylineWrapper},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"editingProcessing",{get:function(){return this._editingProcessing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loop",{get:function(){return this._loop.value},set:function(t){this._loop.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loopChanged",{get:function(){return this._loop.changed},enumerable:!1,configurable:!0}),e.defaults={enabled:!1,debug:!1,polylineShow:!1,polylineColor:[1,1,1,1],polylineArcType:"GEODESIC",polylineWidth:1,maxPointsNum:Number.POSITIVE_INFINITY,loop:!1,firstControlPointImageUrl:h+"point-green.png",otherControlPointImageUrl:h+"point-yellow.png",middlePointImageUrl:h+"point-green.png"},e}(u.Destroyable);e.GeoPolylineEditorImpl=y},26869:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoPolylineEditor=void 0;var u=n(81425),c=n(6018),l=n(4842),p=n(323),f="${scene-manager-script-dir}/xe2-assets/scene-manager/images/",h=function(t){function e(e){var n=t.call(this,e)||this;return n._flyToEvent=n.disposeVar(new u.Event),n._inner=n.disposeVar(new p.GeoPolylineEditorImpl(n)),n.dispose((0,u.bind)([n._inner,"enabled"],[n,"enabled"])),n.dispose((0,u.bind)([n._inner,"loop"],[n,"loop"])),n.dispose((0,u.bind)([n._inner,"debug"],[n,"debug"])),n.dispose((0,u.track)([n._inner.polylineWrapper,"show"],[n,"polylineShow"],(function(t){return t}))),n.dispose((0,u.track)([n._inner.polylineWrapper,"width"],[n,"polylineWidth"])),n.dispose((0,u.track)([n._inner.polylineWrapper,"color"],[n,"polylineColor"])),n.dispose((0,u.track)([n._inner.polylineWrapper,"arcType"],[n,"polylineArcType"])),n.dispose((0,u.track)([n._inner,"maxPointsNum"],[n,"maxPointsNum"])),n.dispose((0,u.track)([n._inner,"noModifingAfterAdding"],[n,"noModifingAfterAdding"])),n.dispose((0,u.track)([n._inner,"hideCursorInfo"],[n,"hideCursorInfo"])),n.dispose((0,u.track)([n._inner,"moveWithFirstPosition"],[n,"moveWithFirstPosition"])),n.dispose(n.flyToEvent.disposableOn((function(t){return n._inner.flyTo(t)}))),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoPolylineEditor"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){var t=this._innerGetJson();return t.positions=this.getPositions(),t},set:function(t){this.resetPositions(t.positions),this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},Object.defineProperty(e.prototype,"inner",{get:function(){return this._inner},enumerable:!1,configurable:!0}),e.prototype.getPositions=function(){return this._inner.getPositions()},e.prototype.resetPositions=function(t){this._inner.resetPositions(t)},e.prototype.forceResetPositions=function(t){this._inner.forceResetPositions(t)},Object.defineProperty(e.prototype,"positions",{get:function(){return this.getPositions()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"positionsChanged",{get:function(){return this._inner.positionsChanged},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(e){var n=this;return a(a([],s(t.prototype.getProperties.call(this,e)),!1),[new c.GroupProperty("通用","通用",[new c.FunctionProperty("飞入","飞入",["number"],(function(t){return n.flyTo(t)}),[1e3]),new c.BooleanProperty("是否可用","A boolean Property specifying the visibility.",!1,!1,[this,"enabled"]),new c.BooleanProperty("首尾相连","首尾相连",!1,!1,[this,"loop"]),new c.BooleanProperty("调试","调试",!1,!1,[this,"debug"]),new c.FunctionProperty("清空位置数组","清空位置数组",[],(function(){return n.forceResetPositions()}),[]),new c.JsonProperty("位置数组","位置数组",!0,!0,[this,"positions"]),new c.NumberProperty("控制点最大数量","控制点最大数量",!1,!1,[this,"maxPointsNum"]),new c.BooleanProperty("是否显示辅助线","是否显示辅助线",!1,!1,[this,"polylineShow"]),new c.NumberProperty("辅助线宽度","辅助线宽度",!1,!1,[this,"polylineWidth"]),new c.ColorProperty("辅助线颜色","辅助线颜色",!1,!1,[this,"polylineColor"]),new c.EnumProperty("辅助线弧线类型","辅助线弧线类型",!1,!1,[this,"polylineArcType"],[["直线","NONE"],["地理直线","GEODESIC"],["地理恒向线","RHUMB"]]),new c.StringProperty("首个控制点的图片路径","首个控制点的图片路径",!1,!1,[this,"firstControlPointImageUrl"]),new c.StringProperty("其它控制点的图片路径","其它控制点的图片路径",!1,!1,[this,"otherControlPointImageUrl"]),new c.StringProperty("中间控制点的图片路径","中间控制点的图片路径",!1,!1,[this,"middlePointImageUrl"]),new c.BooleanProperty("noModifingAfterAdding","noModifingAfterAdding",!1,!1,[this,"noModifingAfterAdding"]),new c.BooleanProperty("moveWithFirstPosition","moveWithFirstPosition",!1,!1,[this,"moveWithFirstPosition"])])],!1)},n=e,e.type=n.register("GeoPolylineEditor",n,{chsName:"折线编辑器",tags:["GeoObjects"],description:"折线编辑器"}),e.defaults=i({},l.ESSceneObject.defaults),e}(l.ESSceneObject);e.GeoPolylineEditor=h,function(t){t.createDefaultProps=function(){return i({enabled:!1,loop:!1,debug:!1,polylineShow:!1,polylineWidth:1,polylineColor:(0,u.reactArray)([1,1,1,1]),polylineArcType:"GEODESIC",maxPointsNum:Number.POSITIVE_INFINITY,firstControlPointImageUrl:f+"point-green.png",otherControlPointImageUrl:f+"point-yellow.png",middlePointImageUrl:f+"point-green.png",noModifingAfterAdding:!1,hideCursorInfo:!1,moveWithFirstPosition:!1},l.ESSceneObject.createDefaultProps())}}(h=e.GeoPolylineEditor||(e.GeoPolylineEditor={})),e.GeoPolylineEditor=h,(0,u.extendClassProps)(h.prototype,h.createDefaultProps)},32509:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoPolylinePath=void 0;var u=n(6018),c=n(81425),l=n(72256),p=n(15635),f=n(23480),h=n(4842),d=n(79159),y=n(1941),g=n(3416),v=n(39743),b=function(t){function e(e){var n,r=t.call(this,e)||this;r._geoPath=r.disposeVar(new g.GeoPath),r._geoPolyline=r.disposeVar(new v.GeoPolyline),r._geoCanvasPointPoi=r.disposeVar(new y.GeoCanvasPointPoi),r._player=r.disposeVar(new d.Player),r._distances=r.disposeVar((0,c.reactArray)([])),r._flyToEvent=r.disposeVar(new c.Event),r._pickedEvent=r.disposeVar(new c.Event),r._currentDistance=r.disposeVar((0,c.react)(0)),r._ratio=r.disposeVar(u.PlayerProperty.createPlayingRatio([r,"currentTime"],[r,"duration"])),r.dispose(r.components.disposableAdd(r._geoPolyline)),r.dispose(r.components.disposableAdd(r._geoCanvasPointPoi)),(n=function(){var t,e;r._geoPolyline.show=(null===(t=r.show)||void 0===t||t)&&(null===(e=r.polylineShow)||void 0===e||e)})(),r.dispose(r.showChanged.disposableOn(n)),r.dispose(r.polylineShowChanged.disposableOn(n)),r.dispose((0,c.bind)([r._geoPolyline,"positions"],[r,"positions"])),r.dispose((0,c.track)([r._geoPolyline,"width"],[r,"width"])),r.dispose((0,c.track)([r._geoPolyline,"ground"],[r,"ground"])),r.dispose((0,c.track)([r._geoPolyline,"color"],[r,"color"])),r.dispose((0,c.track)([r._geoPolyline,"hasDash"],[r,"hasDash"])),r.dispose((0,c.track)([r._geoPolyline,"gapColor"],[r,"gapColor"])),r.dispose((0,c.track)([r._geoPolyline,"dashLength"],[r,"dashLength"])),r.dispose((0,c.track)([r._geoPolyline,"dashPattern"],[r,"dashPattern"])),r.dispose((0,c.track)([r._geoPolyline,"hasArrow"],[r,"hasArrow"])),r.dispose((0,c.track)([r._geoPolyline,"arcType"],[r,"arcType"])),r.dispose((0,c.bind)([r._geoPolyline,"editing"],[r,"editing"])),r.dispose((0,c.bind)([r._geoPolyline,"pointEditing"],[r,"pointEditing"])),r.dispose((0,c.bind)([r._geoPolyline,"depthTest"],[r,"depthTest"])),r.dispose((0,c.track)([r._geoPolyline,"allowPicking"],[r,"allowPicking"])),r.dispose(r._geoPolyline.pickedEvent.disposableOn((function(t){r.pickedEvent.emit(new u.SceneObjectPickedInfo(r,t))}))),r.dispose((0,c.track)([r._geoPath,"currentTime"],[r,"currentDistance"])),r.dispose((0,c.track)([r._geoPath,"leadTime"],[r,"leadTime"])),r.dispose((0,c.track)([r._geoPath,"trailTime"],[r,"trailTime"])),r.dispose((0,c.track)([r._geoPath,"rotLerpMode"],[r,"rotLerpMode"])),(n=function(){var t,e;r._geoCanvasPointPoi.show=(null===(t=r.show)||void 0===t||t)&&(null===(e=r.currentPoiShow)||void 0===e||e)})(),r.dispose(r.showChanged.disposableOn(n)),r.dispose(r.currentPoiShowChanged.disposableOn(n)),r.dispose((0,c.track)([r._geoCanvasPointPoi,"position"],[r,"currentPosition"])),(n=function(){var t;if(r.positions){var e=(0,f.getDistancesAndTimePosRotsFromPositions)(r.positions,null!==(t=r.arcType)&&void 0!==t?t:"GEODESIC");if(e)return r._distances.value=e.distances,void(r._geoPath.timePosRots=e.timePosRots)}r._distances.value=[],r._geoPath.timePosRots=[]})();var o=r.disposeVar((0,l.createNextAnimateFrameEvent)(r.positionsChanged,r.arcTypeChanged));r.dispose(o.disposableOn(n));var i=function(){var t,e,n;if((null!==(t=r._player.duration)&&void 0!==t?t:3e3)<=0)r.currentDistance=0;else{var o=r.totalDistance*((null!==(e=r._player.currentTime)&&void 0!==e?e:0)/(null!==(n=r._player.duration)&&void 0!==n?n:3e3));Math.abs(o-r.currentDistance)>.01&&(r.currentDistance=o)}};i(),r.dispose(r._player.currentTimeChanged.disposableOn(i));var s=function(){var t,e;if(r.totalDistance<=0)r._player.currentTime=0;else{var n=r.currentDistance/r.totalDistance*(null!==(t=r.duration)&&void 0!==t?t:3e3);Math.abs(n-(null!==(e=r._player.currentTime)&&void 0!==e?e:0))>.01&&(r._player.currentTime=n)}};return s(),r.dispose(r.currentDistanceChanged.disposableOn(s)),r.dispose((0,c.bind)([r._player,"loop"],[r,"loop"])),r.dispose((0,c.bind)([r._player,"currentTime"],[r,"currentTime"])),r.dispose((0,c.bind)([r._player,"duration"],[r,"duration"])),r.dispose((0,c.bind)([r._player,"playing"],[r,"playing"])),r.dispose((0,c.bind)([r._player,"speed"],[r,"speed"])),r.dispose(r._flyToEvent.disposableOn((function(t){r._geoPolyline.flyTo(t)}))),r}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoPolylinePath"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoJson",{get:function(){return(0,p.getGeoJson)("LineString",this.positions,this.name)},set:function(t){var e=(0,p.setGeoJson)(t);this.name=e.name,this.positions=e.position},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(t){return""}},set:function(t){if(t)try{this.geoJson=JSON.parse(t)}catch(t){console.warn("set geoJsonStr error: ".concat(t))}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoPath",{get:function(){return this._geoPath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoPolyline",{get:function(){return this._geoPolyline},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoCanvasPointPoi",{get:function(){return this._geoCanvasPointPoi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"player",{get:function(){return this._player},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentInfo",{get:function(){return this._geoPath.currentInfo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentInfoChanged",{get:function(){return this._geoPath.currentInfoChanged},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentIndex",{get:function(){return this._geoPath.currentIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentIndexChanged",{get:function(){return this._geoPath.currentIndexChanged},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentPosition",{get:function(){return this._geoPath.currentPosition},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentPositionChanged",{get:function(){return this._geoPath.currentPositionChanged},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentRotation",{get:function(){return this._geoPath.currentRotation},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentRotationChanged",{get:function(){return this._geoPath.currentRotationChanged},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"distances",{get:function(){return this._distances.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"distancesChanged",{get:function(){return this._distances.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalDistance",{get:function(){return this.distances.length>0?this.distances[this.distances.length-1]:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},Object.defineProperty(e.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),e.prototype.subPath=function(t,e){var n=this._geoPath.subPath(t,e);if(n)return n.map((function(t){return t[1]}))},Object.defineProperty(e.prototype,"currentDistance",{get:function(){return this._currentDistance.value},set:function(t){this._currentDistance.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentDistanceChanged",{get:function(){return this._currentDistance.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ratio",{get:function(){return this._ratio.value},set:function(t){this._ratio.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ratioChanged",{get:function(){return this._ratio.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timePosRots",{get:function(){return this.geoPath.timePosRots},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(e){var n=this;return a(a([],s(t.prototype.getProperties.call(this,e)),!1),[new u.GroupProperty("通用","通用",[new u.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!1,!1,[this,"show"]),new u.BooleanProperty("是否显示当前","是否显示当前.",!1,!1,[this,"currentPoiShow"]),new u.PositionsProperty("位置数组","经度纬度高度，度为单位",!0,!1,[this,"positions"]),new u.BooleanProperty("编辑","编辑.",!1,!1,[this,"editing"]),new u.BooleanProperty("单点编辑","单点编辑.",!1,!1,[this,"pointEditing"]),new u.NumberProperty("当前距离","当前距离",!1,!1,[this,"currentDistance"]),new u.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return n.geoJsonStr}),(function(t){return t&&(n.geoJsonStr=t)}))]),new u.GroupProperty("GeoPath","GeoPath",[new u.JsonProperty("timePosRots","类型为[timeStamp: number, position: [longitude: number, latitude: number, height: number], rotation: [heading: number, pitch: number, roll: number] | undefined];",!1,!0,[this,"timePosRots"],[],g.GeoPath.timePosRotsMd),new u.NumberProperty("折线超前显示时长","折线超前显示时长",!1,!1,[this,"leadTime"]),new u.NumberProperty("折线滞后显示时长","折线滞后显示时长",!1,!1,[this,"trailTime"]),new u.EnumProperty("姿态插值方式","姿态插值方式",!1,!1,[this,"rotLerpMode"],[["插值","Lerp"],["上一个","Prev"],["下一个","Next"]])]),new u.GroupProperty("播放器","播放器",[new u.PlayerProperty("播放器","播放器",[this,"playing"],[this,"ratio"],[this,"loop"]),new u.BooleanProperty("是否循环","是否循环.",!1,!1,[this,"loop"]),new u.NumberProperty("当前时间","当前时间",!1,!1,[this,"currentTime"]),new u.NumberProperty("过渡时间","过渡时间",!1,!1,[this,"duration"]),new u.BooleanProperty("是否播放","是否播放.",!1,!1,[this,"playing"]),new u.NumberProperty("播放速度","播放速度.",!1,!1,[this,"speed"])]),new u.GroupProperty("折线","折线",[new u.BooleanProperty("是否可见","折线是否可见",!1,!1,[this,"polylineShow"]),new u.BooleanProperty("是否允许拾取","是否允许拾取",!1,!1,[this,"allowPicking"]),new u.NumberProperty("线宽","线宽",!1,!1,[this,"width"]),new u.BooleanProperty("是否贴地","是否贴地.",!1,!1,[this,"ground"]),new u.ColorProperty("颜色"," A Property specifying the color.",!1,!1,[this,"color"]),new u.BooleanProperty("是否为虚线","是否为虚线.",!1,!1,[this,"hasDash"]),new u.ColorProperty("间隔颜色","A Property specifying the color.",!1,!1,[this,"gapColor"]),new u.NumberProperty("虚线长度","虚线长度",!1,!1,[this,"dashLength"]),new u.DashPatternProperty("虚线图案","虚线图案",!1,!1,[this,"dashPattern"]),new u.BooleanProperty("是否带箭头","是否带箭头.",!1,!1,[this,"hasArrow"]),new u.BooleanProperty("是否开启深度检测","A boolean Property specifying the visibility.",!1,!1,[this,"depthTest"]),new u.EnumProperty("弧线类型","弧线类型",!1,!1,[this,"arcType"],[["直线","NONE"],["地理直线","GEODESIC"],["地理恒向线","RHUMB"]])])],!1)},n=e,e.type=n.register("GeoPolylinePath",n,{chsName:"地理折线路径",tags:["GeoObjects"],description:"地理折线路径"}),e.defaults=i({},h.ESSceneObject.defaults),e}(h.ESSceneObject);e.GeoPolylinePath=b,function(t){t.createDefaultProps=function(){return i({show:!0,allowPicking:!1,currentPoiShow:!0,polylineShow:!1,positions:(0,c.reactPositions)(void 0),width:1,ground:!1,color:(0,c.reactArray)([1,1,1,1]),hasDash:!1,gapColor:(0,c.reactArray)([0,0,0,0]),dashLength:16,dashPattern:255,hasArrow:!1,arcType:"GEODESIC",editing:!1,pointEditing:!1,loop:!1,currentTime:0,duration:3e3,speed:1,playing:!1,depthTest:!1,leadTime:3e3,trailTime:3e3,rotLerpMode:"Lerp"},h.ESSceneObject.createDefaultProps())}}(b=e.GeoPolylinePath||(e.GeoPolylinePath={})),e.GeoPolylinePath=b,(0,c.extendClassProps)(b.prototype,b.createDefaultProps)},36054:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoPolylinePathCameraController=void 0;var u=n(6353),c=n(32509),l=n(4842),p=n(81425),f=n(72256),h=n(6018),d=function(t){function e(e){var n=t.call(this,e)||this;return n._geoPolylinePath=n.disposeVar(f.SceneObject.context.createSceneObjectFromClass(c.GeoPolylinePath)),n._cameraController=n.disposeVar(new u.GeoPathCameraController),n.dispose(n.components.disposableAdd(n._geoPolylinePath)),n.dispose(n.components.disposableAdd(n._cameraController)),n._cameraController.pathId=n._geoPolylinePath.id,n.enabled=!0,n.show=!1,n.dispose((0,p.bind)([n,"show"],[n._geoPolylinePath,"show"])),n.dispose((0,p.bind)([n,"enabled"],[n._cameraController,"enabled"])),n.dispose((0,p.bind)([n,"playing"],[n._geoPolylinePath,"playing"])),n.dispose((0,p.bind)([n,"loop"],[n._geoPolylinePath,"loop"])),n.dispose((0,p.bind)([n,"speed"],[n._geoPolylinePath,"speed"])),n.dispose((0,p.bind)([n,"offsetHeight"],[n._cameraController,"offsetHeight"])),n.dispose((0,p.bind)([n,"editing"],[n._geoPolylinePath,"editing"])),n.dispose((0,p.bind)([n,"allowPicking"],[n._geoPolylinePath,"allowPicking"])),n.dispose((0,p.bind)([n,"positions"],[n._geoPolylinePath,"positions"])),n.dispose((0,p.bind)([n,"currentTime"],[n._geoPolylinePath,"currentTime"])),n._geoPolylinePath.currentTime=0,n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoPolylinePathCameraController"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return i({},e.createDefaultProps())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoPolylinePath",{get:function(){return this._geoPolylinePath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cameraController",{get:function(){return this._cameraController},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(e){return a(a([],s(t.prototype.getProperties.call(this,e)),!1),[new h.GroupProperty("通用","通用",[new h.BooleanProperty("是否显示","A boolean Property specifying.",!1,!1,[this,"show"]),new h.BooleanProperty("是否启用","A boolean Property specifying.",!1,!1,[this,"enabled"]),new h.BooleanProperty("是否播放","A boolean Property specifying.",!1,!1,[this,"playing"]),new h.BooleanProperty("是否循环","A boolean Property specifying.",!1,!1,[this,"loop"]),new h.BooleanProperty("是否编辑","A boolean Property specifying.",!1,!1,[this,"editing"]),new h.BooleanProperty("是否允许拾取","A boolean Property specifying.",!1,!1,[this,"allowPicking"]),new h.NumberProperty("速度","speed.",!1,!1,[this,"speed"]),new h.NumberProperty("高度偏移","offsetHeight.",!1,!1,[this,"offsetHeight"]),new h.NumberProperty("当前时间","currentTime.",!1,!1,[this,"currentTime"])])],!1)},n=e,e.type=n.register("GeoPolylinePathCameraController",n,{chsName:"折线路径相机跟踪器",tags:["GeoObjects"],description:"通过GeoPolylinePath和GeoPathCameraController实现的路径跟踪器"}),e}(l.ESSceneObject);e.GeoPolylinePathCameraController=d,function(t){t.createDefaultProps=function(){return i({show:!1,enabled:!0,playing:!1,loop:!1,speed:1,currentTime:0,offsetHeight:0,allowPicking:!1,editing:!1,positions:(0,p.reactPositions)(void 0)},l.ESSceneObject.createDefaultProps())}}(d=e.GeoPolylinePathCameraController||(e.GeoPolylinePathCameraController={})),e.GeoPolylinePathCameraController=d,(0,p.extendClassProps)(d.prototype,d.createDefaultProps)},99736:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoPolylines=void 0;var u=n(6018),c=n(81425),l=n(15635),p=n(4842),f=function(t){function e(e){var n=t.call(this,e)||this;return n._pickedEvent=n.disposeVar(new c.Event),n._flyToEvent=n.disposeVar(new c.Event),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoPolylines"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoJson",{get:function(){return(0,l.getGeoJson)("MultiLineString",this.positions,this.name)},set:function(t){var e=(0,l.setGeoJson)(t);this.name=e.name,this.positions=e.position},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(t){return""}},set:function(t){if(t)try{this.geoJson=JSON.parse(t)}catch(t){}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},e.prototype.getProperties=function(e){var n=this;return a(a([],s(t.prototype.getProperties.call(this,e)),!1),[new u.GroupProperty("通用","通用",[new u.FunctionProperty("飞入","飞入",["number"],(function(t){return n.flyTo(t)}),[1e3]),new u.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!1,!1,[this,"show"]),new u.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return n.geoJsonStr}),(function(t){return t&&(n.geoJsonStr=t)}))]),new u.GroupProperty("多折线","多折线",[new u.BooleanProperty("允许拾取","是否允许拾取",!1,!1,[this,"allowPicking"]),new u.PositionsSetPropety("位置数组集合","经度纬度高度，度为单位",!0,!1,[this,"positions"]),new u.NumberProperty("线宽","A numeric Property specifying the width in pixels.",!1,!1,[this,"width"]),new u.BooleanProperty("是否贴地","贴地",!1,!1,[this,"ground"],!1),new u.ColorProperty("颜色"," A Property specifying the color.",!1,!1,[this,"color"]),new u.BooleanProperty("是否为虚线","是否为虚线",!1,!1,[this,"hasDash"]),new u.ColorProperty("间隔颜色"," A Property specifying the color.",!1,!1,[this,"gapColor"]),new u.NumberProperty("虚线长度","虚线长度",!1,!1,[this,"dashLength"]),new u.NumberProperty("虚线图案","虚线图案",!1,!1,[this,"dashPattern"]),new u.BooleanProperty("是否带箭头","是否带箭头",!1,!1,[this,"hasArrow"]),new u.EnumProperty("弧线类型","弧线类型",!1,!1,[this,"arcType"],[["直线","NONE"],["地理直线","GEODESIC"],["地理恒向线","RHUMB"]]),new u.BooleanProperty("是否开启深度检测","是否开启深度检测",!1,!1,[this,"depthTest"])])],!1)},n=e,e.type=n.register("GeoPolylines",n,{chsName:"地理折线集合",tags:["GeoObjects","_ES_Impl_Any"],description:"地理折线集合"}),e.defaultColor=[1,1,1,1],e.defaultWidth=1,e}(p.ESSceneObject);e.GeoPolylines=f,function(t){t.createDefaultProps=function(){return i({show:!0,allowPicking:!1,positions:(0,c.reactPositionsSet)(void 0),width:1,ground:!1,color:(0,c.reactArray)([1,1,1,1]),hasDash:!1,gapColor:(0,c.reactArray)([0,0,0,0]),dashLength:16,dashPattern:255,hasArrow:!1,arcType:"GEODESIC",depthTest:!1},p.ESSceneObject.createDefaultProps())}}(f=e.GeoPolylines||(e.GeoPolylines={})),e.GeoPolylines=f,(0,c.extendClassProps)(f.prototype,f.createDefaultProps)},63728:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoRectangle=void 0;var u=n(81425),c=n(15635),l=n(6018),p=n(1245),f=n(4842),h=function(t){function e(e){var n=t.call(this,e)||this;return n._flyToEvent=n.disposeVar(new u.Event),n._pickedEvent=n.disposeVar(new u.Event),n._rectangleEditing=n.disposeVar(new p.RectangleEditing(n.heightReact,n.rectangleReact,[n,"editing"],[n,"pointEditing"],n.components)),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoRectangle"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},Object.defineProperty(e.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(n){var r=this;return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(t){return r.flyTo(t)}),[1e3]),new l.BooleanProperty("允许拾取","是否允许拾取",!1,!1,[this,"allowPicking"]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!1,!1,[this,"show"]),new l.BooleanProperty("是否贴地","A boolean Property specifying the visibility.",!1,!1,[this,"ground"]),new l.BooleanProperty("是否显示轮廓线","是否显示轮廓线.",!1,!1,[this,"outline"]),new l.BooleanProperty("轮廓线半透明","轮廓线半透明.",!1,!1,[this,"outlineTranslucent"]),new l.NumberProperty("高度","高度",!1,!1,[this,"height"]),new l.NumberProperty("拉伸高度","拉伸高度",!1,!1,[this,"extrudedHeight"]),new l.ColorProperty("轮廓线颜色"," A Property specifying the color.",!1,!1,[this,"outlineColor"]),new l.JsonProperty("材质","A Property specifying the material .",!0,!1,[this,"material"],e.defaults.material,c.CzmMaterialJsonTypeMd),new l.Number4Property("范围","西南东北",!0,!1,[this,"rectangle"],e.defaults.rectangle),new l.NumberProperty("纹理旋转角度","纹理旋转角度.",!1,!1,[this,"stRotation"]),new l.NumberProperty("旋转角度","rotation",!1,!1,[this,"rotation"]),new l.BooleanProperty("是否编辑","是否编辑.",!1,!1,[this,"editing"]),new l.BooleanProperty("是否单点编辑","是否单点编辑.",!1,!1,[this,"pointEditing"])])],!1)},n=e,e.type=n.register("GeoRectangle",n,{chsName:"地理矩形",tags:["GeoObjects","_ES_Impl_Any"],description:"地理矩形"}),e.defaults=i(i(i({},f.ESSceneObject.defaults),f.ESSceneObject.defaults),{material:{type:"Color",color:[1,1,1,.5]},rectangle:void 0}),e}(f.ESSceneObject);e.GeoRectangle=h,function(t){t.createDefaultProps=function(){return i({show:!0,allowPicking:!1,ground:!1,outlineTranslucent:!0,outline:!1,outlineColor:(0,u.reactArray)([1,1,1,1]),height:0,extrudedHeight:0,material:(0,u.reactJsonWithUndefined)(void 0),rectangle:(0,u.reactArrayWithUndefined)(void 0),rotation:0,stRotation:0,editing:!1,pointEditing:!1},f.ESSceneObject.createDefaultProps())}}(h=e.GeoRectangle||(e.GeoRectangle={})),e.GeoRectangle=h,(0,u.extendClassProps)(h.prototype,h.createDefaultProps)},6655:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoRectangle2=void 0;var u=n(81425),c=n(6018),l=n(1245),p=n(4842),f=function(t){function e(e){var n=t.call(this,e)||this;n._flyToEvent=n.disposeVar(new u.Event),n._pickedEvent=n.disposeVar(new u.Event),n._points=n.disposeVar((0,u.reactArrayWithUndefined)(void 0)),n._sPositionsEditing=n.disposeVar(new l.PositionsEditing(n._points,!0,[n,"editing"],n.components,2));var r=n._points,o=function(){var t=r.value;if(t&&2===t.length){var e=(0,l.getMinMaxCorner)(t),o=e.minPos,i=e.maxPos;e.center,n.rectangle=[o[0],o[1],i[0],i[1]]}};return o(),n.dispose(r.changed.disposableOn(o)),n.dispose(n.rectangleChanged.disposableOn((function(){var t;if(n.rectangle){var e=s(n.rectangle,4),o=e[0],i=e[1],a=e[2],u=e[3],c=0;r.value&&r.value.length>0&&(c=null!==(t=r.value[0][2])&&void 0!==t?t:0),r.value=[[o,i,c],[a,u,c]]}else r.value=void 0}))),n.disposeVar(new l.PointEditing(r,[n,"pointEditing"],n.components)),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoRectangle2"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},Object.defineProperty(e.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"points",{get:function(){return this._points.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sPositionsEditing",{get:function(){return this._sPositionsEditing},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(n){var r=this;return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new c.GroupProperty("通用","通用",[new c.FunctionProperty("飞入","飞入",["number"],(function(t){return r.flyTo(t)}),[1e3]),new c.BooleanProperty("允许拾取","是否允许拾取",!1,!1,[this,"allowPicking"]),new c.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!1,!1,[this,"show"]),new c.BooleanProperty("是否贴地","A boolean Property specifying the visibility.",!1,!1,[this,"ground"]),new c.BooleanProperty("是否显示轮廓线","是否显示轮廓线.",!1,!1,[this,"outline"]),new c.ColorProperty("轮廓线颜色"," A Property specifying the color.",!1,!1,[this,"outlineColor"]),new c.NumberProperty("轮廓线宽度","轮廓线宽度",!1,!1,[this,"outlineWidth"]),new c.BooleanProperty("填充","填充",!1,!1,[this,"fill"]),new c.ColorProperty("颜色"," A Property specifying the color.",!1,!1,[this,"color"]),new c.BooleanProperty("是否编辑","A boolean Property specifying the visibility.",!1,!1,[this,"editing"]),new c.BooleanProperty("是否单点编辑","是否单点编辑.",!1,!1,[this,"pointEditing"]),new c.Number4Property("范围","西南东北",!0,!1,[this,"rectangle"],e.defaults.rectangle),new c.NumberProperty("厚度","厚度",!1,!1,[this,"depth"]),new c.NumberProperty("z-index","z-index",!1,!1,[this,"zIndex"]),new c.BooleanProperty("是否开启深度检测","A boolean Property specifying the visibility.",!1,!1,[this,"depthTest"])])],!1)},n=e,e.type=n.register("GeoRectangle2",n,{chsName:"地理矩形2",tags:["GeoObjects","_ES_Impl_Any"],description:"地理矩形"}),e.defaults=i(i(i({},p.ESSceneObject.defaults),p.ESSceneObject.defaults),{rectangle:void 0}),e}(p.ESSceneObject);e.GeoRectangle2=f,function(t){t.createDefaultProps=function(){return i({show:!0,allowPicking:!1,ground:!1,outline:!1,outlineColor:(0,u.reactArray)([1,1,1,1]),outlineWidth:2,fill:!0,color:(0,u.reactArray)([1,1,1,.5]),zIndex:0,extrudedHeight:0,rectangle:(0,u.reactArrayWithUndefined)(void 0),editing:!1,pointEditing:!1,depth:0,depthTest:!1},p.ESSceneObject.createDefaultProps())}}(f=e.GeoRectangle2||(e.GeoRectangle2={})),e.GeoRectangle2=f,(0,u.extendClassProps)(f.prototype,f.createDefaultProps)},63399:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoSceneObjectCameraController=void 0;var u=n(6018),c=n(81425),l=n(72256),p=n(4842),f=n(88393),h=function(t){function e(e,n){var r,o,i,s,a,u,c=this;c=t.call(this)||this;var l,p=null!==(r=n.positionPropertyName)&&void 0!==r?r:"position",f=null!==(o=n.positionChangedPropertyName)&&void 0!==o?o:p+"Changed",h=null!==(i=n.rotationPropertyName)&&void 0!==i?i:"rotation",d=null!==(s=n.rotationChangedPropertyName)&&void 0!==s?s:h+"Changed",y=(null===(a=n.positionTracking)||void 0===a||a)&&Reflect.has(e,p)&&Reflect.has(e,f),g=(null===(u=n.rotationTracking)||void 0===u||u)&&Reflect.has(e,h)&&Reflect.has(e,d);if(!y&&!g)return c;if(y){(l=function(){n.geoCameraController.position=e[p]})();var v=e[f];c.dispose(v.disposableOn(l))}g&&((l=function(){n.geoCameraController.rotation=e[h]})(),v=e[f],c.dispose(v.disposableOn(l)));return c}return o(e,t),e}(c.Destroyable),d=function(t){function e(e,n){var r=t.call(this)||this,o=r.disposeVar(new u.SceneObjectFromId(e)),i=r.disposeVar((0,c.createNextAnimateFrameEvent)(n.enabledChanged,n.positionTrackingChanged,n.rotationTrackingChanged,n.positionPropertyNameChanged,n.positionChangedPropertyNameChanged,n.rotationPropertyNameChanged,n.rotationChangedPropertyNameChanged,o.sceneObjectChanged));return r.disposeVar(new l.ObjResettingWithEvent(i,(function(){var t=o.sceneObject;if(n.enabled&&t)return new h(t,n)}))),r}return o(e,t),e}(c.Destroyable),y=function(t){function e(e){var n=t.call(this,e)||this;return n._geoCameraController=n.disposeVar(p.ESSceneObject.createFromClass(f.GeoCameraController)),n.dispose(n.components.disposableAdd(n.geoCameraController)),n.disposeVar(new l.ObjResettingWithEvent(n.sceneObjectIdChanged,(function(){if(void 0!==n.sceneObjectId)return new d(n.sceneObjectId,n)}))),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoSceneObjectCameraController"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return i(i({},e.createDefaultProps()),b)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoCameraController",{get:function(){return this._geoCameraController},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(e){var n=this;return a(a([],s(t.prototype.getProperties.call(this,e)),!1),[new u.GroupProperty("通用","通用",[new u.BooleanProperty("是否可用","是否可用",!0,!1,[this,"enabled"]),new u.StringProperty("场景对象ID","场景对象ID",!0,!1,[this,"sceneObjectId"]),new u.BooleanProperty("位置跟踪","位置跟踪",!0,!1,[this,"positionTracking"]),new u.BooleanProperty("姿态跟踪","姿态跟踪",!0,!1,[this,"rotationTracking"]),new u.StringProperty("位置属性名","位置属性名",!0,!1,[this,"positionPropertyName"]),new u.StringProperty("位置变化属性名","位置变化属性名",!0,!1,[this,"positionChangedPropertyName"]),new u.StringProperty("姿态属性名","姿态属性名",!0,!1,[this,"rotationPropertyName"]),new u.StringProperty("姿态变化属性名","姿态变化属性名",!0,!1,[this,"rotationChangedPropertyName"])]),new u.GroupProperty("相机控制","相机控制",[new u.BooleanProperty("目标显示","目标显示",!0,!1,[this,"showTarget"],!1),new u.PositionProperty("位置","位置(经度/纬度/高度)，度为单位",!0,!0,[this,"position"]),new u.RotationProperty("姿态","姿态(偏航/俯仰/翻转)，度为单位",!0,!0,[this,"rotation"]),new u.NumberProperty("视距","视距",!0,!1,[this,"viewDistance"]),new u.NumberProperty("高度偏移","高度偏移",!0,!1,[this,"offsetHeight"]),new u.RotationProperty("姿态偏移","姿态偏移(偏航/俯仰/翻转)，度为单位",!0,!1,[this,"offsetRotation"]),new u.FunctionProperty("重置姿态","重置姿态为当前相机姿态",[],(function(){return n.geoCameraController.resetWithCamera()}),[])])],!1)},n=e,e.type=n.register("GeoSceneObjectCameraController",n,{chsName:"场景对象相机控制器",tags:["GeoObjects"],description:"场景对象相机控制器"}),e}(p.ESSceneObject);e.GeoSceneObjectCameraController=y;var g=f.GeoCameraController.createDefaultProps(),v={enabled:{defaultValue:g.enabled,componentName:"geoCameraController",originPropName:"enabled"},showTarget:{defaultValue:g.showTarget,componentName:"geoCameraController",originPropName:"showTarget"},position:{defaultValue:g.position,componentName:"geoCameraController",originPropName:"position"},rotation:{defaultValue:g.rotation,componentName:"geoCameraController",originPropName:"rotation"},viewDistance:{defaultValue:g.viewDistance,componentName:"geoCameraController",originPropName:"viewDistance"},offsetHeight:{defaultValue:g.offsetHeight,componentName:"geoCameraController",originPropName:"offsetHeight"},offsetRotation:{defaultValue:g.offsetRotation,componentName:"geoCameraController",originPropName:"offsetRotation"},enabledRotationInput:{defaultValue:g.enabledRotationInput,componentName:"geoCameraController",originPropName:"enabledRotationInput"},enabledScaleInput:{defaultValue:g.enabledScaleInput,componentName:"geoCameraController",originPropName:"enabledScaleInput"}},b=(0,u.getDefaultComponentProps)(v);(0,u.extendComponentProps)(y.prototype,v),function(t){t.createDefaultProps=function(){return i({enabled:void 0,sceneObjectId:void 0,positionTracking:void 0,rotationTracking:void 0,positionPropertyName:void 0,positionChangedPropertyName:void 0,rotationPropertyName:void 0,rotationChangedPropertyName:void 0},p.ESSceneObject.createDefaultProps())}}(y=e.GeoSceneObjectCameraController||(e.GeoSceneObjectCameraController={})),e.GeoSceneObjectCameraController=y,(0,c.extendClassProps)(y.prototype,y.createDefaultProps)},92461:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoSceneObjectPathPlayerTracker=void 0;var u=n(6018),c=n(81425),l=n(40837),p=n(4842),f=n(86582),h=function(t){function e(e){var n=t.call(this,e)||this;return n._geoPathTracker=n.disposeVar(new f.GeoPathTracker),n._playerTracker=n.disposeVar(new l.PlayerTracker),n.dispose((0,c.track)([n._playerTracker,"enabled"],[n,"enabled"])),n.dispose((0,c.track)([n._geoPathTracker,"enabled"],[n,"enabled"])),n.dispose((0,c.track)([n._playerTracker,"targetObjId"],[n,"pathId"])),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoSceneObjectPathPlayerTracker"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return i(i({},e.createDefaultProps()),y)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoPathTracker",{get:function(){return this._geoPathTracker},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playerTracker",{get:function(){return this._playerTracker},enumerable:!1,configurable:!0}),e.prototype.forceExecute=function(){this._playerTracker.forceExecute(),this._geoPathTracker.forceExecute()},e.prototype.getProperties=function(e){var n=this;return a(a([],s(t.prototype.getProperties.call(this,e)),!1),[new u.GroupProperty("通用","通用",[new u.BooleanProperty("是否可用","是否可用",!0,!1,[this,"enabled"]),new u.StringProperty("播放器ID","播放器(被跟踪的对象，监测该对象的属性变化)的ID",!0,!1,[this,"playerId"]),new u.EvalStringProperty("播放器回调函数","如果有值，则表示使用该函数进行赋值",!0,!1,[this,"playerEvalFuncStr"]),new u.StringProperty("路径对象ID","路径对象(被跟踪的对象，监测该对象的属性变化)的ID",!0,!1,[this,"pathId"]),new u.StringProperty("目标对象ID","目标对象(跟踪的对象，该对象属性会被修改)的ID",!0,!1,[this,"targetObjId"]),new u.StringProperty("目标对象位置属性名","目标对象(跟踪的对象，该对象属性会被修改)的属性名称",!0,!1,[this,"targetPositionPropertyName"],"position"),new u.StringProperty("目标对象姿态属性名","目标对象(跟踪的对象，该对象属性会被修改)的属性名称",!0,!1,[this,"targetRotationPropertyName"],"rotation"),new u.BooleanProperty("使用位置跟踪","使用位置跟踪",!0,!1,[this,"usePosition"],!0),new u.BooleanProperty("使用姿态跟踪","使用姿态跟踪",!0,!1,[this,"useRotation"],!0),new u.BooleanProperty("位置跟踪调试模式","调试模式下会在控制台输出调试信息，默认为false",!0,!1,[this,"positionDebug"],!1),new u.BooleanProperty("姿态跟踪调试模式","调试模式下会在控制台输出调试信息，默认为false",!0,!1,[this,"rotationDebug"],!1),new u.EvalStringProperty("位置跟踪函数","如果有值，则表示使用该函数进行赋值",!0,!1,[this,"positionEvalFuncStr"]),new u.EvalStringProperty("姿态跟踪函数","如果有值，则表示使用该函数进行赋值",!0,!1,[this,"rotationEvalFuncStr"]),new u.FunctionProperty("强制执行","强制执行",[],(function(){return n.forceExecute()}),[])])],!1)},n=e,e.type=n.register("GeoSceneObjectPathPlayerTracker",n,{chsName:"场景对象路径播放器跟踪器",tags:["GeoObjects"],description:"场景对象路径播放器跟踪器"}),e}(p.ESSceneObject);e.GeoSceneObjectPathPlayerTracker=h;var d={playerId:{defaultValue:void 0,componentName:"playerTracker",originPropName:"playerId"},playerEvalFuncStr:{defaultValue:void 0,componentName:"playerTracker",originPropName:"evalFuncStr"},pathId:{defaultValue:void 0,componentName:"geoPathTracker",originPropName:"pathId"},targetObjId:{defaultValue:void 0,componentName:"geoPathTracker",originPropName:"targetObjId"},usePosition:{defaultValue:void 0,componentName:"geoPathTracker",originPropName:"usePosition"},useRotation:{defaultValue:void 0,componentName:"geoPathTracker",originPropName:"useRotation"},targetPositionPropertyName:{defaultValue:void 0,componentName:"geoPathTracker",originPropName:"targetPositionPropertyName"},targetRotationPropertyName:{defaultValue:void 0,componentName:"geoPathTracker",originPropName:"targetRotationPropertyName"},positionDebug:{defaultValue:void 0,componentName:"geoPathTracker",originPropName:"positionDebug"},rotationDebug:{defaultValue:void 0,componentName:"geoPathTracker",originPropName:"rotationDebug"},positionEvalFuncStr:{defaultValue:void 0,componentName:"geoPathTracker",originPropName:"positionEvalFuncStr"},rotationEvalFuncStr:{defaultValue:void 0,componentName:"geoPathTracker",originPropName:"rotationEvalFuncStr"}},y=(0,u.getDefaultComponentProps)(d);(0,u.extendComponentProps)(h.prototype,d),function(t){t.createDefaultProps=function(){return i({enabled:void 0},p.ESSceneObject.createDefaultProps())}}(h=e.GeoSceneObjectPathPlayerTracker||(e.GeoSceneObjectPathPlayerTracker={})),e.GeoSceneObjectPathPlayerTracker=h,(0,c.extendClassProps)(h.prototype,h.createDefaultProps)},23238:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoSmoothPolygon=void 0;var u=n(81425),c=n(15635),l=n(6018),p=n(1245),f=n(4842),h=n(50679),d=function(t){function e(e){var n=t.call(this,e)||this;n._pickedEvent=n.disposeVar(new u.Event),n._flyToEvent=n.disposeVar(new u.Event),n._geoPolygon=n.disposeVar(new h.GeoPolygon);var r=n.geoPolygon;n.dispose(n.components.disposableAdd(r)),n.dispose((0,u.bind)([r,"allowPicking"],[n,"allowPicking"])),n.dispose(r.pickedEvent.disposableOn((function(t){var e;null!==(e=n.allowPicking)&&void 0!==e&&e&&n.pickedEvent.emit(new l.SceneObjectPickedInfo(n,t))}))),n.dispose(n.flyToEvent.disposableOn((function(t){r.flyTo(t)}))),n.dispose((0,u.bind)([r,"show"],[n,"show"])),n.dispose((0,u.bind)([r,"ground"],[n,"ground"])),n.dispose((0,u.bind)([r,"outline"],[n,"outline"])),n.dispose((0,u.bind)([r,"outlineColor"],[n,"outlineColor"])),n.dispose((0,u.bind)([r,"outlineWidth"],[n,"outlineWidth"])),n.dispose((0,u.bind)([r,"color"],[n,"color"])),n.dispose((0,u.bind)([r,"depth"],[n,"depth"]));var o=function(){if(n.positions&&n.positions.length>=2){var t=(0,p.geoPolylineToBezierSpline)(a(a([],s(n.positions),!1),[n.positions[0]],!1));r.positions=t}else r.positions=void 0};o(),n.dispose(n.positionsChanged.disposableOn(o));var i=n.disposeVar((0,p.createPositionsEditingRefForComponent)([n,"positions"],!0,n.components));return n.dispose((0,u.bind)([n,"editing"],i)),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoSmoothPolygon"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoJson",{get:function(){return(0,c.getGeoJson)("Polygon",this.positions,this.name)},set:function(t){var e=(0,c.setGeoJson)(t);this.name=e.name,this.positions=e.position},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(t){return""}},set:function(t){if(t)try{this.geoJson=JSON.parse(t)}catch(t){}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},Object.defineProperty(e.prototype,"geoPolygon",{get:function(){return this._geoPolygon},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(e){var n=this;return a(a([],s(t.prototype.getProperties.call(this,e)),!1),[new l.GroupProperty("通用","通用",[new l.FunctionProperty("飞入","飞入",["number"],(function(t){return n.flyTo(t)}),[1e3]),new l.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!1,!1,[this,"show"]),new l.BooleanProperty("是否贴地","A boolean Property specifying the visibility.",!1,!1,[this,"ground"]),new l.BooleanProperty("是否显示轮廓线","是否显示轮廓线.",!1,!1,[this,"outline"]),new l.BooleanProperty("允许拾取","是否允许拾取",!1,!1,[this,"allowPicking"]),new l.ColorProperty("轮廓线颜色"," A Property specifying the color.",!1,!1,[this,"outlineColor"]),new l.NumberProperty("轮廓线宽度","轮廓线宽度",!1,!1,[this,"outlineWidth"]),new l.ColorProperty("颜色"," A Property specifying the color.",!1,!1,[this,"color"]),new l.BooleanProperty("是否编辑","A boolean Property specifying the visibility.",!1,!1,[this,"editing"]),new l.PositionsProperty("位置数组","经度纬度高度，度为单位",!0,!1,[this,"positions"]),new l.NumberProperty("厚度","厚度",!1,!1,[this,"depth"]),new l.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return n.geoJsonStr}),(function(t){return t&&(n.geoJsonStr=t)}))])],!1)},n=e,e.type=n.register("GeoSmoothPolygon",n,{chsName:"平滑多边形",tags:["GeoObjects"],description:"绘制可自定义的平滑多边形。"}),e}(f.ESSceneObject);e.GeoSmoothPolygon=d,function(t){t.createDefaultProps=function(){return i({show:!0,allowPicking:!1,ground:!1,outline:!1,outlineColor:(0,u.reactArray)([1,1,1,1]),outlineWidth:1,color:(0,u.reactArrayWithUndefined)([1,1,1,.5]),editing:!1,positions:(0,u.reactPositions)(void 0),depth:0},f.ESSceneObject.createDefaultProps())}}(d=e.GeoSmoothPolygon||(e.GeoSmoothPolygon={})),e.GeoSmoothPolygon=d,(0,u.extendClassProps)(d.prototype,d.createDefaultProps)},94595:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoVolumeMeasurement=void 0;var u=n(81425),c=n(6018),l=n(4842),p=n(99736),f=function(t){function e(e){var n=t.call(this,e)||this;return n._pickedEvent=n.disposeVar(new u.Event),n._flyToEvent=n.disposeVar(new u.Event),n._enableEvent=n.disposeVar(new u.Event),n._clearEvent=n.disposeVar(new u.Event),n._gridPoints=n.disposeVar((0,u.reactJson)([])),n._excavationPolylines=n.disposeVar(new p.GeoPolylines),n._fillPolylines=n.disposeVar(new p.GeoPolylines),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"GeoVolumeMeasurement"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},Object.defineProperty(e.prototype,"enableEvent",{get:function(){return this._enableEvent},enumerable:!1,configurable:!0}),e.prototype.enableEmit=function(){this._enableEvent.emit()},Object.defineProperty(e.prototype,"clearEvent",{get:function(){return this._clearEvent},enumerable:!1,configurable:!0}),e.prototype.clearEmit=function(){this._clearEvent.emit()},Object.defineProperty(e.prototype,"gridPoints",{get:function(){return this._gridPoints.value},set:function(t){this._gridPoints.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gridPointsChanged",{get:function(){return this._gridPoints.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"excavationPolylines",{get:function(){return this._excavationPolylines},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillPolylines",{get:function(){return this._fillPolylines},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(e){var n=this;return a(a([],s(t.prototype.getProperties.call(this,e)),!1),[new c.GroupProperty("通用","通用",[new c.FunctionProperty("飞入","飞入",["number"],(function(t){return n.flyTo(t)}),[1e3]),new c.BooleanProperty("是否显示","A boolean Property specifying the visibility.",!1,!1,[this,"show"]),new c.BooleanProperty("允许拾取","是否允许拾取",!1,!1,[this,"allowPicking"]),new c.PositionsProperty("位置数组","经度纬度高度，度为单位",!0,!1,[this,"positions"]),new c.BooleanProperty("是否编辑","是否编辑.",!1,!1,[this,"editing"]),new c.NumberProperty("基准面高程","基准面高程",!0,!1,[this,"planeHight"]),new c.NumberProperty("采样间距","采样间距",!1,!1,[this,"sampling"]),new c.NumberProperty("总面积","总面积",!1,!0,[this,"area"]),new c.NumberProperty("挖方","挖方",!1,!0,[this,"excavationArea"]),new c.NumberProperty("填方","填方",!1,!0,[this,"fillArea"]),new c.NumberProperty("挖填方","挖填方",!1,!0,[this,"CutAndFillArea"]),new c.NumberProperty("计算进度","计算进度",!1,!0,[this,"schedule"]),new c.FunctionProperty("开始分析","开始分析",[],(function(){return n.enableEmit()}),[]),new c.FunctionProperty("清空分析结果","清空分析结果",[],(function(){return n.clearEmit()}),[]),new c.BooleanProperty("是否开启深度检测","A boolean Property specifying the visibility.",!1,!1,[this,"depthTest"])])],!1)},n=e,e.type=n.register("GeoVolumeMeasurement",n,{chsName:"体积测量",tags:["GeoObjects","_ES_Impl_Any"],description:"体积测量！"}),e.defaults=i(i({},l.ESSceneObject.defaults),{positions:[]}),e}(l.ESSceneObject);e.GeoVolumeMeasurement=f,function(t){t.createDefaultProps=function(){return i({show:!0,allowPicking:!1,positions:(0,u.reactPositions)(void 0),editing:!1,planeHight:(0,u.react)(void 0),sampling:1,area:0,excavationArea:0,fillArea:0,CutAndFillArea:0,schedule:0,depthTest:!1},l.ESSceneObject.createDefaultProps())}}(f=e.GeoVolumeMeasurement||(e.GeoVolumeMeasurement={})),e.GeoVolumeMeasurement=f,(0,u.extendClassProps)(f.prototype,f.createDefaultProps)},58453:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},7991:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),o(n(58453),e)},57770:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),o(n(47863),e),o(n(59864),e),o(n(79545),e),o(n(47594),e),o(n(91817),e),o(n(72557),e),o(n(88393),e),o(n(34315),e),o(n(97731),e),o(n(26705),e),o(n(1941),e),o(n(98812),e),o(n(28110),e),o(n(86786),e),o(n(95095),e),o(n(68202),e),o(n(83167),e),o(n(79677),e),o(n(58646),e),o(n(38340),e),o(n(88244),e),o(n(62064),e),o(n(72124),e),o(n(34202),e),o(n(96492),e),o(n(7993),e),o(n(33377),e),o(n(85280),e),o(n(17325),e),o(n(59110),e),o(n(14367),e),o(n(3416),e),o(n(6353),e),o(n(86582),e),o(n(9729),e),o(n(24955),e),o(n(29132),e),o(n(50679),e),o(n(39743),e),o(n(26869),e),o(n(32509),e),o(n(99736),e),o(n(63728),e),o(n(63399),e),o(n(92461),e),o(n(23238),e),o(n(24333),e),o(n(7991),e),o(n(36054),e),o(n(94595),e),o(n(46540),e),o(n(6655),e)},69005:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.AbsolutePlayer=void 0;var u=n(81425),c=n(61158),l=n(4842),p=n(79159),f=n(6018),h=n(50409),d=function(t){function e(e){var n=t.call(this,e)||this;n._player=n.disposeVar(new p.Player);var r=n._player,o=function(){var t,e,o=(null!==(t=n.stopTime)&&void 0!==t?t:0)-(null!==(e=n.startTime)&&void 0!==e?e:0);r.duration=o>0?o:0};return o(),n.dispose(n.startTimeChanged.disposableOn(o)),n.dispose(n.stopTimeChanged.disposableOn(o)),n.dispose((0,u.bind)([r,"playing"],[n,"playing"])),n.dispose((0,u.bind)([r,"loop"],[n,"loop"])),n.dispose((0,u.bind)([r,"speed"],[n,"speed"])),n.dispose(r.currentTimeChanged.disposableOn((function(){void 0!==n.startTime&&void 0!==r.currentTime&&(n.currentTime=r.currentTime+n.startTime)}))),n.dispose(n.currentTimeChanged.disposableOn((function(){if(void 0!==n.currentTime&&void 0!==n.startTime){var t=n.currentTime-n.startTime;r.currentTime=(0,c.clamp)(t,0,r.duration)}}))),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"AbsolutePlayer"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"player",{get:function(){return this._player},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ratio",{get:function(){return this._player.ratio},set:function(t){this._player.ratio=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ratioChanged",{get:function(){return this._player.ratioChanged},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(n){return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new f.GroupProperty("通用","通用",[new f.PlayerProperty("播放器","播放器",[this,"playing"],[this,"ratio"],[this,"loop"],p.Player.defaults),new h.DateProperty("currentTime","currentTime",!0,!1,[this,"currentTime"],e.defaults.currentTime),new h.DateProperty("startTime","startTime",!0,!1,[this,"startTime"],e.defaults.startTime),new h.DateProperty("stopTime","stopTime",!0,!1,[this,"stopTime"],e.defaults.stopTime),new f.BooleanProperty("playing","playing",!0,!1,[this,"playing"],e.defaults.playing),new f.BooleanProperty("loop","loop",!0,!1,[this,"loop"],e.defaults.loop),new f.NumberProperty("speed","speed",!0,!1,[this,"speed"],e.defaults.speed)])],!1)},n=e,e.type=n.register("AbsolutePlayer",n,{chsName:"AbsolutePlayer",tags:["ESObjects"],description:"AbsolutePlayer"}),e.defaults=i(i({},l.ESSceneObject.defaults),{currentTime:0,startTime:0,stopTime:0,playing:!1,loop:!1,speed:1}),e}(l.ESSceneObject);e.AbsolutePlayer=d,function(t){t.createDefaultProps=function(){return i(i({},l.ESSceneObject.createDefaultProps()),{currentTime:void 0,startTime:void 0,stopTime:void 0,playing:void 0,loop:void 0,speed:void 0})}}(d=e.AbsolutePlayer||(e.AbsolutePlayer={})),e.AbsolutePlayer=d,(0,u.extendClassProps)(d.prototype,d.createDefaultProps)},20463:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.CursorInfo=void 0;var u=n(6018),c=n(81425),l=n(72256),p=n(49233),f=n(4842),h=function(t){function e(e,n){var r=t.call(this)||this;r._container=e,r._sceneObject=n;var o=r._container,i=r._sceneObject,s=r.disposeVar(new p.CursorInfo(o,l.CursorFloatDiv)),a=function(){var t;s.text=null!==(t=i.text)&&void 0!==t?t:"请输入光标提示内容！"};a(),r.dispose(i.textChanged.disposableOn(a));var u=function(){var t;s.show=null===(t=i.show)||void 0===t||t};return u(),r.dispose(i.showChanged.disposableOn(u)),r}return o(e,t),e}(c.Destroyable),d=function(t){function e(e){var n=t.call(this,e)||this;return n.registerAttachedObjectForContainer((function(t,e){return new h(e,n)})),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"CursorInfo"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(e){return a(a([],s(t.prototype.getProperties.call(this,e)),!1),[new u.GroupProperty("通用","通用",[new u.BooleanProperty("是否可见","是否可见",!0,!1,[this,"show"],!1),new u.StringProperty("文本内容","文本内容",!0,!1,[this,"text"])])],!1)},n=e,e.type=n.register("CursorInfo",n,{chsName:"光标提示信息",tags:["MiscObjects"],description:"光标提示信息"}),e}(f.ESSceneObject);e.CursorInfo=d,function(t){t.createDefaultProps=function(){return i({show:void 0,text:void 0},f.ESSceneObject.createDefaultProps())}}(d=e.CursorInfo||(e.CursorInfo={})),e.CursorInfo=d,(0,c.extendClassProps)(d.prototype,d.createDefaultProps)},39208:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.CustomDiv=void 0;var u=n(6018),c=n(81425),l=n(72256),p=function(t){function e(e,n,r){var o=t.call(this)||this,i=o.disposeVar((0,c.createNextAnimateFrameEvent)(n.instanceClassChanged,n.containerChanged)),s=o.disposeVar(new l.ObjResettingWithEvent(i,(function(){var t=n.instanceClass,o=n.container;if(t&&!o)return new t(e,n,r)}))),a=n._updateEvent;return o.dispose(a.disposableOn((function(t){if(s.obj)try{t(s.obj,n,r)}catch(t){console.error("CustomDiv update error! ".concat(t))}}))),o}return o(e,t),e}(c.Destroyable),f="class MyDiv extends XE2['xe2-base-utils'].Destroyable {\n    // subContainer是外部视口的div容器，可以在这里创建自己需要的DOM元素\n    // customDiv指向当前的CustomDiv场景对象\n    // viewer指定当前的视口\n    constructor(subContainer, customDiv, viewer) {   \n        super();  \n\n        this._subContainer = subContainer;\n        const div = document.createElement('div');\n        this._div = div;\n\n        this._subContainer.appendChild(div);\n        this.dispose(() => this._subContainer.removeChild(this._div));\n\n        div.style.width = '300px';\n        div.style.height = '50px';\n        div.style.position = 'absolute';\n        div.style.left = '10px';\n        div.style.top = '10px';\n        div.style.background = 'rgba(120, 120, 0, 0.7)';\n        div.style.color = 'white';\n        div.style.fontSize = '30px';\n        div.style.lineHeight = '50px';\n        div.style.border = '1px solid white';\n        div.style.zIndex = '100'; // 特别重要，不能丢！很可能导致保存后打开看不到！\n        div.innerText = 'Hello world!';\n\n        {\n            // 控制显示隐藏\n            const update = () => {\n                div.style.display = (customDiv.show ?? true) ? 'flex' : 'none';\n            };\n            update();\n            this.dispose(customDiv.showChanged.disposableOn(update));\n        }\n    }\n\n    // 随机背景颜色，仅用于测试外部强制更新，此函数非必需\n    update() {\n        const r = (255 * Math.random()) | 0;\n        const g = (255 * Math.random()) | 0;\n        const b = (255 * Math.random()) | 0;\n        this._div.style.background = `rgba(${r}, ${g}, ${b}, 0.8)`;\n    }\n}",h="示例代码：\n".concat(f,"\n"),d=function(t){function e(e){var n=t.call(this,e)||this;n._updateEvent=n.disposeVar(new c.Event),n._instanceClassReact=n.disposeVar((0,c.react)(void 0)),n._pickedEvent=n.disposeVar(new c.Event),n._innerHtmlMounted=n.disposeVar(new c.Event),n._container=n.disposeVar((0,c.react)(void 0)),n.registerAttachedObjectForContainer((function(t,e){return new p(e,n,t)})),(r=function(){try{n.instanceClass=n.instanceClassStr&&Function('"use strict";return ('.concat(n.instanceClassStr,")"))()}catch(t){n.instanceClass=void 0}})(),n.dispose(n.instanceClassStrChanged.disposableOn(r)),(r=function(){if(void 0!==n.innerHTML){var t="class MyDiv extends XE2['xe2-base-utils'].Destroyable {\n                    // subContainer是外部视口的div容器，可以在这里创建自己需要的DOM元素\n                    // customDiv指向当前的CustomDiv场景对象\n                    // viewer指定当前的视口\n                    // z-index样式需要设置，否则可能导致看不到！\n                    constructor(subContainer, customDiv, viewer) {     \n                        super();  \n\n                        const div = document.createElement('div');\n                        this.dispose(() => subContainer.removeChild(div));\n\n                        subContainer.appendChild(div);\n\n                        div.innerHTML = `".concat(n.innerHTML,"`;\n                        customDiv._innerHtmlMounted.emit(div, viewer);\n\n                        {\n                            // 控制显示隐藏\n                            const update = () => {\n                                div.style.display = (customDiv.show ?? true) ? 'flex' : 'none';\n                            };\n                            update();\n                            this.dispose(customDiv.showChanged.disposableOn(update));\n                        }\n                    }\n                }");n.instanceClassStr=t}else n.instanceClassStr=void 0})(),n.dispose(n.innerHTMLChanged.disposableOn(r));var r,o=n.disposeVar((0,c.createNextAnimateFrameEvent)(n.containerChanged,n.instanceClassChanged));return n.disposeVar(new l.ObjResettingWithEvent(o,(function(){if(n.instanceClass&&n.container)return new n.instanceClass(n.container,n,void 0)}))),(r=function(){if(void 0===n.containerId||""===n.containerId)n.container=void 0;else{var t=document.getElementById(n.containerId);t instanceof HTMLDivElement?n.container=t:(n.container=void 0,console.warn("Div from containerId(".concat(n.containerId,") is not HTMLDivElement!")))}})(),n.dispose(n.containerIdChanged.disposableOn(r)),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"CustomDiv"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),e.prototype.update=function(t){this._updateEvent.emit(t)},Object.defineProperty(e.prototype,"instanceClass",{get:function(){return this._instanceClassReact.value},set:function(t){this._instanceClassReact.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"instanceClassChanged",{get:function(){return this._instanceClassReact.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"innerHtmlMounted",{get:function(){return this._innerHtmlMounted},enumerable:!1,configurable:!0}),e.prototype.pickFromDiv=function(t,e){var n;null!==(n=this.allowPicking)&&void 0!==n&&n&&this.pickedEvent.emit(new u.DivPickedInfo(t,e))},Object.defineProperty(e.prototype,"container",{get:function(){return this._container.value},set:function(t){this._container.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"containerChanged",{get:function(){return this._container.changed},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(n){var r=this;return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new u.GroupProperty("通用","通用",[new u.BooleanProperty("显示","显示",!0,!1,[this,"show"],e.defaults.show),new u.EvalStringProperty("实例类","实例类",!0,!1,[this,"instanceClassStr"],f,h),new u.EvalStringProperty("innerHTML","注意设置此属性设置此属性会自动更新instanceClassStr变量",!0,!1,[this,"innerHTML"],e.defaultInnerHTML,e.innerHTMLReadMe),new u.FunctionProperty("强制更新","强制更新",["string"],(function(t){t||alert("evalFuncStr为空，无法执行！");try{var e=t&&Function('"use strict";return ('.concat(t,")"))();r.update(e)}catch(t){alert("updateDivFunc error: ".concat(t))}}),["(divClass, dom, viewer) => divClass.update && divClass.update()"]),new u.BooleanProperty("允许拾取","是否允许拾取",!0,!1,[this,"allowPicking"]),new u.StringProperty("容器ID","容器的ID，如果设置，CustomDiv将自动放入容器，否则放入各个视口中。",!0,!1,[this,"containerId"],e.defaults.containerId)])],!1)},n=e,e.type=n.register("CustomDiv",n,{chsName:"CustomDiv",tags:["MiscObjects"],description:"CustomDiv"}),e.defaults=i(i({},u.ESSceneObject.defaults),{show:!0,containerId:""}),e.defaultInnerHTML='\x3c!-- z-index样式需要设置，否则可能导致看不到！--\x3e\n<div style="width: 300px; height: 50px; z-index: 100; position: absolute; left: 10px; top: 10px; background: rgba(120, 120, 0, 0.7); color: white; font-size: 30px; line-height: 50px; border: 1px solid white;">Hello world!</div>\n',e.innerHTMLReadMe="示例代码：  \n```\n".concat(e.defaultInnerHTML,"\n```\n"),e}(u.ESSceneObject);e.CustomDiv=d,function(t){t.createDefaultProps=function(){return i(i({},u.ESSceneObject.createDefaultProps()),{show:void 0,instanceClassStr:void 0,innerHTML:void 0,allowPicking:void 0,containerId:void 0})}}(d=e.CustomDiv||(e.CustomDiv={})),e.CustomDiv=d,(0,c.extendClassProps)(d.prototype,d.createDefaultProps)},32668:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},68838:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},u=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.EnvironmentVariables=void 0;var c=n(6018),l=n(81425),p=n(4842),f=function(t){function e(e){var n=t.call(this,e)||this;n._forceExecEvent=n.disposeVar(new l.Event);var r=function(){var t,e;try{for(var r=s(n.varAndValues),o=r.next();!o.done;o=r.next()){var i=a(o.value,2),u=i[0],c=i[1];p.ESSceneObject.context.setEnv(u,c)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}};n.dispose(n._forceExecEvent.disposableOn(r));var o=function(){var t;(null===(t=n.enabled)||void 0===t||t)&&r()};return o(),n.dispose(n.varAndValuesChanged.disposableOn(o)),n.dispose(n.enabledChanged.disposableOn(o)),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"EnvironmentVariables"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),e.prototype.forceExec=function(){this._forceExecEvent.emit()},e.prototype.getProperties=function(e){var n=this;return u(u([],a(t.prototype.getProperties.call(this,e)),!1),[new c.GroupProperty("通用","通用",[new c.BooleanProperty("是否可用","是否可用",!0,!1,[this,"enabled"]),new c.String2sProperty("环境变量和值集合","环境变量和值集合",!1,!1,[this,"varAndValues"]),new c.FunctionProperty("强制执行","强制执行",[],(function(){return n.forceExec()}),[])])],!1)},n=e,e.type=n.register("EnvironmentVariables",n,{chsName:"环境变量集合",tags:["MiscObjects"],description:"定义一些环境变量，这样方便场景对象属性的批量修改！"}),e}(p.ESSceneObject);e.EnvironmentVariables=f,function(t){t.createDefaultProps=function(){return i({enabled:void 0,varAndValues:[]},p.ESSceneObject.createDefaultProps())}}(f=e.EnvironmentVariables||(e.EnvironmentVariables={})),e.EnvironmentVariables=f,(0,l.extendClassProps)(f.prototype,f.createDefaultProps)},79159:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},u=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.Player=void 0;var c=n(6018),l=n(81425),p=n(61158),f=n(72256),h=n(4842),d=function(t){function e(e,n,r,o){var i=t.call(this)||this;i._id=e,i._startTimeStamp=n,i._duration=r,i._parent=o,i._sceneObjectId=i.disposeVar(new c.SceneObjectFromId(i._id));var s=function(){var t;if(i.player){var e=i._parent.currentTime,n=(void 0===e?0:e)-i._startTimeStamp;i.player.currentTime=(0,p.clamp)(n,0,i._duration)*(null!==(t=i.player.speed)&&void 0!==t?t:1)}};return s(),i.dispose(i._parent.currentTimeChanged.disposableOn(s)),i.dispose(i.playerChanged.disposableOn(s)),i}return o(e,t),Object.defineProperty(e.prototype,"player",{get:function(){return this._sceneObjectId.sceneObject instanceof g?this._sceneObjectId.sceneObject:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playerChanged",{get:function(){return this._sceneObjectId.sceneObjectChanged},enumerable:!1,configurable:!0}),e}(l.Destroyable),y='用来配置子播放器，它是一个数组形式，数组的每个元素仍然是一个数组，形式是[子播放器的ID, 起始时间, 持续时间]。  \n注意时间的单位是毫秒。  \n示例如下：  \n```\n[\n    [\n        "9591a729-d90b-40d0-8d1b-f1ac4b5263c1",\n        0,\n        5000\n    ],\n    [\n        "76ad204f-58c6-4639-8713-ecfab6783b0f",\n        7000.002288818359,\n        5000\n    ]\n]\n```\n',g=function(t){function e(n){var r=t.call(this,n)||this;r._ratio=r.disposeVar((0,l.react)(0)),r._subPlayers=r.disposeVar(new l.ObservableArray);var o,i=r.disposeVar(new f.Player);(o=function(){var t;i.loop=null!==(t=r.loop)&&void 0!==t?t:e.defaults.loop})(),r.dispose(r.loopChanged.disposableOn(o)),(o=function(){var t;(null!==(t=r.loop)&&void 0!==t?t:e.defaults.loop)!==i.loop&&(r.loop=i.loop)})(),r.dispose(i.loopChangedEvent.disposableOn(o)),(o=function(){var t;i.currentTime=null!==(t=r.currentTime)&&void 0!==t?t:e.defaults.currentTime})(),r.dispose(r.currentTimeChanged.disposableOn(o)),(o=function(){var t;(null!==(t=r.currentTime)&&void 0!==t?t:e.defaults.currentTime)!==i.currentTime&&(r.currentTime=i.currentTime)})(),r.dispose(i.currentTimeChangedEvent.disposableOn(o)),(o=function(){var t;i.duration=null!==(t=r.duration)&&void 0!==t?t:e.defaults.duration})(),r.dispose(r.durationChanged.disposableOn(o)),(o=function(){var t;(null!==(t=r.duration)&&void 0!==t?t:e.defaults.duration)!==i.duration&&(r.duration=i.duration)})(),r.dispose(i.durationChangedEvent.disposableOn(o)),(o=function(){var t;i.speed=null!==(t=r.speed)&&void 0!==t?t:e.defaults.speed})(),r.dispose(r.speedChanged.disposableOn(o)),(o=function(){var t;(null!==(t=r.speed)&&void 0!==t?t:e.defaults.speed)!==i.speed&&(r.speed=i.speed)})(),r.dispose(i.speedChangedEvent.disposableOn(o)),(o=function(){var t;i.playing=null!==(t=r.playing)&&void 0!==t?t:e.defaults.playing})(),r.dispose(r.playingChanged.disposableOn(o)),(o=function(){var t;(null!==(t=r.playing)&&void 0!==t?t:e.defaults.playing)!==i.playing&&(r.playing=i.playing)})(),r.dispose(i.playingChangedEvent.disposableOn(o));var c=function(){var t,n,o=null!==(t=r.duration)&&void 0!==t?t:e.defaults.duration;o>0&&(r._ratio.value=(null!==(n=r.currentTime)&&void 0!==n?n:e.defaults.currentTime)/o)};c();var p=r.disposeVar((0,f.createNextAnimateFrameEvent)(r.currentTimeChanged,r.durationChanged));r.dispose(p.disposableOn(c)),r.dispose((function(){for(var t=r._subPlayers.length,e=0;e<t;++e)r._subPlayers.get(e).destroy();r._subPlayers.length=0}));var h=function(){var t,e,n;try{for(var o=s(r._subPlayers),i=o.next();!i.done;i=o.next())i.value.destroy()}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}if(r._subPlayers.length=0,r.channels){var c=r.channels.map((function(t){var e=a(t,3),n=e[0],o=e[1],i=e[2];return new d(n,o,i,r)}));(n=r._subPlayers).splice.apply(n,u([0,0],a(c),!1))}};return h(),r.dispose(r.channelsChanged.disposableOn(h)),r}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"Player"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ratio",{get:function(){return this._ratio.value},set:function(t){var n;Math.abs(this._ratio.value-t)<.001||(this.currentTime=(null!==(n=this.duration)&&void 0!==n?n:e.defaults.duration)*t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ratioChanged",{get:function(){return this._ratio.changed},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(n){return u(u([],a(t.prototype.getProperties.call(this,n)),!1),[new c.GroupProperty("通用","通用",[new c.PlayerProperty("播放器","播放器",[this,"playing"],[this,"ratio"],[this,"loop"],e.defaults),new c.BooleanProperty("是否播放","是否播放",!0,!1,[this,"playing"],e.defaults.playing),new c.BooleanProperty("是否循环","是否循环",!0,!1,[this,"loop"],e.defaults.loop),new c.NumberProperty("当前时间","当前时间",!0,!1,[this,"currentTime"],e.defaults.currentTime),new c.NumberProperty("总时长","总时长",!0,!1,[this,"duration"],e.defaults.duration),new c.NumberProperty("速度","速度",!0,!1,[this,"speed"],e.defaults.speed),new c.JsonProperty("Channels","Channels",!0,!1,[this,"channels"],[],y)])],!1)},n=e,e.type=n.register("Player",n,{chsName:"播放器",tags:["MiscObjects"],description:"播放器"}),e.defaults=i(i({},h.ESSceneObject.defaults),{loop:!1,currentTime:0,duration:3e3,speed:1,playing:!1,channels:!0,ratio:0}),e.channelsReadMe=y,e}(h.ESSceneObject);e.Player=g,function(t){t.createDefaultProps=function(){return i({loop:void 0,currentTime:void 0,duration:void 0,speed:void 0,playing:void 0,channels:(0,l.reactDeepArrayWithUndefined)(void 0,(function(t,e){return null==t?void 0:t.every((function(t,n){return t===e[n]}))}),(function(t){return u([],a(t),!1)}))},h.ESSceneObject.createDefaultProps())}}(g=e.Player||(e.Player={})),e.Player=g,(0,l.extendClassProps)(g.prototype,g.createDefaultProps)},77514:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.PlayerTracker=void 0;var u=n(6018),c=n(81425),l=n(4842),p=n(21217),f=function(t){function e(e){var n,r=t.call(this,e)||this;return r._tracker=r.disposeVar(new p.PropertyTracker),r._tracker.sourcePropertyName="ratio",r._tracker.evalMode="Immediate",r.dispose((0,c.track)([r._tracker,"enabled"],[r,"enabled"])),(n=function(){r._tracker.sourceObjId=r.playerId})(),r.dispose(r.playerIdChanged.disposableOn(n)),(n=function(){r._tracker.targetObjId=r.targetObjId})(),r.dispose(r.targetObjIdChanged.disposableOn(n)),(n=function(){var t;r._tracker.targetPropertyName=null!==(t=r.targetPropertyName)&&void 0!==t?t:"ratio"})(),r.dispose(r.targetPropertyNameChanged.disposableOn(n)),r}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"PlayerTracker"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return i(i({},e.createDefaultProps()),d)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tracker",{get:function(){return this._tracker},enumerable:!1,configurable:!0}),e.prototype.forceExecute=function(){this._tracker.forceExecute()},e.prototype.getProperties=function(n){var r=this;return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new u.GroupProperty("通用","通用",[new u.BooleanProperty("是否可用","是否可用",!0,!1,[this,"enabled"]),new u.StringProperty("播放器ID","播放器(被跟踪的对象，监测该对象的属性变化)的ID",!0,!1,[this,"playerId"]),new u.StringProperty("目标对象ID","目标对象(跟踪的对象，该对象属性会被修改)的ID",!0,!1,[this,"targetObjId"]),new u.StringProperty("目标对象属性名","目标对象属性名",!0,!1,[this,"targetPropertyName"],"ratio"),new u.EvalStringProperty("函数","如果有值，则表示使用该函数进行赋值",!0,!1,[this,"evalFuncStr"],e.defaultEvalFuncStr,e.evalFuncStrReadMe),new u.BooleanProperty("调试模式","调试模式下会在控制台输出调试信息，默认为false",!0,!1,[this,"debug"],!1),new u.FunctionProperty("强制执行","强制执行",[],(function(){return r.forceExecute()}),[])])],!1)},n=e,e.type=n.register("PlayerTracker",n,{chsName:"播放器跟踪器",tags:["MiscObjects"],description:"播放器跟踪器"}),e.defaultEvalFuncStr="(ratio) => {\n    // sourceValue为被监测对象的属性值\n    // 该函数的返回值为目前属性值，需要注意目标属性值的类型必须符合目标属性的要求。\n    // 例如xxx.position的数值可能是[116.39, 39.9, 100]这样的形式，那么您不能return一个100，而是也需要返回一个包含三个元素的数组。\n    return ratio;\n}",e.evalFuncStrReadMe="### 使用示例\n```\n(ratio) => {\n    // sourceValue为被监测对象的属性值\n    // 该函数的返回值为目前属性值，需要注意目标属性值的类型必须符合目标属性的要求。\n    // 例如xxx.position的数值可能是[116.39, 39.9, 100]这样的形式，那么您不能return一个100，而是也需要返回一个包含三个元素的数组。\n    return ratio;\n};\n```",e}(l.ESSceneObject);e.PlayerTracker=f;var h={debug:{defaultValue:void 0,componentName:"tracker",originPropName:"debug"},evalFuncStr:{defaultValue:void 0,componentName:"tracker",originPropName:"evalFuncStr"}},d=(0,u.getDefaultComponentProps)(h);(0,u.extendComponentProps)(f.prototype,h),function(t){t.createDefaultProps=function(){return i({enabled:void 0,playerId:void 0,targetObjId:void 0,targetPropertyName:void 0},l.ESSceneObject.createDefaultProps())}}(f=e.PlayerTracker||(e.PlayerTracker={})),e.PlayerTracker=f,(0,c.extendClassProps)(f.prototype,f.createDefaultProps)},88881:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.PropertyBinding=void 0;var u=n(6018),c=n(81425),l=n(4842),p=n(21217),f=function(t){function e(e){var n,r=t.call(this,e)||this;return r._sourceTracker=r.disposeVar(new p.PropertyTracker),r._targetTracker=r.disposeVar(new p.PropertyTracker),r.dispose((0,c.track)([r._sourceTracker,"enabled"],[r,"enabled"])),r.dispose((0,c.track)([r._targetTracker,"enabled"],[r,"enabled"])),(n=function(){r._sourceTracker.sourceObjId=r.sourceObjId,r._targetTracker.targetObjId=r.sourceObjId})(),r.dispose(r.sourceObjIdChanged.disposableOn(n)),(n=function(){r._sourceTracker.targetObjId=r.targetObjId,r._targetTracker.sourceObjId=r.targetObjId})(),r.dispose(r.targetObjIdChanged.disposableOn(n)),(n=function(){r._sourceTracker.sourcePropertyName=r.sourcePropertyName,r._targetTracker.targetPropertyName=r.sourcePropertyName})(),r.dispose(r.sourcePropertyNameChanged.disposableOn(n)),(n=function(){r._sourceTracker.targetPropertyName=r.targetPropertyName,r._targetTracker.sourcePropertyName=r.targetPropertyName})(),r.dispose(r.targetPropertyNameChanged.disposableOn(n)),r}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"PropertyBinding"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return i(i({},e.createDefaultProps()),d)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sourceTracker",{get:function(){return this._sourceTracker},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"targetTracker",{get:function(){return this._targetTracker},enumerable:!1,configurable:!0}),e.prototype.forceExecute=function(){this._sourceTracker.forceExecute()},e.prototype.getProperties=function(e){var n=this;return a(a([],s(t.prototype.getProperties.call(this,e)),!1),[new u.GroupProperty("通用","通用",[new u.BooleanProperty("是否可用","是否可用",!0,!1,[this,"enabled"]),new u.StringProperty("源对象ID","源对象(被跟踪的对象，监测该对象的属性变化)的ID",!0,!1,[this,"sourceObjId"]),new u.StringProperty("源对象属性名","源对象(被跟踪的对象，监测该对象的属性变化)的属性名称",!0,!1,[this,"sourcePropertyName"]),new u.StringProperty("目标对象ID","目标对象(跟踪的对象，该对象属性会被修改)的ID",!0,!1,[this,"targetObjId"]),new u.StringProperty("目标对象属性名","目标对象(跟踪的对象，该对象属性会被修改)的属性名称",!0,!1,[this,"targetPropertyName"]),new u.BooleanProperty("源对象调试模式","调试模式下会在控制台输出调试信息，默认为false",!0,!1,[this,"sourceDebug"],!1),new u.BooleanProperty("目标对象调试模式","调试模式下会在控制台输出调试信息，默认为false",!0,!1,[this,"targetDebug"],!1),new u.FunctionProperty("强制执行","强制执行",[],(function(){return n.forceExecute()}),[])])],!1)},n=e,e.type=n.register("PropertyBinding",n,{chsName:"属性双向绑定",tags:["MiscObjects"],description:"属性双向绑定，源对象的属性值作为初始值！"}),e}(l.ESSceneObject);e.PropertyBinding=f;var h={sourceDebug:{defaultValue:void 0,componentName:"sourceTracker",originPropName:"debug"},targetDebug:{defaultValue:void 0,componentName:"targetTracker",originPropName:"debug"}},d=(0,u.getDefaultComponentProps)(h);(0,u.extendComponentProps)(f.prototype,h),function(t){t.createDefaultProps=function(){return i({enabled:void 0,sourceObjId:void 0,sourcePropertyName:void 0,targetObjId:void 0,targetPropertyName:void 0},l.ESSceneObject.createDefaultProps())}}(f=e.PropertyBinding||(e.PropertyBinding={})),e.PropertyBinding=f,(0,c.extendClassProps)(f.prototype,f.createDefaultProps)},21217:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.PropertyTracker=void 0;var u=n(6018),c=n(81425),l=n(4842),p=n(94898),f=function(t){function e(e){var n=t.call(this,e)||this;n._watcher=n.disposeVar(new p.Watcher);var r=function(){if(n.sourceObjId&&n.sourcePropertyName&&n.targetObjId){var t=[[n.sourceObjId,n.sourcePropertyName+"Changed"],[n.targetObjId,""]];n._watcher.objIdAndPropChangedNames=t}else n._watcher.objIdAndPropChangedNames=[]};r();var o=n.disposeVar((0,c.createNextAnimateFrameEvent)(n.sourceObjIdChanged,n.sourcePropertyNameChanged,n.targetObjIdChanged));n.dispose(o.disposableOn(r));var i=n.disposeVar((0,c.react)(void 0)),a=function(){try{i.value=n.evalFuncStr&&Function('"use strict";return ('+n.evalFuncStr+")")()}catch(t){console.error("evalFunc get error! ".concat(t)),i.value=void 0}};return a(),n.dispose(n.evalFuncStrChanged.disposableOn(a)),n._watcher.evalFunc=function(t){var e=s(t,2),r=e[0],o=e[1];if(r&&o&&n.sourcePropertyName&&n.targetPropertyName)if(Reflect.has(r,n.sourcePropertyName))if(Reflect.has(o,n.targetPropertyName)){var a=r[n.sourcePropertyName];n.evalFunc&&(a=n.evalFunc(a)),i.value&&(a=i.value(a)),o[n.targetPropertyName]=a}else console.warn("!Reflect.has(targetObj, this.targetPropertyName)");else console.warn("!Reflect.has(sourceObj, this.sourcePropertyName)")},n.dispose((0,c.track)([n._watcher,"enabled"],[n,"enabled"])),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"PropertyTracker"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return i(i({},e.createDefaultProps()),y)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"watcher",{get:function(){return this._watcher},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"evalFunc",{get:function(){return this._evalFunc},set:function(t){this._evalFunc=t},enumerable:!1,configurable:!0}),e.prototype.forceExecute=function(){this._watcher.forceExecute()},e.prototype.getProperties=function(n){var r=this;return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new u.GroupProperty("通用","通用",[new u.BooleanProperty("是否可用","是否可用",!0,!1,[this,"enabled"]),new u.StringProperty("源对象ID","源对象(被跟踪的对象，监测该对象的属性变化)的ID",!0,!1,[this,"sourceObjId"]),new u.StringProperty("源对象属性名","源对象(被跟踪的对象，监测该对象的属性变化)的属性名称",!0,!1,[this,"sourcePropertyName"]),new u.StringProperty("目标对象ID","目标对象(跟踪的对象，该对象属性会被修改)的ID",!0,!1,[this,"targetObjId"]),new u.StringProperty("目标对象属性名","目标对象(跟踪的对象，该对象属性会被修改)的属性名称",!0,!1,[this,"targetPropertyName"]),new u.EvalStringProperty("函数","如果有值，则表示使用该函数进行赋值",!0,!1,[this,"evalFuncStr"],e.defaultEvalFuncStr,e.evalFuncStrReadMe),new u.EnumProperty("执行模式","事件出发后，是即时执行，还是下一帧再执行，即使执行性能损耗大，下一帧执行损耗小",!0,!1,[this,"evalMode"],[["即时","Immediate"],["下一帧","NextAnimateFrame"]],"Immediate"),new u.BooleanProperty("对象存在才执行","默认为true，只有在所有场景对象都存在时才执行",!0,!1,[this,"evalOnlyWhenObjsAllExist"]),new u.BooleanProperty("调试模式","调试模式下会在控制台输出调试信息，默认为false",!0,!1,[this,"debug"],!1),new u.FunctionProperty("强制执行","强制执行",[],(function(){return r.forceExecute()}),[])])],!1)},n=e,e.type=n.register("PropertyTracker",n,{chsName:"属性跟踪器",tags:["MiscObjects"],description:"监测源对象的属性变化，修改目标对象的属性。"}),e.defaultEvalFuncStr="(sourceValue) => {\n    // sourceValue为被监测对象的属性值\n    // 该函数的返回值为目前属性值，需要注意目标属性值的类型必须符合目标属性的要求。\n    // 例如xxx.position的数值可能是[116.39, 39.9, 100]这样的形式，那么您不能return一个100，而是也需要返回一个包含三个元素的数组。\n    return sourceValue;\n}",e.evalFuncStrReadMe="### 使用示例\n```\n(sourceValue) => {\n    // sourceValue为被监测对象的属性值\n    // 该函数的返回值为目前属性值，需要注意目标属性值的类型必须符合目标属性的要求。\n    // 例如xxx.position的数值可能是[116.39, 39.9, 100]这样的形式，那么您不能return一个100，而是也需要返回一个包含三个元素的数组。\n    return sourceValue;\n};\n```",e}(l.ESSceneObject);e.PropertyTracker=f;var h=p.Watcher.createDefaultProps(),d={evalMode:{defaultValue:h.evalMode,componentName:"watcher",originPropName:"evalMode"},evalOnlyWhenObjsAllExist:{defaultValue:h.evalOnlyWhenObjsAllExist,componentName:"watcher",originPropName:"evalOnlyWhenObjsAllExist"},debug:{defaultValue:h.debug,componentName:"watcher",originPropName:"debug"}},y=(0,u.getDefaultComponentProps)(d);(0,u.extendComponentProps)(f.prototype,d),function(t){t.createDefaultProps=function(){return i({enabled:void 0,sourceObjId:void 0,sourcePropertyName:void 0,targetObjId:void 0,targetPropertyName:void 0,evalFuncStr:void 0},l.ESSceneObject.createDefaultProps())}}(f=e.PropertyTracker||(e.PropertyTracker={})),e.PropertyTracker=f,(0,c.extendClassProps)(f.prototype,f.createDefaultProps)},91781:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},u=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},c=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.ScriptLoader=void 0;var l=n(6018),p=n(81425),f=n(4842),h=function(t){function e(e){var n=t.call(this,e)||this;return n._loaded=!1,n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"ScriptLoader"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),e.prototype.load=function(){return s(this,void 0,void 0,(function(){var t,e;return a(this,(function(n){switch(n.label){case 0:if(this._loaded)return[2];if(this._loaded=!0,!(t=this.uri&&l.SceneObject.context.getStrFromEnv(this.uri)))return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,(0,p.loadJs)(t)];case 2:return n.sent(),console.log("脚本加载器(".concat(this.name,")加载成功！uri: ").concat(this.uri)),[3,4];case 3:throw e=n.sent(),console.log("脚本加载器(".concat(this.name,")加载失败！uri: ").concat(this.uri," error: ").concat(e)),e;case 4:return[3,6];case 5:case 6:return[2]}}))}))},e.prototype.reload=function(){return s(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return this._loaded=!1,[4,this.load()];case 1:return[2,t.sent()]}}))}))},e.prototype.getProperties=function(e){var n=this;return c(c([],u(t.prototype.getProperties.call(this,e)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("是否启用","是否启用",!0,!1,[this,"enabled"],!1),new l.StringProperty("脚本地址","脚本地址",!0,!1,[this,"uri"]),new l.FunctionProperty("执行脚本","执行脚本，如果已经执行过，则不再执行",[],(function(){return n.load()}),[]),new l.FunctionProperty("强制重新执行脚本","强制重新执行脚本",[],(function(){return n.reload()}),[])])],!1)},n=e,e.type=n.register("ScriptLoader",n,{chsName:"脚本加载器",tags:["MiscObjects"],description:"ScriptLoader"}),e}(f.ESSceneObject);e.ScriptLoader=h,function(t){t.createDefaultProps=function(){return i({enabled:void 0,uri:void 0},f.ESSceneObject.createDefaultProps())}}(h=e.ScriptLoader||(e.ScriptLoader={})),e.ScriptLoader=h,(0,p.extendClassProps)(h.prototype,h.createDefaultProps)},3543:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},u=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},c=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},l=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.ScriptsLoader=void 0;var p=n(6018),f=n(81425),h=n(4842),d=function(t){function e(e){var n=t.call(this,e)||this;return n._loaded=!1,n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"ScriptsLoader"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),e.prototype.load=function(){return s(this,void 0,void 0,(function(){var t,e,n,r,o,i,s,c;return a(this,(function(a){switch(a.label){case 0:if(this._loaded)return[2];if(this._loaded=!0,!this.uris)return console.warn("多脚本夹在其中uris为undefined！无法加载脚本"),[2];a.label=1;case 1:a.trys.push([1,10,11,12]),t=u(this.uris),e=t.next(),a.label=2;case 2:if(e.done)return[3,9];if(n=e.value,!(r=p.SceneObject.context.getStrFromEnv(n)))return[3,7];a.label=3;case 3:return a.trys.push([3,5,,6]),[4,(0,f.loadJs)(r)];case 4:return a.sent(),console.log("脚本加载器(".concat(this.name,")加载成功！uri: ").concat(n)),[3,6];case 5:throw o=a.sent(),console.log("脚本加载器(".concat(this.name,")加载失败！uri: ").concat(n," error: ").concat(o)),o;case 6:return[3,8];case 7:return[2];case 8:return e=t.next(),[3,2];case 9:return[3,12];case 10:return i=a.sent(),s={error:i},[3,12];case 11:try{e&&!e.done&&(c=t.return)&&c.call(t)}finally{if(s)throw s.error}return[7];case 12:return[2]}}))}))},e.prototype.reload=function(){return s(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return this._loaded=!1,[4,this.load()];case 1:return[2,t.sent()]}}))}))},e.prototype.getProperties=function(e){var n=this;return l(l([],c(t.prototype.getProperties.call(this,e)),!1),[new p.GroupProperty("通用","通用",[new p.BooleanProperty("是否启用","是否启用",!0,!1,[this,"enabled"],!1),new p.StringsProperty("脚本地址","脚本地址",!0,!1,[this,"uris"]),new p.FunctionProperty("执行脚本","执行脚本，如果已经执行过，则不再执行",[],(function(){return n.load()}),[]),new p.FunctionProperty("强制重新执行脚本","强制重新执行脚本",[],(function(){return n.reload()}),[])])],!1)},n=e,e.type=n.register("ScriptsLoader",n,{chsName:"多脚本加载器",tags:["MiscObjects"],description:"ScriptsLoader"}),e}(h.ESSceneObject);e.ScriptsLoader=d,function(t){t.createDefaultProps=function(){return i({enabled:void 0,uris:void 0},h.ESSceneObject.createDefaultProps())}}(d=e.ScriptsLoader||(e.ScriptsLoader={})),e.ScriptsLoader=d,(0,f.extendClassProps)(d.prototype,d.createDefaultProps)},90946:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;var u=n(81425),c=n(15635),l=n(6018),p=n(1245),f=n(4842),h=function(t){function e(e){var n=t.call(this,e)||this;return n._flyToEvent=n.disposeVar(new u.Event),n._resetWithCurrentCameraEvent=n.disposeVar(new u.Event),n._captureEvent=n.disposeVar(new u.Event),n._sPositionEditing=n.disposeVar(new p.PositionEditing([n,"position"],[n,"positionEditing"],n.components)),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"View"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoJson",{get:function(){return(0,c.getGeoJson)("Point",this.position,this.name)},set:function(t){var e=(0,c.setGeoJson)(t);this.name=e.name,this.position=e.position},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoJsonStr",{get:function(){try{return JSON.stringify(this.geoJson,void 0,"  ")}catch(t){return""}},set:function(t){if(t)try{this.geoJson=JSON.parse(t)}catch(t){}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flyToEvent",{get:function(){return this._flyToEvent},enumerable:!1,configurable:!0}),e.prototype.flyTo=function(t){this._flyToEvent.emit(t)},Object.defineProperty(e.prototype,"resetWithCurrentCameraEvent",{get:function(){return this._resetWithCurrentCameraEvent},enumerable:!1,configurable:!0}),e.prototype.resetWithCurrentCamera=function(t){void 0===t&&(t=e.ResetFlag.Position|e.ResetFlag.Rotation|e.ResetFlag.ViewDistance),this._resetWithCurrentCameraEvent.emit(t)},e.prototype.execOnCreating=function(){this.resetWithCurrentCamera()},Object.defineProperty(e.prototype,"captureEvent",{get:function(){return this._captureEvent},enumerable:!1,configurable:!0}),e.prototype.capture=function(t,e,n){this._captureEvent.emit(t,e,n)},Object.defineProperty(e.prototype,"sPositionEditing",{get:function(){return this._sPositionEditing},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(n){var r=this;return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new l.GroupProperty("通用","通用",[new l.BooleanProperty("是否正在飞行","是否正在飞行",!0,!1,[this,"enabled"],e.defaults.enabled),new l.BooleanProperty("是否显示辅助器","是否显示辅助器.",!0,!1,[this,"show"],e.defaults.show),new l.BooleanProperty("默认视角","是否为默认视角，默认为false, 场景文件加载后立即执行飞入操作.",!0,!1,[this,"default"],e.defaults.default),new l.PositionProperty("位置","经度纬度高度，度为单位",!0,!1,[this,"position"],e.defaults.position),new l.BooleanProperty("位置编辑","位置编辑",!0,!1,[this,"positionEditing"],e.defaults.positionEditing),new l.RotationProperty("姿态","偏航俯仰翻转，度为单位",!0,!1,[this,"rotation"],e.defaults.rotation),new l.NumberProperty("视距","视距",!0,!1,[this,"viewDistance"],e.defaults.viewDistance),new l.NumberProperty("飞行耗时","过渡时间",!0,!1,[this,"duration"],e.defaults.duration),new l.FunctionProperty("重置","重置",["number"],(function(t){return r.resetWithCurrentCamera(t)}),[7]),new l.FunctionProperty("重置姿态","重置姿态",[],(function(){return r.resetWithCurrentCamera(2)}),[]),new l.FunctionProperty("重置位置","重置位置",[],(function(){return r.resetWithCurrentCamera(1)}),[]),new l.FunctionProperty("飞入","飞入",["number"],(function(t){return r.flyTo(t)}),[1e3]),new l.NonreactiveJsonStringProperty("geoJson","生成GeoJSON数据。",!1,!1,(function(){return r.geoJsonStr}),(function(t){return t&&(r.geoJsonStr=t)}))])],!1)},n=e,e.type=n.register("View",n,{chsName:"视角",tags:["MiscObjects","_ES_Misc_NoEditingOnCreating","_ES_Impl_Cesium"],description:"可自定义的视角管理器。"}),e.ResetFlag={Position:1,Rotation:2,ViewDistance:4},e.defaults=i(i({},f.ESSceneObject.defaults),{thumbnailWidth:64,thumbnailHeight:64,enabled:!1,show:!1,position:[116.39,39.9,100],positionEditing:!1,rotation:[0,0,0],viewDistance:0,duration:1e3,default:!1,thumbnail:""}),e}(f.ESSceneObject);e.View=h,function(t){t.createDefaultProps=function(){return i({enabled:void 0,position:(0,u.reactArrayWithUndefined)(void 0),positionEditing:void 0,show:void 0,rotation:(0,u.reactArrayWithUndefined)(void 0),viewDistance:void 0,duration:void 0,default:void 0,thumbnail:void 0,cameraShow:void 0},f.ESSceneObject.createDefaultProps())}}(h=e.View||(e.View={})),e.View=h,(0,u.extendClassProps)(h.prototype,h.createDefaultProps)},38771:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},u=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},c=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},l=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCollection=void 0;var p=n(81425),f=n(72256),h=n(6018),d=n(4842),y=n(1245),g=n(89147),v=n(39208),b=function(t){function e(n){var r=t.call(this,n)||this;r._currentViewIndex=r.disposeVar((0,p.react)(-1)),r._viewWrappers=r.disposeVar(new p.ObservableArray),r._currentViewWrapper=r.disposeVar((0,p.react)(void 0)),r._container=r.disposeVar((0,p.react)(void 0));var i=r.disposeVar(new v.CustomDiv);r.dispose(r.components.disposableAdd(i)),r.dispose((0,p.bind)([i,"show"],[r,"showUI"])),r.dispose((0,p.bind)([r,"show"],[r,"showUI"])),r.dispose((0,p.bind)([i,"container"],[r,"container"])),r.dispose((0,p.bind)([i,"containerId"],[r,"containerId"]));var u=r,c=function(){i.instanceClass=function(t){function n(n,r,o){var i=t.call(this)||this;i._subContainer=n;var s=document.createElement("div");i._subContainer.appendChild(s),i.dispose((function(){return i._subContainer.removeChild(s)}));var a=function(){var t,n;s.style.cssText=null!==(t=e.defaults.cssText+u.cssText)&&void 0!==t?t:"",s.style.display=(null!==(n=r.show)&&void 0!==n?n:e.defaults.showUI)?"block":"none"};a();var c,l,f=i.disposeVar((0,p.createNextAnimateFrameEvent)(u.cssTextChanged,r.showChanged));return i.dispose(f.disposableOn(a)),c=document.createElement("div"),s.appendChild(c),c.style.display="flex",c.style.justifyContent="space-around",c.style.alignItems="center",(0,y.setFuncBtn)(u,c),l=document.createElement("div"),s.appendChild(l),l.style.display="flex",l.style.justifyContent="flex-start",l.style.alignItems="center",l.style.width="525px",l.style.height="90px",l.style.margin="15px 0 0 20px",l.style.overflowX="auto",(0,y.setThumbnailList)(u,l),i}return o(n,t),n}(p.Destroyable)};c(),r.dispose(r.containerChanged.disposableOn(c));var l=r.disposeVar((0,f.createProcessingFromAsyncFunc)((function(t){return s(r,void 0,void 0,(function(){var n;return a(this,(function(r){switch(r.label){case 0:return this.flyToNextView()?[4,t.promise((0,f.sleep)(null!==(n=this.intervalTime)&&void 0!==n?n:e.defaults.intervalTime))]:[3,3];case 1:r.sent(),r.label=2;case 2:return[3,0];case 3:return this.playing=!1,[2]}}))}))})));return(c=function(){r.playing?l.restart():l.cancel()})(),r.dispose(r.playingChanged.disposableOn(c)),(c=function(){r._currentViewWrapper.value&&-1===r._viewWrappers.indexOf(r._currentViewWrapper.value)&&(r._currentViewWrapper.value=void 0)})(),r.dispose(r._viewWrappers.changedEvent.disposableOn(c)),(c=function(){var t=r._currentViewWrapper.value;r._currentViewIndex.value=t?r._getIndex(t):-1})(),r.dispose(r._viewWrappers.changedEvent.disposableOn(c)),r.dispose(r._currentViewWrapper.changed.disposableOn(c)),r.dispose((function(){r.clearAllViews()})),r}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"ViewCollection"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return i(i({},this._innerGetJson()),{views:this.views})},set:function(t){this._innerSetJson(t),this.views=t.views},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentViewIndex",{get:function(){return this._currentViewIndex.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentViewIndexChanged",{get:function(){return this._currentViewIndex.changed},enumerable:!1,configurable:!0}),e.prototype.emitViewsWarpper=function(){this._viewWrappers.changedEvent.emit(this._viewWrappers)},Object.defineProperty(e.prototype,"container",{get:function(){return this._container.value},set:function(t){this._container.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"containerChanged",{get:function(){return this._container.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"views",{get:function(){return(0,y.map)(this._viewWrappers,(function(t){return t.viewInfo}))},set:function(t){var e,n;if(t.length===this._viewWrappers.length){var r=this._viewWrappers;if(t.every((function(t,e){var n=r.get(e).view;return t.viewDistance===n.viewDistance&&t.duration===n.duration&&(0,y.equalsN3)(t.position,n.position)&&(0,y.equalsN3)(t.rotation,n.rotation)&&t.thumbnail===n.thumbnail})))return}this.clearAllViews();try{for(var o=u(t),i=o.next();!i.done;i=o.next()){var s=i.value;this._viewWrappers.push(new g.ViewWrapper(this,s))}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewsChanged",{get:function(){return this._viewWrappers.changedEvent},enumerable:!1,configurable:!0}),e.prototype._getIndex=function(t){return this._viewWrappers.indexOf(t)},e.prototype.appendView=function(){this._viewWrappers.push(new g.ViewWrapper(this))},e.prototype.insertView=function(t){this._viewWrappers.length+1<=t||t<0?console.error("this._views.length <= index || index < 0"):this._viewWrappers.splice(t,0,new g.ViewWrapper(this))},e.prototype.setCurrentView=function(t){if(t>=this._viewWrappers.length||t<0)return console.warn("index >= this._viewWrappers.length || index < 0"),!1;var e=this._viewWrappers.get(t);return this._currentViewWrapper.value=e,!0},e.prototype.resetView=function(t){if(t>=this._viewWrappers.length||t<0)console.warn("index >= this._viewWrappers.length || index < 0");else{var e=this._viewWrappers.get(t);e.view.resetWithCurrentCamera(),e.view.capture()}},e.prototype.flyToView=function(t){if(this.setCurrentView(t)){if(!this._currentViewWrapper.value)throw new Error("this._currentViewWrapper.value");this._currentViewWrapper.value.view.flyTo()}},e.prototype.flyToPrevView=function(){var t,n=this._currentViewWrapper.value;if(!n)return this.flyToView(0),!0;var r=this._getIndex(n);return(null!==(t=this.loop)&&void 0!==t?t:e.defaults.loop)?(this.flyToView((this._viewWrappers.length+r-1)%this._viewWrappers.length),!0):!(r-1<0||(this.flyToView(r-1),0))},e.prototype.flyToNextView=function(){var t,n=this._currentViewWrapper.value;if(!n)return this.flyToView(0),!0;var r=this._getIndex(n);return(null!==(t=this.loop)&&void 0!==t?t:e.defaults.loop)?(this.flyToView((r+1)%this._viewWrappers.length),!0):!(r+1<this._viewWrappers.length||(this.flyToView(r+1),0))},e.prototype.stop=function(){this._currentViewWrapper.value=void 0,this.playing=!1},e.prototype.deleteView=function(t){t<0||t>=this._viewWrappers.length?console.warn("index < 0 || index >= this._viewWrappers.length"):(this._viewWrappers.get(t).destroy(),this._viewWrappers.splice(t,1))},e.prototype.deleteCurrentView=function(){var t=this._currentViewWrapper.value;if(t){var e=this._getIndex(t);-1!==e?this.deleteView(e):console.warn("index === -1")}else console.warn("!this._currentViewWrapper.value")},e.prototype.clearAllViews=function(){var t,e;try{for(var n=u(this._viewWrappers),r=n.next();!r.done;r=n.next())r.value.destroy()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this._viewWrappers.length=0},e.prototype.transitionImageUrl=function(t){return f.SceneObject.context.getStrFromEnv(t)},e.prototype.getProperties=function(n){var r=this;return l(l([],c(t.prototype.getProperties.call(this,n)),!1),[new h.GroupProperty("通用","通用",[new h.FunctionProperty("添加视角","添加视角",[],(function(){return r.appendView()}),[]),new h.FunctionProperty("插入视角","插入视角",[["number","index"]],(function(t){return r.insertView(t)}),[0]),new h.FunctionProperty("清空所有视角","清空所有视角",[],(function(){return r.clearAllViews()}),[]),new h.FunctionProperty("当前位置添加视角","当前位置添加视角",[],(function(){return r.insertView(r.currentViewIndex+1)}),[]),new h.BooleanProperty("是否显示","是否显示.",!0,!1,[this,"show"],e.defaults.show),new h.BooleanProperty("是否显示辅助器","是否显示辅助器.",!0,!1,[this,"showHelper"],e.defaults.showHelper),new h.BooleanProperty("是否显示辅助UI","是否显示辅助UI.",!0,!1,[this,"showUI"],e.defaults.showUI),new h.LongStringProperty("辅助UI的cssText","辅助UI的cssText",!0,!1,[this,"cssText"],e.defaults.cssText),new h.FunctionProperty("上一个视角","上一个视角",[],(function(){return r.flyToPrevView()}),[]),new h.FunctionProperty("下一个视角","下一个视角",[],(function(){return r.flyToNextView()}),[]),new h.FunctionProperty("飞入指定视角","飞入指定视角",["number"],(function(t){return r.flyToView(t)}),[0]),new h.FunctionProperty("设置当前视角","设置当前视角",["number"],(function(t){return r.setCurrentView(t)}),[0]),new h.FunctionProperty("删除当前视角","删除当前视角",[],(function(){return r.deleteCurrentView()}),[]),new h.FunctionProperty("删除指定视角","删除指定视角",["number"],(function(t){return r.deleteView(t)}),[0]),new h.FunctionProperty("重置视角","重置视角",["number"],(function(t){return r.resetView(t)}),[0]),new h.NumberProperty("当前序号","当前序号",!1,!0,[this,"currentViewIndex"]),new h.ViewPlayerProperty("播放","播放",[this,"playing"],(function(){return r.stop()}),[this,"loop"],e.defaults),new h.BooleanProperty("是否播放","是否播放.",!0,!1,[this,"playing"],e.defaults.playing),new h.FunctionProperty("停止","停止",[],(function(){return r.stop()}),[]),new h.BooleanProperty("是否循环","是否循环.",!0,!1,[this,"loop"],e.defaults.loop),new h.NumberProperty("间隔时间","间隔时间",!0,!1,[this,"intervalTime"],e.defaults.intervalTime),new h.JsonProperty("视角集合","类型为[viewDistance: number,duration: number, position: [longitude: number, latitude: number, height: number], rotation: [heading: number, pitch: number, roll: number] | undefined];",!0,!1,[this,"views"],e.defaults.views),new h.StringProperty("容器ID","容器的ID，如果设置，CustomDiv将自动放入容器，否则放入各个视口中。",!0,!1,[this,"containerId"],v.CustomDiv.defaults.containerId)])],!1)},n=e,e.type=n.register("ViewCollection",n,{chsName:"视角集合",tags:["MiscObjects"],description:"视角集合"}),e.defaults=i(i({},d.ESSceneObject.defaults),{loop:!0,playing:!1,intervalTime:5e3,duration:1e3,views:[],showUI:!1,showHelper:!1,cssText:y.defaultCssText,show:!1,loopClose:"${xe2-base-objects-script-dir}/xe2-assets/xe2-objects/city/images/loop.png",loopOpen:"${xe2-base-objects-script-dir}/xe2-assets/xe2-objects/city/images/loop_true.png",containerId:""}),e}(d.ESSceneObject);e.ViewCollection=b,function(t){t.createDefaultProps=function(){return i({playing:void 0,loop:void 0,intervalTime:void 0,show:void 0,showUI:void 0,cssText:void 0,showHelper:void 0,containerId:void 0},d.ESSceneObject.createDefaultProps())}}(b=e.ViewCollection||(e.ViewCollection={})),e.ViewCollection=b,(0,p.extendClassProps)(b.prototype,b.createDefaultProps)},61496:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCollectionTool=void 0;var u=n(4842),c=n(6018),l=n(81425),p=function(t){function e(e){return t.call(this,e)||this}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"ViewCollectionTool"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(n){return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new c.GroupProperty("通用","通用",[new c.BooleanProperty("show","是否显示",!0,!1,[this,"show"],e.defaults.show),new c.LongStringProperty("cssText","cssText",!0,!1,[this,"cssText"],e.defaults.cssText)])],!1)},n=e,e.type=n.register("ViewCollectionTool",n,{chsName:"视角集合UI",tags:["MiscObjects","_ES_Misc_NoEditingOnCreating","_ES_Impl_Cesium"],description:"ViewCollectionTool"}),e.defaults=i(i({},u.ESSceneObject.defaults),{show:!0,cssText:"position: absolute;\nleft: 0;\nbottom: 0;\nz-index: 100;\nwidth:100%;\nheight:300px;\nbackground-color:#00212b;\ncolor:#ffffff;\n"}),e}(u.ESSceneObject);e.ViewCollectionTool=p,function(t){t.createDefaultProps=function(){return i({show:void 0,cssText:void 0},u.ESSceneObject.createDefaultProps())}}(p=e.ViewCollectionTool||(e.ViewCollectionTool={})),e.ViewCollectionTool=p,(0,l.extendClassProps)(p.prototype,p.createDefaultProps)},89147:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ViewWrapper=void 0;var i=n(81425),s=n(90946),a=n(38771),u=function(t){function e(e,n){var r=t.call(this)||this;if(r._view=r.disposeVar(new s.View),r.dispose(e.components.disposableAdd(r._view)),n){var o=r._view,u=n;o.viewDistance=u.viewDistance,o.duration=u.duration,o.position=u.position,o.rotation=u.rotation,o.thumbnail=u.thumbnail}else r.dispose((0,i.nextAnimateFrame)((function(){r._view.resetWithCurrentCamera(),r._view.capture()})));var c=function(){var t;r._view.show=null!==(t=e.showHelper)&&void 0!==t?t:a.ViewCollection.defaults.showHelper};c(),r.dispose(e.showHelperChanged.disposableOn(c));var l=r._view,p=r.disposeVar((0,i.createNextAnimateFrameEvent)(l.viewDistanceChanged,l.durationChanged,l.positionChanged,l.rotationChanged,l.thumbnailChanged));return r.dispose(p.disposableOn((function(){return e.emitViewsWarpper()}))),r}return o(e,t),Object.defineProperty(e.prototype,"view",{get:function(){return this._view},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewInfo",{get:function(){var t=this._view;return{viewDistance:t.viewDistance,duration:t.duration,position:t.position,rotation:t.rotation,thumbnail:t.thumbnail}},enumerable:!1,configurable:!0}),e}(i.Destroyable);e.ViewWrapper=u},94898:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.Watcher=void 0;var u=n(6018),c=n(6018),l=n(81425),p=n(72256),f=n(4842),h=c.WatcherTools.WatcherObjects,d=function(t){function e(e){var n=t.call(this,e)||this;n._forceExecute=new l.Event;var r=n.disposeVar((0,l.react)(void 0)),o=function(){try{r.value=n.evalFuncStr&&Function('"use strict";return ('+n.evalFuncStr+")")(),n.debug&&console.log("evalFunc成功构建",r.value)}catch(t){console.error("evalFunc get error! ".concat(t)),r.value=void 0}};o(),n.dispose(n.evalFuncStrChanged.disposableOn(o));var i=function(t){n.enabled&&(n.debug&&console.log("执行evalFunc..."),n._evalFunc&&n._evalFunc(t),r.value&&r.value(t))},s=n.disposeVar(new p.ObjResettingWithEvent(n.objIdAndPropChangedNamesChanged,(function(){return n.objIdAndPropChangedNames.length>0?(n.debug&&console.log("监视对象发生变化，重新创建WatcherObjects"),new h(n.objIdAndPropChangedNames,n,i)):void 0})));return n.dispose(n._forceExecute.disposableOn((function(){var t;null===(t=s.obj)||void 0===t||t.forceExecute()}))),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"Watcher"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"evalFunc",{get:function(){return this._evalFunc},set:function(t){this._evalFunc=t},enumerable:!1,configurable:!0}),e.prototype.forceExecute=function(){this._forceExecute.emit()},e.prototype.getProperties=function(n){var r=this;return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new u.GroupProperty("通用","通用",[new u.BooleanProperty("是否可用","是否可用",!0,!1,[this,"enabled"]),new u.String2sProperty("被监视对象的ID和属性变更名集合","被监视对象的ID和属性变更名集合",!1,!1,[this,"objIdAndPropChangedNames"]),new u.EvalStringProperty("函数","如果有值，则表示使用该函数进行赋值",!0,!1,[this,"evalFuncStr"],e.defaultEvalFuncStr,e.evalFuncStrReadMe),new u.EnumProperty("执行模式","事件触发后，是即时执行，还是下一帧再执行，即使执行性能损耗大，下一帧执行损耗小",!0,!1,[this,"evalMode"],[["即时","Immediate"],["下一帧","NextAnimateFrame"]],"Immediate"),new u.BooleanProperty("对象存在才执行","默认为true，只有在所有场景对象都存在时才执行",!0,!1,[this,"evalOnlyWhenObjsAllExist"]),new u.BooleanProperty("调试模式","调试模式下会在控制台输出调试信息，默认为false",!0,!1,[this,"debug"],!1),new u.FunctionProperty("强制执行","强制执行",[],(function(){return r.forceExecute()}),[])])],!1)},n=e,e.type=n.register("Watcher",n,{chsName:"监视器",tags:["MiscObjects"],description:"用来对场景对象的属性进行监视，并执行相应的操作！"}),e.defaultEvalFuncStr="([/*obj0, obj1, obj2*/]) => {\n    console.log('hello world!');  \n}",e.evalFuncStrReadMe="### 播放器监测示例\n```\n([player, planePath, circlePath]) => {\n    planePath.currentDistance = planePath.geoPolylinePath.totalDistance * player.ratio;\n    circlePath.currentDistance = circlePath.geoPolylinePath.totalDistance * player.ratio;\n}\n```",e}(f.ESSceneObject);e.Watcher=d,function(t){t.createDefaultProps=function(){return i({enabled:void 0,objIdAndPropChangedNames:(0,l.reactDeepArray)([],(function(t,e){return t[0]===e[0]&&t[1]===e[1]}),(function(t){return[t[0],t[1]]})),evalFuncStr:void 0,evalMode:void 0,evalOnlyWhenObjsAllExist:void 0,debug:void 0},f.ESSceneObject.createDefaultProps())}}(d=e.Watcher||(e.Watcher={})),e.Watcher=d,(0,l.extendClassProps)(d.prototype,d.createDefaultProps)},40837:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),o(n(20463),e),o(n(39208),e),o(n(32668),e),o(n(68838),e),o(n(79159),e),o(n(77514),e),o(n(88881),e),o(n(21217),e),o(n(91781),e),o(n(3543),e),o(n(90946),e),o(n(94898),e),o(n(69005),e),o(n(38771),e),o(n(61496),e),o(n(89147),e)},16856:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.TestPropertyObject=void 0;var u=n(6018),c=n(81425),l=n(4842),p=n(50409),f=function(t){function e(e){var n=t.call(this,e)||this,r=function(){console.log("testStr: ".concat(n.testStr))};return r(),n.dispose(n.testStrChanged.disposableOn(r)),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"TestPropertyObject"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(n){return a(a([],s(t.prototype.getProperties.call(this,n)),!1),[new u.GroupProperty("number类","number类",[new u.NumberProperty("testNum","testNum",!0,!1,[this,"testNum"],100),new u.Number2Property("testNum2","testNum2",!0,!1,[this,"testNum2"],[1,2]),new u.Number3Property("testNum3","testNum3",!0,!1,[this,"testNum3"],[1,2,3]),new u.Number4Property("testNum4","testNum4",!0,!1,[this,"testNum4"],[1,2,3,4]),new u.NumbersProperty("testNums","testNums",!0,!1,[this,"testNums"],[1,2,3]),new u.Number2sProperty("testNum2s","testNum2s",!0,!1,[this,"testNum2s"],[[1,2],[3,4]]),new u.Number3sProperty("testNum3s","testNum3s",!0,!1,[this,"testNum3s"],[[1,2,3],[3,4,5]]),new u.Number4sProperty("testNum4s","testNum4s",!0,!1,[this,"testNum4s"],[[1,2,4,5],[3,4,4,5]]),new u.ColorProperty("rgba","rgbaColor.",!0,!1,[this,"rgbaColor"],[1,1,1,1]),new u.ColorRgbProperty("rgb","rgb.",!0,!1,[this,"rgbColor"],[1,1,1]),new u.MinmaxProperty("minmax","minmax.",!0,!1,[this,"minmax"],[0,100]),new u.NumberSliderProperty("opacity","透明度.",!0,!1,[this,"opacity"],.1,[0,1],1),new u.Number4WithUndefinedProperty("padding","padding",!0,!1,[this,"padding"],[18,void 0,18,void 0])]),new u.GroupProperty("string类","string类",[new u.StringProperty("testStr","testStr",!0,!1,[this,"testStr"]),new u.String2Property("testStr2","testStr2",!0,!1,[this,"testStr2"],["1","2"]),new u.String3Property("testStr3","testStr3",!0,!1,[this,"testStr3"],["1","2","3"]),new u.String4Property("testStr4","testStr4",!0,!1,[this,"testStr4"],["1","2","3","4"]),new u.StringsProperty("testStrs","testStrs",!0,!1,[this,"testStrs"],["a","b","c"]),new u.String2sProperty("testStr2s","testStr2s",!0,!1,[this,"testStr2s"],[["1","2"],["3","4"]]),new u.String3sProperty("testStr3s","testStr3s",!0,!1,[this,"testStr3s"],[["1","2","3"],["3","4","5"]]),new u.String4sProperty("testStr4s","testStr4s",!0,!1,[this,"testStr4s"],[["1","2","4","5"],["3","4","4","5"]])]),new u.GroupProperty("boolean类","boolean类",[new u.BooleanProperty("testbool","testbool",!0,!1,[this,"testbool"],!1),new u.Boolean2Property("testbool2","testbool2",!0,!1,[this,"testbool2"],[!0,!0]),new u.Boolean3Property("testbool3","testbool3",!0,!1,[this,"testbool3"],[!0,!0,!0]),new u.Boolean4Property("testbool4","testbool4",!0,!1,[this,"testbool4"],[!0,!0,!0,!0]),new u.BooleansProperty("testbools","testbools",!0,!1,[this,"testbools"],[!0,!1,!1]),new u.Boolean2sProperty("testbool2s","testbool2s",!0,!1,[this,"testbool2s"],[[!0,!0],[!0,!0]]),new u.Boolean3sProperty("testbool3s","testbool3s",!0,!1,[this,"testbool3s"],[[!0,!0,!0],[!0,!0,!0]]),new u.Boolean4sProperty("testbool4s","testbool4s",!0,!1,[this,"testbool4s"],[[!0,!0,!0,!0],[!0,!0,!0,!0]])]),new u.GroupProperty("json类","json类",[new u.JsonProperty("json格式","jsonValue",!0,!1,[this,"jsonValue"],void 0,e.defaultPropValue.markdown),new u.JsonProperty("json格式(只读)","jsonValue",!0,!0,[this,"jsonValue"],void 0,e.defaultPropValue.markdown),new u.EvalStringProperty("js函数","js创建函数",!0,!1,[this,"jsCode"],void 0,e.defaultPropValue.markdown),new u.LongStringProperty("longText","longText",!0,!1,[this,"longText"],void 0,e.defaultPropValue.markdown),new p.MarkdownProperty("Markdown","Markdown",!1,!1,[this,"markdown"]),new u.FunctionProperty("测试方法","测试方法",["number","string","boolean","strings","numbers","booleans"],(function(t,e,n,r,o,i){return console.log(t,e,n,r,o,i)}),[100,"测试字符串",!0,["a","b","c"],[1,2,3],[!0,!1,!1]])]),new p.MethodProperty("测试函数","测试函数",["name","value","age"],(function(t,e,n){return console.log(t,e,n)}),["测试名称",{value:[1,"2",!0]}],'参数类型： (name: string, value: any, age?: number), \n                示例数据：{"name": "测试名称", "value": {"val":[1, "2", true]}, "age": 18}\n                ')],!1)},n=e,e.type=n.register("TestPropertyObject",n,{chsName:"属性测试对象",tags:["MiscObjects"],description:"用来测试，非开发不要使用！"}),e.defaultPropValue={markdown:'\n## 此为markdown测试数据\n\n<a href="https://www.baidu.com" target="_blank">新标签页测试</a>\n\n'.concat("```","js\n\ntype ESTreeType = {\n    name: string, \n    mesh: string,\n    cullingDistance: number, \n    scale: number \n}\n\n").concat("```","\n")},e}(l.ESSceneObject);e.TestPropertyObject=f,function(t){t.createDefaultProps=function(){return i({testNum:void 0,testNum2:(0,c.reactArrayWithUndefined)(void 0),testNum3:(0,c.reactArrayWithUndefined)(void 0),testNum4:(0,c.reactArrayWithUndefined)(void 0),testNums:(0,c.reactArrayWithUndefined)(void 0),testNum2s:(0,c.reactArrayWithUndefined)(void 0),testNum3s:(0,c.reactArrayWithUndefined)(void 0),testNum4s:(0,c.reactArrayWithUndefined)(void 0),rgbaColor:(0,c.reactArrayWithUndefined)(void 0),rgbColor:(0,c.reactArrayWithUndefined)(void 0),minmax:(0,c.reactArrayWithUndefined)(void 0),opacity:void 0,padding:(0,c.reactArrayWithUndefined)(void 0),testStr:void 0,testStr2:(0,c.reactArrayWithUndefined)(void 0),testStr3:(0,c.reactArrayWithUndefined)(void 0),testStr4:(0,c.reactArrayWithUndefined)(void 0),testStrs:(0,c.reactArrayWithUndefined)(void 0),testStr2s:(0,c.reactArrayWithUndefined)(void 0),testStr3s:(0,c.reactArrayWithUndefined)(void 0),testStr4s:(0,c.reactArrayWithUndefined)(void 0),testbool:void 0,testbool2:void 0,testbool3:void 0,testbool4:void 0,testbools:void 0,testbool2s:void 0,testbool3s:void 0,testbool4s:void 0,jsonValue:void 0,jsCode:void 0,longText:void 0,markdown:t.defaultPropValue.markdown},l.ESSceneObject.createDefaultProps())}}(f=e.TestPropertyObject||(e.TestPropertyObject={})),e.TestPropertyObject=f,(0,c.extendClassProps)(f.prototype,f.createDefaultProps)},31298:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),o(n(57770),e),o(n(40837),e),o(n(16856),e)},59311:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setGeoJson=e.getGeoJson=void 0,e.getGeoJson=function(t,e,n){return{type:"FeatureCollection",features:[{type:"Feature",properties:{name:n},geometry:{type:t,coordinates:"Polygon"===t&&e?[e]:e}}]}},e.setGeoJson=function(t){var e=t.features[0].properties.name,n=t.features[0].geometry.coordinates,r=n;return"Polygon"===t.features[0].geometry.type&&n&&(r=n[0]),{name:e,position:r}}},72788:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},96419:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},95116:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},10125:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},26467:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},42054:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},50769:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},62489:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},50372:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},60148:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},80669:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},85243:()=>{"use strict";window.g_xe2SendProductUsageInfo=!0,setTimeout((function(){if(window.g_xe2SendProductUsageInfo){var t=XE2["xe2-base-objects"].copyright,e={version:t.version,date:t.date,commitId:t.commitId,href:window.location.href,userAgent:navigator.userAgent},n={method:"GET",headers:new Headers,redirect:"follow"},r=window.encodeURIComponent(JSON.stringify(e));fetch("https://account.bjxbsj.cn/api/product/record?product=EarthSDKJS&content=".concat(r),n).then((function(t){return t.text()})).then((function(t){return console.log(t)})).catch((function(t){return console.log("error",t)}))}}),6e4)},87429:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultPositionEditingConfig=void 0,e.defaultPositionEditingConfig={editor:{showCoordinates:!0,showCircle:!0,disableX:!1,disableY:!1,disableXY:!1,disableZ:!1,disableZAxis:!1},picker:{clickEnabled:!0,dbClickEnabled:!1},noModifingAfterAdding:!1,hideCursorInfo:!1}},76535:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultPositionsEditingConfig=void 0,e.defaultPositionsEditingConfig={editor:{showCoordinates:!0,showCircle:!0,disableX:!1,disableY:!1,disableXY:!1,disableZ:!1,disableZAxis:!1},picker:{clickEnabled:!0,dbClickEnabled:!1},noModifingAfterAdding:!1,hideCursorInfo:!1}},51921:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},81937:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},55639:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},22598:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),o(n(51921),e),o(n(81937),e),o(n(55639),e)},78321:function(t,e,n){"use strict";var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.getPositionFromPostions=void 0;var i=n(81425);e.getPositionFromPostions=function(t,e){var n=(0,i.reactArrayWithUndefined)(void 0);return n.value=t.value&&t.value[e],n.dispose(t.changed.disposableOn((function(){n.value=t.value&&t.value[e]}))),n.dispose(n.changed.disposableOn((function(){if(t.value&&e<t.value.length){var i=o([],r(t.value),!1);n.value&&(i[e]=n.value),t.value=i}}))),n}},15635:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),o(n(59311),e),o(n(72788),e),o(n(96419),e),o(n(95116),e),o(n(10125),e),o(n(26467),e),o(n(42054),e),o(n(50769),e),o(n(62489),e),o(n(50372),e),o(n(60148),e),o(n(80669),e),o(n(87429),e),o(n(76535),e),o(n(22598),e),o(n(78321),e),o(n(30935),e),o(n(13048),e),n(85243)},30935:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},72385:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CzmImageryProviderJsonTypeMd=void 0,e.CzmImageryProviderJsonTypeMd='\n# 示例\n\n* Cesium离线影像\n```javascript\n{\n    "type": "TileMapServiceImageryProvider",\n    "url": "${czm-path}/Assets/Textures/NaturalEarthII"\n}\n```\n\n* 高德影像\n```javascript\n{\n    "type": "UrlTemplateImageryProvider",\n    "url": "//webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}"\n}\n```\n\n* 谷歌影像\n```javascript\n{\n    "type": "UrlTemplateImageryProvider",\n    "url": "https://gac-geo.googlecnapps.cn/maps/vt?lyrs=s&x={x}&y={y}&z={z}"\n}\n```\n\n* 天地图影像(墨卡托切片)\n```javascript\n{\n    "type": "UrlTemplateImageryProvider",\n    "url": "https://{s}.tianditu.gov.cn/img_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=img&STYLE=default&TILEMATRIXSET=w&FORMAT=tiles&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=85c9d12d5d691d168ba5cb6ecaa749eb",\n    "subdomains": ["t0", "t1", "t2", "t3", "t4", "t5", "t6", "t7"]\n}\n```\n\n* 天地图影像(经纬度切片)\n```javascript\n{\n    "type": "UrlTemplateImageryProvider",\n    "url": "https://{s}.tianditu.gov.cn/img_c/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=img&STYLE=default&TILEMATRIXSET=c&FORMAT=tiles&TILEMATRIX={zz}&TILEROW={y}&TILECOL={x}&tk=85c9d12d5d691d168ba5cb6ecaa749eb",\n    "subdomains": [ "t0", "t1", "t2", "t3", "t4", "t5", "t6", "t7" ],\n    "tilingScheme": { "type": "GeographicTilingScheme" },\n    "customTags": { "zz": "(imageryProvider, x, y, level) => level + 1" }\n}\n```\n\n* 天地图地名(墨卡托切片)\n```javascript\n{\n    "type": "UrlTemplateImageryProvider",\n    "url": "https://{s}.tianditu.gov.cn/cia_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=cia&STYLE=default&TILEMATRIXSET=w&FORMAT=tiles&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=85c9d12d5d691d168ba5cb6ecaa749eb",\n    "subdomains": ["t0", "t1", "t2", "t3", "t4", "t5", "t6", "t7"]\n}\n```\n\n# 声明文件\n\n### CzmTilingSchemaJsonType\n```javascript\n    export type CzmTilingSchemaJsonType = {\n        type: \'WebMercatorTilingScheme\';\n        ellipsoid?: [x: number, y: number, z: number]; //\tEllipsoid\tEllipsoid.WGS84\toptional The ellipsoid whose surface is being tiled. Defaults to the WGS84 ellipsoid.\n        numberOfLevelZeroTilesX?: number; //\tNumber\t1\toptional The number of tiles in the X direction at level zero of the tile tree.\n        numberOfLevelZeroTilesY?: number; //\tNumber\t1\toptional The number of tiles in the Y direction at level zero of the tile tree.\n        rectangleSouthwestInMeters?: [number, number]; //\tCartesian2\t\toptional The southwest corner of the rectangle covered by the tiling scheme, in meters. If this parameter or rectangleNortheastInMeters is not specified, the entire globe is covered in the longitude direction and an equal distance is covered in the latitude direction, resulting in a square projection.\n        rectangleNortheastInMeters?: [number, number]; //\tCartesian2\t\toptional The northeast corner of the rectangle covered by the tiling scheme, in meters. If this parameter or rectangleSouthwestInMeters is not specified, the entire globe is covered in the longitude direction and an equal distance is covered in the latitude direction, resulting in a square projection.\n    } | {\n        type: \'GeographicTilingScheme\';\n        ellipsoid?: [x: number, y: number, z: number]; //\tEllipsoid\tEllipsoid.WGS84\toptionalThe ellipsoid whose surface is being tiled. Defaults to the WGS84 ellipsoid.\n        rectangle?: [west: number, south: number, east: number, north: number]; //\tRectangle\tRectangle.MAX_VALUE\toptional The rectangle, in radians, covered by the tiling scheme.\n        numberOfLevelZeroTilesX?: number; //\tNumber\t2\toptional The number of tiles in the X direction at level zero of the tile tree.\n        numberOfLevelZeroTilesY?: number; //\tNumber\t1\toptional The number of tiles in the Y direction at level zero of the tile tree.\n    } | {\n        type: \'ToGCJ02WebMercatorTilingScheme\';\n        ellipsoid?: [x: number, y: number, z: number]; //\tEllipsoid\tEllipsoid.WGS84\toptional The ellipsoid whose surface is being tiled. Defaults to the WGS84 ellipsoid.\n        numberOfLevelZeroTilesX?: number; //\tNumber\t1\toptional The number of tiles in the X direction at level zero of the tile tree.\n        numberOfLevelZeroTilesY?: number; //\tNumber\t1\toptional The number of tiles in the Y direction at level zero of the tile tree.\n        rectangleSouthwestInMeters?: [number, number]; //\tCartesian2\t\toptional The southwest corner of the rectangle covered by the tiling scheme, in meters. If this parameter or rectangleNortheastInMeters is not specified, the entire globe is covered in the longitude direction and an equal distance is covered in the latitude direction, resulting in a square projection.\n        rectangleNortheastInMeters?: [number, number]; //\tCartesian2\t\toptional The northeast corner of the rectangle covered by the tiling scheme, in meters. If this parameter or rectangleSouthwestInMeters is not specified, the entire globe is covered in the longitude direction and an equal distance is covered in the latitude direction, resulting in a square projection.\n    } | {\n        type: \'ToWGS84WebMercatorTilingScheme\';\n        ellipsoid?: [x: number, y: number, z: number]; //\tEllipsoid\tEllipsoid.WGS84\toptional The ellipsoid whose surface is being tiled. Defaults to the WGS84 ellipsoid.\n        numberOfLevelZeroTilesX?: number; //\tNumber\t1\toptional The number of tiles in the X direction at level zero of the tile tree.\n        numberOfLevelZeroTilesY?: number; //\tNumber\t1\toptional The number of tiles in the Y direction at level zero of the tile tree.\n        rectangleSouthwestInMeters?: [number, number]; //\tCartesian2\t\toptional The southwest corner of the rectangle covered by the tiling scheme, in meters. If this parameter or rectangleNortheastInMeters is not specified, the entire globe is covered in the longitude direction and an equal distance is covered in the latitude direction, resulting in a square projection.\n        rectangleNortheastInMeters?: [number, number]; //\tCartesian2\t\toptional The northeast corner of the rectangle covered by the tiling scheme, in meters. If this parameter or rectangleSouthwestInMeters is not specified, the entire globe is covered in the longitude direction and an equal distance is covered in the latitude direction, resulting in a square projection.\n    }\n```\n\n### CzmImageryProviderJsonType\n```javascript\n    type CzmImageryProviderJsonType =\n        {\n            type: \'ArcGisMapServerImageryProvider\';\n            url: string,\n            token?: string,\n            tileDiscardPolicy?: Cesium.TileDiscardPolicy,\n            usePreCachedTilesIfAvailable?: boolean,\n            layers?: string,\n            enablePickFeatures?: boolean,\n            rectangle?: [west: number, south: number, east: number, north: number]; //\tRectangle\t<optional> Rectangle.MAX_VALUE\tThe rectangle, in radians, covered by the image.\n            tilingScheme?: CzmTilingSchemaJsonType; //\tTilingScheme\t<optional> The tiling scheme specifying how the ellipsoidal surface is broken into tiles. If this parameter is not provided, a WebMercatorTilingScheme is used.\n            ellipsoid?: [x: number, y: number, z: number];\n            credit?: string; //\tCredit | String\t<optional> \'\'\tA credit for the data source, which is displayed on the canvas.\n            tileWidth?: number;\n            tileHeight?: number;\n            maximumLevel?: number;\n        } |\n        {\n            type: \'BingMapsImageryProvider\';\n            url: string,\n            key: string,\n            tileProtocol?: string,\n            mapStyle?: CzmBingMapsStyle,\n            culture?: string,\n            tileDiscardPolicy?: Cesium.TileDiscardPolicy,\n            ellipsoid?: [x: number, y: number, z: number];\n        } |\n        {\n            type: \'GoogleEarthEnterpriseImageryProvider\';\n            url: string,\n            metadata: string,\n            tileDiscardPolicy?: Cesium.TileDiscardPolicy,\n            ellipsoid?: [x: number, y: number, z: number];\n            credit?: string;\n        } |\n        {\n            type: \'GridImageryProvider\';\n            tilingScheme?: CzmTilingSchemaJsonType;\n            ellipsoid?: [x: number, y: number, z: number];\n            cells?: number;\n            color?: [number, number, number, number];\n            glowColor?: [number, number, number, number];\n            glowWidth?: number;\n            backgroundColor?: [number, number, number, number];\n            tileWidth?: number;\n            tileHeight?: number;\n            canvasSize?: number;\n        } |\n        {\n            type: \'IonImageryProvider\';\n            assetId: number,\n            accessToken?: string,\n            server?: string\n        } |\n        {\n            type: \'MapboxImageryProvider\';\n            url?: string,\n            mapId: string,\n            accessToken: string,\n            format?: string,\n            ellipsoid?: [x: number, y: number, z: number];\n            minimumLevel?: number; //\tNumber\t<optional> 0\tThe minimum level-of-detail supported by the imagery provider. Take care when specifying this that the number of tiles at the minimum level is small, such as four or less. A larger number is likely to result in rendering problems.\n            maximumLevel?: number;\n            rectangle?: [west: number, south: number, east: number, north: number]; //\tRectangle\t<optional> Rectangle.MAX_VALUE\tThe rectangle, in radians, covered by the image.\n            credit?: string;\n\n        } |\n        {\n            type: \'MapboxStyleImageryProvider\';\n            url?: string,\n            username?: string,\n            styleId: string,\n            accessToken: string,\n            tilesize?: number,\n            scaleFactor?: boolean,\n            rectangle?: [west: number, south: number, east: number, north: number]; //\tRectangle\t<optional> Rectangle.MAX_VALUE\tThe rectangle, in radians, covered by the image.\n            credit?: string; //\tCredit | String\t<optional> \'\'\tA credit for the data source, which is displayed on the canvas.\n            ellipsoid?: [x: number, y: number, z: number];\n            minimumLevel?: number; //\tNumber\t<optional> 0\tThe minimum level-of-detail supported by the imagery provider. Take care when specifying this that the number of tiles at the minimum level is small, such as four or less. A larger number is likely to result in rendering problems.\n            maximumLevel?: number;\n\n        } |\n        {\n            type: \'OpenStreetMapImageryProvider\';\n            url: string,\n            rectangle?: [west: number, south: number, east: number, north: number]; //\tRectangle\t<optional> Rectangle.MAX_VALUE\tThe rectangle, in radians, covered by the image.\n            credit?: string; //\tCredit | String\t<optional> \'\'\tA credit for the data source, which is displayed on the canvas.\n            ellipsoid?: [x: number, y: number, z: number]; //\tEllipsoid\t<optional> The ellipsoid. If the tilingScheme is specified, this parameter is ignored and the tiling scheme\'s ellipsoid is used instead. If neither parameter is specified, the WGS84 ellipsoid is used.\n            minimumLevel?: number; //\tNumber\t<optional> 0\tThe minimum level-of-detail supported by the imagery provider. Take care when specifying this that the number of tiles at the minimum level is small, such as four or less. A larger number is likely to result in rendering problems.\n            maximumLevel?: number; //\tNumber\t<optional> The maximum level-of-detail supported by the imagery provider, or undefined if there is no limit.\n            fileExtension?: string;\n        } |\n        {\n            type: \'SingleTileImageryProvider\';\n            url: string,\n            rectangle?: [west: number, south: number, east: number, north: number]; //\tRectangle\t<optional> Rectangle.MAX_VALUE\tThe rectangle, in radians, covered by the image.\n            credit?: string; //\tCredit | String\t<optional> \'\'\tA credit for the data source, which is displayed on the canvas.\n            ellipsoid?: [x: number, y: number, z: number]; //\tEllipsoid\t<optional> The ellipsoid. If the tilingScheme is specified, this parameter is ignored and the tiling scheme\'s ellipsoid is used instead. If neither parameter is specified, the WGS84 ellipsoid is used.\n        } |\n        {\n            type: \'TileCoordinatesImageryProvider\';\n            tilingScheme?: CzmTilingSchemaJsonType; //\tTilingScheme\t<optional> The tiling scheme specifying how the ellipsoidal surface is broken into tiles. If this parameter is not provided, a WebMercatorTilingScheme is used.\n            ellipsoid?: [x: number, y: number, z: number];//\tEllipsoid\t<optional> The ellipsoid. If the tilingScheme is specified, this parameter is ignored and the tiling scheme\'s ellipsoid is used instead. If neither parameter is specified, the WGS84 ellipsoid is used.\n            color: [number, number, number, number];\n            tileWidth?: number; //\tNumber\t<optional> 256\tPixel width of image tiles.\n            tileHeight?: number; //\tNumber\t<optional> 256\tPixel height of image tiles.\n\n        } |\n        {\n            type: \'TileMapServiceImageryProvider\';\n            url?: string; //\tResource | String | Promise.<Resource> | Promise.<String>\t<optional> \'.\'\tPath to image tiles on server.\n            fileExtension?: string; //\tString\t<optional> \'png\'\tThe file extension for images on the server.\n            credit?: string; //\tCredit | String\t<optional> \'\'\tA credit for the data source, which is displayed on the canvas.\n            minimumLevel?: number; //\tNumber\t<optional> 0\tThe minimum level-of-detail supported by the imagery provider. Take care when specifying this that the number of tiles at the minimum level is small, such as four or less. A larger number is likely to result in rendering problems.\n            maximumLevel?: number; //\tNumber\t<optional> The maximum level-of-detail supported by the imagery provider, or undefined if there is no limit.\n            rectangle?: [west: number, south: number, east: number, north: number]; //\tRectangle\t<optional> Rectangle.MAX_VALUE\tThe rectangle, in radians, covered by the image.\n            tilingScheme?: CzmTilingSchemaJsonType; //\tTilingScheme\t<optional> The tiling scheme specifying how the ellipsoidal surface is broken into tiles. If this parameter is not provided, a WebMercatorTilingScheme is used.\n            ellipsoid?: [x: number, y: number, z: number]; //\tEllipsoid\t<optional> The ellipsoid. If the tilingScheme is specified, this parameter is ignored and the tiling scheme\'s ellipsoid is used instead. If neither parameter is specified, the WGS84 ellipsoid is used.\n            tileWidth?: number; //\tNumber\t<optional> 256\tPixel width of image tiles.\n            tileHeight?: number; //\tNumber\t<optional> 256\tPixel height of image tiles.\n            flipXY?: boolean; //\tBoolean\t<optional> Older versions of gdal2tiles.py flipped X and Y values in tilemapresource.xml. Specifying this option will do the same, allowing for loading of these incorrect tilesets.\n        } |\n        {\n            type: \'UrlTemplateImageryProvider\';\n            url: string;//Resource | String\n            subdomains?: string | string[];//String | Array.<String>\n            credit?: string;//Credit | String\n            minimumLevel?: number; //\tNumber\t<optional> 0\tThe minimum level-of-detail supported by the imagery provider. Take care when specifying this that the number of tiles at the minimum level is small, such as four or less. A larger number is likely to result in rendering problems.\n            maximumLevel?: number; //\tNumber\t<optional> The maximum level-of-detail supported by the imagery provider, or undefined if there is no limit.\n            rectangle?: [west: number, south: number, east: number, north: number]; //\tRectangle\t<optional> Rectangle.MAX_VALUE\tThe rectangle, in radians, covered by the image.\n            tilingScheme?: CzmTilingSchemaJsonType; //\tTilingScheme\t<optional> The tiling scheme specifying how the ellipsoidal surface is broken into tiles. If this parameter is not provided, a WebMercatorTilingScheme is used.\n            ellipsoid?: [x: number, y: number, z: number]; //\tEllipsoid\t<optional> The ellipsoid. If the tilingScheme is specified, this parameter is ignored and the tiling scheme\'s ellipsoid is used instead. If neither parameter is specified, the WGS84 ellipsoid is used.\n            tileWidth?: number; //\tNumber\t<optional> 256\tPixel width of image tiles.\n            tileHeight?: number; //\tNumber\t<optional> 256\tPixel height of image tiles.\n            hasAlphaChannel?: boolean;\n            pickFeaturesUrl?: string;//Resource | String\n            enablePickFeatures?: boolean;\n            urlSchemeZeroPadding?: JsonValue,\n            getFeatureInfoFormats?: Array<Cesium.GetFeatureInfoFormat>;\n            customTags?: JsonValue;\n        } |\n        {\n            type: \'WebMapServiceImageryProvider\';\n            url: string;\n            layers: string;\n            parameters?: JsonValue,\n            getFeatureInfoParameters?: JsonValue,\n            getFeatureInfoFormats?: Array<Cesium.GetFeatureInfoFormat>,\n            enablePickFeatures?: boolean,\n            rectangle?: [west: number, south: number, east: number, north: number]; //\tRectangle\t<optional> Rectangle.MAX_VALUE\tThe rectangle, in radians, covered by the image.\n            tilingScheme?: CzmTilingSchemaJsonType; //\tTilingScheme\t<optional> The tiling scheme specifying how the ellipsoidal surface is broken into tiles. If this parameter is not provided, a WebMercatorTilingScheme is used.\n            ellipsoid?: [x: number, y: number, z: number];//\tEllipsoid\t<optional> The ellipsoid. If not specified, the WGS84 ellipsoid is used.\n            minimumLevel?: number; //\tNumber\t<optional> 0\tThe minimum level-of-detail supported by the imagery provider.\n            maximumLevel?: number; //\tNumber\t<optional> The maximum level-of-detail supported by the imagery provider, or undefined if there is no limit.\n            tileWidth?: number; //\tNumber\t<optional> 256\tThe tile width in pixels.\n            tileHeight?: number; //\tNumber\t<optional> 256\tThe tile height in pixels.\n            crs?: string,\n            srs?: string,\n            credit?: string;//Credit | String\n            subdomains?: string | string[]; //\tString | Array.<String>\t<optional> \'abc\'\tThe subdomains to use for the {s} placeholder in the URL template. If this parameter is a single string, each character in the string is a subdomain. If it is an array, each element in the array is a subdomain.\n            clock: Cesium.Clock; // //\tClock\t<optional> A Clock instance that is used when determining the value for the time dimension. Required when times is specified.\n            times?: CzmTimeIntervalCollectionJsonType;  //\tTimeIntervalCollection\t<optional> TimeIntervalCollection: string; // with its data property being an object containing time dynamic dimension and their values.\n            getFeatureInfoUrl?: string\n        } |\n        {\n            type: \'WebMapTileServiceImageryProvider\';\n            url: string; //\tResource | String\t\t\tThe base URL for the WMTS GetTile operation (for KVP-encoded requests) or the tile-URL template (for RESTful requests). The tile-URL template should contain the following variables: {style}, {TileMatrixSet}, {TileMatrix}, {TileRow}, {TileCol}. The first two are optional if actual values are hardcoded or not required by the server. The {s} keyword may be used to specify subdomains.\n            format?: string; //\tString\t<optional> \'image/jpeg\'\tThe MIME type for images to retrieve from the server.\n            layer: string; //\tString\t\t\tThe layer name for WMTS requests.\n            style: string; //\tString\t\t\tThe style name for WMTS requests.\n            tileMatrixSetID: string; //\tString\t\t\tThe identifier of the TileMatrixSet to use for WMTS requests.\n            tileMatrixLabels?: string[]; //\tArray\t<optional> A list of identifiers in the TileMatrix to use for WMTS requests, one per TileMatrix level.\n            clock: Cesium.Clock, // //\tClock\t<optional> A Clock instance that is used when determining the value for the time dimension. Required when times is specified.\n            times?: CzmTimeIntervalCollectionJsonType; //\tTimeIntervalCollection\t<optional> TimeIntervalCollection: string; // with its data property being an object containing time dynamic dimension and their values.\n            dimensions?: JsonValue; //\tObject\t<optional> A object containing static dimensions and their values.\n            tileWidth?: number; //\tNumber\t<optional> 256\tThe tile width in pixels.\n            tileHeight?: number; //\tNumber\t<optional> 256\tThe tile height in pixels.\n            tilingScheme?: CzmTilingSchemaJsonType; //\tTilingScheme\t<optional> The tiling scheme corresponding to the organization of the tiles in the TileMatrixSet.\n            rectangle?: [west: number, south: number, east: number, north: number]; //\tRectangle\t<optional> Rectangle.MAX_VALUE\tThe rectangle covered by the layer.\n            minimumLevel?: number; //\tNumber\t<optional> 0\tThe minimum level-of-detail supported by the imagery provider.\n            maximumLevel?: number; //\tNumber\t<optional> The maximum level-of-detail supported by the imagery provider, or undefined if there is no limit.\n            ellipsoid?: [x: number, y: number, z: number]; //\tEllipsoid\t<optional> The ellipsoid. If not specified, the WGS84 ellipsoid is used.\n            credit?: string; //\tCredit | String\t<optional> A credit for the data source, which is displayed on the canvas.\n            subdomains?: string | string[]; //\tString | Array.<String>\t<optional> \'abc\'\tThe subdomains to use for the {s} placeholder in the URL template. If this parameter is a single string, each character in the string is a subdomain. If it is an array, each element in the array is a subdomain.\n        };\n\n```\n'},88648:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CzmMaterialJsonTypeMd=void 0,e.CzmMaterialJsonTypeMd="\n### 示例\n```javascript\n{\n    \"type\": \"Image\",\n    \"image\": \"${scene-manager-script-dir}/xe2-assets/scene-manager/images/location.png\"\n}\n```\n\n### CzmMaterialJsonType\n```javascript\ntype CzmMaterialJsonType = {\n    type: 'Color';\n    color?: [number, number, number, number];\n} | {\n    type: 'PolylineArrow';\n    color?: [number, number, number, number];\n} | {\n    type: 'PolylineDash';\n    color?: [number, number, number, number];\n    gapColor?: [number, number, number, number];\n    dashLength?: number;\n    dashPattern?: number;\n} | {\n    type: 'PolylineGlow';\n    color?: [number, number, number, number];\n    glowPower?: number;\n    taperPower?: number;\n} | {\n    type: 'PolylineOutline';\n    color?: [number, number, number, number];\n    outlineColor?: [number, number, number, number];\n    outlineWidth?: number;\n} | {\n    type: 'Image';\n    image?: string;\n    repeat?: number;\n} | {\n    type: 'DiffuseMap';\n    image?: string;\n    repeat?: number;\n    channels?: string;\n} | {\n    type: 'AlphaMap';\n    image?: string;\n    repeat?: number;\n    channel?: string;\n} | {\n    type: 'SpecularMap';\n    image?: string;\n    repeat?: number;\n    channel?: string;\n\n} | {\n    type: 'EmissionMap';\n    image?: string;\n    repeat?: number;\n    channels?: string;\n} | {\n    type: 'BumpMap';\n    image?: string;\n    repeat?: number;\n    channel?: string;\n    strength?: number;\n} | {\n    type: 'NormalMap';\n    image?: string;\n    repeat?: number;\n    channels?: string;\n    strength?: number;\n} | {\n    type: 'Grid';\n    color?: [number, number, number, number];\n    cellAlpha?: number;// Alpha value for the cells between grid lines. This will be combined with color.alpha.\n    lineCount?: number; //Object with x and y values specifying the number of columns and rows respectively.\n    lineThickness?: number; //Object with x and y values specifying the thickness of grid lines (in pixels where available).\n    lineOffset?: number; //Object with x and y values specifying the offset of grid lines (range is 0 to 1).\n} | {\n    type: 'Stripe';\n    horizontal?: boolean; //Boolean that determines if the stripes are horizontal or vertical.\n    evenColor?: [number, number, number, number];// rgba color object for the stripe's first color.\n    oddColor?: [number, number, number, number];// rgba color object for the stripe's second color.\n    offset?: number; //that controls at which point into the pattern to begin drawing; with 0.0 being the beginning of the even color, 1.0 the beginning of the odd color, 2.0 being the even color again, and any multiple or fractional values being in between.\n    repeat?: number;// that controls the total number of stripes, half light and half dark.\n} | {\n    type: 'Checkerboard';\n    lightColor?: [number, number, number, number];\n    darkColor?: [number, number, number, number];\n    repeat?: number;\n\n} | {\n    type: 'Dot';\n    lightColor?: [number, number, number, number];\n    darkColor?: [number, number, number, number];\n    repeat?: number;\n} | {\n    type: 'Water';\n    baseWaterColor?: [number, number, number, number];\n    blendColor?: [number, number, number, number];\n    specularMap?: string;\n    normalMap?: string;\n    frequency?: number;\n    animationSpeed?: number;\n    amplitude?: number;\n    specularIntensity?: number;\n} | {\n    type: 'RimLighting';\n    color?: [number, number, number, number];\n    rimColor?: [number, number, number, number];\n    width?: number;\n} | {\n    type: 'Fade';\n    fadeInColor?: [number, number, number, number];\n    fadeOutColor?: [number, number, number, number];\n    maximumDistance?: number;\n    repeat?: number;\n    fadeDirection?: number;\n    time?: number;\n} | {\n    type: 'ElevationContour';\n    color?: [number, number, number, number];\n    spacing?: number;\n    width?: number;\n\n} | {\n    type: 'ElevationRamp';\n    image?: string;\n    minimumHeight?: number;\n    maximumHeight?: number;\n} | {\n    type: 'AspectRamp';\n    image?: string;\n\n} | {\n    type: 'ElevationBand';\n    colors?: [number, number, number, number];\n    heights?: number;\n};\n\n```\n"},77735:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CzmPolygonHierarchyTypeMd=void 0,e.CzmPolygonHierarchyTypeMd='\n# 类型定义\n\nholes为空时,表示为多边形,holes不为空时,表示为多孔多边形\n\n```javascript\ntype PolygonHierarchyType = {\n    positions: [number, number, number][],\n    holes?: PolygonHierarchyType[],\n}\n```\n\n\n# 示例数据-北京故宫\n\n```javascript\n{\n    "positions": [\n        [\n            116.38595123115232,\n            39.92108560070282,\n            0\n        ],\n        [\n            116.38644173172631,\n            39.912093172915405,\n            0\n        ],\n        [\n            116.39550098205076,\n            39.912407685280556,\n            0\n        ],\n        [\n            116.39509881538083,\n            39.92137864674712,\n            0\n        ]\n    ],\n    "holes": [\n        {\n            "positions": [\n                [\n                    116.38966437629074,\n                    39.91688421792786,\n                    0\n                ],\n                [\n                    116.38983857313774,\n                    39.914111305362205,\n                    0\n                ],\n                [\n                    116.3920749692004,\n                    39.91413619707485,\n                    0\n                ],\n                [\n                    116.39196337527346,\n                    39.916969709351434,\n                    0\n                ]\n            ],\n            "holes": [\n                {\n                    "positions": [\n                        [\n                            116.39009450397045,\n                            39.916274537198085,\n                            9.313225746154785e-10\n                        ],\n                        [\n                            116.39010921611288,\n                            39.915531140610746,\n                            0\n                        ],\n                        [\n                            116.3903612533346,\n                            39.91550973696104,\n                            0\n                        ],\n                        [\n                            116.39036716141793,\n                            39.91524467016196,\n                            0\n                        ],\n                        [\n                            116.39141601976421,\n                            39.915241313659585,\n                            0\n                        ],\n                        [\n                            116.39139640150619,\n                            39.91555111820702,\n                            0\n                        ],\n                        [\n                            116.39164079953075,\n                            39.91559117888291,\n                            0\n                        ],\n                        [\n                            116.3916072127152,\n                            39.91630533003505,\n                            0\n                        ]\n                    ]\n                }\n            ]\n        },\n        {\n            "positions": [\n                [\n                    116.38993614182264,\n                    39.91978334840808,\n                    0\n                ],\n                [\n                    116.39003938407127,\n                    39.917803902551405,\n                    0\n                ],\n                [\n                    116.39146556151411,\n                    39.9178290022979,\n                    0\n                ],\n                [\n                    116.39135985255365,\n                    39.91981260626941,\n                    0\n                ]\n            ]\n        }\n    ]\n}\n```\n\n'},26993:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CzmTerrainProviderJsonTypeMd=void 0,e.CzmTerrainProviderJsonTypeMd="\n### CzmTerrainProviderJsonType\n```javascript\ntype CzmTerrainProviderJsonType =\n    {\n        type: 'ArcGISTiledElevationTerrainProvider';\n        url: string\t//Resource | String | Promise.< Resource > | Promise.< String > The URL of the ArcGIS ImageServer service.\n        token?: string//String\toptionalThe authorization token to use to connect to the service.\n        ellipsoid?: [x: number, y: number, z: number] \t//Ellipsoid\toptionalThe ellipsoid.If the tilingScheme is specified, this parameter is ignored and the tiling scheme's ellipsoid is used instead. If neither parameter is specified, the WGS84 ellipsoid is used.\n    } |\n    {\n        type: 'CesiumTerrainProvider';\n        url: string; //\tResource | String | Promise.<Resource> | Promise.<String>\t\tThe URL of the Cesium terrain server.\n        requestVertexNormals?: boolean; //\tBoolean\tfalse\toptionalFlag that indicates if the client should request additional lighting information from the server, in the form of per vertex normals if available.\n        requestWaterMask?: boolean; //\tBoolean\tfalse\toptionalFlag that indicates if the client should request per tile water masks from the server, if available.\n        requestMetadata?: boolean; //\tBoolean\ttrue\toptionalFlag that indicates if the client should request per tile metadata from the server, if available.\n        ellipsoid?: [x: number, y: number, z: number]; //\tEllipsoid\t\toptionalThe ellipsoid. If not specified, the WGS84 ellipsoid is used.\n        credit?: string; //\tCredit | String\t\toptionalA credit for the data source, which is displayed on the canvas.\n    } |\n    {\n        type: 'CustomHeightmapTerrainProvider';\n        callback: string,\t//CustomHeightmapTerrainProvider.GeometryCallback\tThe callback function for requesting tile geometry.\n        width: number,\t//Number\tThe number of columns per heightmap tile.\n        height: number\t//Number\tThe number of rows per heightmap tile.\n        tilingScheme?: CzmTilingSchemaJsonType; //\tTilingScheme\t<optional> The tiling scheme specifying how the ellipsoidal surface is broken into tiles. If this parameter is not provided, a WebMercatorTilingScheme is used.\n        ellipsoid?: [x: number, y: number, z: number]; \t//Ellipsoid\toptionalThe ellipsoid. If the tilingScheme is specified, this parameter is ignored and the tiling scheme's ellipsoid is used instead. If neither parameter is specified, the WGS84 ellipsoid is used.\n        credit?: string\t//Credit | String\toptionalA credit for the data source, which is displayed on the canvas.\n    } |\n    {\n        type: 'EllipsoidTerrainProvider';\n        tilingScheme?: CzmTilingSchemaJsonType; //\tTilingScheme\toptionalThe tiling scheme specifying how the ellipsoidal surface is broken into tiles. If this parameter is not provided, a GeographicTilingScheme is used.\n        ellipsoid?: [x: number, y: number, z: number]; //\tEllipsoid\toptionalThe ellipsoid. If the tilingScheme is specified, this parameter is ignored and the tiling scheme's ellipsoid is used instead. If neither parameter is specified, the WGS84 ellipsoid is used.\n    } |\n    {\n        type: 'GoogleEarthEnterpriseTerrainProvider';\n        url: string; //\tResource | String\tThe url of the Google Earth Enterprise server hosting the imagery.\n        metadata: string; // metadata  已解决 //\tGoogleEarthEnterpriseMetadata\tA metadata object that can be used to share metadata requests with a GoogleEarthEnterpriseImageryProvider.\n        ellipsoid?: [x: number, y: number, z: number]; //\tEllipsoid\toptionalThe ellipsoid. If not specified, the WGS84 ellipsoid is used.\n        credit?: string; //\tCredit | String\toptionalA credit for the data source, which is displayed on the canvas.\n    } |\n    {\n        type: 'VRTheWorldTerrainProvider';\n        url: string,\t//Resource | String\t\tThe URL of the VR-TheWorld TileMap.\n        ellipsoid?: [x: number, y: number, z: number]; //\tEllipsoid\toptionalThe ellipsoid. If not specified, the WGS84 ellipsoid is used.\n        credit?: string; //\tCredit | String\toptionalA credit for the data source, which is displayed on the canvas.\n    };\n\n```\n"},99825:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PolygonHierarchyMd=void 0,e.PolygonHierarchyMd="\n### PolygonHierarchyType\n```javascript\n\ntype PolygonHierarchyType = {\n    positions: [number, number, number][],\n    holes?: PolygonHierarchyType[],\n}\n\n```\n"},13048:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),o(n(26993),e),o(n(72385),e),o(n(88648),e),o(n(99825),e),o(n(77735),e)},92730:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),window.XE2&&(window.XE2.g={});var i=n(65833);window.XE2.g.toJsonStr=i.toJsonStr,window.XE2.g.printJson=i.printJson,(0,n(72256).registerScript)(),o(n(15635),e),o(n(67437),e),o(n(50409),e),o(n(31298),e),o(n(1245),e);var s=n(72256);o(n(6018),e),window.XE2.g.SceneObject=s.SceneObject,window.XE2.g.refs=s.SceneObject.$refs,s.SceneObject.context.setEnv("scene-manager-script-dir",s.SceneObject.context.getEnv("xe2-base-objects-script-dir"))},65833:(t,e)=>{"use strict";function n(t){return JSON.stringify(t,void 0,"    ")}Object.defineProperty(e,"__esModule",{value:!0}),e.printJson=e.toJsonStr=void 0,e.toJsonStr=n,e.printJson=function(t){console.log(n(t))}},62702:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.DateProperty=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"DateProperty"},enumerable:!1,configurable:!0}),e}(n(6018).ReactVarProperty);e.DateProperty=i},84810:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.DatesProperty=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"DatesProperty"},enumerable:!1,configurable:!0}),e}(n(6018).ReactVarProperty);e.DatesProperty=i},31694:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownProperty=void 0;var i=function(t){function e(e,n,r,o,i){return t.call(this,e,n,r,o,i)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"MarkdownProperty"},enumerable:!1,configurable:!0}),e}(n(6018).ReactVarProperty);e.MarkdownProperty=i},21225:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},s=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.MethodProperty=e.MethodParams=void 0;var a=n(81425),u=n(72256),c=n(6018),l=function(t){function e(e,n,r,o,i,s){var a=t.call(this,e,n,!1,!1,r,i)||this;return a._paramTypes=o,a._sampleValue=s,a}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"MethodParams"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"paramTypes",{get:function(){return this._paramTypes},enumerable:!1,configurable:!0}),e}(c.ReactVarProperty);e.MethodParams=l;var p=function(t){function e(e,n,r,o,s,c){var p=t.call(this,e,n)||this;p._func=o,p._sampleValue=c;var f=p.disposeVar((0,a.reactJson)(s));p._paramsProperty=p.disposeVar(new l(e+"_params",e+"_params",f,r,s,c));var h=i((0,u.getReactFuncs)(p._paramsProperty.reactVar),1)[0];return p._getValueFunc=h,p}return o(e,t),Object.defineProperty(e.prototype,"sampleValue",{get:function(){return this._sampleValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"paramsProperty",{get:function(){return this._paramsProperty},enumerable:!1,configurable:!0}),e.prototype.exec=function(){this._func.apply(this,s([],i(this._getValueFunc()),!1))},Object.defineProperty(e.prototype,"type",{get:function(){return"MethodProperty"},enumerable:!1,configurable:!0}),e}(c.Property);e.MethodProperty=p},50409:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),o(n(31694),e),o(n(21225),e),o(n(62702),e),o(n(84810),e)},37847:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.ESSceneObject=void 0;var u=n(81425),c=n(72256),l=n(86775),p=n(48791),f=n(74299),h=function(t){function e(e,n){var r=t.call(this)||this;return r.disposeVar(new p.ObjResettingWithEvent(e.subContainerChanged,(function(){if(e.subContainer)return n(e,e.subContainer)}))),r}return o(e,t),e}(u.Destroyable),d="// sceneObject表示当前的场景对象\nsceneObject => {\n    console.log(`当前场景对象${sceneObject.typeName}, id是${sceneObject.id}即将销毁！`)\n}\n",y="示例代码  \n```\n".concat(d,"\n```\n"),g="// sceneObject表示当前的场景对象\nsceneObject => {\n    console.log(`当前场景对象的类型是${sceneObject.typeName}, id是${sceneObject.id}`)\n}\n",v="示例代码  \n```\n".concat(g,"\n```\n"),b="// sceneObject表示当前的场景对象\n// timeStamp表示时间戳\n(sceneObject, timeStamp) => {\n    let r = timeStamp*.01;\n    r = r % 360;\n    r = r < 0 ? r + 360 : r;\n    sceneObject.rotation = [r, 90, 0];\n}\n",m="示例代码  \n```\n".concat(b,"\n```\n"),_=function(t){function e(e){var n,r,o=t.call(this,e)||this;return o._viewerAttched=o.disposeVar(new u.Event),o._viewerDetached=o.disposeVar(new u.Event),o._viewerTagsChangedEvent=o.disposeVar(new u.Event),o._updateFuncReact=o.disposeVar((0,u.react)(void 0)),o._toDestroyFuncReact=o.disposeVar((0,u.react)(void 0)),o._ueCreatedEvent=o.disposeVar(new u.Event),o.dispose(o.toDestroyEvent.disposableOn((function(){o.toDestroyFunc&&o.toDestroyFunc(o)}))),(r=function(){if(o.execOnceFuncStr)try{Function('"use strict";return ('.concat(o.execOnceFuncStr,")"))()(o)}catch(t){console.warn("execOnceFuncStr不能转成函数！或者函数执行时错误！id: ".concat(o.id," ").concat(o.typeName," error: ").concat(t))}})(),o.dispose(o.execOnceFuncStrChanged.disposableOn(r)),(r=function(){try{o.updateFunc=Function('"use strict";return ('.concat(o.updateFuncStr,")"))()}catch(t){console.warn("updateFuncStr不能转成函数！或者函数执行时错误！id: ".concat(o.id," ").concat(o.typeName," error: ").concat(t))}})(),o.dispose(o.updateFuncStrChanged.disposableOn(r)),o.dispose((function(){return n&&n.destroy()})),o.dispose(o.updateFuncChanged.disposableOn((function(){n&&n.cancel(),o.updateFunc&&(n=n||(0,c.createAnimateFrame)()).restart(void 0,(function(t){o.updateFunc&&o.updateFunc(o,t)}))}))),(r=function(){try{o.toDestroyFunc=o.toDestroyFuncStr&&Function('"use strict";return ('.concat(o.toDestroyFuncStr,")"))()||void 0}catch(t){console.warn("toDestroyFuncStr不能转成函数！或者函数执行时错误！id: ".concat(o.id," ").concat(o.typeName," error: ").concat(t)),o.toDestroyFunc=void 0}})(),o.dispose(o.toDestroyFuncStrChanged.disposableOn(r)),o.dispose(o.devTagsChanged.disposableOn((function(t,e){var n=(0,p.getViewerTags)(t),r=(0,p.getViewerTags)(e);if(void 0===n||void 0===r)n!==r&&o._viewerTagsChangedEvent.emit(n,r);else{if(n.length!==r.length)return void o._viewerTagsChangedEvent.emit(n,r);n.sort(),r.sort(),n.every((function(t,e){return t===r[e]}))||o._viewerTagsChangedEvent.emit(n,r)}}))),o}return o(e,t),Object.defineProperty(e.prototype,"viewerAttched",{get:function(){return this._viewerAttched},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewerDetached",{get:function(){return this._viewerDetached},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewerTagsChanged",{get:function(){return this._viewerTagsChangedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewerTags",{get:function(){return(0,p.getViewerTags)(this.devTags)},set:function(t){var e=(t=null!=t?t:[]).map((function(t){return t.startsWith("_ES_Viewer_")?t:"_ES_Viewer_"+t}));if(this.devTags){var n=this.devTags.filter((function(t){return!t.startsWith("_ES_Viewer_")}));this.devTags=a(a([],s(n),!1),s(e),!1)}else this.devTags=e},enumerable:!1,configurable:!0}),e.prototype.addViewerTag=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.map((function(t){return t.startsWith("_ES_Viewer_")?t:"_ES_Viewer_"+t}));this.addDevTag.apply(this,a([],s(n),!1))},e.prototype.deleteViewerTag=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.map((function(t){return t.startsWith("_ES_Viewer_")?t:"_ES_Viewer_"+t}));this.deleteDevTag.apply(this,a([],s(n),!1))},e.prototype.registerAttachedObject=function(t){var e=new Map;this.dispose((function(){e.size>0&&console.warn("viewerPropSceneObjects.size > 0")})),this.dispose(this._viewerAttched.disposableOn((function(n){var r=t(n);r&&e.set(n,r)}))),this.dispose(this._viewerDetached.disposableOn((function(t){if(e.has(t)){var n=e.get(t);n?(n.destroy(),e.delete(t)):console.warn("!viewerObj")}})))},e.prototype.registerAttachedObjectForContainer=function(t){this.registerAttachedObject((function(e){return new h(e,t)}))},Object.defineProperty(e.prototype,"updateFunc",{get:function(){return this._updateFuncReact.value},set:function(t){this._updateFuncReact.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFuncChanged",{get:function(){return this._updateFuncReact.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"toDestroyFunc",{get:function(){return this._toDestroyFuncReact.value},set:function(t){this._toDestroyFuncReact.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"toDestroyFuncChanged",{get:function(){return this._toDestroyFuncReact.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flushEvent",{get:function(){return this._flushEvent||(this._flushEvent=this.disposeVar(new u.Event)),this._flushEvent},enumerable:!1,configurable:!0}),e.prototype.flush=function(){this.flushEvent.emit()},Object.defineProperty(e.prototype,"ueCreatedEvent",{get:function(){return this._ueCreatedEvent},enumerable:!1,configurable:!0}),e.prototype.getProperties=function(t){var n=this;return[new l.GroupProperty("基础","基础",[new l.StringProperty("类型","类型(type)",!1,!0,[this,"typeName"]),new l.StringProperty("唯一标识符","唯一标识符(id)",!1,!0,[this,"id"]),new l.StringProperty("引用","引用(ref)",!0,!1,[this,"ref"]),new l.StringProperty("名称","名称",!1,!1,[this,"name"]),new l.StringsProperty("开发用标签","开发用标签",!0,!1,[this,"devTags"]),new l.EnumStringsProperty("视口标签","视口标签",!0,!1,[this,"viewerTags"],e.defaults.viewerTagsEnums,[]),new l.NonreactiveJsonStringProperty("JSON","对象JSON数据，动态更改，导入导出。",!1,!1,(function(){return n.jsonStr}),(function(t){return t&&(n.jsonStr=t)})),new l.JsonProperty("额外属性","用来方便用户添加一些额外的属性",!0,!1,[this,"extras"]),new l.EvalStringProperty("单次执行函数","单次执行的回调函数，一旦赋值即执行！",!0,!1,[this,"execOnceFuncStr"],g,v),new l.EvalStringProperty("更新函数","更新的回调函数，会每帧执行一次！",!0,!1,[this,"updateFuncStr"],b,m),new l.EvalStringProperty("销毁前函数","销毁前的回调函数，函数销毁时才执行！",!0,!1,[this,"toDestroyFuncStr"],d,y)])]},e.defaults={viewerTagsEnums:a([],s(new Array(8).keys()),!1).map((function(t){return["视口".concat(t),"_ES_Viewer_".concat(t)]}))},e}(f.SceneObject);e.ESSceneObject=_,function(t){t.createDefaultProps=function(){return i(i({},f.SceneObject.createDefaultProps()),{execOnceFuncStr:void 0,updateFuncStr:void 0,toDestroyFuncStr:void 0})}}(_=e.ESSceneObject||(e.ESSceneObject={})),e.ESSceneObject=_,(0,u.extendClassProps)(_.prototype,_.createDefaultProps)},3706:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.SceneScript=void 0;var u=n(81425),c=n(86775),l=n(37847),p=function(t){function e(e){return t.call(this,e)||this}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"SceneScript"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),e.prototype.exec=function(){if(this.evalFuncStr){var t=void 0;try{t=Function(this.evalFuncStr)()}catch(t){console.error("SceneScript error: ".concat(t),t)}return t}},e.prototype.getProperties=function(e){var n=this;return a(a([],s(t.prototype.getProperties.call(this,e)),!1),[new c.GroupProperty("通用","通用",[new c.EvalStringProperty("脚本","脚本",!0,!1,[this,"evalFuncStr"]),new c.BooleanProperty("加载时执行","加载时自动执行, 默认为自动执行！",!0,!1,[this,"runOnLoaded"],!0),new c.FunctionProperty("执行脚本","手动执行脚本",[],(function(){return n.exec()}),[])])],!1)},n=e,e.type=n.register("SceneScript",n,{chsName:"场景脚本",tags:["MiscObjects"],description:"用来写脚本，使用代码驱动场景对象！"}),e}(l.ESSceneObject);e.SceneScript=p,function(t){t.createDefaultProps=function(){return i({evalFuncStr:void 0,runOnLoaded:void 0},l.ESSceneObject.createDefaultProps())}}(p=e.SceneScript||(e.SceneScript={})),e.SceneScript=p,(0,u.extendClassProps)(p.prototype,p.createDefaultProps)},83904:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.TestObject=void 0;var u=n(81425),c=n(86775),l=n(37847),p=function(t){function e(e){var n=t.call(this,e)||this,r=function(){console.log("testStr: ".concat(n.testStr))};return r(),n.dispose(n.testStrChanged.disposableOn(r)),n}var n;return o(e,t),Object.defineProperty(e.prototype,"typeName",{get:function(){return"TestObject"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultProps",{get:function(){return e.createDefaultProps()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this._innerGetJson()},set:function(t){this._innerSetJson(t)},enumerable:!1,configurable:!0}),e.prototype.testFunc=function(t,e,n,r,o,i){console.log("函数参数:",t,e,n,r,o,i)},e.prototype.getProperties=function(e){var n=this;return a(a([],s(t.prototype.getProperties.call(this,e)),!1),[new c.GroupProperty("通用","通用",[new c.GroupProperty("string类","string类",[new c.NumberProperty("testNum","testNum",!0,!1,[this,"testNum"],100),new c.Number2Property("testNum2","testNum2",!0,!1,[this,"testNum2"],[1,2]),new c.Number3Property("testNum3","testNum3",!0,!1,[this,"testNum3"],[1,2,3]),new c.Number4Property("testNum4","testNum4",!0,!1,[this,"testNum4"],[1,2,3,4]),new c.NumbersProperty("testNums","testNums",!0,!1,[this,"testNums"],[1,2,3]),new c.Number2sProperty("testNum2s","testNum2s",!0,!1,[this,"testNum2s"],[[1,2],[3,4]]),new c.Number3sProperty("testNum3s","testNum3s",!0,!1,[this,"testNum3s"],[[1,2,3],[3,4,5]]),new c.Number4sProperty("testNum4s","testNum4s",!0,!1,[this,"testNum4s"],[[1,2,4,5],[3,4,4,5]])]),new c.GroupProperty("number类","number类",[new c.StringProperty("testStr","testStr",!0,!1,[this,"testStr"]),new c.String2Property("testStr2","testStr2",!0,!1,[this,"testStr2"],["1","2"]),new c.String3Property("testStr3","testStr3",!0,!1,[this,"testStr3"],["1","2","3"]),new c.String4Property("testStr4","testStr4",!0,!1,[this,"testStr4"],["1","2","3","4"]),new c.StringsProperty("testStrs","testStrs",!0,!1,[this,"testStrs"],["a","b","c"]),new c.String2sProperty("testStr2s","testStr2s",!0,!1,[this,"testStr2s"],[["1","2"],["3","4"]]),new c.String3sProperty("testStr3s","testStr3s",!0,!1,[this,"testStr3s"],[["1","2","3"],["3","4","5"]]),new c.String4sProperty("testStr4s","testStr4s",!0,!1,[this,"testStr4s"],[["1","2","4","5"],["3","4","4","5"]])]),new c.GroupProperty("boolean类","boolean类",[new c.BooleanProperty("testbool","testbool",!0,!1,[this,"testbool"],!1),new c.Boolean2Property("testbool2","testbool2",!0,!1,[this,"testbool2"],[!0,!0]),new c.Boolean3Property("testbool3","testbool3",!0,!1,[this,"testbool3"],[!0,!0,!0]),new c.Boolean4Property("testbool4","testbool4",!0,!1,[this,"testbool4"],[!0,!0,!0,!0]),new c.BooleansProperty("testbools","testbools",!0,!1,[this,"testbools"],[!0,!1,!1]),new c.Boolean2sProperty("testbool2s","testbool2s",!0,!1,[this,"testbool2s"],[[!0,!0],[!0,!0]]),new c.Boolean3sProperty("testbool3s","testbool3s",!0,!1,[this,"testbool3s"],[[!0,!0,!0],[!0,!0,!0]]),new c.Boolean4sProperty("testbool4s","testbool4s",!0,!1,[this,"testbool4s"],[[!0,!0,!0,!0],[!0,!0,!0,!0]])]),new c.GroupProperty("boolean类","boolean类",[new c.JsonProperty("json格式","jsonValue",!0,!1,[this,"jsonValue"]),new c.EvalStringProperty("js函数","js创建函数",!0,!1,[this,"jsCode"]),new c.FunctionProperty("测试函数","测试函数",["number","string","boolean","strings","numbers","booleans"],(function(t,e,r,o,i,s){return n.testFunc(t,e,r,o,i,s)}),[100,"测试字符串",!0,["a","b","c"],[1,2,3],[!0,!1,!1]])])])],!1)},n=e,e.type=n.register("TestObject",n,{chsName:"测试对象",tags:["MiscObjects"],description:"纯碎用来测试，非开发不要使用！"}),e}(l.ESSceneObject);e.TestObject=p,function(t){t.createDefaultProps=function(){return i({testNum:void 0,testNum2:void 0,testNum3:void 0,testNum4:void 0,testNums:void 0,testNum2s:void 0,testNum3s:void 0,testNum4s:void 0,testStr:void 0,testStr2:void 0,testStr3:void 0,testStr4:void 0,testStrs:void 0,testStr2s:void 0,testStr3s:void 0,testStr4s:void 0,testbool:void 0,testbool2:void 0,testbool3:void 0,testbool4:void 0,testbools:void 0,testbool2s:void 0,testbool3s:void 0,testbool4s:void 0,jsonValue:void 0,jsCode:void 0},l.ESSceneObject.createDefaultProps())}}(p=e.TestObject||(e.TestObject={})),e.TestObject=p,(0,u.extendClassProps)(p.prototype,p.createDefaultProps)},37511:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),o(n(83904),e),o(n(3706),e)},47733:function(t,e){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.SceneObjectPickedInfo=e.CzmPickedInfo=e.DivPickedInfo=e.AttachedPickedInfo=e.PickedInfo=void 0;var o=function(){function t(t){this.childPickedInfo=t}return t.getFinalAttachedInfo=function(t){for(var e=t;e.childPickedInfo;)e=e.childPickedInfo;if(e instanceof i)return e.attachedInfo},t}();e.PickedInfo=o;var i=function(t){function e(e,n){var r=t.call(this,n)||this;return r.attachedInfo=e,r}return r(e,t),e}(o);e.AttachedPickedInfo=i;var s=function(t){function e(e,n){var r=t.call(this,n)||this;return r.element=e,r}return r(e,t),e}(o);e.DivPickedInfo=s;var a=function(t){function e(e,n){var r=t.call(this,n)||this;return r.czmPickResult=e,r}return r(e,t),e}(o);e.CzmPickedInfo=a;var u=function(t){function e(e,n){var r=t.call(this,n)||this;return r.sceneObject=e,r}return r(e,t),e}(o);e.SceneObjectPickedInfo=u},74299:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SceneObject=void 0;var r=n(72256);Object.defineProperty(e,"SceneObject",{enumerable:!0,get:function(){return r.SceneObject}})},89111:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),o(n(74299),e),o(n(37511),e),o(n(47733),e),o(n(1482),e),o(n(37847),e)},1482:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sceneObjConstructorCheck=void 0;var r=n(48791),o=n(74299);e.sceneObjConstructorCheck=function(t,e,n){var i=o.SceneObject.context.getProp(e,"tags");t?((0,r.hasSameTags)(["_ES_Impl_None"],null!=i?i:[])&&console.warn("sceneObject(".concat(e,") 有标签'_ES_Impl_None'(沒有任何渲染器实现), 却有实现！")),(0,r.hasSameTags)(["_ES_Impl_".concat(n),"_ES_Impl_Any"],null!=i?i:[])||console.warn("sceneObject(".concat(e,") 没有标签'_ES_Impl_").concat(n,"'(有").concat(n,"渲染器实现)/'_ES_Impl_Any'(有任意渲染器实现), 却有").concat(n,"渲染器的实现!"))):(0,r.hasSameTags)(["_ES_Impl_${renderName}","_ES_Impl_Any"],null!=i?i:[])&&console.warn("sceneObject(".concat(e,") 有标签'_ES_Impl_").concat(n,"'(有").concat(n,"渲染器实现)/'_ES_Impl_Any'(有任意渲染器实现), 却没有").concat(n,"渲染器的实现!"))}},6830:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerViewerInteraction=void 0;var i=n(88531),s=n(72256),a=function(t){function e(e,n){void 0===n&&(n=!1);var r=t.call(this,n)||this;r._container=e;var o=r._container,i=r.disposeVar(s.DomElementEvent.create(o,"mousemove",r.useCapture));r.dispose(i.disposableOn((function(t){return r._mouseMoveEvent.emit(t)})));var a=r.disposeVar(s.DomElementEvent.create(o,"pointerdown",r.useCapture));r.dispose(a.disposableOn((function(t){return r._pointerDownEvent.emit(t)})));var u=r.disposeVar(s.DomElementEvent.create(o,"pointerup",r.useCapture));r.dispose(u.disposableOn((function(t){return r._pointerUpEvent.emit(t)})));var c=r.disposeVar(s.DomElementEvent.create(o,"pointermove",r.useCapture));r.dispose(c.disposableOn((function(t){return r._pointerMoveEvent.emit(t)})));var l=r.disposeVar(s.DomElementEvent.create(o,"pointerover",r.useCapture));r.dispose(l.disposableOn((function(t){return r._pointerOverEvent.emit(t)})));var p=r.disposeVar(s.DomElementEvent.create(o,"pointerout",r.useCapture));r.dispose(p.disposableOn((function(t){return r._pointerOutEvent.emit(t)})));var f=r.disposeVar(s.DomElementEvent.create(o,"pointerenter",r.useCapture));r.dispose(f.disposableOn((function(t){return r._pointerEnterEvent.emit(t)})));var h=r.disposeVar(s.DomElementEvent.create(o,"pointerleave",r.useCapture));r.dispose(h.disposableOn((function(t){return r._pointerLeaveEvent.emit(t)}))),r._pointerClick.dbClickDelayTime=300,r.dispose(r.pointerDownEvent.disposableOn((function(t){return r._pointerHover.pointerDown(t)}))),r.dispose(r.pointerUpEvent.disposableOn((function(t){return r._pointerHover.pointerUp(t)}))),r.dispose(r.pointerMoveEvent.disposableOn((function(t){return r._pointerHover.pointerMove(t)}))),r.dispose(r.pointerOutEvent.disposableOn((function(t){return r._pointerHover.pointerOut(t)}))),r.dispose(r.pointerDownEvent.disposableOn((function(t){return r._pointerClick.pointerDown(t)}))),r.dispose(r.pointerUpEvent.disposableOn((function(t){return r._pointerClick.pointerUp(t)}))),r.dispose(r.pointerMoveEvent.disposableOn((function(t){return r._pointerClick.pointerMove(t)}))),r.dispose(r.pointerOutEvent.disposableOn((function(t){return r._pointerClick.pointerOut(t)}))),r.dispose(r.pointerMoveEvent.disposableOn((function(t){r.lastWindowPosition=(0,s.getDomEventCurrentTargetPos)(t)})));var d=r.disposeVar(s.DomElementEvent.create(o,"keydown",r.useCapture));r.dispose(d.disposableOn((function(t){return r._keyDownEvent.emit(t)})));var y=r.disposeVar(s.DomElementEvent.create(o,"keyup",r.useCapture));r.dispose(y.disposableOn((function(t){return r._keyUpEvent.emit(t)})));var g=r.disposeVar(s.DomElementEvent.create(o,"wheel",r.useCapture));r.dispose(g.disposableOn((function(t){return r._wheelEvent.emit(t)})));var v=r.disposeVar(s.DomElementEvent.create(o,"dragstart",r.useCapture));r.dispose(v.disposableOn((function(t){return r._dragStartEvent.emit(t)})));var b=r.disposeVar(s.DomElementEvent.create(o,"drag",r.useCapture));r.dispose(b.disposableOn((function(t){return r._dragEvent.emit(t)})));var m=r.disposeVar(s.DomElementEvent.create(o,"dragend",r.useCapture));r.dispose(m.disposableOn((function(t){return r._dragEndEvent.emit(t)})));var _=r.disposeVar(s.DomElementEvent.create(o,"dragover",r.useCapture));r.dispose(_.disposableOn((function(t){return r._dragOverEvent.emit(t)})));var P=r.disposeVar(s.DomElementEvent.create(o,"drop",r.useCapture));return r.dispose(P.disposableOn((function(t){return r._dropEvent.emit(t)}))),r}return o(e,t),e}(i.ViewerInteraction);e.ContainerViewerInteraction=a},40049:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenu=void 0;var i=n(81425),s=function(t){function e(){var e=t.call(this)||this;return e._show=e.disposeVar((0,i.react)(!1)),e._windowPosition=e.disposeVar((0,i.react)([0,0])),e._commandGroups=e.disposeVar(new i.ObservableArray),e.dispose((function(){0!==e._commandGroups.length&&console.warn("右键菜单销毁时，需要保证command数组为空！"),e.show=!1})),e}return o(e,t),Object.defineProperty(e.prototype,"show",{get:function(){return this._show.value},set:function(t){this._show.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showChanged",{get:function(){return this._show.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"windowPosition",{get:function(){return this._windowPosition.value},set:function(t){this._windowPosition.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"windowPositionChanged",{get:function(){return this._windowPosition.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"commandGroups",{get:function(){return this._commandGroups},enumerable:!1,configurable:!0}),e}(i.Destroyable);e.ContextMenu=s},25683:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PickingListening=void 0;var i=n(81425),s=n(89111),a=n(47458),u=function(t){function e(e,n){var r=t.call(this)||this;r._sceneObject=e,r._pickingListening=n;var o=r._sceneObject,i=r._pickingListening;return o.pickedEvent.disposableOn((function(t){t instanceof s.SceneObjectPickedInfo?i.pickedEvent.emit(t):console.warn("!(pickedInfo instanceof SceneObjectPickedInfo)",t)})),r}return o(e,t),e}(i.Destroyable),c=function(t){function e(e){var n=t.call(this)||this;return n._sceneObjectsManager=e,n._pickedEvent=n.disposeVar(new i.Event),n._sol=new a.SceneObjectsListening(n._sceneObjectsManager,(function(t){if("pickedEvent"in t)return new u(t,n)})),n}return o(e,t),Object.defineProperty(e.prototype,"pickedEvent",{get:function(){return this._pickedEvent},enumerable:!1,configurable:!0}),e}(i.Destroyable);e.PickingListening=c},23048:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.PropListening=void 0;var s=n(81425),a=n(47458),u=function(t){function e(e,n,r){var o=t.call(this)||this;o._sceneObject=e,o._propName=n,o._event=r;var a=o._sceneObject,u=o._propName,c=i((0,s.getReactFuncs)([a,u]),3),l=c[0],p=(c[1],c[2]);return o.dispose(p.disposableOn((function(){o._event.emit(a,l())}))),o}return o(e,t),e}(s.Destroyable),c=function(t){function e(e,n,r,o){var i=t.call(this)||this;i._sceneObjectsManager=e;var c=i.disposeVar(new s.Event);return new a.SceneObjectsListening(i._sceneObjectsManager,(function(t){if(n in t&&n+"Changed"in t&&(!o||o(t)))return new u(t,n,c)})),i.dispose(c.disposableOn(r)),i}return o(e,t),e}(s.Destroyable);e.PropListening=c},47458:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.SceneObjectsListening=void 0;var s=function(t){function e(e,n){var r=t.call(this)||this;r._sceneObjectsMananger=e,r._createSceneObjectListeningFunc=n,r._listeningSceneObjects=new Map;var o=r._listeningSceneObjects,s=function(t,e){var n,s,a,u;if(t)try{for(var c=i(t),l=c.next();!l.done;l=c.next()){var p=l.value;(d=o.get(p))&&(d.destroy(),o.delete(p))}}catch(t){n={error:t}}finally{try{l&&!l.done&&(s=c.return)&&s.call(c)}finally{if(n)throw n.error}}if(e)try{for(var f=i(e),h=f.next();!h.done;h=f.next()){var d;p=h.value,(d=o.get(p))&&console.warn("listeningSceneObjects已存在某对象：".concat(p.name),p);var y=r.createSceneObjectListeningFunc(p);y&&o.set(p,y)}}catch(t){a={error:t}}finally{try{h&&!h.done&&(u=f.return)&&u.call(f)}finally{if(a)throw a.error}}};return s(void 0,r._sceneObjectsMananger.sceneObjects),r.dispose(r._sceneObjectsMananger.sceneObjectsToChange.disposableOn(s)),r.dispose((function(){var t,e;try{for(var n=i(r._listeningSceneObjects.values()),o=n.next();!o.done;o=n.next())o.value.destroy()}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}r._listeningSceneObjects.clear()})),r}return o(e,t),Object.defineProperty(e.prototype,"listeningSceneObjects",{get:function(){return this._listeningSceneObjects},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"createSceneObjectListeningFunc",{get:function(){return this._createSceneObjectListeningFunc},enumerable:!1,configurable:!0}),e}(n(81425).Destroyable);e.SceneObjectsListening=s},58679:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.SceneObjectsManager=void 0;var i=n(81425),s=n(23048),a=n(25683),u=function(t){function e(e,n){var r=t.call(this)||this;return r.dispose(e.devTagsChanged.disposableOn((function(t,r){n.emit(e,t,r)}))),r}return o(e,t),e}(i.Destroyable);function c(t,e){(0,i.setExtProp)(t,"_sceneObjectController",e)}function l(t){return(0,i.getExtProp)(t,"_sceneObjectController")}var p=function(t){function e(){var e=t.call(this)||this;return e._sceneObjects=new Set,e._sceneObjectsToChange=e.disposeVar(new i.Event),e._sceneObjectDevTagsChanged=e.disposeVar(new i.Event),e._pickingListening=e.disposeVar(new a.PickingListening(e)),e.dispose((function(){var t=(0,i.length)(e._sceneObjects);0!==t&&console.warn("场景管理器销毁时仍然管理着".concat(t,"个场景对象！"))})),e}return o(e,t),Object.defineProperty(e.prototype,"sceneObjects",{get:function(){return this._sceneObjects},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sceneObjectsToChange",{get:function(){return this._sceneObjectsToChange},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sceneObjectDevTagsChanged",{get:function(){return this._sceneObjectDevTagsChanged},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sceneObjectsPicking",{get:function(){return this._pickingListening},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sceneObjectPickedEvent",{get:function(){return this._pickingListening.pickedEvent},enumerable:!1,configurable:!0}),e.prototype.addSceneObject=function(t){if(this._sceneObjects.has(t))return console.warn("this._sceneObjectsMap.has(sceneObject)"),!1;do{if(l(t)){console.warn("某场景对象已存在控制器，不符合逻辑！");break}this._sceneObjectsToChange.emit([],[t]),c(t,new u(t,this._sceneObjectDevTagsChanged)),this._sceneObjects.add(t)}while(0);return!0},e.prototype.deleteSceneObject=function(t){if(!this._sceneObjects.has(t))return!1;this._sceneObjectsToChange.emit([t],[]);do{var e=l(t);if(!e){console.warn("某场景对象不存在控制器，不符合逻辑！");break}e.destroy(),c(t,void 0),this._sceneObjects.delete(t)}while(0);return!0},e.prototype.listenProp=function(t,e,n){var r=new s.PropListening(this,t,e,n);return function(){return r.destroy()}},e}(i.Destroyable);e.SceneObjectsManager=p},88531:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ViewerInteraction=void 0;var i=n(81425),s=n(72256),a=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n._useCapture=e,n._lastWindownPosition=(0,i.reactArray)([0,0]),n._mouseMoveEvent=n.disposeVar(new i.Event),n._pointerDownEvent=n.disposeVar(new i.Event),n._pointerUpEvent=n.disposeVar(new i.Event),n._pointerMoveEvent=n.disposeVar(new i.Event),n._pointerOverEvent=n.disposeVar(new i.Event),n._pointerOutEvent=n.disposeVar(new i.Event),n._pointerEnterEvent=n.disposeVar(new i.Event),n._pointerLeaveEvent=n.disposeVar(new i.Event),n._pointerHover=n.disposeVar(new s.PointerHover),n._pointerClick=n.disposeVar(new s.PointerClick),n._keyDownEvent=n.disposeVar(new i.Event),n._keyUpEvent=n.disposeVar(new i.Event),n._wheelEvent=n.disposeVar(new i.Event),n._dragStartEvent=n.disposeVar(new i.Event),n._dragEvent=n.disposeVar(new i.Event),n._dragEndEvent=n.disposeVar(new i.Event),n._dragOverEvent=n.disposeVar(new i.Event),n._dropEvent=n.disposeVar(new i.Event),n}return o(e,t),Object.defineProperty(e.prototype,"lastWindowPosition",{get:function(){return this._lastWindownPosition.value},set:function(t){this._lastWindownPosition.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastWindowPositionChanged",{get:function(){return this._lastWindownPosition.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"useCapture",{get:function(){return this._useCapture},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mouseMoveEvent",{get:function(){return this._mouseMoveEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pointerDownEvent",{get:function(){return this._pointerDownEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pointerUpEvent",{get:function(){return this._pointerUpEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pointerMoveEvent",{get:function(){return this._pointerMoveEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pointerOverEvent",{get:function(){return this._pointerOverEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pointerOutEvent",{get:function(){return this._pointerOutEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pointerEnterEvent",{get:function(){return this._pointerEnterEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pointerLeaveEvent",{get:function(){return this._pointerLeaveEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pointerHover",{get:function(){return this._pointerHover},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pointerClick",{get:function(){return this._pointerClick},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keyDownEvent",{get:function(){return this._keyDownEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keyUpEvent",{get:function(){return this._keyUpEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wheelEvent",{get:function(){return this._wheelEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dragStartEvent",{get:function(){return this._dragStartEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dragEvent",{get:function(){return this._dragEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dragEndEvent",{get:function(){return this._dragEndEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dragOverEvent",{get:function(){return this._dragOverEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropEvent",{get:function(){return this._dropEvent},enumerable:!1,configurable:!0}),e}(i.Destroyable);e.ViewerInteraction=a},59464:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ViewerInteractionWithContainerResetting=void 0;var i=n(81425),s=n(72256),a=function(t){function e(e,n){var r=t.call(this)||this;r._interaction=e,r._container=n;var o=r._container,i=r.disposeVar(s.DomElementEvent.create(o,"mousemove",r._interaction.useCapture));r.dispose(i.disposableOn((function(t){return r._interaction.mouseMoveEvent.emit(t)})));var a=r.disposeVar(s.DomElementEvent.create(o,"pointerdown",r._interaction.useCapture));r.dispose(a.disposableOn((function(t){return r._interaction.pointerDownEvent.emit(t)})));var u=r.disposeVar(s.DomElementEvent.create(o,"pointerup",r._interaction.useCapture));r.dispose(u.disposableOn((function(t){return r._interaction.pointerUpEvent.emit(t)})));var c=r.disposeVar(s.DomElementEvent.create(o,"pointermove",r._interaction.useCapture));r.dispose(c.disposableOn((function(t){return r._interaction.pointerMoveEvent.emit(t)})));var l=r.disposeVar(s.DomElementEvent.create(o,"pointerover",r._interaction.useCapture));r.dispose(l.disposableOn((function(t){return r._interaction.pointerOverEvent.emit(t)})));var p=r.disposeVar(s.DomElementEvent.create(o,"pointerout",r._interaction.useCapture));r.dispose(p.disposableOn((function(t){return r._interaction.pointerOutEvent.emit(t)})));var f=r.disposeVar(s.DomElementEvent.create(o,"pointerenter",r._interaction.useCapture));r.dispose(f.disposableOn((function(t){return r._interaction.pointerEnterEvent.emit(t)})));var h=r.disposeVar(s.DomElementEvent.create(o,"pointerleave",r._interaction.useCapture));r.dispose(h.disposableOn((function(t){return r._interaction.pointerLeaveEvent.emit(t)}))),r._interaction.pointerClick.dbClickDelayTime=300,r.dispose(r._interaction.pointerDownEvent.disposableOn((function(t){return r._interaction.pointerHover.pointerDown(t)}))),r.dispose(r._interaction.pointerUpEvent.disposableOn((function(t){return r._interaction.pointerHover.pointerUp(t)}))),r.dispose(r._interaction.pointerMoveEvent.disposableOn((function(t){return r._interaction.pointerHover.pointerMove(t)}))),r.dispose(r._interaction.pointerOutEvent.disposableOn((function(t){return r._interaction.pointerHover.pointerOut(t)}))),r.dispose(r._interaction.pointerDownEvent.disposableOn((function(t){return r._interaction.pointerClick.pointerDown(t)}))),r.dispose(r._interaction.pointerUpEvent.disposableOn((function(t){return r._interaction.pointerClick.pointerUp(t)}))),r.dispose(r._interaction.pointerMoveEvent.disposableOn((function(t){return r._interaction.pointerClick.pointerMove(t)}))),r.dispose(r._interaction.pointerOutEvent.disposableOn((function(t){return r._interaction.pointerClick.pointerOut(t)}))),r.dispose(r._interaction.pointerMoveEvent.disposableOn((function(t){r._interaction.lastWindowPosition=(0,s.getDomEventCurrentTargetPos)(t)})));var d=r.disposeVar(s.DomElementEvent.create(o,"keydown",r._interaction.useCapture));r.dispose(d.disposableOn((function(t){return r._interaction.keyDownEvent.emit(t)})));var y=r.disposeVar(s.DomElementEvent.create(o,"keyup",r._interaction.useCapture));r.dispose(y.disposableOn((function(t){return r._interaction.keyUpEvent.emit(t)})));var g=r.disposeVar(s.DomElementEvent.create(o,"wheel",r._interaction.useCapture));r.dispose(g.disposableOn((function(t){return r._interaction.wheelEvent.emit(t)})));var v=r.disposeVar(s.DomElementEvent.create(o,"dragstart",r._interaction.useCapture));r.dispose(v.disposableOn((function(t){return r._interaction.dragStartEvent.emit(t)})));var b=r.disposeVar(s.DomElementEvent.create(o,"drag",r._interaction.useCapture));r.dispose(b.disposableOn((function(t){return r._interaction.dragEvent.emit(t)})));var m=r.disposeVar(s.DomElementEvent.create(o,"dragend",r._interaction.useCapture));r.dispose(m.disposableOn((function(t){return r._interaction.dragEndEvent.emit(t)})));var _=r.disposeVar(s.DomElementEvent.create(o,"dragover",r._interaction.useCapture));r.dispose(_.disposableOn((function(t){return r._interaction.dragOverEvent.emit(t)})));var P=r.disposeVar(s.DomElementEvent.create(o,"drop",r._interaction.useCapture));return r.dispose(P.disposableOn((function(t){return r._interaction.dropEvent.emit(t)}))),r}return o(e,t),e}(i.Destroyable);e.ViewerInteractionWithContainerResetting=a},25027:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerStyleController=void 0;var s=function(t){function e(e,n,r){var o=t.call(this)||this;o._subContainer=e,o._overlayContainer=n,o._viewer=r;var s=o._subContainer,a=o._overlayContainer,u=o._viewer,c=function(){var t,e=i(null!==(t=u.originRatioAndOffset)&&void 0!==t?t:[0,0,0,0],4),n=e[0],r=e[1],o=e[2],a=e[3];s.style.position="absolute",s.style.left="calc(".concat(100*n,"% + ").concat(o,"px)"),s.style.top="calc(".concat(100*r,"% + ").concat(a,"px)")};c(),o.dispose(u.originRatioAndOffsetChanged.disposableOn(c));var l=function(){var t,e=i(null!==(t=u.sizeRatioAndOffset)&&void 0!==t?t:[1,1,0,0],4),n=e[0],r=e[1],o=e[2],a=e[3];s.style.position="absolute",s.style.width="calc(".concat(100*n,"% + ").concat(o,"px)"),s.style.height="calc(".concat(100*r,"% + ").concat(a,"px)")};l(),o.dispose(u.sizeRatioAndOffsetChanged.disposableOn(l));var p=function(){var t;null===(t=u.activeStyleEnabled)||void 0===t||t||(s.style.border=u.actived?"1px solid #04a9d5":"1px solid #333333",s.style.boxSizing="border-box")};p(),o.dispose(u.activedChanged.disposableOn(p));var f=function(){var t,e=null!==(t=u.zIndex)&&void 0!==t?t:"";s.style.zIndex=e,a.style.zIndex=e};f(),o.dispose(u.zIndexChanged.disposableOn(f));var h=function(){var t;s.style.display=null===(t=u.show)||void 0===t||t?"block":"none"};h(),o.dispose(u.showChanged.disposableOn(h));var d=function(){var t;s.style.opacity="".concat(null!==(t=u.opacity)&&void 0!==t?t:1)};return d(),o.dispose(u.opacityChanged.disposableOn(d)),o}return o(e,t),e}(n(81425).Destroyable);e.ContainerStyleController=s},70482:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.UseDefaultStatusDivRegister=void 0;var i=n(81425),s=n(39208),a=n(89111),u=function(t){function e(n){var r=t.call(this)||this;return r.dispose(a.SceneObject.context.sceneObjCreatedEvent.disposableOn((function(t){n===t&&function(){var t=r.disposeVar(new s.CustomDiv);r.dispose((0,i.track)([t,"show"],[n,"useDefaultStatusDiv"]));var u=function(){var e;t.show=(null===(e=n.useDefaultStatusDiv)||void 0===e||e)&&"Created"!==n.status};u(),r.dispose(n.useDefaultStatusDivChanged.disposableOn(u)),r.dispose(n.statusChanged.disposableOn(u)),n.add(t),r.dispose((function(){return n.delete(t)})),t.instanceClass=function(t){function n(n,r,o){var s=t.call(this)||this;if(s._subContainer=n,s._div=document.createElement("div"),!o)return s;s._subContainer.appendChild(s._div),s.dispose((function(){return s._subContainer.removeChild(s._div)})),(h=function(){r.show?s._div.style.opacity="1":s._div.style.opacity="0"})(),s.dispose(r.showChanged.disposableOn(h));var u,c,l,p,f,h,d=function(t){return a.SceneObject.context.getStrFromEnv(t)};s._div.style.pointerEvents="none",s._div.style.position="absolute",s._div.style.width="100%",s._div.style.height="100%",s._div.style.backgroundColor="rgba(0, 0, 0, 0.4)",s._div.style.zIndex="100",s._div.style.transition="opacity 2s",u=document.createElement("div"),s._div.appendChild(u),u.style.width="auto",u.style.position="absolute",u.style.left="50%",u.style.top="50%",u.style.transform="translate(-50%,-50%)",u.style.background="rgba(120, 120, 0, 0.7)",u.style.color="white",u.style.fontSize="10px",u.style.background="none",u.style.display="flex",u.style.flexFlow="column",u.style.alignItems="center",c=document.createElement("img"),u.appendChild(c),c.style.pointerEvents="none",c.style.display="block",c.style.width="50px",c.src="".concat(d(e.defaults.load)),c.style.filter="drop-shadow(0px 0px 1px black)",l=document.createElement("div"),u.appendChild(l),l.style.pointerEvents="none",l.style.marginTop="15px",l.style.display="flex",l.style.flexFlow="column",l.style.maxWidth="300px",p=document.createElement("div"),l.appendChild(p),p.style.fontSize="14px",p.style.fontWeight="800",p.style.marginBottom="5px",p.style.textShadow="0 0 2px black",f=document.createElement("div"),l.appendChild(f),f.style.fontWeight="400",f.style.textShadow="0 0 2px black",(h=function(){var t="Raw";"Raw"===o.status?t="初始状态":"Creating"===o.status?t="正在创建":"Created"===o.status?t="创建完成":"Error"===o.status&&(t="创建失败"),p.innerText="".concat(t,"(").concat(o.status,")"),f.innerText="".concat(o.creatingLog),"Creating"===o.status&&(c.style.width="40px",c.src="".concat(d(e.defaults.load))),"Created"===o.status&&(c.style.width="40px",c.src="".concat(d(e.defaults.succeed))),"Error"===o.status&&(c.style.width="40px",c.src="".concat(d(e.defaults.failure)))})();var y=s.disposeVar((0,i.createNextAnimateFrameEvent)(o.creatingLogChanged,o.statusChanged));return s.dispose(y.disposableOn(h)),s}return o(n,t),n.prototype.update=function(){var t=255*Math.random()|0,e=255*Math.random()|0,n=255*Math.random()|0;this._div.style.background="rgba(".concat(t,", ").concat(e,", ").concat(n,", 0.8)")},n}(i.Destroyable)}()}))),r}return o(e,t),e.defaults={load:"${xe2-base-objects-script-dir}/xe2-assets/xe2-base-objects/images/load2.gif",succeed:"${xe2-base-objects-script-dir}/xe2-assets/xe2-base-objects/images/dui.png",failure:"${xe2-base-objects-script-dir}/xe2-assets/xe2-base-objects/images/gantan.png"},e}(i.Destroyable);e.UseDefaultStatusDivRegister=u},9777:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},s=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},u=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.Viewer=void 0;var c=n(81425),l=n(72256),p=n(86775),f=n(89111),h=n(88531),d=n(59464),y=n(25027),g=n(70482);function v(t){(t.offsetWidth<=0||t.offsetHeight<=0)&&(console.warn("当前指定的容器div(".concat(t.id,')的宽度或者高度可能为0，会导致视口不看见！可以这样写：<div style="height: 600px; width: 800px;" id="app"></div>')),console.warn("当前可能存在问题的容器div是",t));var e=(0,c.getExtProp)(t,"_relativeContainer");return e||((e=document.createElement("div")).style.position="relative",e.style.width="100%",e.style.height="100%",e.style.padding="0",e.style.margin="0",t.appendChild(e),(0,c.setExtProp)(t,"_relativeContainer",e)),e}var b=function(t){function e(e,n){var r=t.call(this)||this;r._container=e,r._viewer=n,r._subContainer=document.createElement("div"),r._overlayContainer=document.createElement("div"),r._containerStyleController=r.disposeVar(new y.ContainerStyleController(r._subContainer,r._overlayContainer,r._viewer));var o=r,i=o.subContainer,s=o.overlayContainer;return i.tabIndex=-1,i.style.outline="none",i.onpointerdown=function(){return i.focus()},s.style.position="relative",s.className="overlayContainer",v(r._container).appendChild(i),r.dispose((function(){return v(r._container).removeChild(i)})),v(r._container).appendChild(s),r.dispose((function(){return v(r._container).removeChild(s)})),r}return o(e,t),Object.defineProperty(e.prototype,"subContainer",{get:function(){return this._subContainer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overlayContainer",{get:function(){return this._overlayContainer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"containerStyleController",{get:function(){return this._containerStyleController},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"container",{get:function(){return this._container},enumerable:!1,configurable:!0}),e}(c.Destroyable),m=function(t){function e(e){var n=t.call(this,e)||this;n._container=(0,c.react)(void 0),n._defaultContainerByManagerReact=n.disposeVar((0,c.react)(void 0)),n._forceRecreateEvent=n.disposeVar(new c.Event),n._activeRequesting=n.disposeVar(new c.Event),n._containerSize=n.disposeVar((0,c.react)(void 0)),n._finalContainerReact=n.disposeVar((0,c.react)(void 0)),n._containerResettingEvent=n.disposeVar((0,c.createNextAnimateFrameEvent)(n._finalContainerReact.changed,n._forceRecreateEvent)),n._containerResetting=n.disposeVar(new l.ObjResettingWithEvent(n._containerResettingEvent,(function(){return n._finalContainerReact.value&&new b(n._finalContainerReact.value,n)}))),n._interactionUseBubble=n.disposeVar(new h.ViewerInteraction(!1)),n._interactionUseBubbleResetting=n.disposeVar(new l.ObjResettingWithEvent(n.subContainerChanged,(function(){return n.subContainer&&new d.ViewerInteractionWithContainerResetting(n.interactionUseBubble,n.subContainer)}))),n._interactionUseCapture=n.disposeVar(new h.ViewerInteraction(!0)),n._interactionUseCaptureResetting=n.disposeVar(new l.ObjResettingWithEvent(n.subContainerChanged,(function(){return n.subContainer&&new d.ViewerInteractionWithContainerResetting(n.interactionUseCapture,n.subContainer)}))),n._nativePickedEvent=n.disposeVar(new c.Event),n._status=n.disposeVar((0,c.react)("Raw")),n._creatingLog=n.disposeVar((0,c.react)(""));var r=n.disposeVar((0,c.createNextAnimateFrameEvent)(n._container.changed,n._defaultContainerByManagerReact.changed,n.useDefaultContainerWhenNoContainerChanged));n.dispose(r.disposableOn((function(){var t;n._finalContainerReact.value=n._container.value||(null===(t=n.useDefaultContainerWhenNoContainer)||void 0===t||t?n._defaultContainerByManagerReact.value:void 0)})));var o=n.disposeVar((0,l.createAnimateFrameWithStartValues)((function(t){var e=n._container.value;if(e){var r=e.clientWidth,o=e.clientHeight;n._containerSize.value=[r,o]}}))),i=function(){o.isRunning&&o.cancel(),n._container.value&&o.restart()};return i(),n.dispose(n._container.changed.disposableOn(i)),n.dispose((function(){var t=(0,c.length)(n.sceneObjects);0!==t&&console.error("Viewer在销毁之前，应该清除所有的sceneObject！但是显然没有做到！仍然有".concat(t,"个场景对象！"))})),n.disposeVar(new g.UseDefaultStatusDivRegister(n)),n}return o(e,t),Object.defineProperty(e.prototype,"container",{get:function(){return this._container.value},set:function(t){"string"!=typeof t?void 0===t||t instanceof HTMLDivElement?this._container.value=t:console.warn("container的属性赋值为一个非HTMLDivElment对象，请检查赋值是否存在问题！"):console.warn("Viewer的container属性不能赋值为某个字符串(".concat(t,"), 如果您需要通过id来设置容器，可以这样写：xxx.containerId = id"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"containerChanged",{get:function(){return this._container.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"containerOrId",{set:function(t){if("string"==typeof t){var e=document.getElementById(t);e&&e instanceof HTMLDivElement?this.container=e:console.warn("containerOrId warn: !(container instanceof HTMLDivElement)")}else t instanceof HTMLDivElement?this.container=t:console.warn("containerOrId warn: setting container failed!")},enumerable:!1,configurable:!0}),e.prototype.setDefaultContainerByManager=function(t){this._defaultContainerByManagerReact.value=t},e.prototype.forceRecreate=function(){this._forceRecreateEvent.emit()},Object.defineProperty(e.prototype,"activeRequesting",{get:function(){return this._activeRequesting},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"containerSize",{get:function(){return this._containerSize.value},set:function(t){this._containerSize.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"containerSizeChanged",{get:function(){return this._containerSize.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"subContainer",{get:function(){var t;return null===(t=this._containerResetting.obj)||void 0===t?void 0:t.subContainer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"subContainerChanged",{get:function(){return this._containerResetting.objChanged},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overlayerContainer",{get:function(){var t;return null===(t=this._containerResetting.obj)||void 0===t?void 0:t.overlayContainer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overlayerContainerChanged",{get:function(){return this._containerResetting.objChanged},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"interactionUseBubble",{get:function(){return this._interactionUseBubble},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"interaction",{get:function(){return this.interactionUseBubble},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"interactionUseCapture",{get:function(){return this._interactionUseCapture},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nativePickedEvent",{get:function(){return this._nativePickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this._status.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"statusChanged",{get:function(){return this._status.changed},enumerable:!1,configurable:!0}),e.prototype.setStaus=function(t){this._status.value=t},Object.defineProperty(e.prototype,"creatingLog",{get:function(){return this._creatingLog.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"creatingLogChanged",{get:function(){return this._creatingLog.changed},enumerable:!1,configurable:!0}),e.prototype.setCreatingLog=function(t){this._creatingLog.value=t},e.prototype.add=function(){for(var t,e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{for(var o=s(n),i=o.next();!i.done;i=o.next()){var a=i.value;a instanceof f.ESSceneObject&&a.viewerAttched.emit(this)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},e.prototype.delete=function(){for(var t,e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{for(var o=s(n),i=o.next();!i.done;i=o.next()){var a=i.value;a instanceof f.ESSceneObject&&a.viewerDetached.emit(this)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},e.prototype.clearAllSceneObjects=function(){var t,e;try{for(var n=s(this.sceneObjects),r=n.next();!r.done;r=n.next()){var o=r.value;this.delete(o)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},e.prototype.pickAndEmit=function(t,e){var n=this,r=this.pick(t,e);return r instanceof Promise?r.then((function(t){return n.nativePickedEvent.emit(t)})):this.nativePickedEvent.emit(r),r},e.prototype.pickAndEmitWithViewerPickingTag=function(t,e){this.pickAndEmit(t,{type:"viewerPicking",mouseEvent:e})},e.prototype.getProperties=function(e){var n=this;return u(u([],a(t.prototype.getProperties.call(this,e)),!1),[new p.GroupProperty("视口","视口",[new p.BooleanProperty("是否可见","是否可见, 如果为undefined，表示不做设置",!0,!1,[this,"show"]),new p.NumberProperty("不透明度","不透明度, 如果为undefined，表示不做设置",!0,!1,[this,"opacity"]),new p.BooleanProperty("激活样式可用","是否使用内部激活样式可用, 如果希望自行控制窗口尺寸等css样式，可以将本属性设置为false",!0,!1,[this,"activeStyleEnabled"]),new p.BooleanProperty("是否激活","是否激活",!1,!1,[this,"actived"]),new p.StringProperty("z向索引","z向索引, 如果为undefined，表示不做设置",!0,!1,[this,"zIndex"]),new p.Number4Property("窗口原点","窗口原点[leftRatio: number, topRatio: number, leftOffset: number, topOffset: number], 如果为undefined，表示不做设置",!0,!1,[this,"originRatioAndOffset"],[0,0,0,0]),new p.Number4Property("窗口尺寸","窗口尺寸[widthRatio: number, heightRatio: number, widthOffset: number, heightOffset: number], 如果为undefined，表示不做设置",!0,!1,[this,"sizeRatioAndOffset"],[1,1,0,0]),new p.BooleanProperty("使用默认容器","当用户没有设置容器时是否自动使用默认容器来加载",!0,!1,[this,"useDefaultContainerWhenNoContainer"],!0),new p.FunctionProperty("强制刷新","当窗口出现异常时，可以执行强制刷新来恢复。",[],(function(){return n.forceRecreate()}),[]),new p.StringProperty("视口状态","视口状态，只读属性, 视口状态，'Raw'表示初始状态，'Creating'表示正在创建, 'Created'表示创建完成, 'Error'表示创建失败",!1,!0,[this,"status"]),new p.StringProperty("创建日志","创建日志，返回创建视口过程中的日志信息",!1,!0,[this,"creatingLog"]),new p.BooleanProperty("使用默认状态窗口","使用默认状态窗口",!0,!1,[this,"useDefaultStatusDiv"],!1)]),new p.GroupProperty("视口快捷设置","视口快捷设置",[new p.FunctionProperty("全屏","全屏",[],(function(){return n.setViewport("full")}),[]),new p.FunctionProperty("左屏","左屏",[],(function(){return n.setViewport("left")}),[]),new p.FunctionProperty("右屏","右屏",[],(function(){return n.setViewport("right")}),[]),new p.FunctionProperty("左上屏","左上屏",[],(function(){return n.setViewport("leftTop")}),[]),new p.FunctionProperty("右上屏","右上屏",[],(function(){return n.setViewport("rightTop")}),[]),new p.FunctionProperty("左下屏","左下屏",[],(function(){return n.setViewport("leftBottom")}),[]),new p.FunctionProperty("右下屏","右下屏",[],(function(){return n.setViewport("rightBottom")}),[]),new p.FunctionProperty("左上鹰眼图","左上鹰眼图",[],(function(){return n.setViewport("leftTopEagle")}),[]),new p.FunctionProperty("右上鹰眼图","右上鹰眼图",[],(function(){return n.setViewport("rightTopEagle")}),[]),new p.FunctionProperty("左下鹰眼图","左下鹰眼图",[],(function(){return n.setViewport("leftBottomEagle")}),[]),new p.FunctionProperty("右下鹰眼图","右下鹰眼图",[],(function(){return n.setViewport("rightBottomEagle")}),[])])],!1)},e.prototype.setViewport=function(t){"full"===t?(this.originRatioAndOffset=[0,0,0,0],this.sizeRatioAndOffset=[1,1,0,0]):"left"===t?(this.originRatioAndOffset=[0,0,0,0],this.sizeRatioAndOffset=[.5,1,0,0],this.zIndex="1"):"right"===t?(this.originRatioAndOffset=[.5,0,0,0],this.sizeRatioAndOffset=[.5,1,0,0],this.zIndex="1"):"leftTop"===t?(this.originRatioAndOffset=[0,0,0,0],this.sizeRatioAndOffset=[.5,.5,0,0],this.zIndex="1"):"rightTop"===t?(this.originRatioAndOffset=[.5,0,0,0],this.sizeRatioAndOffset=[.5,.5,0,0],this.zIndex="1"):"leftBottom"===t?(this.originRatioAndOffset=[0,.5,0,0],this.sizeRatioAndOffset=[.5,.5,0,0],this.zIndex="1"):"rightBottom"===t?(this.originRatioAndOffset=[.5,.5,0,0],this.sizeRatioAndOffset=[.5,.5,0,0],this.zIndex="1"):"leftTopEagle"===t?(this.originRatioAndOffset=[0,0,10,10],this.sizeRatioAndOffset=[0,0,220,220],this.zIndex="1000"):"rightTopEagle"===t?(this.originRatioAndOffset=[1,0,-230,10],this.sizeRatioAndOffset=[0,0,220,220],this.zIndex="1000"):"leftBottomEagle"===t?(this.originRatioAndOffset=[0,1,10,-230],this.sizeRatioAndOffset=[0,0,220,220],this.zIndex="1000"):"rightBottomEagle"===t&&(this.originRatioAndOffset=[1,1,-230,-230],this.sizeRatioAndOffset=[0,0,220,220],this.zIndex="1000")},e}(f.ESSceneObject);e.Viewer=m,function(t){t.createDefaultProps=function(){return i({show:void 0,opacity:void 0,actived:!1,activeStyleEnabled:void 0,zIndex:void 0,originRatioAndOffset:(0,c.reactArrayWithUndefined)(void 0),sizeRatioAndOffset:(0,c.reactArrayWithUndefined)(void 0),useDefaultContainerWhenNoContainer:void 0,useDefaultStatusDiv:void 0},f.ESSceneObject.createDefaultProps())}}(m=e.Viewer||(e.Viewer={})),e.Viewer=m,(0,c.extendClassProps)(m.prototype,m.createDefaultProps)},14496:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.ViewersManager=void 0;var u=n(81425),c=n(48791),l=n(9777),p=function(t){function e(e,n){var r=t.call(this)||this;r._viewer=e,r._sceneObjectsManager=n;var o=function(t,e){var n,o,s,a;try{for(var u=i(t),p=u.next();!p.done;p=u.next()){var f=p.value;!(0,c.hasSameViewerTags)(r._viewer.devTags,f.devTags)||f instanceof l.Viewer||(r._viewer.has(f)?r._viewer.delete(f):console.warn("sceneObject和viewer都有相同的tag，但是viewer中并没有它！检查一下逻辑是否有问题！"))}}catch(t){n={error:t}}finally{try{p&&!p.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}try{for(var h=i(e),d=h.next();!d.done;d=h.next())f=d.value,!(0,c.hasSameViewerTags)(r._viewer.devTags,f.devTags)||f instanceof l.Viewer||(r._viewer.has(f)?console.warn("sceneObject和viewer都有相同的tag，sceneObject刚加入，但是viewer中居然已经有它了！检查一下逻辑是否有问题！"):r._viewer.add(f))}catch(t){s={error:t}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(s)throw s.error}}};return o([],r._sceneObjectsManager.sceneObjects),r.dispose(r._sceneObjectsManager.sceneObjectsToChange.disposableOn(o)),r.dispose(r._sceneObjectsManager.sceneObjectDevTagsChanged.disposableOn((function(t,e,n){t instanceof l.Viewer||((0,c.hasSameViewerTags)(r._viewer.devTags,e)?r._viewer.has(t)||r._viewer.add(t):r._viewer.has(t)&&r._viewer.delete(t))}))),r.dispose(r._viewer.viewerTagsChanged.disposableOn((function(t,e){r._viewer.clearAllSceneObjects(),o([],r._sceneObjectsManager.sceneObjects)}))),r.dispose((function(){return r._viewer.clearAllSceneObjects()})),r}return o(e,t),Object.defineProperty(e.prototype,"viewer",{get:function(){return this._viewer},enumerable:!1,configurable:!0}),e}(u.Destroyable);function f(t){return(0,u.getExtProp)(t,"_viewerHandler")}function h(t,e){return(0,u.setExtProp)(t,"_viewerHandler",e)}var d=function(t){function e(e,n){var r=t.call(this)||this,o=function(){e.setDefaultContainerByManager(n.defaultContainer)};return o(),r.dispose(n.defaultContainerChanged.disposableOn(o)),r}return o(e,t),e}(u.Destroyable),y=function(t){function e(e){var n=t.call(this)||this;return n._sceneObjectsManager=e,n._viewers=new Set,n._viewersChanged=n.disposeVar(new u.Event),n._defaultContainerReact=n.disposeVar((0,u.react)(void 0)),n.dispose(n._sceneObjectsManager.sceneObjectsToChange.disposableOn((function(t,e){var r,o,s,a;try{for(var u=i(t),c=u.next();!c.done;c=u.next())if((v=c.value)instanceof l.Viewer){var d=v;do{if(!n._viewers.has(d)){console.warn("要删除的viewer居然不再viewersManager的管理之下，逻辑有问题！");break}if(!(b=f(d))){console.warn("居然没有viewerHandler！逻辑有问题！");break}b.destroy(),n._viewers.delete(d),n._viewersChanged.emit([d],[])}while(0)}}catch(t){r={error:t}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}try{for(var y=i(e),g=y.next();!g.done;g=y.next()){var v;if((v=g.value)instanceof l.Viewer){d=v;do{if(n._viewers.has(d)){console.warn("要添加的viewer居然已经在viewersManager的管理之下，逻辑有问题！");break}var b;if(f(d)){console.warn("居然已经有viewerHandler！逻辑有问题！");break}h(d,b=new p(d,n._sceneObjectsManager)),n._viewers.add(d),n._viewersChanged.emit([],[d])}while(0)}}}catch(t){s={error:t}}finally{try{g&&!g.done&&(a=y.return)&&a.call(y)}finally{if(s)throw s.error}}}))),n.dispose(n.viewersChanged.disposableOn((function(t,e){var r,o,s,a;try{for(var c=i(t),l=c.next();!l.done;l=c.next()){var p=l.value;(y=(0,u.getExtProp)(p,"_DefaultContainerAndViewerBinding"))?y.destroy():console.warn("cannot get _DefaultContainerAndViewerBinding, logic error!")}}catch(t){r={error:t}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}try{for(var f=i(e),h=f.next();!h.done;h=f.next()){var y;p=h.value,(y=(0,u.getExtProp)(p,"_DefaultContainerAndViewerBinding"))&&console.warn("get _DefaultContainerAndViewerBinding, logic error!"),(0,u.setExtProp)(p,"_DefaultContainerAndViewerBinding",new d(p,n))}}catch(t){s={error:t}}finally{try{h&&!h.done&&(a=f.return)&&a.call(f)}finally{if(s)throw s.error}}}))),n}return o(e,t),Object.defineProperty(e.prototype,"viewers",{get:function(){return this._viewers},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewersAsArray",{get:function(){return a([],s(this._viewers),!1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewersChanged",{get:function(){return this._viewersChanged},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultContainer",{get:function(){return this._defaultContainerReact.value},set:function(t){"string"!=typeof t?void 0===t||t instanceof HTMLDivElement?this._defaultContainerReact.value=t:console.warn("defaultContainer属性赋值为一个非HTMLDivElment对象，请检查赋值是否存在问题！"):console.warn("defaultContainer属性不能赋值为某个字符串(".concat(t,"), 如果您需要通过id来设置容器，可以这样写：xxx.containerId = id"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultContainerChanged",{get:function(){return this._defaultContainerReact.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultContainerOrId",{set:function(t){if("string"==typeof t){var e=document.getElementById(t);e&&e instanceof HTMLDivElement&&(this.defaultContainer=e)}else t instanceof HTMLDivElement&&(this.defaultContainer=t)},enumerable:!1,configurable:!0}),e}(u.Destroyable);e.ViewersManager=y},86616:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},u=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.ViewersPicking=void 0;var c=n(81425),l=n(72256),p=n(89111),f=n(47458),h=n(9777),d=function(t){function e(e,n,r){var o=t.call(this)||this;return o._viewer=e,o._viewerPointerEvent=n,o._viewersPicking=r,o._processing=o.disposeVar((0,l.createProcessingFromAsyncFunc)((function(t,e){return i(o,void 0,void 0,(function(){var n,r,o,i,a,u;return s(this,(function(s){switch(s.label){case 0:return n=(0,l.getDomEventCurrentTargetPos)(e),r={type:"viewerPicking",pointerEvent:e},t.disposer.dispose(this._viewersPicking.sceneObjectsManager.sceneObjectPickedEvent.disposableOn((function(t){p.PickedInfo.getFinalAttachedInfo(t)===r&&(o=t)}))),(i=this._viewer.pickAndEmit(n,r))instanceof Promise?[4,t.promise(i)]:[3,2];case 1:return u=s.sent(),[3,3];case 2:u=i,s.label=3;case 3:if((a=u)&&!o&&this._viewersPicking.debug&&console.warn("可能是拾取到了某个对象，但是并非XE2的场景对象！",a),!a&&o)throw console.error("!pickedInfo && result 绝不可能出现没有拾取结果，但是居然有拾取到了某个场景对象！"),new Error("!pickedInfo && result");return this._viewersPicking.sceneObjectPickedEvent.emit(o,a,this._viewer),[2]}}))}))}))),o.dispose(o._viewerPointerEvent.disposableOn((function(t){o._processing.isRunning&&o._processing.cancel(void 0),o._viewersPicking.enabled&&(o._processing.reset(),o._processing.start(t))}))),o}return o(e,t),e}(c.Destroyable),y=function(t){function e(e){var n=t.call(this)||this;n._viewer=e;var r=n._viewer;return n.dispose(l.DomElementEvent.on(r.interaction.pointerClick.clickEvent,(function(t){t.altKey||t.ctrlKey||n.emit(t)}))),n}return o(e,t),e}(c.Event),g=function(t){function e(n,r){void 0===r&&(r=e.defaultCreateViewerClickEvent);var i=t.call(this)||this;return i._sceneObjectsManager=n,i._createViewerPointerEvent=r,i.debug=!1,i.enabled=!0,i._sceneObjectPickedEvent=i.disposeVar(new c.Event),i._viewerListening=i.disposeVar(new f.SceneObjectsListening(i._sceneObjectsManager,(function(t){if(t instanceof h.Viewer){var e=i,n=function(t){function n(n){var r=t.call(this)||this;return r._viewer=n,r._viewerPointerEvent=r.disposeVar(e._createViewerPointerEvent(r._viewer)),r._viewerPicking=r.disposeVar(new d(r._viewer,r._viewerPointerEvent,e)),r}return o(n,t),Object.defineProperty(n.prototype,"viewerPicking",{get:function(){return this._viewerPicking},enumerable:!1,configurable:!0}),n}(c.Destroyable);return new n(t)}}))),i}return o(e,t),Object.defineProperty(e.prototype,"sceneObjectsManager",{get:function(){return this._sceneObjectsManager},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sceneObjectPickedEvent",{get:function(){return this._sceneObjectPickedEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewerListening",{get:function(){return this._viewerListening},enumerable:!1,configurable:!0}),e.create=function(t,n){return new e(t,(function(t){return new(function(r){function i(){var o,i,s=r.call(this)||this,c=function(n){var r=a(n,2),o=r[0],i=void 0===o?"click":o,u=r[1],c=("string"==typeof i?e.getEvents[i]:i)(t),f="string"==typeof u?e.filters[u]:u;if(!c)return"continue";p.dispose(l.DomElementEvent.on(c,(function(t){f&&!f(t)||s.emit(t)})))},p=this;try{for(var f=u(n),h=f.next();!h.done;h=f.next())c(h.value)}catch(t){o={error:t}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(o)throw o.error}}return s}return o(i,r),i}(c.Event))}))},e.defaultCreateViewerClickEvent=function(t){return new y(t)},e.getEvents={click:function(t){return t.interaction.pointerClick.clickEvent},dbclick:function(t){return t.interaction.pointerClick.dbclickEvent},pointerUp:function(t){return t.interaction.pointerUpEvent},pointerDown:function(t){return t.interaction.pointerDownEvent},pointerMove:function(t){return t.interaction.pointerMoveEvent},pointerHover:function(t){return t.interaction.pointerHover.hoverEvent}},e.filters={onlyLeft:function(t){return 1===t.buttons&&0===t.button},onlyRight:function(t){return 1===t.buttons&&2===t.button},onlyMiddle:function(t){return 1===t.buttons&&1===t.button},onlyLeftWithCtrl:function(t){return 1===t.buttons&&0===t.button&&t.ctrlKey},onlyRightWithCtrl:function(t){return 1===t.buttons&&2===t.button&&t.ctrlKey},onlyMiddleWithCtrl:function(t){return 1===t.buttons&&1===t.button&&t.ctrlKey}},e}(c.Destroyable);e.ViewersPicking=g},14486:function(t,e){"use strict";var n=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.getChangedInfoFromTags=void 0,e.getChangedInfoFromTags=function(t,e){var r,o,i,s,a=[];if(t)try{for(var u=n(t),c=u.next();!c.done;c=u.next()){var l=c.value;e&&!e.includes(l)&&a.push(l)}}catch(t){r={error:t}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}var p=[];if(e)try{for(var f=n(e),h=f.next();!h.done;h=f.next())l=h.value,t&&!t.includes(l)&&p.push(l)}catch(t){i={error:t}}finally{try{h&&!h.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}return[a,p]}},11203:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),o(n(40049),e),o(n(14486),e),o(n(38693),e),o(n(58679),e),o(n(9777),e),o(n(88531),e),o(n(14496),e),o(n(6830),e),o(n(47458),e),o(n(25683),e),o(n(86616),e)},15570:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.WatcherTools=void 0,e.WatcherTools=i(n(65736))},65736:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},s=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.WatcherObjects=void 0;var a=n(81425),u=n(72256),c=function(t){function e(e,n,r,o){var c=t.call(this)||this;return c.disposeVar(new u.ObjResettingWithEvent(e.sceneObjectChanged,(function(){var t;o.debug&&console.log("正在获取Event事件...");do{var u=e.sceneObject;if(!u)break;if(!n)break;var c=n.split(".");if(0===c.length){o.debug&&console.warn("propNames.length === 0");break}var l=a.pluckProperty.apply(void 0,s([u,!1],i(c),!1));if(l&&l instanceof a.Event||(c[c.length-1]=c[c.length-1]+"Changed",o.debug&&console.warn("event未能获取，那么将属性名的最后一项加上Changed(".concat(c[c.length-1],")再试试！")),l=a.pluckProperty.apply(void 0,s([u,!1],i(c),!1)),o.debug&&l&&console.warn("event仍然获取不到！")),!l){o.debug&&console.warn("cannot get changed from ".concat(u.id,"-").concat(u.name,"-").concat(u.ref,"-").concat(n));break}if(!(l instanceof a.Event)){o.debug&&console.warn("the prop is not event from ".concat(u.id,"-").concat(u.name,"-").concat(u.ref,"-").concat(n));break}t=l,o.debug&&console.log("Event获取成功 propChangedName: ".concat(n),t)}while(0);if(t){var p=new a.Destroyable;return p.dispose(t.dwon((function(){return r.emit()}))),p}o.debug&&console.log("未获取到Event！propChangedName: ".concat(n))}))),c}return o(e,t),e}(a.Destroyable),l=function(t){function e(e,n,r){var o=t.call(this)||this;o._doEvalEvent=o.disposeVar(new a.Event);var s=o._doEvalEvent,l=o.disposeVar((0,a.createNextAnimateFrameEvent)(s)),p=e.map((function(t){var e=i(t,2),r=e[0],o=e[1],a=new u.SceneObjectFromId(r);return[a,o&&new c(a,o,s,n)||void 0]}));return o.dispose((function(){p.forEach((function(t){var e=i(t,2),n=e[0],r=e[1];null==r||r.destroy(),n.destroy()})),p.length=0})),o.dispose(s.disposableOn((function(){var t=n.evalMode,e=void 0===t?"NextAnimateFrame":t,o=n.evalOnlyWhenObjsAllExist,s=void 0===o||o;if("Immediate"===e){var a=p.map((function(t){return i(t,1)[0].sceneObject}));s&&!a.every((function(t){return void 0!==t}))||r(a)}}))),o.dispose(l.disposableOn((function(){var t=n.evalMode,e=void 0===t?"NextAnimateFrame":t,o=n.evalOnlyWhenObjsAllExist,s=void 0===o||o;if("NextAnimateFrame"===e){var a=p.map((function(t){return i(t,1)[0].sceneObject}));s&&!a.every((function(t){return void 0!==t}))||r(a)}}))),o}return o(e,t),e.prototype.forceExecute=function(){this._doEvalEvent.emit()},e}(a.Destroyable);e.WatcherObjects=l},6018:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),o(n(89111),e),o(n(11203),e),o(n(48791),e),o(n(86775),e),o(n(15570),e)},66624:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ColorProperty=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"ColorProperty"},enumerable:!1,configurable:!0}),e}(n(84408).Number4Property);e.ColorProperty=i},44446:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ColorRgbProperty=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"ColorRgbProperty"},enumerable:!1,configurable:!0}),e}(n(84408).Number3Property);e.ColorRgbProperty=i},96044:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.DashPatternProperty=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"DashPatternProperty"},enumerable:!1,configurable:!0}),e}(n(84408).NumberProperty);e.DashPatternProperty=i},96114:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.EnumProperty=void 0;var i=function(t){function e(e,n,r,o,i,s,a){var u=t.call(this,e,n,r,o,i,a)||this;return u._enums=s,u}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"EnumProperty"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"enums",{get:function(){return this._enums},enumerable:!1,configurable:!0}),e}(n(34491).ReactVarProperty);e.EnumProperty=i},21453:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.EnumStringsProperty=void 0;var i=function(t){function e(e,n,r,o,i,s,a){var u=t.call(this,e,n,r,o,i,a)||this;return u._enums=s,u}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"EnumStringsProperty"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"enums",{get:function(){return this._enums},enumerable:!1,configurable:!0}),e}(n(34491).ReactVarProperty);e.EnumStringsProperty=i},53406:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.EvalStringProperty=void 0;var i=function(t){function e(e,n,r,o,i,s,a){var u=t.call(this,e,n,r,o,i,s)||this;return u._sampleValue=a,u}return o(e,t),Object.defineProperty(e.prototype,"sampleValue",{get:function(){return this._sampleValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return"EvalStringProperty"},enumerable:!1,configurable:!0}),e}(n(34491).ReactVarProperty);e.EvalStringProperty=i},39643:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},s=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.FunctionProperty=void 0;var a=n(81425),u=n(72256),c=n(40886),l=function(t){function e(e,n,r,o,s){var l=t.call(this,e,n)||this;l._func=o;var p=l.disposeVar((0,a.reactJson)(s));l._paramsProperty=l.disposeVar(new c.ParamsProperty(e+"_params",e+"_params",p,r,s));var f=i((0,u.getReactFuncs)(l._paramsProperty.reactVar),1)[0];return l._getValueFunc=f,l}return o(e,t),Object.defineProperty(e.prototype,"paramsProperty",{get:function(){return this._paramsProperty},enumerable:!1,configurable:!0}),e.prototype.exec=function(){this._func.apply(this,s([],i(this._getValueFunc()),!1))},Object.defineProperty(e.prototype,"type",{get:function(){return"FunctionProperty"},enumerable:!1,configurable:!0}),e}(n(37476).Property);e.FunctionProperty=l},65207:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.GroupProperty=void 0;var i=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o._children=r,o}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"GroupProperty"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!1,configurable:!0}),e}(n(37476).Property);e.GroupProperty=i},42483:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.JsonProperty=void 0;var i=function(t){function e(e,n,r,o,i,s,a){var u=t.call(this,e,n,r,o,i,s)||this;return u._sampleValue=a,u}return o(e,t),Object.defineProperty(e.prototype,"sampleValue",{get:function(){return this._sampleValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return"JsonProperty"},enumerable:!1,configurable:!0}),e}(n(34491).ReactVarProperty);e.JsonProperty=i},2297:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.LongStringProperty=void 0;var i=function(t){function e(e,n,r,o,i,s,a){var u=t.call(this,e,n,r,o,i,s)||this;return u._sampleValue=a,u}return o(e,t),Object.defineProperty(e.prototype,"sampleValue",{get:function(){return this._sampleValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return"LongStringProperty"},enumerable:!1,configurable:!0}),e}(n(34491).ReactVarProperty);e.LongStringProperty=i},51281:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MinmaxProperty=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"MinmaxProperty"},enumerable:!1,configurable:!0}),e}(n(84408).Number2Property);e.MinmaxProperty=i},84408:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.StringNumbersProperty=e.StringNumberProperty=e.Boolean4sProperty=e.Boolean3sProperty=e.Boolean2sProperty=e.Boolean4Property=e.Boolean3Property=e.Boolean2Property=e.Number4sProperty=e.Number3sProperty=e.Number2sProperty=e.Number4WithUndefinedProperty=e.Number4Property=e.Number3Property=e.Number2Property=e.String4sProperty=e.String3sProperty=e.String2sProperty=e.String4Property=e.String3Property=e.String2Property=e.BooleansProperty=e.NumbersProperty=e.StringsProperty=e.NumberProperty=e.StringProperty=e.BooleanProperty=void 0;var i=n(34491),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"BooleanProperty"},enumerable:!1,configurable:!0}),e}(i.ReactVarProperty);e.BooleanProperty=s;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"StringProperty"},enumerable:!1,configurable:!0}),e}(i.ReactVarProperty);e.StringProperty=a;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"NumberProperty"},enumerable:!1,configurable:!0}),e}(i.ReactVarProperty);e.NumberProperty=u;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"StringsProperty"},enumerable:!1,configurable:!0}),e}(i.ReactVarProperty);e.StringsProperty=c;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"NumbersProperty"},enumerable:!1,configurable:!0}),e}(i.ReactVarProperty);e.NumbersProperty=l;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"BooleansProperty"},enumerable:!1,configurable:!0}),e}(i.ReactVarProperty);e.BooleansProperty=p;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"String2Property"},enumerable:!1,configurable:!0}),e}(i.ReactVarProperty);e.String2Property=f;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"String3Property"},enumerable:!1,configurable:!0}),e}(i.ReactVarProperty);e.String3Property=h;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"String4Property"},enumerable:!1,configurable:!0}),e}(i.ReactVarProperty);e.String4Property=d;var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"String2sProperty"},enumerable:!1,configurable:!0}),e}(i.ReactVarProperty);e.String2sProperty=y;var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"String3sProperty"},enumerable:!1,configurable:!0}),e}(i.ReactVarProperty);e.String3sProperty=g;var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"String4sProperty"},enumerable:!1,configurable:!0}),e}(i.ReactVarProperty);e.String4sProperty=v;var b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"Number2Property"},enumerable:!1,configurable:!0}),e}(i.ReactVarProperty);e.Number2Property=b;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"Number3Property"},enumerable:!1,configurable:!0}),e}(i.ReactVarProperty);e.Number3Property=m;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"Number4Property"},enumerable:!1,configurable:!0}),e}(i.ReactVarProperty);e.Number4Property=_;var P=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"Number4WithUndefinedProperty"},enumerable:!1,configurable:!0}),e}(i.ReactVarProperty);e.Number4WithUndefinedProperty=P;var w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"Number2sProperty"},enumerable:!1,configurable:!0}),e}(i.ReactVarProperty);e.Number2sProperty=w;var E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"Number3sProperty"},enumerable:!1,configurable:!0}),e}(i.ReactVarProperty);e.Number3sProperty=E;var x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"Number4sProperty"},enumerable:!1,configurable:!0}),e}(i.ReactVarProperty);e.Number4sProperty=x;var O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"Boolean2Property"},enumerable:!1,configurable:!0}),e}(i.ReactVarProperty);e.Boolean2Property=O;var C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"Boolean3Property"},enumerable:!1,configurable:!0}),e}(i.ReactVarProperty);e.Boolean3Property=C;var S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"Boolean4Property"},enumerable:!1,configurable:!0}),e}(i.ReactVarProperty);e.Boolean4Property=S;var M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"Boolean2sProperty"},enumerable:!1,configurable:!0}),e}(i.ReactVarProperty);e.Boolean2sProperty=M;var j=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"Boolean3sProperty"},enumerable:!1,configurable:!0}),e}(i.ReactVarProperty);e.Boolean3sProperty=j;var N=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"Boolean4sProperty"},enumerable:!1,configurable:!0}),e}(i.ReactVarProperty);e.Boolean4sProperty=N;var I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"StringNumberProperty"},enumerable:!1,configurable:!0}),e}(i.ReactVarProperty);e.StringNumberProperty=I;var T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"StringNumbersProperty"},enumerable:!1,configurable:!0}),e}(i.ReactVarProperty);e.StringNumbersProperty=T},35545:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.NearFarScalerProperty=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"NearFarScalerProperty"},enumerable:!1,configurable:!0}),e}(n(84408).Number4Property);e.NearFarScalerProperty=i},31869:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.NonreactiveJsonStringProperty=void 0;var i=function(t){function e(e,n,r,o,i,s,a){var u=t.call(this,e,n,r,o,a)||this;return u._getJsonStringFunc=i,u._setJsonStringFunc=s,u}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"NonreactiveJsonStringProperty"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getJsonStringFunc",{get:function(){return this._getJsonStringFunc},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"setJsonStringFunc",{get:function(){return this._setJsonStringFunc},enumerable:!1,configurable:!0}),e}(n(90800).WithUndefinedProperty);e.NonreactiveJsonStringProperty=i},61534:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.NumberRangeProperty=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"NumberRangeProperty"},enumerable:!1,configurable:!0}),e}(n(84408).Number2Property);e.NumberRangeProperty=i},5640:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.NumberSliderProperty=void 0;var i=function(t){function e(e,n,r,o,i,s,a,u){var c=t.call(this,e,n,r,o,i,u)||this;return c._step=s,c._minMax=a,c}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"NumberSliderProperty"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minMax",{get:function(){return this._minMax},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"step",{get:function(){return this._step},enumerable:!1,configurable:!0}),e}(n(34491).ReactVarProperty);e.NumberSliderProperty=i},40886:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ParamsProperty=void 0;var i=function(t){function e(e,n,r,o,i){var s=t.call(this,e,n,!1,!1,r,i)||this;return s._paramTypes=o,s}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"ParamsProperty"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"paramTypes",{get:function(){return this._paramTypes},enumerable:!1,configurable:!0}),e}(n(34491).ReactVarProperty);e.ParamsProperty=i},74720:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.PlayerProperty=void 0;var s=n(81425),a=n(72256);function u(t,e){var n,r,o=i((0,a.getReactFuncs)(t),3),u=o[0],c=o[1],l=o[2],p=i((0,a.getReactFuncs)(e),3),f=p[0],h=(p[1],p[2]),d=(0,s.react)((null!==(n=u())&&void 0!==n?n:0)/(null!==(r=f())&&void 0!==r?r:3e3)),y=function(){var t,e,n=d.value,r=null!==(t=f())&&void 0!==t?t:3e3,o=null!==(e=u())&&void 0!==e?e:0;Number.isFinite(r)&&Number.isFinite(o)?Math.abs(n*r-o)<.001||(d.value=r<=0?0:o/r):console.warn("duration || currentTime error: duration: ".concat(r," currentTime: ").concat(o))};return d.dispose(l.disposableOn(y)),d.dispose(h.disposableOn(y)),d.dispose(d.changed.disposableOn((function(){var t,e,n=d.value,r=null!==(t=f())&&void 0!==t?t:3e3,o=null!==(e=u())&&void 0!==e?e:0;Number.isFinite(r)&&Number.isFinite(o)?Math.abs(n*r-o)<.001||c(n*r):console.warn("duration || currentTime error: duration: ".concat(r," currentTime: ").concat(o))}))),d}var c=function(t){function e(e,n,r,o,i,s){var a,u,c,l=this;return(l=t.call(this,e,n)||this)._playingReact=r,l._ratioReact=o,l._loopReact=i,l._defaults={playing:!1,ratio:0,loop:!1},s&&(l._defaults.playing=null!==(a=s.playing)&&void 0!==a?a:l._defaults.playing,l._defaults.ratio=null!==(u=s.ratio)&&void 0!==u?u:l._defaults.ratio,l._defaults.loop=null!==(c=s.loop)&&void 0!==c?c:l._defaults.loop),l}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"PlayerProperty"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playingReact",{get:function(){return this._playingReact},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ratioReact",{get:function(){return this._ratioReact},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loopReact",{get:function(){return this._loopReact},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaults",{get:function(){return this._defaults},enumerable:!1,configurable:!0}),e.createPlayingRatio=u,e}(n(37476).Property);e.PlayerProperty=c},822:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PositionProperty=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"PositionProperty"},enumerable:!1,configurable:!0}),e}(n(84408).Number3Property);e.PositionProperty=i},1963:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PositionsProperty=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"PositionsProperty"},enumerable:!1,configurable:!0}),e}(n(34491).ReactVarProperty);e.PositionsProperty=i},30861:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PositionsSetPropety=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"PositionsSetPropety"},enumerable:!1,configurable:!0}),e}(n(34491).ReactVarProperty);e.PositionsSetPropety=i},37476:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Property=void 0;var i=function(t){function e(n,r){var o=t.call(this)||this;return o._name=n,o._description=r,o._id=++e._accumId,o}return o(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"description",{get:function(){return this._description},enumerable:!1,configurable:!0}),e._accumId=-1,e}(n(81425).Destroyable);e.Property=i},34491:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ReactVarProperty=void 0;var i=function(t){function e(e,n,r,o,i,s){var a=t.call(this,e,n,r,o,s)||this;return a._reactVar=i,a}return o(e,t),Object.defineProperty(e.prototype,"reactVar",{get:function(){return this._reactVar},enumerable:!1,configurable:!0}),e}(n(90800).WithUndefinedProperty);e.ReactVarProperty=i},37879:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.RotationProperty=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"RotationProperty"},enumerable:!1,configurable:!0}),e}(n(84408).Number3Property);e.RotationProperty=i},46545:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.UriProperty=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"UriProperty"},enumerable:!1,configurable:!0}),e}(n(84408).StringProperty);e.UriProperty=i},61589:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ViewPlayerProperty=void 0;var i=function(t){function e(e,n,r,o,i,s){var a,u,c=this;return(c=t.call(this,e,n)||this)._playingReact=r,c._stopFn=o,c._loopReact=i,c._defaults={playing:!1,loop:!1},s&&(c._defaults.playing=null!==(a=s.playing)&&void 0!==a?a:c._defaults.playing,c._defaults.loop=null!==(u=s.loop)&&void 0!==u?u:c._defaults.loop),c}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"ViewPlayerProperty"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playingReact",{get:function(){return this._playingReact},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loopReact",{get:function(){return this._loopReact},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stopFn",{get:function(){return this._stopFn},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaults",{get:function(){return this._defaults},enumerable:!1,configurable:!0}),e}(n(37476).Property);e.ViewPlayerProperty=i},90800:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.WithUndefinedProperty=void 0;var i=function(t){function e(e,n,r,o,i){var s=t.call(this,e,n)||this;return s._withUndefined=r,s._readonly=o,s._defaultValue=i,s}return o(e,t),Object.defineProperty(e.prototype,"withUndefined",{get:function(){return this._withUndefined},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"readonly",{get:function(){return this._readonly},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultValue",{get:function(){return this._defaultValue instanceof Function?this._defaultValue():this._defaultValue},enumerable:!1,configurable:!0}),e}(n(37476).Property);e.WithUndefinedProperty=i},86775:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),o(n(66624),e),o(n(44446),e),o(n(96044),e),o(n(96114),e),o(n(21453),e),o(n(53406),e),o(n(39643),e),o(n(65207),e),o(n(42483),e),o(n(2297),e),o(n(51281),e),o(n(84408),e),o(n(35545),e),o(n(31869),e),o(n(61534),e),o(n(5640),e),o(n(40886),e),o(n(74720),e),o(n(822),e),o(n(1963),e),o(n(30861),e),o(n(37476),e),o(n(34491),e),o(n(37879),e),o(n(46545),e),o(n(90800),e),o(n(61589),e)},22013:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjResettingWithEvent=void 0;var r=n(72256);Object.defineProperty(e,"ObjResettingWithEvent",{enumerable:!0,get:function(){return r.ObjResettingWithEvent}})},39453:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObservableSet=void 0;var r=n(72256);Object.defineProperty(e,"ObservableSet",{enumerable:!0,get:function(){return r.ObservableSet}})},27623:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SceneObjectFromId=void 0;var r=n(72256);Object.defineProperty(e,"SceneObjectFromId",{enumerable:!0,get:function(){return r.SceneObjectFromId}})},9589:function(t,e){"use strict";var n=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultComponentProps=e.extendComponentProps=void 0,e.extendComponentProps=function(t,e){var o,i,s=function(e,n,r,o){var i;Reflect.has(t,e)?console.error("Prop(".concat(e,") conflicts!")):Object.defineProperties(t,((i={})[e]={get:function(){return this[r][o]},set:function(t){this[r][o]=t}},i["".concat(e,"Changed")]={get:function(){return this[r]["".concat(o,"Changed")]}},i))};try{for(var a=n(Object.entries(e)),u=a.next();!u.done;u=a.next()){var c=r(u.value,2),l=c[0],p=c[1],f=(p.defaultValue,p.componentName),h=p.originPropName;s(l,0,f,void 0===h?l:h)}}catch(t){o={error:t}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}},e.getDefaultComponentProps=function(t){var e,o,i={};try{for(var s=n(Object.entries(t)),a=s.next();!a.done;a=s.next()){var u=r(a.value,2),c=u[0],l=u[1].defaultValue;i[c]=l}}catch(t){e={error:t}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(e)throw e.error}}return i}},70041:function(t,e){"use strict";var n=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.saveFile=e.getTextFromFile=e.requestWriteAccess=e.getSaveFileHandle=e.getOpenFileHandle=void 0;var i={json:{description:"JSON Files",accept:{"text/json":".json"}},js:{description:"JS Files",accept:{"text/js":".js"}},txt:{description:"Text Files",accept:{"text/plain":[".txt",".text"]}}};e.getOpenFileHandle=function(t){return n(this,void 0,void 0,(function(){var e,n;return r(this,(function(r){switch(r.label){case 0:e=i[null!=t?t:"json"],r.label=1;case 1:return r.trys.push([1,3,,4]),[4,showOpenFilePicker({multiple:!1,types:[e],excludeAcceptAllOption:!0})];case 2:return[2,o.apply(void 0,[r.sent(),1])[0]];case 3:return n=r.sent(),console.warn("getOpenFileHandle error: ".concat(n)),[2,void 0];case 4:return[2]}}))}))},e.getSaveFileHandle=function(t,e){return n(this,void 0,void 0,(function(){var n,o;return r(this,(function(r){switch(r.label){case 0:n=i[null!=t?t:"json"],r.label=1;case 1:return r.trys.push([1,3,,4]),[4,showSaveFilePicker({suggestedName:null!=e?e:"未命名.".concat(null!=t?t:"json"),types:[n]})];case 2:return[2,r.sent()];case 3:return o=r.sent(),console.warn("getSaveFileHandle error: ".concat(o)),[2,void 0];case 4:return[2]}}))}))},e.requestWriteAccess=function(t){return n(this,void 0,void 0,(function(){var e;return r(this,(function(n){switch(n.label){case 0:return e={writable:!0,mode:"readwrite"},[4,t.queryPermission(e)];case 1:return"granted"!==n.sent()?[2,!1]:[2,!0]}}))}))},e.getTextFromFile=function(t){return n(this,void 0,void 0,(function(){var e;return r(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,t.getFile()];case 1:return[4,n.sent().text()];case 2:return[2,n.sent()];case 3:return e=n.sent(),console.warn("getTextFromFile error: ".concat(e)),[2,void 0];case 4:return[2]}}))}))},e.saveFile=function(t,e){return n(this,void 0,void 0,(function(){var n,o;return r(this,(function(r){switch(r.label){case 0:return n=new Blob([e],{type:"text/plain;charset=utf-8"}),[4,t.createWritable()];case 1:return[4,(o=r.sent()).write(n)];case 2:return r.sent(),[4,o.close()];case 3:return r.sent(),[2]}}))}))}},39071:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultValue=void 0,e.getDefaultValue=function(t){return t instanceof Function?t():t}},38693:function(t,e){"use strict";var n=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function r(t,e){var r,o;try{for(var i=n(t),s=i.next();!s.done;s=i.next()){var a=s.value;if(e.includes(a))return!0}}catch(t){r={error:t}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return!1}function o(t){return t&&t.filter((function(t){return t.startsWith("_ES_Viewer_")}))}Object.defineProperty(e,"__esModule",{value:!0}),e.hasSameViewerTags=e.getViewerTags=e.hasSameTags=void 0,e.hasSameTags=r,e.getViewerTags=o,e.hasSameViewerTags=function(t,e){var n=o(t),i=o(e);return void 0===n||0===n.length||void 0===i||0===i.length||r(n,i)}},48791:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),o(n(9589),e),o(n(70041),e),o(n(38693),e),o(n(22013),e),o(n(39453),e),o(n(27623),e),o(n(39071),e)},47875:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateCartesianArc=void 0;var r=n(14649);Object.defineProperty(e,"generateCartesianArc",{enumerable:!0,get:function(){return r.generateCartesianArc}})},23480:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.getDistancesAndTimePosRotsFromPositions=void 0;var u=i(n(60929)),c=n(1245),l=n(47875);e.getDistancesAndTimePosRotsFromPositions=function(t,e,n){void 0===e&&(e="GEODESIC"),void 0===n&&(n=u.Math.toRadians(1));var r=t.map(c.lbhToXyz).map((function(t){return u.Cartesian3.fromArray(t)})),o=(0,l.generateCartesianArc)({arcType:u.ArcType[null!=e?e:"GEODESIC"],granularity:n,ellipsoid:u.Ellipsoid.WGS84,positions:r});if(o){for(var i=0,p=[0],f=o.length,h=1;h<f;++h)i+=u.Cartesian3.distance(o[h-1],o[h]),p.push(i);var d=o.map((function(t){return(0,c.xyzToLbh)([t.x,t.y,t.z])})),y=[[0,0,0]];for(h=1;h<f;++h){var g=d[h-1],v=d[h],b=(0,c.geoHeading)(g,v),m=v[2]-g[2],_=180*Math.asin(m/(p[h]-p[h-1]))/Math.PI;y.push([b,_,0])}f>1&&(y[0]=a([],s(y[1]),!1));var P=p.map((function(t,e){return[p[e],d[e],y[e]]}));return{timePosRots:P,distances:p}}}},9595:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.getEllipsoidGeodesicCenter=void 0;var s=i(n(60929));e.getEllipsoidGeodesicCenter=function(t,e){var n=Math.PI/180,r=1/n,o=new s.Cartographic(t[0]*n,t[1]*n,t[2]),i=new s.Cartographic(e[0]*n,e[1]*n,e[2]),a=new s.EllipsoidGeodesic(o,i).interpolateUsingFraction(.5,new s.Cartographic);if(a)return a.height=.5*(o.height+i.height),[a.longitude*r,a.latitude*r,a.height]}},64638:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.getQuaternion=e.getQuaternionWithYForwardZUp=void 0;var a=i(n(60929));function u(t,e,n,r,o){var i=s(t,3),u=i[0],c=i[1],l=i[2],p=a.Quaternion.fromAxisAngle(n,a.Math.toRadians(-u)),f=a.Quaternion.fromAxisAngle(r,a.Math.toRadians(c)),h=a.Quaternion.fromAxisAngle(e,a.Math.toRadians(l)),d=a.Quaternion.clone(a.Quaternion.IDENTITY,o);return a.Quaternion.multiply(h,d,d),a.Quaternion.multiply(f,d,d),a.Quaternion.multiply(p,d,d),d}e.getQuaternionWithYForwardZUp=function(t,e){return u(t,a.Cartesian3.UNIT_Y,a.Cartesian3.UNIT_Z,a.Cartesian3.UNIT_X,e)},e.getQuaternion=u},60769:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.localPositionsToPositions=e.positionsToLocalPositions=e.localPositionToPosition=e.positionToLocalPosition=e.getInverseModelMatrix=e.getModelMatrixFromPosition=void 0;var a=n(75226),u=n(64638),c=i(n(60929));function l(t,e){e=null!=e?e:new Array(16);for(var n=0;n<16;++n)e[n]=t[n];return e}function p(t,e){var n=c.Matrix4.clone(c.Matrix4.IDENTITY),r=t.position,o=t.rotation,i=t.scale;if(r){var p=s(r,3),f=p[0],h=p[1],d=p[2];c.Transforms.eastNorthUpToFixedFrame(c.Cartesian3.fromDegrees(f,h,d),void 0,n)}if(o){var y=new c.Quaternion;(0,u.getQuaternionWithYForwardZUp)(o,y);var g=c.Matrix3.fromQuaternion(y);c.Matrix4.multiply(n,c.Matrix4.fromRotationTranslation(g),n)}return i&&c.Matrix4.multiplyByScale(n,(0,a.toCartesian)(i),n),l(n,e)}e.getModelMatrixFromPosition=p;var f=new c.Matrix4;function h(t,e){var n=c.Matrix4.fromArray(t,0,f);return c.Matrix4.inverse(n,n),l(n,e)}e.getInverseModelMatrix=h;var d=new c.Matrix4,y=new c.Cartesian3;function g(t,e,n){var r=s(e,3),o=r[0],i=r[1],a=r[2],u=c.Cartesian3.fromDegrees(o,i,a,void 0,y),l=c.Matrix4.fromArray(t,0,d),p=c.Matrix4.multiplyByPoint(l,u,u),f=p.x,h=p.y,g=p.z;return(n=n||[0,0,0])[0]=f,n[1]=h,n[2]=g,n}e.positionToLocalPosition=g;var v=new c.Matrix4,b=new c.Cartesian3,m=new c.Cartographic;function _(t,e,n){var r=s(e,3),o=r[0],i=r[1],a=r[2],u=c.Cartesian3.fromElements(o,i,a,b),l=c.Matrix4.fromArray(t,0,v),p=c.Matrix4.multiplyByPoint(l,u,u),f=c.Cartographic.fromCartesian(p,void 0,m);return(n=n||[0,0,0])[0]=c.Math.toDegrees(f.longitude),n[1]=c.Math.toDegrees(f.latitude),n[2]=f.height,n}e.localPositionToPosition=_,e.positionsToLocalPositions=function(t,e){var n=p({position:t.originPosition,rotation:t.originRotation,scale:t.originScale}),r=h(n);return[e.map((function(t){return g(r,t)})),n,r]},e.localPositionsToPositions=function(t,e){var n=p({position:t.originPosition,rotation:t.originRotation,scale:t.originScale});return[e.map((function(t){return _(n,t)})),n]}},75226:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.toCartesian=e.toCartesian4=e.toCartesian3=e.toCartesian2=void 0;var s=i(n(60929));function a(t,e){return(e=e||new s.Cartesian2).x=t[0],e.y=t[1],e}function u(t,e){return(e=e||new s.Cartesian3).x=t[0],e.y=t[1],e.z=t[2],e}function c(t,e){return(e=e||new s.Cartesian4).x=t[0],e.y=t[1],e.z=t[2],e.w=t[3],e}e.toCartesian2=a,e.toCartesian3=u,e.toCartesian4=c,e.toCartesian=function(t,e){if(4===t.length)return c(t,e);if(3===t.length)return u(t,e);if(2===t.length)return a(t,e);throw new Error("toCartesian error: should not be here!")}},32283:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.CircleEditing=void 0;var s=n(81425),a=n(72256),u=n(87690),c=n(11560),l=function(t){function e(e){var n=t.call(this)||this;n._rectangleEditing=e,n._points=n.disposeVar((0,s.reactArrayWithUndefined)(void 0)),n._pointsInit=function(){var t=n._points,e=n._rectangleEditing.centerReact,r=i((0,s.getReactFuncs)(e),2),o=r[0],a=(r[1],n._rectangleEditing.radiusReact),u=i((0,s.getReactFuncs)(a),2),l=u[0];u[1],function(){var e=o();if(e){var n=l(),r=(0,c.geoDestination)(e,n,90);t.value=r?[e,r]:[e]}else t.value=void 0}()}(),n._sPositionsEditing=n.disposeVar(new u.PositionsEditing(n._points,!1,n._rectangleEditing.editingReact,n._rectangleEditing.components,2)),n._sPositionsEditingInit=void(n._sPositionsEditing.moveWithFirstPosition=!0);var r=n._points,o=n._rectangleEditing.centerReact,a=i((0,s.getReactFuncs)(o),2),l=(a[0],a[1]),p=n._rectangleEditing.radiusReact,f=i((0,s.getReactFuncs)(p),2),h=(f[0],f[1]),d=function(){var t=r.value;if(t&&2===t.length){var e=t[0];l(e);var n=(0,c.geoDistance)(t[0],t[1]);h(n)}};return d(),n.dispose(r.changed.disposableOn(d)),n}return o(e,t),Object.defineProperty(e.prototype,"sPositionsEditing",{get:function(){return this._sPositionsEditing},enumerable:!1,configurable:!0}),e}(s.Destroyable),p=function(t){function e(e,n,r,o){var u,c,p,f=t.call(this)||this;return f._centerReact=e,f._radiusReact=n,f._editingReact=r,f._components=o,f._positionsEditingResetting=(u=i((0,s.getReactFuncs)(f._editingReact),3),c=u[0],u[1],p=u[2],f.disposeVar(new a.ObjResettingWithEvent(p,(function(){if(c())return new l(f)})))),f}return o(e,t),Object.defineProperty(e.prototype,"centerReact",{get:function(){return this._centerReact},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radiusReact",{get:function(){return this._radiusReact},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"editingReact",{get:function(){return this._editingReact},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"components",{get:function(){return this._components},enumerable:!1,configurable:!0}),e}(s.Destroyable);e.CircleEditing=p},49233:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.CursorInfo=e.CursorFloatDiv=void 0;var s=n(81425),a=n(72256),u=function(t){function e(){var e=t.call(this)||this;return e.contentDiv.style.backgroundColor="rgba(0, 0, 0, 0.8)",e.contentDiv.style.borderRadius="3px",e.contentDiv.style.color="rgb(255, 255, 255)",e.contentDiv.style.padding="1px 5px 1px 5px",e.contentDiv.style.fontSize="12px",e.contentDiv.style.whiteSpace="nowrap",e.contentDiv.innerText="未定义光标信息！",e.originRatioX=0,e.originRatioY=0,e.originOffsetX=-16,e}return o(e,t),e}(a.PosFloatDiv);e.CursorFloatDiv=u;var c=function(t){function e(e,n){var r=t.call(this)||this;r._pointerOut=r.disposeVar((0,s.react)(!0)),r._show=r.disposeVar((0,s.react)(!0)),r._cursorDiv=new a.DivPoi(n,e),r.dispose((function(){return r._cursorDiv.destroy()}));var o=function(t){var e=i((0,a.getDomEventCurrentTargetPos)(t),2),n=e[0],o=e[1];r._cursorDiv.floatDiv.winPos=[n,o],r._pointerOut.value=!1};e.addEventListener("pointermove",o),r.dispose((function(){return e.removeEventListener("pointermove",o)}));var u=function(t){r._pointerOut.value=!0};e.addEventListener("pointerout",u),r.dispose((function(){return e.removeEventListener("pointerout",u)})),e.addEventListener("pointerleave",u),r.dispose((function(){return e.removeEventListener("pointerleave",u)})),e.addEventListener("pointercancel",u),r.dispose((function(){return e.removeEventListener("pointercancel",u)}));var c=function(){r._cursorDiv.show=r.show&&!r._pointerOut.value};return c(),r.dispose(r.showChanged.disposableOn(c)),r.dispose(r._pointerOut.changed.disposableOn(c)),r}return o(e,t),Object.defineProperty(e.prototype,"show",{get:function(){return this._show.value},set:function(t){this._show.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showChanged",{get:function(){return this._show.changed},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this._pointerOut.value=!0},Object.defineProperty(e.prototype,"cursorDiv",{get:function(){return this._cursorDiv},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._cursorDiv.floatDiv.contentDiv.innerText},set:function(t){this._cursorDiv.floatDiv.contentDiv.innerText=t},enumerable:!1,configurable:!0}),e}(s.Destroyable);e.CursorInfo=c},94008:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.PointEditing=void 0;var s=n(81425),a=n(1245),u=function(t){function e(e,n,r){var o,u=this;(u=t.call(this)||this)._components=r,u._point=u.disposeVar((0,s.reactArrayWithUndefined)(void 0)),u._innerPointEditing=u.disposeVar((0,s.react)(!1));var c=i((0,s.getReactFuncs)(e),2),l=c[0],p=c[1],f=i((0,s.getReactFuncs)(n),3),h=f[0],d=f[1],y=f[2],g=u._point;u.dispose(g.changed.disposableOn((function(t,e){if(void 0!==e&&void 0!==t){var n=l();if(n){var r=t[0]-e[0],o=t[1]-e[1],s=t[2]-e[2];p(n.map((function(t){var e=i(t,3),n=e[0],a=e[1],u=e[2];return[n+r,a+o,u+s]})))}}})));var v=u._innerPointEditing,b=function(){var t;if(null!==(t=h())&&void 0!==t&&t){var e=l();if(!e)return void d(!1);var n=(0,a.getMinMaxCorner)(e).center;g.value=n,v.value=!0}else g.value=void 0,v.value=!1};return b(),u.dispose(y.disposableOn(b)),b=function(){d(v.value)},u.dispose(v.changed.disposableOn(b)),v.value=null!==(o=h())&&void 0!==o&&o,u._sPositionsEditing=u.disposeVar(new a.PositionEditing(u._point,u._innerPointEditing,u._components)),u}return o(e,t),Object.defineProperty(e.prototype,"point",{get:function(){return this._point.value},set:function(t){this._point.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pointChanged",{get:function(){return this._point.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pointReact",{get:function(){return this._point},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"innerPointEditing",{get:function(){return this._innerPointEditing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sPositionEditing",{get:function(){return this._sPositionsEditing},enumerable:!1,configurable:!0}),e}(s.Destroyable);e.PointEditing=u},97764:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.PositionEditing=void 0;var s=n(81425),a=n(31298),u=n(15635),c=n(6018),l=function(t){function e(n,r,u){var l=t.call(this)||this;l._config=l.disposeVar((0,s.react)(e.defaultConfig)),l._editingRef=l.disposeVar((0,s.react)(!1)),l._geoCoordinatesEditorAndPicker=l.disposeVar(new a.GeoCoordinatesEditorAndPicker);var p=i((0,s.getReactFuncs)(n),3),f=p[0],h=p[1],d=p[2],y=l,g=l.geoCoordinatesEditorAndPicker,v=function(t){function e(){var e=t.call(this)||this;g.position=f(),e.dispose(d.disposableOn((function(){return g&&(g.position=f())}))),e.dispose(g.positionChanged.disposableOn((function(){return h(null==g?void 0:g.position)}))),e.dispose((0,s.bind)([g,"enabled"],y.editingRef)),u.add(g),e.dispose((function(){return u.delete(g)}));var n=function(){var t=y.config,e=g.editor,n=t.editor;n&&(void 0!==n.showCoordinates&&(e.showCoordinates=n.showCoordinates),void 0!==n.showCircle&&(e.showCircle=n.showCircle),void 0!==n.disableX&&(e.disableX=n.disableX),void 0!==n.disableY&&(e.disableY=n.disableY),void 0!==n.disableXY&&(e.disableXY=n.disableXY),void 0!==n.disableZ&&(e.disableZ=n.disableZ),void 0!==n.disableZAxis&&(e.disableZAxis=n.disableZAxis));var r=g.picker,o=t.picker;o&&(void 0!==o.clickEnabled&&(r.clickEnabled=o.clickEnabled),void 0!==o.dbClickEnabled&&(r.dbClickEnabled=o.dbClickEnabled)),void 0!==t.noModifingAfterAdding&&(g.noModifingAfterAdding=t.noModifingAfterAdding),void 0!==t.hideCursorInfo&&(g.hideCursorInfo=t.hideCursorInfo)};return n(),e.dispose(y.configChanged.disposableOn(n)),e}return o(e,t),e}(s.Destroyable);return l.disposeVar(new c.ObjResettingWithEvent(l.editingRef.changed,(function(){return l.editingRef.value?new v:(g.position=void 0,void(g.enabled=!1))}))),r&&l.dispose((0,s.bind)(l.editingRef,r)),l}return o(e,t),Object.defineProperty(e.prototype,"config",{get:function(){return this._config.value},set:function(t){this._config.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"configChanged",{get:function(){return this._config.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"editingRef",{get:function(){return this._editingRef},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"picking",{get:function(){return this._geoCoordinatesEditorAndPicker.picking},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pickingChanged",{get:function(){return this._geoCoordinatesEditorAndPicker.pickingChanged},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geoCoordinatesEditorAndPicker",{get:function(){return this._geoCoordinatesEditorAndPicker},enumerable:!1,configurable:!0}),e.defaultConfig=u.defaultPositionEditingConfig,e}(s.Destroyable);e.PositionEditing=l},45852:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.PositionsCenter=void 0;var s=n(81425),a=n(96308),u=function(t){function e(e){var n=t.call(this)||this;n._center=n.disposeVar((0,s.reactArrayWithUndefined)(void 0));var r=i((0,s.getReactFuncs)(e),3),o=r[0],u=(r[1],r[2]),c=function(){var t=o();if(t){var e=(0,a.getMinMaxCorner)(t).center;n._center.value=e}else n._center.value=void 0};return c(),n.dispose(u.disposableOn(c)),n}return o(e,t),Object.defineProperty(e.prototype,"centerReact",{get:function(){return this._center},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return this._center.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"centerChanged",{get:function(){return this._center.changed},enumerable:!1,configurable:!0}),e}(s.Destroyable);e.PositionsCenter=u},87690:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.PositionsEditing=void 0;var s=n(81425),a=n(57770),u=n(6018),c=n(15635),l=function(t){function e(e,n,r,o,u){var c=t.call(this)||this;c._geoPolylineEditor=c.disposeVar(new a.GeoPolylineEditor);var l=c.geoPolylineEditor;o.add(l),c.dispose((function(){return o.delete(l)})),l.maxPointsNum=u;var p=i((0,s.getReactFuncs)(n),3),f=p[0],h=p[1],d=p[2];l.resetPositions(f()),l.dispose(d.disposableOn((function(){return l&&!l.enabled&&l.resetPositions(f())}))),l.dispose(l.positionsChanged.disposableOn((function(){return h(null==l?void 0:l.getPositions())}))),r&&("boolean"==typeof r?l.loop=r:l.dispose((0,s.bind)([l,"loop"],r))),l.enabled=!0;var y=function(){var t=e.config,n=l.inner.editingProcessing.geoCoordinatesEditor,r=t.editor;r&&(void 0!==r.showCoordinates&&(n.showCoordinates=r.showCoordinates),void 0!==r.showCircle&&(n.showCircle=r.showCircle),void 0!==r.disableX&&(n.disableX=r.disableX),void 0!==r.disableY&&(n.disableY=r.disableY),void 0!==r.disableXY&&(n.disableXY=r.disableXY),void 0!==r.disableZ&&(n.disableZ=r.disableZ),void 0!==r.disableZAxis&&(n.disableZAxis=r.disableZAxis));var o=l.inner.editingProcessing.geoCoordinatesPicker,i=t.picker;i&&(void 0!==i.clickEnabled&&(o.clickEnabled=i.clickEnabled),void 0!==i.dbClickEnabled&&(o.dbClickEnabled=i.dbClickEnabled)),void 0!==t.noModifingAfterAdding&&(l.noModifingAfterAdding=t.noModifingAfterAdding),void 0!==t.hideCursorInfo&&(l.hideCursorInfo=t.hideCursorInfo)};return y(),c.dispose(e.configChanged.disposableOn(y)),c.dispose((0,s.track)([l,"moveWithFirstPosition"],[e,"moveWithFirstPosition"])),c}return o(e,t),Object.defineProperty(e.prototype,"geoPolylineEditor",{get:function(){return this._geoPolylineEditor},enumerable:!1,configurable:!0}),e}(s.Destroyable),p=function(t){function e(n,r,o,a,c,p){void 0===p&&(p=!1);var f=t.call(this)||this;f._config=f.disposeVar((0,s.react)(e.defaultConfig)),f._moveWithFirstPosition=f.disposeVar((0,s.react)(!1));var h=i((0,s.getReactFuncs)(o),3),d=h[0],y=h[1],g=h[2];return f._resetting=f.disposeVar(new u.ObjResettingWithEvent(g,(function(){var t;if(null!==(t=d())&&void 0!==t?t:p){var e=new l(f,n,r,a,c);return e.dispose(e.geoPolylineEditor.enabledChanged.disposableOnce((function(t){t||y(!1)}))),e}}))),f}return o(e,t),Object.defineProperty(e.prototype,"resetting",{get:function(){return this._resetting},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this._config.value},set:function(t){this._config.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"configChanged",{get:function(){return this._config.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"moveWithFirstPosition",{get:function(){return this._moveWithFirstPosition.value},set:function(t){this._moveWithFirstPosition.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"moveWithFirstPositionChanged",{get:function(){return this._moveWithFirstPosition.changed},enumerable:!1,configurable:!0}),e.defaultConfig=c.defaultPositionsEditingConfig,e}(s.Destroyable);e.PositionsEditing=p},69858:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.RayEditing=void 0;var s=n(81425),a=n(72256),u=n(87690),c=n(11560),l=function(t){function e(e){var n=t.call(this)||this;n._rayEditing=e,n._points=n.disposeVar((0,s.reactArrayWithUndefined)(void 0)),n._pointsInit=function(){var t=n._points,e=n._rayEditing.originReact,r=i((0,s.getReactFuncs)(e),2),o=r[0],a=(r[1],n._rayEditing.rotationReact),u=i((0,s.getReactFuncs)(a),2),l=u[0],p=(u[1],n._rayEditing.distanceReact),f=i((0,s.getReactFuncs)(p),2),h=f[0];f[1],function(){var e=o();if(e){var n=l(),r=h(),i=r*Math.cos(n[1]*Math.PI/180),s=(0,c.geoDestination)(e,i,n[0]);if(s){var a=r*Math.sin(n[1]*Math.PI/180);s[2]+=a,t.value=[e,s]}else t.value=[e]}else t.value=void 0}()}(),n._sPositionsEditing=n.disposeVar(new u.PositionsEditing(n._points,!1,n._rayEditing.editingReact,n._rayEditing.components,2)),n._sPositionsEditingInit=void(n._sPositionsEditing.moveWithFirstPosition=!0);var r=n._points,o=n._rayEditing.originReact,a=i((0,s.getReactFuncs)(o),2),l=(a[0],a[1]),p=n._rayEditing.rotationReact,f=i((0,s.getReactFuncs)(p),2),h=(f[0],f[1]),d=n._rayEditing.distanceReact,y=i((0,s.getReactFuncs)(d),2),g=(y[0],y[1]),v=function(){var t=r.value;if(t&&2===t.length){var e=t[0],n=t[1];l(e);var o=(0,c.geoHeading)(e,n),i=(0,c.geoDistance)(e,n);if(i<=0)return h([0,0,0]),void g(0);var s=n[2]-e[2],a=180*Math.atan(s/i)/Math.PI,u=Math.sqrt(i*i+s*s);h([o,a,0]),g(u)}};return v(),n.dispose(r.changed.disposableOn(v)),n}return o(e,t),Object.defineProperty(e.prototype,"sPositionsEditing",{get:function(){return this._sPositionsEditing},enumerable:!1,configurable:!0}),e}(s.Destroyable),p=function(t){function e(e,n,r,o,u){var c,p,f,h=t.call(this)||this;return h._originReact=e,h._rotationReact=n,h._distanceReact=r,h._editingReact=o,h._components=u,h._positionsEditingResetting=(c=i((0,s.getReactFuncs)(h._editingReact),3),p=c[0],c[1],f=c[2],h.disposeVar(new a.ObjResettingWithEvent(f,(function(){if(p())return new l(h)})))),h}return o(e,t),Object.defineProperty(e.prototype,"originReact",{get:function(){return this._originReact},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotationReact",{get:function(){return this._rotationReact},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"distanceReact",{get:function(){return this._distanceReact},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"editingReact",{get:function(){return this._editingReact},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"components",{get:function(){return this._components},enumerable:!1,configurable:!0}),e}(s.Destroyable);e.RayEditing=p},73264:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.RectangleEditing=void 0;var s=n(81425),a=n(72256),u=n(96308),c=n(87690),l=n(94008),p=function(t){function e(e){var n=t.call(this)||this;n._rectangleEditing=e,n._points=n.disposeVar((0,s.reactArrayWithUndefined)(void 0)),n._pointsInit=function(){var t=n._points,e=n._rectangleEditing.heightReact,r=i((0,s.getReactFuncs)(e),2),o=r[0],a=(r[1],n._rectangleEditing.rectangleReact),u=i((0,s.getReactFuncs)(a),2),c=u[0];u[1],function(){var e=o(),r=c();if(r){var s=i(r,4),a=s[0],u=s[1],l=s[2],p=s[3];t.value&&t.value.length>0&&t.value[0][2],t.value=[[a,u,e],[l,p,e]]}else n._points.value=void 0}()}(),n._sPositionsEditing=n.disposeVar(new c.PositionsEditing(n._points,!1,n._rectangleEditing.editingReact,n._rectangleEditing.components,2));var r=n._points,o=n._rectangleEditing.heightReact,a=i((0,s.getReactFuncs)(o),2),l=(a[0],a[1],n._rectangleEditing.rectangleReact),p=i((0,s.getReactFuncs)(l),2),f=(p[0],p[1]),h=function(){var t=r.value;if(t&&2===t.length){var e=(0,u.getMinMaxCorner)(t),n=e.minPos,o=e.maxPos;e.center,f([n[0],n[1],o[0],o[1]])}};return h(),n.dispose(r.changed.disposableOn(h)),n}return o(e,t),Object.defineProperty(e.prototype,"sPositionsEditing",{get:function(){return this._sPositionsEditing},enumerable:!1,configurable:!0}),e}(s.Destroyable),f=function(t){function e(e){var n=t.call(this)||this;n._rectangleEditing=e,n._points=n.disposeVar((0,s.reactArrayWithUndefined)(void 0)),n._pointsInit=function(){var t=n._points,e=n._rectangleEditing.heightReact,r=i((0,s.getReactFuncs)(e),2),o=r[0],a=(r[1],n._rectangleEditing.rectangleReact),u=i((0,s.getReactFuncs)(a),2),c=u[0];u[1],function(){var e=o(),r=c();if(r){var s=i(r,4),a=s[0],u=s[1],l=s[2],p=s[3];t.value&&t.value.length>0&&t.value[0][2],t.value=[[a,u,e],[l,p,e]]}else n._points.value=void 0}()}(),n._pointEditing=n.disposeVar(new l.PointEditing(n._points,n._rectangleEditing.pointEditingReact,n._rectangleEditing.components));var r=n._points,o=n._rectangleEditing.heightReact,a=i((0,s.getReactFuncs)(o),2),c=(a[0],a[1],n._rectangleEditing.rectangleReact),p=i((0,s.getReactFuncs)(c),2),f=(p[0],p[1]),h=function(){var t=r.value;if(t&&2===t.length){var e=(0,u.getMinMaxCorner)(t),n=e.minPos,o=e.maxPos;e.center,f([n[0],n[1],o[0],o[1]])}};return h(),n.dispose(r.changed.disposableOn(h)),n}return o(e,t),Object.defineProperty(e.prototype,"pointEditing",{get:function(){return this._pointEditing},enumerable:!1,configurable:!0}),e}(s.Destroyable),h=function(t){function e(e,n,r,o,u){var c,l,h,d=t.call(this)||this;return d._heightReact=e,d._rectangleReact=n,d._editingReact=r,d._pointEditingReact=o,d._components=u,d._positionsEditingResetting=(c=i((0,s.getReactFuncs)(d._editingReact),3),l=c[0],c[1],h=c[2],d.disposeVar(new a.ObjResettingWithEvent(h,(function(){if(l())return new p(d)})))),d._centerEditingResetting=function(){var t=i((0,s.getReactFuncs)(d._pointEditingReact),3),e=t[0],n=(t[1],t[2]);return d.disposeVar(new a.ObjResettingWithEvent(n,(function(){if(e())return new f(d)})))}(),d}return o(e,t),Object.defineProperty(e.prototype,"heightReact",{get:function(){return this._heightReact},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rectangleReact",{get:function(){return this._rectangleReact},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"editingReact",{get:function(){return this._editingReact},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pointEditingReact",{get:function(){return this._pointEditingReact},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"components",{get:function(){return this._components},enumerable:!1,configurable:!0}),e}(s.Destroyable);e.RectangleEditing=h},25278:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},u=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.SmoothMoving=void 0;var c=n(81425),l=n(72256),p=n(11560),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._currentPosition=e.disposeVar((0,c.reactArrayWithUndefined)(void 0)),e._currentHeading=e.disposeVar((0,c.react)(void 0)),e._startPosition=[0,0,0],e._processing=e.disposeVar((0,l.createProcessingFromAsyncFunc)((function(t,n,r){return i(e,void 0,void 0,(function(){var e,o,i,l,f,h,d=this;return s(this,(function(s){switch(s.label){case 0:return!(e=this.currentPosition)||r<=0?(this._currentPosition.value=n,[2]):(o=this._startPosition,i=Date.now(),o.splice.apply(o,u([0,3],a(e),!1)),l=(0,p.geoHeading)(o,n),this._currentHeading.value=l,f=(0,p.geoDistance)(o,n),h=f/r,[4,t.promise(new Promise((function(e){t.disposer.dispose((0,c.animateFrame)((function(){var t=Date.now()-i,s=(t=(t=t<0?0:t)>r?r:t)*h,a=(0,p.geoDestination)(o,s,l);d._currentPosition.value=a,t===r&&(d._currentPosition.value=n,e())})))})))]);case 1:return s.sent(),[2]}}))}))}))),e}return o(e,t),Object.defineProperty(e.prototype,"currentPosition",{get:function(){return this._currentPosition.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentPositionChanged",{get:function(){return this._currentPosition.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentHeading",{get:function(){return this._currentHeading.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentHeadingChanged",{get:function(){return this._currentHeading.changed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"processing",{get:function(){return this._processing},enumerable:!1,configurable:!0}),e.prototype.restart=function(t,e){this._processing.restart(void 0,t,e)},e.prototype.cancel=function(){this._processing.cancel()},e}(c.Destroyable);e.SmoothMoving=f},81153:function(t,e,n){"use strict";var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.createGeoBoudingSphereReactFromPositions=void 0;var o=n(81425),i=n(73559);e.createGeoBoudingSphereReactFromPositions=function(t){var e=r((0,o.getReactFuncs)(t),3),n=e[0],s=(e[1],e[2]),a=(0,o.react)(void 0),u=function(){var t,e=n();do{if(!e)break;var r=(0,i.getGeoBoundingSphereFromPositions)(e);if(!r)break;t=r}while(0);a.value=t};return u(),a.dispose(s.disposableOn(u)),a}},52830:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.createPenSplineEditingRef=void 0;var s=n(72256),a=n(81425),u=n(57770),c=function(t){function e(e,n,r,o,s){var c,l=this;l=t.call(this)||this;var p=i((0,a.getReactFuncs)(n),3),f=p[0],h=p[1],d=p[2],y=l.disposeVar(new u.GeoPenSplineEditor);return void 0!==s&&(y.maxPointsNum=s),y.vertexArray=null!==(c=f())&&void 0!==c?c:[],l.dispose(d.disposableOn((function(){var t;return y&&(y.vertexArray=null!==(t=f())&&void 0!==t?t:[])}))),l.dispose(y.vertexArrayChanged.disposableOn((function(){return h(null==y?void 0:y.vertexArray)}))),l.dispose((0,a.bind)([y,"enabled"],e)),r(y),l.dispose((function(){return o(y)})),l}return o(e,t),e}(a.Destroyable);e.createPenSplineEditingRef=function(t,e,n,r){var o=(0,a.react)(!1);return o.disposeVar(new s.ObjResettingWithEvent(o.changed,(function(){if(o.value)return new c(o,t,e,n,r)}))),o}},33363:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createPenSplineEditingRefForComponent=void 0;var r=n(52830);e.createPenSplineEditingRefForComponent=function(t,e,n){return(0,r.createPenSplineEditingRef)(t,(function(t){return e.add(t)}),(function(t){return e.delete(t)}),n)}},59615:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.createPositionEditingRef=void 0;var s=n(81425),a=n(31298),u=n(6018);e.createPositionEditingRef=function(t,e,n){var r=i((0,s.getReactFuncs)(t),3),c=r[0],l=r[1],p=r[2],f=(0,s.react)(!1),h=f.disposeVar((0,s.react)(!1));f._pickingRef=h;var d=function(t){function r(){var r=t.call(this)||this;h.value=!1,r.dispose((function(){return h.value=!1}));var o=r.disposeVar(new a.GeoCoordinatesEditorAndPicker);return o.position=c(),r.dispose(p.disposableOn((function(){return o&&(o.position=c())}))),r.dispose(o.positionChanged.disposableOn((function(){return l(null==o?void 0:o.position)}))),r.dispose((0,s.bind)([o,"enabled"],f)),r.dispose((0,s.track)(h,[o,"picking"])),e(o),r.dispose((function(){return n(o)})),r}return o(r,t),r}(s.Destroyable);return f.disposeVar(new u.ObjResettingWithEvent(f.changed,(function(){if(f.value)return new d}))),f}},2685:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createPositionEditingRefForComponent=void 0;var r=n(59615);e.createPositionEditingRefForComponent=function(t,e){return(0,r.createPositionEditingRef)(t,(function(t){return e.add(t)}),(function(t){return e.delete(t)}))}},80821:function(t,e,n){"use strict";var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.createPositionsEditingRef=void 0;var o=n(81425),i=n(57770);e.createPositionsEditingRef=function(t,e,n,s,a){var u,c=r((0,o.getReactFuncs)(t),3),l=c[0],p=c[1],f=c[2],h=(0,o.react)(!1),d=function(){u&&(s(u),u.destroy(),u=void 0)};h.dispose(d);var y=function(){d(),h.value&&(u=new i.GeoPolylineEditor,void 0!==a&&(u.maxPointsNum=a),u.resetPositions(l()),u.dispose(f.disposableOn((function(){return u&&!u.enabled&&u.resetPositions(l())}))),u.dispose(u.positionsChanged.disposableOn((function(){return p(null==u?void 0:u.getPositions())}))),u.dispose((0,o.bind)([u,"enabled"],h)),e&&("boolean"==typeof e?u.loop=e:u.dispose((0,o.bind)([u,"loop"],e))),n(u))};return y(),h.dispose(h.changed.disposableOn(y)),h}},82801:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createPositionsEditingRefForComponent=void 0;var r=n(80821);e.createPositionsEditingRefForComponent=function(t,e,n,o){return(0,r.createPositionsEditingRef)(t,e,(function(t){return n.add(t)}),(function(t){return n.delete(t)}),o)}},62290:function(t,e,n){"use strict";var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.geoArea=void 0;var s=i(n(41070)),a=n(84102);e.geoArea=function(t){var e=(0,a.polygon)([o(o([],r(t),!1),[t[0]],!1)]);return(0,s.default)(e)}},71512:function(t,e,n){"use strict";var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.geoCenterOfMass=void 0;var s=i(n(25084)),a=n(84102);e.geoCenterOfMass=function(t){var e,n,i=(0,a.polygon)([o(o([],r(t),!1),[t[0]],!1)]),u=(0,s.default)(i).geometry.coordinates;return[u[0],u[1],null!==(n=null!==(e=u[2])&&void 0!==e?e:t[0][2])&&void 0!==n?n:0]}},83720:function(t,e,n){"use strict";var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.bezierSpline3D=void 0;var i=o(n(86088)),s=n(12222);e.bezierSpline3D=function(t,e){void 0===e&&(e={});for(var n=e.resolution||1e3,o=e.sharpness||.85,a=[],u=t.map((function(t){var e=r((0,s.lbhToXyz)(t),3);return{x:e[0],y:e[1],z:e[2]}})),c=new i.default({duration:n,points:u,sharpness:o}),l=function(t){var e=c.pos(t),n=(0,s.xyzToLbh)([e.x,e.y,e.z]);a.push(n)},p=0;p<c.duration;p+=10)l(p);return l(c.duration),a}},84508:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.geoPolylineToBezierSpline=void 0;var r=n(83720);e.geoPolylineToBezierSpline=function(t,e,n){return(0,r.bezierSpline3D)(t,{resolution:e,sharpness:n})}},56714:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDistancesFromPositions=e.cartesianDistance=void 0;var r=n(12222),o=n(11560),i=n(61158);function s(t,e){var n=(0,r.lbhToXyz)(t),o=(0,r.lbhToXyz)(e);return i.Vector.distance(n,o)}e.cartesianDistance=s,e.getDistancesFromPositions=function(t,e){for(var n=[],r=t.length,i=0,a=0;a<r-1;++a){if(void 0===e||"GEODESIC"===e){var u=(0,o.geoDistance)(t[a],t[a+1]);0===(c=Math.abs(t[a][2]-t[a+1][2]))?i+=u:i+=Math.sqrt(u*u+c*c)}else if("RHUMB"===e){var c;u=(0,o.geoRhumbDistance)(t[a],t[a+1]),0===(c=Math.abs(t[a][2]-t[a+1][2]))?i+=u:i+=Math.sqrt(u*u+c*c)}else"NONE"===e?i+=s(t[a],t[a+1]):console.warn("未知的arcType: ".concat(e,"，导致距离无法计算！"));n.push(i)}return n}},73559:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getGeoBoundingSphereFromPositions=void 0;var r=n(96308),o=n(11560);e.getGeoBoundingSphereFromPositions=function(t){var e=(0,r.getMinMaxCorner)(t),n=e.minPos,i=e.maxPos,s=e.center;if(!n.some((function(t){return!Number.isFinite(t)||i.some((function(t){return!Number.isFinite(t)}))||s.some((function(t){return!Number.isFinite(t)}))}))){var a=.5*(0,o.geoDistance)(n,i);return{center:s,radius:a}}console.warn("geoCenterAndRadiusFromPositions error: minPos.some(e => !Number.isFinite(e) || maxPos.some(e => !Number.isFinite(e)) || center.some(e => !Number.isFinite(e))")}},96308:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMinMaxCorner=void 0;var r=n(81425);e.getMinMaxCorner=function(t){var e=(0,r.min)((0,r.objsIterator)(t,["0"])),n=(0,r.min)((0,r.objsIterator)(t,["1"])),o=(0,r.min)((0,r.objsIterator)(t,["2"])),i=(0,r.max)((0,r.objsIterator)(t,["0"])),s=(0,r.max)((0,r.objsIterator)(t,["1"])),a=(0,r.max)((0,r.objsIterator)(t,["2"]));return{minPos:[e,n,o],maxPos:[i,s,a],center:[.5*(e+i),.5*(n+s),.5*(o+a)]}}},86300:function(t,e,n){"use strict";var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.getXyzFromPostion=void 0;var i=n(1245),s=n(81425),a=n(61158);e.getXyzFromPostion=function(t){var e="__getXyzFromPostion",n=(0,s.getExtProp)(t,e);return n&&a.Vector.equals(n[0],t)||(n=[o([],r(t),!1),(0,i.lbhToXyz)(t)],(0,s.setExtProp)(t,e,n)),n[1]}},1245:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),o(n(59615),e),o(n(2685),e),o(n(80821),e),o(n(82801),e),o(n(62290),e),o(n(71512),e),o(n(84508),e),o(n(56714),e),o(n(96308),e),o(n(86300),e),o(n(1245),e),o(n(12222),e),o(n(60769),e),o(n(11560),e),o(n(8015),e),o(n(52830),e),o(n(33363),e),o(n(94008),e),o(n(97764),e),o(n(87690),e),o(n(30413),e),o(n(85768),e),o(n(25278),e),o(n(73559),e),o(n(81153),e),o(n(28340),e),o(n(45852),e),o(n(17927),e),o(n(10248),e),o(n(73264),e),o(n(32283),e),o(n(69858),e)},28340:function(t,e){"use strict";var n=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.lbhAddInMeters=void 0;var r=6378137*Math.PI/180,o=1/r;e.lbhAddInMeters=function(t,e){var i=n(t,3),s=i[0],a=i[1],u=i[2],c=e;return[s+1/(r*Math.cos(a*Math.PI/180))*c[0],a+o*c[1],u+c[2]]}},12222:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.webMercToLbh=e.lbhToWebMerc=e.xyzToLbh=e.lbhToXyz=void 0;var o=r(n(24472)),i=(0,o.default)("+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees","+proj=geocent +datum=WGS84");e.lbhToXyz=function(t){return i.forward(t)},e.xyzToLbh=function(t){return i.inverse(t)};var s=(0,o.default)("+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees","+proj=merc +a=6378137 +b=6378137 +lat_ts=0 +lon_0=0 +x_0=0 +y_0=0 +k=1 +units=m +nadgrids=@null +wktext +no_defs +type=crs");e.lbhToWebMerc=function(t){var e=s.forward([t[0],t[1]]);return[e[0],e[1],t[2]]},e.webMercToLbh=function(t){var e=s.inverse([t[0],t[1]]);return[e[0],e[1],t[2]]}},10248:(t,e)=>{"use strict";function n(t){var e=t%360;return e<0?360+e:e}function r(t){return n(t+180)-180}Object.defineProperty(e,"__esModule",{value:!0}),e.lerpAngle=e.clampN180_180=e.clamp0_360=void 0,e.clamp0_360=n,e.clampN180_180=r,e.lerpAngle=function(t,e,o){var i=n(t),s=n(e);return Math.abs(i-s)>180&&(i<s?i+=360:s+=360),r(i*(1-o)+s*o)}},85768:function(t,e,n){"use strict";var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.setThumbnailList=e.setFuncBtn=e.defaultCssText=e.equalsN3=e.map=void 0;var o=n(31298);e.map=function(t,e){var n,o,i=new Array;try{for(var s=r(t),a=s.next();!a.done;a=s.next()){var u=a.value;i.push(e(u))}}catch(t){n={error:t}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}return i},e.equalsN3=function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},e.defaultCssText="position: absolute;\nleft: 50%;\nbottom: 50px;\ntransform: translate(-50% , 0);\nz-index: 100;\nwidth:560px;\nheight:auto;\nbackground-color:rgba(0, 33, 43,0.6);\npadding: 10px;\nborder-radius: 8px;\n",e.setFuncBtn=function(t,e){var n,i,s,a,u=[{title:"添加视角",content:"+",func:function(){t.appendView()}},{title:"当前位置插入视角",content:"↓+",func:function(){t.insertView(t.currentViewIndex+1)}},{title:"是否播放",content:null!==(s=t.playing)&&void 0!==s&&s?"▼":"〓",func:function(){t.playing=!t.playing}},{title:"停止",content:"■",func:function(){t.stop()}},{title:"是否循环",content:null===(a=t.loop)||void 0===a||a?o.ViewCollection.defaults.loopOpen:o.ViewCollection.defaults.loopClose,func:function(){t.loop=!t.loop}},{title:"上一个视角",content:"↑",func:function(){t.flyToPrevView()}},{title:"下一个视角",content:"↓",func:function(){t.flyToNextView()}},{title:"删除当前视角",content:"-",func:function(){t.deleteCurrentView()}}],c=function(n){var r=document.createElement("span");if(e.appendChild(r),r.style.cssText+=";\n        width: 30px;\n        height: 30px;\n        line-height: 30px;\n        font-size: 18px;\n        cursor: pointer;\n        border-radius: 3px;\n        text-align: center;\n        background-color: #383838;\n        user-select: none;\n        color:#ffffff;\n        ","是否循环"===n.title){var i=document.createElement("span");r.appendChild(i),i.style.cssText+=";\n            display: block;\n            width: 20px;\n            height: 20px;\n            margin: 5px auto;\n            background: url(".concat(t.transitionImageUrl(n.content),") no-repeat;\n            background-size: 100% 100%;\n            ");var s=function(){var e,n=null===(e=t.loop)||void 0===e||e?o.ViewCollection.defaults.loopOpen:o.ViewCollection.defaults.loopClose;i.style.background="url(".concat(t.transitionImageUrl(n),") no-repeat"),i.style.backgroundSize="100% 100%"};s(),t.dispose(t.loopChanged.disposableOn(s))}else r.innerText=n.content;"是否播放"===n.title&&(r.style.transform="rotate(-90deg)",s=function(){var e,n=null!==(e=t.playing)&&void 0!==e&&e?"〓":"▼";r.innerText=n},s(),t.dispose(t.playingChanged.disposableOn(s))),"停止"===n.title&&(r.style.cssText+=";\n            line-height: 26px;\n            font-size: 24px;\n            "),r.title=n.title,r.addEventListener("click",(function(){"function"==typeof n.func&&n.func()})),r.addEventListener("mouseover",(function(){r.style.backgroundColor="#242424"})),r.addEventListener("mouseout",(function(){r.style.backgroundColor="#383838"}))};try{for(var l=r(u),p=l.next();!p.done;p=l.next())c(p.value)}catch(t){n={error:t}}finally{try{p&&!p.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}},e.setThumbnailList=function(t,e){var n=function(){e.innerHTML="",t.views.forEach((function(n,r){var o=document.createElement("div");e.appendChild(o),o.style.margin="0 20px 5px 20px",o.style.width="64px",o.style.height="64px";var i=document.createElement("img");o.appendChild(i);var s=e.querySelectorAll("div");t.currentViewIndex===r&&(s.forEach((function(t,e){t.style.border="none"})),o.style.border="2px solid red"),o.addEventListener("click",(function(){t.setCurrentView(r),s.forEach((function(t,e){t.style.border="none"})),r===t.currentViewIndex&&(o.style.border="2px solid red")})),o.addEventListener("dblclick",(function(){t.flyToView(r)})),n.thumbnail?i.src="".concat(n.thumbnail):o.style.backgroundColor="#e6e6e673"}))};n(),t.dispose(t.viewsChanged.disposableOn(n)),t.dispose(t.currentViewIndexChanged.disposableOn(n))}},30413:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerEventUpdate=void 0,e.registerEventUpdate=function(t,e,n){n(),t.dispose(e.disposableOn(n))}},54977:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.booleanPointInPolygon=void 0;var s=i(n(38347));e.booleanPointInPolygon=function(t,e){var n=s.point(e),r=s.polygon([t]);return s.booleanPointInPolygon(n,r)}},12670:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.geoAlong=void 0;var o=r(n(25913)),i=n(84102);e.geoAlong=function(t,e){var n=(0,i.lineString)(t);return(0,o.default)(n,e,{units:"meters"}).geometry.coordinates}},88738:function(t,e,n){"use strict";var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.geoDestination=void 0;var i=o(n(93737)),s=n(84102);e.geoDestination=function(t,e,n,o){var a=r(t,3),u=a[0],c=a[1],l=a[2],p=(0,i.default)((0,s.point)([u,c]),e,n,{units:"meters"});if(p&&p.geometry&&p.geometry.coordinates)return(o=o||[0,0,0])[0]=p.geometry.coordinates[0],o[1]=p.geometry.coordinates[1],o[2]=l,o}},80062:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.geoDistance=void 0;var o=r(n(31013)),i=n(84102);e.geoDistance=function(t,e){return(0,o.default)((0,i.point)(t),(0,i.point)(e),{units:"meters"})}},8798:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.geoHeading=void 0;var o=r(n(51208)),i=n(84102);e.geoHeading=function(t,e){return(0,o.default)((0,i.point)(t),(0,i.point)(e))}},22575:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.geoLineIntersect=void 0;var o=r(n(73663)),i=n(84102);e.geoLineIntersect=function(t,e){return(0,o.default)((0,i.lineString)(t),(0,i.lineString)(e))}},48709:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.geoNearestPointOnLine=void 0;var o=n(84102),i=r(n(13807));e.geoNearestPointOnLine=function(t,e){var n=(0,o.point)(e),r=(0,o.lineString)(t);return(0,i.default)(r,n,{units:"meters"})}},80732:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.geoPointToLineDistance=void 0;var o=n(84102),i=r(n(63892));e.geoPointToLineDistance=function(t,e){var n=(0,o.point)(t),r=(0,o.lineString)(e);return(0,i.default)(n,r,{units:"meters"})}},86386:function(t,e,n){"use strict";var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.geoRhumbDestination=void 0;var i=o(n(62054)),s=n(84102);e.geoRhumbDestination=function(t,e,n,o){var a=r(t,3),u=a[0],c=a[1],l=a[2],p=(0,i.default)((0,s.point)([u,c]),e,n,{units:"meters"});if(p&&p.geometry&&p.geometry.coordinates)return(o=o||[0,0,0])[0]=p.geometry.coordinates[0],o[1]=p.geometry.coordinates[1],o[2]=l,o}},29531:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.geoRhumbDistance=void 0;var o=r(n(6213)),i=n(84102);e.geoRhumbDistance=function(t,e){return(0,o.default)((0,i.point)(t),(0,i.point)(e),{units:"meters"})}},39725:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.geoRhumbHeading=void 0;var o=r(n(16912)),i=n(84102);e.geoRhumbHeading=function(t,e){return(0,o.default)((0,i.point)(t),(0,i.point)(e))}},56345:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.geoPolygonOverlap=e.geoPolygonFromCircle=e.geoDifference=e.geoBuffer=e.geoUnion=e.geoIntersect=void 0;var o=r(n(74170)),i=r(n(71959)),s=r(n(35419)),a=r(n(68727)),u=r(n(90265)),c=r(n(72584)),l=r(n(45184)),p=n(84102);e.geoIntersect=function(t,e){var n=(0,o.default)((0,p.polygon)([t]),(0,p.polygon)([e]));return n?n.geometry.coordinates:void 0},e.geoUnion=function(t,e){var n=(0,i.default)((0,p.polygon)([t]),(0,p.polygon)([e]));return n?n.geometry.coordinates:void 0},e.geoBuffer=function(t,e,n){void 0===e&&(e=500),void 0===n&&(n="meters");var r=(0,s.default)((0,p.lineString)(t),e,{units:n});return r?r.geometry.coordinates:void 0},e.geoDifference=function(t,e){var n=(0,a.default)((0,p.polygon)([t]),(0,p.polygon)([e]));return n?n.geometry.coordinates:void 0},e.geoPolygonFromCircle=function(t,e,n,r){void 0===n&&(n=10),void 0===r&&(r="meters");var o={steps:n,units:r};return(0,u.default)(t,e,o).geometry.coordinates},e.geoPolygonOverlap=function(t,e){var n=(0,p.polygon)([t]),r=(0,p.polygon)([e]);return(0,c.default)(n,r)?"oneBig":!!(0,l.default)(n,r)&&"twoBig"}},11560:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),o(n(88738),e),o(n(12670),e),o(n(80062),e),o(n(8798),e),o(n(22575),e),o(n(48709),e),o(n(80732),e),o(n(86386),e),o(n(29531),e),o(n(39725),e),o(n(54977),e),o(n(56345),e)},8015:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uniquePositions=void 0;var n=[];e.uniquePositions=function(t){if(t.length>1){n.length=0;var e=t.length,r=t[0];n.push(!0);for(var o=function(e){var o=t[e];r.every((function(t,e){return t===o[e]}))?n.push(!1):(n.push(!0),r=o)},i=1;i<e;++i)o(i);return n.every((function(t){return t}))?t:t.filter((function(t,e){return n[e]}))}return t}},17927:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.WebSocketJson=e.WebSocketRawWithReconnection=e.WebSocketRaw=void 0;var a=n(81425),u=n(72256),c=function(t){function e(e){var n=t.call(this)||this;n._wsUrl=e,n._messageEvent=n.disposeVar(new a.Event),n._errorEvent=n.disposeVar(new a.Event),n._closeEvent=n.disposeVar(new a.Event),n.debug=!1;var r=new WebSocket(n._wsUrl);return n._ws=r,n.dispose((function(){return r.close()})),r.onmessage=function(t){n.debug&&console.log("WebSocketHandler message (".concat(n._wsUrl,"): "),t),n._messageEvent.emit(t)},r.onerror=function(t){var e="WebSocketHandler error (".concat(n._wsUrl,")");console.error(e,t),n._errorEvent.emit(e)},r.onclose=function(t){console.log("WebSocketHandler close (".concat(n._wsUrl,")"),t),n._closeEvent.emit()},r.onopen=function(t){console.log("WebSocketHandler open (".concat(n._wsUrl,")"),t)},n.dispose((function(){return r.onmessage=null})),n.dispose((function(){return r.onerror=null})),n.dispose((function(){return r.onclose=null})),n.dispose((function(){return r.onopen=null})),n}return o(e,t),Object.defineProperty(e.prototype,"messageEvent",{get:function(){return this._messageEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"errorEvent",{get:function(){return this._errorEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"closeEvent",{get:function(){return this._closeEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ws",{get:function(){return this._ws},enumerable:!1,configurable:!0}),e.prototype.send=function(t){this._ws.send(t)},e}(a.Destroyable);e.WebSocketRaw=c;var l=function(t){function e(e,n,r,l){void 0===n&&(n=3e3),void 0===r&&(r=1e4),void 0===l&&(l=3e3);var p=t.call(this)||this;p._wsUrl=e,p._messageEvent=p.disposeVar(new a.Event),p._sendEvent=p.disposeVar(new a.Event),p._debug=p.disposeVar((0,a.react)(!1));var f=p,h=p._sendEvent,d=function(t){function e(e){var n=t.call(this)||this,o=n.disposeVar(new c(f._wsUrl));n.dispose(o.messageEvent.disposableOn((function(t){return f.messageEvent.emit(t)}))),n.dispose(f.debugChanged.disposableOn((function(t){return o.debug=t}))),n.dispose(o.errorEvent.disposableOn((function(){e()})));var i=Date.now();return n.dispose(o.messageEvent.disposableOn((function(){return i=Date.now()}))),r>0&&n.disposeVar((0,u.createInterval)()).start((function(){Date.now()-i>r&&(console.log("发现ws连接无消息已经".concat(r,"ms, 准备重连...")),e())}),l),n.dispose(h.disposableOn((function(t){o.send(t)}))),n}return o(e,t),e}(a.Destroyable);return p.disposeVar((0,u.createProcessingFromAsyncFunc)((function(t){return i(p,void 0,void 0,(function(){var e,r,o;return s(this,(function(i){switch(i.label){case 0:e=0,t.dispose((function(){return null==r?void 0:r.destroy()})),i.label=1;case 1:return console.log("ws(".concat(f._wsUrl,")正在连接...")),[4,t.promise(new Promise((function(t,e){r=new d(t)})))];case 2:return i.sent(),null==r||r.destroy(),r=void 0,o=Math.pow(2,e)*n,console.log("ws(".concat(f._wsUrl,")连接出现问题，等待").concat(o/1e3|0,"s后将重新连接(第").concat(e,"次)...")),[4,t.promise((0,u.sleep)(o))];case 3:i.sent(),++e,i.label=4;case 4:return[3,1];case 5:return[2]}}))}))}))).start(),p}return o(e,t),Object.defineProperty(e.prototype,"messageEvent",{get:function(){return this._messageEvent},enumerable:!1,configurable:!0}),e.prototype.send=function(t){this._sendEvent.emit(t)},Object.defineProperty(e.prototype,"debug",{get:function(){return this._debug.value},set:function(t){this._debug.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"debugChanged",{get:function(){return this._debug.changed},enumerable:!1,configurable:!0}),e}(a.Destroyable);e.WebSocketRawWithReconnection=l;var p=function(t){function e(e,n){void 0===n&&(n=1e4);var r=t.call(this)||this;return r._wsUrl=e,r._timeout=n,r._raw=r.disposeVar(new l(r._wsUrl,void 0,r._timeout)),r._messageJsonEvent=r.disposeVar(new a.Event),r.dispose(r._raw.messageEvent.disposableOn((function(t){try{var e=JSON.parse(t.data);r._messageJsonEvent.emit(e)}catch(t){console.error("WebSocketJson error (".concat(r._wsUrl,")"),t)}}))),r}return o(e,t),Object.defineProperty(e.prototype,"debug",{get:function(){return this._raw.debug},set:function(t){this._raw.debug=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"debugChanged",{get:function(){return this._raw.debugChanged},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"messageJsonEvent",{get:function(){return this._messageJsonEvent},enumerable:!1,configurable:!0}),e.prototype.send=function(t){this._raw.send(t)},e}(a.Destroyable);e.WebSocketJson=p},60929:t=>{"use strict";t.exports=Cesium},81425:t=>{"use strict";t.exports=XE2["xe2-base-utils"]},61158:t=>{"use strict";t.exports=XE2["xe2-math"]},72256:t=>{"use strict";t.exports=XE2["xe2-utils"]}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.j=87;var r=n(92730);(XE2=void 0===XE2?{}:XE2)["xe2-base-objects"]=r})();